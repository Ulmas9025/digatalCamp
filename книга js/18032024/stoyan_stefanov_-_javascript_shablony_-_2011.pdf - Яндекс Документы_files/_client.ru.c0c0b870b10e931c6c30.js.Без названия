__i18n__={i18n:{}},__i18n__.i18n.convert=function(e,t){var n=e.length;if(4==n&&1==t)return e[0];var r=t%100,i=t%10,o=2;return r>10&&r<=20?o=2:1==i?o=0:i>1&&i<5&&(o=1),4==n&&o++,e[o]},__i18n__.i18n.if=function(e,t,n){return e?t:n},__i18n__.i18n.index=function(e,t){return e[+t]},__i18n__.i18n.plural=function(e,t,n){return e>1?t:n},(function(e){function t(t){for(var n,r,o=t[0],a=t[1],s=0,u=[];s<o.length;s++)r=o[s],i[r]&&u.push(i[r][0]),i[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={4:0},i={4:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{0:1,1:1,2:1,5:1,9:1,11:1,12:1,13:1}[e]&&t.push(r[e]=new Promise(function(t,n){for(var i="_"+({0:"album2~photo2~remember-block",1:"album2~photo2",2:"album2",3:"albums2",5:"fotki-info-dialog",6:"grid-10",7:"grid-12",8:"grid-6",9:"listing",11:"photo2",12:"remember-block",13:"version-dialog"}[e]||e)+".ru."+{0:"83bac46a29adea7c7a6c",1:"65d5003ad67d249494c0",2:"9ec659bc989056ef15d4",3:"31d6cfe0d16ae931b73c",5:"044c5985d17b28ed64e6",6:"31d6cfe0d16ae931b73c",7:"31d6cfe0d16ae931b73c",8:"31d6cfe0d16ae931b73c",9:"bcf16290841ba81baed6",11:"9807e6911ba2e511fb12",12:"42ab7752449b0d32df05",13:"3563d5f4b2fba635bb23"}[e]+".css",a=o.p+i,s=document.getElementsByTagName("link"),u=0;u<s.length;u++){var c=(d=s[u]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===i||c===a))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){var d;if((c=(d=l[u]).getAttribute("data-href"))===i||c===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var i=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.request=i,delete r[e],f.parentNode.removeChild(f),n(o)},f.href=a,document.getElementsByTagName("head")[0].appendChild(f)}).then((function(){r[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=a);var s,u=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=(function(e){return o.p+"_"+({0:"album2~photo2~remember-block",1:"album2~photo2",2:"album2",3:"albums2",5:"fotki-info-dialog",6:"grid-10",7:"grid-12",8:"grid-6",9:"listing",11:"photo2",12:"remember-block",13:"version-dialog"}[e]||e)+".ru."+{0:"1bffb7d2caa2af3b4db5",1:"70bdc7363e34047dd23d",2:"d6da4b78005e90d7f7eb",3:"a5179e472f3371d59522",5:"c3dad94c169c70a4090f",6:"0f68b83f64bfeae7a667",7:"d672638b1f8de0e554b0",8:"99507a8cff13fee1a636",9:"2ef21920e3b87de846c8",11:"748700ce85ac697c65dc",12:"6522cfdf2655949e43ea",13:"2f50e4b7fb9d590d1319"}[e]+".js"})(e),s=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");a.type=r,a.request=o,n[1](a)}i[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,u.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/s3/disk/_/",o.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var c=s;o(o.s=2390)})([(function(e,t){e.exports=React}),(function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return m})),n.d(t,"__spread",(function(){return v})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__spreadArray",(function(){return y})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return O})),n.d(t,"__asyncValues",(function(){return E})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return x})),n.d(t,"__classPrivateFieldGet",(function(){return T})),n.d(t,"__classPrivateFieldSet",(function(){return P}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{!(function(e){e.value instanceof b?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)})(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function O(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)})}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return S(t,e),t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function P(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}}),(function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";e.exports=n(634)}),(function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(622);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(140).default,i=n(8);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",p=1,h=2,m=4,v=1,g=2,y=1,b=2,_=4,O=8,E=16,w=32,S=64,C=128,x=256,T=512,P=30,k="...",j=800,R=16,I=1,A=2,D=1/0,M=9007199254740991,N=1.7976931348623157e308,L=NaN,F=4294967295,B=F-1,U=F>>>1,z=[["ary",C],["bind",y],["bindKey",b],["curry",O],["curryRight",E],["flip",T],["partial",w],["partialRight",S],["rearg",x]],V="[object Arguments]",H="[object Array]",W="[object AsyncFunction]",$="[object Boolean]",G="[object Date]",q="[object DOMException]",Y="[object Error]",K="[object Function]",J="[object GeneratorFunction]",Z="[object Map]",X="[object Number]",Q="[object Null]",ee="[object Object]",te="[object Proxy]",ne="[object RegExp]",re="[object Set]",ie="[object String]",oe="[object Symbol]",ae="[object Undefined]",se="[object WeakMap]",ue="[object WeakSet]",ce="[object ArrayBuffer]",le="[object DataView]",de="[object Float32Array]",fe="[object Float64Array]",pe="[object Int8Array]",he="[object Int16Array]",me="[object Int32Array]",ve="[object Uint8Array]",ge="[object Uint8ClampedArray]",ye="[object Uint16Array]",be="[object Uint32Array]",_e=/\b__p \+= '';/g,Oe=/\b(__p \+=) '' \+/g,Ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Ce=RegExp(we.source),xe=RegExp(Se.source),Te=/<%-([\s\S]+?)%>/g,Pe=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Re=/^\w*$/,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,De=RegExp(Ae.source),Me=/^\s+/,Ne=/\s/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/[()=,{}\[\]\/\s]/,Ve=/\\(\\)?/g,He=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,$e=/^[-+]0x[0-9a-f]+$/i,Ge=/^0b[01]+$/i,qe=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,Xe=/['\n\r\u2028\u2029\\]/g,Qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",et="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tt="[\\ud800-\\udfff]",nt="["+et+"]",rt="["+Qe+"]",it="\\d+",ot="[\\u2700-\\u27bf]",at="[a-z\\xdf-\\xf6\\xf8-\\xff]",st="[^\\ud800-\\udfff"+et+it+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ut="\\ud83c[\\udffb-\\udfff]",ct="[^\\ud800-\\udfff]",lt="(?:\\ud83c[\\udde6-\\uddff]){2}",dt="[\\ud800-\\udbff][\\udc00-\\udfff]",ft="[A-Z\\xc0-\\xd6\\xd8-\\xde]",pt="(?:"+at+"|"+st+")",ht="(?:"+ft+"|"+st+")",mt="(?:"+rt+"|"+ut+")"+"?",vt="[\\ufe0e\\ufe0f]?"+mt+("(?:\\u200d(?:"+[ct,lt,dt].join("|")+")[\\ufe0e\\ufe0f]?"+mt+")*"),gt="(?:"+[ot,lt,dt].join("|")+")"+vt,yt="(?:"+[ct+rt+"?",rt,lt,dt,tt].join("|")+")",bt=RegExp("['’]","g"),_t=RegExp(rt,"g"),Ot=RegExp(ut+"(?="+ut+")|"+yt+vt,"g"),Et=RegExp([ft+"?"+at+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[nt,ft,"$"].join("|")+")",ht+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[nt,ft+pt,"$"].join("|")+")",ft+"?"+pt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ft+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",it,gt].join("|"),"g"),wt=RegExp("[\\u200d\\ud800-\\udfff"+Qe+"\\ufe0e\\ufe0f]"),St=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ct=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xt=-1,Tt={};Tt[de]=Tt[fe]=Tt[pe]=Tt[he]=Tt[me]=Tt[ve]=Tt[ge]=Tt[ye]=Tt[be]=!0,Tt[V]=Tt[H]=Tt[ce]=Tt[$]=Tt[le]=Tt[G]=Tt[Y]=Tt[K]=Tt[Z]=Tt[X]=Tt[ee]=Tt[ne]=Tt[re]=Tt[ie]=Tt[se]=!1;var Pt={};Pt[V]=Pt[H]=Pt[ce]=Pt[le]=Pt[$]=Pt[G]=Pt[de]=Pt[fe]=Pt[pe]=Pt[he]=Pt[me]=Pt[Z]=Pt[X]=Pt[ee]=Pt[ne]=Pt[re]=Pt[ie]=Pt[oe]=Pt[ve]=Pt[ge]=Pt[ye]=Pt[be]=!0,Pt[Y]=Pt[K]=Pt[se]=!1;var kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jt=parseFloat,Rt=parseInt,It="object"==typeof e&&e&&e.Object===Object&&e,At="object"==typeof self&&self&&self.Object===Object&&self,Dt=It||At||Function("return this")(),Mt=t&&!t.nodeType&&t,Nt=Mt&&"object"==typeof r&&r&&!r.nodeType&&r,Lt=Nt&&Nt.exports===Mt,Ft=Lt&&It.process,Bt=(function(){try{var e=Nt&&Nt.require&&Nt.require("util").types;return e||Ft&&Ft.binding&&Ft.binding("util")}catch(e){}})(),Ut=Bt&&Bt.isArrayBuffer,zt=Bt&&Bt.isDate,Vt=Bt&&Bt.isMap,Ht=Bt&&Bt.isRegExp,Wt=Bt&&Bt.isSet,$t=Bt&&Bt.isTypedArray;function Gt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function qt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Zt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Xt(e,t){return!!(null==e?0:e.length)&&cn(e,t,0)>-1}function Qt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function en(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function tn(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function nn(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function rn(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function on(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var an=pn("length");function sn(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function un(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function cn(e,t,n){return t==t?(function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1})(e,t,n):un(e,dn,n)}function ln(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function dn(e){return e!=e}function fn(e,t){var n=null==e?0:e.length;return n?vn(e,t)/n:L}function pn(e){return function(t){return null==t?o:t[e]}}function hn(e){return function(t){return null==e?o:e[t]}}function mn(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function vn(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function gn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function yn(e){return e?e.slice(0,Mn(e)+1).replace(Me,""):e}function bn(e){return function(t){return e(t)}}function _n(e,t){return en(t,(function(t){return e[t]}))}function On(e,t){return e.has(t)}function En(e,t){for(var n=-1,r=e.length;++n<r&&cn(t,e[n],0)>-1;);return n}function wn(e,t){for(var n=e.length;n--&&cn(t,e[n],0)>-1;);return n}var Sn=hn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Cn=hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xn(e){return"\\"+kt[e]}function Tn(e){return wt.test(e)}function Pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function kn(e,t){return function(n){return e(t(n))}}function jn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==f||(e[n]=f,o[i++]=n)}return o}function Rn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function In(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function An(e){return Tn(e)?(function(e){var t=Ot.lastIndex=0;for(;Ot.test(e);)++t;return t})(e):an(e)}function Dn(e){return Tn(e)?(function(e){return e.match(Ot)||[]})(e):(function(e){return e.split("")})(e)}function Mn(e){for(var t=e.length;t--&&Ne.test(e.charAt(t)););return t}var Nn=hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ln=(function e(t){var n=(t=null==t?Dt:Ln.defaults(Dt.Object(),t,Ln.pick(Dt,Ct))).Array,r=t.Date,i=t.Error,Ne=t.Function,Qe=t.Math,et=t.Object,tt=t.RegExp,nt=t.String,rt=t.TypeError,it=n.prototype,ot=Ne.prototype,at=et.prototype,st=t["__core-js_shared__"],ut=ot.toString,ct=at.hasOwnProperty,lt=0,dt=(function(){var e=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),ft=at.toString,pt=ut.call(et),ht=Dt._,mt=tt("^"+ut.call(ct).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=Lt?t.Buffer:o,gt=t.Symbol,yt=t.Uint8Array,Ot=vt?vt.allocUnsafe:o,wt=kn(et.getPrototypeOf,et),kt=et.create,It=at.propertyIsEnumerable,At=it.splice,Mt=gt?gt.isConcatSpreadable:o,Nt=gt?gt.iterator:o,Ft=gt?gt.toStringTag:o,Bt=(function(){try{var e=Uo(et,"defineProperty");return e({},"",{}),e}catch(e){}})(),an=t.clearTimeout!==Dt.clearTimeout&&t.clearTimeout,hn=r&&r.now!==Dt.Date.now&&r.now,Fn=t.setTimeout!==Dt.setTimeout&&t.setTimeout,Bn=Qe.ceil,Un=Qe.floor,zn=et.getOwnPropertySymbols,Vn=vt?vt.isBuffer:o,Hn=t.isFinite,Wn=it.join,$n=kn(et.keys,et),Gn=Qe.max,qn=Qe.min,Yn=r.now,Kn=t.parseInt,Jn=Qe.random,Zn=it.reverse,Xn=Uo(t,"DataView"),Qn=Uo(t,"Map"),er=Uo(t,"Promise"),tr=Uo(t,"Set"),nr=Uo(t,"WeakMap"),rr=Uo(et,"create"),ir=nr&&new nr,or={},ar=fa(Xn),sr=fa(Qn),ur=fa(er),cr=fa(tr),lr=fa(nr),dr=gt?gt.prototype:o,fr=dr?dr.valueOf:o,pr=dr?dr.toString:o;function hr(e){if(ks(e)&&!ys(e)&&!(e instanceof yr)){if(e instanceof gr)return e;if(ct.call(e,"__wrapped__"))return pa(e)}return new gr(e)}var mr=(function(){function e(){}return function(t){if(!Ps(t))return{};if(kt)return kt(t);e.prototype=t;var n=new e;return e.prototype=o,n}})();function vr(){}function gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function yr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function br(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Or(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Er(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Or;++t<n;)this.add(e[t])}function wr(e){var t=this.__data__=new _r(e);this.size=t.size}function Sr(e,t){var n=ys(e),r=!n&&gs(e),i=!n&&!r&&Es(e),o=!n&&!r&&!i&&Ls(e),a=n||r||i||o,s=a?gn(e.length,nt):[],u=s.length;for(var c in e)!t&&!ct.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qo(c,u))||s.push(c);return s}function Cr(e){var t=e.length;return t?e[Ei(0,t-1)]:o}function xr(e,t){return ca(ro(e),Mr(t,0,e.length))}function Tr(e){return ca(ro(e))}function Pr(e,t,n){(n===o||hs(e[t],n))&&(n!==o||t in e)||Ar(e,t,n)}function kr(e,t,n){var r=e[t];ct.call(e,t)&&hs(r,n)&&(n!==o||t in e)||Ar(e,t,n)}function jr(e,t){for(var n=e.length;n--;)if(hs(e[n][0],t))return n;return-1}function Rr(e,t,n,r){return Ur(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Ir(e,t){return e&&io(t,ou(t),e)}function Ar(e,t,n){"__proto__"==t&&Bt?Bt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Dr(e,t){for(var r=-1,i=t.length,a=n(i),s=null==e;++r<i;)a[r]=s?o:eu(e,t[r]);return a}function Mr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Nr(e,t,n,r,i,a){var s,u=t&p,c=t&h,l=t&m;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!Ps(e))return e;var d=ys(e);if(d){if(s=(function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ct.call(e,"index")&&(n.index=e.index,n.input=e.input),n})(e),!u)return ro(e,s)}else{var f=Ho(e),v=f==K||f==J;if(Es(e))return Zi(e,u);if(f==ee||f==V||v&&!i){if(s=c||v?{}:$o(e),!u)return c?(function(e,t){return io(e,Vo(e),t)})(e,(function(e,t){return e&&io(t,au(t),e)})(s,e)):(function(e,t){return io(e,zo(e),t)})(e,Ir(s,e))}else{if(!Pt[f])return i?e:{};s=(function(e,t,n){var r=e.constructor;switch(t){case ce:return Xi(e);case $:case G:return new r(+e);case le:return (function(e,t){var n=t?Xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)})(e,n);case de:case fe:case pe:case he:case me:case ve:case ge:case ye:case be:return Qi(e,n);case Z:return new r;case X:case ie:return new r(e);case ne:return (function(e){var t=new e.constructor(e.source,We.exec(e));return t.lastIndex=e.lastIndex,t})(e);case re:return new r;case oe:return (function(e){return fr?et(fr.call(e)):{}})(e)}})(e,f,u)}}a||(a=new wr);var g=a.get(e);if(g)return g;a.set(e,s),Ds(e)?e.forEach((function(r){s.add(Nr(r,t,n,r,e,a))})):js(e)&&e.forEach((function(r,i){s.set(i,Nr(r,t,n,i,e,a))}));var y=d?o:(l?c?Ao:Io:c?au:ou)(e);return Yt(y||e,(function(r,i){y&&(r=e[i=r]),kr(s,i,Nr(r,t,n,i,e,a))})),s}function Lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=et(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function Fr(e,t,n){if("function"!=typeof e)throw new rt(u);return oa((function(){e.apply(o,n)}),t)}function Br(e,t,n,r){var i=-1,o=Xt,s=!0,u=e.length,c=[],l=t.length;if(!u)return c;n&&(t=en(t,bn(n))),r?(o=Qt,s=!1):t.length>=a&&(o=On,s=!1,t=new Er(t));e:for(;++i<u;){var d=e[i],f=null==n?d:n(d);if(d=r||0!==d?d:0,s&&f==f){for(var p=l;p--;)if(t[p]===f)continue e;c.push(d)}else o(t,f,r)||c.push(d)}return c}hr.templateSettings={escape:Te,evaluate:Pe,interpolate:ke,variable:"",imports:{_:hr}},hr.prototype=vr.prototype,hr.prototype.constructor=hr,gr.prototype=mr(vr.prototype),gr.prototype.constructor=gr,yr.prototype=mr(vr.prototype),yr.prototype.constructor=yr,br.prototype.clear=function(){this.__data__=rr?rr(null):{},this.size=0},br.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},br.prototype.get=function(e){var t=this.__data__;if(rr){var n=t[e];return n===l?o:n}return ct.call(t,e)?t[e]:o},br.prototype.has=function(e){var t=this.__data__;return rr?t[e]!==o:ct.call(t,e)},br.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rr&&t===o?l:t,this},_r.prototype.clear=function(){this.__data__=[],this.size=0},_r.prototype.delete=function(e){var t=this.__data__,n=jr(t,e);return!(n<0||(n==t.length-1?t.pop():At.call(t,n,1),--this.size,0))},_r.prototype.get=function(e){var t=this.__data__,n=jr(t,e);return n<0?o:t[n][1]},_r.prototype.has=function(e){return jr(this.__data__,e)>-1},_r.prototype.set=function(e,t){var n=this.__data__,r=jr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Or.prototype.clear=function(){this.size=0,this.__data__={hash:new br,map:new(Qn||_r),string:new br}},Or.prototype.delete=function(e){var t=Fo(this,e).delete(e);return this.size-=t?1:0,t},Or.prototype.get=function(e){return Fo(this,e).get(e)},Or.prototype.has=function(e){return Fo(this,e).has(e)},Or.prototype.set=function(e,t){var n=Fo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Er.prototype.add=Er.prototype.push=function(e){return this.__data__.set(e,l),this},Er.prototype.has=function(e){return this.__data__.has(e)},wr.prototype.clear=function(){this.__data__=new _r,this.size=0},wr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},wr.prototype.get=function(e){return this.__data__.get(e)},wr.prototype.has=function(e){return this.__data__.has(e)},wr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _r){var r=n.__data__;if(!Qn||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Or(r)}return n.set(e,t),this.size=n.size,this};var Ur=so(Yr),zr=so(Kr,!0);function Vr(e,t){var n=!0;return Ur(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Hr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(u===o?s==s&&!Ns(s):n(s,u)))var u=s,c=a}return c}function Wr(e,t){var n=[];return Ur(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function $r(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Go),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?$r(s,t-1,n,r,i):tn(i,s):r||(i[i.length]=s)}return i}var Gr=uo(),qr=uo(!0);function Yr(e,t){return e&&Gr(e,t,ou)}function Kr(e,t){return e&&qr(e,t,ou)}function Jr(e,t){return Zt(t,(function(t){return Cs(e[t])}))}function Zr(e,t){for(var n=0,r=(t=qi(t,e)).length;null!=e&&n<r;)e=e[da(t[n++])];return n&&n==r?e:o}function Xr(e,t,n){var r=t(e);return ys(e)?r:tn(r,n(e))}function Qr(e){return null==e?e===o?ae:Q:Ft&&Ft in et(e)?(function(e){var t=ct.call(e,Ft),n=e[Ft];try{e[Ft]=o;var r=!0}catch(e){}var i=ft.call(e);return r&&(t?e[Ft]=n:delete e[Ft]),i})(e):(function(e){return ft.call(e)})(e)}function ei(e,t){return e>t}function ti(e,t){return null!=e&&ct.call(e,t)}function ni(e,t){return null!=e&&t in et(e)}function ri(e,t,r){for(var i=r?Qt:Xt,a=e[0].length,s=e.length,u=s,c=n(s),l=1/0,d=[];u--;){var f=e[u];u&&t&&(f=en(f,bn(t))),l=qn(f.length,l),c[u]=!r&&(t||a>=120&&f.length>=120)?new Er(u&&f):o}f=e[0];var p=-1,h=c[0];e:for(;++p<a&&d.length<l;){var m=f[p],v=t?t(m):m;if(m=r||0!==m?m:0,!(h?On(h,v):i(d,v,r))){for(u=s;--u;){var g=c[u];if(!(g?On(g,v):i(e[u],v,r)))continue e}h&&h.push(v),d.push(m)}}return d}function ii(e,t,n){var r=null==(e=na(e,t=qi(t,e)))?e:e[da(Sa(t))];return null==r?o:Gt(r,e,n)}function oi(e){return ks(e)&&Qr(e)==V}function ai(e,t,n,r,i){return e===t||(null==e||null==t||!ks(e)&&!ks(t)?e!=e&&t!=t:(function(e,t,n,r,i,a){var s=ys(e),u=ys(t),c=s?H:Ho(e),l=u?H:Ho(t),d=(c=c==V?ee:c)==ee,f=(l=l==V?ee:l)==ee,p=c==l;if(p&&Es(e)){if(!Es(t))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new wr),s||Ls(e)?jo(e,t,n,r,i,a):(function(e,t,n,r,i,o,a){switch(n){case le:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ce:return!(e.byteLength!=t.byteLength||!o(new yt(e),new yt(t)));case $:case G:case X:return hs(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case ne:case ie:return e==t+"";case Z:var s=Pn;case re:var u=r&v;if(s||(s=Rn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=g,a.set(e,t);var l=jo(s(e),s(t),r,i,o,a);return a.delete(e),l;case oe:if(fr)return fr.call(e)==fr.call(t)}return!1})(e,t,c,n,r,i,a);if(!(n&v)){var h=d&&ct.call(e,"__wrapped__"),m=f&&ct.call(t,"__wrapped__");if(h||m){var y=h?e.value():e,b=m?t.value():t;return a||(a=new wr),i(y,b,n,r,a)}}return!!p&&(a||(a=new wr),(function(e,t,n,r,i,a){var s=n&v,u=Io(e),c=u.length,l=Io(t).length;if(c!=l&&!s)return!1;for(var d=c;d--;){var f=u[d];if(!(s?f in t:ct.call(t,f)))return!1}var p=a.get(e),h=a.get(t);if(p&&h)return p==t&&h==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=s;++d<c;){f=u[d];var y=e[f],b=t[f];if(r)var _=s?r(b,y,f,t,e,a):r(y,b,f,e,t,a);if(!(_===o?y===b||i(y,b,n,r,a):_)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var O=e.constructor,E=t.constructor;O!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof O&&O instanceof O&&"function"==typeof E&&E instanceof E)&&(m=!1)}return a.delete(e),a.delete(t),m})(e,t,n,r,i,a))})(e,t,n,r,ai,i))}function si(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=et(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var c=(u=n[i])[0],l=e[c],d=u[1];if(s&&u[2]){if(l===o&&!(c in e))return!1}else{var f=new wr;if(r)var p=r(l,d,c,e,t,f);if(!(p===o?ai(d,l,v|g,r,f):p))return!1}}return!0}function ui(e){return!(!Ps(e)||(function(e){return!!dt&&dt in e})(e))&&(Cs(e)?mt:qe).test(fa(e))}function ci(e){return"function"==typeof e?e:null==e?Ru:"object"==typeof e?ys(e)?mi(e[0],e[1]):hi(e):Uu(e)}function li(e){if(!Xo(e))return $n(e);var t=[];for(var n in et(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function di(e){if(!Ps(e))return (function(e){var t=[];if(null!=e)for(var n in et(e))t.push(n);return t})(e);var t=Xo(e),n=[];for(var r in e)("constructor"!=r||!t&&ct.call(e,r))&&n.push(r);return n}function fi(e,t){return e<t}function pi(e,t){var r=-1,i=_s(e)?n(e.length):[];return Ur(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function hi(e){var t=Bo(e);return 1==t.length&&t[0][2]?ea(t[0][0],t[0][1]):function(n){return n===e||si(n,e,t)}}function mi(e,t){return Ko(e)&&Qo(t)?ea(da(e),t):function(n){var r=eu(n,e);return r===o&&r===t?tu(n,e):ai(t,r,v|g)}}function vi(e,t,n,r,i){e!==t&&Gr(t,(function(a,s){if(i||(i=new wr),Ps(a))!(function(e,t,n,r,i,a,s){var u=ra(e,n),c=ra(t,n),l=s.get(c);if(l)Pr(e,n,l);else{var d=a?a(u,c,n+"",e,t,s):o,f=d===o;if(f){var p=ys(c),h=!p&&Es(c),m=!p&&!h&&Ls(c);d=c,p||h||m?ys(u)?d=u:Os(u)?d=ro(u):h?(f=!1,d=Zi(c,!0)):m?(f=!1,d=Qi(c,!0)):d=[]:Is(c)||gs(c)?(d=u,gs(u)?d=$s(u):Ps(u)&&!Cs(u)||(d=$o(c))):f=!1}f&&(s.set(c,d),i(d,c,r,a,s),s.delete(c)),Pr(e,n,d)}})(e,t,s,n,vi,r,i);else{var u=r?r(ra(e,s),a,s+"",e,t,i):o;u===o&&(u=a),Pr(e,s,u)}}),au)}function gi(e,t){var n=e.length;if(n)return qo(t+=t<0?n:0,n)?e[t]:o}function yi(e,t,n){var r=-1;return t=en(t=t.length?en(t,(function(e){return ys(e)?function(t){return Zr(t,1===e.length?e[0]:e)}:e})):[Ru],bn(Lo())),(function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e})(pi(e,(function(e,n,i){return{criteria:en(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return (function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=eo(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index})(e,t,n)}))}function bi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Zr(e,a);n(s,a)&&Ti(o,qi(a,e),s)}return o}function _i(e,t,n,r){var i=r?ln:cn,o=-1,a=t.length,s=e;for(e===t&&(t=ro(t)),n&&(s=en(e,bn(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&At.call(s,u,1),At.call(e,u,1);return e}function Oi(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;qo(i)?At.call(e,i,1):Bi(e,i)}}return e}function Ei(e,t){return e+Un(Jn()*(t-e+1))}function wi(e,t){var n="";if(!e||t<1||t>M)return n;do{t%2&&(n+=e),(t=Un(t/2))&&(e+=e)}while(t);return n}function Si(e,t){return aa(ta(e,t,Ru),e+"")}function Ci(e){return Cr(hu(e))}function xi(e,t){var n=hu(e);return ca(n,Mr(t,0,n.length))}function Ti(e,t,n,r){if(!Ps(e))return e;for(var i=-1,a=(t=qi(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var c=da(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var d=u[c];(l=r?r(d,c,u):o)===o&&(l=Ps(d)?d:qo(t[i+1])?[]:{})}kr(u,c,l),u=u[c]}return e}var Pi=ir?function(e,t){return ir.set(e,t),e}:Ru,ki=Bt?function(e,t){return Bt(e,"toString",{configurable:!0,enumerable:!1,value:Pu(t),writable:!0})}:Ru;function ji(e){return ca(hu(e))}function Ri(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function Ii(e,t){var n;return Ur(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=U){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Ns(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Di(e,t,Ru,n)}function Di(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,c=Ns(t),l=t===o;i<a;){var d=Un((i+a)/2),f=n(e[d]),p=f!==o,h=null===f,m=f==f,v=Ns(f);if(s)var g=r||m;else g=l?m&&(r||p):u?m&&p&&(r||!h):c?m&&p&&!h&&(r||!v):!h&&!v&&(r?f<=t:f<t);g?i=d+1:a=d}return qn(a,B)}function Mi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!hs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Ni(e){return"number"==typeof e?e:Ns(e)?L:+e}function Li(e){if("string"==typeof e)return e;if(ys(e))return en(e,Li)+"";if(Ns(e))return pr?pr.call(e):"";var t=e+"";return"0"==t&&1/e==-D?"-0":t}function Fi(e,t,n){var r=-1,i=Xt,o=e.length,s=!0,u=[],c=u;if(n)s=!1,i=Qt;else if(o>=a){var l=t?null:So(e);if(l)return Rn(l);s=!1,i=On,c=new Er}else c=t?[]:u;e:for(;++r<o;){var d=e[r],f=t?t(d):d;if(d=n||0!==d?d:0,s&&f==f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),u.push(d)}else i(c,f,n)||(c!==u&&c.push(f),u.push(d))}return u}function Bi(e,t){return null==(e=na(e,t=qi(t,e)))||delete e[da(Sa(t))]}function Ui(e,t,n,r){return Ti(e,t,n(Zr(e,t)),r)}function zi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Ri(e,r?0:o,r?o+1:i):Ri(e,r?o+1:0,r?i:o)}function Vi(e,t){var n=e;return n instanceof yr&&(n=n.value()),nn(t,(function(e,t){return t.func.apply(t.thisArg,tn([e],t.args))}),n)}function Hi(e,t,r){var i=e.length;if(i<2)return i?Fi(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=Br(a[o]||s,e[u],t,r));return Fi($r(a,1),t,r)}function Wi(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function $i(e){return Os(e)?e:[]}function Gi(e){return"function"==typeof e?e:Ru}function qi(e,t){return ys(e)?e:Ko(e,t)?[e]:la(Gs(e))}var Yi=Si;function Ki(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Ri(e,t,n)}var Ji=an||function(e){return Dt.clearTimeout(e)};function Zi(e,t){if(t)return e.slice();var n=e.length,r=Ot?Ot(n):new e.constructor(n);return e.copy(r),r}function Xi(e){var t=new e.constructor(e.byteLength);return new yt(t).set(new yt(e)),t}function Qi(e,t){var n=t?Xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function eo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=Ns(e),s=t!==o,u=null===t,c=t==t,l=Ns(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}function to(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=Gn(a-s,0),d=n(c+l),f=!i;++u<c;)d[u]=t[u];for(;++o<s;)(f||o<a)&&(d[r[o]]=e[o]);for(;l--;)d[u++]=e[o++];return d}function no(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,d=Gn(a-u,0),f=n(d+l),p=!i;++o<d;)f[o]=e[o];for(var h=o;++c<l;)f[h+c]=t[c];for(;++s<u;)(p||o<a)&&(f[h+r[s]]=e[o++]);return f}function ro(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function io(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):o;c===o&&(c=e[u]),i?Ar(n,u,c):kr(n,u,c)}return n}function oo(e,t){return function(n,r){var i=ys(n)?qt:Rr,o=t?t():{};return i(n,e,Lo(r,2),o)}}function ao(e){return Si((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&Yo(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=et(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t}))}function so(e,t){return function(n,r){if(null==n)return n;if(!_s(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=et(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function uo(e){return function(t,n,r){for(var i=-1,o=et(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function co(e){return function(t){var n=Tn(t=Gs(t))?Dn(t):o,r=n?n[0]:t.charAt(0),i=n?Ki(n,1).join(""):t.slice(1);return r[e]()+i}}function lo(e){return function(t){return nn(Cu(gu(t).replace(bt,"")),e,"")}}function fo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=mr(e.prototype),r=e.apply(n,t);return Ps(r)?r:n}}function po(e){return function(t,n,r){var i=et(t);if(!_s(t)){var a=Lo(n,3);t=ou(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function ho(e){return Ro((function(t){var n=t.length,r=n,i=gr.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new rt(u);if(i&&!s&&"wrapper"==Mo(a))var s=new gr([],!0)}for(r=s?r:n;++r<n;){var c=Mo(a=t[r]),l="wrapper"==c?Do(a):o;s=l&&Jo(l[0])&&l[1]==(C|O|w|x)&&!l[4].length&&1==l[9]?s[Mo(l[0])].apply(s,l[3]):1==a.length&&Jo(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&ys(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function mo(e,t,r,i,a,s,u,c,l,d){var f=t&C,p=t&y,h=t&b,m=t&(O|E),v=t&T,g=h?o:fo(e);return function y(){for(var b=arguments.length,_=n(b),O=b;O--;)_[O]=arguments[O];if(m)var E=No(y),w=(function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r})(_,E);if(i&&(_=to(_,i,a,m)),s&&(_=no(_,s,u,m)),b-=w,m&&b<d){var S=jn(_,E);return Eo(e,t,mo,y.placeholder,r,_,S,c,l,d-b)}var C=p?r:this,x=h?C[e]:e;return b=_.length,c?_=(function(e,t){for(var n=e.length,r=qn(t.length,n),i=ro(e);r--;){var a=t[r];e[r]=qo(a,n)?i[a]:o}return e})(_,c):v&&b>1&&_.reverse(),f&&l<b&&(_.length=l),this&&this!==Dt&&this instanceof y&&(x=g||fo(x)),x.apply(C,_)}}function vo(e,t){return function(n,r){return (function(e,t,n,r){return Yr(e,(function(e,i,o){t(r,n(e),i,o)})),r})(n,e,t(r),{})}}function go(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Li(n),r=Li(r)):(n=Ni(n),r=Ni(r)),i=e(n,r)}return i}}function yo(e){return Ro((function(t){return t=en(t,bn(Lo())),Si((function(n){var r=this;return e(t,(function(e){return Gt(e,r,n)}))}))}))}function bo(e,t){var n=(t=t===o?" ":Li(t)).length;if(n<2)return n?wi(t,e):t;var r=wi(t,Bn(e/An(t)));return Tn(t)?Ki(Dn(r),0,e).join(""):r.slice(0,e)}function _o(e){return function(t,r,i){return i&&"number"!=typeof i&&Yo(t,r,i)&&(r=i=o),t=zs(t),r===o?(r=t,t=0):r=zs(r),(function(e,t,r,i){for(var o=-1,a=Gn(Bn((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s})(t,r,i=i===o?t<r?1:-1:zs(i),e)}}function Oo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ws(t),n=Ws(n)),e(t,n)}}function Eo(e,t,n,r,i,a,s,u,c,l){var d=t&O;t|=d?w:S,(t&=~(d?S:w))&_||(t&=~(y|b));var f=[e,t,i,d?a:o,d?s:o,d?o:a,d?o:s,u,c,l],p=n.apply(o,f);return Jo(e)&&ia(p,f),p.placeholder=r,sa(p,e,t)}function wo(e){var t=Qe[e];return function(e,n){if(e=Ws(e),(n=null==n?0:qn(Vs(n),292))&&Hn(e)){var r=(Gs(e)+"e").split("e");return+((r=(Gs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var So=tr&&1/Rn(new tr([,-0]))[1]==D?function(e){return new tr(e)}:Nu;function Co(e){return function(t){var n=Ho(t);return n==Z?Pn(t):n==re?In(t):(function(e,t){return en(t,(function(t){return[t,e[t]]}))})(t,e(t))}}function xo(e,t,r,i,a,s,c,l){var d=t&b;if(!d&&"function"!=typeof e)throw new rt(u);var p=i?i.length:0;if(p||(t&=~(w|S),i=a=o),c=c===o?c:Gn(Vs(c),0),l=l===o?l:Vs(l),p-=a?a.length:0,t&S){var h=i,m=a;i=a=o}var v=d?o:Do(e),g=[e,t,r,i,a,h,m,s,c,l];if(v&&(function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(y|b|C),a=r==C&&n==O||r==C&&n==x&&e[7].length<=t[8]||r==(C|x)&&t[7].length<=t[8]&&n==O;if(!o&&!a)return e;r&y&&(e[2]=t[2],i|=n&y?0:_);var s=t[3];if(s){var u=e[3];e[3]=u?to(u,s,t[4]):s,e[4]=u?jn(e[3],f):t[4]}(s=t[5])&&(u=e[5],e[5]=u?no(u,s,t[6]):s,e[6]=u?jn(e[5],f):t[6]),(s=t[7])&&(e[7]=s),r&C&&(e[8]=null==e[8]?t[8]:qn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i})(g,v),e=g[0],t=g[1],r=g[2],i=g[3],a=g[4],!(l=g[9]=g[9]===o?d?0:e.length:Gn(g[9]-p,0))&&t&(O|E)&&(t&=~(O|E)),t&&t!=y)T=t==O||t==E?(function(e,t,r){var i=fo(e);return function a(){for(var s=arguments.length,u=n(s),c=s,l=No(a);c--;)u[c]=arguments[c];var d=s<3&&u[0]!==l&&u[s-1]!==l?[]:jn(u,l);return(s-=d.length)<r?Eo(e,t,mo,a.placeholder,o,u,d,o,o,r-s):Gt(this&&this!==Dt&&this instanceof a?i:e,this,u)}})(e,t,l):t!=w&&t!=(y|w)||a.length?mo.apply(o,g):(function(e,t,r,i){var o=t&y,a=fo(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,d=n(l+u),f=this&&this!==Dt&&this instanceof t?a:e;++c<l;)d[c]=i[c];for(;u--;)d[c++]=arguments[++s];return Gt(f,o?r:this,d)}})(e,t,r,i);else var T=(function(e,t,n){var r=t&y,i=fo(e);return function t(){return(this&&this!==Dt&&this instanceof t?i:e).apply(r?n:this,arguments)}})(e,t,r);return sa((v?Pi:ia)(T,g),e,t)}function To(e,t,n,r){return e===o||hs(e,at[n])&&!ct.call(r,n)?t:e}function Po(e,t,n,r,i,a){return Ps(e)&&Ps(t)&&(a.set(t,e),vi(e,t,o,Po,a),a.delete(t)),e}function ko(e){return Is(e)?o:e}function jo(e,t,n,r,i,a){var s=n&v,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var f=-1,p=!0,h=n&g?new Er:o;for(a.set(e,t),a.set(t,e);++f<u;){var m=e[f],y=t[f];if(r)var b=s?r(y,m,f,t,e,a):r(m,y,f,e,t,a);if(b!==o){if(b)continue;p=!1;break}if(h){if(!on(t,(function(e,t){if(!On(h,t)&&(m===e||i(m,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(m!==y&&!i(m,y,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function Ro(e){return aa(ta(e,o,ba),e+"")}function Io(e){return Xr(e,ou,zo)}function Ao(e){return Xr(e,au,Vo)}var Do=ir?function(e){return ir.get(e)}:Nu;function Mo(e){for(var t=e.name+"",n=or[t],r=ct.call(or,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function No(e){return(ct.call(hr,"placeholder")?hr:e).placeholder}function Lo(){var e=hr.iteratee||Iu;return e=e===Iu?ci:e,arguments.length?e(arguments[0],arguments[1]):e}function Fo(e,t){var n=e.__data__;return (function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e})(t)?n["string"==typeof t?"string":"hash"]:n.map}function Bo(e){for(var t=ou(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Qo(i)]}return t}function Uo(e,t){var n=(function(e,t){return null==e?o:e[t]})(e,t);return ui(n)?n:o}var zo=zn?function(e){return null==e?[]:(e=et(e),Zt(zn(e),(function(t){return It.call(e,t)})))}:Hu,Vo=zn?function(e){for(var t=[];e;)tn(t,zo(e)),e=wt(e);return t}:Hu,Ho=Qr;function Wo(e,t,n){for(var r=-1,i=(t=qi(t,e)).length,o=!1;++r<i;){var a=da(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ts(i)&&qo(a,i)&&(ys(e)||gs(e))}function $o(e){return"function"!=typeof e.constructor||Xo(e)?{}:mr(wt(e))}function Go(e){return ys(e)||gs(e)||!!(Mt&&e&&e[Mt])}function qo(e,t){var n=typeof e;return!!(t=null==t?M:t)&&("number"==n||"symbol"!=n&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function Yo(e,t,n){if(!Ps(n))return!1;var r=typeof t;return!!("number"==r?_s(n)&&qo(t,n.length):"string"==r&&t in n)&&hs(n[t],e)}function Ko(e,t){if(ys(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ns(e))||Re.test(e)||!je.test(e)||null!=t&&e in et(t)}function Jo(e){var t=Mo(e),n=hr[t];if("function"!=typeof n||!(t in yr.prototype))return!1;if(e===n)return!0;var r=Do(n);return!!r&&e===r[0]}(Xn&&Ho(new Xn(new ArrayBuffer(1)))!=le||Qn&&Ho(new Qn)!=Z||er&&"[object Promise]"!=Ho(er.resolve())||tr&&Ho(new tr)!=re||nr&&Ho(new nr)!=se)&&(Ho=function(e){var t=Qr(e),n=t==ee?e.constructor:o,r=n?fa(n):"";if(r)switch(r){case ar:return le;case sr:return Z;case ur:return"[object Promise]";case cr:return re;case lr:return se}return t});var Zo=st?Cs:Wu;function Xo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function Qo(e){return e==e&&!Ps(e)}function ea(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in et(n))}}function ta(e,t,r){return t=Gn(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=Gn(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),Gt(e,this,u)}}function na(e,t){return t.length<2?e:Zr(e,Ri(t,0,-1))}function ra(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ia=ua(Pi),oa=Fn||function(e,t){return Dt.setTimeout(e,t)},aa=ua(ki);function sa(e,t,n){var r=t+"";return aa(e,(function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Le,"{\n/* [wrapped with "+t+"] */\n")})(r,(function(e,t){return Yt(z,(function(n){var r="_."+n[0];t&n[1]&&!Xt(e,r)&&e.push(r)})),e.sort()})(function(e){var t=e.match(Fe);return t?t[1].split(Be):[]}(r),n)))}function ua(e){var t=0,n=0;return function(){var r=Yn(),i=R-(r-n);if(n=r,i>0){if(++t>=j)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ca(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Ei(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var la=(function(e){var t=us(e,(function(e){return n.size===d&&n.clear(),e})),n=t.cache;return t})((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ie,(function(e,n,r,i){t.push(r?i.replace(Ve,"$1"):n||e)})),t}));function da(e){if("string"==typeof e||Ns(e))return e;var t=e+"";return"0"==t&&1/e==-D?"-0":t}function fa(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function pa(e){if(e instanceof yr)return e.clone();var t=new gr(e.__wrapped__,e.__chain__);return t.__actions__=ro(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ha=Si((function(e,t){return Os(e)?Br(e,$r(t,1,Os,!0)):[]})),ma=Si((function(e,t){var n=Sa(t);return Os(n)&&(n=o),Os(e)?Br(e,$r(t,1,Os,!0),Lo(n,2)):[]})),va=Si((function(e,t){var n=Sa(t);return Os(n)&&(n=o),Os(e)?Br(e,$r(t,1,Os,!0),o,n):[]}));function ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Vs(n);return i<0&&(i=Gn(r+i,0)),un(e,Lo(t,3),i)}function ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Vs(n),i=n<0?Gn(r+i,0):qn(i,r-1)),un(e,Lo(t,3),i,!0)}function ba(e){return null!=e&&e.length?$r(e,1):[]}function _a(e){return e&&e.length?e[0]:o}var Oa=Si((function(e){var t=en(e,$i);return t.length&&t[0]===e[0]?ri(t):[]})),Ea=Si((function(e){var t=Sa(e),n=en(e,$i);return t===Sa(n)?t=o:n.pop(),n.length&&n[0]===e[0]?ri(n,Lo(t,2)):[]})),wa=Si((function(e){var t=Sa(e),n=en(e,$i);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?ri(n,o,t):[]}));function Sa(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ca=Si(xa);function xa(e,t){return e&&e.length&&t&&t.length?_i(e,t):e}var Ta=Ro((function(e,t){var n=null==e?0:e.length,r=Dr(e,t);return Oi(e,en(t,(function(e){return qo(e,n)?+e:e})).sort(eo)),r}));function Pa(e){return null==e?e:Zn.call(e)}var ka=Si((function(e){return Fi($r(e,1,Os,!0))})),ja=Si((function(e){var t=Sa(e);return Os(t)&&(t=o),Fi($r(e,1,Os,!0),Lo(t,2))})),Ra=Si((function(e){var t=Sa(e);return t="function"==typeof t?t:o,Fi($r(e,1,Os,!0),o,t)}));function Ia(e){if(!e||!e.length)return[];var t=0;return e=Zt(e,(function(e){if(Os(e))return t=Gn(e.length,t),!0})),gn(t,(function(t){return en(e,pn(t))}))}function Aa(e,t){if(!e||!e.length)return[];var n=Ia(e);return null==t?n:en(n,(function(e){return Gt(t,o,e)}))}var Da=Si((function(e,t){return Os(e)?Br(e,t):[]})),Ma=Si((function(e){return Hi(Zt(e,Os))})),Na=Si((function(e){var t=Sa(e);return Os(t)&&(t=o),Hi(Zt(e,Os),Lo(t,2))})),La=Si((function(e){var t=Sa(e);return t="function"==typeof t?t:o,Hi(Zt(e,Os),o,t)})),Fa=Si(Ia);var Ba=Si((function(e){var t=e.length,n=t>1?e[t-1]:o;return Aa(e,n="function"==typeof n?(e.pop(),n):o)}));function Ua(e){var t=hr(e);return t.__chain__=!0,t}function za(e,t){return t(e)}var Va=Ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Dr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof yr&&qo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:za,args:[i],thisArg:o}),new gr(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var Ha=oo((function(e,t,n){ct.call(e,n)?++e[n]:Ar(e,n,1)}));var Wa=po(ga),$a=po(ya);function Ga(e,t){return(ys(e)?Yt:Ur)(e,Lo(t,3))}function qa(e,t){return(ys(e)?Kt:zr)(e,Lo(t,3))}var Ya=oo((function(e,t,n){ct.call(e,n)?e[n].push(t):Ar(e,n,[t])}));var Ka=Si((function(e,t,r){var i=-1,o="function"==typeof t,a=_s(e)?n(e.length):[];return Ur(e,(function(e){a[++i]=o?Gt(t,e,r):ii(e,t,r)})),a})),Ja=oo((function(e,t,n){Ar(e,n,t)}));function Za(e,t){return(ys(e)?en:pi)(e,Lo(t,3))}var Xa=oo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Qa=Si((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Yo(e,t[0],t[1])?t=[]:n>2&&Yo(t[0],t[1],t[2])&&(t=[t[0]]),yi(e,$r(t,1),[])})),es=hn||function(){return Dt.Date.now()};function ts(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,xo(e,C,o,o,o,o,t)}function ns(e,t){var n;if("function"!=typeof t)throw new rt(u);return e=Vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var rs=Si((function(e,t,n){var r=y;if(n.length){var i=jn(n,No(rs));r|=w}return xo(e,r,t,n,i)})),is=Si((function(e,t,n){var r=y|b;if(n.length){var i=jn(n,No(is));r|=w}return xo(t,r,e,n,i)}));function os(e,t,n){var r,i,a,s,c,l,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new rt(u);function m(t){var n=r,a=i;return r=i=o,d=t,s=e.apply(a,n)}function v(e){var n=e-l;return l===o||n>=t||n<0||p&&e-d>=a}function g(){var e=es();if(v(e))return y(e);c=oa(g,(function(e){var n=t-(e-l);return p?qn(n,a-(e-d)):n})(e))}function y(e){return c=o,h&&r?m(e):(r=i=o,s)}function b(){var e=es(),n=v(e);if(r=arguments,i=this,l=e,n){if(c===o)return (function(e){return d=e,c=oa(g,t),f?m(e):s})(l);if(p)return Ji(c),c=oa(g,t),m(l)}return c===o&&(c=oa(g,t)),s}return t=Ws(t)||0,Ps(n)&&(f=!!n.leading,a=(p="maxWait"in n)?Gn(Ws(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),b.cancel=function(){c!==o&&Ji(c),d=0,r=l=i=c=o},b.flush=function(){return c===o?s:y(es())},b}var as=Si((function(e,t){return Fr(e,1,t)})),ss=Si((function(e,t,n){return Fr(e,Ws(t)||0,n)}));function us(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new rt(u);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(us.Cache||Or),n}function cs(e){if("function"!=typeof e)throw new rt(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}us.Cache=Or;var ls=Yi((function(e,t){var n=(t=1==t.length&&ys(t[0])?en(t[0],bn(Lo())):en($r(t,1),bn(Lo()))).length;return Si((function(r){for(var i=-1,o=qn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Gt(e,this,r)}))})),ds=Si((function(e,t){var n=jn(t,No(ds));return xo(e,w,o,t,n)})),fs=Si((function(e,t){var n=jn(t,No(fs));return xo(e,S,o,t,n)})),ps=Ro((function(e,t){return xo(e,x,o,o,o,t)}));function hs(e,t){return e===t||e!=e&&t!=t}var ms=Oo(ei),vs=Oo((function(e,t){return e>=t})),gs=oi(function(){return arguments}())?oi:function(e){return ks(e)&&ct.call(e,"callee")&&!It.call(e,"callee")},ys=n.isArray,bs=Ut?bn(Ut):function(e){return ks(e)&&Qr(e)==ce};function _s(e){return null!=e&&Ts(e.length)&&!Cs(e)}function Os(e){return ks(e)&&_s(e)}var Es=Vn||Wu,ws=zt?bn(zt):function(e){return ks(e)&&Qr(e)==G};function Ss(e){if(!ks(e))return!1;var t=Qr(e);return t==Y||t==q||"string"==typeof e.message&&"string"==typeof e.name&&!Is(e)}function Cs(e){if(!Ps(e))return!1;var t=Qr(e);return t==K||t==J||t==W||t==te}function xs(e){return"number"==typeof e&&e==Vs(e)}function Ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=M}function Ps(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ks(e){return null!=e&&"object"==typeof e}var js=Vt?bn(Vt):function(e){return ks(e)&&Ho(e)==Z};function Rs(e){return"number"==typeof e||ks(e)&&Qr(e)==X}function Is(e){if(!ks(e)||Qr(e)!=ee)return!1;var t=wt(e);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ut.call(n)==pt}var As=Ht?bn(Ht):function(e){return ks(e)&&Qr(e)==ne};var Ds=Wt?bn(Wt):function(e){return ks(e)&&Ho(e)==re};function Ms(e){return"string"==typeof e||!ys(e)&&ks(e)&&Qr(e)==ie}function Ns(e){return"symbol"==typeof e||ks(e)&&Qr(e)==oe}var Ls=$t?bn($t):function(e){return ks(e)&&Ts(e.length)&&!!Tt[Qr(e)]};var Fs=Oo(fi),Bs=Oo((function(e,t){return e<=t}));function Us(e){if(!e)return[];if(_s(e))return Ms(e)?Dn(e):ro(e);if(Nt&&e[Nt])return (function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n})(e[Nt]());var t=Ho(e);return(t==Z?Pn:t==re?Rn:hu)(e)}function zs(e){return e?(e=Ws(e))===D||e===-D?(e<0?-1:1)*N:e==e?e:0:0===e?e:0}function Vs(e){var t=zs(e),n=t%1;return t==t?n?t-n:t:0}function Hs(e){return e?Mr(Vs(e),0,F):0}function Ws(e){if("number"==typeof e)return e;if(Ns(e))return L;if(Ps(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ps(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=yn(e);var n=Ge.test(e);return n||Ye.test(e)?Rt(e.slice(2),n?2:8):$e.test(e)?L:+e}function $s(e){return io(e,au(e))}function Gs(e){return null==e?"":Li(e)}var qs=ao((function(e,t){if(Xo(t)||_s(t))io(t,ou(t),e);else for(var n in t)ct.call(t,n)&&kr(e,n,t[n])})),Ys=ao((function(e,t){io(t,au(t),e)})),Ks=ao((function(e,t,n,r){io(t,au(t),e,r)})),Js=ao((function(e,t,n,r){io(t,ou(t),e,r)})),Zs=Ro(Dr);var Xs=Si((function(e,t){e=et(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&Yo(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=au(a),u=-1,c=s.length;++u<c;){var l=s[u],d=e[l];(d===o||hs(d,at[l])&&!ct.call(e,l))&&(e[l]=a[l])}return e})),Qs=Si((function(e){return e.push(o,Po),Gt(uu,o,e)}));function eu(e,t,n){var r=null==e?o:Zr(e,t);return r===o?n:r}function tu(e,t){return null!=e&&Wo(e,t,ni)}var nu=vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),e[t]=n}),Pu(Ru)),ru=vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),ct.call(e,t)?e[t].push(n):e[t]=[n]}),Lo),iu=Si(ii);function ou(e){return _s(e)?Sr(e):li(e)}function au(e){return _s(e)?Sr(e,!0):di(e)}var su=ao((function(e,t,n){vi(e,t,n)})),uu=ao((function(e,t,n,r){vi(e,t,n,r)})),cu=Ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=en(t,(function(t){return t=qi(t,e),r||(r=t.length>1),t})),io(e,Ao(e),n),r&&(n=Nr(n,p|h|m,ko));for(var i=t.length;i--;)Bi(n,t[i]);return n}));var lu=Ro((function(e,t){return null==e?{}:(function(e,t){return bi(e,t,(function(t,n){return tu(e,n)}))})(e,t)}));function du(e,t){if(null==e)return{};var n=en(Ao(e),(function(e){return[e]}));return t=Lo(t),bi(e,n,(function(e,n){return t(e,n[0])}))}var fu=Co(ou),pu=Co(au);function hu(e){return null==e?[]:_n(e,ou(e))}var mu=lo((function(e,t,n){return t=t.toLowerCase(),e+(n?vu(t):t)}));function vu(e){return Su(Gs(e).toLowerCase())}function gu(e){return(e=Gs(e))&&e.replace(Je,Sn).replace(_t,"")}var yu=lo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),bu=lo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),_u=co("toLowerCase");var Ou=lo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Eu=lo((function(e,t,n){return e+(n?" ":"")+Su(t)}));var wu=lo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Su=co("toUpperCase");function Cu(e,t,n){return e=Gs(e),(t=n?o:t)===o?(function(e){return St.test(e)})(e)?(function(e){return e.match(Et)||[]})(e):(function(e){return e.match(Ue)||[]})(e):e.match(t)||[]}var xu=Si((function(e,t){try{return Gt(e,o,t)}catch(e){return Ss(e)?e:new i(e)}})),Tu=Ro((function(e,t){return Yt(t,(function(t){t=da(t),Ar(e,t,rs(e[t],e))})),e}));function Pu(e){return function(){return e}}var ku=ho(),ju=ho(!0);function Ru(e){return e}function Iu(e){return ci("function"==typeof e?e:Nr(e,p))}var Au=Si((function(e,t){return function(n){return ii(n,e,t)}})),Du=Si((function(e,t){return function(n){return ii(e,n,t)}}));function Mu(e,t,n){var r=ou(t),i=Jr(t,r);null!=n||Ps(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Jr(t,ou(t)));var o=!(Ps(n)&&"chain"in n&&!n.chain),a=Cs(e);return Yt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=ro(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,tn([this.value()],arguments))})})),e}function Nu(){}var Lu=yo(en),Fu=yo(Jt),Bu=yo(on);function Uu(e){return Ko(e)?pn(da(e)):(function(e){return function(t){return Zr(t,e)}})(e)}var zu=_o(),Vu=_o(!0);function Hu(){return[]}function Wu(){return!1}var $u=go((function(e,t){return e+t}),0),Gu=wo("ceil"),qu=go((function(e,t){return e/t}),1),Yu=wo("floor");var Ku=go((function(e,t){return e*t}),1),Ju=wo("round"),Zu=go((function(e,t){return e-t}),0);return hr.after=function(e,t){if("function"!=typeof t)throw new rt(u);return e=Vs(e),function(){if(--e<1)return t.apply(this,arguments)}},hr.ary=ts,hr.assign=qs,hr.assignIn=Ys,hr.assignInWith=Ks,hr.assignWith=Js,hr.at=Zs,hr.before=ns,hr.bind=rs,hr.bindAll=Tu,hr.bindKey=is,hr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ys(e)?e:[e]},hr.chain=Ua,hr.chunk=function(e,t,r){t=(r?Yo(e,t,r):t===o)?1:Gn(Vs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=n(Bn(i/t));a<i;)u[s++]=Ri(e,a,a+=t);return u},hr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},hr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return tn(ys(r)?ro(r):[r],$r(t,1))},hr.cond=function(e){var t=null==e?0:e.length,n=Lo();return e=t?en(e,(function(e){if("function"!=typeof e[1])throw new rt(u);return[n(e[0]),e[1]]})):[],Si((function(n){for(var r=-1;++r<t;){var i=e[r];if(Gt(i[0],this,n))return Gt(i[1],this,n)}}))},hr.conforms=function(e){return (function(e){var t=ou(e);return function(n){return Lr(n,e,t)}})(Nr(e,p))},hr.constant=Pu,hr.countBy=Ha,hr.create=function(e,t){var n=mr(e);return null==t?n:Ir(n,t)},hr.curry=function e(t,n,r){var i=xo(t,O,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},hr.curryRight=function e(t,n,r){var i=xo(t,E,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},hr.debounce=os,hr.defaults=Xs,hr.defaultsDeep=Qs,hr.defer=as,hr.delay=ss,hr.difference=ha,hr.differenceBy=ma,hr.differenceWith=va,hr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Ri(e,(t=n||t===o?1:Vs(t))<0?0:t,r):[]},hr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Ri(e,0,(t=r-(t=n||t===o?1:Vs(t)))<0?0:t):[]},hr.dropRightWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3),!0,!0):[]},hr.dropWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3),!0):[]},hr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Yo(e,t,n)&&(n=0,r=i),(function(e,t,n,r){var i=e.length;for((n=Vs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Vs(r))<0&&(r+=i),r=n>r?0:Hs(r);n<r;)e[n++]=t;return e})(e,t,n,r)):[]},hr.filter=function(e,t){return(ys(e)?Zt:Wr)(e,Lo(t,3))},hr.flatMap=function(e,t){return $r(Za(e,t),1)},hr.flatMapDeep=function(e,t){return $r(Za(e,t),D)},hr.flatMapDepth=function(e,t,n){return n=n===o?1:Vs(n),$r(Za(e,t),n)},hr.flatten=ba,hr.flattenDeep=function(e){return null!=e&&e.length?$r(e,D):[]},hr.flattenDepth=function(e,t){return null!=e&&e.length?$r(e,t=t===o?1:Vs(t)):[]},hr.flip=function(e){return xo(e,T)},hr.flow=ku,hr.flowRight=ju,hr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},hr.functions=function(e){return null==e?[]:Jr(e,ou(e))},hr.functionsIn=function(e){return null==e?[]:Jr(e,au(e))},hr.groupBy=Ya,hr.initial=function(e){return null!=e&&e.length?Ri(e,0,-1):[]},hr.intersection=Oa,hr.intersectionBy=Ea,hr.intersectionWith=wa,hr.invert=nu,hr.invertBy=ru,hr.invokeMap=Ka,hr.iteratee=Iu,hr.keyBy=Ja,hr.keys=ou,hr.keysIn=au,hr.map=Za,hr.mapKeys=function(e,t){var n={};return t=Lo(t,3),Yr(e,(function(e,r,i){Ar(n,t(e,r,i),e)})),n},hr.mapValues=function(e,t){var n={};return t=Lo(t,3),Yr(e,(function(e,r,i){Ar(n,r,t(e,r,i))})),n},hr.matches=function(e){return hi(Nr(e,p))},hr.matchesProperty=function(e,t){return mi(e,Nr(t,p))},hr.memoize=us,hr.merge=su,hr.mergeWith=uu,hr.method=Au,hr.methodOf=Du,hr.mixin=Mu,hr.negate=cs,hr.nthArg=function(e){return e=Vs(e),Si((function(t){return gi(t,e)}))},hr.omit=cu,hr.omitBy=function(e,t){return du(e,cs(Lo(t)))},hr.once=function(e){return ns(2,e)},hr.orderBy=function(e,t,n,r){return null==e?[]:(ys(t)||(t=null==t?[]:[t]),ys(n=r?o:n)||(n=null==n?[]:[n]),yi(e,t,n))},hr.over=Lu,hr.overArgs=ls,hr.overEvery=Fu,hr.overSome=Bu,hr.partial=ds,hr.partialRight=fs,hr.partition=Xa,hr.pick=lu,hr.pickBy=du,hr.property=Uu,hr.propertyOf=function(e){return function(t){return null==e?o:Zr(e,t)}},hr.pull=Ca,hr.pullAll=xa,hr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?_i(e,t,Lo(n,2)):e},hr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?_i(e,t,o,n):e},hr.pullAt=Ta,hr.range=zu,hr.rangeRight=Vu,hr.rearg=ps,hr.reject=function(e,t){return(ys(e)?Zt:Wr)(e,cs(Lo(t,3)))},hr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Oi(e,i),n},hr.rest=function(e,t){if("function"!=typeof e)throw new rt(u);return Si(e,t=t===o?t:Vs(t))},hr.reverse=Pa,hr.sampleSize=function(e,t,n){return t=(n?Yo(e,t,n):t===o)?1:Vs(t),(ys(e)?xr:xi)(e,t)},hr.set=function(e,t,n){return null==e?e:Ti(e,t,n)},hr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Ti(e,t,n,r)},hr.shuffle=function(e){return(ys(e)?Tr:ji)(e)},hr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Yo(e,t,n)?(t=0,n=r):(t=null==t?0:Vs(t),n=n===o?r:Vs(n)),Ri(e,t,n)):[]},hr.sortBy=Qa,hr.sortedUniq=function(e){return e&&e.length?Mi(e):[]},hr.sortedUniqBy=function(e,t){return e&&e.length?Mi(e,Lo(t,2)):[]},hr.split=function(e,t,n){return n&&"number"!=typeof n&&Yo(e,t,n)&&(t=n=o),(n=n===o?F:n>>>0)?(e=Gs(e))&&("string"==typeof t||null!=t&&!As(t))&&!(t=Li(t))&&Tn(e)?Ki(Dn(e),0,n):e.split(t,n):[]},hr.spread=function(e,t){if("function"!=typeof e)throw new rt(u);return t=null==t?0:Gn(Vs(t),0),Si((function(n){var r=n[t],i=Ki(n,0,t);return r&&tn(i,r),Gt(e,this,i)}))},hr.tail=function(e){var t=null==e?0:e.length;return t?Ri(e,1,t):[]},hr.take=function(e,t,n){return e&&e.length?Ri(e,0,(t=n||t===o?1:Vs(t))<0?0:t):[]},hr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Ri(e,(t=r-(t=n||t===o?1:Vs(t)))<0?0:t,r):[]},hr.takeRightWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3),!1,!0):[]},hr.takeWhile=function(e,t){return e&&e.length?zi(e,Lo(t,3)):[]},hr.tap=function(e,t){return t(e),e},hr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new rt(u);return Ps(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),os(e,t,{leading:r,maxWait:t,trailing:i})},hr.thru=za,hr.toArray=Us,hr.toPairs=fu,hr.toPairsIn=pu,hr.toPath=function(e){return ys(e)?en(e,da):Ns(e)?[e]:ro(la(Gs(e)))},hr.toPlainObject=$s,hr.transform=function(e,t,n){var r=ys(e),i=r||Es(e)||Ls(e);if(t=Lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ps(e)&&Cs(o)?mr(wt(e)):{}}return(i?Yt:Yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},hr.unary=function(e){return ts(e,1)},hr.union=ka,hr.unionBy=ja,hr.unionWith=Ra,hr.uniq=function(e){return e&&e.length?Fi(e):[]},hr.uniqBy=function(e,t){return e&&e.length?Fi(e,Lo(t,2)):[]},hr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Fi(e,o,t):[]},hr.unset=function(e,t){return null==e||Bi(e,t)},hr.unzip=Ia,hr.unzipWith=Aa,hr.update=function(e,t,n){return null==e?e:Ui(e,t,Gi(n))},hr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Ui(e,t,Gi(n),r)},hr.values=hu,hr.valuesIn=function(e){return null==e?[]:_n(e,au(e))},hr.without=Da,hr.words=Cu,hr.wrap=function(e,t){return ds(Gi(t),e)},hr.xor=Ma,hr.xorBy=Na,hr.xorWith=La,hr.zip=Fa,hr.zipObject=function(e,t){return Wi(e||[],t||[],kr)},hr.zipObjectDeep=function(e,t){return Wi(e||[],t||[],Ti)},hr.zipWith=Ba,hr.entries=fu,hr.entriesIn=pu,hr.extend=Ys,hr.extendWith=Ks,Mu(hr,hr),hr.add=$u,hr.attempt=xu,hr.camelCase=mu,hr.capitalize=vu,hr.ceil=Gu,hr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Ws(n))==n?n:0),t!==o&&(t=(t=Ws(t))==t?t:0),Mr(Ws(e),t,n)},hr.clone=function(e){return Nr(e,m)},hr.cloneDeep=function(e){return Nr(e,p|m)},hr.cloneDeepWith=function(e,t){return Nr(e,p|m,t="function"==typeof t?t:o)},hr.cloneWith=function(e,t){return Nr(e,m,t="function"==typeof t?t:o)},hr.conformsTo=function(e,t){return null==t||Lr(e,t,ou(t))},hr.deburr=gu,hr.defaultTo=function(e,t){return null==e||e!=e?t:e},hr.divide=qu,hr.endsWith=function(e,t,n){e=Gs(e),t=Li(t);var r=e.length,i=n=n===o?r:Mr(Vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},hr.eq=hs,hr.escape=function(e){return(e=Gs(e))&&xe.test(e)?e.replace(Se,Cn):e},hr.escapeRegExp=function(e){return(e=Gs(e))&&De.test(e)?e.replace(Ae,"\\$&"):e},hr.every=function(e,t,n){var r=ys(e)?Jt:Vr;return n&&Yo(e,t,n)&&(t=o),r(e,Lo(t,3))},hr.find=Wa,hr.findIndex=ga,hr.findKey=function(e,t){return sn(e,Lo(t,3),Yr)},hr.findLast=$a,hr.findLastIndex=ya,hr.findLastKey=function(e,t){return sn(e,Lo(t,3),Kr)},hr.floor=Yu,hr.forEach=Ga,hr.forEachRight=qa,hr.forIn=function(e,t){return null==e?e:Gr(e,Lo(t,3),au)},hr.forInRight=function(e,t){return null==e?e:qr(e,Lo(t,3),au)},hr.forOwn=function(e,t){return e&&Yr(e,Lo(t,3))},hr.forOwnRight=function(e,t){return e&&Kr(e,Lo(t,3))},hr.get=eu,hr.gt=ms,hr.gte=vs,hr.has=function(e,t){return null!=e&&Wo(e,t,ti)},hr.hasIn=tu,hr.head=_a,hr.identity=Ru,hr.includes=function(e,t,n,r){e=_s(e)?e:hu(e),n=n&&!r?Vs(n):0;var i=e.length;return n<0&&(n=Gn(i+n,0)),Ms(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&cn(e,t,n)>-1},hr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Vs(n);return i<0&&(i=Gn(r+i,0)),cn(e,t,i)},hr.inRange=function(e,t,n){return t=zs(t),n===o?(n=t,t=0):n=zs(n),(function(e,t,n){return e>=qn(t,n)&&e<Gn(t,n)})(e=Ws(e),t,n)},hr.invoke=iu,hr.isArguments=gs,hr.isArray=ys,hr.isArrayBuffer=bs,hr.isArrayLike=_s,hr.isArrayLikeObject=Os,hr.isBoolean=function(e){return!0===e||!1===e||ks(e)&&Qr(e)==$},hr.isBuffer=Es,hr.isDate=ws,hr.isElement=function(e){return ks(e)&&1===e.nodeType&&!Is(e)},hr.isEmpty=function(e){if(null==e)return!0;if(_s(e)&&(ys(e)||"string"==typeof e||"function"==typeof e.splice||Es(e)||Ls(e)||gs(e)))return!e.length;var t=Ho(e);if(t==Z||t==re)return!e.size;if(Xo(e))return!li(e).length;for(var n in e)if(ct.call(e,n))return!1;return!0},hr.isEqual=function(e,t){return ai(e,t)},hr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?ai(e,t,o,n):!!r},hr.isError=Ss,hr.isFinite=function(e){return"number"==typeof e&&Hn(e)},hr.isFunction=Cs,hr.isInteger=xs,hr.isLength=Ts,hr.isMap=js,hr.isMatch=function(e,t){return e===t||si(e,t,Bo(t))},hr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,si(e,t,Bo(t),n)},hr.isNaN=function(e){return Rs(e)&&e!=+e},hr.isNative=function(e){if(Zo(e))throw new i(s);return ui(e)},hr.isNil=function(e){return null==e},hr.isNull=function(e){return null===e},hr.isNumber=Rs,hr.isObject=Ps,hr.isObjectLike=ks,hr.isPlainObject=Is,hr.isRegExp=As,hr.isSafeInteger=function(e){return xs(e)&&e>=-M&&e<=M},hr.isSet=Ds,hr.isString=Ms,hr.isSymbol=Ns,hr.isTypedArray=Ls,hr.isUndefined=function(e){return e===o},hr.isWeakMap=function(e){return ks(e)&&Ho(e)==se},hr.isWeakSet=function(e){return ks(e)&&Qr(e)==ue},hr.join=function(e,t){return null==e?"":Wn.call(e,t)},hr.kebabCase=yu,hr.last=Sa,hr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Vs(n))<0?Gn(r+i,0):qn(i,r-1)),t==t?(function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r})(e,t,i):un(e,dn,i,!0)},hr.lowerCase=bu,hr.lowerFirst=_u,hr.lt=Fs,hr.lte=Bs,hr.max=function(e){return e&&e.length?Hr(e,Ru,ei):o},hr.maxBy=function(e,t){return e&&e.length?Hr(e,Lo(t,2),ei):o},hr.mean=function(e){return fn(e,Ru)},hr.meanBy=function(e,t){return fn(e,Lo(t,2))},hr.min=function(e){return e&&e.length?Hr(e,Ru,fi):o},hr.minBy=function(e,t){return e&&e.length?Hr(e,Lo(t,2),fi):o},hr.stubArray=Hu,hr.stubFalse=Wu,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=Ku,hr.nth=function(e,t){return e&&e.length?gi(e,Vs(t)):o},hr.noConflict=function(){return Dt._===this&&(Dt._=ht),this},hr.noop=Nu,hr.now=es,hr.pad=function(e,t,n){e=Gs(e);var r=(t=Vs(t))?An(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return bo(Un(i),n)+e+bo(Bn(i),n)},hr.padEnd=function(e,t,n){e=Gs(e);var r=(t=Vs(t))?An(e):0;return t&&r<t?e+bo(t-r,n):e},hr.padStart=function(e,t,n){e=Gs(e);var r=(t=Vs(t))?An(e):0;return t&&r<t?bo(t-r,n)+e:e},hr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Kn(Gs(e).replace(Me,""),t||0)},hr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Yo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=zs(e),t===o?(t=e,e=0):t=zs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Jn();return qn(e+i*(t-e+jt("1e-"+((i+"").length-1))),t)}return Ei(e,t)},hr.reduce=function(e,t,n){var r=ys(e)?nn:mn,i=arguments.length<3;return r(e,Lo(t,4),n,i,Ur)},hr.reduceRight=function(e,t,n){var r=ys(e)?rn:mn,i=arguments.length<3;return r(e,Lo(t,4),n,i,zr)},hr.repeat=function(e,t,n){return t=(n?Yo(e,t,n):t===o)?1:Vs(t),wi(Gs(e),t)},hr.replace=function(){var e=arguments,t=Gs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},hr.result=function(e,t,n){var r=-1,i=(t=qi(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[da(t[r])];a===o&&(r=i,a=n),e=Cs(a)?a.call(e):a}return e},hr.round=Ju,hr.runInContext=e,hr.sample=function(e){return(ys(e)?Cr:Ci)(e)},hr.size=function(e){if(null==e)return 0;if(_s(e))return Ms(e)?An(e):e.length;var t=Ho(e);return t==Z||t==re?e.size:li(e).length},hr.snakeCase=Ou,hr.some=function(e,t,n){var r=ys(e)?on:Ii;return n&&Yo(e,t,n)&&(t=o),r(e,Lo(t,3))},hr.sortedIndex=function(e,t){return Ai(e,t)},hr.sortedIndexBy=function(e,t,n){return Di(e,t,Lo(n,2))},hr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Ai(e,t);if(r<n&&hs(e[r],t))return r}return-1},hr.sortedLastIndex=function(e,t){return Ai(e,t,!0)},hr.sortedLastIndexBy=function(e,t,n){return Di(e,t,Lo(n,2),!0)},hr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Ai(e,t,!0)-1;if(hs(e[n],t))return n}return-1},hr.startCase=Eu,hr.startsWith=function(e,t,n){return e=Gs(e),n=null==n?0:Mr(Vs(n),0,e.length),t=Li(t),e.slice(n,n+t.length)==t},hr.subtract=Zu,hr.sum=function(e){return e&&e.length?vn(e,Ru):0},hr.sumBy=function(e,t){return e&&e.length?vn(e,Lo(t,2)):0},hr.template=function(e,t,n){var r=hr.templateSettings;n&&Yo(e,t,n)&&(t=o),e=Gs(e),t=Ks({},t,r,To);var a,s,u=Ks({},t.imports,r.imports,To),l=ou(u),d=_n(u,l),f=0,p=t.interpolate||Ze,h="__p += '",m=tt((t.escape||Ze).source+"|"+p.source+"|"+(p===ke?He:Ze).source+"|"+(t.evaluate||Ze).source+"|$","g"),v="//# sourceURL="+(ct.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xt+"]")+"\n";e.replace(m,(function(t,n,r,i,o,u){return r||(r=i),h+=e.slice(f,u).replace(Xe,xn),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),o&&(s=!0,h+="';\n"+o+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+t.length,t})),h+="';\n";var g=ct.call(t,"variable")&&t.variable;if(g){if(ze.test(g))throw new i(c)}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(_e,""):h).replace(Oe,"$1").replace(Ee,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=xu((function(){return Ne(l,v+"return "+h).apply(o,d)}));if(y.source=h,Ss(y))throw y;return y},hr.times=function(e,t){if((e=Vs(e))<1||e>M)return[];var n=F,r=qn(e,F);t=Lo(t),e-=F;for(var i=gn(r,t);++n<e;)t(n);return i},hr.toFinite=zs,hr.toInteger=Vs,hr.toLength=Hs,hr.toLower=function(e){return Gs(e).toLowerCase()},hr.toNumber=Ws,hr.toSafeInteger=function(e){return e?Mr(Vs(e),-M,M):0===e?e:0},hr.toString=Gs,hr.toUpper=function(e){return Gs(e).toUpperCase()},hr.trim=function(e,t,n){if((e=Gs(e))&&(n||t===o))return yn(e);if(!e||!(t=Li(t)))return e;var r=Dn(e),i=Dn(t);return Ki(r,En(r,i),wn(r,i)+1).join("")},hr.trimEnd=function(e,t,n){if((e=Gs(e))&&(n||t===o))return e.slice(0,Mn(e)+1);if(!e||!(t=Li(t)))return e;var r=Dn(e);return Ki(r,0,wn(r,Dn(t))+1).join("")},hr.trimStart=function(e,t,n){if((e=Gs(e))&&(n||t===o))return e.replace(Me,"");if(!e||!(t=Li(t)))return e;var r=Dn(e);return Ki(r,En(r,Dn(t))).join("")},hr.truncate=function(e,t){var n=P,r=k;if(Ps(t)){var i="separator"in t?t.separator:i;n="length"in t?Vs(t.length):n,r="omission"in t?Li(t.omission):r}var a=(e=Gs(e)).length;if(Tn(e)){var s=Dn(e);a=s.length}if(n>=a)return e;var u=n-An(r);if(u<1)return r;var c=s?Ki(s,0,u).join(""):e.slice(0,u);if(i===o)return c+r;if(s&&(u+=c.length-u),As(i)){if(e.slice(u).search(i)){var l,d=c;for(i.global||(i=tt(i.source,Gs(We.exec(i))+"g")),i.lastIndex=0;l=i.exec(d);)var f=l.index;c=c.slice(0,f===o?u:f)}}else if(e.indexOf(Li(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},hr.unescape=function(e){return(e=Gs(e))&&Ce.test(e)?e.replace(we,Nn):e},hr.uniqueId=function(e){var t=++lt;return Gs(e)+t},hr.upperCase=wu,hr.upperFirst=Su,hr.each=Ga,hr.eachRight=qa,hr.first=_a,Mu(hr,(function(){var e={};return Yr(hr,(function(t,n){ct.call(hr.prototype,n)||(e[n]=t)})),e})(),{chain:!1}),hr.VERSION="4.17.21",Yt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){hr[e].placeholder=hr})),Yt(["drop","take"],(function(e,t){yr.prototype[e]=function(n){n=n===o?1:Gn(Vs(n),0);var r=this.__filtered__&&!t?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=qn(n,r.__takeCount__):r.__views__.push({size:qn(n,F),type:e+(r.__dir__<0?"Right":"")}),r},yr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Yt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==I||3==n;yr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Yt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");yr.prototype[e]=function(){return this[n](1).value()[0]}})),Yt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");yr.prototype[e]=function(){return this.__filtered__?new yr(this):this[n](1)}})),yr.prototype.compact=function(){return this.filter(Ru)},yr.prototype.find=function(e){return this.filter(e).head()},yr.prototype.findLast=function(e){return this.reverse().find(e)},yr.prototype.invokeMap=Si((function(e,t){return"function"==typeof e?new yr(this):this.map((function(n){return ii(n,e,t)}))})),yr.prototype.reject=function(e){return this.filter(cs(Lo(e)))},yr.prototype.slice=function(e,t){e=Vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new yr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=Vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},yr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},yr.prototype.toArray=function(){return this.take(F)},Yr(yr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=hr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(hr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof yr,c=s[0],l=u||ys(t),d=function(e){var t=i.apply(hr,tn([e],s));return r&&f?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,p=!!this.__actions__.length,h=a&&!f,m=u&&!p;if(!a&&l){t=m?t:new yr(this);var v=e.apply(t,s);return v.__actions__.push({func:za,args:[d],thisArg:o}),new gr(v,f)}return h&&m?e.apply(this,s):(v=this.thru(d),h?r?v.value()[0]:v.value():v)})})),Yt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=it[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);hr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(ys(i)?i:[],e)}return this[n]((function(n){return t.apply(ys(n)?n:[],e)}))}})),Yr(yr.prototype,(function(e,t){var n=hr[t];if(n){var r=n.name+"";ct.call(or,r)||(or[r]=[]),or[r].push({name:t,func:n})}})),or[mo(o,b).name]=[{name:"wrapper",func:o}],yr.prototype.clone=function(){var e=new yr(this.__wrapped__);return e.__actions__=ro(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ro(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ro(this.__views__),e},yr.prototype.reverse=function(){if(this.__filtered__){var e=new yr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},yr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ys(e),r=t<0,i=n?e.length:0,o=(function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=qn(t,e+a);break;case"takeRight":e=Gn(e,t-a)}}return{start:e,end:t}})(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,p=qn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return Vi(e,this.__actions__);var h=[];e:for(;u--&&f<p;){for(var m=-1,v=e[c+=t];++m<d;){var g=l[m],y=g.iteratee,b=g.type,_=y(v);if(b==A)v=_;else if(!_){if(b==I)continue e;break e}}h[f++]=v}return h},hr.prototype.at=Va,hr.prototype.chain=function(){return Ua(this)},hr.prototype.commit=function(){return new gr(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===o&&(this.__values__=Us(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},hr.prototype.plant=function(e){for(var t,n=this;n instanceof vr;){var r=pa(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},hr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof yr){var t=e;return this.__actions__.length&&(t=new yr(this)),(t=t.reverse()).__actions__.push({func:za,args:[Pa],thisArg:o}),new gr(t,this.__chain__)}return this.thru(Pa)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return Vi(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,Nt&&(hr.prototype[Nt]=function(){return this}),hr})();Dt._=Ln,(i=function(){return Ln}.call(t,n,t,r))===o||(r.exports=i)}).call(this)}).call(this,n(110),n(137)(e))}),(function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(623),o=n(628),a=(function(){function e(e,t,n){void 0===n&&(n="origin"),this.naming={stringify:t(o[n])},this.entity={block:e},this.entityMods={},this.entityMixes=[]}return e.prototype.e=function(e){return this.entity.elem=e,this},e.prototype.m=function(e){return this.entityMods=r({},this.entityMods,e),this},e.prototype.mix=function(e){return this.entityMixes=this.entityMixes.concat(e&&e.length?e:Array.prototype.slice.call(arguments,0)),this},e.prototype.entities=function(){var t=this,n=Object.keys(this.entityMods).reduce((function(e,n){return t.entityMods[n]&&e.push({block:t.entity.block,elem:t.entity.elem,mod:{name:n,val:t.entityMods[n]}}),e}),[this.entity]);return this.entityMixes.reduce((function(t,n){return"string"==typeof n?t.concat(n):n instanceof e?t.concat(n.entities()):t}),n)},e.prototype.stringify=function(){var e=this;return this.entities().map((function(t){return"string"==typeof t?t:e.naming.stringify(t)})).join(" ")},e.prototype.toString=function(){return this.stringify()},e.prototype.valueOf=function(){return this.stringify()},e})();t.default=function(e){return function(t){return new a(t,i,e)}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"iconProvider",(function(){return O}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=(n(978),n(11)),v=n.n(m);function g(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(){return v()()("ufo-icon")},b={s:12,m:16,l:24,xl:32,xxl:48,xxxl:64},_=(function(e){u()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getClassName",value:function(){var e=this.props,t=e.size,n=e.mix,r=e.cls,i=e.className,o=y().m({size:t}).mix("icon");if(n){var a=n.filter(Boolean).map((function(e){return v()()(e.block).e(e.elem).m(e.mods)}));o=o.mix(a)}var s=this.getClassName;return s&&(o=s(o)),i&&(o=o.mix(String(i))),r?o.mix(String(r)):o}},{key:"getContentSVG",value:function(){throw"Should be implemented"}},{key:"_getContent",value:function(){if(this.getContent)return this.getContent();var e=this._getDefaultSize&&b[this._getDefaultSize()]||b.m,t=this.props.iconSize&&b[this.props.iconSize]||e,n=this.getViewBox&&this.getViewBox()||"0 0 ".concat(e," ").concat(e);return h.a.createElement("svg",{className:y().e("icon"),width:t,height:t,role:this.props.role,onClick:this.props.onClick,viewBox:n},this.getContentSVG())}},{key:"render",value:function(){return h.a.createElement("span",{className:this._getClassName()},this._getContent())}}]),n})(p.Component);_.defaultProps={onClick:function(){},role:"none"},_.displayName="icon";var O=function(e){return function(t){return h.a.createElement(e,{cls:t})}};t.default=_}),(function(e,t,n){"use strict";n.r(t),n.d(t,"UPDATE_INVITES_TO_FOLDERS",(function(){return r})),n.d(t,"UPDATE_INVITE_TO_FOLDER",(function(){return i})),n.d(t,"REMOVE_INVITE_TO_FOLDER",(function(){return o})),n.d(t,"UPDATE_SETTINGS",(function(){return a})),n.d(t,"UPDATE_SPACE",(function(){return s})),n.d(t,"UPDATE_SEARCH",(function(){return u})),n.d(t,"DESELECT_RESOURCES",(function(){return c})),n.d(t,"DESELECT_ALL",(function(){return l})),n.d(t,"SET_SELECTED",(function(){return d})),n.d(t,"ADD_TO_SELECTED",(function(){return f})),n.d(t,"SET_HIGHLIGHTED",(function(){return p})),n.d(t,"SET_VIEW",(function(){return h})),n.d(t,"UPDATE_SORT",(function(){return m})),n.d(t,"UPDATE_RESOURCES",(function(){return v})),n.d(t,"DESTROY_RESOURCE_CHILDREN",(function(){return g})),n.d(t,"DESTROY_RESOURCE",(function(){return y})),n.d(t,"DESTROY_RESOURCES",(function(){return b})),n.d(t,"CREATE_RESOURCES",(function(){return _})),n.d(t,"UPDATE_RESOURCES_FOTKI_META",(function(){return O})),n.d(t,"UPDATE_SPACE_TARIFFS",(function(){return E})),n.d(t,"UPDATE_PAGE",(function(){return w})),n.d(t,"UPDATE_CONFIG",(function(){return S})),n.d(t,"UPDATE_ENVIRONMENT",(function(){return C})),n.d(t,"UPDATE_VERSIONS",(function(){return x})),n.d(t,"TOGGLE_SUBVERSIONS",(function(){return T})),n.d(t,"CLEAN_VERSIONS",(function(){return P})),n.d(t,"OPEN_DIALOG",(function(){return k})),n.d(t,"CLOSE_DIALOG",(function(){return j})),n.d(t,"UPDATE_DIALOG",(function(){return R})),n.d(t,"UPDATE_SHARED_FOLDERS_USERS",(function(){return I})),n.d(t,"UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE",(function(){return A})),n.d(t,"SET_SCROLL_TO_RESOURCE",(function(){return D})),n.d(t,"UPDATE_USER",(function(){return M})),n.d(t,"UPDATE_SUGGEST_QUERY",(function(){return N})),n.d(t,"UPDATE_SUGGEST_ACTIVATION",(function(){return L})),n.d(t,"UPDATE_SUGGEST_RESULT",(function(){return F})),n.d(t,"APPEND_SUGGEST_RESULT",(function(){return B})),n.d(t,"START_SEARCH_SESSION",(function(){return U})),n.d(t,"UPDATE_REMEMBER_BLOCK",(function(){return z})),n.d(t,"MOVE_CLONED_RESOURCES",(function(){return V})),n.d(t,"CANCEL_MOVE_CLONED_RESOURCE",(function(){return H})),n.d(t,"UPDATE_CLUSTERS_AND_RESOURCES",(function(){return W})),n.d(t,"APPLY_DIFF",(function(){return $})),n.d(t,"RESTORE_DELETED_ITEM",(function(){return G})),n.d(t,"EXCLUDE_RESOURCES_FROM_ALBUM",(function(){return q})),n.d(t,"HIDE_UPLOADER",(function(){return Y})),n.d(t,"OPEN_UPLOADER",(function(){return K})),n.d(t,"CLOSE_UPLOADER",(function(){return J})),n.d(t,"REMOVE_UPLOAD_RESOURCES_IDS",(function(){return Z})),n.d(t,"SET_HIGHLIGHTED_UPLOAD_RESOURCES",(function(){return X})),n.d(t,"HIDE_UPLOAD_NOTIFICATION",(function(){return Q})),n.d(t,"START_UPLOAD",(function(){return ee})),n.d(t,"INIT_UPLOADING_STATES",(function(){return te})),n.d(t,"UPDATE_UPLOADING_STATE",(function(){return ne})),n.d(t,"UPDATE_UPLOADING_PROGRESS",(function(){return re})),n.d(t,"UPDATE_ALBUM",(function(){return ie})),n.d(t,"REMOVE_ALBUM",(function(){return oe})),n.d(t,"FETCH_ALBUM_SUCCESS",(function(){return ae})),n.d(t,"CREATE_ALBUM",(function(){return se})),n.d(t,"CREATE_ALBUM_SUCCESS",(function(){return ue})),n.d(t,"CREATE_ALBUM_FAIL",(function(){return ce})),n.d(t,"UPDATE_ALBUMS_COMMON_DATA",(function(){return le})),n.d(t,"REMOVE_ITEMS_FROM_ALBUM",(function(){return de})),n.d(t,"ADD_ITEMS_TO_ALBUM",(function(){return fe})),n.d(t,"SET_IS_SELECTING_PHOTOS",(function(){return pe})),n.d(t,"FETCH_ALBUMS_LIST_SUCCESS",(function(){return he})),n.d(t,"ADD_OPERATIONS",(function(){return me})),n.d(t,"UPDATE_OPERATION",(function(){return ve})),n.d(t,"REMOVE_OPERATIONS",(function(){return ge})),n.d(t,"UPDATE_DEFAULT_FOLDERS",(function(){return ye})),n.d(t,"WFOLIO_CREATE_PROJECT",(function(){return be})),n.d(t,"WFOLIO_DELETE_PROJECT",(function(){return _e}));var r="UPDATE_INVITES_TO_FOLDERS",i="UPDATE_INVITE_TO_FOLDER",o="REMOVE_INVITE_TO_FOLDER",a="UPDATE_SETTINGS",s="UPDATE_SPACE",u="UPDATE_SEARCH",c="DESELECT_RESOURCES",l="DESELECT_ALL",d="SET_SELECTED",f="ADD_TO_SELECTED",p="SET_HIGHLIGHTED",h="SET_VIEW",m="UPDATE_SORT",v="UPDATE_RESOURCES",g="DESTROY_RESOURCE_CHILDREN",y="DESTROY_RESOURCE",b="DESTROY_RESOURCES",_="CREATE_RESOURCES",O="UPDATE_RESOURCES_FOTKI_META",E="UPDATE_SPACE_TARIFFS",w="UPDATE_PAGE",S="UPDATE_CONFIG",C="UPDATE_ENVIRONMENT",x="UPDATE_VERSIONS",T="TOGGLE_SUBVERSIONS",P="CLEAN_VERSIONS",k="OPEN_DIALOG",j="CLOSE_DIALOG",R="UPDATE_DIALOG",I="UPDATE_SHARED_FOLDERS_USERS",A="UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE",D="SET_SCROLL_TO_RESOURCE",M="UPDATE_USER",N="UPDATE_SUGGEST_QUERY",L="UPDATE_SUGGEST_ACTIVATION",F="UPDATE_SUGGEST_RESULT",B="APPEND_SUGGEST_RESULT",U="START_SEARCH_SESSION",z="UPDATE_REMEMBER_BLOCK",V="MOVE_CLONED_RESOURCES",H="CANCEL_MOVE_CLONED_RESOURCE",W="UPDATE_CLUSTERS_AND_RESOURCES",$="APPLY_DIFF",G="RESTORE_DELETED_ITEM",q="EXCLUDE_RESOURCES_FROM_ALBUM",Y="HIDE_UPLOADER",K="OPEN_UPLOADER",J="CLOSE_UPLOADER",Z="REMOVE_UPLOAD_RESOURCES_IDS",X="SET_HIGHLIGHTED_UPLOAD_RESOURCES",Q="HIDE_UPLOAD_NOTIFICATION",ee="START_UPLOAD",te="INIT_UPLOADING_STATES",ne="UPDATE_UPLOADING_STATE",re="UPDATE_UPLOADING_PROGRESS",ie="UPDATE_ALBUM",oe="REMOVE_ALBUM",ae="FETCH_ALBUM_SUCCESS",se="CREATE_ALBUM",ue="CREATE_ALBUM_SUCCESS",ce="CREATE_ALBUM_FAIL",le="UPDATE_ALBUMS_COMMON_DATA",de="REMOVE_ITEMS_FROM_ALBUM",fe="ADD_ITEMS_TO_ALBUM",pe="SET_IS_SELECTING_PHOTOS",he="FETCH_ALBUMS_LIST_SUCCESS",me="ADD_OPERATIONS",ve="UPDATE_OPERATION",ge="REMOVE_OPERATIONS",ye="UPDATE_DEFAULT_FOLDERS",be="WFOLIO_CREATE_PROJECT",_e="WFOLIO_DELETE_PROJECT"}),(function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"hit",(function(){return y})),n.d(t,"count",(function(){return b})),n.d(t,"countRaw",(function(){return _})),n.d(t,"countLeave",(function(){return O})),n.d(t,"countNavigation",(function(){return E})),n.d(t,"countSuggest",(function(){return w})),n.d(t,"countDocs",(function(){return S})),n.d(t,"reach",(function(){return C})),n.d(t,"accumulate",(function(){return x})),n.d(t,"release",(function(){return T})),n.d(t,"init",(function(){return P})),n.d(t,"hooks",(function(){return D}));var r,i,o=n(22),a=n.n(o),s=n(9),u=n.n(s),c=n(152),l=n(92),d=n(247);i=new Vow.Promise;var f=null,p=null,h=null,m=null,v={},g=!1,y=k(j("hit")),b=k((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduceRight((function(e,t){if(null===e)return t;var n={};return n[t]=e,n}),p);h&&(r.stat=h,m&&(r.stat.stat=Object.assign({},r.stat.stat,m()))),j("params")(r),g&&console.log("%c "+t.map((function(e){return e&&"string"!=typeof e?JSON.stringify(e):e})).join(" -> "),"color: #4233ff; font-weight: bold")})),_=k(j("params")),O=function(){b.apply(void 0,arguments);var e=new Vow.Promise;return window.setTimeout((function(){e.fulfill()}),700),e},E=function(e,t){if(r){var n=Object(c.getSlices)(r().getState()).find((function(t){return t.idContext===e}));b("navigation","via "+t,n?n.id:"custom folder"),b("actions","with resources","open folder",t)}},w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,["interface elements","search suggest"].concat(t))},S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,["docs"].concat(t))},C=k(j("reachGoal")),x=k((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(",");v[r]=(v[r]||0)+1})),T=k((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(",");v[r]&&(t.push(v[r].toString()+" time(s)"),b.apply(void 0,t),delete v[r])}));function P(t,n,o,a,s){r=n,g=Object(d.isDebugMode)("metrika"),window.yandex_metrika_callbacks||(window.yandex_metrika_callbacks=[]),window.yandex_metrika_callbacks.push((function(){try{f=e["yaCounter"+t]=new e.Ya.Metrika(Object.assign({id:t,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,ut:"noindex",tns:{account:"yandex_ru",tmsec:"yandex_disk"}},s)),i.fulfill()}catch(e){i.reject()}})),o&&o.length&&(p=o.reduceRight((function(e,t){var n={};return n[t]=e,n})));var u={},c=r().getState(),v=c.user,y=c.environment.session.experiment,b=void 0===y?{}:y;return v.uid&&Object.assign(u,{uid:v.uid,pdd:v.isPDD?"1":"0",b2b:v.isWS?"1":"0",paid:v.paid?"1":"0",yandexstaff:v.isYandexStaff?"1":"0","has vd":Object(l.hasVirtualDisks)(c)?"1":"0"}),Object.keys(b).forEach((function(e){b[e]&&(u.experiments=u.experiments||{},u.experiments[e]=!0)})),Object.keys(u).length&&(h={stat:u}),a&&(m=a),window.Ya&&window.Ya.Metrika?window.yandex_metrika_callbacks.forEach((function(e){e()})):(function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//mc.yandex.ru/metrika/watch.js",$((function(){e.parentNode&&e.parentNode.insertBefore(t,e)}))})(),i}function k(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.then((function(){e.apply(void 0,n)}))}}function j(e){return function(){try{var t;(t=f)[e].apply(t,arguments)}catch(e){}}}i&&i.then((function(){var e=$("body");function t(e){var t=$(e.currentTarget),n=t.data("metrika-"+e.type),r=(function(e){if(u.a.isString(e)&&""!==e)return u.a.map(e.split("|"),(function(e){return e.split(",")}));throw new Error("Wrong Yandex.Metrika call: No `data-metrika-params` passed.")})(t.data("metrika-params"));if("count"===n)r.forEach((function(e){b.apply(void 0,a()(e))}));else if("reach"===n)r.forEach((function(e){C.apply(void 0,a()(e))}));else if("countLeave"===n)e.preventDefault(),Vow.all(r.map((function(e){return O.apply(void 0,a()(e))}))).then((function(){location.assign(t.attr("href")||"")}));else if(n)throw new Error("Wrong Yandex.Metrika call: Unexpected `data-metrika-"+e.type+"` action.")}u.a.each(["click","dblclick"],(function(n){e.on(n,"[data-metrika-"+n+"]",t)}))}));var R={};function I(e,t){R[e.key]&&R[e.key][t]&&u.a.each(R[e.key][t],(function(t){t.call(e)}))}function A(e,t){R[e.key]&&(t&&R[e.key][t]?delete R[e.key][t]:delete R[e.key])}e.yr&&(yr.externals.addShowHookMetrika=function(e,t,n){var r;"count"===e?r=b:"reach"===e&&(r=C),u.a.isFunction(r)&&(function(e,t,n){R[e]||(R[e]={}),R[e][t]||(R[e][t]=[]),R[e][t].push(n)})(t,"show",(function(){r.apply(void 0,a()(n))}))});var D={execute:I,drop:A};t.default={init:P,count:b,countLeave:O,countNavigation:E,countSuggest:w,countDocs:S,countRaw:_,reach:C,hit:y,accumulate:x,release:T,hooks:{execute:I,drop:A}}}.call(this,n(110))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"offlineThreshold",(function(){return te})),n.d(t,"updateResources",(function(){return ne})),n.d(t,"getNewResource",(function(){return re})),n.d(t,"batchSetResourceData",(function(){return ie})),n.d(t,"setResourceData",(function(){return oe})),n.d(t,"removeResource",(function(){return ae})),n.d(t,"createResources",(function(){return se})),n.d(t,"notifyCreated",(function(){return ce})),n.d(t,"createResource",(function(){return le})),n.d(t,"replaceResource",(function(){return de})),n.d(t,"showResource",(function(){return fe})),n.d(t,"hideResource",(function(){return pe})),n.d(t,"setResourceBlocked",(function(){return he})),n.d(t,"showHiddenResource",(function(){return me})),n.d(t,"updateResource",(function(){return ye})),n.d(t,"startPublishResource",(function(){return be})),n.d(t,"stopPublishResource",(function(){return _e})),n.d(t,"setPublishResource",(function(){return Oe})),n.d(t,"unsetPublishResource",(function(){return Ee})),n.d(t,"setDownloadLimitResource",(function(){return Se})),n.d(t,"resetDownloadLimitResource",(function(){return Ce})),n.d(t,"publishResource",(function(){return xe})),n.d(t,"maybePublishResource",(function(){return Te})),n.d(t,"unpublishResource",(function(){return Pe})),n.d(t,"showFullsizeResource",(function(){return ke})),n.d(t,"downloadResource",(function(){return je})),n.d(t,"copyResource",(function(){return Re})),n.d(t,"moveResource",(function(){return Ie})),n.d(t,"setScrollToResource",(function(){return Ae})),n.d(t,"goToResource",(function(){return De})),n.d(t,"setShouldNotRestoreScroll",(function(){return Me})),n.d(t,"goToFolder",(function(){return Ne})),n.d(t,"openDv",(function(){return Fe})),n.d(t,"openDocsCopyConfirmation",(function(){return Be})),n.d(t,"editResource",(function(){return Ue})),n.d(t,"fetchResourceUrl",(function(){return Ve})),n.d(t,"getDirSize",(function(){return We})),n.d(t,"fetchVideoInfo",(function(){return $e})),n.d(t,"maybeSyncSliderUrl",(function(){return Ge})),n.d(t,"destroyChildren",(function(){return qe})),n.d(t,"destroyResourceAction",(function(){return Ye})),n.d(t,"destroyResource",(function(){return Ke})),n.d(t,"destroyResources",(function(){return Je})),n.d(t,"fetchSingleResource",(function(){return Xe})),n.d(t,"maybeFetchSingleResource",(function(){return Qe})),n.d(t,"openResource",(function(){return et})),n.d(t,"openResourceById",(function(){return tt})),n.d(t,"openOrEditResource",(function(){return nt})),n.d(t,"openSharedFolderAccessDialog",(function(){return rt})),n.d(t,"showResourceFotkiInfo",(function(){return it})),n.d(t,"fetchListing",(function(){return st})),n.d(t,"fetchCurrentListing",(function(){return ut})),n.d(t,"changeResourcesSort",(function(){return ct})),n.d(t,"fetchSliderResourceIfNeed",(function(){return lt})),n.d(t,"notifyChangedAccess",(function(){return dt})),n.d(t,"maybeSetClusterIdToResource",(function(){return ft})),n.d(t,"setNsLoadPreviewError",(function(){return pt})),n.d(t,"moveClonedResources",(function(){return ht})),n.d(t,"moveClonedResource",(function(){return vt})),n.d(t,"cancelMoveClonedResource",(function(){return gt})),n.d(t,"restoreDeletedItem",(function(){return yt})),n.d(t,"updateClustersAndResources",(function(){return bt})),n.d(t,"excludeResourceFromAlbum",(function(){return _t})),n.d(t,"saveShareEditMenuExpanded",(function(){return Ot})),n.d(t,"openScanResource",(function(){return Et})),n.d(t,"wfolioCopyUrl",(function(){return wt})),n.d(t,"wfolioSetSettings",(function(){return St})),n.d(t,"startCreatingWfolionProject",(function(){return Ct})),n.d(t,"stopCreatingWfolionProject",(function(){return xt})),n.d(t,"startDeletingWfolionProject",(function(){return Tt})),n.d(t,"stopDeletingWfolionProject",(function(){return Pt}));var r,i,o,a=n(10),s=n.n(a),u=n(22),c=n.n(u),l=n(103),d=n.n(l),f=n(9),p=n.n(f),h=n(572),m=n(121),v=n.n(m),g=n(14),y=n(23),b=n.n(y),_=n(54),O=n.n(_),E=n(63),w=n.n(E),S=n(35),C=n(20),x=n(40),T=n(13),P=n(59),k=n(573),j=n(29),R=n(36),I=n(19),A=n(165),D=n(44),M=n(57),N=n(156),L=n(130),F=n(197),B=n(30),U=n(52),z=n(173),V=n(34),H=n(104),W=n(24),$=n(914),G=n(39),q=n(92),Y=n(32),K=n(56),J=n(84),Z=n(80),X=n(209),Q=n(96),ee=n(102),te=5e3,ne=function(e,t){return{type:T.UPDATE_RESOURCES,payload:{resources:e,options:t}}},re=function(e,t,n){if(n){if(e){var r=p.a.cloneDeep(e);return p.a.set(r,n,t),S.default.updateResourceData(r,e)}return e}return S.default.updateResourceData(t,e)},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,n){var r=n().resources,i=[];e.forEach((function(e){var t=d()(e,3),n=t[0],o=t[1],a=t[2],s=r[n],u=re(s,o,a);u&&i.push(u)})),t(ne(i))}},oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(r,i){var o=i().resources,a=re(o[e],t,n);a&&r(ne([a]))}},ae=function(e){return function(t,n){var r=n();Object(I.isExistsResource)(r,e)&&t(Ke(e,Object(I.getResourceData)(r,e)))}},se=function(e){return{type:T.CREATE_RESOURCES,payload:e}},ue=[],ce=function(e,t){return function(n,i){ns.events.trigger("ufo-resource-create",{resource:Object(I.getResourceData)(i(),e)}),ue.push({id:e,options:t}),r||(r=Promise.resolve().then((function(){n(se(ue)),r=null,ue=[]})))}},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var i=b.a.normalize(e.id);return Object(I.isExistsResource)(r(),i)&&n(ae(i)),t.part&&p.a.set(e,"state.part",!0),n(oe(i,e)),t.silent||n(ce(i,t)),Object(I.getResourceData)(r(),i)}},de=function(e,t){return function(n,r){var i=b.a.normalize(t.id);return e===i?n(oe(e,t)):(n(ae(e)),n(le(t))),Object(I.getResourceData)(r(),i)}},fe=function(e){return function(t,n){Object(I.isExistsResource)(n(),e)&&t(oe(e,!1,"state.hidden"))}},pe=function(e){return function(t,n){Object(I.isExistsResource)(n(),e)&&t(oe(e,!0,"state.hidden"))}},he=function(e,t){return function(n,r){var i=r();Object(I.isExistsResource)(i,e)&&Object(I.getResourceData)(i,e,"state.blocked")!==t&&n(oe(e,t,"state.blocked"))}},me=function(e){return function(t,n){var r=n();Object(I.isExistsResource)(r,e)&&(Object(I.getResourceData)(r,e,"state.hidden")&&t(fe(e)),Object(I.getResourceData)(r,e,"state.disabled")&&t(oe(e,!1,"state.disabled")))}},ve=[],ge=null,ye=function(e){return function(t){return ve.push(e),ge||(ge=Promise.resolve().then((function(){ge=null,t(ne(ve)),ve=[]}))),ge}},be=function(e){return function(t,n){Object(I.isExistsResource)(n(),e)&&t(oe(e,!0,"state.publishing"))}},_e=function(e){return function(t,n){Object(I.isExistsResource)(n(),e)&&t(oe(e,!1,"state.publishing"))}},Oe=function(e,t){return function(n,r){Object(I.isExistsResource)(r(),e)&&(n(oe(e,1,"meta.public")),n(oe(e,S.default.fixShortUrl(t.short_url),"meta.short_url")),t.office_access_state&&n(oe(e,t.office_access_state,"meta.office_access_state")),t.office_online_sharing_url&&n(oe(e,t.office_online_sharing_url,"meta.office_online_sharing_url")))}},Ee=function(e){return function(t,n){var r,i;if(Object(I.isExistsResource)(n(),e)){t(oe(e,0,"meta.public")),t(oe(e,"","meta.short_url")),t(oe(e,{},"publicSettings"));var o=Object(I.getResourceData)(n(),e);null!==(r=o.meta)&&void 0!==r&&r.office_access_state&&t(oe(e,null,"meta.office_access_state")),null!==(i=o.meta)&&void 0!==i&&i.office_online_sharing_url&&t(oe(e,"","meta.office_online_sharing_url"))}}},we={},Se=function(e,t){return function(n){we[e]&&clearTimeout(we[e]),n(oe(e,!0,"state.downloadLimited")),void 0!==t&&(we[e]=setTimeout((function(){n(oe(e,!1,"state.downloadLimited")),delete we[e]}),t))}},Ce=function(e){return function(t){we[e]&&clearInterval(we[e]),delete we[e],t(oe(e,!1,"state.downloadLimited"))}},xe=function(e){return function(t,n){var r=n();if(t(Object(j.maybeBlockAction)({forLite:!0})))return Promise.reject();if(Object(M.shouldNotifyOverdraft)(r)&&!Object(M.getOverdraftType)(r))return t(Object(P.updateSettings)({closedOverdraftScreen:!1})),Promise.reject();g.default.count("about search","actions","publish"),g.default.reach("publish_resource");var i=v.a.create("publish",{idSrc:e,reverse:!1});return new Promise(function(e,t){i.on("ns-model-changed.status",(function(){"done"===i.get(".status")?e():"failed"===i.get(".status")&&t()}))})}},Te=function(e){return function(t,n){var r=n().resources[e];return!r||r.meta.public?Promise.resolve(!1):t(xe(e)).then((function(){return!0}))}},Pe=function(e){return function(t,n){var r=n(),i=Object(I.getResourceData)(r,e),o=function(e){g.default.count("about search","actions",e?"unpublish":"cancel unpublish")},a=Object($.getConfirmTexts)("ru");return t(Object(U.add)("confirmation",{dialogParams:{title:a.title,text:"dir"===i.type?a.text.folder:a.text.file,submitButtonText:a.submit,cancelButtonText:a.cancel,useNewDialog:!0},onSubmit:function(){o(!0),v.a.create("publish",{idSrc:e,reverse:!0})},onReject:function(){o(!1)}}))}},ke=function(e){return function(){ns.action.run("resource.show-fullsize",{id:e})}},je=function(e){return function(t,n){var r=Object(Y.isCurrentAlbumFamily)(n()),i=Object(Y.getCurrentAlbumId)(n()),o=n().resources;if(Array.isArray(e)){var a={};r&&(a.albumId=i,a.itemIds=e.map((function(e){return o[e].itemId}))),a.idResources=e,ns.action.run("resources.download",a)}else{var s=o[e],u={idResource:e};s.isVicariousDoc&&(u.hash=s.meta.public_hash),r&&(u.itemId=s.itemId,u.albumId=i),ns.action.run("resource.download",u)}}},Re=function(e){return function(t){t(Object(j.maybeBlockAction)({forLite:!0}))||t(Object(K.copyOperation)(e))}},Ie=function(e,t){return function(n,r){n(Object(j.maybeBlockAction)())||(Object(Z.isSagaOperation)(r(),J.OperationType.MOVE)?n(Object(K.moveOperation)({ids:e,targetFolderId:t})):(Array.isArray(e)&&1===e.length&&(e=e[0]),ns.action.run("resource.move",Array.isArray(e)?{idsResources:e,idFolderDst:t}:{id:e,idFolderDst:t})))}},Ae=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:T.SET_SCROLL_TO_RESOURCE,payload:{id:e,shouldSelect:t}}},De=function(e){return function(t,n){var r,i=n();0===e.indexOf("/photounlim/")?(r=b.a.getResourceSliderUrl(e),i.settings.sliderOpenedWithAction&&t(Object(P.updateSettings)({sliderOpenedWithAction:!1}))):(setTimeout((function(){t(Ae(e))}),0),r=b.a.getResourceSelectedUrl(e));Object(H.b)(i)&&t(Object(z.f)(!1));var o=ns.page.current.params;if("/recent"===o.idContext&&ns.history.replaceState(ns.router.generateUrl(ns.page.current.page,Object.assign({},o,{selectResource:e}))),Object(G.isDocsPage)(i)){var a,s=i.config.urlsBase.disk;return i.environment.agent.isInMobileApp&&"function"==typeof(null===(a=window.HOST_API)||void 0===a?void 0:a.gotoDir)?window.HOST_API.gotoDir(b.a.dirname(e),b.a.basename(e)):window.open(s+r,"_blank"),Vow.fulfill()}return O.a.go(r)}},Me=function(e){return{type:T.SET_SCROLL_TO_RESOURCE,payload:{shouldNotRestoreScroll:e}}},Ne=function(e){return function(){O.a.go(b.a.escape(b.a.getFolderUrl(e)))}},Le=function(e,t,n){var r=e.id,i=e.name,o=e.isVicariousDoc,a=e.meta.public_hash,s={name:i,version:t,date:n};o?(s.id=a,s.isPublic=!0):s.id=r,ns.action.run("resource.view-docviewer",s)},Fe=function(e,t,n){return function(r,i){Le(i().resources[e],t,n)}},Be=function(e){var t=e.toExtension,n=e.url,r=e.isAsyncEdit,i=void 0!==r&&r;return function(e){e(Object(C.openDialog)("docs-copy-confirmation",{toExtension:t,onClose:function(){e(Object(C.closeDialog)("docs-copy-confirmation"))},onSubmit:function(){e(Object(C.closeDialog)("docs-copy-confirmation")),e(Object(j.openUrlWithSk)(n,i))}}))}},Ue=function(e,t,n){return function(r,i){if(!r(Object(j.maybeBlockAction)({forLite:!0}))){var o=i(),a=o.resources[e],s=a.meta.office_online_sharing_url||a.meta.office_online_url,u=Object.assign({},t);Object(G.isDocsPage)(o)&&(u.source="docs"),s=w.a.addParams(s,u);var c=a.meta.office_convert_extension;if(c)r(Be({toExtension:c,url:s,isAsyncEdit:n}));else{var l=o.config,d=l.environment,f=l.urlsBase;"production"!==d&&(s=w.a.replaceHost(s,f.disk)),r(Object(j.openUrlWithSk)(s,n))}}}},ze={},Ve=function(e){var t=e.idResource+(e.inline?"_inline":"");if(ze[t])return ze[t];var n=Object(x.a)("do-get-resource-url",e).then((function(e){return delete ze[t],Promise.resolve(e.file||e.folder)})).catch((function(e){return delete ze[t],Promise.reject(e)}));return ze[t]=n,n},He={},We=function(e){return function(t,n){if(He[e])return He[e];var r="/trash"===e,i=Object(W.isVirtualDiskTrash)(e),o=r?Object(x.a)("space"):i?Object(x.a)("vd-space",{vdHash:Object(W.getVdHash)(e)}):Object(x.a)("resourceStats",{path:e});return o.then((function(o){var a=n().resources[e],s=Object.assign({lastSizeUpdatedTS:Date.now()},a.meta,r||i?{size:o.trash}:o);o.lastSizeUpdatedTS=Date.now(),t(oe(e,s,"meta")),delete He[e]})).catch((function(){delete He[e]})),He[e]=o,o}},$e=function(e){return function(t,n){var r=n().resources[e],i=r.meta.videoStreamingParams;if(!r.meta.videoInfoFetchDate||Date.now()-Number(r.meta.videoInfoFetchDate)>828e5)return Object(x.a)("videoInfo",i).then((function(n){t(oe(e,n,"meta.videoInfo")),t(oe(e,String(Date.now()),"meta.videoInfoFetchDate"))})).catch((function(){t(oe(e,!0,"meta.videoInfoLoadFailed"))}))}},Ge=function(e,t){return function(n,r){"slider"!==r().page.dialog||!t&&""!==t||e===t||(t?ns.action.run("app.openSlider",{id:t}):ns.action.run("dialog.close"))}},qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:T.DESTROY_RESOURCE_CHILDREN,payload:{parentId:e,resetComplete:t}}},Ye=function(e,t,n){return{type:T.DESTROY_RESOURCE,payload:{id:e,data:t,newIdDialog:n}}},Ke=function(e,t){return function(n,r){ns.events.trigger("ufo-resource-destroy",{resource:t});var i,o=r(),a=Object(R.sliderResourceSelector)(o);if(a&&a.id===e){var s=Object(N.getSliderResourceNeighbour)(o,1);i=s?s.id:""}if("dir"===t.type){var u=Object(R.getResourceSubfoldersIds)(r(),e).sort((function(e,t){return t.length-e.length}));[].concat(c()(u),[e]).forEach((function(e){return n(qe(e,!0))}))}n(Ye(e,t,i)),n(Object(F.h)()),n(Ge(a&&a.id,i))}},Je=function(e){return{type:T.DESTROY_RESOURCES,payload:e}},Ze={},Xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){if(Ze[e])return Ze[e];var i=Object(x.a)("resource",{id:e}).then((function(i){return Object(I.isExistsResource)(r(),e)?n(oe(e,i)):n(le(i,t)),delete Ze[e],Promise.resolve(Object(I.getResourceData)(r(),e))})).catch((function(t){return delete Ze[e],Promise.reject(t)}));return Ze[e]=i,i}},Qe=function(e,t){return function(n,r){return Object(I.isExistsResource)(r(),e)?n(Xe(e,t)):Promise.resolve()}},et=function(e,t,n){return function(r){var i=e.id,o=e.app,a=e.type,s=e.meta.mediatype;"slider"===o?("image"===s&&r(Object(X.sliderFirstPreviewStarted)()),A.a.startCollectTimings("slider"),ns.action.run("resource.view-slider",{id:i})):"docviewer"===o&&Object(B.can)(B.VIEW,e)?Le(e,t,n):["dir","vd"].includes(a)&&(A.a.startCollectTimings("listing"),r(Ne(i)))}},tt=function(e,t,n){return function(r,i){var o=i().resources[e];o&&r(et(o,t,n))}},nt=function(e){return function(t,n){var r=n(),i=r.resources[e];Object(B.can)(B.EDIT,i,r)?t(Ue(e)):t(tt(e))}},rt=function(e){return function(t,n){!n().resources[e].meta.group&&t(Object(j.maybeBlockAction)({forLite:!0}))||ns.action.run("dialog-access-folder.open",{id:e})}},it=function(e){return function(t){t(Object(C.openDialog)("fotkiInfo",{resourceId:e}))}},ot=["/narod","/attach/yalivelettersarchive","/attach/yaslovariarchive","/attach/yaruarchive","/attach/YaFotki"],at={},st=function(e,t){return function(n,r){var i=r(),o=i.page,a=o.idContext,u=o.search,l=o.originalNSParams,f=o.iterationKey,h=i.resources,m=i.environment.offlineTime,v=Object(R.resourceChildrenKey)(i,e),g=at[e]&&at[e][v];if(g)return g;var y=h[e]||{},_=t||m&&y.lastFetchTime&&y.lastFetchTime<m+te;if(p.a.get(y,"children."+v+".isComplete")&&!_)return Promise.resolve();var E,w={id:e,isLoading:!0};n(ne([h[e]?w:S.default.preprocess(w)]));var C="/published"===e?100:V.PORTION_SIZE;_?E=0:(E=p.a.get(y,"children."+v+".ids",[]).length,(e.startsWith("/search/")||"/attach"===e)&&(E+=y.countLost||0,E=Math.ceil(E/C)*C));var P=Object.assign({},Object(L.getSort)(i),{idContext:e,amount:C,offset:E});E||"/wfolio"===e||(P.withParent="1");var k=Object(Q.isAddFolderToDiskEnabled)(i);if(("/wfolio"===e||"/shared"===e&&k)&&(P.iteration_key=f),"/shared"===e&&k){var I=Object(ee.getUser)(i).isPDD;P.isPublicSavedLinks="1",P.isPDD=I?"1":"0"}return(e.startsWith("/search")||Object(W.isVirtualDiskSearchPath)(e))&&Object.assign(P,{querySearch:u.query,scopeSearch:u.scope,typeSearch:l.typeSearch,sessionIdSearch:Object(H.a)(i)}),g=A.a.withResourceTimingsPreserved(Object(x.a)("resources",P)).then((function(t){var i=d()(t,2),o=i[0],a=i[1],u=p.a.findLast(a,(function(e){return"xmlhttprequest"===e.initiatorType&&e.name.startsWith(location.origin+ns.request.URL)&&e.name.includes("resources")}));u&&A.a.collectTimings({xhrDuration:u.duration});var l=r().resources,f=S.default.preprocessResources(o.resources,r()),h=l[e]||{},m={};f[0]&&f[0].id===e&&((e.startsWith("/disk/")||Object(W.isPathInsideVirtualDiskFiles)(e)&&!Object(W.isRootOfVirtualDisk)(e))&&Object.assign(m,f[0]),f=f.slice(1));var g=_?[]:p.a.get(h,"children."+v+".ids",[]),y=f.map((function(e){return e.id})),b=o.countLost||0,O=o.resources.length+b<C&&!o.iteration_key;!O&&o.iteration_key&&n({type:T.UPDATE_PAGE,payload:{iterationKey:o.iteration_key}}),Object(W.getIsVirtualDiskList)(e)&&o.resources.forEach((function(e){var t=Object(W.getCurrentVirtualDiskTrash)(e.id);t&&n(oe(t,Object(W.getVirtualDiskTrashInitialState)(t,[{id:e.id,name:e.name}],e.space.trash)))})),O&&"/disk"===e&&!g.includes("/trash")&&y.push("/trash"),O&&Object(W.isRootOfVirtualDisk)(e)&&!g.includes(Object(W.getCurrentVirtualDiskTrash)(e))&&!Object(q.isReadOnlyVdResource)(e,r())&&y.push(Object(W.getCurrentVirtualDiskTrash)(e));var E=Object.assign({},h,m,{isLoading:!1,lastFetchTime:Date.now(),children:Object.assign({},_?{}:h.children,s()({},v,{countLost:b+(_?0:p.a.get(h,"children."+v+".countLost",0)),isComplete:O,ids:p.a.uniq([].concat(c()(g),c()(y)))}))});(e.startsWith("/search")||Object(W.isVirtualDiskSearchPath)(e))&&n(Object(j.updateSearch)({originalQuery:o.queryOriginal,correctedQuery:o.query})),f.unshift(E),delete at[e][v],n(ne(f))})).catch((function(t){if(delete at[e][v],t instanceof Error)throw t;var o={id:e,isLoading:!1},u=t&&t.id||"";if("/recent"===e&&"HTTP_400"===u){var c=r().resources[e];o.children=Object.assign({},c.children,s()({},v,Object.assign({},c.children[v],{isComplete:!0})))}if(n(ye(o)),e===a&&a===r().page.idContext)if("HTTP_404"!==u||Object(R.getListingStubId)(i))u.startsWith("HTTP_50")&&O.a.go("/client/error","preserve",{reason:"fetch_resource_error",error:t});else{var l=ot.some((function(t){return b.a.isParent(t,e)}))?"/client"+b.a.dirname(e):"/client/disk";O.a.go(l).then((function(){n(ae(a))}))}})),at[e]=Object.assign({},at[e],s()({},v,g)),g}},ut=function(e){return function(t,n){var r=n().page.idContext;return t(st(r,e))}},ct=function(e){return function(t,n){t(Object(k.b)(e.sort,e.order));var r=n(),i=Object(R.currentResourceChildrenIds)(r),o=Object(R.currentResourceIsComplete)(r);i.length||o||t(ut())}},lt=function(){return function(e,t){var n=t(),r=n.page.idDialog,i=n.resources;return i[r]?Promise.resolve(i[r]):e(Xe(r,{silent:!0})).then((function(e){return e.error?Promise.reject(e.error):Promise.resolve(e)})).catch((function(){t().page.idDialog===r&&e(Object(j.closeNsDialog)("slider"))}))}},dt=function(e){return function(t,n){var r=Object(R.getResourceSubfoldersIds)(n(),e).sort((function(e,t){return t.length-e.length}));[].concat(c()(r),[e]).forEach((function(e){return t(qe(e,!0))})),S.default.updateParentsOf(e)}},ft=function(e,t){return function(n,r){var i=r();if(Object(I.isExistsResource)(i,e)){var o=Object(I.getResourceData)(i,e,"clusterId");o&&o===t||n(oe(e,t,"clusterId"))}}},pt=function(e){return function(t,n){Object(I.isExistsResource)(n(),e)&&t(oe(e,!0,"meta.previewLoadFailed"))}},ht=function(e){var t=e.resourcesToMove,n=e.idContext,r=e.newIdDialog;return{type:T.MOVE_CLONED_RESOURCES,payload:{resources:t,idContext:n,newIdDialog:r}}},mt=[],vt=function(e,t){return function(n,r){var a=r(),s=a.page,u=s.idContext,c=s.idDialog;if(mt.push({src:e,dst:t}),c===e.id)if(t.isInTrash||u.startsWith("/disk")&&b.a.dirname(e.id)!==b.a.dirname(t.id)){var l=Object(N.getSliderResourceNeighbour)(a,1);o=l?l.id:""}else o=t.id;return i||(i=Promise.resolve().then((function(){i=null,n(ht({resourcesToMove:mt,idContext:u,newIdDialog:o})),n(Ge(c,o)),mt=[],o=void 0}))),i}},gt=function(e,t){return function(n,r){var i,o=r(),a=Object(R.sliderResourceSelector)(o);a&&a.id===t.id&&(i=e.id),n({type:T.CANCEL_MOVE_CLONED_RESOURCE,payload:{src:e,dst:t,newIdDialog:i}}),n(Ge(a&&a.id,i))}},yt=function(e){return function(t){t({type:T.RESTORE_DELETED_ITEM,payload:e})}},bt=function(e){return function(t,n){var r=e.clusters,i=n().resources;r&&r.fetched&&r.fetched.forEach((function(e){e.items.forEach((function(n){var r=n.id;i[r]&&!i[r].clusterId&&t(ft(r,e.id))}))})),t({type:T.UPDATE_CLUSTERS_AND_RESOURCES,payload:e})}},_t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){var o,a=i(),s=Object(R.sliderResourceSelector)(a);if(!n&&s&&"photo"===Object(D.getPage)(a)&&e.map((function(e){return e.id})).includes(s.id)){var u=Object(N.getSliderResourceNeighbour)(a,1);o=u?u.id:""}r({type:T.EXCLUDE_RESOURCES_FROM_ALBUM,payload:{resources:e,filter:t,cancel:n}}),r(Ge(s&&s.id,o))}},Ot=function(){return function(e){e(Object(P.saveSettings)({key:"shareEditMenuExpandedShowed",value:"1"}))}},Et=function(e){return function(t,n){var r=n(),i=r.resources,o=r.config.urlsBase.disk,a=r.environment.agent.isInMobileApp;if("dir"===i[e].type){var s=b.a.getFolderUrl(e),u=new URL(o+s);a?(u.searchParams.set("goToDir","1"),window.open(u.toString(),"_self")):window.open(u.toString(),"_blank")}else t(tt(e))}},wt=function(e){return function(t,n){var r=n(),i=Object(I.getResourceData)(r,e,"meta.wfolio_public_url");i&&h.default.copy(i)}},St=function(e){return function(t,n){var r=n(),i=Object(I.getResourceData)(r,e,"meta.wfolio_edit_url");i&&window.open(i,"_blank")}},Ct=function(e){return function(t,n){Object(I.isExistsResource)(n(),e)&&t(oe(e,!0,"state.creating-wfolion-project"))}},xt=function(e){return function(t,n){Object(I.isExistsResource)(n(),e)&&t(oe(e,!1,"state.creating-wfolion-project"))}},Tt=function(e){return function(t,n){Object(I.isExistsResource)(n(),e)&&t(oe(e,!0,"state.deleting-wfolion-project"))}},Pt=function(e){return function(t,n){Object(I.isExistsResource)(n(),e)&&t(oe(e,!1,"state.deleting-wfolion-project"))}}}),(function(e,t,n){"use strict";n.r(t);var r=n(352),i=n(497),o=n(106);let a=function(e){e()};const s=()=>a;var u=n(0),c=n.n(u);const l=Symbol.for(`react-redux-context-${u.version}`),d=globalThis;const f=new Proxy({},new Proxy({},{get(e,t){const n=(function(){let e=d[l];return e||(e=Object(u.createContext)(null),d[l]=e),e})();return(e,...r)=>Reflect[t](n,...r)}}));function p(e=f){return function(){return Object(u.useContext)(e)}}const h=p(),m=()=>{throw new Error("uSES not initialized!")};let v=m;const g=(e,t)=>e===t;function y(e=f){const t=e===f?h:p(e);return function(e,n={}){const{equalityFn:r=g,stabilityCheck:i,noopCheck:o}="function"==typeof n?{equalityFn:n}:n;const{store:a,subscription:s,getServerState:c,stabilityCheck:l,noopCheck:d}=t(),f=(Object(u.useRef)(!0),Object(u.useCallback)({[e.name]:t=>e(t)}[e.name],[e,l,i])),p=v(s.addNestedSub,a.getState,c||a.getState,f,r);return Object(u.useDebugValue)(p),p}}const b=y();var _=n(120),O=n(193),E=n(370),w=n.n(E),S=n(498);const C=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function x(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:a}){let s,u,c,l,d,f=!1;function p(f,p){const h=!o(p,u),m=!i(f,s,p,u);return s=f,u=p,h&&m?(c=e(s,u),t.dependsOnOwnProps&&(l=t(r,u)),d=n(c,l,u)):h?(e.dependsOnOwnProps&&(c=e(s,u)),t.dependsOnOwnProps&&(l=t(r,u)),d=n(c,l,u)):m?(function(){const t=e(s,u),r=!a(t,c);return c=t,r&&(d=n(c,l,u)),d})():d}return function(i,o){return f?p(i,o):(function(i,o){return c=e(s=i,u=o),l=t(r,u),d=n(c,l,u),f=!0,d})(i,o)}}function T(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function P(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function k(e,t){return function(t,{displayName:n}){const r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=P(e);let i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=P(i),i=r(t,n)),i},r}}function j(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function R(e){return e?"function"==typeof e?(function(e){return function(t,{displayName:n,areMergedPropsEqual:r}){let i,o=!1;return function(t,n,a){const s=e(t,n,a);return o?r(s,i)||(i=s):(o=!0,i=s),i}}})(e):j(e,"mergeProps"):()=>(function(e,t,n){return Object(_.a)({},n,e,t)})}const I={notify(){},get:()=>[]};function A(e,t){let n,r=I;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=(function(){const e=s();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let e=t;for(;e;)e.callback(),e=e.next})},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}})())}const a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=I)},getListeners:()=>r};return a}const D=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?u.useLayoutEffect:u.useEffect;function M(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function N(e,t){if(M(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!M(e[n[r]],t[n[r]]))return!1;return!0}const L=["reactReduxForwardedRef"];let F=m;const B=[null,null];function U(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}var z=function(e,t,n,{pure:r,areStatesEqual:i=function(e,t){return e===t},areOwnPropsEqual:o=N,areStatePropsEqual:a=N,areMergedPropsEqual:s=N,forwardRef:l=!1,context:d=f}={}){const p=d,h=(function(e){return e?"function"==typeof e?k(e):j(e,"mapStateToProps"):T(()=>({}))})(e),m=(function(e){return e&&"object"==typeof e?T(t=>(function(e,t){const n={};for(const r in e){const i=e[r];"function"==typeof i&&(n[r]=((...e)=>t(i(...e))))}return n})(e,t)):e?"function"==typeof e?k(e):j(e,"mapDispatchToProps"):T(e=>({dispatch:e}))})(t),v=R(n),g=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,r={shouldHandleStateChanges:g,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:m,initMergeProps:v,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:o,areMergedPropsEqual:s};function d(t){const[n,i,o]=Object(u.useMemo)(()=>{const{reactReduxForwardedRef:e}=t,n=Object(O.a)(t,L);return[t.context,e,n]},[t]),a=Object(u.useMemo)(()=>n&&n.Consumer&&Object(S.isContextConsumer)(c.a.createElement(n.Consumer,null))?n:p,[n,p]),s=Object(u.useContext)(a),l=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),d=Boolean(s)&&Boolean(s.store),f=l?t.store:s.store,h=d?s.getServerState:f.getState,m=Object(u.useMemo)(()=>(function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=t,o=Object(O.a)(t,C);return x(n(e,o),r(e,o),i(e,o),e,o)})(f.dispatch,r),[f]),[v,y]=Object(u.useMemo)(()=>{if(!g)return B;const e=A(f,l?void 0:s.subscription);return[e,e.notifyNestedSubs.bind(e)]},[f,l,s]),b=Object(u.useMemo)(()=>l?s:Object(_.a)({},s,{subscription:v}),[l,s,v]),E=Object(u.useRef)(),w=Object(u.useRef)(o),T=Object(u.useRef)(),P=Object(u.useRef)(!1),k=(Object(u.useRef)(!1),Object(u.useRef)(!1)),j=Object(u.useRef)();D(()=>(k.current=!0,()=>{k.current=!1}),[]);const R=Object(u.useMemo)(()=>()=>T.current&&o===w.current?T.current:m(f.getState(),o),[f,o]),I=Object(u.useMemo)(()=>e=>v?(function(e,t,n,r,i,o,a,s,u,c,l){if(!e)return()=>{};let d=!1,f=null;const p=()=>{if(d||!s.current)return;const e=t.getState();let n,p;try{n=r(e,i.current)}catch(e){p=e,f=e}p||(f=null),n===o.current?a.current||c():(o.current=n,u.current=n,a.current=!0,l())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}})(g,f,v,m,w,E,P,k,T,y,e):()=>{},[v]);let M;!(function(e,t,n){D(()=>e(...t),n)})(U,[w,E,P,o,T,y]);try{M=F(I,R,h?()=>m(h(),o):R)}catch(e){throw j.current&&(e.message+=`\nThe error may be correlated with this previous error:\n${j.current.stack}\n\n`),e}D(()=>{j.current=void 0,T.current=void 0,E.current=M});const N=Object(u.useMemo)(()=>c.a.createElement(e,Object(_.a)({},M,{ref:i})),[i,e,M]);return Object(u.useMemo)(()=>g?c.a.createElement(a.Provider,{value:b},N):N,[a,N,b])}const f=c.a.memo(d);if(f.WrappedComponent=e,f.displayName=d.displayName=n,l){const t=c.a.forwardRef((function(e,t){return c.a.createElement(f,Object(_.a)({},e,{reactReduxForwardedRef:t}))}));return t.displayName=n,t.WrappedComponent=e,w()(t,e)}return w()(f,e)}};var V=function({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const a=Object(u.useMemo)(()=>{const t=A(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),s=Object(u.useMemo)(()=>e.getState(),[e]);D(()=>{const{subscription:t}=a;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),s!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}},[a,s]);const l=t||f;return c.a.createElement(l.Provider,{value:a},n)};function H(e=f){const t=e===f?h:p(e);return function(){const{store:e}=t();return e}}const W=H();function $(e=f){const t=e===f?W:H(e);return function(){return t().dispatch}}const G=$();n.d(t,"batch",(function(){return o.unstable_batchedUpdates})),n.d(t,"Provider",(function(){return V})),n.d(t,"ReactReduxContext",(function(){return f})),n.d(t,"connect",(function(){return z})),n.d(t,"useDispatch",(function(){return G})),n.d(t,"createDispatchHook",(function(){return $})),n.d(t,"useSelector",(function(){return b})),n.d(t,"createSelectorHook",(function(){return y})),n.d(t,"useStore",(function(){return W})),n.d(t,"createStoreHook",(function(){return H})),n.d(t,"shallowEqual",(function(){return N})),(e=>{v=e})(i.useSyncExternalStoreWithSelector),(e=>{F=e})(r.useSyncExternalStore),(e=>a=e)(o.unstable_batchedUpdates)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"readFolder",(function(){return c})),n.d(t,"calculateEntryStats",(function(){return l})),n.d(t,"collectEntriesStats",(function(){return d})),n.d(t,"isOverLimitFileSize",(function(){return f})),n.d(t,"getLimitedForUploadFiles",(function(){return p})),n.d(t,"UPLOAD_ERROR_ID",(function(){return h})),n.d(t,"UPLOAD_ERRORS_TYPES",(function(){return m})),n.d(t,"UPLOAD_ERRORS",(function(){return v})),n.d(t,"getUploadError",(function(){return g})),n.d(t,"UPLOAD_NOTIFICATION_TYPES",(function(){return y})),n.d(t,"UPLOAD_STATUSES",(function(){return b})),n.d(t,"canRetryUpload",(function(){return _})),n.d(t,"isUploadInProgress",(function(){return O})),n.d(t,"canCancelUpload",(function(){return E})),n.d(t,"willCanCancelUpload",(function(){return w}));var r=n(148),i=n(34),o=i.MPFS_ERROR_CODES,a=i.UPLOADER_FILE_SIZE_LIMIT,s={},u=function(e,t){var n=Object.assign({event:"endUpload",completed:t,endUpload:Date.now()},e);Object(r.log)(n)};["done","cancel","fail","skip"].forEach((function(e){ns.events.on("ufo-upload-".concat(e),(function(t,n){var r=s[n.statId];r&&(r[n.type+"_"+e]++,n.root&&r["root_"+n.type+"_"+e]++,r.root_file_done+r.root_file_fail+r.root_file_cancel+r.root_folder_done+r.root_folder_fail+r.root_folder_cancel===r.rootFilesCount+r.rootFoldersCount&&(u(r,!0),setTimeout((function(){delete s[n.statId]}))))}))})),window.addEventListener("beforeunload",(function(){Object.keys(s).forEach((function(e){u(s[e],!1)}))}));var c=function(e){var t,n=new Vow.Promise,r=[];try{t=e.createReader(),(function e(i){t.readEntries((function(t){t.length?(r=r.concat([].slice.call(t||[],0)),e(i)):i(r)}),(function(e){n.reject(e)}))})(n.fulfill.bind(n))}catch(e){n.reject(e)}return n},l=function(e){var t={filesCount:0,foldersCount:0,totalSize:0,filesReadErrors:0,foldersReadErrors:0},n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipFile,i=function(e,r){return n instanceof Function&&n(e)?r(t):(t.filesCount+=1,t.totalSize+=e.size,r(t))};return new Promise(function(n){(function e(o){return o instanceof File?new Promise(function(e){i(o,e)}):o.isFile?new Promise(function(e){o.file((function(t){return i(t,e)}),(function(n){Object(r.log)({type:"calculateEntryStats",error:n}),t.filesReadErrors++,e(t)}))}):"function"==typeof o.createReader?c(o).then((function(n){return Promise.all(n.map(e)).then((function(){return t}))}),(function(e){Object(r.log)({type:"calculateEntryStats",error:e}),t.foldersReadErrors++,n(t)})):Promise.resolve(t)})(e).then((function(){n(t)}))})},d=function(e,t){var n=0,i=0;e.forEach((function(e){e instanceof File||e.isFile?i++:n++}));var o=t+"_"+Date.now();return s[o]={statsId:o,startUpload:Date.now(),rootFoldersCount:n,rootFilesCount:i,file_done:0,file_fail:0,file_skip:0,file_cancel:0,folder_done:0,folder_fail:0,folder_cancel:0,folder_skip:0,root_file_done:0,root_file_fail:0,root_file_cancel:0,root_folder_done:0,root_folder_fail:0,root_folder_cancel:0},Promise.all(e.map(l)).then((function(e){var t={filesCount:0,foldersCount:0,totalSize:0,filesReadErrors:0,foldersReadErrors:0};!(function(e,t){t.forEach((function(t){var n=t.filesCount,r=void 0===n?0:n,i=t.foldersCount,o=void 0===i?0:i,a=t.totalSize,s=void 0===a?0:a,u=t.filesReadErrors,c=void 0===u?0:u,l=t.foldersReadErrors,d=void 0===l?0:l;e.filesCount+=r,e.foldersCount+=o,e.totalSize+=s,e.filesReadErrors+=c,e.foldersReadErrors+=d}))})(t,e),Object.assign(s[o],{countEnd:Date.now()},t),Object(r.log)(Object.assign({event:"startUpload"},s[o]))})),o},f=function(e,t){return e.size>t&&e.size<=a},p=function(e,t){var n=[];return(Array.isArray(e)?e:Object.values(e)).forEach((function(e){!e.isDirectory&&f(e,t)&&n.push({name:e.name,size:e.size})})),n},h="UPLOAD_ERROR",m={TOO_BIG:"TOO_BIG",OVER_LIMIT:"OVER_LIMIT"},v={INSUFFICIENT_STORAGE:"INSUFFICIENT_STORAGE",OWNER_INSUFFICIENT_STORAGE:"OWNER_INSUFFICIENT_STORAGE",LOCKED:"LOCKED",CONFLICT:"CONFLICT",FILE_TOO_BIG:"FILE_TOO_BIG",FILE_SIZE_OVER_LIMIT:"FILE_SIZE_OVER_LIMIT",PARENT_FOLDER_CREATE_FAIL:"PARENT_FOLDER_CREATE_FAIL",FOLDER_NOT_CREATED:"FOLDER_NOT_CREATED",FOLDER_UPLOAD_INCOMPLETE:"FOLDER_UPLOAD_INCOMPLETE",SUBRESOURCE:"SUBRESOURCE",ENTRY_READ_FAIL:"ENTRY_READ_FAIL",LIMIT:"LIMIT",UNKNOWN:"UNKNOWN"},g=function(e){if(e){if("HTTP_507"===e.id||507===e.response||e.id===h&&507===e.status)return e.body&&e.body.code===o.OWNER_HAS_NO_FREE_SPACE?v.OWNER_INSUFFICIENT_STORAGE:v.INSUFFICIENT_STORAGE;if("HTTP_423"===e.id)return!e.body||e.body.code!==o.UPLOAD_LIMIT_QUOTA&&e.body.code!==o.UPLOAD_LIMIT_TECH?v.LOCKED:v.LIMIT;if(e.id===h&&e.type===m.TOO_BIG)return v.FILE_TOO_BIG;if(e.id===h&&e.type===m.OVER_LIMIT)return v.FILE_SIZE_OVER_LIMIT;if(e.body&&e.body.code===o.STORE_NOT_FOUND)return v.PARENT_FOLDER_CREATE_FAIL}return v.UNKNOWN},y={SERVICE:"service"},b={ENQUEUED:"ENQUEUED",GETTING_HASH:"GETTING_HASH",GETTING_URL:"GETTING_URL",CREATING_FOLDER:"CREATING_FOLDER",UPLOADING:"UPLOADING",UPLOADED:"UPLOADED",PROCESSING:"PROCESSING",DONE:"DONE",ERROR:"ERROR",CANCELED:"CANCELED",CONFLICT:"CONFLICT"},_=function(e){return[v.UNKNOWN,v.INSUFFICIENT_STORAGE,v.FOLDER_NOT_CREATED,v.LOCKED].includes(e)},O=function(e){return[b.GETTING_HASH,b.GETTING_URL,b.UPLOADING,b.UPLOADED,b.PROCESSING].includes(e)},E=function(e){return[b.ENQUEUED,b.UPLOADING,b.ERROR,b.CONFLICT].includes(e)},w=function(e){return[b.GETTING_HASH,b.GETTING_URL,b.CREATING_FOLDER].includes(e)}}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(1141),a="object"==typeof self&&self&&self.Object===Object&&self,s=(o.a||a||Function("return this")()).Symbol,u=Object.prototype;u.hasOwnProperty,u.toString,s&&s.toStringTag;Object.prototype.toString;s&&s.toStringTag;Object.getPrototypeOf,Object;var c=Function.prototype,l=Object.prototype,d=c.toString;l.hasOwnProperty,d.call(Object);n(936);var f={INIT:"@@redux/INIT"};function p(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function h(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o=Object.keys(n);var a=void 0;try{!(function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:f.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+f.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))})(n)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],d=c(l,t);if(void 0===d){var f=p(u,t);throw new Error(f)}i[u]=d,r=r||d!==l}return r?i:e}}Object.assign;var m=n(493),v=n(100),g=n(22),y=n.n(g),b=function(e,t){return function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1?arguments[1]:void 0;return i.type===n?e(i.payload,r):r}}},_=(b((function(e){return y()(e)}),[]),b((function(e,t){return Object.assign({},t,e)}),{})),O=(b((function(e){return Object.assign({},e)}),{}),b((function(e){return e}),""),n(103)),E=n.n(O),w=n(13),S=n(97),C=n.n(S),x=n(23),T=n(24),P=n(134),k=n(9),j=n.n(k),R=function(e,t,n){var r=e[t];r&&r.children&&Object.keys(r.children).forEach((function(o){var a=n(r.children[o],o);a&&(e[t]=Object.assign({},e[t],{children:Object.assign({},e[t].children,i()({},o,a))}))}))},I=function(e,t,n,r){R(e,n,(function(i,o){var a=i.ids,s=i.isComplete;if(!a.includes(t)){var u=(function(e,t,n,r){var i=e.type,o=n[t],a=j.a.reduce(o.children[r].ids,(function(e,t){return"file"===n[t].type?e.files.push(n[t]):"/trash"!==t&&e.dirs.push(n[t]),e}),{dirs:[],files:[]}),s=r.match(/^(.+)_(0|1)$/)||[],u=E()(s,3),c=u[1],l=u[2],d=c;"type"===c?d="name":"size"!==c&&"append_time"!==c||(d="meta."+c);var f="file"===i?a.files:a.dirs,p=Object(P.sortedIndex)(f,e,(function(e,t){var n,r=j.a.get(e,d),i=j.a.get(t,d);if(void 0===r)n=-1;else if(void 0===i)n=1;else if("type"===c){var o=[r,i].map((function(e){return 1===(e=e.split(".")).length?e.unshift("0"):e.unshift(j.a.last(e)),e.join(".")}));n=o[0]>o[1]?1:-1}else n=r>i?1:-1;return"0"===l?-1*n:n}));return"file"===i&&(p+=a.dirs.length),p})(e[t],n,e,o);if(!r||s||u<a.length){var c=y()(a);return c.splice(u,0,t),Object.assign({},i,{ids:c})}}}))},A=function(e,t,n){R(e,n,(function(e){var n=e.ids,r=n.indexOf(t);if(-1!==r){var i=y()(n);return i.splice(r,1),Object.assign({},e,{ids:i})}}))},D=function(e,t,n,r,i){var o=j.a.get(e[n],i),a=j.a.get(t[n],i);o&&!a?A(t,n,r):a&&!o&&I(t,n,r,!0)},M=function(e,t){var n=e[t];if(!n)return e;var r=n.parents&&n.parents.length&&n.parents[n.parents.length-1].id,i=Object.assign({},e);return delete i[t],[r,"/recent","/shared","/published","/family","/wfolio"].forEach((function(e){A(i,t,e)})),i},N=function(e){return!(!e||"file"!==e.type||e.isInTrash||!e.mtime)&&(e.id.startsWith("/disk")||e.id.startsWith("/photounlim"))},L=n(214),F={isLoaded:!1,invites:[],invitesByHash:{}},B={selected:[],highlighted:[],sort:{}},U=n(20);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e,t){return e.selectFolder&&e.selectFolder.state===U.STATE.OPENED&&(t.id===e.selectFolder.data.folderId||Object(x.isParent)(t.id,e.selectFolder.data.folderId))?V(V({},e),{},{selectFolder:V(V({},e.selectFolder),{},{data:V(V({},e.selectFolder.data),{},{folderId:"/disk"})})}):e},W={versions:[],subversions:{},iterationKey:null,error:!1,loading:!1},$={idContext:"",search:{query:"",scope:""},currentUrl:""},G={items:[],query:"",active:!1,state:"loading",error:null,sessionId:null},q={},Y=n(17),K=n(23).dirname,J=n(24).isPathInsideVirtualDiskFiles,Z={visible:!1,opened:!1,totalUploadingSize:0,totalUploadedSize:0,resourcesToUpload:[],highlighted:[],insufficientStorageNotificationShown:!1,notifications:[],uploadingStatesByIds:{}},X=function(e,t,n){e.resourcesToUpload=e.resourcesToUpload.map((function(e){return e===t?n:e})),e.uploadingStatesByIds[t]&&(e.uploadingStatesByIds=Object.assign({},e.uploadingStatesByIds,i()({},n,e.uploadingStatesByIds[t])),delete e.uploadingStatesByIds[t])},Q=function(e,t,n,r,o){e[t]=Object.assign({},e[t]),n===Y.UPLOAD_STATUSES.DONE&&(e[t][o?"loadedFolders":"loadedFiles"]+=1),n===Y.UPLOAD_STATUSES.ERROR&&(e[t][o?"foldersErrors":"filesErrors"]+=1,Object(Y.canRetryUpload)(r)&&e[t].retriableErrors++);var a=e[t],s=a.files,u=a.folders,c=a.loadedFiles,l=a.loadedFolders,d=a.filesErrors,f=a.foldersErrors;s===c+d&&u===l+f&&(d+f>0?e[t].status!==Y.UPLOAD_STATUSES.ERROR&&Object.assign(e[t],{status:Y.UPLOAD_STATUSES.ERROR,error:(function(e,t){var n,r=Y.UPLOAD_ERRORS.INSUFFICIENT_STORAGE,o=Y.UPLOAD_ERRORS.ENTRY_READ_FAIL,a=Y.UPLOAD_ERRORS.FILE_TOO_BIG,s=Y.UPLOAD_ERRORS.FILE_SIZE_OVER_LIMIT,u=Y.UPLOAD_ERRORS.UNKNOWN,c=Y.UPLOAD_ERRORS.SUBRESOURCE,l=Y.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE,d=(n={},i()(n,r,0),i()(n,o,0),i()(n,a,0),i()(n,s,0),i()(n,"other",0),n);return Object.keys(t).forEach((function(n){var i=t[n],u=i.rootFolderId,c=i.status,l=i.error;u===e&&c===Y.UPLOAD_STATUSES.ERROR&&([r,o,a,s].includes(l)?d[l]++:d.other++)})),d[r]>0?r:(d[o]>0||d[a]>0||d[s]>0)&&0===d.other?l:t[e].retriableErrors>0?u:c})(t,e)}):e[t].status=Y.UPLOAD_STATUSES.DONE)},ee=function(e,t,n,r){if(r===Y.UPLOAD_ERRORS.INSUFFICIENT_STORAGE){if(e.insufficientStorageNotificationShown)return;e.insufficientStorageNotificationShown=!0}var i={id:t,type:n,data:{resourceId:t,reason:r}},o=Y.UPLOAD_ERRORS.CONFLICT===r?e.notifications.findIndex((function(e){var t=e.data;return(t=void 0===t?{}:t).reason===Y.UPLOAD_ERRORS.CONFLICT})):-1;e.notifications=-1!==o?[].concat(y()(e.notifications.slice(0,o)),[i],y()(e.notifications.slice(o))):[].concat(y()(e.notifications),[i])},te=function(e,t){var n=Array.isArray(t)?t:[t];e.notifications=e.notifications.filter((function(e){var t=e.id;return!n.includes(t)}))},ne=function(e,t,n){var r=Object.assign({},e,{uploadingStatus:Y.UPLOAD_STATUSES.UPLOADING,uploadingStatesByIds:Object.assign({},e.uploadingStatesByIds)});return n&&(r.uploadingStatesByIds[n]=Object.assign({},r.uploadingStatesByIds[n])),t.forEach((function(e){var t=e.id,i=e.isDirectory,o=e.size,a=e.readFail;r.uploadingStatesByIds[t]&&delete r.uploadingStatesByIds[t];var s={loaded:0,total:o,status:Y.UPLOAD_STATUSES.ENQUEUED};a&&(Object.assign(s,{status:Y.UPLOAD_STATUSES.ERROR,error:Y.UPLOAD_ERRORS.ENTRY_READ_FAIL}),n&&(r.uploadingStatesByIds[n][i?"foldersErrors":"filesErrors"]+=1)),i&&!n&&Object.assign(s,{files:0,folders:0,loadedFiles:0,loadedFolders:0,filesErrors:0,foldersErrors:0,retriableErrors:0}),n&&(s.rootFolderId=n,r.uploadingStatesByIds[n][i?"folders":"files"]+=1,r.uploadingStatesByIds[n].total+=o),r.uploadingStatesByIds[t]=s,r.totalUploadingSize+=o})),r},re=function(e,t){Object.keys(e).forEach((function(n){t(e[n])&&(e[n]=Object.assign({},e[n],{status:Y.UPLOAD_STATUSES.ENQUEUED}),delete e[n].error)}))},ie=function(e){Object.assign(e,{visible:!1,opened:!1,resourcesToUpload:[],uploadingStatesByIds:{},totalUploadingSize:0,totalUploadedSize:0})},oe=function(e,t,n){var r=n.id;if(e.uploadingStatesByIds[r]){var i=e.uploadingStatesByIds[r].status;t.uploadingStatesByIds[r]=Object.assign({},j.a.omit(t.uploadingStatesByIds[r],"needCancel"),j.a.pick(n,["status","error","isDirectory"]));var o=t.uploadingStatesByIds[r],a=o.status,s=o.error,u=o.isDirectory,c=o.rootFolderId,l=o.files,d=o.folders;c&&[Y.UPLOAD_STATUSES.DONE,Y.UPLOAD_STATUSES.ERROR].includes(a)&&Q(t.uploadingStatesByIds,c,a,s,u),a===Y.UPLOAD_STATUSES.UPLOADING&&u&&!c&&0===l&&0===d&&(t.uploadingStatesByIds[r].status=Y.UPLOAD_STATUSES.DONE),a===Y.UPLOAD_STATUSES.CONFLICT&&ee(t,r,Y.UPLOAD_NOTIFICATION_TYPES.SERVICE,Y.UPLOAD_ERRORS.CONFLICT),a===Y.UPLOAD_STATUSES.ERROR&&(u&&s===Y.UPLOAD_ERRORS.FOLDER_NOT_CREATED&&(function e(t,n,r){Object.keys(t).forEach((function(i){K(i)===n&&(t[i]=Object.assign({},t[i],r),Q(t,t[i].rootFolderId,r.status,r.error,t[i].isDirectory),t[i].isDirectory&&e(t,i,r))}))})(t.uploadingStatesByIds,r,{status:Y.UPLOAD_STATUSES.ERROR,error:Y.UPLOAD_ERRORS.PARENT_FOLDER_CREATE_FAIL}),s!==Y.UPLOAD_ERRORS.INSUFFICIENT_STORAGE||J(r)||ee(t,r,Y.UPLOAD_NOTIFICATION_TYPES.SERVICE,Y.UPLOAD_ERRORS.INSUFFICIENT_STORAGE)),a===Y.UPLOAD_STATUSES.ENQUEUED&&(delete t.uploadingStatesByIds[r].error,u&&!c&&(function(e,t){Object.assign(e[t],{foldersErrors:0,filesErrors:0,retriableErrors:0}),re(e,(function(e){return e.rootFolderId===t&&e.status===Y.UPLOAD_STATUSES.ERROR}))})(t.uploadingStatesByIds,r)),a===Y.UPLOAD_STATUSES.CANCELED&&(Object(Y.canCancelUpload)(i)||e.uploadingStatesByIds[r].needCancel?(function(e,t){e.resourcesToUpload=e.resourcesToUpload.filter((function(e){return e!==t}));var n=e.uploadingStatesByIds[t],r=n.rootFolderId,i=n.total,o=n.loaded,a=n.isDirectory;r||a||(e.totalUploadingSize-=i,e.totalUploadedSize-=o),te(e,t),a&&Object.keys(e.uploadingStatesByIds).forEach((function(n){if(e.uploadingStatesByIds[n].rootFolderId===t){var r,i=e.uploadingStatesByIds[n];Object(Y.canCancelUpload)(i.status)?(r={status:Y.UPLOAD_STATUSES.CANCELED},e.totalUploadingSize-=i.total,e.totalUploadedSize-=i.loaded):Object(Y.willCanCancelUpload)(i.status)&&(r={needCancel:!0}),r&&(e.uploadingStatesByIds[n]=Object.assign({},i,r))}})),0===e.resourcesToUpload.length&&ie(e)})(t,r):(Object(Y.willCanCancelUpload)(i)&&(t.uploadingStatesByIds[r].needCancel=!0),t.uploadingStatesByIds[r].status=i)),a===Y.UPLOAD_STATUSES.UPLOADING&&u&&!c&&Object(Y.canRetryUpload)(s)&&(function(e,t){var n=e[t],r=n.retriableErrors;delete n.error,Object.assign(n,{filesErrors:n.filesErrors-r,retriableErrors:0}),re(e,(function(e){return e.rootFolderId===t&&e.status===Y.UPLOAD_STATUSES.ERROR&&Object(Y.canRetryUpload)(e.error)}))})(t.uploadingStatesByIds,r)}},ae=function(e){var t=0,n=0;e.resourcesToUpload.forEach((function(r){e.uploadingStatesByIds[r].status===Y.UPLOAD_STATUSES.DONE&&(t+=1),[Y.UPLOAD_STATUSES.ERROR,Y.UPLOAD_STATUSES.CONFLICT].includes(e.uploadingStatesByIds[r].status)&&(n+=1)})),e.resourcesToUpload.length&&t===e.resourcesToUpload.length?(e.totalUploadingSize=0,e.totalUploadedSize=0,e.uploadingStatus=Y.UPLOAD_STATUSES.DONE):t+n===e.resourcesToUpload.length?e.uploadingStatus=Y.UPLOAD_STATUSES.ERROR:e.uploadingStatus=Y.UPLOAD_STATUSES.UPLOADING},se=function(e,t){e.resourcesToUpload=e.resourcesToUpload.filter((function(e){return e!==t})),te(e,t),ae(e),0===e.resourcesToUpload.length&&ie(e)},ue=function(e,t){if(!e.visible)return e;var n=Object.assign({},e);if(n.uploadingStatesByIds[t]){if(n.uploadingStatesByIds=Object.assign({},n.uploadingStatesByIds),oe(e,n,{id:t,status:Y.UPLOAD_STATUSES.CANCELED}),!n.uploadingStatesByIds[t])return n;var r=n.uploadingStatesByIds[t],i=r.status,o=r.needCancel;i===Y.UPLOAD_STATUSES.CANCELED||o||(n.uploadingStatesByIds[t].isDirectory&&Object.keys(n.uploadingStatesByIds).forEach((function(e){var r=n.uploadingStatesByIds[e],i=r.rootFolderId,o=r.status,a=r.needCancel;i!==t||o===Y.UPLOAD_STATUSES.CANCELED||a||delete n.uploadingStatesByIds[e]})),delete n.uploadingStatesByIds[t]),se(n,t)}return n},ce=n(149),le=n(69),de=n(34),fe=n(194);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=Object(le.getPreloadedData)("favoriteAlbum"),ve=Object(le.getPreloadedData)("familyAlbum"),ge={isLoading:!1,isLoaded:!1,isCompleted:!1,ids:[],creatingAlbumsCount:0,isPublishSelected:!1,lastCreatedAlbumId:null,newAlbumTitle:"",scrollInAlbums:null,returnPath:"/client/albums",deletedItems:{},isSelectingPhotos:!1,albumsByIds:he(he({},me?i()({},me.id,me):{}),ve?i()({},ve.id,ve):{}),favoriteAlbumId:(me||{}).id,familyAlbumId:(ve||{}).id},ye=function(e,t,n){e.deletedItems=Object.assign({},e.deletedItems),e.deletedItems[t]=Object.assign({},e.deletedItems[t],i()({},n.id,n))},be=function(e,t,n,r,i){if(!e.albumsByIds[t]||!e.albumsByIds[t].clusters)return!1;e.albumsByIds=Object.assign({},e.albumsByIds);var o=e.albumsByIds[t]=Object.assign({},e.albumsByIds[t]);if(["geo","faces"].includes(o.album_type)){var a=o.bufferedPhotos.findIndex((function(e){return e.id===r}));if(-1!==a){var s=o.bufferedPhotos[a];return o.bufferedPhotos=o.bufferedPhotos.filter((function(e){return e.id!==r})),n&&ye(e,t,s),!0}}var u=Object(ce.getAlbumResourceIndexPath)(o,{id:r});if(!u)return!1;var c=u.clusterIndex,l=u.resourceIndex;o.clusters=y()(o.clusters);var d=y()(o.clusters[c].items);if(i)d.splice(l,1,Object.assign({},d[l],{id:i})),o.coverResourceId===r&&(o.coverResourceId=i);else{var f=d.splice(l,1),p=E()(f,1)[0];n&&ye(e,t,p)}return o.clusters[c]=Object.assign({},o.clusters[c],{size:d.length,items:d}),o.is_empty=!(d.length||1!==o.clusters.length&&o.clusters.find((function(e){return e.size>0}))),!0},_e=function(e,t){var n=e.albumsByIds[t];["geo","faces"].includes(n.album_type)?(function(e,t){var n=e.albumsByIds[t],r=n.clusters.filter((function(e){return e.size>0})).map((function(e){var t=e.items[0].resourceTime,n=e.items[e.items.length-1].resourceTime;return Object.assign({},e,{from:t,fromDay:Object(fe.getDateWithoutTime)(t),to:n,toDay:Object(fe.getDateWithoutTime)(n),size:e.items.length})}));e.albumsByIds[t]=Object.assign({},n,{clusters:r,structureVersion:n.structureVersion+1})})(e,t):(function(e,t){var n,r=[],i={id:1,items:[]},o=e.albumsByIds[t].clusters.filter((function(e){return e.size>0}));o.forEach((function(e,t){e.items.forEach((function(n,a){var s=t===o.length-1&&a===e.items.length-1;i.items.push(n),(i.items.length===de.PORTION_SIZE||s)&&(i.size=i.items.length,r.push(i),i={id:i.id+1,items:[]})}))})),r.length>1&&r[r.length-1].size<10&&((n=r[r.length-2].items).push.apply(n,y()(r[r.length-1].items)),r[r.length-2].size+=r[r.length-1].size,r.pop());e.albumsByIds[t]=Object.assign({},e.albumsByIds[t],{clusters:r,structureVersion:e.albumsByIds[t].structureVersion+1})})(e,t)},Oe=function(e,t){var n=Object.assign({},e),r={};t.forEach((function(e){var t=e.src,i=e.dst;t.albumIds&&t.albumIds.forEach((function(e){be(n,e,!0,t.id,!i.isInTrash&&i.id)&&(r[e]=!0)}))}));var i=Object.keys(r);return i.length?(i.forEach((function(e){_e(n,e)})),n):e},Ee=function(e,t,n){return Object.assign({},e,i()({},t,Object.assign({},e[t],n)))},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return[];for(var t=[Object.assign({},e[0])],n=1;n<e.length;n++){var r=e[n],i=j.a.last(t);(r.size<10||i.size<10)&&Object(fe.isSameMonth)(r.fromDay,i.fromDay)?Object.assign(i,{to:r.to,toDay:r.toDay,items:[].concat(y()(i.items),y()(r.items)),size:i.size+r.size}):t.push(Object.assign({},r))}return t},Se=function(e,t){var n=e.isCompleted,r=y()(e.clusters||[]);if(r.length>0&&(e.bufferedPhotos||[]).length>0){var i=j.a.last(r),o=j.a.first(e.bufferedPhotos),a=j.a.last(e.bufferedPhotos),s=Object(fe.getDateWithoutTime)(o.resourceTime),u=Object(fe.getDateWithoutTime)(a.resourceTime);u.getTime()===i.toDay.getTime()?r[r.length-1]=Object.assign({},i,{items:[].concat(y()(i.items),y()(e.bufferedPhotos)),size:i.size+e.bufferedPhotos.length,to:a.resourceTime,toDay:Object(fe.getDateWithoutTime)(a.resourceTime)}):r.push({id:s,from:o.resourceTime,fromDay:s,to:a.resourceTime,toDay:u,items:e.bufferedPhotos,size:e.bufferedPhotos.length})}e.bufferedPhotos=[];var c=t.reduce((function(e,t){var n=Object(fe.getDateWithoutTime)(t.resourceTime),r=j.a.last(e);return r&&r.toDay.getTime()===n.getTime()?(r.items.push(t),r.size++,r.to=t.resourceTime):e.push({id:n,from:t.resourceTime,fromDay:n,to:t.resourceTime,toDay:n,items:[t],size:1}),e}),[]),l=j.a.last(r),d=l&&c.length>0&&l.toDay.getTime()===c[0].fromDay.getTime(),f=d?[c[0]].concat(y()(we(c.slice(1)))):y()(we(c));if(!n){var p=j.a.last(f),h=[];p.items.length<20?(f.pop(),h=p.items):(h=p.items.slice(-10),p.items=p.items.slice(0,-10),p.size=p.items.length),e.bufferedPhotos=h}if(d){var m=f.shift();r[r.length-1]=Object.assign({},l,{items:[].concat(y()(l.items),y()(m.items)),size:l.size+m.size,to:m.to})}e.clusters=[].concat(y()(r),y()(f))},Ce=function(e,t,n){e.albumsByIds=Object.assign({},e.albumsByIds,i()({},t,Object.assign({},e.albumsByIds[t],{is_empty:!1})));var r=e.albumsByIds[t];["geo","faces"].includes(r.album_type)?(function(e,t,n,r){var i=Object.assign({},r),o=(n.clusters||[]).reduce((function(e,t){return[].concat(y()(e),y()(t.items))}),[]).concat(n.bufferedPhotos),a=Object(P.sortedIndex)(o,i,(function(e,t){return t.resourceTime-e.resourceTime}));o.splice(a,0,i),n.bufferedPhotos=[],n.clusters=[],Se(n,o)})(0,0,r,n):(function(e,t,n,r){n.clusters&&n.clusters.length||(n.clusters=[{items:[]}]);var i=ve&&ve.id===t?Object(ce.findNewAlbumItemPositionRevese)(n,r):Object(ce.findNewAlbumItemPosition)(n,r),o=i.clusterIndex,a=i.resourceIndex,s=y()(n.clusters[o].items);s.splice(a,0,r),n.clusters=y()(e.albumsByIds[t].clusters),n.clusters[o]=Object.assign({},n.clusters[o],{items:s,size:s.length})})(e,t,r,n)},xe=function(e,t){var n=Object.assign({},e),r=!1;return t.albumIds&&t.albumIds.forEach((function(e){be(n,e,!1,t.id)&&(r=!0,_e(n,e)),j.a.get(n,"deletedItems['".concat(e,"']['").concat(t.id,"']"))&&(n.deletedItems=Object.assign({},n.deletedItems,i()({},e,Object.assign({},n.deletedItems[e]))),n.deletedItems=Object.assign({},n.deletedItems),n.deletedItems[e]=Object.assign({},n.deletedItems[e]),delete n.deletedItems[e][t.id],0===Object.keys(n.deletedItems[e]).length&&delete n.deletedItems[e],r=!0)})),{newState:n,hasChanged:r}},Te=n(90),Pe=n(258),ke={id:"geo"},je={id:"faces"},Re={id:"favorites",name:"Избранные"},Ie={id:"family",name:"Альбом семьи"},Ae={isLoaded:!1,isLoading:!0,albums:{favorite:Re,family:Ie,camera:{id:"camera",count:0,name:"Камера"},videos:{id:"videos",count:0,name:"Видео"},screenshots:{id:"screenshots",count:0,name:"Скриншоты"},geo:ke,beautiful:{id:"beautiful",count:0,name:"Красивые"},unbeautiful:{id:"unbeautiful",count:0,name:"Разобрать"}},isOpenFamilyOnboarding:!1,isOpenFamilyAlbumOnboarding:!1},De=function(e){var t=e.state,n=e.initialAlbum,r=e.currentAlbum,o=e.path;if(!r||r.is_empty){var a=Object.assign({},t.albums,i()({},o,Object.assign({},n,r?{personalAlbumId:r.id}:{})));return Object.assign({},t,{albums:a})}var s=j.a.get(r,"cover.meta.sizes"),u=r.count,c=Object.assign({},n,s&&{preview:Object(Pe.a)(s,"DEFAULT")},{personalAlbumId:r.id},u&&{count:u}),l=Object.assign({},t.albums,i()({},o,c));return Object.assign({},t,{albums:l})},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te.h:return Object.assign({},e,t.payload);case Te.c:var n=t.payload.albums,r=e.albums,i={};return Object.keys(r).forEach((function(e){var o=n[e];!t.payload.single&&!o&&r[e]&&r[e].count&&(o={count:0}),o&&o.ids&&(o.ids=o.ids.length?[].concat(y()(r[e].ids||[]),y()(o.ids)):[]),i[e]=Object.assign({},r[e],o)})),Object.assign({},e,{albums:i});case w.REMOVE_ALBUM:if(!t.payload.albumType||!e.albums[t.payload.albumType])return e;var o=e.albums[t.payload.albumType],a=o.ids?o.ids.filter((function(e){return e!==t.payload.id})):[];if(!o.ids||o.ids===a.length)return e;var s=Object.assign({},e.albums);return s[t.payload.albumType]=Object.assign({},s[t.payload.albumType],{ids:a}),Object.assign({},e,{albums:s});case Te.e:if(!t.payload.length){var u=Object.assign({},e.albums,{geo:null});return Object.assign({},e,{albums:u})}var c=j.a.get(t.payload[0],"cover.object.meta.sizes"),l=Object.assign({},ke,e.albums.geo,c&&{preview:Object(Pe.a)(c,"DEFAULT")}),d=Object.assign({},e.albums,{geo:l});return Object.assign({},e,{albums:d});case Te.d:if(!t.payload.album.length){var f=Object.assign({},e.albums,{faces:null});return Object.assign({},e,{albums:f})}var p=t.payload.album[0],h=j.a.get(p,"cover.object.meta.sizes"),m=j.a.pick(j.a.get(p,"cover"),["face_bottom","face_top","face_left","face_right","width","height"]),v=Object.assign({},je,e.albums.faces,(t.payload.refresh||!(e.albums.faces&&e.albums.faces.preview))&&h&&{preview:Object(Pe.a)(h,"DEFAULT"),previewAlbumId:j.a.get(p,"id"),previewResourceId:j.a.get(p,"cover.object.id"),cover:m}),g=Object.assign({},e.albums,{faces:v});return Object.assign({},e,{albums:g});case Te.j:return De({state:e,path:"favorite",initialAlbum:Re,currentAlbum:t.payload.length?t.payload[0]:void 0});case Te.g:return Object.assign({},e,{isOpenFamilyOnboarding:!0});case Te.b:return Object.assign({},e,{isOpenFamilyOnboarding:!1});case Te.f:return Object.assign({},e,{isOpenFamilyAlbumOnboarding:!0});case Te.a:return Object.assign({},e,{isOpenFamilyAlbumOnboarding:!1});case Te.i:return De({state:e,path:"family",initialAlbum:Ie,currentAlbum:t.payload.length?t.payload[0]:void 0});default:return e}},Ne=n(514),Le=n.n(Ne),Fe=n(405),Be=n.n(Fe),Ue=n(577),ze=n.n(Ue),Ve=n(180),He=n.n(Ve),We=n(56),$e=n.n(We),Ge=n(42),qe=n.n(Ge),Ye=n(245),Ke=n.n(Ye),Je={user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.UPDATE_USER:var n=Object.assign({},e);return Object.assign({},j.a.omit(n,["overdraft_status","overdraft_block_date"]),t.payload);default:return e}},environment:_(w.UPDATE_ENVIRONMENT),config:_(w.UPDATE_CONFIG),defaultFolders:_(w.UPDATE_DEFAULT_FOLDERS),settings:_(w.UPDATE_SETTINGS),space:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.UPDATE_SPACE:return Object.assign({},e,t.payload);default:return e}},billingProducts:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},rememberBlock:_(w.UPDATE_REMEMBER_BLOCK),page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.UPDATE_PAGE:return Object.assign({},e,t.payload,{search:Object.assign({},e.search,t.payload.search)});case w.UPDATE_SEARCH:return Object.assign({},e,{search:Object.assign({},e.search,t.payload)});case w.MOVE_CLONED_RESOURCES:case w.CANCEL_MOVE_CLONED_RESOURCE:case w.DESTROY_RESOURCE:case w.EXCLUDE_RESOURCES_FROM_ALBUM:case w.REMOVE_ITEMS_FROM_ALBUM:return t.payload.newIdDialog||""===t.payload.newIdDialog?Object.assign({},e,{idDialog:t.payload.newIdDialog}):e;default:return e}},scrollToResource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.SET_SCROLL_TO_RESOURCE:return Object.assign({},e,t.payload);case w.UPDATE_PAGE:return"select"===t.payload.dialog?Object.assign({},e,{id:t.payload.idDialog,shouldSelect:!0}):t.payload.selectResource?Object.assign({},e,{id:t.payload.selectResource,shouldSelect:!0}):e;default:return e}},versions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.UPDATE_VERSIONS:var n=t.payload,r=n.data,o=n.error,a=n.parentId,s=n.clean,u=n.loading;if(r){var c=r.versions,l=r.iteration_key,d=!Boolean(l);if(a){var f=(!s&&e.subversions[a]&&e.subversions[a].versions?e.subversions[a].versions:[]).concat(c);return Object.assign({},e,{subversions:Object.assign({},e.subversions,i()({},a,Object.assign({},e.subversions[a],{loading:u,error:!1,completed:d,versions:f,iterationKey:l})))})}var p=c.reduce((function(e,t){return t.folded_items_iteration_key&&(e[t.id]={loading:!1,completed:!1,opened:!1,versions:[],iterationKey:t.folded_items_iteration_key}),e}),{});return Object.assign({},e,{subversions:Object.assign(p,s?{}:e.subversions),loading:u,error:!1,completed:d,versions:(s?[]:e.versions).concat(c),iterationKey:l})}return a?Object.assign({},e,{subversions:Object.assign({},e.subversions,i()({},a,Object.assign({},e.subversions[a],{loading:u,error:o})))}):Object.assign({},e,{loading:u,error:o});case w.TOGGLE_SUBVERSIONS:var h=t.payload.parentId;return Object.assign({},e,{subversions:Object.assign({},e.subversions,i()({},h,Object.assign({},e.subversions[h],{opened:!e.subversions[h].opened})))});case w.CLEAN_VERSIONS:return W;default:return e}},statesContext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.UPDATE_SORT:if(!t.payload.idContext)return e;var n=Object.assign({},e.sort,i()({},t.payload.idContext,{sort:t.payload.sort,order:t.payload.order}));return Object.assign({},e,{sort:n});case w.DESELECT_RESOURCES:var r=!1,o=e.selected.slice();return t.payload.resourcesIds.forEach((function(e){var t=o.indexOf(e);-1!==t&&(o.splice(t,1),r=!0)})),r?Object.assign({},e,{selected:o}):e;case w.DESELECT_ALL:return e.selected.length?Object.assign({},e,{selected:[]}):e;case w.SET_SELECTED:return Object.assign({},e,{selected:t.payload.selected});case w.ADD_TO_SELECTED:return Object.assign({},e,{selected:j.a.union(e.selected,t.payload.resourcesIds)});case w.SET_HIGHLIGHTED:return Object.assign({},e,{highlighted:t.payload.highlighted});case w.SET_VIEW:return Object.assign({},e,{view:t.payload.view});default:return e}},invitesToFolders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.UPDATE_INVITES_TO_FOLDERS:var n={},r=[];return t.payload.forEach((function(t){n[t.hash]=Object.assign({},t,{status:L.INVITES_STATUSES.INITIAL},e.invitesByHash[t.hash]),r.push(t.hash)})),Object.assign({},e,{isLoaded:!0,invites:r,invitesByHash:n});case w.UPDATE_INVITE_TO_FOLDER:return Object.assign({},e,{invitesByHash:Object.assign({},e.invitesByHash,i()({},t.payload.hash,Object.assign({},e.invitesByHash[t.payload.hash]||{},t.payload)))});case w.REMOVE_INVITE_TO_FOLDER:var o=Object.assign({},e.invitesByHash);return delete o[t.payload.hash],Object.assign({},e,{invites:e.invites.filter((function(e){return e!==t.payload.hash})),invitesByHash:o});default:return e}},sharedFoldersUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.UPDATE_SHARED_FOLDERS_USERS:var n=e[t.payload.gid]||{};return Object.assign({},e,i()({},t.payload.gid,Object.assign({},n,{users:t.payload.users})));case w.UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE:var r=e[t.payload.gid]||{};return Object.assign({},e,i()({},t.payload.gid,Object.assign({},r,{isLoading:t.payload.isLoading})));default:return e}},resources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.updateList.type:case w.FETCH_ALBUM_SUCCESS:case w.ADD_ITEMS_TO_ALBUM:case w.UPDATE_CLUSTERS_AND_RESOURCES:case w.UPDATE_RESOURCES:if(!t.payload.resources)return e;var n=t.payload.options||{},r=t.payload.resources.reduce((function(t,n){return t[n.id]=Object.assign({},e[n.id],t[n.id],n),t}),{}),o=Object.assign({},e,r);return Object.keys(r).forEach((function(t){var r,i=0!==j.a.get(o[t],"meta.group.is_root",0),a="family"===j.a.get(o[t],"meta.group.group_type","default"),s=null!==j.a.get(o[t],"meta.wfolio_project_id",null),u=j.a.get(o[t],"isInTrash");D(e,o,t,"/published","meta.public"),D(e,o,t,"/shared","meta.group.is_root"),i&&a&&D(e,o,t,"/family","meta.group.group_type"),s&&!u&&D(e,o,t,"/wfolio","meta.wfolio_project_id"),(N(e[t])||N(o[t]))&&j.a.get(e[t],"mtime")!==j.a.get(o[t],"mtime")&&(A(o,t,"/recent"),N(o[t])&&I(o,t,"/recent",!0));var c=Object(x.dirname)(t);null!==(r=e[c])&&void 0!==r&&r.children&&(e[t]&&(j.a.get(e[t],"mtime")!==j.a.get(o[t],"mtime")||j.a.get(e[t],"name")!==j.a.get(o[t],"name")||j.a.get(e[t],"size")!==j.a.get(o[t],"size"))||n.addToChildren)&&(A(o,t,c),I(o,t,c,!0))})),o;case w.MOVE_CLONED_RESOURCES:var a=Object.assign({},e),s=!1,u=a[t.payload.idContext],c=u&&u.id.startsWith("/remember/"),l=u&&"/photo"===u.id,d=u&&(u.id.startsWith("/search/")||Object(T.isVirtualDiskSearchPath)(u.id));return t.payload.resources.forEach((function(e){var n=e.src,r=e.dst;if(!r.isInTrash){if(c){var o=(u=a[t.payload.idContext])&&u.children||[],f=o.indexOf(n.id);if(-1!==f){var p,h=[].concat(y()(o.slice(0,f)),[r.id],y()(o.slice(f+1)));a=Object.assign({},a,(p={},i()(p,u.id,Object.assign({},u,{children:h})),i()(p,r.id,Object.assign({},r)),p)),s=!0}}l&&(a=Object.assign({},a,i()({},r.id,Object.assign({},r))),s=!0),d&&R(a,t.payload.idContext,(function(e){var t=e.ids,i=t.indexOf(n.id);if(-1!==i){var o=y()(t);return o.splice(i,1,r.id),s=!0,Object.assign({},e,{ids:o})}}))}})),s?a:e;case w.DESTROY_RESOURCE:return M(e,t.payload.id);case w.DESTROY_RESOURCES:return t.payload.reduce((function(e,t){return M(e,t.id)}),e);case w.CREATE_RESOURCES:var f=Object.assign({},e);return t.payload.forEach((function(e){var t=e.id,n=e.options,r=f[t];if(r){var i=Object(x.dirname)(t),o=0!==j.a.get(r,"meta.group.is_root",0),a="family"===j.a.get(r,"meta.group.group_type","default");I(f,t,i,n.insertOnlyIfPortionLoaded),j.a.get(r,"meta.public")&&I(f,t,"/published",n.insertOnlyIfPortionLoaded),j.a.get(r,"meta.group.is_root")&&I(f,t,"/shared",n.insertOnlyIfPortionLoaded),o&&a&&I(f,t,"/family",n.insertOnlyIfPortionLoaded),N(r)&&I(f,t,"/recent",n.insertOnlyIfPortionLoaded)}})),f;case w.DESTROY_RESOURCE_CHILDREN:var p=e[t.payload.parentId];if(!p)return e;var h=Object.assign({},e),m={};return p.children&&Object.keys(p.children).forEach((function(e){(p.children[e].ids||[]).forEach((function(e){delete h[e]})),m[e]=Object.assign({},p.children[e],{ids:[],countLost:0},t.payload.resetComplete?{isComplete:!1}:{})})),h[t.payload.parentId]=Object.assign({},p,{children:m}),h;default:return e}},resourcesFotkiMeta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.UPDATE_RESOURCES_FOTKI_META:var n=Object.assign({},t.payload.data);return t.payload.data&&t.payload.data.comments&&(n.comments=(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=[],i=[];return t.forEach((function(e){!n&&!e.parentId||e.parentId===n?r.push(e):i.push(e)})),r.forEach((function(t,n){r[n].replies=e(i,t.id)})),r})(t.payload.data.comments)),Object.assign({},e,i()({},t.payload.resourceId,{data:n,state:t.payload.state}));default:return e}},dialogs:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=t[n.payload&&n.payload.dialog]||{};switch(n.type){case w.OPEN_DIALOG:return e=r.state===U.STATE.OPENED?Object.assign({},r.data,n.payload.data):Object.assign({},n.payload.data),Object.assign({},t,i()({},n.payload.dialog,{state:U.STATE.OPENED,data:e}));case w.UPDATE_DIALOG:var o=t[n.payload.dialog]&&t[n.payload.dialog].state||U.STATE.CLOSED;return Object.assign({},t,i()({},n.payload.dialog,{state:o,data:Object.assign({},r.data,n.payload.data)}));case w.CLOSE_DIALOG:return Object.assign({},t,i()({},n.payload.dialog,{state:U.STATE.CLOSED,data:Object.assign({},r.data,n.payload.data)}));case w.DESTROY_RESOURCE:return H(t,n.payload.data);case w.DESTROY_RESOURCES:return n.payload.reduce((function(e,t){return H(e,t)}),t);default:return t}},suggest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.UPDATE_SUGGEST_QUERY:return Object.assign({},e,{query:t.payload,state:"loading"});case w.UPDATE_SUGGEST_ACTIVATION:return Object.assign({},e,{active:t.active});case w.UPDATE_SUGGEST_RESULT:return Object.assign({},e,{state:t.payload.state,error:t.payload.error,items:t.payload.items?t.payload.items:e.items});case w.APPEND_SUGGEST_RESULT:return Object.assign({},e,{state:t.payload.state,items:e.items.concat(t.payload.items)});case w.START_SEARCH_SESSION:return Object.assign({},e,{sessionId:t.payload});default:return e}},promo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;return(arguments.length>1?arguments[1]:void 0).type,e},uploader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.START_UPLOAD:var n=t.payload,r=n.states,i=n.position,o=void 0===i?0:i,a=r.map((function(e){return e.id}));return Object.assign(ne(e,r),{visible:!0,opened:!0,resourcesToUpload:j.a.uniq([].concat(y()(e.resourcesToUpload.slice(0,o)),y()(a),y()(e.resourcesToUpload.slice(o))))});case w.HIDE_UPLOADER:var s=Object.assign({},e);return ie(s),s;case w.OPEN_UPLOADER:return Object.assign({},e,{opened:!0});case w.CLOSE_UPLOADER:return Object.assign({},e,{opened:!1});case w.SET_HIGHLIGHTED_UPLOAD_RESOURCES:return Object.assign({},e,{highlighted:t.payload});case w.REMOVE_UPLOAD_RESOURCES_IDS:return Object.assign({},e,{resourcesToUpload:j.a.difference(e.resourcesToUpload,t.payload)});case w.MOVE_CLONED_RESOURCES:if(!e.visible)return e;var u=Object.assign({},e);return t.payload.resources.forEach((function(e){var t=e.src,n=e.dst;t.state&&t.state.reuploaded||(n.isInTrash?se(u,t.id):X(u,t.id,n.id))})),u;case w.CANCEL_MOVE_CLONED_RESOURCE:if(!e.visible)return e;var c=Object.assign({},e);return X(c,t.payload.dst.id,t.payload.src.id),c;case w.DESTROY_RESOURCE:return ue(e,t.payload.id);case w.DESTROY_RESOURCES:return t.payload.reduce((function(e,t){return ue(e,t.id)}),e);case w.HIDE_UPLOAD_NOTIFICATION:var l=Object.assign({},e);return te(l,t.payload),l;case w.INIT_UPLOADING_STATES:var d=t.payload,f=d.states,p=d.rootFolderId;return ne(e,f,p);case w.UPDATE_UPLOADING_STATE:if(!e.visible)return e;var h=Object.assign({},e,{uploadingStatesByIds:Object.assign({},e.uploadingStatesByIds)});return(Array.isArray(t.payload)?t.payload:[t.payload]).forEach((function(t){oe(e,h,t)})),ae(h),h;case w.UPDATE_UPLOADING_PROGRESS:if(!e.visible)return e;var m=Array.isArray(t.payload)?t.payload:[t.payload],v=Object.assign({},e.uploadingStatesByIds),g=e.totalUploadedSize,b=!1;return m.forEach((function(e){var t=e.id,n=e.loaded,r=e.total,i=v[t];if(i&&i.status!==Y.UPLOAD_STATUSES.CANCELED){var o=i.rootFolderId;if(!o||v[o]&&v[o].status!==Y.UPLOAD_STATUSES.CANCELED){b=!0;var a=n-i.loaded;v[t]=Object.assign({},i,{loaded:n,total:r}),n===r&&v[t].status===Y.UPLOAD_STATUSES.UPLOADING&&(v[t].status=Y.UPLOAD_STATUSES.UPLOADED),o&&(v[o]=Object.assign({},v[o],{loaded:v[o].loaded+a})),g+=a}}})),b?Object.assign({},e,{totalUploadedSize:g,uploadingStatesByIds:v}):e;default:return e}},personalAlbums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.CREATE_ALBUM:var n=Object.assign({},e);return n.lastCreatedAlbumId=null,n.isPublishSelected=!!t.payload.isPublishSelected,n.creatingAlbumsCount++,n;case w.CREATE_ALBUM_SUCCESS:var r=Object.assign({},e);return r.creatingAlbumsCount&&r.creatingAlbumsCount--,r.lastCreatedAlbumId=t.payload.id,r.albumsByIds=Ee(r.albumsByIds,t.payload.id,t.payload),r.ids=[t.payload.id].concat(y()(r.ids||[])),r;case w.FETCH_ALBUMS_LIST_SUCCESS:var o=Object.assign({},e);return t.payload.albums.forEach((function(e){o.albumsByIds=Ee(o.albumsByIds,e.id,e)})),!t.payload.albumType&&t.payload.ids&&(o.ids=[].concat(y()(o.ids||[]),y()(t.payload.ids))),o;case w.REMOVE_ALBUM:var a=e.ids.filter((function(e){return e!==t.payload.id}));if(e.ids.length===a.length)return e;var s=Object.assign({},e);return s.ids=a,s.albumsByIds=Object.assign({},s.albumsByIds),delete s.albumsByIds[t.payload.id],s;case w.CREATE_ALBUM_FAIL:var u=Object.assign({},e);return u.creatingAlbumsCount--,u.isPublishSelected=!1,u;case w.UPDATE_ALBUM:var c=Object.assign({},e);return c.albumsByIds=Ee(c.albumsByIds,t.payload.id,t.payload),"favorites"===t.payload.album_type&&(c.favoriteAlbumId=t.payload.id),"family"===t.payload.album_type&&(c.familyAlbumId=t.payload.id),c;case w.UPDATE_ALBUMS_COMMON_DATA:return Object.assign({},e,t.payload);case w.FETCH_ALBUM_SUCCESS:var l=t.payload,d=l.album,f=l.resources,p=Object.assign({},e),h=j.a.omit(d,["items"]),m=d.items.length<de.PORTION_SIZE,v=Object.assign({},p.albumsByIds[d.id],{isLoading:!1,isCompleted:m},h);if(v.clusters=v.clusters||[],v.structureVersion=v.structureVersion||0,v.structureVersion++,!["geo","faces"].includes(v.album_type)&&d.items.length){var g=d.items.filter((function(e){var t=e.itemId;return!Object(ce.getAlbumResourceIndexPath)(v,{itemId:t})}));if(g.length){var b=v.clusters=y()(v.clusters);if(!b.length||b.length&&b[b.length-1].items.length>10)v.clusters.push({id:v.clusters.length+1,size:g.length,items:g});else{var _=Object.assign({},b[b.length-1]);_.items=[].concat(y()(_.items),y()(g)),_.size=_.items.length,b[b.length-1]=_}}}else if(["geo","faces"].includes(v.album_type)){var O=d.items.map((function(e,t){var n=f[t],r=1e3*(n.etime||n.ctime);return Object.assign({},e,{resourceTime:r})}));Se(v,O)}return"favorites"===d.album_type&&(p.favoriteAlbumId=d.id),"family"===d.album_type&&(p.familyAlbumId=d.id),p.albumsByIds=Ee(p.albumsByIds,d.id,v),p;case w.MOVE_CLONED_RESOURCES:return Oe(e,t.payload.resources);case w.CANCEL_MOVE_CLONED_RESOURCE:var E=t.payload,S=E.src,C=E.dst;return Oe(e,[{src:C,dst:S}]);case w.REMOVE_ITEMS_FROM_ALBUM:var x=Object.assign({},e),T=t.payload,P=T.albumId,k=T.resourcesIds;if(!x.albumsByIds[P]||!x.albumsByIds[P].clusters)return e;var R=!1;return k.forEach((function(e){R=be(x,P,!0,e)||R})),R?(_e(x,P),x):e;case w.DESTROY_RESOURCE:var I=xe(e,t.payload.data),A=I.newState;return I.hasChanged?A:e;case w.DESTROY_RESOURCES:var D=t.payload.reduce((function(e,t){var n=xe(e.newState,t),r=n.newState,i=n.hasChanged;return{newState:r,hasChanged:e.hasChanged||i}}),{newState:e,hasChanged:!1}),M=D.newState;return D.hasChanged?M:e;case w.RESTORE_DELETED_ITEM:var N=t.payload,L=N.albumIds,F=N.id;if(!L)return e;var B=Object.assign({},e),U=!1;return L.forEach((function(t){var n=e.deletedItems[t]&&e.deletedItems[t][F];n&&(Ce(B,t,n),B.deletedItems=Object.assign({},B.deletedItems,i()({},t,Object.assign({},e.deletedItems[t]))),delete B.deletedItems[t][F],_e(B,t),U=!0)})),U?B:e;case w.ADD_ITEMS_TO_ALBUM:var z=t.payload,V=z.id,H=z.items,W=z.resources;if(!e.albumsByIds[V])return e;var $=Object.assign({},e),G=H;return W&&(G=G.map((function(e,t){var n=W[t],r=1e3*(n.etime||n.ctime);return Object.assign({},e,{resourceTime:r})}))),$.albumsByIds[V].clusters&&(G.forEach((function(e){Ce($,V,e)})),_e($,V)),$;case w.SET_IS_SELECTING_PHOTOS:var q=t.payload.flag;return Object.assign({},e,{isSelectingPhotos:q});case w.SET_SELECTED:case w.DESELECT_ALL:return Object.assign({},e,{lastCreatedAlbumId:null,isPublishSelected:!1});default:return e}},albums:Me,operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.ADD_OPERATIONS:if(!t.payload.operations)return e;var n=t.payload.operations.reduce((function(e,t){return e[t.id]=Object.assign({},t),e}),{});return Object.assign({},e,n);case w.UPDATE_OPERATION:var r=t.payload.operation.id;if(!e[r])return e;var i=Object.assign({},e);return i[r]=Object.assign({},e[r],t.payload.operation,{data:Object.assign({},e[r].data,t.payload.operation.data)}),i;case w.REMOVE_OPERATIONS:if(!t.payload.operationsIds.length)return e;var o=Object.assign({},e);return t.payload.operationsIds.forEach((function(e){delete o[e]})),o;default:return e}},docs:C.a,readOnly:Le.a,journals:Be.a,promozavr:ze.a,accessFolder:He.a,operations2:$e.a,notifications:qe.a,shareDialogs:Ke.a},Ze=Object(m.default)(),Xe=n(29),Qe=n(104),et=n(173),tt=["idContext","page","notifications_open","dialog","idDialog","idAlbum","idPage","reduxDialog","dialogData","selectResource","filter","action","albumId","targetAlbumId","type"],nt=function(e,t){var n={};return tt.forEach((function(t){n[t]=e[t]||""})),Object.assign(n,{originalNSParams:e,search:{query:"",scope:""},currentUrl:t}),e.querySearch&&e.scopeSearch&&Object.assign(n,{search:{query:e.querySearch,scope:e.scopeSearch}}),n},rt=n(594),it=n(54),ot=n.n(it);n.d(t,"addReducer",(function(){return ct}));var at,st=n(1056).prepare,ut=function(){var e=Object(le.getPreloadedData)("defaultFolders"),t=Object(le.getPreloadedData)("userCurrent"),r=Object(le.getPreloadedData)("environment");ns.events.on("ns-page-after-load",(function(e,t,n){var r=nt(t,location.origin+n),i=r.originalNSParams.action,o=at.getState(),a=o.page,s=a.dialog,u=a.idContext,c=a.search.query,l=o.personalAlbums.returnPath;if("/photo"===r.idContext&&"create-album"===i&&!o.personalAlbums.newAlbumTitle)return ot.a.go(l,!0);t.querySearch!==c&&at.dispatch(Object(et.g)(t.querySearch)),at.dispatch(Object(Xe.updatePage)(r)),r.reduxDialog&&at.dispatch(Object(U.openDialog)(r.reduxDialog,r.dialogData?JSON.parse(r.dialogData):{}));var d=at.getState(),f=Object(Qe.e)(d),p=d.page,h=p.dialog,m=p.idContext;Boolean(s)&&!Boolean(h)&&m!==u&&f&&at.dispatch(Object(et.f)(!1))}));var i=st(Object(le.getPreloadedData)("config")),o=(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je,r=Object(v.configureStore)({reducer:h(t),preloadedState:e,middleware:function(e){return e({thunk:!0,immutableCheck:!1,serializableCheck:!1}).concat(Ze)},devTools:!1}),i=n(2399).default,o=r.dispatch,a=r.getState;return Ze.run(i,o,a),r.reducers=t,r})({user:t,environment:r,defaultFolders:e,config:i,settings:Object(rt.preprocessSettings)(Object(le.getPreloadedData)("settings"),r.agent.isSmartphone),space:Object(le.getPreloadedData)("space"),billingProducts:Object(le.getPreloadedData)("billingProducts")});return"production"!==i.environment&&(window.store=o),o},ct=function(e,t){var n=Object.assign(i()({},e,t),at.reducers);at.reducers=n,at.replaceReducer(h(n))};t.default=function(e){return at&&!e||(at=ut()),at}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getResourceData",(function(){return o})),n.d(t,"isExistsResource",(function(){return a}));var r=n(9),i=n.n(r),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e.resources[t];return n?i.a.get(r,n):r},a=function(e,t){return!!e.resources[t]}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"openDialog",(function(){return o})),n.d(t,"updateDialog",(function(){return a})),n.d(t,"closeDialogAction",(function(){return s})),n.d(t,"closeDialog",(function(){return u})),n.d(t,"STATE",(function(){return c}));var r=n(13),i=n(29),o=function(e,t){return{type:r.OPEN_DIALOG,payload:{dialog:e,data:t}}},a=function(e,t){return{type:r.UPDATE_DIALOG,payload:{dialog:e,data:t}}},s=function(e,t){return{type:r.CLOSE_DIALOG,payload:{dialog:e,data:t}}},u=function(e,t){return function(n){n(s(e,t)),ns.page.current.params.reduxDialog&&n(Object(i.goToUrlBase)())}},c={OPENED:"opened",CLOSED:"closed"}}),(function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"l",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return g}));var r="top",i="bottom",o="right",a="left",s="auto",u=[r,i,o,a],c="start",l="end",d="clippingParents",f="viewport",p="popper",h="reference",m=u.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+l])}),[]),v=[].concat(u,[s]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+l])}),[]),g=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]}),(function(e,t,n){var r=n(1320),i=n(1321),o=n(975),a=n(1322);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=n(9),i=n(913),o=i.split,a=i.basename,s=i.extname,u=i.escape,c=i.unescape,l=n(1327).getClientResourceDialogUrl,d={split:o,basename:a,filename:function(e){return d.basename(e).split(".").shift()},dirname:function(e){e=d.normalize(e);var t=d.split(e);return t.pop(),t.length?("public"===t[0]&&2===t.length&&(t[1]=t[1].replace(/:$/,"")),"/"+t.join("/")):null},parentname:function(e){return d.basename(d.dirname(e))},extname:s,addNameSuffix:function(e,t,n){if(!n)return e;var r=s(e);return t||!r?e+n:e.replace(new RegExp("\\."+r+"$"),"")+n+"."+r},normalize:function(e){return(e=(e||"").replace(/^(\d+):/,"").replace(/^disk:/,"disk").replace(/^trash:/,"trash").replace(/^photounlim:/,"photounlim").replace(/^attach:/,"attach"))?"/"+d.split(e).join("/"):"/"},formatPropertyPath:function(e){return e.replace(/^\./,"")},equals:function(e,t){return d.normalize(e)===d.normalize(t)},join:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.normalize(r.flatten(t).join("/"))},isParent:function(e,t){var n=d.split(t),r=d.split(e);if(r.length===n.length)return!1;for(var i=0,o=r.length;i<o;i+=1){if(0===i&&"narod"===r[i]&&-1!==["narod","lnarod"].indexOf(n[i]))return!0;if(r[i]!==n[i])return!1}return!0},isParentOrEqualToCurrentFolder:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns.page.current.params.idContext;return t===e||d.isParent(e,t)},escape:u,unescape:c,getIdApp:function(e){var t=e.split("/")[1];return"album"===t?t:"client"},getFolderUrl:function(e){var t=d.normalize(e);return"/client"+("/photounlim"===e?"/photo":t)},_replacePhotounlim:function(e){return e.replace(/^\/photounlim(\/?)/,"/photo$1")},_getResourceDialogUrl:function(e,t){return e=d.escape(d.normalize(e)),l(d.dirname(d._replacePhotounlim(e)),e,t)},getResourceSliderUrl:function(e){return d._getResourceDialogUrl(e,"slider")},getResourceSelectedUrl:function(e){return d._getResourceDialogUrl(e,"select")},revertFileExtension:function(e,t,n){var r;if(n){var i=t?".":"";r=e.replace(/\.[^\..]+$/,"".concat(i).concat(t))}else r=t?"".concat(e,".").concat(t):e;return r}};e.exports=d}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.VIRTUAL_DISKS_ROOT="/vd",(function(e){e.disk="disk",e.trash="trash",e.search="search",e.journal="journal"})(r||(r={})),t.anyVirtualDiskFolder=[r.disk,r.trash,r.search,r.journal].join("|");const i=(e,n)=>new RegExp(`^${t.VIRTUAL_DISKS_ROOT}/[^/]+/${e}${n}`);t.getCurrentVirtualDiskRoot=(e=>{const t=/^\/vd\/([^\/]+)/.exec(e);return t&&t[0]}),t.getCurrentVirtualDiskFolder=((e,n)=>{const r=t.getCurrentVirtualDiskRoot(e);return r&&r+"/"+n}),t.getIsVirtualDiskList=(e=>e===t.VIRTUAL_DISKS_ROOT),t.isPathInsideVirtualDiskFiles=(e=>i(r.disk,"(?:$|/)").test(e)),t.getIsVirtualDisk=(e=>t.getIsVirtualDiskList(e)||t.isPathInsideVirtualDiskFiles(e)),t.getCurrentVirtualDisk=(e=>t.getCurrentVirtualDiskFolder(e,r.disk)),t.getVdHash=(e=>{const n=new RegExp(`^${t.VIRTUAL_DISKS_ROOT}/([^/]+)/(${t.anyVirtualDiskFolder})`).exec(e);return n&&n[1]}),t.getCurrentVirtualDiskTrash=(e=>t.getCurrentVirtualDiskFolder(e,r.trash)),t.getCurrentVirtualDiskJournal=(e=>t.getCurrentVirtualDiskFolder(e,r.journal)),t.getCurrentVirtualDiskSearch=(e=>t.getCurrentVirtualDiskFolder(e,r.search)),t.isRootOfVirtualDisk=(e=>i(r.disk,"/?$").test(e)),t.isVirtualDiskTrash=(e=>i(r.trash,"/?$").test(e)),t.isVirtualDiskSearchPath=(e=>i(r.search,"(?:$|/)").test(e)),t.isVirtualDiskJournal=(e=>i(r.journal,"/?$").test(e)),t.isInVirtualDiskTrash=(e=>i(r.trash,"/([^/]+)").test(e)),t.isVirtualDiskPath=(e=>new RegExp(`^${t.VIRTUAL_DISKS_ROOT}/[^/]+/(${t.anyVirtualDiskFolder})(?:$|/)`).test(e)),t.getRootOfScopeCurrentVirtualDisk=(e=>{const n=new RegExp(`^${t.VIRTUAL_DISKS_ROOT}/[^/]+/(${t.anyVirtualDiskFolder})(?:$|/)`).exec(e);return n&&n[0]&&(n[0].endsWith("/")?n[0].slice(0,-1):n[0])}),t.getVirtualDiskTrashInitialState=((e,t,n=0)=>({id:e,type:"dir",isSlice:!0,name:"Корзина",parents:t,meta:{size:n||0}}))}),(function(e,t,n){e.exports=n(632)()}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89),o=n(695),a=n(697),s=n(699),u=n(701),c=n(703),l=n(705),d=n(707),f=n(709),p=n(711),h=n(713),m=n(715);n(717),t.Button=r.compose(r.composeU(f.withSizeXXS,i.withSizeS,i.withSizeM,i.withSizeL,i.withSizeXL,i.withSizeXXL,d.withSizeXXXL),r.composeU(i.withViewAction,i.withViewDefault,i.withViewBrand,i.withViewRaised,o.withViewClearInverse,i.withViewClear,i.withViewPseudo,i.withViewLink,p.withViewPseudoInverse,a.withViewDark,s.withViewB2BBanner,u.withViewTundora,c.withViewTransparent,l.withViewClearBlack,h.withViewSuggest,i.withViewPremium),r.composeU(i.withThemeRaised,i.withThemeNormal),r.composeU(i.withTypeLink,i.withTypeSubmit),i.withWidthMax,m.withCenteredIcon,r.composeU(i.withPinCircleCircle,i.withPinClearRound))(i.Button)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return le})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return W})),n.d(t,"h",(function(){return Z})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return te})),n.d(t,"k",(function(){return $})),n.d(t,"l",(function(){return ne})),n.d(t,"m",(function(){return fe})),n.d(t,"n",(function(){return me})),n.d(t,"o",(function(){return ce})),n.d(t,"p",(function(){return ge})),n.d(t,"q",(function(){return B})),n.d(t,"r",(function(){return M})),n.d(t,"s",(function(){return z})),n.d(t,"t",(function(){return q})),n.d(t,"u",(function(){return F})),n.d(t,"v",(function(){return Ee})),n.d(t,"w",(function(){return se})),n.d(t,"x",(function(){return Q})),n.d(t,"y",(function(){return re})),n.d(t,"z",(function(){return ie})),n.d(t,"A",(function(){return oe})),n.d(t,"B",(function(){return ae})),n.d(t,"C",(function(){return H})),n.d(t,"D",(function(){return de})),n.d(t,"E",(function(){return pe})),n.d(t,"F",(function(){return he})),n.d(t,"G",(function(){return ve})),n.d(t,"H",(function(){return ye})),n.d(t,"I",(function(){return be})),n.d(t,"J",(function(){return _e})),n.d(t,"K",(function(){return Oe})),n.d(t,"L",(function(){return G})),n.d(t,"M",(function(){return l})),n.d(t,"N",(function(){return Y})),n.d(t,"O",(function(){return N})),n.d(t,"P",(function(){return K})),n.d(t,"Q",(function(){return J})),n.d(t,"R",(function(){return X})),n.d(t,"S",(function(){return b})),n.d(t,"T",(function(){return x})),n.d(t,"U",(function(){return s})),n.d(t,"V",(function(){return C})),n.d(t,"W",(function(){return _})),n.d(t,"X",(function(){return D})),n.d(t,"Y",(function(){return h})),n.d(t,"Z",(function(){return d})),n.d(t,"ab",(function(){return g})),n.d(t,"bb",(function(){return p})),n.d(t,"cb",(function(){return S})),n.d(t,"db",(function(){return u})),n.d(t,"eb",(function(){return f})),n.d(t,"fb",(function(){return T})),n.d(t,"gb",(function(){return w})),n.d(t,"hb",(function(){return E}));var r=n(70),i=n(120),o=n(47),a=n(569),s=(function(e){return function(){return e}})(!0),u=function(){};var c=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;function l(e,t,n){if(!t(e))throw new Error(n)}var d=function(e,t){Object(i.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},f=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function p(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function h(e){var t=!1;return function(){t||(t=!0,e())}}var m=function(e){throw e},v=function(e){return{value:e,done:!0}};function g(e,t,n){void 0===t&&(t=m),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:v,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function y(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var b=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},_=function(e){return Array.apply(null,new Array(e))},O=function(e){return function(t){return e(Object.defineProperty(t,r.f,{value:!0}))}},E=function(e){return e===r.k},w=function(e){return e===r.j},S=function(e){return E(e)||w(e)};function C(e,t){var n=Object.keys(e),r=n.length;var i,a=0,s=Object(o.a)(e)?_(r):{},c={};return n.forEach((function(e){var n=function(n,o){i||(o||S(n)?(t.cancel(),t(n,o)):(s[e]=n,++a===r&&(i=!0,t(s))))};n.cancel=u,c[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return c[e].cancel()})))},c}function x(e){return{name:e.name||"anonymous",location:T(e)}}function T(e){return e[r.g]}var P="Channel's Buffer overflow!",k=1,j=3,R=4,I={isEmpty:s,put:u,take:u};function A(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,o=0,a=function(t){n[i]=t,i=(i+1)%e,r++},s=function(){if(0!=r){var t=n[o];return n[o]=null,r--,o=(o+1)%e,t}},u=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var c;if(r<e)a(s);else switch(t){case k:throw new Error(P);case j:n[i]=s,o=i=(i+1)%e;break;case R:c=2*e,n=u(),r=n.length,i=n.length,o=0,n.length=c,e=c,a(s)}},take:s,flush:u}}var D=function(){return I},M=function(e){return A(e,j)},N=function(e){return A(e,R)},L=Object.freeze({__proto__:null,none:D,fixed:function(e){return A(e,k)},dropping:function(e){return A(e,2)},sliding:M,expanding:N}),F="TAKE",B="PUT",U="ALL",z="RACE",V="CALL",H="CPS",W="FORK",$="JOIN",G="CANCEL",q="SELECT",Y="ACTION_CHANNEL",K="CANCELLED",J="FLUSH",Z="GET_CONTEXT",X="SET_CONTEXT",Q=Object.freeze({__proto__:null,TAKE:F,PUT:B,ALL:U,RACE:z,CALL:V,CPS:H,FORK:W,JOIN:$,CANCEL:G,SELECT:q,ACTION_CHANNEL:Y,CANCELLED:K,FLUSH:J,GET_CONTEXT:Z,SET_CONTEXT:X}),ee=function(e,t){var n;return(n={})[r.c]=!0,n.combinator=!1,n.type=e,n.payload=t,n},te=function(e){return ee(W,Object(i.a)({},e.payload,{detached:!0}))};function ne(e,t){return void 0===e&&(e="*"),Object(o.i)(e)?ee(F,{pattern:e}):Object(o.f)(e)&&Object(o.g)(t)&&Object(o.i)(t)?ee(F,{channel:e,pattern:t}):Object(o.b)(e)?ee(F,{channel:e}):void 0}var re=function(){var e=ne.apply(void 0,arguments);return e.payload.maybe=!0,e};function ie(e,t){return Object(o.n)(t)&&(t=e,e=void 0),ee(B,{channel:e,action:t})}var oe=function(){var e=ie.apply(void 0,arguments);return e.payload.resolve=!0,e};function ae(e){var t=ee(U,e);return t.combinator=!0,t}function se(e){var t=ee(z,e);return t.combinator=!0,t}function ue(e,t){var n,r=null;return Object(o.d)(e)?n=e:(Object(o.a)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Object(o.k)(n)&&Object(o.d)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee(V,ue(e,n))}function le(e,t,n){void 0===n&&(n=[]);return ee(V,ue([e,t],n))}function de(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee(H,ue(e,n))}function fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee(W,ue(e,n))}function pe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return te(fe.apply(void 0,[e].concat(n)))}function he(e){return ee($,e)}function me(e){return void 0===e&&(e=r.h),ee(G,e)}function ve(e){void 0===e&&(e=c);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ee(q,{selector:e,args:n})}function ge(e,t){return ee(Y,{pattern:e,buffer:t})}function ye(){return ee(K,{})}function be(e){return ee(J,e)}function _e(e){return ee(Z,e)}function Oe(e){return ee(X,e)}var Ee=ce.bind(null,a.a)}),(function(e,t,n){"use strict";e.exports=n(635)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"maybeBlockActionOverdraft",(function(){return P})),n.d(t,"maybeBlockActionB2bFree",(function(){return k})),n.d(t,"maybeBlockAction",(function(){return j})),n.d(t,"showLimitUploadDialog",(function(){return R})),n.d(t,"createFolder",(function(){return I})),n.d(t,"openEditor",(function(){return A})),n.d(t,"updatePage",(function(){return D})),n.d(t,"checkVersion",(function(){return M})),n.d(t,"changeIdContext",(function(){return N})),n.d(t,"updateSearch",(function(){return L})),n.d(t,"search",(function(){return F})),n.d(t,"upload",(function(){return B})),n.d(t,"cleanTrash",(function(){return U})),n.d(t,"createSharedFolder",(function(){return z})),n.d(t,"goToUrl",(function(){return V})),n.d(t,"goToUrlBase",(function(){return H})),n.d(t,"closeNsDialog",(function(){return W})),n.d(t,"openUrlWithSk",(function(){return $})),n.d(t,"updateUser",(function(){return G})),n.d(t,"copyPublicLink",(function(){return q})),n.d(t,"showFamilyAlbumAccessDialog",(function(){return Y}));var r=n(22),i=n.n(r),o=n(54),a=n.n(o),s=n(63),u=n.n(s),c=n(98),l=n(125),d=n(20),f=n(59),p=n(17),h=n(121),m=n.n(h),v=n(518),g=n(576),y=n(13),b=n(34),_=(n(1609),n(621),n(42)),O=n(39),E=n(57),w=n(102),S=n(97),C=n(80),x=n(56),T=n(84),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=Object.assign({forHard:!0},e),i=n(),o=i.environment.agent.isSmartphone;return!!Object(E.shouldRestrictByOverdraft)(i,r)&&(t(o?Object(f.updateSettings)({closedOverdraftScreen:!1}):Object(d.openDialog)("overdraft",{type:"overdraft"})),!0)}},k=function(){return function(e,t){var n=t(),r=n.environment.agent.isSmartphone;return!!Object(w.shouldRestrictByFreeB2b)(n)&&(e(r?Object(f.updateSettings)({closedOverdraftScreen:!1}):Object(d.openDialog)("overdraft",{type:"b2b-free"})),!0)}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return!!t(P(e))||t(k())}},R=function(e){return function(t,n){var r=n();if(Object(l.isDialogOpened)(r,"limit-upload")){var o=Object(l.getDialogData)(r,"limit-upload");t(Object(d.updateDialog)("limit-upload",{files:[].concat(i()(o.files),i()(e))}))}else t(Object(d.openDialog)("limit-upload",{files:e}))}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){if(!t(j()))if(Object(C.isSagaOperation)(n(),T.OperationType.CREATE_FOLDER))t(Object(x.createFolderOperation)({isFamily:e}));else{var r=ns.action.run("folder.create",{isFamily:e});e&&(r.on("status.exists",(function(){Object(v.b)()})),m.a.promisify(r).then((function(){return t(Object(g.createFamilyFolder)(r.get(".idDst")))})))}}},A=function(e,t){return function(n,r){if(!n(j({forLite:!0}))){if(ns.page.current.params.create){var i=new URL(location.href);i.searchParams.delete("create"),ns.history.replaceState(i.toString())}var o={idContext:t,extension:e},a=Object(O.isDocsPage)(r());a&&(o.source="docs"),n(Object(d.openDialog)("document-name",{extension:e,onClose:function(){n(Object(d.closeDialog)("document-name"))},onSubmit:function(t){o.filename=t,n(Object(d.closeDialog)("document-name")),a&&n(Object(S.changeDocsPageType)(e)),ns.action.run("editor.open",o)}}))}}},D=function(e){return function(t,n){var r,i=e.idContext||"",o=n(),a=o.page.idContext!==i;if(a){var s=o.uploader.uploadingStatus;if(o.page.refreshAfter&&Date.now()>o.page.refreshAfter&&(!s||s===p.UPLOAD_STATUSES.DONE)&&!ns.Model.get("operations").models.some((function(e){return e.isActive()})))return void window.location.reload();var u=Object(l.getOpenedDialogs)(o);u.length&&u.forEach((function(e){var n=o.dialogs[e];n.data&&n.data.onCancel?n.data.onCancel():n.data&&n.data.onClose?n.data.onClose():t(Object(d.closeDialog)(e))}))}(a||e.filter!==o.page.filter)&&(o.settings.lastContext!==(r=["/recent","/albums"].includes(i)?i:"/photo"===i?Object(c.isAlbumSlice)({page:e})?"/albums":"/photo":b.USER_SETTINGS_DEFAULTS.lastContext)&&t(Object(f.saveSettings)({key:"lastContext",value:r})),t({type:y.DESELECT_ALL}));t({type:y.UPDATE_PAGE,payload:e})}},M=function(e){return function(t,n){var r=n(),i=r.environment.session.version,o=r.page,a=o.idContext,s=o.refreshAfter;e&&i&&i!==e&&!s&&t(D({idContext:a,refreshAfter:Date.now()+108e5}))}},N=function(e,t){return function(){var n={id:e};t&&(n.from=t),ns.action.run("listing.openFolder",n)}},L=function(e){return{type:y.UPDATE_SEARCH,payload:e}},F=function(e,t,n){return function(){ns.action.run("app.search",{querySearch:e,scopeSearch:t,from:n})}},B=function(e){return function(){var t={files:e};return ns.action.run("resource.upload",t)}},U=function(e){return function(){return ns.action.run("trash.clean",{id:e})}},z=function(){return function(e,t){e(j({forLite:!0}))||(Object(C.isSagaOperation)(t(),T.OperationType.CREATE_FOLDER)?e(Object(x.createFolderOperation)({isShared:!0})):ns.action.run("dialog-create-shared-folder.open"))}},V=function(e,t){return function(){return t?a.a.go(e,t):a.a.go(e)}},H=function(){return function(){return a.a.go(a.a.getUrlBase())}},W=function(e){return function(t,n){"slider"===e&&(n().settings.videoAutoPlayId&&t(Object(f.updateSettings)({videoAutoPlayId:null})));(!e||e===ns.page.current.params.dialog||ns.page.current.params.idDialog&&ns.page.current.params.idDialog.startsWith("/album"))&&ns.action.run("dialog.close")}},$=function(e,t){return function(n,r){var i=r(),o=i.config.skExternal,a=i.environment.agent.BrowserName,s=u.a.addParams(e,{sk:o});t&&["Firefox","Safari"].includes(a)?location.assign(s):window.open(s,"_blank")}},G=function(e){return function(t){t({type:y.UPDATE_USER,payload:e}),ns.Model.get("userCurrent").trigger("ns-model-changed")}},q=function(e){return function(t){if(e)try{navigator.clipboard.writeText(e).then((function(){t(Object(_.notify)({operation:"copyPublicLink",status:"done"}))}),(function(){}))}catch(e){}}},Y=function(){return function(e){e(Object(d.openDialog)("familyAlbumAccess",{onClose:function(){e(Object(d.closeDialog)("familyAlbumAccess"))}}))}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"PUBLISH",(function(){return C})),n.d(t,"UNPUBLISH",(function(){return x})),n.d(t,"FOTKI_INFO",(function(){return T})),n.d(t,"SHOW_FULLSIZE",(function(){return P})),n.d(t,"DOWNLOAD",(function(){return k})),n.d(t,"CLEAN_TRASH",(function(){return j})),n.d(t,"RESTORE",(function(){return R})),n.d(t,"EDIT",(function(){return I})),n.d(t,"VIEW",(function(){return A})),n.d(t,"RENAME",(function(){return D})),n.d(t,"MOVE",(function(){return M})),n.d(t,"MOVE_INTO",(function(){return N})),n.d(t,"DELETE",(function(){return L})),n.d(t,"DELETE_FROM_TRASH",(function(){return F})),n.d(t,"COPY",(function(){return B})),n.d(t,"ADD_TO_ALBUM",(function(){return U})),n.d(t,"EXCLUDE_FROM_ALBUM",(function(){return z})),n.d(t,"EXCLUDE_FROM_GEO_ALBUM",(function(){return V})),n.d(t,"EXCLUDE_FROM_PERSONAL_ALBUM",(function(){return H})),n.d(t,"SHARE_ACCESS",(function(){return W})),n.d(t,"VERSIONS",(function(){return $})),n.d(t,"GO_TO_FILE",(function(){return G})),n.d(t,"GO_TO_FOLDER",(function(){return q})),n.d(t,"CREATE_INSIDE",(function(){return Y})),n.d(t,"CREATE_SHARED_INSIDE",(function(){return K})),n.d(t,"TOGGLE_FAVORITES",(function(){return J})),n.d(t,"SET_AS_COVER",(function(){return Z})),n.d(t,"PIN",(function(){return X})),n.d(t,"REMOVE_FROM_DOCS",(function(){return Q})),n.d(t,"WFOLIO_CREATE_PROJECT",(function(){return ee})),n.d(t,"WFOLIO_DELETE_PROJECT",(function(){return te})),n.d(t,"WFOLIO_COPY_PROJECT_URL",(function(){return ne})),n.d(t,"WFOLIO_SET_PROJECT_SETTINGS",(function(){return re})),n.d(t,"DISABLE_REASONS",(function(){return ie})),n.d(t,"WFOLIO_STATES",(function(){return oe})),n.d(t,"can",(function(){return fe})),n.d(t,"getAvailableActions",(function(){return ve})),n.d(t,"getDisableReasons",(function(){return ge})),n.d(t,"reasonsMessages",(function(){return ye})),n.d(t,"titles",(function(){return be})),n.d(t,"getTitle",(function(){return _e}));var r,i,o,a,s=n(103),u=n.n(s),c=n(10),l=n.n(c),d=n(44),f=n(35),p=n(32),h=n(9),m=n.n(h),v=n(36),g=n(162),y=n(18),b=n(39),_=n(58),O=n(102),E=n(92),w=n(24),S=n(23),C="publish",x="unpublish",T="fotki-info",P="show-fullsize",k="download",j="clean-trash",R="restore",I="edit",A="view",D="rename",M="move",N="move-into",L="delete",F="delete-from-trash",B="copy",U="add-to-album",z="exclude-from-album",V="exclude-from-geo-album",H="exclude-from-personal-album",W="share-access",$="versions",G="go-to-file",q="go-to-folder",Y="create-inside",K="create-shared-inside",J="toggle-favorites",Z="set-as-cover",X="pin",Q="remove-from-docs",ee="wfolio-create-project",te="wfolio-delete-project",ne="wfolio-copy-project-url",re="wfolio-set-project-settings",ie={ALL_FILES_VERSIONING_DISABLED:"all-files-versioning-disabled",NESTED_SHARED_FOLDERS:"nested-shared-folders",IS_LAST_ITEM_IN_LOADING_ALBUM:"is-last-item-in-loading-album",NEED_WFOLIO_FEATURE:"need-wfolio-feature",NEED_WFOLIO_AUTH:"need-wfolio-auth"},oe={INITIAL:"initial",WFOLIO_AUTHORIZED:"wfolio_authorized",ENABLED:"enabled",READY_WITH_PROJECTS:"ready_with_projects",READY_EMPTY:"ready_empty",DISABLED_WITH_PROJECTS:"disabled_with_projects",DISABLED_EMPTY:"disabled_empty",DISABLE_INFO_SENDING_IN_PROGRESS:"disable_info_sending_in_progress",ENABLE_INFO_SENDING_IN_PROGRESS:"enable_info_sending_in_progress",DISABLED_UNAUTHORIZED:"disabled_unauthorized"},ae=function(e){return S.isParent("/attach",e.id)&&!S.isParent("/attach/YaFotki",e.id)},se=function(e){return S.isParent("/search",e)&&"disk"===S.filename(e)},ue=function(e,t){return e===Object(O.getUser)(t).uid},ce=(r={},l()(r,C,(function(e,t){if(Object(p.isCurrentAlbumFamily)(t))return ue(e.uid,t);var n=t.user,r=t.defaultFolders.folders;return!(!e.meta||e.meta.group&&e.meta.group.readonly&&!e.meta.public||e.meta.with_shared&&"640"===e.meta.shared_rights||e.isInTrash||"/trash"===e.id||2===e.meta.drweb||ae(e)||S.isParent("/narod",e.id)&&!m.a.get(n,"states.narod_migrated")||f.default.isYateamNDA(e.id,r)||"/disk"===e.id||Object(w.isPathInsideVirtualDiskFiles)(e.id)||Object(w.isVirtualDiskTrash)(e.id))})),l()(r,x,(function(e,t){var n;return Object(p.isCurrentAlbumFamily)(t)?ue(e.uid,t):Boolean(null===(n=e.meta)||void 0===n?void 0:n.public)&&!S.isParent("/album",e.id)&&!ae(e)&&!(e.meta.group&&e.meta.group.readonly)&&"/disk"!==e.id&&!e.isVicariousDoc})),l()(r,T,(function(e){return"file"===e.type&&S.isParent("/attach/YaFotki",e.id)&&Boolean(e.meta.fotki_data_url)})),l()(r,P,(function(e,t){return Object(p.isCurrentAlbumFamily)(t)?ue(e.uid,t):!e.isInTrash&&"file"===e.type&&"image"===e.meta.mediatype&&(e.meta.sizes||[]).some((function(e){return"ORIGINAL"===e.name}))})),l()(r,Z,(function(e,t){if("album"!==Object(d.getPage)(t))return!1;var n=Object(p.getCurrentAlbum)(t);return e.albumIds&&e.albumIds.includes(n.id)&&n.coverResourceId!==e.id&&"faces"===n.album_type})),l()(r,k,(function(e){return!e.isInTrash&&"/trash"!==e.id&&"/disk"!==e.id&&!Object(w.isVirtualDiskTrash)(e.id)})),l()(r,L,(function(e,t){var n=t.defaultFolders.folders;return!(e.isInTrash||f.default.isYateamNDA(e.id,n)||"/trash"===e.id||e.meta&&e.meta.group&&e.meta.group.in_readonly||S.isParent("/album",e.id)||"/disk"===e.id||Object(p.isLastAlbumItemOpenedInSlider)(t)||e.isVicariousDoc||Object(w.isVirtualDiskTrash)(e.id)||Object(E.isReadOnlyVdResource)(e.id,t)||Object(p.isCurrentAlbumFamily)(t)&&!ue(e.uid,t))})),l()(r,F,(function(e,t){if(Object(w.isInVirtualDiskTrash)(e.id)){var n=Object(w.getCurrentVirtualDiskTrash)(e.id);return Boolean(e.isInTrash&&Object(E.canCleanVdTrash)(n,t))}return Boolean(e.isInTrash)})),l()(r,j,(function(e,t){var n,r=m.a.get(e,"children."+Object(v.resourceChildrenKey)(t,e.id)+".ids");return("/trash"===e.id||Object(w.isVirtualDiskTrash)(e.id)&&Object(E.canCleanVdTrash)(e.id,t))&&!e.isLoading&&((null===(n=e.meta)||void 0===n?void 0:n.size)||(null===r||void 0===r?void 0:r.length))})),l()(r,R,(function(e,t){return ce[F](e,t)||Object(w.isInVirtualDiskTrash)(e.id)})),l()(r,I,(function(e,t){var n=t.environment.agent.isSmartphone,r=t.user.officeEditorType,i=e.meta.group&&!e.meta.group.is_owned;return!(!e.meta||!e.isEditable||e.isInTrash||e.meta.group&&e.meta.group.in_readonly||n&&"only_office"!==r&&!i&&!Object(b.isDocsPage)(t)||S.isParent("/attach",e.id)||Object(E.isReadOnlyVdResource)(e.id,t))})),l()(r,A,(function(e){return("docviewer"===e.app||"slider"===e.app&&"compressed"===e.meta.mediatype)&&!e.isInTrash&&e.meta&&2!==e.meta.drweb})),l()(r,D,(function(e,t){if(Object(p.isCurrentAlbumFamily)(t))return ue(e.uid,t);var n=t.defaultFolders.folders;return!(e.isInTrash||f.default.isYateamNDA(e.id,n)||e.meta&&e.meta.group&&e.meta.group.in_readonly||"/trash"===e.id||S.isParent("/album",e.id)||S.isParent("/narod",e.id)||S.isParent("/attach",e.id)||"/disk"===e.id||e.isVicariousDoc||Object(w.isVirtualDiskTrash)(e.id)||Object(E.isReadOnlyVdResource)(e.id,t))})),l()(r,M,(function(e,t){return Object(p.isCurrentAlbumFamily)(t)?ue(e.uid,t):(ce[D](e,t)||S.isParent("/attach/YaFotki",e.id)||e.meta&&"photounlim"===e.meta.storage_type)&&!Object(b.isDocsPage)(t)})),l()(r,N,(function(e,t){var n,r=t.page.idContext,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(r&&"/disk"===e.id)return"/disk"!==r&&(!r.startsWith("/attach")||"/attach/YaFotki"===r);if(r&&"/trash"===e.id)return"/trash"!==r;if(Object(w.getIsVirtualDiskList)(e.id))return!1;if(r&&Object(w.isVirtualDiskTrash)(e.id))return Object(w.isVirtualDiskTrash)(e.id);var o=f.default.isResourceSharedRoot(e);return!i.some((function(t){return!(t.id!==e.id&&!S.isParent(t.id,e.id))||o&&f.default.isResourceSharedRoot(t)}))&&(["dir","vd"].includes(e.type)&&!(null!==(n=e.meta)&&void 0!==n&&null!==(n=n.group)&&void 0!==n&&n.readonly||e.isInTrash||S.isParent("/attach",e.id)))})),l()(r,B,(function(e,t){var n=t.defaultFolders.folders;return!(e.isInTrash||"/trash"===e.id||f.default.isYateamNDA(e.id,n)||"/disk"===e.id||S.isParent("/album",e.id)||Object(b.isDocsPage)(t)||Object(w.isVirtualDiskTrash)(e.id))})),l()(r,U,(function(e,t){return Object(p.isCurrentAlbumFamily)(t)?ue(e.uid,t):Boolean(e.isAvailableToAlbum&&!e.isInTrash&&!Object(g.isScansPage)(t)&&!Object(w.isPathInsideVirtualDiskFiles)(e.id))})),l()(r,z,(function(e,t){var n=t.page,r=n.idContext,i=n.filter;return!(e.meta&&e.meta.group&&!e.meta.group.is_owned)&&"/photo"===r&&["beautiful","unbeautiful"].includes(String(i))})),l()(r,V,(function(e,t){return Object(p.isPageAlbum)(t)&&"geo"===Object(p.getCurrentAlbum)(t).album_type})),l()(r,H,(function(e,t){var n;return Object(p.isCurrentAlbumFamily)(t)?!!Object(_.isFamilyAdmin)(t)||ue(e.uid,t):Object(p.isPageAlbum)(t)&&Boolean(null===(n=e.albumIds)||void 0===n?void 0:n.includes(Object(p.getCurrentAlbumId)(t)))&&!Object(p.isLastAlbumItemOpenedInSlider)(t)&&"geo"!==Object(p.getCurrentAlbum)(t).album_type})),l()(r,W,(function(e,t){var n=t.environment.agent.isMobile,r=t.defaultFolders.folders;return"dir"===e.type&&!e.isInTrash&&"/trash"!==e.id&&!n&&e.meta&&(!e.meta.group||e.meta.group.is_owned&&e.meta.group.is_root)&&!e.meta.with_shared&&!f.default.isYateamNDA(e.id,r)&&!S.isParent("/attach",e.id)&&"/disk"!==e.id&&!Object(b.isDocsPage)(t)&&!Object(w.isVirtualDiskPath)(e.id)})),l()(r,$,(function(e,t){var n=Boolean(e.id.startsWith("/disk")&&"file"===e.type&&e.meta&&e.meta.resource_id&&e.meta.versioning_status);return Object(p.isCurrentAlbumFamily)(t)?n&&ue(e.uid,t):n})),l()(r,G,(function(e,t){var n=t.page.idContext;return Object(p.isCurrentAlbumFamily)(t)?ue(e.uid,t):"file"===e.type&&(e.id.startsWith("/photounlim")&&!n.startsWith("/photo")||!Object(b.isDocsPage)(t)&&e.id.startsWith("/disk")&&S.dirname(e.id)!==n||se(n)||Object(b.isDocsPage)(t)&&!e.isVicariousDoc)})),l()(r,q,(function(e,t){var n=t.page.idContext;return"dir"===e.type&&(["/published","/shared"].includes(n)||se(n))})),l()(r,Y,(function(e,t){var n;return(Object(w.isPathInsideVirtualDiskFiles)(e.id)&&!Object(E.isReadOnlyVdResource)(e.id,t)||e.id.startsWith("/disk"))&&["dir","vd"].includes(e.type)&&!(null!==(n=e.meta)&&void 0!==n&&null!==(n=n.group)&&void 0!==n&&n.readonly)})),l()(r,K,(function(e,t){var n;return ce[Y](e,t)&&!(null!==e&&void 0!==e&&null!==(n=e.meta)&&void 0!==n&&n.group)})),l()(r,J,(function(e,t){return ce[U](e,t)})),l()(r,X,(function(e,t){return Object(b.isDocsPage)(t)&&!Object(g.isScansPage)(t)})),l()(r,Q,(function(e,t){return Object(b.isDocsPage)(t)&&Boolean(e.isVicariousDoc)})),l()(r,ee,(function(e,t){var n=t.defaultFolders.folders;return!Boolean(e.meta&&e.meta.wfolio_project_id)&&"dir"===e.type&&!e.isInTrash&&"/trash"!==e.id&&e.meta&&(!e.meta.group||e.meta.group.is_owned)&&!f.default.isYateamNDA(e.id,n)&&!S.isParent("/attach",e.id)&&"/disk"!==e.id&&!Object(b.isDocsPage)(t)&&!Object(w.isVirtualDiskPath)(e.id)&&Boolean(t.user.wfolio_state)&&![oe.INITIAL,oe.ENABLE_INFO_SENDING_IN_PROGRESS,oe.WFOLIO_AUTHORIZED].includes(t.user.wfolio_state)})),l()(r,te,(function(e,t){return Boolean(e.meta&&e.meta.wfolio_project_id)&&!e.isInTrash&&![oe.INITIAL,oe.ENABLE_INFO_SENDING_IN_PROGRESS,oe.WFOLIO_AUTHORIZED].includes(t.user.wfolio_state)})),l()(r,ne,(function(e,t){return Boolean(e.meta&&e.meta.wfolio_project_id)&&!e.isInTrash&&![oe.INITIAL,oe.ENABLE_INFO_SENDING_IN_PROGRESS,oe.WFOLIO_AUTHORIZED].includes(t.user.wfolio_state)})),l()(r,re,(function(e,t){return Boolean(e.meta&&e.meta.wfolio_project_id)&&!e.isInTrash&&![oe.INITIAL,oe.ENABLE_INFO_SENDING_IN_PROGRESS,oe.WFOLIO_AUTHORIZED].includes(t.user.wfolio_state)})),r),le=[x,T,I,A,D,W,P,Z,G,q,$,J,ee,te,ne,re],de=["/recent","/shared","/published","/family","/narod","/attach","/attach/yaruarchive",w.VIRTUAL_DISKS_ROOT],fe=function(e,t,n,r){return!(t.error||de.includes(t.id)||(function(e){return Boolean(e&&e.state&&(e.state.part||e.state.blocked||e.state.hidden))})(t))&&ce[e](t,n,r)},pe=[z],he=(i={},l()(i,k,(function(e,t){return e.every((function(e){return fe(k,e,t)&&"dir"!==e.type&&!Object(w.isPathInsideVirtualDiskFiles)(e.id)&&(!S.isParent("/attach",e.id)||S.isParent("/attach/YaFotki",e.id))}))})),l()(i,C,(function(e,t){return e.every((function(e){return fe(U,e,t)}))})),i),me=(o={},l()(o,H,l()({},ie.IS_LAST_ITEM_IN_LOADING_ALBUM,(function(e,t){return Object(p.isLastAlbumItemOpenedInSlider)(t)}))),l()(o,L,l()({},ie.IS_LAST_ITEM_IN_LOADING_ALBUM,(function(e,t){return Object(p.isLastAlbumItemOpenedInSlider)(t)}))),l()(o,W,l()({},ie.NESTED_SHARED_FOLDERS,(function(e){if(1!==e.length)return!1;var t=u()(e,1)[0];return t.meta&&t.meta.group&&!t.meta.group.is_root&&"dir"===t.type}))),l()(o,ee,l()({},ie.NEED_WFOLIO_FEATURE,(function(e,t){return 1===e.length&&(ce[ee](e[0],t)&&([oe.DISABLED_WITH_PROJECTS,oe.DISABLED_EMPTY,oe.ENABLED,oe.DISABLED_UNAUTHORIZED,oe.DISABLE_INFO_SENDING_IN_PROGRESS].includes(t.user.wfolio_state)||e&&e[0]&&e[0].state&&e[0].state["creating-wfolion-project"]))}))),l()(o,te,l()({},ie.NEED_WFOLIO_AUTH,(function(e,t){return 1===e.length&&(ce[te](e[0],t)&&([oe.ENABLED,oe.DISABLED_UNAUTHORIZED].includes(t.user.wfolio_state)||e&&e[0]&&e[0].state&&e[0].state["deleting-wfolion-project"]))}))),l()(o,ne,l()({},ie.NEED_WFOLIO_AUTH,(function(e,t){return 1===e.length&&(ce[ne](e[0],t)&&[oe.ENABLED,oe.DISABLED_UNAUTHORIZED].includes(t.user.wfolio_state))}))),l()(o,re,l()({},ie.NEED_WFOLIO_AUTH,(function(e,t){return 1===e.length&&(ce[re](e[0],t)&&[oe.ENABLED,oe.DISABLED_UNAUTHORIZED].includes(t.user.wfolio_state))}))),o),ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0===e.length?[]:Object.keys(ce).filter((function(n){return e.length>1&&he[n]?he[n](e,t):!(e.length>1&&le.includes(n))&&(e.length>1&&pe.includes(n)?e.some((function(e){return fe(n,e,t,[])})):e.every((function(e){return fe(n,e,t,[])})))}))},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(me).map((function(n){var r=Object.keys(me[n]).find((function(r){return me[n][r](e,t)}));return!!r&&{action:n,reason:r}})).filter(Boolean)},ye=l()({},ie.NESTED_SHARED_FOLDERS,"Пригласить участников в папку нельзя. Она находится внутри общей папки."),be=(a={},l()(a,G,(function(){return Object(b.isDocsPage)(Object(y.default)().getState())?"Перейти к файлу на Диске":"Перейти к файлу"})),l()(a,q,"Перейти к папке"),l()(a,C,"Поделиться"),l()(a,x,(function(e){return"dir"===e[0].type?"Удалить ссылку на папку":"Удалить ссылку на файл"})),l()(a,T,"Описание с Яндекс.Фоток"),l()(a,P,"Открыть оригинал"),l()(a,Z,"Поставить на обложку"),l()(a,k,"Скачать"),l()(a,j,"Очистить Корзину"),l()(a,R,"Восстановить"),l()(a,I,"Редактировать"),l()(a,A,"Просмотреть"),l()(a,D,"Переименовать"),l()(a,M,"Переместить"),l()(a,L,"Удалить"),l()(a,F,"Удалить навсегда"),l()(a,B,"Копировать"),l()(a,U,"Добавить в альбом"),l()(a,z,"Убрать из альбома"),l()(a,V,"Убрать из альбома"),l()(a,H,"Убрать из альбома"),l()(a,W,"Настроить доступ"),l()(a,$,"История изменений"),l()(a,X,(function(e){return e[0].pinned?"Открепить":"Закрепить"})),l()(a,Q,"Удалить"),l()(a,ee,"Создать новый проект"),l()(a,te,"Убрать из проектов"),l()(a,ne,"Копировать ссылку"),l()(a,re,"Настроить проект"),a),_e=function(e,t){return"function"==typeof be[e]?be[e](t):be[e]}}),(function(e,t,n){"use strict";e.exports=n(732)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getUntitledAlbums",(function(){return O})),n.d(t,"getGatheredAlbums",(function(){return E})),n.d(t,"getAlbumsData",(function(){return w})),n.d(t,"getAlbumsListing",(function(){return S})),n.d(t,"getAlbumsForSelect",(function(){return C})),n.d(t,"isPageAlbum",(function(){return x})),n.d(t,"hasAlbumsStub",(function(){return T})),n.d(t,"getCurrentAlbumId",(function(){return P})),n.d(t,"getCurrentAlbum",(function(){return k})),n.d(t,"getCurrentAlbumType",(function(){return j})),n.d(t,"isCurrentAlbumLoading",(function(){return R})),n.d(t,"isCurrentAlbumCompleted",(function(){return I})),n.d(t,"getAlbumById",(function(){return A})),n.d(t,"hasAlbumStub",(function(){return D})),n.d(t,"getCurrentAlbumResources",(function(){return M})),n.d(t,"getAlbumResources",(function(){return N})),n.d(t,"isLastAlbumItemOpenedInSlider",(function(){return L})),n.d(t,"getAlbumNextResource",(function(){return F})),n.d(t,"getCurrentAlbumPhotoView",(function(){return B})),n.d(t,"getCurrentAlbumItemsRange",(function(){return U})),n.d(t,"getClustersSelectionState",(function(){return z})),n.d(t,"isSelectingPhotos",(function(){return V})),n.d(t,"canShowAlbumsFaces",(function(){return H})),n.d(t,"isCurrentAlbumFamily",(function(){return W})),n.d(t,"isCurrentAlbumPersonal",(function(){return $})),n.d(t,"shouldShowFamilyExpiredNotify",(function(){return G}));var r=n(10),i=n.n(r),o=n(44),a=n(181),s=n(9),u=n.n(s),c=n(215),l=n(574),d=n(156),f=n(36),p=n(523),h=n(149),m=n(96),v=n(58);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={untitled:["camera","videos","screenshots"],gathered:["beautiful","unbeautiful"]},_=function(e){return function(t){var n=t.albums,r=n.albums,i=n.isLoaded;return b[e].map((function(e){return r[e]})).filter((function(e){var t=e.count;return!i||t>0}))}},O=function(e){var t=e.albums,n=t.albums,r=t.isLoaded,i=_("untitled")(e);return!n.favorite||r&&!n.favorite.preview||i.unshift(n.favorite),i},E=function(e){var t=e.albums.albums,n=e.personalAlbums,r=n.ids,i=n.albumsByIds,o=n.familyAlbumId,a=_("gathered")(e);t.faces&&t.faces.id&&a.unshift(t.faces),t.geo&&t.geo.id&&a.unshift(t.geo);var s=t.family&&t.family.personalAlbumId||o;if(t.family&&Object(v.shouldShowFamilyAlbumSelector)(e)&&(r&&r.length>0||Object.values(t).some((function(e){return e&&e.count>0}))||t.favorite.preview||s)){var u=Object(v.shouldShowAlbumPromoStubSelector)(e),c=Object(v.isBeenShownAlbumPromoStubSelctor)(e);u?t.family.isFamilyPromotionStub=!0:s&&i[s]&&(t.family=y(y({},i[s]),t.family)),u&&!c?a.unshift(t.family):a.push(t.family)}return a},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.albums,r=e.personalAlbums;return t&&n.albums[t]?n.albums[t]:r},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=w(e,t);if(n.isLoaded){var r=(n.ids||[]).map((function(t){return e.personalAlbums.albumsByIds[t]})).filter(Boolean);return t||r.unshift({id:"new"}),"faces"===t?r.filter((function(e){return!e.is_empty&&!e.hidden})):r}return[]},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.personalAlbums,i=r.albumsByIds,o=r.familyAlbumId,a=S(e,t);return!t&&a.length&&(e.albums.albums.favorite&&e.albums.albums.favorite&&a.splice(1,0,e.albums.albums.favorite),Object(m.isFamilyAlbumExp)(e)&&Object(v.hasFamilyAlbumSelctor)(e)&&Object(v.shouldShowFamilyAlbumSelector)(e)&&Object(v.hasFamilyAlbumFeature)(e)&&!Object(v.shouldShowAlbumPromoStubSelector)(e)&&a.splice(1,0,y(y({},e.albums.albums.family),i[e.albums.albums.family&&e.albums.albums.family.personalAlbumId||o]))),n&&(a=a.filter((function(e){return!n.includes(e.id)}))),a},x=function(e){var t=e.page.idContext;return t.startsWith("/album/")&&"/album/faces"!==t&&"/album/geo"!==t},T=function(e){if("/albums"!==e.page.idContext)return!1;var t=Boolean(O(e).length),n=Boolean(E(e).length),r=w(e);return!(!r.isLoaded||r.ids.length>0)&&!t&&!n},P=function(e){return e.page.albumId},k=function(e){var t=P(e);return e.personalAlbums.albumsByIds[t]||{}},j=function(e){return Object(h.getAlbumType)(k(e))},R=function(e){var t=k(e);return void 0===t.isLoading||t.isLoading},I=function(e){var t=k(e);return void 0!==t.isCompleted&&t.isCompleted},A=function(e,t){return e.personalAlbums.albumsByIds[t]},D=function(e){if("album"!==Object(o.getPage)(e))return!1;var t=k(e);return!t.clusters||0===t.clusters.length},M=function(e){var t=k(e),n=e.resources,r=(t.clusters||[]).map((function(e){return e.items.map((function(e){var t=e.id;return n[t]}))}));return u.a.flatten(r)},N=Object(a.resourcesSelectorCreator)(M,(function(e){return e})),L=function(e){if("album"!==Object(o.getPage)(e))return!1;var t=k(e),n=N(e),r=e.page.idDialog;return!t.isCompleted&&n.length>0&&n[n.length-1].id===r},F=function(e,t,n){return u.a.last(Object(c.b)(Object(d.getAlbumSliderResources)(e).sliderResources,t,{take:n,loop:!1,matcher:function(e,n){return n&&t===n.id},filter:f.isSliderResource}))},B=function(e){var t=k(e);return Object(l.a)(t.layout)},U=function(e,t,n){for(var r=e.resources,i=e.statesContext,o=i.selected,a=void 0===o?[]:o,s=i.highlighted,c=void 0===s?[]:s,l=k(e).clusters,d={},f=t.clusterIndex;f<=n.clusterIndex;f++){d[f]={};for(var p=l[f],h=f===t.clusterIndex?t.resourceIndex:0,m=f===n.clusterIndex?n.resourceIndex:p.size-1,v=h;v<=m;v++){var g=p.items[v],y=r[g.id],b=u.a.get(y,"state.disabled");d[f][v]={id:g.id,name:y.name,defaultPreview:u.a.get(y,"defaultPreview"),selected:!b&&a.includes(g.id),disabled:b,highlighted:c.includes(g.id),isVideo:u.a.get(y,"canPlayVideo"),videoDuration:u.a.get(y,"meta.video_info.duration")}}}return d},z=function(e,t,n){for(var r=k(e).clusters,i=e.statesContext.selected,o=void 0===i?[]:i,a={},s=t;s<=n;++s){var u=r[s],c=u.items.filter((function(e){return o.includes(e.id)})).length,l=p.a.NONE;c===u.size?l=p.a.ALL:c>0&&(l=p.a.SOME),a[u.id]=l}return a},V=function(e){return e.personalAlbums.isSelectingPhotos},H=function(e){return"reindexed"===e.user.faces_indexing_state},W=function(e){return"family"===j(e)},$=function(e){var t=k(e).album_type;return"personal"===t||null===t},G=function(e){return W(e)&&!Object(v.hasFamilyAlbumFeature)(e)}}),(function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(38),i=r.SOCIAL,o=r.PHOTO_GRID_TYPES,a=1073741824;e.exports={ONE_DAY:864e5,GB:a,UPLOADER_FILE_SIZE_LIMIT:50*a,INTERVALS_COUNT_CONTACTS:[0,20,100,200,300,400,500],SOCIAL:i,TYPE_FOLDER_SOCIAL:[i.VK,i.FB,i.OK,i.MOIMIR,i.INSTAGRAM,i.GOOGLE],ROOT_CONTENT_TOP:70,HEADER_HEIGHT:60,HEIGHT_TITLE_PHOTOSLICE_GROUP:76,COUNT_ITEMS_TO_FETCH_AROUND_PHOTO:10,PORTION_SIZE:40,WFOLIO_STATES:{INITIAL:"initial",WFOLIO_AUTHORIZED:"wfolio_authorized",ENABLED:"enabled",READY_WITH_PROJECTS:"ready_with_projects",READY_EMPTY:"ready_empty",DISABLED_WITH_PROJECTS:"disabled_with_projects",DISABLED_EMPTY:"disabled_empty",DISALBE_INFO_SENDING_IN_PROGRESS:"disable_info_sending_in_progress",DISABLED_UNAUTHORIZED:"disabled_unauthorized"},HASH_LONG_NOT_FOUND:"404",USER_SETTINGS_DEFAULTS:{lastContext:"/disk",view:"icons",docsView:"icons",photoView:o.WOW,beautifulAlbumPhotoView:o.WOW,unbeautifulAlbumPhotoView:o.WOW,screenshotsAlbumPhotoView:o.TILE,cameraAlbumPhotoView:o.WOW,videosAlbumPhotoView:o.WOW,timestampLastCollapseInfoSpaceDiscount:"0",timestampLastExpandInfoSpaceDiscount:"0",lastShownInfoSpaceDiscountId:"",showAgreementOfficeConvertation:"1",MSOfficeHeaderPromoState:"0",MSOfficeHeaderPromoLastShowTimestamp:0,beautifulAlbumDescriptionClosed:"0",unbeautifulAlbumDescriptionClosed:"0",screenshotsAlbumDescriptionClosed:"0",confirmExcludeFromAlbumShowed:"0",confirmExcludeFromGeoAlbumShowed:"0",shareEditMenuExpandedShowed:"0",isShownAlbumPromoStub:"0",isShownFamilyAlbumOnboarding:"0"},YA_IMAGES_CONTEXT:"/disk/Мои Яндекс.Картинки",COMMENTS:{MESSAGE_LIMIT:1e3},STATUS_CREATE_FOLDER:{EXISTS:0,UNKNOWN:1},LOCALSTORAGE_SIZE:4980736,SOURCES:{APP_NAME:{ALBUM:"album",AUTH:"landing",CLIENT:"client",EMAIL:"email",PUBLIC:"public"},AGENT_TYPE:{DESKTOP:"web",TOUCH:"touch"},ACTION_NAME:{COMMENT:"comment",COPY:"copy",COPY_LIMIT:"copy_limit",CREATE_ALBUM:"newalbum",CREATE_DOCUMENT:"newdoc",DISLIKE_COMMENT:"dislike_comment",DISLIKE_PAGE:"dislike_page",EDIT:"edit",INVITE:"invite",LIKE_COMMENT:"like_comment",LIKE_PAGE:"like_page",REGISTER:"register",REGISTER_BUTTON:"register_button",REGISTER_HEADER:"register_header",SEARCH:"search",SIGNIN:"signin"}},LISTING_ID_CONTEXTS:["/disk","/recent","/trash","/shared","/family","/vd","/published","/attach","/narod","/search","/wfolio"],SEARCH_SCOPES:{DISK:"/disk",TRASH:"/trash",JOURNAL:"/journal"},MOBILE_PROMO_ACTIVITY_TIMEOUT:2592e6,APP_PROMO_ACTIVITY_TIMEOUT:15552e6,DESKTOP_APP_LAST_ACTIVITY_TIMEOUT:5184e6,APP_PROMO_IN_UPLOADER_ACTIVITY_TIMEOUT:12096e5,APP_DOWNLOAD_ACTIVITY_TIMEOUT:15552e6,B2C_BANNER_TIMEOUT_DEFAULT:2592e5,B2C_BANNER_DURATION_SHOW_TIMEOUT:1728e5,NOTIFICATIONS:{DEFAULT_CLOSE_TIME:5e3,CLOSING_ANIMATION_TIME:400,LIMIT:4},PHOTOSLICE_FILTERS:{ALL:"all",ONLY_UNLIM:"photounlim",ONLY_FROM_FOLDERS:"nonphotounlim"},PREVENT_CUSTOM_CONTEXT_MENU_CLASS:"prevent-custom-context-menu",PHOTOSLICE_DB:{NAME:"photosliceDB",STORE:"snapshot",OBJECT:"geo"},MAX_ACTIONABLE_SELECTION:500,PHOTOSLICE_MAX_FETCHING_SELECTION:1e3,MPFS_ERROR_CODES:{MKDIR_EXISTS:13,STORE_NOT_FOUND:19,STORE_FILE_EXISTS:47,OWNER_HAS_NO_FREE_SPACE:234,UPLOAD_LIMIT_QUOTA:311,UPLOAD_LIMIT_TECH:312,COPY_D2D_RESOURCE_EXISTS:32,RESOURCE_LOCKED:105},OVERDRAFT_TYPES:{LITE:"lite",HARD:"hard"},MPFS_OVERDRAFT_STATUSES:{1:"lite",2:"hard",3:"hard"},B2B_RESTRICTION_STATUSES:{WAIT_NOTIFICATION:"wait_notification",RESTRICT_NOTIFICATION:"restrict_notification",RESTRICT:"restrict"},COMMON_SUBSCRIPTION_ONBOARDING_ID:"commonSubscriptionOnboarding",DISK_UXFEEDBACK_ACCOUNT_ID:"frxmhmts71glkyqo49h7cjl5",DOCS_UXFEEDBACK_ACCOUNT_ID:"iiqca36lhdbi5llgos1k2xvo",DOCS_UXFEEDBACK_EVENT:"viewer",DISK_UXFEEDBACK_EVENT_DEFAULT:"disk_default",DISK_UXFEEDBACK_EVENT_SECURITY:"disk_security"}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"NAME_VALIDATION_ERRORS",(function(){return S})),n.d(t,"resourceNameValidationResultI18n",(function(){return C})),n.d(t,"resourceRightsI18n",(function(){return x}));var r,i=n(10),o=n.n(i),a=n(9),s=n.n(a),u=n(23),c=n.n(u),l=n(63),d=n.n(l),f=n(174),p=n.n(f),h=n(69),m=(n(621),n(1133),n(18)),v=n(19),g=n(15),y=n(29),b=n(34),_=n(24),O=n(1346),E=["document","video","image","book"],w={preserveData:function(e,t){return["clusterId","albumIds","children","isLoading","lastFetchTime","meta.size","meta.videoInfo","meta.videoInfoLoadFailed","meta.onlyImageAndVideo","meta.uploadingState","state.hidden","state.blocked","state.portional","state.publishing","originalSize","sharedRoot","meta.search_scope","favorite","isVicariousDoc","pinned","openInEditorTimestamp","recordId"].forEach((function(n){var r=s.a.get(t,n),i=s.a.get(e,n);!s.a.isUndefined(r)&&s.a.isUndefined(i)&&s.a.set(e,n,r)})),e},getIdUnique:function(e,t){var n=t?e+"_"+t:e;return Object(v.isExistsResource)(Object(m.default)().getState(),n)?(t=t?t+1:1,w.getIdUnique(e,t)):n},getParents:function(e){for(var t=[];e=c.a.dirname(e);)t.unshift({id:e,name:w.getAlias(e)});return t},getAlias:function(e){return w.DEFAULT_FOLDERS_DATA[e]?w.DEFAULT_FOLDERS_DATA[e].name:Object(_.isRootOfVirtualDisk)(e)?"Файлы":c.a.basename(e)},updateParentsOf:function(e){var t=Object(m.default)(),n=c.a.dirname(e);s.a.isNull(c.a.dirname(n))||(Object(v.isExistsResource)(t.getState(),n)&&t.dispatch(Object(g.fetchSingleResource)(n)),w.updateParentsOf(n))},preprocess:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(m.default)().getState().settings,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ns.Model.get("config").getData(),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(h.getPreloadedData)("defaultFolders.folders");e.id=c.a.normalize(e.id),e.name=e.name||c.a.basename(e.id),e.id===b.YA_IMAGES_CONTEXT&&(e.name="Я.Картинки"),e.meta=e.meta||{},e.state=e.state||{},e.isInTrash=0===e.id.indexOf("/trash/")||Object(_.isInVirtualDiskTrash)(e.id),e.ext=e.ext||c.a.extname(e.name).toLowerCase();var a=Object(_.isVirtualDiskPath)(e.id);if(s.a.get(e,"meta.group")&&s.a.extend(e.meta.group,{readonly:640===e.meta.group.rights,in_readonly:640===e.meta.group.rights&&!e.meta.group.is_root}),0===e.id.indexOf("/photounlim/")&&(e.parents=["/disk","/photo"].map((function(e){return{id:e,name:w.getAlias(e)}}))),c.a.isParent("/attach/YaFotki/",e.id)){var u=w.getParents(e.id);u.splice(0,2,{id:"/attach",name:"Архив"},{id:"/attach/YaFotki",name:w.getAlias("/attach/YaFotki")}),e.parents=u}if(e.parents||(e.parents=w.getParents(e.id),c.a.isParent("/attach/yaruarchive",e.id)&&e.parents.unshift({id:"/disk",name:w.DEFAULT_FOLDERS_DATA["/disk"].name}),a&&(e.parents=e.parents.slice(2))),s.a.some(e.parents,{id:"/attach/yaruarchive"})&&(e.parents=e.parents.filter((function(e){return"/attach"!==e.id&&("/attach/yaruarchive"===e.id&&(e.name=w.DEFAULT_FOLDERS_DATA["/attach/yaruarchive"].name),e)}))),"video"===(null===(t=e.meta)||void 0===t?void 0:t.mediatype))if(a){var l;null!==(l=e.meta)&&void 0!==l&&l.sizes&&delete e.meta.sizes}else{var d=e.state.part||e.state.blocked||e.state.disabled;e.isAvialableForVideoPlayer=!d}if(e.hasPreview=!1,e.meta&&E.includes(e.meta.mediatype)&&(e.hasPreview=e.meta.hasPreview=!!e.meta.sizes),"file"===e.type?(e.icon=w.getIconFile(e),e.app=w.getAppFile(e,r)):e.icon=w.getIconFolder(e,o),s.a.get(e,"meta.short_url")&&(e.meta.short_url=w.fixShortUrl(e.meta.short_url,i)),e.isEditable=Boolean(s.a.get(e,"meta.office_online_url")||s.a.get(e,"meta.office_online_sharing_url")),e.isAvailableToAlbum="file"===e.type&&(c.a.isParent("/disk",e.id)||c.a.isParent("/attach/YaFotki",e.id)||c.a.isParent("/photounlim",e.id))&&e.meta&&("video"===e.meta.mediatype&&e.isAvialableForVideoPlayer&&e.hasPreview||"image"===e.meta.mediatype&&e.hasPreview),0===e.id.indexOf("/public")&&(e.groupPublic=w.getNameGroupPublic(e)),e.meta&&"video"===e.meta.mediatype){var f=Object(m.default)().getState(),p=f.page.albumId,v=f.personalAlbums.familyAlbumId;p&&v===p?(e.itemId||Object(m.default)().dispatch(Object(y.closeNsDialog)("slider")),e.meta.videoStreamingParams={item_id:e.itemId,album_id:p}):"photounlim"===e.meta.storage_type?e.meta.videoStreamingParams={path:e.id.replace(/^\/photounlim\//,"photounlim:/")}:e.id.startsWith("/attach/")?e.meta.videoStreamingParams={path:e.id.replace(/^\/attach\//,"attach:/")}:e.meta.videoStreamingParams={path:e.id.replace(/^\/disk\//,"disk:/")}}e.canPlayVideo="video"===e.meta.mediatype&&e.isAvialableForVideoPlayer&&!e.isInTrash;var g=2===e.meta.drweb;return(["vd","dir"].includes(e.type)||g)&&(e.iconType=e.icon),"trash"===e.icon&&e.meta.size&&(e.iconType="trash-full"),g&&(e.virus=g),null!==(n=e.meta.sizes)&&void 0!==n&&n.length&&(e.meta.sizes.forEach((function(t){"DEFAULT"===t.name&&(e.defaultPreview=t.url),"XXXL"===t.name&&(e.xxxlPreview=t.url)})),e.defaultPreview||(e.defaultPreview=e.meta.sizes[0].url)),e},fixShortUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns.Model.get("config").getData();return d.a.fixShortUrl(e,t)},getIconFile:function(e){var t=e.meta&&2===e.meta.drweb,n="."+e.ext,r=e.meta&&e.meta.mediatype||"";return t&&p.a.virus||p.a.extnames[n]||p.a.mediatypes[r]||p.a.default},getIconFolder:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(h.getPreloadedData)("defaultFolders.folders"),n="dir",r=s.a.get(e,"meta.group.is_shared")&&1===s.a.get(e,"meta.group.is_root"),i=r&&"family"===s.a.get(e,"meta.group.group_type"),o=Boolean(s.a.get(e,"meta.wfolio_project_id"));return"/disk"===e.id?n="root":o?n="wfolio":"/trash"===e.id||Object(_.isVirtualDiskTrash)(e.id)?n="trash":i?n="family":r?n="shared":w.isScreenshots(e.id,t)?n="screenshots":w.isScans(e.id,t)?n="scans":w.isYateamNDA(e.id,t)?n="yateamnda":"vd"===e.type&&(n="vd"),n},isOpenableImage:function(e){var t=e.meta,n=t&&t.mediatype,r=t&&t.sizes;return Boolean("image"===n&&r)},getAppFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(m.default)().getState().settings,n=c.a.extname(e.name).toLowerCase(),r=e.meta&&e.meta.mimetype,i=e.meta&&e.meta.mediatype;return e.isInTrash?null:e.state&&e.state.part?null:"compressed"===e.meta.mediatype&&O(r,n,e.hasPreview)?"slider":"video"===i&&e.isAvialableForVideoPlayer||"audio"===i||w.isOpenableImage(e)?"slider":c.a.isParent("/narod",e.id)&&!t.narodMigrated?null:O(r,n,e.hasPreview)?"docviewer":void 0},castSuggestItemToResource:function(e){var t=e.id,n=e.key,r=e.text,i=e.type,o=e.mimetype,a=e.mediatype;if(["files","folders"].includes(i))return w.preprocess({id:n,name:r,type:{files:"file",folders:"dir"}[i],path:n,meta:{mimetype:o,mediatype:a,resource_id:t,sizes:["video","image"].includes(a)&&[]}})},isTrash:function(e){return"/trash"===e||Object(_.isVirtualDiskTrash)(e)},isCamera:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(h.getPreloadedData)("defaultFolders.folders")).photostream===e},isScreenshots:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(h.getPreloadedData)("defaultFolders.folders")).screenshots===e},isScans:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(h.getPreloadedData)("defaultFolders.folders")).scans===e},isYateamNDA:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(h.getPreloadedData)("defaultFolders.folders")).yateamnda===e}},S={NAME_HAS_SLASH:"NAME_HAS_SLASH",NAME_EXCEEDS_MAX_LENGTH:"NAME_EXCEEDS_MAX_LENGTH"},C=(r={},o()(r,S.NAME_HAS_SLASH,{file:"Название файла не может содержать символ «/»",dir:"Название папки не может содержать символ «/»"}),o()(r,S.NAME_EXCEEDS_MAX_LENGTH,{file:"Название файла не может быть длиннее 255 символов",dir:"Название папки не может быть длиннее 255 символов"}),r),x=function(e){switch(e){case"owner":return"Владелец";case"read":return"Просмотр";case"write":return"Редактирование"}return""};w.validateName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("/")?S.NAME_HAS_SLASH:e.length>255?S.NAME_EXCEEDS_MAX_LENGTH:void 0},w.preprocessIdREST=function(e){return e.replace(/^photounlim:/,"/photounlim").replace(/^disk:/,"/disk")},w.isResourceSharedRoot=function(e){return Boolean(s.a.get(e,"meta.group.is_root"))},w.getNameGroupPublic=function(e){if("dir"===e.type)return"folder";var t=e.meta&&e.meta.mediatype;return"video"===t?"image":"image"===t&&e.meta.sizes?"image":"file"},w.getSrcPreviewBaseUrl=function(e){return w.getDownloaderUrl(e,"DEFAULT")},w.getDownloaderUrl=function(e,t){var n=s.a.get(e,"meta.sizes",[]).find((function(e){return e.name===t}));return n&&n.url},w.getIdFromFakeId=function(e){return e.replace(/\.\d+$/,"")},w.getFakeId=function(e){return e+"."+Date.now()},w.DEFAULT_FOLDERS_DATA={"/recent":{name:"Последние файлы"},"/disk":{path:"/disk",type:"dir",name:"Файлы",parents:[]},"/published":{type:"dir",isSlice:!0,name:"Публичные ссылки",parents:[{id:"/disk",name:"disk"}]},"/shared":{type:"dir",isSlice:!0,name:"Общие папки",parents:[{id:"/disk",name:"disk"}]},"/family":{type:"dir",isSlice:!0,name:"Семья",parents:[{id:"/disk",name:"disk"}]},"/trash":{type:"dir",isSlice:!0,name:"Корзина",parents:[{id:"/disk",name:"disk"}]},"/attach":{type:"dir",isSlice:!0,name:"Почтовые вложения",parents:[]},"/narod":{id:"/narod",type:"dir",isSlice:!0,name:"Народ",parents:[{id:"/disk",name:"disk"}]},"/attach/yaruarchive":{type:"dir",isSlice:!0,name:"Другие сервисы",parents:[{id:"/disk",name:"disk"}]},"/attach/YaFotki":{type:"dir",name:"Яндекс.Фотки",parents:[{id:"/attach",name:"Архив"}]},"/photo":{name:"Все фото",isSlice:!0},"/photounlim":{name:"Все фото",isSlice:!0,path:"/photo",parents:[{id:"/disk",name:"disk"}]},"/albums":{name:"Альбомы",isSlice:!0},"/journal":{name:"История",isSlice:!0},"/wfolio":{name:"Проекты Wfolio",isSlice:!0}},w.preprocessResources=function(e,t){var n=t.settings,r=t.config,i=t.defaultFolders,o=t.resources;return e.map((function(e){var t=w.preprocess(e,n,r,i&&i.folders||{});return o[e.id]?w.preserveData(t,o[e.id]):t}))},w.updateResourceData=function(e,t){return e=w.preprocess(e),e=w.preserveData(e,t)},t.default=w}),(function(e,t,n){"use strict";n.r(t),n.d(t,"resourcesSelector",(function(){return v})),n.d(t,"currentResourceSelector",(function(){return g})),n.d(t,"isSliderResource",(function(){return y})),n.d(t,"isSliderOpened",(function(){return b})),n.d(t,"sliderResourceSelector",(function(){return _})),n.d(t,"getCurrentResource",(function(){return O})),n.d(t,"resourceChildrenKey",(function(){return E})),n.d(t,"resourceChildrenIds",(function(){return w})),n.d(t,"currentResourceChildrenIds",(function(){return S})),n.d(t,"resourceIsComplete",(function(){return C})),n.d(t,"currentResourceIsComplete",(function(){return x})),n.d(t,"getResourceChildren",(function(){return T})),n.d(t,"getResourceSubfoldersIds",(function(){return P})),n.d(t,"getResources",(function(){return k})),n.d(t,"getNextSliderResource",(function(){return j})),n.d(t,"getSliderStateOpened",(function(){return R})),n.d(t,"getCurrentSliderResource",(function(){return I})),n.d(t,"OBJECT_TYPES",(function(){return A})),n.d(t,"isPublishSelected",(function(){return D})),n.d(t,"getCreatedAlbumFromSelected",(function(){return M})),n.d(t,"isCooperativelyEditable",(function(){return L})),n.d(t,"getPublishObjectData",(function(){return F})),n.d(t,"getListingStubId",(function(){return B})),n.d(t,"isEmptyResource",(function(){return U})),n.d(t,"isNotEmptyResource",(function(){return z})),n.d(t,"isLoadingResource",(function(){return V})),n.d(t,"shouldScrollToResource",(function(){return H})),n.d(t,"getListingMetrikaSection",(function(){return W}));var r=n(46),i=n(181),o=n(44),a=n(152),s=n(104),u=n(17),c=n(23),l=n.n(c),d=n(24),f=n(130),p=n(9),h=n.n(p),m=n(34),v=function(e){return e.resources},g=function(e){return e.resources[e.page.idContext]},y=function(e){return e&&"file"===e.type&&!e.state.hidden&&!e.state.blocked},b=function(e){return"slider"===e.page.dialog},_=function(e){return b(e)&&y(e.resources[e.page.idDialog])?e.resources[e.page.idDialog]:null},O=function(e){return g(e)},E=function(e,t){var n=Object(f.getSortForIdContext)(e,t);return n.sort+"_"+n.order},w=function(e,t){var n=t&&t.id||"",r=n.startsWith("/remember/")?"children":"children."+E(e,n)+".ids";return h.a.get(t,r,[])},S=function(e){return w(e,g(e))},C=function(e,t){var n=t&&t.id||"";return n.startsWith("/remember/")?Boolean(t.isComplete):Boolean(h.a.get(t,"children."+E(e,n)+".isComplete"))},x=function(e){return C(e,g(e))},T=function(e,t){var n=v(e),r=e.uploader.uploadingStatesByIds;return w(e,t).map((function(e){return n[e]})).filter((function(e){if(!e||e.state&&e.state.hidden)return!1;if("/wfolio"===t.id&&!e.meta.wfolio_project_id)return!1;var n=r[e.id]||{};return!("file"===e.type&&n.status===u.UPLOAD_STATUSES.ERROR||n.error===u.UPLOAD_ERRORS.FOLDER_NOT_CREATED)}))},P=function(e,t){var n=v(e);return Object.keys(n).filter((function(e){return e!==t&&e.startsWith(t)&&"dir"===n[e].type}))},k=Object(i.resourcesSelectorCreator)((function(e){return T(e,g(e))}),(function(e){return e})),j=Object(r.createSelector)([_,S,v],(function(e,t,n){if(!e)return null;var r=t.indexOf(e.id);return-1===r||r===t.length-1?null:n[t[r+1]]})),R=Object(r.createSelector)([b],(function(e){return e})),I=Object(r.createSelector)([_],(function(e){return e||null})),A={RESOURCE:"resource",ALBUM:"album"},D=function(e){var t=e.personalAlbums,n=t.lastCreatedAlbumId,r=t.isPublishSelected;return!n&&r},M=function(e){var t=e.personalAlbums,n=t.lastCreatedAlbumId,r=t.isPublishSelected,i=t.albumsByIds;return n&&r?i[n]:null},N=function(e,t){return{objectType:A.ALBUM,shortUrl:t&&t.public&&t.public.short_url,isPublishing:t&&Boolean(t.isPublishing)||!t&&D(e),isPublishingReverse:t&&t.isPublishingReverse,resourceType:"album",resourceName:t&&t.title,canUnpublish:!0,isPublic:t&&t.is_public,resourceId:t&&t.id}},L=function(e){var t;return Boolean(e.isEditable&&(null===(t=e.meta)||void 0===t?void 0:t.office_access_state))},F=function(e,t){if(t.length>1){var r=M(e);return N(e,r?r:null)}var i=t[0];if(!i.startsWith("/")){var o=e.personalAlbums.albumsByIds[i];return N(e,o)}var a,s,u,c,l,d,f=e.resources[i]||{},p=Boolean(f.meta&&f.meta.public),h=n(30),m=h.can,v=h.UNPUBLISH;return{objectType:A.RESOURCE,shortUrl:null===(a=f.meta)||void 0===a?void 0:a.short_url,isPublic:p,isPublishing:Boolean(null===(s=f.state)||void 0===s?void 0:s.publishing),resourceId:f.id,metaResourceId:null===(u=f.meta)||void 0===u?void 0:u.resource_id,resourceType:f.type,resourcePath:f.path,resourceName:f.name,resourceMediaType:null===(c=f.meta)||void 0===c?void 0:c.mediatype,isEditable:f.isEditable,officeAccessState:null===(l=f.meta)||void 0===l?void 0:l.office_access_state,isCooperativelyEditable:L(f),canUnpublish:m(v,f,e),isGuestInSharedFolder:0===(null===(d=f.meta)||void 0===d||null===(d=d.group)||void 0===d?void 0:d.is_owned),publicSettings:f.publicSettings,isVicariousDoc:f.isVicariousDoc}},B=function(e){if("album"===Object(o.getPage)(e))return"album";var t=e.user.wfolio_state,n=e.page,r=n.idContext,i=n.filter,a=e.defaultFolders.folders;if(r.startsWith("/search"))return"search";if(Object(d.isVirtualDiskTrash)(r))return"trash";if(Object(d.isVirtualDiskSearchPath)(r))return"vd_search";switch(r){case"/recent":return"recent";case"/wfolio":return t===m.WFOLIO_STATES.DISABLED_UNAUTHORIZED||t===m.WFOLIO_STATES.ENABLED?"wfolio_need_auth":t===m.WFOLIO_STATES.DISABLED_EMPTY?"wfolio_need_subscribe":"wfolio_empty";case"/photo":return i?"photo_filter":"photo";case"/published":return"published";case"/shared":return"shared";case"/family":return"family";case"/trash":return"trash";case"/albums":return"albums";case a.downloads:return"downloads";case a.screenshots:return"screenshots";case a.scans:return"scans"}},U=Object(r.createSelector)([g,k],(function(e,t){return Boolean(e&&!1===e.isLoading&&t&&0===t.length)})),z=Object(r.createSelector)([g,k],(function(e,t){return Boolean(e&&!1===e.isLoading&&t&&t.length>0)})),V=Object(r.createSelector)([g,k],(function(e,t){return Boolean(e&&!0===e.isLoading&&t&&0===t.length)})),H=function(e){var t=e.environment.agent.isMobile,n=Object(o.getPage)(e),r="photo"===n,i="album"===n,u=(Object(a.isIdContextWithListing)(e)||"remember-block"===n||r||i)&&!Object(s.e)(e);return{shouldScroll:u,shouldSelect:u&&!t&&!r&&!i}},W=function(e){if(Object(a.isIdContextWithListing)(e)){var t=e.page.idContext,n=e.defaultFolders.folders;if(l.a.isParent(n.downloads,t)||l.a.equals(n.downloads,t))return"downloads";if(l.a.equals(n.scans,t))return"scans";var r=Object(a.getTopLevelCurrentItem)(e);return r&&r.id||"files"}}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Button=t.cnButton=void 0;var i=n(1),o=i.__importStar(n(0)),a=n(219),s=n(68),u=n(640),c=n(642),l=n(296);Object.defineProperty(t,"cnButton",{enumerable:!0,get:function(){return l.cnButton}}),n(644);var d={autoComplete:"off",pressKeys:[s.Keys.SPACE,s.Keys.ENTER],prvntKeys:[],as:"button",type:"button"};t.Button=((r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pressed:!1},t.internalInnerRef=o.createRef(),t.onKeyDown=function(e){s.isKeyCode(e.keyCode,t.props.pressKeys)&&(t.setState({pressed:!0}),s.isKeyCode(e.keyCode,t.props.prvntKeys)&&e.preventDefault()),void 0!==t.props.onKeyDown&&t.props.onKeyDown(e)},t.onKeyUp=function(e){s.isKeyCode(e.keyCode,t.props.prvntKeys)&&e.preventDefault(),s.isKeyCode(e.keyCode,t.props.pressKeys)&&t.setState({pressed:!1}),void 0!==t.props.onKeyUp&&t.props.onKeyUp(e)},t.onClick=function(e){null!==t.internalInnerRef.current&&t.internalInnerRef.current.focus(),void 0!==t.props.onClick&&t.props.onClick(e)},t.onMouseDown=function(e){navigator.userAgent.match(/safari/i)&&e.preventDefault(),t.setState({pressed:!0}),void 0!==t.props.onMouseDown&&t.props.onMouseDown(e)},t.onMouseUp=function(e){t.setState({pressed:!1}),void 0!==t.props.onMouseUp&&t.props.onMouseUp(e)},t.onMouseLeave=function(e){t.setState({pressed:!1}),void 0!==t.props.onMouseLeave&&t.props.onMouseLeave(e)},t.onBlur=function(e){t.setState({pressed:!1}),void 0!==t.props.onBlur&&t.props.onBlur(e)},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.addonAfter,n=e.addonBefore,r=e.autoComplete,s=e.checked,d=e.children,f=e.icon,p=e.iconLeft,h=e.iconRight,m=e.progress,v=e.disabled,g=e.as,y=e.type,b=e.className,_=e.innerRef,O=e.controlRef,E=e.title,w=e.role,S=(e.pressKeys,e.prvntKeys,e.view,e.theme,e.baseline,e.pin,e.width,i.__rest(e,["addonAfter","addonBefore","autoComplete","checked","children","icon","iconLeft","iconRight","progress","disabled","as","type","className","innerRef","controlRef","title","role","pressKeys","prvntKeys","view","theme","baseline","pin","width"])),C=this.state.pressed,x=g;S["string"==typeof g?"ref":"innerRef"]=a.mergeAllRefs(this.internalInnerRef,_,O);var T=p||f,P=Boolean(d)&&!0!==d||0===d;return o.default.createElement(x,i.__assign({},S,{type:y,disabled:Boolean(m||v),className:l.cnButton({checked:s,progress:m,pressed:C},[b]),onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onClick:this.onClick,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onBlur:this.onBlur,"aria-pressed":s,"aria-disabled":v,autoComplete:r,title:E,role:w,"aria-busy":m}),n,T&&o.default.createElement(u.ButtonIcon,{provider:T,side:P&&p?"left":void 0}),h&&o.default.createElement(u.ButtonIcon,{provider:h,side:P?"right":void 0}),P&&o.default.createElement(c.ButtonText,null,d),t)},t})(o.PureComponent)).displayName=l.cnButton(),r.defaultProps=d,r)}),(function(e,t){var n={TILE:"tile",WOW:"wow"},r=Object.assign({},n,{ICONS:"icons",LIST:"list"});e.exports={RESOURCE_VIEWS:{NONE:"",ERROR:"error",DIR:"dir",ALBUM:"album",IMAGE:"image",VIDEO:"video",AUDIO:"audio",PREVIEW:"preview",ICON:"icon"},SOCIAL:{MAIL:"mail",VK:"vkontakte",FB:"facebook",OK:"odnoklassniki",MOIMIR:"moimir",GOOGLE:"google",INSTAGRAM:"instagram",QR:"qr"},SERVICES:{DISK:"disk",SEARCH:"search",CALENDAR:"calendar",TELEMOST:"telemost",MAIL:"mail",MONEY:"money",IMAGES:"images",NEWS:"news",MAPS:"maps",MARKET:"market",WEATHER:"pogoda",TV:"tv",MUSIC:"music",AFISHA:"afisha",BROWSER:"browser",METRIKA:"metrika",DIRECT:"direct",NOTES:"notes"},KEYS:{ENTER:13,ESC:27,TAB:9,BACKSPACE:8,DELETE:46,RIGHT:39,LEFT:37,UP:38,DOWN:40,SHIFT:16,SPACE:32},THROTTLE_DELAY:300,DOUBLE_CLICK_DELAY:500,PHOTO_GRID_TYPES:n,LISTING_TYPES:r,PHOTO_GRID_COVER_THRESHOLD:200}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(376),o=n(181),a=n(46),s=n(162),u=n(130),c=n(102),l=r(n(63)),d=r(n(23));t.currentDocsType=(e=>{const{page:{type:t}}=e;return t||s.isScansPage(e)?t:"docx"}),t.currentSideBarDocsType=(e=>{const{page:{type:t,idPage:n}}=e;return t||n||"docx"}),t.docsList=(e=>{const{docs:n}=e,r=t.currentDocsType(e);return n.lists[r]}),t.listingType=(e=>{const{settings:{docsView:t}}=e;return t}),t.getResourceType=((e,t)=>{const{docs:{lists:n}}=t;return Object.keys(n).find(t=>n[t].items.includes(e))}),t.sortingType=(e=>{const{docs:{sortingType:t}}=e;return s.isScansPage(e)?u.getSort(e):t}),t.getFilterType=(e=>{const{docs:{filterType:t}}=e;return t}),t.isPortionsSupported=(e=>{const{sort:n}=t.sortingType(e);return n===i.SortBy.DATE_LAST_VIEW});t.docsListResources=o.resourcesSelectorCreator(e=>{const{resources:n,docs:{sortingType:{sort:r,order:o}}}=e,a=[],s=[],{items:u}=t.docsList(e);u.forEach(e=>{const t=n[e];t&&(t.pinned?a.push(n[e]):s.push(n[e]))}),a.sort((e,t)=>Number(t.pinned)-Number(e.pinned)),s.sort((e,t)=>{if(o===i.SortOrder.ASC){const n=e.openInEditorTimestamp-t.openInEditorTimestamp,o=Number(e.meta.size)-Number(t.meta.size);switch(r){case i.SortBy.DATE_LAST_VIEW:return Number.isNaN(n)?1:n;case i.SortBy.SIZE:return Number.isNaN(o)?1:o;case i.SortBy.NAME:return e.name.localeCompare(t.name,"en",{numeric:!0})}}else if(o===i.SortOrder.DESC){const n=t.openInEditorTimestamp-e.openInEditorTimestamp,o=Number(t.meta.size)-Number(e.meta.size);switch(r){case i.SortBy.DATE_LAST_VIEW:return Number.isNaN(n)?-1:n;case i.SortBy.SIZE:return Number.isNaN(o)?-1:o;case i.SortBy.NAME:return t.name.localeCompare(e.name,"en",{numeric:!0})}}return 0});const c=t.getFilterType(e);return[...a,...s].filter(e=>{var t;return!(null===(t=e.state)||void 0===t?void 0:t.hidden)&&(c===i.FilterType.ALL||c===i.FilterType.MY&&!e.isVicariousDoc||c===i.FilterType.OTHER&&e.isVicariousDoc)})},e=>e),t.docsListIsLoading=(e=>t.docsList(e).isLoading),t.docsListIsComplete=(e=>{const{resources:n}=e,{items:r,totalItems:o,totalMyItems:a,totalOtherItems:s}=t.docsList(e),u=t.getFilterType(e);let c=o,l=r.length;if(u!==i.FilterType.ALL){const e=u===i.FilterType.MY;c=e?a:s,l=r.map(e=>n[e]).filter(t=>e?!t.isVicariousDoc:t.isVicariousDoc).length}return void 0!==c&&l===c}),t.docsListIsEmpty=(e=>0===t.docsList(e).items.length&&t.docsListIsComplete(e)),t.isDocsPage=(e=>{const{config:{isDocsHost:t}}=e;return t}),t.isDocsView=(e=>{const{page:{idPage:n}}=e;return t.isDocsPage(e)&&"view"===n}),t.pageCurrentUrl=(e=>{const{page:{currentUrl:t}}=e;return t}),t.getViewFileDetails=a.createSelector([t.pageCurrentUrl],e=>{let t=l.default.getQueryParam(e,"name")||"";t="string"==typeof t?t:"";let n=l.default.getQueryParam(e,"url");return n="string"==typeof n?n:"",{ext:(d.default.extname(t)||"").toLowerCase(),protocol:n.split("//")[0],fileId:n.replace(/^[\w-]+:\/\//,"")}}),t.docsNavigation=(e=>{const n=t.currentSideBarDocsType(e),r=[{id:"docx",name:"Документы",url:"/docs?type=docx"},{id:"xlsx",name:"Таблицы",url:"/docs?type=xlsx"},{id:"pptx",name:"Презентации",url:"/docs?type=pptx"}];if(t.isDocsView(e)){const e={id:"view",name:"Просмотр"};r.push(e)}return r.map(t=>(t.url&&!c.isUserCanHaveDisk(e)&&(t.url=c.getLoginOrUpgradeUrl(e,t.url)),Object.assign({current:n===t.id},t)))})}),(function(e,t,n){"use strict";var r=n(132),i=n(18),o=n(29),a=n(404),s=function e(t,n,s,u){var c=Object.assign({retriesLeft:3,retryOffline:!0},s),l=Object.assign(function(){var e=ns.Model.get("config");return{idClient:e.get(".idClient"),version:e.get(".version"),sk:e.get(".sk")}}(),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return n["_model.0"]=e,Object.keys(t).forEach((function(e){n[e+".0"]=t[e]})),n})(t,n),u);return new Promise(function(e,n){return ns.http(ns.request.URL+"?_m="+t,l).then(e,n)}).then((function(e){Object(i.default)().dispatch(Object(o.checkVersion)(e.version));var t=e.models[0],n=t.data,r=t.error;return r?Promise.reject(Object.assign({uid:e.uid,sk:e.sk},r)):n&&n.error?Promise.reject(n.error):n})).catch((function(o){var s=function(){return e(t,n,Object.assign({},c,{retriesLeft:c.retriesLeft-1}))},u=o&&o.id||"";if("WRONG_SK"===u){if(Object(i.default)().getState().user.uid!==o.uid)return Object(a.safeReload)(),new Promise(function(){});var l=ns.Model.get("config");if(l.get(".sk")!==o.sk)return l.setData(Object.assign(l.getData(),{sk:o.sk})),s()}return c.retriesLeft>0&&(!u||u.startsWith("HTTP_5")&&"HTTP_507"!==u)?c.retryOffline&&o.xhr&&0===o.xhr.status?Object(r.waitOnline)("/check-online").then(s):s():Promise.reject(o)}))};"undefined"!=typeof window&&(window.rawFetchModel=s),t.a=s}),(function(e,t,n){"use strict";n.r(t);n(70),n(120);var r=n(47),i=n(27),o=(n(569),function(e){return{done:!0,value:e}}),a={};function s(e){return Object(r.b)(e)?"channel":Object(r.l)(e)?String(e):Object(r.d)(e)?e.name:String(e)}function u(e,t,n){var r,s,u,c=t;function l(t,n){if(c===a)return o(t);if(n&&!s)throw c=a,n;r&&r(t);var i=n?e[s](n):e[c]();return c=i.nextState,u=i.effect,r=i.stateUpdater,s=i.errorState,c===a?o(t):u}return Object(i.ab)(l,(function(e){return l(null,e)}),n)}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,c={done:!1,value:Object(i.l)(e)},l=function(e){return a=e};return u({q1:function(){return{nextState:"q2",effect:c,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:(function(e){return{done:!1,value:i.m.apply(void 0,[t].concat(r,[e]))}})(a)}}},"q1","takeEvery("+s(e)+", "+t.name+")")}function l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,c,l={done:!1,value:Object(i.l)(e)},d=function(e){return{done:!1,value:i.m.apply(void 0,[t].concat(r,[e]))}},f=function(e){return a=e},p=function(e){return c=e};return u({q1:function(){return{nextState:"q2",effect:l,stateUpdater:p}},q2:function(){return a?{nextState:"q3",effect:(function(e){return{done:!1,value:Object(i.n)(e)}})(a)}:{nextState:"q1",effect:d(c),stateUpdater:f}},q3:function(){return{nextState:"q1",effect:d(c),stateUpdater:f}}},"q1","takeLatest("+s(e)+", "+t.name+")")}function d(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,c={done:!1,value:Object(i.l)(e)},l=function(e){return a=e};return u({q1:function(){return{nextState:"q2",effect:c,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:(function(e){return{done:!1,value:i.o.apply(void 0,[t].concat(r,[e]))}})(a)}}},"q1","takeLeading("+s(e)+", "+t.name+")")}function f(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var c,l,d={done:!1,value:Object(i.p)(t,Object(i.r)(1))},f={done:!1,value:Object(i.v)(e)},p=function(e){return c=e},h=function(e){return l=e};return u({q1:function(){return{nextState:"q2",effect:d,stateUpdater:h}},q2:function(){return{nextState:"q3",effect:{done:!1,value:Object(i.l)(l)},stateUpdater:p}},q3:function(){return{nextState:"q4",effect:(function(e){return{done:!1,value:i.m.apply(void 0,[n].concat(o,[e]))}})(c)}},q4:function(){return{nextState:"q2",effect:f}}},"q1","throttle("+s(t)+", "+n.name+")")}function p(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var c,l,d={done:!1,value:Object(i.l)(t)},f={done:!1,value:Object(i.w)({action:Object(i.l)(t),debounce:Object(i.v)(e)})},p=function(e){return c=e},h=function(e){return l=e};return u({q1:function(){return{nextState:"q2",effect:d,stateUpdater:p}},q2:function(){return{nextState:"q3",effect:f,stateUpdater:h}},q3:function(){return l.debounce?{nextState:"q1",effect:(function(e){return{done:!1,value:i.m.apply(void 0,[n].concat(o,[e]))}})(c)}:{nextState:"q2",effect:(function(e){return{done:!1,value:e}})(l.action),stateUpdater:p}}},"q1","debounce("+s(t)+", "+n.name+")")}function h(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.m.apply(void 0,[c,e,t].concat(r))}function m(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.m.apply(void 0,[l,e,t].concat(r))}function v(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.m.apply(void 0,[d,e,t].concat(r))}function g(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return i.m.apply(void 0,[f,e,t,n].concat(o))}function y(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),s=3;s<r;s++)o[s-3]=arguments[s];return i.o.apply(void 0,[function(e,t,n){for(var r=e,o=arguments.length,s=new Array(o>3?o-3:0),c=3;c<o;c++)s[c-3]=arguments[c];var l={done:!1,value:i.o.apply(void 0,[n].concat(s))},d={done:!1,value:Object(i.v)(t)};return u({q1:function(){return{nextState:"q2",effect:l,errorState:"q10"}},q2:function(){return{nextState:a}},q10:function(e){if((r-=1)<=0)throw e;return{nextState:"q1",effect:d}}},"q1","retry("+n.name+")")},e,t,n].concat(o))}function b(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return i.m.apply(void 0,[p,e,t,n].concat(o))}n.d(t,"actionChannel",(function(){return i.p})),n.d(t,"all",(function(){return i.B})),n.d(t,"apply",(function(){return i.a})),n.d(t,"call",(function(){return i.o})),n.d(t,"cancel",(function(){return i.n})),n.d(t,"cancelled",(function(){return i.H})),n.d(t,"cps",(function(){return i.D})),n.d(t,"delay",(function(){return i.v})),n.d(t,"effectTypes",(function(){return i.x})),n.d(t,"flush",(function(){return i.I})),n.d(t,"fork",(function(){return i.m})),n.d(t,"getContext",(function(){return i.J})),n.d(t,"join",(function(){return i.F})),n.d(t,"put",(function(){return i.z})),n.d(t,"putResolve",(function(){return i.A})),n.d(t,"race",(function(){return i.w})),n.d(t,"select",(function(){return i.G})),n.d(t,"setContext",(function(){return i.K})),n.d(t,"spawn",(function(){return i.E})),n.d(t,"take",(function(){return i.l})),n.d(t,"takeMaybe",(function(){return i.y})),n.d(t,"debounce",(function(){return b})),n.d(t,"retry",(function(){return y})),n.d(t,"takeEvery",(function(){return h})),n.d(t,"takeLatest",(function(){return m})),n.d(t,"takeLeading",(function(){return v})),n.d(t,"throttle",(function(){return g}))}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});const i=n(100);t.notify=i.createAction("notifications/addNotification"),t.removeNotification=i.createAction("notifications/removeNotification");const o=i.createSlice({name:"notifications",initialState:{queue:[],itemsProcessing:[]},reducers:{addToQueue(e,t){e.queue.push(t.payload)},processNotification(e,t){e.queue=e.queue.filter(({id:e})=>e!==t.payload.id),e.itemsProcessing.push(t.payload)},shiftNotification(e,t){e.itemsProcessing=e.itemsProcessing.filter(({id:e})=>e!==t.payload)},updateNotification(e,t){const{type:n,changedNotify:r}=t.payload,i=e[n].findIndex(({id:e})=>e===r.id);e[n].splice(i,1,r)}}});r=o.actions,t.addToQueue=r.addToQueue,t.processNotification=r.processNotification,t.shiftNotification=r.shiftNotification,t.updateNotification=r.updateNotification,t.default=o.reducer}),(function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getNowServerTime",(function(){return a})),n.d(t,"getIdContext",(function(){return s})),n.d(t,"getPage",(function(){return u})),n.d(t,"isFooterHidden",(function(){return c})),n.d(t,"getBuyButtonUrl",(function(){return l})),n.d(t,"shouldShowBuyButton",(function(){return d})),n.d(t,"isInMobileApp",(function(){return f}));var r=n(39),i=n(511),o=n(190),a=function(e,t){return e.environment.session.serverTime+Date.now()-t},s=function(e){return e.page.idContext},u=function(e){var t=e.page,n=t.page,r=t.idContext;return"tuning"===n?"tuning":"docs"===n?"docs":r.startsWith("/remember")?"remember-block":"/album/geo"===r?"geo":"/album/faces"===r?"faces":r.startsWith("/album/")?"album":"/albums"===r?"albums":"/family/album"===r?"familyAlbum":"/photo"===r?"photo":Object(o.isJournalIdContext)(r)?"journal":"/error"===r?"error":"listing"},c=function(e){var t=e.environment.agent.isInMobileApp;return"photo"===u(e)||Object(r.isDocsView)(e)||Object(r.isDocsPage)(e)&&t},l=function(e){var t,n=null===(t=Object(i.a)(e))||void 0===t||null===(t=t.infoSpaceBlock)||void 0===t?void 0:t.buttonUrl;if(n)return n;var r=e.config.urlsBase.yandex360;return"".concat(r,"/premium-plans")},d=function(e){var t=e.settings.roNoB2cTariffPromo;return!Boolean(null===t||void 0===t?void 0:t.enabled)},f=function(e){var t=e.environment.agent.isInMobileApp;return t}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"LISTING_PREVENT_DESELECT_CLASS",(function(){return r})),n.d(t,"LISTING_PREVENT_MOUSE_SELECTION_CLASS",(function(){return i})),n.d(t,"LISTING_PREVENT_DRAG_CLASS",(function(){return o})),n.d(t,"LISTING_ITEM_CLASS",(function(){return a})),n.d(t,"LISTING_PREVENT_DOUBLE_CLICK",(function(){return s}));var r="js-prevent-deselect",i="js-prevent-mouse-selection",o="js-prevent-drag",a="listing-item",s="prevent-double-click"}),(function(e,t,n){"use strict";function r(e,t){return e===t}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return (function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0})(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=0,s=r.pop(),u=(function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t})(r),c=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),l=i((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return c.apply(null,e)}));return l.resultFunc=s,l.recomputations=function(){return a},l.resetRecomputations=function(){return a=0},l}}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=o,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))};var a=t.createSelector=o(i)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return i}));var r=n(70),i=function(e){return null===e||void 0===e},o=function(e){return null!==e&&void 0!==e},a=function(e){return"function"==typeof e},s=function(e){return"string"==typeof e},u=Array.isArray,c=function(e){return e&&!u(e)&&"object"==typeof e},l=function(e){return e&&a(e.then)},d=function(e){return e&&a(e.next)&&a(e.throw)},f=function e(t){return t&&(s(t)||m(t)||a(t)||u(t)&&t.every(e))},p=function(e){return e&&a(e.take)&&a(e.close)},h=function(e){return a(e)&&e.hasOwnProperty("toString")},m=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},v=function(e){return p(e)&&e[r.e]},g=function(e){return e&&e[r.c]}}),(function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return y}));var r=n(13),i=n(40),o="FAILED",a="COMPLETED",s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return new Promise(function(n,r){var s;!(function u(){return Object(i.a)("do-status-operation",{oid:e}).then((function(i){var c=i.state,l=i.error;return c===o?(clearTimeout(s),void r(l)):c===a?(clearTimeout(s),void n(i)):void(e&&(s=setTimeout(u,t)))})).catch(r)})()})},u={CREATE_ALBUM:"createAlbum",ADD_TO_ALBUM:"addToAlbum",MERGE_ALBUMS:"mergeAlbums",CLEAN_TRASH:"cleanTrash"},c={ADD:"ADD",UPDATE:"UPDATE",REMOVE:"REMOVE"},l=[],d=null,f=function(e){return function(t){return l.push(e),d||(d=Promise.resolve().then((function(){d=null,t(function(e){return function(t){t({type:r.ADD_OPERATIONS,payload:{operations:e}})}}(l)),l=[]}))),d}},p=function(e){return function(t){t({type:r.UPDATE_OPERATION,payload:{operation:e}})}},h=[],m=null,v=function(e){return function(t){return h.push(e.id),m||(m=Promise.resolve().then((function(){m=null,t(function(e){return function(t){t({type:r.REMOVE_OPERATIONS,payload:{operationsIds:e}})}}(h)),h=[]}))),m}},g={ADD:f,UPDATE:p,REMOVE:v},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){r(g[e]({id:t,type:t,data:n}))}}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(1),i=n(0),o=n.n(i),a=n(31),s=n(28),u=n(196),c=n(283),l=n(282),d=(n(736),Object(s.cn)("Popup2")),f=function(e){var t=e.addonAfter,n=e.addonBefore,s=e.children,f=e.className,p=e.direction,h=e.hasTail,m=e.innerRef,v=e.keepMounted,g=e.scope,y=e.style,b=e.tailRef,_=e.tailSize,O=e.visible,E=e.zIndex,w=e.disableOverlay,S=e.unstable_onRenderTail,C=e.onClose,x=e.unstable_essentialRefs,T=void 0===x?[]:x,P=e.onClick,k=(e.theme,e.view,e.nonvisual,Object(r.__rest)(e,["addonAfter","addonBefore","children","className","direction","hasTail","innerRef","keepMounted","scope","style","tailRef","tailSize","visible","zIndex","disableOverlay","unstable_onRenderTail","onClose","unstable_essentialRefs","onClick","theme","view","nonvisual"])),j=Object(i.useRef)(null),R=Object(a.useComponentRegistry)(d()).Tail;return Object(l.a)({onClose:C,visible:!w&&O,essentialRefs:Object(r.__spread)([j],T)}),o.a.createElement(c.a,{scope:g,visible:O,keepMounted:v},o.a.createElement("div",Object(r.__assign)({},k,{className:d({visible:O},[f]),"data-popper-placement":p,onClick:P,ref:Object(u.a)(j,m),style:Object(r.__assign)(Object(r.__assign)({},y),{zIndex:E})}),n,"function"==typeof s?s({tailRef:b}):s,t,S&&S(o.a.createElement(R,{ref:b,style:{height:_,width:_}})),!S&&h&&o.a.createElement(R,{ref:b,style:{height:_,width:_}})))};f.displayName=d()}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var r=n(62);function i(e){return e instanceof Object(r.a)(e).Element||e instanceof Element}function o(e){return e instanceof Object(r.a)(e).HTMLElement||e instanceof HTMLElement}function a(e){return e instanceof Object(r.a)(e).ShadowRoot||e instanceof ShadowRoot}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(905),o=n(889),a=n(891);t.Link=r.compose(r.composeU(i.withThemeNormal,i.withThemeBlack,i.withThemeGhost,i.withThemePseudo,i.withThemeStrong,o.withThemePrimary),r.composeU(i.withViewDefault),a.withIcons,i.withPseudo)(i.Link)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"decideSelectAlbum",(function(){return b})),n.d(t,"add",(function(){return O})),n.d(t,"getActiveConfirmationOperation",(function(){return E}));var r=n(10),i=n.n(r),o=n(571),a=n.n(o),s=n(24),u=n(20),c=n(56);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var d={},f=null,p=[],h="confirmation",m="rename",v="selectFolder",g="selectAlbum",y=function(e,t,n,r){return function(i){i(Object(c.decideConfirmation)({guid:e,isSubmit:t,params:n,groupId:r}));var o=[];r?Object.keys(d).forEach((function(e){var t,n=d[e].data;((null===(t=n.operation)||void 0===t?void 0:t.get(".gid"))||n.gid)===r&&o.push(e)})):o.push(e),o.forEach((function(e){var r=d[e];r&&(t&&r.data.onSubmit?r.data.onSubmit(n):!t&&r.data.onReject&&r.data.onReject()),delete d[e];var i=p.indexOf(e);i>-1&&p.splice(i,1)})),i(_())}},b=function(e,t){return function(n){if(f){requestAnimationFrame((function(){n(Object(u.closeDialog)(g))}));var r=d[f],i=r.type,o=r.data.operation;if("select-album"===i){var a=o&&o.get(".gid");n(y(f,e,{albumId:t},a))}}}},_=function(){return function(e,t){var n=t().page.idContext;if(p.length){f=p.shift();var r=d[f],i=r.type,o=r.data,a=o.gid,c=o.operation,l=o.dialogParams,_=c&&c.get(".gid")||a;switch(i){case"confirmation":e(Object(u.openDialog)(h,Object.assign({isGroup:Boolean(_),onSubmit:function(){e(Object(u.closeDialog)(h)),e(y(f,!0))},onSubmitAll:function(){e(Object(u.closeDialog)(h)),e(y(f,!0,null,_))},onReject:function(){e(Object(u.closeDialog)(h)),e(y(f,!1))},onRejectAll:function(){e(Object(u.closeDialog)(h)),e(y(f,!1,null,_))}},l)));break;case"prompt":e(Object(u.openDialog)(m,Object.assign({onSubmit:function(t){e(Object(u.closeDialog)(m)),e(y(f,!0,{name:t}))},onClose:function(){e(Object(u.closeDialog)(m)),e(y(f,!1))}},l)));break;case"select-folder":e(Object(u.openDialog)(v,Object.assign({folderId:Object(s.getCurrentVirtualDisk)(n)||"/disk",onSubmit:function(t){var n=t.folderId,r=t.name;e(Object(u.closeDialog)(v)),e(y(f,!0,{folderId:n,name:r},_))},onCancel:function(){e(Object(u.closeDialog)(v)),e(y(f,!1,null,_))}},l)));break;case"select-album":e(Object(u.openDialog)(g,Object.assign({onCancel:function(){e(b(!1))}},l)))}}else f=null}},O=function(e,t){return function(n){var r=String(a()());d[r]={type:e,data:t},p.push(r),f||n(_())}},E=function(){if(!f)return null;var e=d[f].data,t=e.operation,n=e.sagaOperation;return n?(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({isSagaOperation:!0},n):t}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(593),i=n(43);function o(e){Object(i.a)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Object(r.a)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}}),(function(e,t,n){var r,i,o=n(9),a=n(23),s=n(190),u=n(148).log,c=n(24).getVdHash,l=n(152).hasListing,d={setOnBeforeFirstRenderCallback:function(e){i=e},onBeforeFirstRender:function(){"function"==typeof i&&i.apply(void 0,arguments)},go:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!arguments.length)throw new Error("`go` should be called with arguments. Use `update` to update views.");cancelAnimationFrame(r);var i=ns.router(e),o=ns.page.current.params.idContext===i.params.idContext,a=ns.page.current.params.dialog===i.params.dialog,s=ns.page.current.params.filter===i.params.filter,c=!o&&"/client/error"===e;c&&n.reason&&(e+="?reason="+n.reason),"/photo"===ns.page.current.params.idContext&&"create-album"===ns.page.current.params.action&&(t=!0),!t&&o&&a&&s&&(t=!0);var d=ns.page.go(e,t);if(c){var f={event:"errorPage",context:ns.page.current.params.idContext,reason:n.reason||""};if(n.error)try{"string"==typeof n.error?f.error=n.error:n.error instanceof Error?f.error=JSON.stringify({message:n.error.message,stack:n.error.stack}):(n.error.requestId&&(f.requestId=n.error.requestId),f.error=JSON.stringify(n.error))}catch(e){f.error=e.message}f.requestId||(f.requestId="none"),u(f)}return o||l(i.params.idContext)||window.scrollTo(0,0),d},update:function(){cancelAnimationFrame(r),r=requestAnimationFrame((function(){ns.page.go(null,"preserve")}))},updateSync:function(){cancelAnimationFrame(r),ns.page.go(null,"preserve")},getUrlBase:function(e){var t,n=$.extend(!0,{},ns.page.current.params,e),r=n.idContext&&a.getIdApp(n.idContext),i=c(n.idContext),u=ns.page.current.page;if("/journal"===n.idContext&&!d.isSearch(n))return s.generateUrl({dialog:null});d.isSearch(n)?(t=e&&e.typeSearch?o.pick(n,"querySearch","scopeSearch","typeSearch"):o.pick(n,"querySearch","scopeSearch"),u="client-dualPane"):t=0===["album","public"].indexOf(r)?o.pick(n,"albumId"):n.idContext&&n.idContext.startsWith("/remember/")?o.pick(n,"idContext","from_pool"):n.idContext&&n.idContext.startsWith("/photo")?o.pick(n,"idContext","filter"):o.pick(n,"idContext","page","idPage");var l=ns.router.generateUrl(u,t);return i&&!l.startsWith("/client/vd")?l.replace("/client","/client/vd/"+i):l},scrollToTop:function(){window.scrollTo(0,0)},isSearch:function(e){var t=e||ns.page.current.params;return!!(t&&t.querySearch&&t.scopeSearch)},appendImage:function(e){return this.containerImage||(this.containerImage=$("<div />",{class:"js-images-container _hidden"}).appendTo("body")),$("<img />",{src:e}).appendTo(this.containerImage)},getDimentionsViewport:function(e){var t=e||$(window);return{width:t.width(),height:t.height()}},scrollCenterElement:function(e){var t=e.getBoundingClientRect();window.scrollTo(0,scrollY+t.top-(innerHeight-t.height)/2)}};e.exports=d}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(1),i=n(0),o=n.n(i),a=n(28),s=(n(1477),Object(a.cn)("Icon")),u=function(e){var t=e.direction,n=e.size,i=e.url,a=e.style,u=void 0===a?{}:a,c=e.children,l=e.title,d=e.onClick,f=(e.type,e.glyph,Object(r.__rest)(e,["direction","size","url","style","children","title","onClick","type","glyph"])),p=s({direction:t,size:n},[f.className]);return void 0!==i&&(u.backgroundImage="url('"+i+"')"),o.a.createElement("span",Object(r.__assign)({},f,{"aria-hidden":!0,className:p,style:u,title:l,onClick:d}),c)};u.displayName=s()}),(function(e,t,n){"use strict";var r,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(100),a=n(84),s=i(n(9)),u=n(266);t.copyOperation=o.createAction("operations/copy"),t.restoreOperation=o.createAction("operations/restore"),t.deleteOperation=o.createAction("operations/delete"),t.leaveFolderOperation=o.createAction("operations/leaveFolder"),t.deleteOrLeaveFolderOperation=o.createAction("operations/deleteOrLeaveFolder"),t.removeResourceAlbumOperation=o.createAction("operations/removeResourceAlbum"),t.excludeFromAlbumOperation=o.createAction("operations/excludeFromAlbumOperation"),t.moveOperation=o.createAction("operations/move"),t.renameOperation=o.createAction("operations/rename"),t.createFolderOperation=o.createAction("operations/createFolder"),t.unshareOperation=o.createAction("operations/unshare"),t.wfolioCreateProjectOperation=o.createAction("operations/wfolio-create-project"),t.wfolioDeleteProjectOperation=o.createAction("operations/wfolio-delete-project"),t.decideConfirmation=o.createAction("operations/decideConfirmation"),t.submitConfirmation=o.createAction("operations/submitConfirmation"),t.cancelConfirmation=o.createAction("operations/cancelConfirmation"),t.initActiveOperations=o.createAction("operations/initActiveOperations"),t.createOperationFromDiff=o.createAction("operations/createOperationFromDiff"),t.checkOperationsStatus=o.createAction("operations/checkOperationsStatus"),t.processCompleteOperations=o.createAction("operations/processCompleteOperations");const c=(e,t)=>{if(!e.operationsByIds[t])return;const{oid:n}=e.operationsByIds[t];delete e.operationsByIds[t],n&&delete e.operationsByOids[n]},l=o.createSlice({name:"operations",initialState:{operationsByIds:{},operationsByOids:{}},reducers:{createOperations(e,t){const{operations:n,status:r,remote:i}=t.payload;return n.forEach(t=>{const n=s.default.uniqueId();e.operationsByIds[n]=Object.assign({id:n,status:r||a.OperationStatus.CREATED},t),i&&(e.operationsByIds[n].remote=i),t.oid&&(e.operationsByOids[t.oid]=n)}),e},updateOperationsByIds(e,t){const n=t.payload;Object.keys(n).forEach(t=>{Object.assign(e.operationsByIds[t],n[t]),n[t].oid&&(e.operationsByOids[n[t].oid]=t)})},updateOperationsByOids(e,t){const n=t.payload;Object.keys(n).forEach(t=>{const r=e.operationsByOids[t];Object.assign(e.operationsByIds[r],n[t])})},removeOperationById(e,t){c(e,t.payload)},cleanupOperations(e){const t=u.getOperationsStatusesByType(Object.values(e.operationsByIds)),n=Object.keys(t).filter(e=>{const n=t[e];return 0===n[a.OperationStatus.CREATED]&&0===n[a.OperationStatus.WAITING]&&0===n[a.OperationStatus.EXECUTING]});Object.keys(e.operationsByIds).forEach(t=>{n.includes(e.operationsByIds[t].type)&&c(e,t)})}}});t.default=l.reducer,r=l.actions,t.createOperations=r.createOperations,t.updateOperationsByIds=r.updateOperationsByIds,t.updateOperationsByOids=r.updateOperationsByOids,t.removeOperationById=r.removeOperationById,t.cleanupOperations=r.cleanupOperations}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getTargetLimit",(function(){return f})),n.d(t,"getTargetUsed",(function(){return p})),n.d(t,"getPercentageOfUsed",(function(){return h})),n.d(t,"getTuningButtonInfo",(function(){return m})),n.d(t,"isUserWithPaidTariff",(function(){return v})),n.d(t,"getOverdraftType",(function(){return g})),n.d(t,"shouldNotifyOverdraft",(function(){return y})),n.d(t,"getSpaceOverdraftValue",(function(){return b})),n.d(t,"isOverdraftHard",(function(){return _})),n.d(t,"getBlockOverdraftDate",(function(){return O})),n.d(t,"isOverdraftLite",(function(){return E})),n.d(t,"shouldRestrictByOverdraft",(function(){return w})),n.d(t,"getFinishPromoTime",(function(){return S})),n.d(t,"getInfoSpaceDiscountData",(function(){return C})),n.d(t,"shouldShowInfoSpaceDiscount",(function(){return x})),n.d(t,"getLimitUploadSize",(function(){return T}));var r=n(521),i=n(111),o=n(44),a=n(34),s=n(39),u=n(511),c=n(24),l=n(133),d=n(401),f=function(e){var t,n=e.space.limit,r=e.page.idContext,i=Object(c.getCurrentVirtualDisk)(r);return i?null===(t=e.resources[i])||void 0===t||null===(t=t.space)||void 0===t?void 0:t.limit:n},p=function(e){var t,n=e.space.used,r=e.page.idContext,i=Object(c.getCurrentVirtualDisk)(r);return i?null===(t=e.resources[i])||void 0===t||null===(t=t.space)||void 0===t?void 0:t.used:n},h=function(e){var t=f(e),n=p(e);return Math.min(n/t*100,100)},m=function(e){var t,n;if("by"===e.config.tld)return{text:"Управление"};var i=e.billingProducts,o=null===i||void 0===i||null===(t=i.product_sets)||void 0===t||null===(t=t.mail_pro_b2c)||void 0===t?void 0:t.current_subscription,a=null===i||void 0===i||null===(n=i.product_sets)||void 0===n?void 0:n.mail_pro_b2c;if(i&&!o&&a&&a.items&&a.items.length){var s=Object(d.getBestOfferForKey)(i.product_sets,l.ProductSetKeys.MailProB2c);if(s){var c=s.prices.find((function(e){return"month"===e.period})),f=s.prices.find((function(e){return"year"===e.period})),p=!Object(r.isPriceWithTemporaryDiscount)(c)&&Object(r.isPriceWithTemporaryDiscount)(f)?f:c,h=Object(d.getFeature)(s,l.ProductFeatureCode.DiskSpace);if(p&&h){var m,v,g=null===(m=Object(u.a)(e))||void 0===m?void 0:m.infoSpaceBlock;if(null!==g&&void 0!==g&&g.buyButtonRUB&&"RUB"===p.currency)v=g.buyButtonRUB;else if(null!==g&&void 0!==g&&g.buyButtonUSD&&"USD"===p.currency)v=g.buyButtonUSD;else{var y=h.value,b="RUB"===p.currency?Object(r.getBestPrice)(p)+" ₽":"$"+Object(r.getBestPrice)(p);v=yr.externals.entityify(y)+" за "+yr.externals.entityify(b)}return{text:v,priceId:p.price_id}}}return{text:"Купить место"}}return{text:"Управление"}},v=function(e){var t,n=e.billingProducts,r=null===n||void 0===n||null===(t=n.product_sets)||void 0===t||null===(t=t.mail_pro_b2c)||void 0===t?void 0:t.current_subscription;return Boolean(r)},g=function(e){var t=e.user,n=t.overdraftType,r=t.overdraft_status;return n||r&&a.MPFS_OVERDRAFT_STATUSES[r]||""},y=function(e){var t=e.environment.agent.isMobile,n=e.space;return!Object(s.isDocsPage)(e)&&!t&&Object(i.isOverdraft)(n)||Boolean(g(e))},b=function(e){var t=e.space,n=t.used-t.limit;return n>0?n:0},_=function(e){return g(e)===a.OVERDRAFT_TYPES.HARD},O=function(e){var t=e.user.overdraft_block_date,n=Date.now(),r=t?new Date(t).getTime():0;return r&&r>n?r:n},E=function(e){return g(e)===a.OVERDRAFT_TYPES.LITE},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({forHard:!0},t),r=Object(o.getIdContext)(e);return!Object(c.isVirtualDiskPath)(r)&&(_(e)&&n.forHard||E(e)&&n.forLite)},S=function(e){var t,n=null===(t=e.billingProducts)||void 0===t||null===(t=t.active_promo)||void 0===t?void 0:t.active_until_date,r=n&&new Date(n);return r&&r.getTime()||0},C=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),i=e.billingProducts,a=e.settings,s=a.timestampLastCollapseInfoSpaceDiscount,c=a.timestampLastExpandInfoSpaceDiscount,l=a.lastShownInfoSpaceDiscountId,d=Object(o.getNowServerTime)(e,r),f=null===i||void 0===i||null===(t=i.active_promo)||void 0===t?void 0:t.key,p=S(e),h=-180===(new Date).getTimezoneOffset(),m=p-864e5,v=Boolean(Number(s)&&l===f&&s>c),g=Boolean(!Number(c)||l!==f||v&&c<m&&d>m),y=h&&!v&&d>m,b=y&&p<288e5+d,_=null===(n=Object(u.a)(e))||void 0===n?void 0:n.infoSpaceBlock;if(_)return{discountId:f,shouldShowTimer:y,finishDiscountTime:p,canShowTimer:h,timeWithTimer:m,timeAttentionTimer:p-288e5,attentionTimer:b,shouldExpandWithAnimation:g,shouldCollapse:v&&!g,payload:_}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=e.environment.session.canShowDiscountInInfoSpaceBlock,r=e.page.idContext;return n&&Object(o.shouldShowBuyButton)(e)&&!v(e)&&Boolean(C(e,t))&&!Object(c.isVirtualDiskPath)(r)},T=function(e){var t=e.space,n=t.filesize_limit;return n!==t.paid_filesize_limit&&n||0}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(9)),o=n(46),a=n(96),s=n(570),u=n(102),c=n(115),l=n(57),d=n(357),f=n(69);t.hasFamilySubscription=(e=>e.user.hasFamilySubscription);const p=o.createSelector(c.getEnvironment,({agent:{isMobile:e}})=>e),h=o.createSelector(u.getUser,({isYandexStaff:e})=>Boolean(e)),m=o.createSelector(u.getUser,({familyInfo:e})=>e);t.hasFamily=o.createSelector(m,Boolean);const v=o.createSelector(u.getUser,({isB2b:e,isPDD:t})=>!(e||t)),g=o.createSelector(m,e=>i.default.get(e,"admin_uid"));t.isFamilyAdmin=o.createSelector(u.getUser,g,({uid:e},t)=>e===t),t.hasFamilyFeature=o.createSelector(u.getUser,e=>i.default.get(e,["features","family_share","enabled"],!1)),t.hasFamilyAlbumFeature=o.createSelector(u.getUser,e=>i.default.get(e,["features","family_album","enabled"],!1)),t.hasFamilyAlbumSelctor=o.createSelector(e=>e.personalAlbums.familyAlbumId,Boolean);const y=o.createSelector(s.getFamilyInvitesCount,e=>e>0),b=o.createSelector(({resources:e})=>e,e=>Object.keys(e).some(t=>"family"===i.default.get(e[t],["meta","group","group_type"])));t.getFamilyMembers=o.createSelector(u.getUser,e=>i.default.get(e,["familyInfo","members"],[])),t.getFamilyMembersEmails=o.createSelector(t.getFamilyMembers,e=>e.map(i.default.property("email"))),t.getFamilyAdmin=o.createSelector(t.getFamilyMembers,e=>e.find(({leader:e})=>e)),t.getFamilyRoleMetrikaKey=o.createSelector(t.hasFamily,t.isFamilyAdmin,t.hasFamilyFeature,(e,t,n)=>n?e?t?"admin":"member":"empty_family":"external"),t.getPromoStubViewerMetrikaKey=o.createSelector(h,l.isUserWithPaidTariff,t.hasFamilyFeature,t.hasFamily,t.isFamilyAdmin,(e,t,n,r,i)=>({isYaStaff:e,hasPersonalSubscription:t,hasFamilySubscription:n,hasFamily:r,isAdmin:i})),t.isFamilySliceVisible=o.createSelector(d.getDefaultFolders,e=>Boolean(e.familyFolders)),t.isFamilyAlbumSliceVisible=o.createSelector(a.isFamilyAlbumExp,t.hasFamilyFeature,t.hasFamilyAlbumSelctor,(e,t,n)=>e&&(t||!t&&n)),t.isFamilyCreationAllowed=o.createSelector(p,t.hasFamilyFeature,(e,t)=>!e&&t),t.shouldShowFamilySlice=o.createSelector(t.isFamilySliceVisible,t.hasFamilyFeature,y,b,(e,t,n,r)=>!e&&(t||n||r)),t.shouldCheckFamilySlice=o.createSelector(t.hasFamilyFeature,y,b,(e,t,n)=>!e&&!(t||n)),t.shouldShowPromoStub=o.createSelector(y,b,v,h,l.isUserWithPaidTariff,t.hasFamilyFeature,i.default.negate(t.hasFamily),t.isFamilyAdmin,(e,t,n,r,i,o,a,s)=>{const u=!o;return Boolean(n&&!(o||e||t)&&(!i&&u&&(a||s)||u&&(s&&i||r)))}),t.isBeenShownAlbumPromoStubSelctor=(({settings:{isShownAlbumPromoStub:e}})=>"1"===e),t.shouldShowAlbumPromoStubSelector=o.createSelector(a.isFamilyAlbumExp,y,h,l.isUserWithPaidTariff,t.hasFamilyFeature,i.default.negate(t.hasFamily),t.isFamilyAdmin,v,t.hasFamilyAlbumSelctor,(e,t,n,r,i,o,a,s,u)=>Boolean(e&&!u&&s&&!(i||t)&&(!r&&!i&&(o||a)||!i&&(a&&r||n)))),t.shouldShowFamilyAlbumSelector=o.createSelector(a.isFamilyAlbumExp,t.shouldShowAlbumPromoStubSelector,t.hasFamilyFeature,t.hasFamilyAlbumSelctor,(e,t,n,r)=>Boolean(e&&(t||n||r))),t.shouldShowAlbumBadgeSelector=o.createSelector(t.shouldShowAlbumPromoStubSelector,t.isBeenShownAlbumPromoStubSelctor,e=>e.albums.isLoaded,(e,t,n)=>{const r=f.getPreloadedData("hasPersonalAlbum");return Boolean(e&&!t&&!n&&r)})}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(9),a=n.n(o),s=n(400),u=n.n(s),c=(n(1342),n(69)),l=n(18),d=n(23),f=n.n(d);u.a.define("settings",{methods:{getData:function(){return Object(l.default)().getState().settings},setData:function(e){Object(l.default)().dispatch(h(e))},get:function(e){return a.a.get(Object(l.default)().getState().settings,f.a.formatPropertyPath(e))},set:function(e,t){var n=Object.assign({},Object(l.default)().getState().settings);a.a.set(n,f.a.formatPropertyPath(e),t),Object(l.default)().dispatch(h(n))},save:function(e){return Object(l.default)().dispatch(m(e))}},defaults:c.modelDefaults});var p=n(13);n.d(t,"updateSettings",(function(){return h})),n.d(t,"saveSettings",(function(){return m}));var h=function(e){return{type:p.UPDATE_SETTINGS,payload:e}},m=function(e){var t=e.key,n=e.value,r=e.serverOnly;return function(e){if(t&&n)return r||e(h(i()({},t,n))),ns.Model.get("queueRequest").push({id:"do-settings-set",params:{key:t,value:n}})}}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(1),i=n(0),o=n(28),a=(n(874),Object(o.cn)("Link")),s=function(e){var t=e.as,n=e.children,o=e.controlRef,s=e.disabled,u=e.innerRef,c=e.role,l=(e.pseudo,e.view,Object(r.__rest)(e,["as","children","controlRef","disabled","innerRef","role","pseudo","view"])),d=t||(l.href?"a":"span"),f=l.rel;return"_blank"===l.target&&void 0!==f&&-1===f.indexOf("noopener")&&(f+=" noopener"),Object(i.createElement)(d,Object.assign(l,{"aria-disabled":s,className:a(null,[l.className]),ref:u||o,rel:f,role:c,tabIndex:s?-1:l.tabIndex}),n)};s.displayName=a()}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(1),i=n(0),o=n.n(i),a=n(31),s=n(28),u=n(934),c=n(367),l=n(935),d=n(410),f=(n(1583),Object(s.cn)("Textinput")),p=function(e){var t=e.addonAfter,n=e.addonBefore,i=e.className,s=e.disabled,d=e.focused,p=e.iconLeft,h=e.iconRight,m=e.innerRef,v=e.onMouseEnter,g=e.onMouseLeave,y=e.style,b=(e.pressed,e.view,e.pin,e.size,e.theme,e.hint),_=e.state,O=e.title,E=e.renderControl,w=Object(r.__rest)(e,["addonAfter","addonBefore","className","disabled","focused","iconLeft","iconRight","innerRef","onMouseEnter","onMouseLeave","style","pressed","view","pin","size","theme","hint","state","title","renderControl"]),S=Object(a.useComponentRegistry)(f()),C=S.Control,x=S.Box,T=S.Icon,P=S.Hint,k=Object(u.c)(C,E),j=Object(c.a)("hint"),R=Object(l.a)({hint:b}),I=R.hint,A=R.hintProps;return o.a.createElement("span",{className:f({disabled:s,focused:d,iconRight:void 0!==h,iconLeft:void 0!==p,state:_},[i]),onMouseEnter:v,onMouseLeave:g,ref:m,style:y,title:O},n,p&&o.a.createElement(T,{side:"left",component:p}),h&&o.a.createElement(T,{side:"right",component:h}),o.a.createElement(k,Object(r.__assign)({},w,{"aria-invalid":"error"===_,disabled:s,"aria-describedby":I?j:void 0})),o.a.createElement(x,null),t,I&&o.a.createElement(P,Object(r.__assign)({},A,{id:j}),I))};p.displayName=f();var h=Object(d.a)(p)}),(function(e,t,n){"use strict";function r(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";var r=n(620),i=n(144),o=n(976).domains,a=n(1335).replaceServiceTld,s=e.exports={cutProto:function(e){return e.replace(/^(https:|http:)/,"")},replaceTld:a,replaceTldByLang:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=s.getTld(e);return!n.length||n.includes(r)?e:["en","tr"].includes(t)&&n.includes("com")?s.replaceTld(e,"com"):s.replaceTld(e,"ru")},getHost:function(e){return r.parse(e).hostname},replaceHost:function(e,t){var n=r.parse(e),i=t.includes("//")?t.split("//")[1]:t;return n.host=i,r.format(n)},getSearch:function(e){return r.parse(e).search},getPath:function(e){return r.parse(e).pathname},getTld:function(e){var t=s.getHost(e);return t?t.split(".").pop():null},makeRelative:function(e){return"/"+(e=e.replace(/^(https:|http:)/,"").replace(/^\/\//,"")).split("/").slice(1).join("/")},isDownloader:function(e){return/^(https?:)?\/\/downloader\.(dst|dsp|disk)\.yandex\./.test(e)},isDisk:function(e){var t=o[this.getTld(e)];return!!t&&new RegExp("^(https?:)?\\/\\/disk.(dst\\.)?yandex\\.(".concat(t.domain,")($|\\/|\\?)")).test(e)},isMail:function(e){return/^(https?:)?\/\/mail\.yandex\./.test(e)},addPrefixDownloader:function(e){if(s.isDownloader(e)){var t=i.hashCode(e)%4+1;return e.replace(/^(.*?\/\/)/,"$1"+t+".")}return e},getQueryParam:function(e,t){return r.parse(e,!0).query[t]},replaceParam:function(e,t,n,i){var o=r.parse(e,!0);return n?o.query[t]=n:i&&delete o.query[t],o.search="",r.format(o)},addParams:function(e,t){var n=r.parse(e,!0);for(var i in t)t.hasOwnProperty(i)&&(n.query[i]=t[i]);return n.search="",r.format(n)},mergeSlashes:function(e){return e.replace(/([^:\/]|^)\/{2,}/g,"$1/")},fixShortUrl:function(e,t){return e.replace(/^http:/,"https:").replace(/^https:\/\/[^\/]+/,t.urlsBase.disk)}}}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(0)),s=n(3),u=n(31),c=n(337),l=o(n(11)),d=o(n(191)),f=n(1922),p=n(1924),h=n(1926),m=n(1928),v=o(n(38));n(1930);const g=()=>l.default()("menu"),y=c.cnMenu("Icon");t.Menu=s.compose(s.composeU(c.withSizeS,c.withSizeM),c.withThemeNormal,c.withViewDefault,c.withWidthMax,f.withWide,h.withPaddingless,p.withTypeNavigation,m.withRightGlyph)(c.withJsxContent(c.Menu)),t.Menu.defaultProps={renderItem:e=>{const{needIconGlyph:t,children:n,innerRef:i,tooltipText:o,icon:s,iconLeft:l,iconRight:f}=e,p=r(e,["needIconGlyph","children","innerRef","tooltipText","icon","iconLeft","iconRight"]),{Text:h,Icon:m}=u.useComponentRegistry(c.cnMenu()),b=c.useMenuItem(p),_=l||s,O=a.useCallback(e=>{e.charCode===v.default.KEYS.ENTER&&b.onClick&&b.onClick(e)},[b]),E=a.default.createElement("div",Object.assign({ref:i,onKeyPress:O},b),t&&a.default.createElement(m,{glyph:"type-check"}),_&&_(y),a.default.createElement(h,null,n),f&&f(y)),w=a.useRef("undefined"!=typeof document?document.body:null);return o?a.default.createElement(d.default,{text:o,className:g().e("hover-tooltip"),tooltipCls:String(g().e("hover-tooltip-tooltip")),direction:["left","right"],boundary:w},E):E}},t.Item=(()=>null),t.Item.getCollectionNode=((e,t)=>{const{className:n,highlighted:i}=e,o=r(e,["className","highlighted"]);return c.Item.getCollectionNode(Object.assign({className:c.cnMenu("Item",{highlighted:i},[n])},o),t)}),t.Group=(()=>null),t.Group.getCollectionNode=((e,t)=>{const{className:n,paddingless:i}=e,o=r(e,["className","paddingless"]);return c.Group.getCollectionNode(Object.assign({className:c.cnMenu("Group",{paddingless:i},[n])},o),t)})}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(22),a=n.n(o),s=n(9),u=n.n(s),c=n(54),l=n.n(c),d=n(14),f=n(121),p=n.n(f),h=n(35),m=n(289),v=n(369),g=n(40),y=n(59),b=n(29),_=n(15),O=n(136),E=n(67),w=n(752),S=n(30),C=n(149),x=n(215),T=n(52),P=n(126),k=n(48),j=n(38),R=n(32),I=n(42),A=n(20),D=n(125),M=n(63),N=n.n(M),L=n(36),F=n(19),B=function(e,t){return e.personalAlbums.favoriteAlbumId===t},U=n(13),z=n(90),V=n(84),H=n(56),W=n(80);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"fetchAlbum",(function(){return Y})),n.d(t,"maybeFetchAlbum",(function(){return K})),n.d(t,"createAlbum",(function(){return J})),n.d(t,"updateAlbumsCommonData",(function(){return Z})),n.d(t,"setNewAlbumTitle",(function(){return X})),n.d(t,"ALBUMS_SCROLL",(function(){return Q})),n.d(t,"setAlbumsScroll",(function(){return ee})),n.d(t,"requestNewAlbumTitle",(function(){return te})),n.d(t,"addToAlbum",(function(){return re})),n.d(t,"addToCurrentAlbum",(function(){return ie})),n.d(t,"removeItemsFromAlbum",(function(){return oe})),n.d(t,"excludeFromAlbum",(function(){return se})),n.d(t,"excludeFromGeoAlbum",(function(){return ue})),n.d(t,"removeItemsFromAlbumByItemId",(function(){return ce})),n.d(t,"deleteAlbum",(function(){return le})),n.d(t,"renameAlbum",(function(){return de})),n.d(t,"downloadAlbum",(function(){return fe})),n.d(t,"maybeFetchResourcesForSlider",(function(){return pe})),n.d(t,"setAlbumPhotoView",(function(){return he})),n.d(t,"publishPhotos",(function(){return ve})),n.d(t,"unpublishPhotos",(function(){return ge})),n.d(t,"publishAlbum",(function(){return ye})),n.d(t,"unpublishAlbum",(function(){return be})),n.d(t,"positiveUnpublishAlbum",(function(){return _e})),n.d(t,"cleanAlbum",(function(){return Ee})),n.d(t,"remoteUpdateAlbum",(function(){return we})),n.d(t,"syncAlbum",(function(){return Se})),n.d(t,"setResourceAsAlbumCover",(function(){return Ce})),n(1613);var G=function(e){return function(t){if(!e)return t(Object(b.goToUrl)(l.a.getUrlBase())),!0}},q={},Y=function(e){return function(t){var n=q[e];return n||(n=Object(g.a)("getAlbum",{albumId:e}).then((function(n){return delete q[e],m.a.preprocessAlbum(n),"favorites"===n.album_type&&t({type:z.j,payload:[n]}),"family"===n.album_type&&t({type:z.i,payload:[n]}),t(Object(E.updateAlbum)(n)),n})).catch((function(t){if(delete q[e],t instanceof Error)throw t})),q[e]=n,n)}},K=function(e){return function(t,n){var r=Object(R.getAlbumById)(n(),e);r?t(G(r)):t(Y(e)).then((function(){t(G(Object(R.getAlbumById)(n(),e)))})).catch((function(){t(G())}))}},J=function(e,t,n,r,i){return function(o,a){var s=function(){o(Object(A.closeDialog)("album-title"))},u=function(t){s(),Object(D.isDialogOpened)(a(),"selectAlbum")&&o(Object(T.decideSelectAlbum)(!1)),o({type:U.CREATE_ALBUM,payload:{isPublishSelected:i}}),o(Object(k.f)(k.a.ADD,k.b.CREATE_ALBUM));var u=a(),c=u.page,d=c.idContext,f=c.originalNSParams.action,p=u.personalAlbums.returnPath;"/photo"===d&&"create-album"===f&&(o(ee(Q.RESTORE)),o(Object(O.deselectAllStatesContext)()),l.a.go(p));var h=Date.now();return Object(g.a)("do-create-album",{title:t,cover:n,noItems:"1",isPublic:r?"true":"false",idsResources:JSON.stringify(Object(x.a)(e))},{retriesLeft:0,retryOffline:!1}).then((function(e){return o(Object(k.f)(k.a.REMOVE,k.b.CREATE_ALBUM)),m.a.preprocessAlbum(e),o({type:U.CREATE_ALBUM_SUCCESS,payload:e}),o(Object(I.notify)({operation:"createAlbum",status:"done",url:"/client/albums/".concat(e.id),title:e.title})),Ya.Rum.sendDelta("operation.createAlbum",Date.now()-h),e.id}),(function(){o(Object(k.f)(k.a.REMOVE,k.b.CREATE_ALBUM)),o({type:U.CREATE_ALBUM_FAIL}),o(Object(I.notify)({operation:"createAlbum",status:"failed"}))}))};return void 0===t?(o(Object(A.openDialog)("album-title",{onClose:s,onSubmit:u})),Promise.resolve()):u(t)}},Z=function(e){return{type:U.UPDATE_ALBUMS_COMMON_DATA,payload:e}},X=function(e){return Z({newAlbumTitle:e})},Q={RESTORE:"restore",SCROLL:"scroll"},ee=function(e){return Z({scrollInAlbums:e})},te=function(){return function(e,t){if(!e(Object(b.maybeBlockAction)())){e(Object(A.openDialog)("album-title",{onClose:function(){e(Object(A.closeDialog)("album-title"))},onSubmit:function(n){e(Z({newAlbumTitle:n,returnPath:N.a.getPath(t().page.currentUrl)})),e(Object(A.closeDialog)("album-title")),l.a.go("/client/photo|create-album")}}))}}},ne=function(e,t,n){var r=n.shouldRedirectToAlbum,i=n.shouldShowNotification;return function(n,o){var s;r&&(n(Object(O.deselectAllStatesContext)()),n(Object(b.goToUrl)("/client/albums/".concat(t))));var u=B(o(),t),c="family"===(null===(s=Object(R.getAlbumById)(o(),t))||void 0===s?void 0:s.album_type);return Object(g.a)("do-add-resources-to-album",{id:t,resourcesIds:JSON.stringify(e)}).then((function(r){if(n(Object(k.f)(k.a.REMOVE,k.b.ADD_TO_ALBUM)),r.items.length){var s=o();r.resources=[];var l=[];if(r.items.forEach((function(e){var t=e.id,n=e.uid,i=e.itemId,o=Object(F.getResourceData)(s,t),u=o.albumIds||[];l.push([t,[].concat(a()(u),[r.id]),"albumIds"]),c&&(n&&l.push([t,n,"uid"]),i&&l.push([t,i,"itemId"])),r.resources.push(o)})),n(Object(_.batchSetResourceData)(l)),n({type:U.ADD_ITEMS_TO_ALBUM,payload:r}),u&&n(Object(_.batchSetResourceData)(r.items.map((function(e){var t=e.itemId;return[e.id,{state:!0,itemId:t},"favorite"]})))),i){var d=r;u&&(d={title:"Избранные",id:t}),c&&(d={title:"Альбом семьи",id:t}),n(Object(I.notify)({operation:"addToAlbum",status:"done",count:r.items.length,typeAddition:r.items.length<e.length?"half":"full",dst:d}))}var f=Object(R.getAlbumById)(s,t);return f&&!f.cover&&n(Y(t)),r}n(Object(I.notify)({operation:"addToAlbum",status:"failed",typeAddition:"none"}))})).catch((function(r){var i;return n(Object(k.f)(k.a.REMOVE,k.b.ADD_TO_ALBUM)),i=u?{title:"Избранные"}:c?{title:"Альбом семьи"}:Object(R.getAlbumById)(o(),t)||{},n(Object(I.notify)({operation:"addToAlbum",status:"failed",count:e.length,dst:i})),r instanceof Error&&setTimeout((function(){throw r}),0),null}))}},re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.shouldRedirectToAlbum,i=void 0!==r&&r,o=n.shouldShowNotification,a=void 0===o||o;return function(n,r){if(n(Object(b.maybeBlockAction)()))return Promise.reject();var o=Object(x.a)(e);return t?(n(Object(k.f)(k.a.ADD,k.b.ADD_TO_ALBUM,{srcContextId:"/album/".concat(t)})),n(ne(o,t,{shouldRedirectToAlbum:i,shouldShowNotification:a}))):(n(Object(T.add)("select-album",{dialogParams:{ids:e},onSubmit:function(e){var t=e.albumId;n(Object(k.f)(k.a.ADD,k.b.ADD_TO_ALBUM,{srcContextId:r().page.idContext})),n(ne(o,t,{shouldRedirectToAlbum:!1,shouldShowNotification:a}))}})),Promise.resolve(null))}},ie=function(e){return function(t,n){t(Object(b.maybeBlockAction)())||(t(Z({returnPath:N.a.getPath(n().page.currentUrl)})),t(Object(b.goToUrl)("/client/photo|add-to-album?targetAlbumId=".concat(e))))}},oe=function(e,t){return function(n,r){var i,o=r(),a=Object(x.a)(t),s=Object(L.sliderResourceSelector)(o);if(s&&a.includes(s.id)&&Object(R.isPageAlbum)(o)){var u=Object(R.getAlbumNextResource)(o,s.id,1);i=u?u.id:""}n({type:U.REMOVE_ITEMS_FROM_ALBUM,payload:{newIdDialog:i,albumId:e,resourcesIds:a}}),n(Object(_.maybeSyncSliderUrl)(s&&s.id,i)),B(r(),e)&&n(Object(_.batchSetResourceData)(a.map((function(e){return[e,{state:!1},"favorite"]}))))}},ae=function(e,t){var n=t.filter,r=t.settingsName,i=t.metrikaName;return function(t,o){if("1"===o().settings[r])return Promise.resolve();t(Object(y.saveSettings)({key:r,value:"1"}));var a=w.FILTERS_TITLES[n],s=function(e){d.default.count("interface elements","dialog confirm",i,e)};return new Promise(function(n,r){t(Object(T.add)("confirmation",{dialogParams:{text:1===e.length?"Фото будет скрыто из альбома «"+yr.externals.entityify(a)+"», но останется на Диске и будет доступно в других альбомах. Вернуть фото в этот альбом не получится":"Выбранные фото будут скрыты из альбома «"+yr.externals.entityify(a)+"», но останутся на Диске и будут доступны в других альбомах. Вернуть фото в этот альбом не получится",submitButtonText:"Убрать из альбома",cancelButtonText:"Отмена"},onSubmit:function(){s("ok"),n()},onReject:function(){s("cancel"),r(new Error("cancel"))}}))})}},se=function(e){return function(t,n){var r=n();if(Object(W.isSagaOperation)(r,V.OperationType.EXCLUDE_FROM_ALBUM))t(Object(H.excludeFromAlbumOperation)(e));else{var i=r.page,o=i.filter,a=i.idContext,s=r.resources,u=Array.isArray(e)?e:[e];t(ae(u,{filter:o,metrikaName:"exclude from album",settingsName:"confirmExcludeFromAlbumShowed"})).then((function(){var e=u.filter((function(e){return Object(S.can)(S.EXCLUDE_FROM_ALBUM,s[e],r,[])}));return t(Object(_.excludeResourceFromAlbum)(e.map((function(e){return s[e]})),o)),t(Object(O.deselectAllStatesContext)()),e.length!==u.length&&t(Object(I.notify)({operation:"excludeFromAlbum",status:"cannotExclude"})),p.a.create("excludeFromAlbum",e.map((function(e){return{idSrc:e,albumType:o,srcContextId:a}})))})).catch((function(e){if("cancel"!==e.message)throw e}))}}},ue=function(e){return function(t,n){var r=n();if(Object(W.isSagaOperation)(r,V.OperationType.EXCLUDE_FROM_ALBUM))t(Object(H.excludeFromAlbumOperation)(e));else{var i=Array.isArray(e)?e:[e];t(ae(i,{filter:"geo",metrikaName:"exclude from geo album",settingsName:"confirmExcludeFromGeoAlbumShowed"})).then((function(){var e=Object(R.getCurrentAlbumId)(r);t(oe(e,i)),p.a.create("excludeFromAlbum",i.map((function(e){return{idSrc:e,albumType:"geo"}})))})).catch((function(e){if("cancel"!==e.message)throw e}))}}},ce=function(e,t){return function(n,r){var i=r(),o=u.a.get(i,"personalAlbums.albumsByIds['".concat(e,"']"));if(o){var a=t.map((function(e){return Object(C.getAlbumResourceIndexPath)(o,{itemId:e})})).filter(Boolean).map((function(e){return e&&o.clusters[e.clusterIndex].items[e.resourceIndex].id}));a.length&&n(oe(e,a))}}},le=function(e){return function(t,n){var r=n(),i=Object(R.getAlbumById)(r,e),o=i&&i.album_type,a="faces"===o,s=function(e){d.default.count("interface elements","dialog confirm","delete album",a?"faces":"personal",e)};return t(Object(T.add)("confirmation",{dialogParams:{text:"faces"===o?"Альбом с этим человеком будет удалён, но фото останутся на Диске. Вы действительно хотите удалить альбом?":"Вы действительно хотите удалить альбом?",submitButtonText:"Удалить",cancelButtonText:"Отмена"},onSubmit:function(){return s("ok"),Object(g.a)("do-remove-album",{id:e}).then((function(){if(t({type:U.REMOVE_ALBUM,payload:{id:e,albumType:o}}),t(Object(b.goToUrl)("/client/albums"+(a?"/faces":""))),t(Object(I.notify)({operation:"removeAlbum",status:"done",title:i.title})),a){var n=Object(R.getAlbumsData)(r,"faces");if(n&&n.previewAlbumId===i.id)return t(Object(P.fetchSingleFaces)())}})).catch((function(){t(Object(I.notify)({operation:"removeAlbum",status:"failed",title:i.title}))}))},onReject:function(){s("cancel")}}))}},de=function(e){return function(t,n){if(!t(Object(b.maybeBlockAction)())){var r=n().personalAlbums.albumsByIds[e];t(Object(A.openDialog)("album-title",{isFacesAlbum:"faces"===r.album_type,title:r.title,onSubmit:function(n){t(Object(A.updateDialog)("album-title",{progress:!0})),Object(g.a)("do-edit-album",{id:e,key:"title",value:n,no_items:"1"}).then((function(n){var r=n.title;t(Object(E.updateAlbum)({id:e,title:r})),t(Object(A.closeDialog)("album-title",{}))})).catch((function(){t(Object(A.updateDialog)("album-title",{progress:!1,errorText:"Не удалось переименовать альбом"}))}))},onClose:function(){return t(Object(A.closeDialog)("album-title"))}}))}}},fe=function(e){return function(t,n){var r=n().personalAlbums.albumsByIds[e];return Object(g.a)("do-download-album",{publicKey:r.public.public_key}).then((function(e){if(!e.url)return Promise.reject();Object(v.a)(e.url)})).catch((function(){t(Object(I.notify)({status:"failed",operation:"downloadAlbum"}))}))}},pe=function(){return function(e,t){var n=t();if(Object(L.isSliderOpened)(n)&&Object(R.isPageAlbum)(n)){var r=Object(L.sliderResourceSelector)(n);Object(R.getAlbumResources)(n).find((function(e){var t=e.id;return r.id===t}))||e(Object(E.fetchAlbumWithItems)())}}},he=function(e,t){return function(n){var r=t===j.PHOTO_GRID_TYPES.TILE?"squares":"waterfall";return n({type:U.UPDATE_ALBUM,payload:{id:e,layout:r}}),Object(g.a)("do-edit-album",{id:e,key:"layout",value:r,no_items:"1"}).catch((function(){}))}},me=function(e,t){return function(n,r){return n(Object(E.updateAlbum)({id:e,isPublishing:!0,isPublishingReverse:t})),Object(g.a)("do-publish-album",{id:e,reverse:t,noItems:"1"}).then((function(r){return r.public&&(r.public.short_url=h.default.fixShortUrl(r.public.short_url)),n(Object(E.updateAlbum)(Object.assign({id:e,isPublishing:!1},u.a.pick(r,"public","is_public")))),n(Object(I.notify)({operation:"publishAlbum",status:"done",reverse:t,src:r})),e}),(function(){n(Object(E.updateAlbum)({id:e,isPublishing:!1})),n(Object(I.notify)({operation:"publishAlbum",status:"failed",reverse:t,src:r().personalAlbums.albumsByIds[e]}))}))}},ve=function(e){return function(t,n){var r=n(),i=Object(L.getCreatedAlbumFromSelected)(r);if(i)return t(me(i.id));var o=r.resources,a=Object(C.getPublishAlbumTitle)(e.map((function(e){return o[e]})));return t(J(e,a,void 0,!0,!0))}},ge=function(){return function(e,t){var n=t().personalAlbums.lastCreatedAlbumId;return e(me(n,!0))}},ye=function(e){return function(t){return t(Object(b.maybeBlockAction)({forLite:!0}))?Promise.reject():t(me(e))}},be=function(e){return function(t){return t(me(e,!0))}},_e=function(e,t){return function(n,r){n(Object(E.updateAlbum)({id:e,is_public:!1})),t.then((function(e){n(Object(I.notify)({operation:"publishAlbum",status:"done",reverse:!0,src:e}))})).catch((function(){n(Object(E.updateAlbum)({id:e,is_public:!0})),n(Object(I.notify)({operation:"publishAlbum",status:"failed",reverse:!0,src:r().personalAlbums.albumsByIds[e]}))}))}},Oe=function(e,t){return function(n,r){return Object(g.a)("albumItems",{albumId:e,itemsIds:JSON.stringify(t)}).then((function(t){var o=r(),s=B(o,e),u=h.default.preprocessResources(t.resources,o).map((function(n){return Object.assign({},n,{albumIds:[].concat(a()(n.albumIds||[]),[e])},(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({},s?{favorite:{state:!0,itemId:t.items.find((function(e){return e.id===n.id})).itemId}}:{}))}));n({type:U.ADD_ITEMS_TO_ALBUM,payload:{id:e,items:t.items,resources:u}})}))}},Ee=function(e){return function(t,n){var r=Object(R.getAlbumById)(n(),e),i=Object.assign({},r,{isCompleted:!1,clusters:void 0});t(Object(E.updateAlbum)(i))}},we=function(e){return function(t,n){var r=u.a.get(e,"root.parameters.type"),i=u.a.get(e,"root.parameters.id"),o=u.a.get(e,"root.parameters.album_type"),a=u.a.get(e,"root.parameters.auto_handle"),s=n(),c=Object(R.getAlbumById)(s,i),l=Boolean(c&&c.clusters),d={status:"done"},f=Object(R.getAlbumsData)(s,o||c&&c.album_type),p=Object(R.getAlbumsData)(s,"faces");switch(r){case"append_items":var h=e.values.map((function(e){return e.parameters.id}));c&&c.is_empty&&t(Y(i)),l&&t(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(i){return r===n.length?Promise.resolve():i(Oe(t,n[r])).then((function(){return i(e(t,n,r+1))}))}}(i,u.a.chunk(h,10))),1!==Number(a)&&Object.assign(d,{operation:"addToAlbum",count:h.length});break;case"title_change":c&&t(Object(E.updateAlbum)({id:i,title:u.a.get(e,"root.parameters.title")}));break;case"cover_change":c&&t(Y(i)).then((function(e){"faces"===e.album_type&&p&&p.previewAlbumId===i&&t(Object(P.fetchSingleFaces)())}));break;case"publish":case"unpublish":var m=u.a.get(e,"root.parameters.is_public");c&&t(Object(E.updateAlbum)({id:i,is_public:m})),Object.assign(d,{operation:"publishAlbum",reverse:!m});break;case"album_remove":f&&f.isLoaded&&t({type:U.REMOVE_ALBUM,payload:{id:i,albumType:o}}),p&&p.previewAlbumId===i&&t(Object(P.fetchSingleFaces)()),Object(R.getCurrentAlbumId)(s)===i&&t(Object(b.goToUrl)("/client/albums"));break;case"items_remove":var v=e.values.map((function(e){return e.parameters.id}));if(l)t(ce(i,v));else if(c&&"favorites"===c.album_type){var g=t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,n){var r=n().resources,i=[];return Object.values(r).forEach((function(t){t.favorite&&t.favorite.state&&e.includes(t.favorite.itemId)&&i.push(t)})),i}}(v));t(Object(_.batchSetResourceData)(g.map((function(e){return[e.id,{state:!1},"favorite"]}))))}var y=p&&p.previewAlbumId===i;(f&&f.isLoaded||y)&&t(Y(i)).then((function(e){y&&u.a.get(e,"cover.object.id")!==p.previewResourceId&&t(Object(P.fetchSingleFaces)())})),d.operation="removeResourceAlbum",v.length>1&&(d.count=v.length);break;case"album_create":f&&f.isLoaded&&t(Y(i)).then((function(e){[null,"personal"].includes(e.album_type)&&t({type:U.CREATE_ALBUM_SUCCESS,payload:e})}));break;case"albums_merged":var O=u.a.get(e,"root.parameters.src_id"),w=u.a.get(e,"root.parameters.dst_id"),S=u.a.get(e,"root.parameters.new_dst_title"),C=Object(R.getAlbumById)(s,O),x=Object(R.getAlbumById)(s,w);C&&t({type:U.REMOVE_ALBUM,payload:{id:O,albumType:"faces"}}),p&&p.previewAlbumId===O&&t(Object(P.fetchSingleFaces)()),x&&(t(Ee(w)),S&&t(Object(E.updateAlbum)({id:w,title:S}))),d.operation="mergeAlbums"}if(f&&f.isLoaded&&d.operation){var T=Object(R.getAlbumById)(s,i);t(Object(I.notify)(Object.assign(d,{src:T,dst:T})))}"geo"===o&&t(Object(P.fetchSingleGeo)())}},Se=function(e){return function(t,n){var r=n().personalAlbums.albumsByIds[e.id],i=["id","title","is_public","public"],o=u.a.pick(e,i);r&&!u.a.isEqual(o,u.a.pick(r,i))&&t(Object(E.updateAlbum)(o))}},Ce=function(e){return function(t,n){if(t(Object(b.maybeBlockAction)()))return Promise.reject();var r=n(),i=Object(R.getCurrentAlbum)(r),o=Object(C.getAlbumResourceIndexPath)(i,{id:e});if(!o)return Promise.reject();var a=i.clusters[o.clusterIndex].items[o.resourceIndex].itemId;return Object(g.a)("do-edit-album",{id:i.id,key:"cover",value:a,no_items:"1"}).then((function(n){if("faces"===i.album_type){var o=Object(R.getAlbumsData)(r,"faces");o&&o.previewAlbumId===i.id&&t(Object(P.updateSingleFacesAlbum)([n],!0))}m.a.preprocessAlbum(n),t({type:U.UPDATE_ALBUM,payload:Object.assign({},n,{coverResourceId:e})}),t(Object(I.notify)({operation:"editAlbum",status:"done",target:"cover"}))})).catch((function(){t(Object(I.notify)({operation:"editAlbum",status:"failed",target:"cover"}))}))}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(50);function i(e){return((Object(r.a)(e)?e.ownerDocument:e.document)||window.document).documentElement}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"fetchAlbumWithItems",(function(){return a})),n.d(t,"updateAlbum",(function(){return s})),n.d(t,"fetchAlbumSuccess",(function(){return u})),n.d(t,"selectAllItemsInCluster",(function(){return c})),n.d(t,"setIsSelectingPhotos",(function(){return l})),n.d(t,"toggleAlbumItemSelection",(function(){return d})),n.d(t,"openFamilyOnboarding",(function(){return f})),n.d(t,"closeFamilyOnboarding",(function(){return p})),n.d(t,"closeFamilyAlbumOnboarding",(function(){return h}));var r=n(100),i=n(13),o=n(90),a=Object(r.createAction)("@SAGAS/FETCH_ALBUM_WITH_ITEMS"),s=Object(r.createAction)(i.UPDATE_ALBUM),u=Object(r.createAction)(i.FETCH_ALBUM_SUCCESS),c=Object(r.createAction)("@SAGAS/SELECT_ALL_ITEMS_IN_CLUSTER"),l=Object(r.createAction)(i.SET_IS_SELECTING_PHOTOS,(function(e){return{payload:{flag:e}}})),d=Object(r.createAction)("@SAGAS/TOGGLE_ALBUM_ITEM_SELECTION"),f=Object(r.createAction)(o.g),p=Object(r.createAction)(o.b),h=Object(r.createAction)(o.a)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyCode=t.Keys=void 0,t.Keys={BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46},t.isKeyCode=function(e,n){return n.some((function(n){return t.Keys[n]===e||n===e}))}}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r);n.d(t,"modelDefaults",(function(){return a})),n.d(t,"getPreloadedData",(function(){return s}));var o={};o=JSON.parse(document.getElementById("preloaded-data").innerHTML);var a=function(){return o[this.id]||null},s=function(e){return e?i.a.get(o,e):Object.assign({},o)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return p}));var r=function(e){return"@@redux-saga/"+e},i=r("CANCEL_PROMISE"),o=r("CHANNEL_END"),a=r("IO"),s=r("MATCH"),u=r("MULTICAST"),c=r("SAGA_ACTION"),l=r("SELF_CANCELLATION"),d=r("TASK"),f=r("TASK_CANCEL"),p=r("TERMINATE"),h=r("LOCATION")}),(function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46};function i(e,t){return t.some((function(t){return r[t]===e||t===e}))}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r={FOLDED:"FOLDED",UNFOLDED_ACTIVE:"UNFOLDED_ACTIVE",UNFOLDED_INACTIVE:"UNFOLDED_INACTIVE"},i={ENTER_PRESS:"enter",SEARCH_BUTTON:"button"}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(904),o=n(1358);t.Spin=r.compose(r.composeU(i.withSizeS,i.withSizeM,i.withSizeL,i.withSizeXS,i.withSizeXXS),r.composeU(i.withViewDefault,o.withViewDark))(i.Spin)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}}),(function(e,t,n){"use strict";function r(e){return e.split("-")[0]}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);r.__exportStar(n(2401),t),r.__exportStar(n(2396),t),r.__exportStar(n(2416),t),r.__exportStar(n(455),t),r.__exportStar(n(456),t),r.__exportStar(n(384),t),r.__exportStar(n(385),t),r.__exportStar(n(2404),t),r.__exportStar(n(2417),t),r.__exportStar(n(2408),t),r.__exportStar(n(457),t),r.__exportStar(n(2418),t),r.__exportStar(n(322),t),r.__exportStar(n(2419),t),r.__exportStar(n(2420),t),r.__exportStar(n(2391),t),r.__exportStar(n(2421),t),r.__exportStar(n(2395),t),r.__exportStar(n(1006),t),r.__exportStar(n(751),t),r.__exportStar(n(2397),t),r.__exportStar(n(2422),t),r.__exportStar(n(2402),t),r.__exportStar(n(2398),t),r.__exportStar(n(2423),t),r.__exportStar(n(2409),t),r.__exportStar(n(1514),t)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"I18N",(function(){return f})),n.d(t,"bemifyClassName",(function(){return h}));var r=n(0),i=n.n(r),o=n(9),a=n.n(o),s=/(\x1d\d~?\x1d)/,u=/^\x1d\d\x1d$/,c=/^\x1d\d~\x1d$/,l="__",d="_";function f(e){var t=(function e(t,n){var r=t.length;var o=[];for(var s=0;s<r;s++){var l=t[s],d=n[l[1]];if(u.test(l))o.push(d);else if(c.test(l)){for(var f=r-1;t[f]!==l;)f--;if(s===f){o.push(d);continue}d=i.a.cloneElement(d,a.a.omit(d.props,["key","ref"]),e(t.slice(s+1,f),n)),o.push(d),s=f}else o.push(l)}return o})(e.loc.split(s),i.a.Children.toArray(e.children));return 1===t.length&&i.a.isValidElement(t[0])?t[0]:i.a.createElement("span",{className:e.className,ref:e.innerRef},t)}function p(e,t,n){var r=this.constructor.displayName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return[r,e?l+e:t?" "+r:"",t?d+t:"",n?d+n:"",this.props.className?" "+this.props.className:""].join("")}var h={bemClassName:p,bx:p};f.$1="0",f.$2="1",f.$3="2",f.$4="3",f.$5="4",f.$6="5",f.$7="6",f.$8="7",f.$9="8",f.$1_CLOSE=f.$1_OPEN="0~",f.$2_CLOSE=f.$2_OPEN="1~",f.$3_CLOSE=f.$3_OPEN="2~",f.$4_CLOSE=f.$4_OPEN="3~",f.$5_CLOSE=f.$5_OPEN="4~"}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(84),o=n(266),a=r(n(9)),s=n(46),u=n(517),c=[i.OperationType.MOVE,i.OperationType.RENAME,i.OperationType.CREATE_FOLDER,i.OperationType.EXCLUDE_FROM_ALBUM],l=[i.OperationType.COPY,i.OperationType.RESTORE,i.OperationType.DELETE,i.OperationType.LEAVE_FOLDER,i.OperationType.REMOVE_RESOURCE_ALBUM,i.OperationType.WFOLIO_CREATE_PROJECT,i.OperationType.WFOLIO_DELETE_PROJECT];t.isSagaOperation=((e,t)=>{var n;return l.includes(t)||c.includes(t)&&(null===(n=e.environment.session.experiment.disk_web_saga_operations_exp)||void 0===n?void 0:n[t])}),t.getAllOperations=(e=>Object.values(e.operations2.operationsByIds)),t.getOperationsToStart=((e,n)=>t.getAllOperations(e).filter(e=>e.status===i.OperationStatus.CREATED&&e.type===n)),t.isCreatedOperation=((e,n)=>t.getAllOperations(e).some(e=>e.type===n.type&&e.src===n.src&&"dst"in e&&e.dst===n.dst)),t.getAllActiveOperations=(e=>t.getAllOperations(e).filter(e=>[i.OperationStatus.WAITING,i.OperationStatus.EXECUTING].includes(e.status))),t.getAllCompleteOperations=(e=>t.getAllOperations(e).filter(e=>e.status===i.OperationStatus.DONE)),t.getOperationsByOids=((e,t)=>t.filter(t=>Boolean(e.operations2.operationsByOids[t])).map(t=>e.operations2.operationsByIds[e.operations2.operationsByOids[t]])),t.getOperationsByIds=((e,t)=>t.map(t=>e.operations2.operationsByIds[t]).filter(Boolean)),t.findOperations=((e,t)=>t.map(({oid:t,id:n})=>t&&e.operations2.operationsByOids[t]?e.operations2.operationsByIds[e.operations2.operationsByOids[t]]:n&&e.operations2.operationsByIds[n]).filter(Boolean)),t.getOperationByOid=((e,t)=>{const n=e.operations2.operationsByOids[t];return n?e.operations2.operationsByIds[n]:null}),t.hasStartingOperations=(e=>{const n=o.getOperationsStatusesByType(t.getAllOperations(e));return Object.keys(n).some(e=>![i.OperationType.RENAME,i.OperationType.CREATE_FOLDER].includes(e)&&n[e][i.OperationStatus.CREATED]>0)}),t.getActiveOperationsType=(e=>{const n=o.getOperationsStatusesByType(t.getAllOperations(e)),r=Object.keys(n).filter(e=>{const t=n[e];return e!==i.OperationType.CREATE_FOLDER&&t[i.OperationStatus.CREATED]+t[i.OperationStatus.WAITING]+t[i.OperationStatus.EXECUTING]>0});return r.length>1?"multi":r.length?u.getOperationType(r[0]):""});const d=s.createSelectorCreator(s.defaultMemoize,(e,t)=>a.default.isEqual(e,t));t.getContextOperationsData=d(e=>{const{page:{idContext:n}}=e,r=t.getAllOperations(e).filter(e=>{const t=o.getOperationFolder(e);return!t||t===n}),s=o.getOperationsStatusesByType(r),c=Object.keys(s).reduce((e,t)=>{const n=s[t],r=a.default.sum(Object.values(n));return e.total+=r,e.finished+=r-(n[i.OperationStatus.CREATED]+n[i.OperationStatus.WAITING]+n[i.OperationStatus.EXECUTING]),e.type=!e.type||"multi"!==e.type&&e.type===t?t:"multi",e},{total:0,finished:0,type:null});return c.type&&(c.type=u.getOperationType(c.type)),c},e=>e)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const{themes:r}=n(1059),{ThemeName:i}=n(235),o=n(397),a=n(1060),s=n(1805),u=n(1808),c=n(1811),l=n(163),d={"ps-light":o.theme,"ps-dark":a.theme,"ps-light-transparent":s.theme,"ps-dark-transparent":u.theme,"ps-superdark-transparent":c.theme},f=["ps-dark","ps-dark-transparent","ps-superdark-transparent"];t.isThemeExists=(e=>Boolean(e&&r[e]));const p=(e,t)=>e&&r[e]?r[e][t].base.root:"",h=(e,t)=>{if(e&&r[e])return d[p(e,t)]},m=(e,t)=>{const n=h(e,t);return n?l.cnTheme(n):""};t.getPageTheme=(e=>h(e,"page")),t.getPageClassName=(e=>m(e,"page")),t.getPageOverrides=((e,t)=>e&&r[e]?e===i.GeneralDefault&&t?Object.assign({},r[e].page.override,{"--bg-color":t}):r[e].page.override:""),t.getContentClassName=(e=>m(e,"content")),t.getCover=(e=>{var t,n;return e&&r[e]?null===(n=null===(t=r[e])||void 0===t?void 0:t.layers)||void 0===n?void 0:n.cover:null}),t.isContentDark=(e=>f.includes(p(e,"content"))),t.isPageDark=(e=>f.includes(p(e,"page")))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(62);function i(e){return Object(r.a)(e).getComputedStyle(e)}}),(function(e,t,n){"use strict";n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"i",(function(){return _})),n.d(t,"l",(function(){return O})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return w})),n.d(t,"e",(function(){return S}));var r=n(13),i=n(35),o=n(15),a=n(197),s=n(17),u=n(23),c=n.n(u),l=n(29),d=n(57),f=function(){return{type:r.HIDE_UPLOADER}},p=function(){return{type:r.OPEN_UPLOADER}},h=function(){return{type:r.CLOSE_UPLOADER}},m=function(e){return{type:r.SET_HIGHLIGHTED_UPLOAD_RESOURCES,payload:e}},v=function(e){return{type:r.HIDE_UPLOAD_NOTIFICATION,payload:e}},g=function(e){return function(t,n){var r=n().uploader.notifications.filter((function(t){var n=t.type,r=t.data;return n===s.UPLOAD_NOTIFICATION_TYPES.SERVICE&&r&&r.reason===e})).map((function(e){return e.id}));t(v(r))}},y=function(e){return function(t,n){var r=n().resources;e.forEach((function(e){var n=e.id,a=e.isFakeId,s=e.entry,u=s.size,l=void 0===u?0:u,d=s.isDirectory,f=r[n];if(f)f.state&&(f.state.hidden||f.state.disabled)&&(t(Object(o.showHiddenResource)(n)),t(Object(o.setResourceBlocked)(n,!0)),t(Object(o.setResourceData)(n,!1,"hasPreview")));else{var p={id:n,type:d?"dir":"file",mtime:Date.now()/1e3,meta:{size:d?void 0:l}};a&&(p.name=c.a.basename(i.default.getIdFromFakeId(n)),p.state={hidden:a}),t(Object(o.createResource)(p,{insertOnlyIfPortionLoaded:!0,part:!0}))}}))}},b=function(e){return e.map((function(e){var t=e.id,n=e.entry,r=n.size;return{id:t,size:void 0===r?0:r,isDirectory:n.isDirectory,readFail:e.readFail}}))},_=function(e,t){return function(n){var i=b(e);n({type:r.INIT_UPLOADING_STATES,payload:{rootFolderId:t,states:i}})}},O=function(e,t){var n=t.files,i=void 0===n?[]:n,o=t.folders,u=void 0===o?[]:o,c=t.statsId;return function(t,n){var o=n(),f=o.uploader.uploadingStatesByIds,p=Object(d.getLimitUploadSize)(o);if(p){var h=Object(s.getLimitedForUploadFiles)(i,p);h&&h.length>0&&t(Object(l.showLimitUploadDialog)(h))}var m=Object(a.e)(n(),Array.from(i).concat(u),e,c,null).filter((function(e){return Object(a.k)(f[e.id]&&f[e.id].status)}));m.length&&(t(function(e,t){return function(n){n({type:r.START_UPLOAD,payload:{states:b(e),position:t}})}}(m)),t(y(m)),t(Object(a.a)(m)))}},E=function(e){return function(t){t(Object(a.c)(e))}},w=function(){return function(e){e(Object(a.b)())}},S=function(e){return function(t){t(Object(a.i)(e,1))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.COPY="copy",e.RESTORE="restore",e.DELETE="delete",e.LEAVE_FOLDER="leaveFolder",e.UNSHARE="unshare",e.REMOVE_RESOURCE_ALBUM="removeResourceAlbum",e.EXCLUDE_FROM_ALBUM="excludeFromAlbum",e.MOVE="move",e.RENAME="rename",e.CREATE_FOLDER="createFolder",e.WFOLIO_CREATE_PROJECT="wfolio-create-project",e.WFOLIO_DELETE_PROJECT="wfolio-delete-project"})(t.OperationType||(t.OperationType={})),(function(e){e.CREATED="CREATED",e.WAITING="WAITING",e.EXECUTING="EXECUTING",e.DONE="DONE",e.FAILED="FAILED"})(t.OperationStatus||(t.OperationStatus={}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(3),a=n(246),s=n(350),u=n(205),c=o.compose(a.withViewDefault,a.withTargetAnchor,a.withNonvisual,a.withThemeNormal)(a.Popup);t.Popup=(e=>i.memo(t=>{const n=i.useRef(null),{onClose:r}=t;s.useFocusTrap({enabled:Boolean(!t.noTrapAutoFocus&&t.visible),scopeRef:n,autoFocus:!0,restoreFocus:!0});const o=i.useCallback(e=>{n.current=e,e&&e.setAttribute("role","dialog")},[n]),a=i.useCallback((e,t)=>{"esc"===t&&e.stopPropagation(),r&&r(e,t)},[r]);if(t.noTrapAutoFocus){const n=u(t,"noTrapAutoFocus");return i.default.createElement(e,Object.assign({},n))}return i.default.createElement(e,Object.assign({},t,{onClose:a,innerRef:o}))}))((e=>t=>{const{position:n}=t,r=i.useMemo(()=>((e,t)=>({current:{getBoundingClientRect:()=>{const n=document.scrollingElement||document.documentElement,r=e-n.scrollLeft,i=t-n.scrollTop;return{width:0,height:0,left:r,top:i,right:r,bottom:i}},contains:()=>!1}}))((null===n||void 0===n?void 0:n.x)||0,(null===n||void 0===n?void 0:n.y)||0),[null===n||void 0===n?void 0:n.x,null===n||void 0===n?void 0:n.y]),o=i.useRef("undefined"!=typeof document?document.body:null);let a=u(t,"position");return a.boundary=o,n&&(a=Object.assign(Object.assign({},a),{target:"anchor",anchor:r,modifiers:[{name:"hide",enabled:!1}]})),i.default.createElement(e,Object.assign({},a))})(c))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(81),i=n(235),o=n(1061);t.getThemeName=(e=>{const{environment:{session:{forceTheme:t,serverTime:n}},settings:{generalThemes:a}}=e,s=a&&(o.getCurrentTheme(a,new Date(n))||i.ThemeName.GeneralDefault),u=t||s;return u&&r.isThemeExists(u)?u:i.ThemeName.GeneralDefault}),t.isCoverLayerEnabled=(e=>{const n=t.getThemeName(e);return Boolean(n)&&Boolean(r.getCover(n))}),t.getThemeSettings=(e=>{var n;return t.isCoverLayerEnabled(e)?(null===(n=e.settings.generalThemes)||void 0===n?void 0:n.settings)||{}:null}),t.isNewYearThemeAvailable=(({environment:{session:{serverTime:e}}})=>o.isThemeAvailable(i.ThemeName.GeneralNewYear2024,new Date(e)))}),(function(e,t,n){var r;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!(function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)})()}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(1),i=n(0),o=n.n(i),a=n(31),s=n(28),u=n(588),c=(n(1364),Object(s.cn)("Radiobox")),l=function(e){var t=e.children,n=e.className,s=e.disabled,l=e.innerRef,d=e.name,f=e.onChange,p=e.options,h=void 0===p?[]:p,m=e.value,v=(e.view,e.size,e.theme,Object(a.useComponentRegistry)(c()).Radio),g=Object(r.__read)(Object(i.useState)({onChange:f,value:m,disabled:s,name:d}),2),y=g[0],b=g[1];return Object(i.useEffect)((function(){b({onChange:f,value:m,disabled:s,name:d})}),[f,m,s,d]),o.a.createElement("span",{className:c(null,[n]),ref:l,role:"radiogroup"},o.a.createElement(u.a,{value:y},t||h.map((function(e){var t=e.label,n=Object(r.__rest)(e,["label"]);return o.a.createElement(v,Object(r.__assign)({key:n.value},n),t)}))))};l.displayName=c()}),(function(e,t,n){"use strict";n.r(t);var r=n(421);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i);var o=n(297);for(var i in o)"default"!==i&&(function(e){n.d(t,e,(function(){return o[e]}))})(i);var a=n(298);for(var i in a)"default"!==i&&(function(e){n.d(t,e,(function(){return a[e]}))})(i);var s=n(299);for(var i in s)"default"!==i&&(function(e){n.d(t,e,(function(){return s[e]}))})(i);var u=n(300);for(var i in u)"default"!==i&&(function(e){n.d(t,e,(function(){return u[e]}))})(i);var c=n(301);for(var i in c)"default"!==i&&(function(e){n.d(t,e,(function(){return c[e]}))})(i);var l=n(302);for(var i in l)"default"!==i&&(function(e){n.d(t,e,(function(){return l[e]}))})(i);var d=n(303);for(var i in d)"default"!==i&&(function(e){n.d(t,e,(function(){return d[e]}))})(i);var f=n(304);for(var i in f)"default"!==i&&(function(e){n.d(t,e,(function(){return f[e]}))})(i);var p=n(305);for(var i in p)"default"!==i&&(function(e){n.d(t,e,(function(){return p[e]}))})(i);var h=n(306);for(var i in h)"default"!==i&&(function(e){n.d(t,e,(function(){return h[e]}))})(i);var m=n(307);for(var i in m)"default"!==i&&(function(e){n.d(t,e,(function(){return m[e]}))})(i);var v=n(308);for(var i in v)"default"!==i&&(function(e){n.d(t,e,(function(){return v[e]}))})(i);var g=n(309);for(var i in g)"default"!==i&&(function(e){n.d(t,e,(function(){return g[e]}))})(i);var y=n(310);for(var i in y)"default"!==i&&(function(e){n.d(t,e,(function(){return y[e]}))})(i);var b=n(338);n.d(t,"withSizeXXL",(function(){return b.a}));var _=n(339);n.d(t,"withSizeXL",(function(){return _.a}));var O=n(311);for(var i in O)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return O[e]}))})(i);var E=n(312);for(var i in E)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return E[e]}))})(i);var w=n(313);for(var i in w)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return w[e]}))})(i);var S=n(422);for(var i in S)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return S[e]}))})(i);var C=n(424);for(var i in C)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return C[e]}))})(i);var x=n(314);for(var i in x)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return x[e]}))})(i);var T=n(426);for(var i in T)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return T[e]}))})(i);var P=n(428);for(var i in P)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return P[e]}))})(i);var k=n(430);for(var i in k)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return k[e]}))})(i);var j=n(432);for(var i in j)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return j[e]}))})(i);var R=n(315);for(var i in R)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return R[e]}))})(i);var I=n(316);for(var i in I)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return I[e]}))})(i);var A=n(434);for(var i in A)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return A[e]}))})(i);var D=n(436);for(var i in D)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return D[e]}))})(i);var M=n(438);for(var i in M)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return M[e]}))})(i);var N=n(440);for(var i in N)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return N[e]}))})(i);var L=n(442);for(var i in L)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return L[e]}))})(i);var F=n(444);for(var i in F)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return F[e]}))})(i);var B=n(340);n.d(t,"withViewBrand",(function(){return B.a}));var U=n(341);n.d(t,"withViewPremium",(function(){return U.a}));var z=n(342);n.d(t,"withViewDanger",(function(){return z.a}));var V=n(317);for(var i in V)["withSizeXXL","withSizeXL","withViewBrand","withViewPremium","withViewDanger","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return V[e]}))})(i);var H=n(318);for(var i in H)["withSizeXXL","withSizeXL","withViewBrand","withViewPremium","withViewDanger","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return H[e]}))})(i)}),(function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return f}));var r="UPDATE_ALBUMS",i="FETCH_ALBUMS_SUCCESS",o="FETCH_SINGLE_GEO_ALBUM",a="FETCH_SINGLE_FACES_ALBUM",s="UPDATE_FAVORITE_ALBUM",u="OPEN_FAMILY_ONBOARDING",c="CLOSE_FAMILY_ONBOARDING",l="UPDATE_FAMILY_ALBUM",d="OPEN_FAMILY_ALBUM_ONBOARDING",f="CLOSE_FAMILY_ALBUM_ONBOARDING"}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.any="any",e.download="download",e.copy="copy",e.restore="restore",e.move="move",e.delete="delete",e.createFolder="createFolder",e.docsError="docsError",e.rejectInvite="rejectInvite",e.acceptInvite="acceptInvite",e.inviteUser="inviteUser",e.leaveFolder="leaveFolder",e.cleanTrash="cleanTrash",e.rename="rename",e.upload="upload",e.accessFolder="accessFolder",e.photosliceScroll="photosliceScroll",e.publish="publish",e.unshare="unshare",e.officeAccessTypeChange="officeAccessTypeChange",e.getPublicLinkSettings="getPublicLinkSettings",e.changePublicLinkSettings="changePublicLinkSettings",e.copyPublicLink="copyPublicLink",e.createAlbum="createAlbum",e.addToAlbum="addToAlbum",e.excludeFromAlbum="excludeFromAlbum",e.removeAlbum="removeAlbum",e.downloadAlbum="downloadAlbum",e.publishAlbum="publishAlbum",e.mergeAlbums="mergeAlbums",e.refuseAlbumsFaces="refuseAlbumsFaces",e.editAlbum="editAlbum",e.removeResourceAlbum="removeResourceAlbum",e["wfolio-create-project"]="wfolio-create-project",e["wfolio-delete-project"]="wfolio-delete-project"})(r=t.Operations||(t.Operations={})),(function(e){e.done="done",e.completed="completed",e.failed="failed",e.canceled="canceled",e.exists="exists",e.cannotExclude="cannotExclude"})(t.Status||(t.Status={})),(function(e){e.user="user",e.actor="actor",e.owner="owner"})(t.Role||(t.Role={})),(function(e){e.dir="dir",e.file="file"})(t.TypeOfSrc||(t.TypeOfSrc={})),(function(e){e.NAME_HAS_SLASH="NAME_HAS_SLASH",e.NAME_EXCEEDS_MAX_LENGTH="NAME_EXCEEDS_MAX_LENGTH",e.NO_SPACE="NO_SPACE",e.READ_ONLY="READ_ONLY",e.NO_SPACE_OWNER="NO_SPACE_OWNER",e.exists="exists",e.large="large"})(t.Reason||(t.Reason={})),(function(e){e.normal="normal",e.black="black"})(t.NotificationType||(t.NotificationType={})),t.OPERATIONS_ALLOWED_IN_DOCS=[r.delete,r.publish,r.officeAccessTypeChange,r.docsError,r.copyPublicLink,r.getPublicLinkSettings,r.changePublicLinkSettings]}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(46),i=n(44),o=n(357),a=n(24);t.hasVirtualDisks=r.createSelector(o.getDefaultFolders,e=>Boolean(null===e||void 0===e?void 0:e.hasVirtualDisks)),t.getIsInVirtualDiskList=r.createSelector(i.getIdContext,e=>a.getIsVirtualDiskList(e)),t.getIsInVirtualDisk=r.createSelector(i.getIdContext,e=>a.getIsVirtualDisk(e)),t.getIsVirtualDiskTrash=r.createSelector(i.getIdContext,e=>a.isVirtualDiskTrash(e)),t.getIsInsideVirtualDisk=r.createSelector([i.getIdContext],e=>a.isVirtualDiskPath(e)),t.getIsInVirtualDiskJournal=r.createSelector(i.getIdContext,e=>a.isVirtualDiskJournal(e)),t.getVirtualDiskHash=r.createSelector(i.getIdContext,a.getVdHash);const s=(e,t,n)=>{var r,i;const o=a.getCurrentVirtualDisk(e);if(!o)return!1;const s=n.resources[o];return null===(i=null===(r=null===s||void 0===s?void 0:s.vd_fields)||void 0===r?void 0:r.permissions)||void 0===i?void 0:i.includes(t)};t.isReadOnlyVdResource=((e,t)=>!!a.isPathInsideVirtualDiskFiles(e)&&!s(e,"write",t)),t.canCleanVdTrash=((e,t)=>!!a.isVirtualDiskTrash(e)&&s(e,"delete",t)),t.isCurrentContextReadonlyVdResource=(e=>{const n=i.getIdContext(e);return t.isReadOnlyVdResource(n,e)}),t.getVdSpace=((e,t)=>{var n;return null===(n=t.resources[`${a.VIRTUAL_DISKS_ROOT}/${e}/disk`])||void 0===n?void 0:n.space})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Textinput=t.cnTextinput=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(31),a=n(28),s=n(271),u=n(202),c=n(1008),l=n(733);n(1552),t.cnTextinput=a.cn("Textinput");var d=function(e){var n=e.addonAfter,a=e.addonBefore,l=e.className,d=e.disabled,f=e.focused,p=e.iconLeft,h=e.iconRight,m=e.innerRef,v=e.onMouseEnter,g=e.onMouseLeave,y=e.style,b=(e.pressed,e.view,e.pin,e.size,e.theme,e.hint),_=e.state,O=e.title,E=e.renderControl,w=r.__rest(e,["addonAfter","addonBefore","className","disabled","focused","iconLeft","iconRight","innerRef","onMouseEnter","onMouseLeave","style","pressed","view","pin","size","theme","hint","state","title","renderControl"]),S=o.useComponentRegistry(t.cnTextinput()),C=S.Control,x=S.Box,T=S.Icon,P=S.Hint,k=s.useRenderOverride(C,E),j=u.useUniqId("hint"),R=c.useTextFieldHint({hint:b}),I=R.hint,A=R.hintProps;return i.default.createElement("span",{className:t.cnTextinput({disabled:d,focused:f,iconRight:void 0!==h,iconLeft:void 0!==p,state:_},[l]),onMouseEnter:v,onMouseLeave:g,ref:m,style:y,title:O},a,p&&i.default.createElement(T,{side:"left",component:p}),h&&i.default.createElement(T,{side:"right",component:h}),i.default.createElement(k,r.__assign({},w,{"aria-invalid":"error"===_,disabled:d,"aria-describedby":I?j:void 0})),i.default.createElement(x,null),n,I&&i.default.createElement(P,r.__assign({},A,{id:j}),I))};d.displayName=t.cnTextinput(),t.Textinput=l.withControl(d)}),(function(e,t,n){"use strict";n(1949);t.a={Multisuggest:"Multisuggest_Multisuggest_4IEIb",Popup:"Multisuggest_Popup_F2Ol2",SuggestionsWrapper:"Multisuggest_SuggestionsWrapper_pAAe-",Suggestion:"Multisuggest_Suggestion_iZoIK",focused:"Multisuggest_focused_O2wiS",disabled:"Multisuggest_disabled_odsmZ",SuggestionIsPicked:"Multisuggest_SuggestionIsPicked_TmgiG",picked:"Multisuggest_picked_pDqbo",ControlWrapper:"Multisuggest_ControlWrapper_Fwkb3",ControlWrapper_noScrollbar:"Multisuggest_ControlWrapper_noScrollbar_X5cLc",PickedWrap:"Multisuggest_PickedWrap_JmeHW",Picked:"Multisuggest_Picked_eGjUm",PickedContent:"Multisuggest_PickedContent_qpQLp",PickedRemoveButton:"Multisuggest_PickedRemoveButton_-FhUf",Label:"Multisuggest_Label_EE9x3",Label_stretch:"Multisuggest_Label_stretch_JEoj8",Input:"Multisuggest_Input_Crkw4"}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(528)),a=n(404),s=i(n(18));t.onSkUpdate=(e=>{const t=ns.Model.get("config");t.setData(Object.assign({},t.getData(),{sk:e}))}),t.onAuthChanged=a.safeReload,t.psModelsRoute="/models-v2",t.psFetchDefaultOptions={pingUrl:"/check-online"},t.api=((e,n,i)=>r(void 0,void 0,void 0,(function*(){const r=s.default().getState(),{config:{sk:a,idClient:u},user:{uid:c}}=r;return o.default({modelsRoute:t.psModelsRoute,options:Object.assign(Object.assign({},t.psFetchDefaultOptions),i),apiMethod:e,requestParams:n,sk:a,onSkUpdate:t.onSkUpdate,uid:c,onAuthChanged:t.onAuthChanged,connectionId:u})}))),"undefined"!=typeof window&&(window.modelsV2Api=t.api)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"isDiskWebNpsExp",(function(){return r})),n.d(t,"isDiskWebNpsSecurityExp",(function(){return i})),n.d(t,"isDiskViewerNpsExp",(function(){return o})),n.d(t,"isFamilyAlbumExp",(function(){return a})),n.d(t,"getExpDefaultBackground",(function(){return s})),n.d(t,"isImagePreviewTelemetryExp",(function(){return u})),n.d(t,"supportChatExperimentSelector",(function(){return c})),n.d(t,"isAddressAccessShareDialogExp",(function(){return l})),n.d(t,"isAddFolderToDiskEnabled",(function(){return d}));var r=function(e){return!!e.environment.session.experiment.disk_web_nps_exp},i=function(e){return!!e.environment.session.experiment.disk_web_nps_security_exp},o=function(e){return!!e.environment.session.experiment.disk_viewer_nps_exp},a=function(e){return!!e.environment.session.experiment.showFamilyAlbum},s=function(e){var t=e.environment.session.experiment.disk_another_default_bg_exp;return null===t||void 0===t?void 0:t.bgColor},u=function(e){return!!e.environment.session.experiment.image_preview_telemetry_exp},c=function(e){var t=e.environment.session,n=t.auth,r=t.experiment.disk_web_support_chat_exp;return Boolean((null===n||void 0===n?void 0:n.isAuth)&&r)},l=function(e){return Boolean(e.user.is_idm_managed_public_access)&&!0},d=function(e){var t=e.environment.session.experiment.disk_web_client_public_folders_exp;return e.user.is_idm_managed_public_access&&t}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});const i=n(100),o=n(376);t.maybeFetchDocs=i.createAction("docs/fetch"),t.fetchNextDocs=i.createAction("docs/fetchNext"),t.remoteTogglePinDoc=i.createAction("docs/remoteTogglePinDoc"),t.addDocFromDisk=i.createAction("docs/addDocFromDisk"),t.removeFromDocs=i.createAction("docs/removeFromDocs"),t.setListingType=i.createAction("docs/setListingType"),t.watchUploadStates=i.createAction("docs/watchUploadStates"),t.goToDocsPageByExt=i.createAction("docs/goToDocsPageByExt"),t.showNotAllowedExtNotification=i.createAction("docs/showNotAllowedExtNotification"),t.redirectToDocsPageOnLoadFiles=i.createAction("docs/redirectToDocsPageOnLoadFiles"),t.changeDocsPageType=i.createAction("docs/changeDocsPageType");const a={lists:{docx:{isLoading:!0,items:[]},xlsx:{isLoading:!0,items:[]},pptx:{isLoading:!0,items:[]}},sortingType:{sort:o.SortBy.DATE_LAST_VIEW,order:o.SortOrder.DESC},filterType:o.FilterType.ALL},s=i.createSlice({name:"docs",initialState:a,reducers:{updateList(e,t){const{type:n,ids:r,totalItems:i,totalMyItems:o,totalOtherItems:a}=t.payload;e.lists[n].items=r,void 0!==i&&(e.lists[n].totalItems=i,e.lists[n].totalMyItems=o,e.lists[n].totalOtherItems=a),e.lists[n].isLoading=!1},setIsLoading(e,t){const{type:n,isLoading:r}=t.payload;e.lists[n].isLoading=r},removeItem(e,t){const{type:n,id:r}=t.payload;e.lists[n].items=e.lists[n].items.filter(e=>e!==r)},setSortingType(e,t){e.sortingType=t.payload},moveClonedResources(e,t){Object.keys(e.lists).forEach(n=>{t.payload.forEach(({src:t,dst:r})=>{e.lists[n].items.includes(t.id)&&(e.lists[n].items=e.lists[n].items.filter(e=>e!==t.id),r.isInTrash||e.lists[n].items.push(r.id))})})},setFilterType(e,t){e.filterType=t.payload}}});r=s.actions,t.updateList=r.updateList,t.setIsLoading=r.setIsLoading,t.setSortingType=r.setSortingType,t.removeItem=r.removeItem,t.moveClonedResources=r.moveClonedResources,t.setFilterType=r.setFilterType,t.default=s.reducer}),(function(e,t,n){"use strict";n.r(t),n.d(t,"ALBUM_SLICES",(function(){return u})),n.d(t,"PHOTO_FILTERS",(function(){return c})),n.d(t,"isValidFilter",(function(){return l})),n.d(t,"getPhotosliceData",(function(){return d})),n.d(t,"getAllItems",(function(){return p})),n.d(t,"getItemsRange",(function(){return h})),n.d(t,"isEmpty",(function(){return m})),n.d(t,"getResourcePosition",(function(){return v})),n.d(t,"getClusterByIndex",(function(){return g})),n.d(t,"getResourceByIndexPath",(function(){return y})),n.d(t,"getNextIndexPath",(function(){return b})),n.d(t,"getPhotosliceNeighbour",(function(){return _})),n.d(t,"getNextPhotosliceResources",(function(){return O})),n.d(t,"getPhotoView",(function(){return E})),n.d(t,"isAlbumSlice",(function(){return w})),n.d(t,"hasPhotoStub",(function(){return S})),n.d(t,"getPhotosliceFilter",(function(){return C})),n.d(t,"getMetrikaSection",(function(){return x}));var r=n(9),i=n.n(r),o=n(34),a=n(122),s=n(46),u=["beautiful","unbeautiful","camera","screenshots","videos"],c=[o.PHOTOSLICE_FILTERS.ONLY_FROM_FOLDERS,o.PHOTOSLICE_FILTERS.ONLY_UNLIM],l=function(e){return!!e&&(u.includes(e)||c.includes(e))},d=function(e){var t=e.photoslice;return{clusters:(t=void 0===t?{}:t).clusters,clustersByIds:t.clustersByIds,filter:e.page.filter}},f=Object(s.createSelectorCreator)(s.defaultMemoize,(function(e,t){return e.clusters===t.clusters&&e.clustersByIds===t.clustersByIds&&e.filter===t.filter}))(d,(function(e){return e})),p=Object(s.createSelector)(f,(function(e){var t=e.clusters,n=e.clustersByIds,r=e.filter,i=(t||[]).map((function(e){return n[e]}));return l(r)&&(i=i.filter((function(e){return e.albums&&isFinite(e.albums[r])&&e.albums[r]>0})).map((function(e){var t=Object.assign({},e);return t.size=e.albums[r],t.items&&(t.items=t.items.filter((function(e){return e.albums&&e.albums.includes(r)}))),t}))),i})),h=function(e,t,n,r){for(var o=p(e),a=e.resources,s=e.statesContext,u=s.selected,c=s.highlighted,l=p(e),d={},f=function(e){var s=l[e];d[e]={resources:{}};var f=r.find((function(t){return t.clusterIndexes.from===e}));if(f)if(f.clusterIndexes.from===f.clusterIndexes.to)d[e].title=i.a.pick(s,["from","to","city","streets"]),d[e].title.clusterIds=[s.id];else{for(var p=[],h=f.clusterIndexes.from;h<=f.clusterIndexes.to;h++)p.push(o[h]);var m,v,g=p[p.length-1].from,y=p[0].to;if(y-g<=6048e5){var b=p.map((function(e){return e.city})).filter(Boolean),_=i.a.uniq(b);_.length>1?m=_.join(", "):1===_.length&&(m=_[0],v=i.a.uniq(p.reduce((function(e,t){var n=t.streets;return e.concat(n||[])}),[])))}d[e].title={clusterIds:p.map((function(e){return e.id})),from:g,to:y,city:m,streets:v}}for(var O=e===t.clusterIndex?t.resourceIndex:0,E=e===n.clusterIndex?n.resourceIndex:s.size-1,w=O;w<=E;w++){var S=s.items&&s.items[w]&&s.items[w].id,C=S&&s.items?a[S]:null,x=i.a.get(C,"state.disabled");d[e].resources[w]={id:S,name:C&&C.name,loaded:Boolean(C),selected:!x&&u.includes(S),disabled:x,highlighted:c.includes(S),defaultPreview:i.a.get(C,"defaultPreview"),isPhotoUnlim:"photounlim"===i.a.get(C,"meta.storage_type"),isVideo:i.a.get(C,"canPlayVideo"),videoDuration:i.a.get(C,"meta.video_info.duration")}}},h=t.clusterIndex;h<=n.clusterIndex;h++)f(h);return d},m=Object(s.createSelector)(p,(function(e){return 0===e.length})),v=function(e,t){for(var n=t.clusterIndex,r=t.resourceIndex,i=t.diff,o=p(e),a=n,s=r,u=0,c=!1;Math.abs(u)<Math.abs(i)&&!c;){var l=o[a].size,d=i-u;s+d<0?0===a?(u-=s,s=0,c=!0):(u-=s+1,s=o[--a].size-1):s+d>l-1?a===o.length-1?(u+=l-s-1,s=l-1,c=!0):(a++,u+=l-s,s=0):(s+=d,u+=d)}return{clusterIndex:a,resourceIndex:s,diff:u}},g=function(e,t){return p(e)[t]},y=function(e,t){var n=p(e)[t.clusterIndex],r=i.a.get(n,"items[".concat(t.resourceIndex,"].id"));return r&&e.resources[r]},b=function(e,t,n){if(!e.photoslice)return null;var r=t.clusterIndex,i=t.resourceIndex,o=p(e);return n<0&&0===i?r<=0?null:{clusterIndex:r-1,resourceIndex:g(e,r-1).size-1}:n>0&&i===g(e,r).size-1?r>=o.length-1?null:{clusterIndex:r+1,resourceIndex:0}:{clusterIndex:r,resourceIndex:i+Math.sign(n)}},_=function(e,t,n){var r=p(e),o=e.photoslice,s=(o=void 0===o?{}:o).clustersByIds,u=o.clustersDeletedItems,c=e.resources,l=e.page.filter,d=c[t].clusterId;if(d&&!s[d]){var f=Object(a.g)(r,c[t]);d=f?r[f.clusterIndex]&&r[f.clusterIndex].id:void 0}var h,m,v,g=d&&Object(a.d)(r,d,(function(e){return e.id})),_=g&&r[g.index]&&r[g.index].items;if(!_)return{resource:null};if(g.found){var O=_.findIndex((function(e){return e.id===t}));if(-1===O&&u&&u[d]){var E=u[d].find((function(e){return e.id===t}));if(!E)return{resource:null};O=Object(a.i)(E.itemId,_)-1}else if(-1===O&&l&&i.a.get(c[t],"meta.albums_exclusions",[]).includes(l)){var w=s[d].items.findIndex((function(e){return e.id===t})),S=-1!==w&&s[d].items[w];S&&(O=Object(a.i)(S.itemId,_)-1)}h=b(e,{clusterIndex:g.index,resourceIndex:O},n)}else h=r.length?{clusterIndex:g.index,resourceIndex:0}:null;for(var C=!1;!m&&!C;)v=h&&y(e,h),!(m=Boolean(v))&&h&&(h=b(e,h,n)),C=!v||!h;return h?v?{resource:v}:{possiblyNotLoaded:!0}:{resource:null,possiblyNotLoaded:!1}},O=function(e,t,n,r){for(var i={resource:t},o=[];i.resource&&i.resource.clusterId&&o.length<n;)(i=_(e,i.resource.id,r)).resource&&i.resource.clusterId&&o.push(i.resource);return{resources:o,possiblyNotLoaded:i.possiblyNotLoaded}},E=function(e){var t=e.settings,n=e.page.filter;return t["".concat(n,"AlbumPhotoView")]||t.photoView},w=function(e){var t=e.page,n=t.idContext,r=t.filter;return"/photo"===n&&u.includes(r||"")},S=function(e){var t=e.page,n=t.filter;return"/photo"===t.idContext&&(m(e)&&(!n||u.includes(n)))},C=function(e){var t=e.page.filter;return c.includes(t)?t:o.PHOTOSLICE_FILTERS.ALL},x=function(e){return w(e)?["album-slice",e.page.filter]:["photo"]}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(475);t.HeaderContext=i.default.createContext({getI18nFn:()=>"",timeZone:"",tld:"ru",lang:o.SupportedLangs.ru,theme:"light",currentService:"",isLegoOnReact:!1,countMetrika:()=>null,LegoPopup:()=>null,morePopupProps:{},isB2bAdmin:!1,yandex360Link:""})}),(function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[q]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[G]||!!e.constructor[G]||f(e)||p(e))}function a(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:Y)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[q];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:p(e)?3:0}function u(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function l(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return V&&e instanceof Map}function p(e){return H&&e instanceof Set}function h(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=K(e);delete t[q];for(var n=Y(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){y(e)||i(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&a(e,(function(e,t){return v(t,!0)}),!0))}function g(){r(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=J[e];return t||r(18,e),t}function _(e,t){J[e]||(J[e]=t)}function O(){return U}function E(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function w(e){S(e),e.p.forEach(x),e.p=null}function S(e){e===U&&(U=e.l)}function C(e){return U={p:[],l:U,h:e,m:!0,_:0}}function x(e){var t=e[q];0===t.i||1===t.i?t.j():t.g=!0}function T(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.O||b("ES5").S(t,e,i),i?(n[q].P&&(w(t),r(4)),o(e)&&(e=P(t,e),t.l||j(t,e)),t.u&&b("Patches").M(n[q],e,t.u,t.s)):e=P(t,n,[]),w(t),t.u&&t.v(t.u,t.s),e!==$?e:void 0}function P(e,t,n){if(y(t))return t;var r=t[q];if(!r)return a(t,(function(i,o){return k(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return j(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=m(r.k):r.o;a(3===r.i?new Set(i):i,(function(t,o){return k(e,r,i,t,o,n)})),j(e,i,!1),n&&e.u&&b("Patches").R(r,n,e.u,e.s)}return r.o}function k(e,t,n,r,a,s){if(i(a)){var c=P(e,a,s&&t&&3!==t.i&&!u(t.D,r)?s.concat(r):void 0);if(l(n,r,c),!i(c))return;e.m=!1}if(o(a)&&!y(a)){if(!e.h.N&&e._<1)return;P(e,a),t&&t.A.l||j(e,a)}}function j(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&v(t,n)}function R(e,t){var n=e[q];return(n?h(n):e)[t]}function I(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function A(e){e.P||(e.P=!0,e.l&&A(e.l))}function D(e){e.o||(e.o=m(e.t))}function M(e,t,n){var r=f(t)?b("MapSet").T(t,n):p(t)?b("MapSet").F(t,n):e.O?(function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:O(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Z;n&&(i=[r],o=X);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u})(t,n):b("ES5").J(t,n);return(n?n.A:O()).p.push(r),r}function N(e){return i(e)||r(22,e),(function e(t){if(!o(t))return t;var n,r=t[q],i=s(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=L(t,i),r.I=!1}else n=L(t,i);return a(n,(function(t,i){r&&c(r.t,t)===i||l(n,t,e(i))})),3===i?new Set(n):n})(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}function F(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[q];return Z.get(t,e)},set:function(t){var n=this[q];Z.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][q];if(!i.P)switch(i.i){case 5:r(i)&&A(i);break;case 4:n(i)&&A(i)}}}function n(e){for(var t=e.t,n=e.k,r=Y(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==q){var a=t[o];if(void 0===a&&!u(t,o))return!0;var s=n[o],c=s&&s[q];if(c?c.t!==a:!d(s,a))return!0}}var l=!!t[q];return r.length!==Y(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var o={};_("ES5",{J:function(t,n){var r=Array.isArray(t),i=(function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=K(n);delete o[q];for(var a=Y(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)})(r,t),o={i:r?5:4,A:n?n.A:O(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,q,{value:o,writable:!0}),i},S:function(e,n,o){o?i(n)&&n[q].A===e&&t(e.p):(e.u&&(function e(t){if(t&&"object"==typeof t){var n=t[q];if(n){var i=n.t,o=n.k,s=n.D,c=n.i;if(4===c)a(o,(function(t){t!==q&&(void 0!==i[t]||u(i,t)?s[t]||e(o[t]):(s[t]=!0,A(n)))})),a(i,(function(e){void 0!==o[e]||u(o,e)||(s[e]=!1,A(n))}));else if(5===c){if(r(n)&&(A(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var d=i.length;d<o.length;d++)s[d]=!0;for(var f=Math.min(o.length,i.length),p=0;p<f;p++)void 0===s[p]&&e(o[p])}}}})(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.r(t);var B,U,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,H="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,$=z?Symbol.for("immer-nothing"):((B={})["immer-nothing"]=!0,B),G=z?Symbol.for("immer-draftable"):"__$immer_draftable",q=z?Symbol.for("immer-state"):"__$immer_state",Y=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames),K=Object.getOwnPropertyDescriptors||function(e){var t={};return Y(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},J={},Z={get:function(e,t){if(t===q)return e;var n=h(e);if(!u(n,t))return (function(e,t,n){var r,i=I(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0})(e,n,t);var r=n[t];return e.I||!o(r)?r:r===R(e.t,t)?(D(e),e.o[t]=M(e.A.h,r,e)):r},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var r=I(h(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=R(h(e),t),o=null==i?void 0:i[q];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(d(n,i)&&(void 0!==n||u(e.t,t)))return!0;D(e),A(e)}return e.o[t]=n,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==R(e.t,t)||t in e.t?(e.D[t]=!1,D(e),A(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},X={};a(Z,(function(e,t){X[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),X.deleteProperty=function(e,t){return Z.deleteProperty.call(this,e[0],t)},X.set=function(e,t,n){return Z.set.call(this,e[0],t,n,e[0])};var Q=new(function(){function e(e){this.O=W,this.N=!1,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var a=this;return function(e){var n=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(o))}))}}var s;if("function"!=typeof t&&r(6),void 0!==n&&"function"!=typeof n&&r(7),o(e)){var u=C(this),c=M(this,e,void 0),l=!0;try{s=t(c),l=!1}finally{l?w(u):S(u)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return E(u,n),T(e,u)}),(function(e){throw w(u),e})):(E(u,n),T(s,u))}if(!e||"object"!=typeof e){if((s=t(e))===$)return;return void 0===s&&(s=e),this.N&&v(s,!0),s}r(21,e)},t.produceWithPatches=function(e,t){var n,r,i=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){o(e)||r(8),i(e)&&(e=N(e));var t=C(this),n=M(this,e,void 0);return n[q].C=!0,S(t),n},t.finishDraft=function(e,t){var n=(e&&e[q]).A;return E(n,t),T(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!W&&r(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=b("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),ee=Q.produce,te=(Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q),ee),ne=n(415);function re(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ie="function"==typeof Symbol&&Symbol.observable||"@@observable",oe=function(){return Math.random().toString(36).substring(7).split("").join(".")},ae={INIT:"@@redux/INIT"+oe(),REPLACE:"@@redux/REPLACE"+oe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+oe()}};function se(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ue(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(re(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(re(1));return n(ue)(e,t)}if("function"!=typeof e)throw new Error(re(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(re(3));return o}function d(e){if("function"!=typeof e)throw new Error(re(4));if(u)throw new Error(re(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(re(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!se(e))throw new Error(re(7));if(void 0===e.type)throw new Error(re(8));if(u)throw new Error(re(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:ae.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error(re(10));i=e,f({type:ae.REPLACE})}})[ie]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(re(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[ie]=function(){return this},e},r}var ce=ue;function le(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!(function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:ae.INIT}))throw new Error(re(12));if(void 0===n(void 0,{type:ae.PROBE_UNKNOWN_ACTION()}))throw new Error(re(13))}))})(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],d=c(l,t);if(void 0===d){t&&t.type;throw new Error(re(14))}i[u]=d,r=r||d!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function de(e,t){return function(){return t(e.apply(this,arguments))}}function fe(e,t){if("function"==typeof e)return de(e,t);if("object"!=typeof e||null===e)throw new Error(re(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=de(i,t))}return n}function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(re(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=pe.apply(void 0,o)(n.dispatch),Object(ne.a)(Object(ne.a)({},n),{},{dispatch:r})}}}var me="NOT_FOUND";var ve=function(e,t){return e===t};var ge=(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,a=0,s={memoizeOptions:void 0},u=r.pop();if("object"==typeof u&&(s=u,u=r.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=s.memoizeOptions,l=void 0===c?n:c,d=Array.isArray(l)?l:[l],f=(function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t})(r),p=e.apply(void 0,[function(){return a++,u.apply(null,arguments)}].concat(d)),h=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return o=p.apply(null,e)}));return Object.assign(h,{resultFunc:u,memoizedResultFunc:p,dependencies:f,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),h}})((function(e,t){var n="object"==typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?ve:r,o=n.maxSize,a=void 0===o?1:o,s=n.resultEqualityCheck,u=(function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}})(i),c=1===a?(function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:me},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}})(u):(function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return me}return{get:r,put:function(t,i){r(t)===me&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}})(a,u);function l(){var t=c.get(arguments);if(t===me){if(t=e.apply(null,arguments),s){var n=c.getEntries().find((function(e){return s(e.value,t)}));n&&(t=n.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}));function ye(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var be=ye();be.withExtraArgument=ye;var _e=be;function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e,t,n){return(Se=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}})()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&we(i,n.prototype),i}).apply(null,arguments)}function Ce(e){var t="function"==typeof Map?new Map:void 0;return(Ce=function(e){if(null===e||!(function(e){return-1!==Function.toString.call(e).indexOf("[native code]")})(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Se(e,arguments,Ee(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),we(n,e)})(e)}n.d(t,"MiddlewareArray",(function(){return Pe})),n.d(t,"configureStore",(function(){return Ne})),n.d(t,"createAction",(function(){return Le})),n.d(t,"createAsyncThunk",(function(){return Xe})),n.d(t,"createEntityAdapter",(function(){return qe})),n.d(t,"createImmutableStateInvariantMiddleware",(function(){return je})),n.d(t,"createReducer",(function(){return ze})),n.d(t,"createSerializableStateInvariantMiddleware",(function(){return Ae})),n.d(t,"createSlice",(function(){return Ve})),n.d(t,"findNonSerializableValue",(function(){return Ie})),n.d(t,"getDefaultMiddleware",(function(){return De})),n.d(t,"getType",(function(){return Be})),n.d(t,"isImmutableDefault",(function(){return ke})),n.d(t,"isPlain",(function(){return Re})),n.d(t,"nanoid",(function(){return Ye})),n.d(t,"unwrapResult",(function(){return Qe})),n.d(t,"createNextState",(function(){return te})),n.d(t,"current",(function(){return N})),n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return ae})),n.d(t,"applyMiddleware",(function(){return he})),n.d(t,"bindActionCreators",(function(){return fe})),n.d(t,"combineReducers",(function(){return le})),n.d(t,"compose",(function(){return pe})),n.d(t,"createStore",(function(){return ue})),n.d(t,"legacy_createStore",(function(){return ce})),n.d(t,"createSelector",(function(){return ge}));var xe="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?pe:pe.apply(null,arguments)};function Te(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var Pe=(function(e){function t(){return e.apply(this,arguments)||this}!(function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t})(t,e);var n=t.prototype;return n.concat=function(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Se(t,(n=e.prototype.concat).call.apply(n,[this].concat(i)))},n.prepend=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?Se(t,n[0].concat(this)):Se(t,n.concat(this))},t})(Ce(Array));function ke(e){return"object"!=typeof e||null===e||void 0===e}function je(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function Re(e){return void 0===e||null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||Array.isArray(e)||Te(e)}function Ie(e,t,n,r,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=Re),void 0===i&&(i=[]),!n(e))return{keyPath:t.join(".")||"<root>",value:e};if("object"!=typeof e||null===e)return!1;var a=null!=r?r(e):Object.entries(e),s=i.length>0,u=a,c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var d;if(c){if(l>=u.length)break;d=u[l++]}else{if((l=u.next()).done)break;d=l.value}var f=d,p=f[0],h=f[1],m=t.concat(p);if(!(s&&i.indexOf(m.join("."))>=0)){if(!n(h))return{keyPath:m.join("."),value:h};if("object"==typeof h&&(o=Ie(h,m,n,r,i)))return o}}return!1}function Ae(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function De(e){void 0===e&&(e={});var t=e,n=t.thunk,r=void 0===n||n,i=(t.immutableCheck,t.serializableCheck,new Pe);return r&&(!(function(e){return"boolean"==typeof e})(r)?i.push(_e.withExtraArgument(r.extraArgument)):i.push(_e)),i}var Me=!0;function Ne(e){var t,n=function(e){return De(e)},r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,c=void 0===u||u,l=r.preloadedState,d=void 0===l?void 0:l,f=r.enhancers,p=void 0===f?void 0:f;if("function"==typeof o)t=o;else{if(!Te(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=le(o)}var h=he.apply(void 0,"function"==typeof s?s(n):s),m=pe;c&&(m=xe(Oe({trace:!Me},"object"==typeof c&&c)));var v=[h];return Array.isArray(p)?v=[h].concat(p):"function"==typeof p&&(v=p(v)),ue(t,d,m.apply(void 0,v))}function Le(e,t){function n(){if(t){var n=t.apply(void 0,arguments);if(!n)throw new Error("prepareAction did not return an object");return Oe({type:e,payload:n.payload},"meta"in n&&{meta:n.meta},{},"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Fe(e){return["type","payload","error","meta"].indexOf(e)>-1}function Be(e){return""+e}function Ue(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function ze(e,t,n,r){void 0===n&&(n=[]);var a="function"==typeof t?Ue(t):[t,n,r],s=a[0],u=a[1],c=a[2];return function(t,n){void 0===t&&(t=e);var r=[s[n.type]].concat(u.filter((function(e){return(0,e.matcher)(n)})).map((function(e){return e.reducer})));return 0===r.filter((function(e){return!!e})).length&&(r=[c]),r.reduce((function(e,t){if(t){if(i(e)){var r=t(e,n);return void 0===r?e:r}if(o(e))return te(e,(function(e){return t(e,n)}));var a=t(e,n);if(void 0===a)throw Error("A case reducer on a non-draftable value must not return undefined");return a}return e}),t)}}function Ve(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var r=e.reducers||{},i=void 0===e.extraReducers?[]:"function"==typeof e.extraReducers?Ue(e.extraReducers):[e.extraReducers],o=i[0],a=void 0===o?{}:o,s=i[1],u=void 0===s?[]:s,c=i[2],l=void 0===c?void 0:c,d={},f={},p={};Object.keys(r).forEach((function(e){var n,i,o=r[e],a=(function(e,t){return e+"/"+t})(t,e);"reducer"in o?(n=o.reducer,i=o.prepare):n=o,d[e]=n,f[a]=n,p[e]=i?Le(a,i):Le(a)}));var h=ze(n,Oe({},a,{},f),u,l);return{name:t,reducer:h,actions:p,caseReducers:d}}function He(e){return function(t,n){function r(e){return (function(e){return Te(e)&&"string"==typeof e.type&&Object.keys(e).every(Fe)})(e)}var o=function(t){r(n)?e(n.payload,t):e(n,t)};return i(t)?(o(t),t):te(t,o)}}function We(e,t){return t(e)}function $e(e){function t(t,n){var r=We(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){Array.isArray(e)||(e=Object.values(e));var r=e,i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}t(a,n)}}function r(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function i(t,n){var r={},i={};(t.forEach((function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:Oe({},i[e.id]?i[e.id].changes:null,{},e.changes)})})),(t=Object.values(i)).length>0)&&(t.filter((function(t){return (function(t,n,r){var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=We(o,e),s=a!==n.id;return s&&(t[n.id]=a,delete r.entities[n.id]),r.entities[a]=o,s})(r,t,n)})).length>0&&(n.ids=n.ids.map((function(e){return r[e]||e}))))}function o(t,r){Array.isArray(t)||(t=Object.values(t));var o=[],a=[],s=t,u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var d=l,f=We(d,e);f in r.entities?a.push({id:f,changes:d}):o.push(d)}i(a,r),n(o,r)}return{removeAll:(function(e){var t=He((function(t,n){return e(n)}));return function(e){return t(e,void 0)}})((function(e){Object.assign(e,{ids:[],entities:{}})})),addOne:He(t),addMany:He(n),setAll:He((function(e,t){Array.isArray(e)||(e=Object.values(e)),t.ids=[],t.entities={},n(e,t)})),updateOne:He((function(e,t){return i([e],t)})),updateMany:He(i),upsertOne:He((function(e,t){return o([e],t)})),upsertMany:He(o),removeOne:He((function(e,t){return r([e],t)})),removeMany:He(r)}}function Ge(e,t){var n=$e(e);function r(t,n){Array.isArray(t)||(t=Object.values(t));var r=t.filter((function(t){return!(We(t,e)in n.entities)}));0!==r.length&&a(r,n)}function i(t,n){var r=[];t.forEach((function(t){return (function(t,n,r){if(!(n.id in r.entities))return!1;var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=We(o,e);return delete r.entities[n.id],t.push(o),a!==n.id})(r,t,n)})),0!==r.length&&a(r,n)}function o(t,n){Array.isArray(t)||(t=Object.values(t));var o=[],a=[],s=t,u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var d=l,f=We(d,e);f in n.entities?a.push({id:f,changes:d}):o.push(d)}i(a,n),r(o,n)}function a(n,r){n.sort(t),n.forEach((function(t){r.entities[e(t)]=t}));var i=Object.values(r.entities);i.sort(t);var o=i.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(r.ids,o)||(r.ids=o)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:He((function(e,t){return r([e],t)})),updateOne:He((function(e,t){return i([e],t)})),upsertOne:He((function(e,t){return o([e],t)})),setAll:He((function(e,t){Array.isArray(e)||(e=Object.values(e)),t.entities={},t.ids=[],r(e,t)})),addMany:He(r),updateMany:He(i),upsertMany:He(o)}}function qe(e){void 0===e&&(e={});var t=Oe({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer;return Oe({selectId:n,sortComparer:r},{getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},{},{getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=ge(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),i=function(e,t){return t},o=function(e,t){return e[t]},a=ge(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:a,selectById:ge(n,i,o)};var s=ge(e,n);return{selectIds:ge(e,t),selectEntities:s,selectAll:ge(e,r),selectTotal:ge(e,a),selectById:ge(s,i,o)}}},{},r?Ge(n,r):$e(n))}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var Ye=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Ke=["name","message","stack","code"],Je=function(e){this.value=e},Ze=function(e){if("object"==typeof e&&null!==e){var t={},n=Ke,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;"string"==typeof e[a]&&(t[a]=e[a])}return t}return{message:String(e)}};function Xe(e,t,n){var r=Le(e+"/fulfilled",(function(e,t,n){return{payload:e,meta:{arg:n,requestId:t}}})),i=Le(e+"/pending",(function(e,t){return{payload:void 0,meta:{arg:t,requestId:e}}})),o=Le(e+"/rejected",(function(e,t,n,r){var i=!!e&&"AbortError"===e.name,o=!!e&&"ConditionError"===e.name;return{payload:r,error:Ze(e||"Rejected"),meta:{arg:n,requestId:t,aborted:i,condition:o}}})),a="undefined"!=typeof AbortController?AbortController:(function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){0},e})();return Object.assign((function(e){return function(s,u,c){var l,d=Ye(),f=new a,p=new Promise(function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))}),h=!1,m=(function(){try{var a,l=function(e){return m?e:(n&&!n.dispatchConditionRejection&&o.match(a)&&a.meta.condition||s(a),a)},m=!1,v=(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n})((function(){if(n&&n.condition&&!1===n.condition(e,{getState:u,extra:c}))throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return h=!0,s(i(d,e)),Promise.resolve(Promise.race([p,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:d,signal:f.signal,rejectWithValue:function(e){return new Je(e)}})).then((function(t){return t instanceof Je?o(null,d,e,t.value):r(t,d,e)}))])).then((function(e){a=e}))}),(function(t){a=o(t,d,e)}));return Promise.resolve(v&&v.then?v.then(l):l(v))}catch(e){return Promise.reject(e)}})();return Object.assign(m,{abort:function(e){h&&(l=e,f.abort())}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}function Qe(e){if("error"in e)throw e.error;return e.payload}F()}),(function(e,t,n){var r=n(450),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1329)),o=r(n(63)),a=n(34);t.getUser=(({user:e})=>e),t.isAliasForUserAddress=(({user:{emails:e}},t)=>Boolean(e)&&e.includes(i.default.normalize(t))),t.isUnAuth=(({user:{uid:e}})=>!e),t.isUserCanHaveDisk=(e=>{const{user:{isLite:n,hasPassword:r,isSSO:i}}=e;return!t.isUnAuth(e)&&!n&&(r||i)});t.getLoginOrUpgradeUrl=((e,n)=>{const{config:{links:{passport:{login:r,light2full:i,postregistration:a}}},page:{currentUrl:s},user:{isLite:u,hasPassword:c,isSSO:l}}=e;let d;return t.isUnAuth(e)?d=r:u?d=i:c||l||(d=a),d?o.default.addParams(d,{retpath:((e,t)=>{let n=t;return n.startsWith("/")&&(n=`https://${o.default.getHost(e)}${n}`),n})(s,n),backpath:s}):s}),t.getB2bRestrictionStatus=(e=>e.user.b2b_restriction_status),t.shouldRestrictByFreeB2b=(e=>t.getB2bRestrictionStatus(e)===a.B2B_RESTRICTION_STATUSES.RESTRICT),t.canShowB2bFreeWarningScreen=(e=>{const{environment:{agent:{isMobile:t}},user:{b2b_restriction_status:n,isPDD:r}}=e;return!!r&&(n===a.B2B_RESTRICTION_STATUSES.RESTRICT||n===a.B2B_RESTRICTION_STATUSES.RESTRICT_NOTIFICATION||n===a.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION&&t)})}),(function(e,t,n){var r=n(1324),i=n(1325),o=n(975),a=n(1326);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h}));var r=n(24),i=n(46),o=n(34),a=o.SEARCH_SCOPES.DISK,s=["/trash","/journal"],u=function(e){var t=e.page,n=t.search.scope,i=t.idContext,o=Object(r.getRootOfScopeCurrentVirtualDisk)(i);return n||(s.includes(i)?i:o||a)},c=function(e){return e.suggest.active},l=Object(i.createSelector)(u,(function(e){return s.includes(e)||Object(r.isVirtualDiskPath)(e)})),d=Object(i.createSelector)(l,c,(function(e,t){return t&&!e})),f=(Object(i.createSelector)(d,(function(e){return e.page.dialog}),(function(e,t){return e&&!t})),Object(i.createSelector)(u,(function(e){if(Object(r.isVirtualDiskTrash)(e))return"Поиск по Корзине";if(Object(r.isVirtualDiskJournal)(e))return"Поиск по Истории";if(Object(r.isVirtualDiskPath)(e))return"Поиск в общем диске";switch(e){case o.SEARCH_SCOPES.TRASH:return"Поиск по Корзине";case o.SEARCH_SCOPES.MAIL:return"Поиск по вложениям";case o.SEARCH_SCOPES.JOURNAL:return"Поиск по Истории";default:return"Поиск в моём Диске"}}))),p=function(e){var t=e.suggest.sessionId;return Boolean(t)},h=function(e){return{sessionId:e.suggest.sessionId}}}),(function(e,t){var n=Array.isArray;e.exports=n}),(function(e,t){e.exports=ReactDOM}),(function(e,t,n){"use strict";e.exports=n(841)}),(function(e,t,n){"use strict";var r=n(62),i=n(77),o=n(82),a=n(50);function s(e){return["table","td","th"].indexOf(Object(i.a)(e))>=0}var u=n(131),c=n(66);function l(e){if(!Object(a.b)(e)||"fixed"===Object(o.a)(e).position)return null;var t=e.offsetParent;if(t){var n=Object(c.a)(t);if("body"===Object(i.a)(t)&&"static"===Object(o.a)(t).position&&"static"!==Object(o.a)(n).position)return n}return t}function d(e){for(var t=Object(r.a)(e),n=l(e);n&&s(n)&&"static"===Object(o.a)(n).position;)n=l(n);return n&&"body"===Object(i.a)(n)&&"static"===Object(o.a)(n).position?t:n||(function(e){for(var t=Object(u.a)(e);Object(a.b)(t)&&["html","body"].indexOf(Object(i.a)(t))<0;){var n=Object(o.a)(t);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return t;t=t.parentNode}return null})(e)||t}n.d(t,"a",(function(){return d}))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(75),i=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object(r.a)()&&requestAnimationFrame((function(){t.forEach((function(t){void 0!==e&&void 0!==t&&("function"==typeof t?t(e.current):t.current=e.current)}))})),e};function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}))}}}),(function(e,t){var n;n=(function(){return this})();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n}),(function(e,t,n){var r=n(525),i=Math.pow(2,53)-1;function o(e,t){try{this.unitNames=e||["байт","КБ","МБ","ГБ","ТБ"],this.separator=t||","}catch(e){}this.format=this.format.bind(this)}o.prototype={create:function(e,t){return new o(e,t)},format:function(e){((e=Math.floor(parseFloat(e)))<0||e>i||isNaN(e))&&(e=0);for(var t=new d(e,this.unitNames,this.separator),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var a=0,s=r.length;a<s;a++){var u=r[a];if("precision"===u||"length"===u){var c=parseInt(r[a+1],10);isNaN(c)||(t.format(u,c),a++)}else t.format(u)}return t.getString()},formatSpace:function(e){return r.getSpaceString(e,["байт","КБ","МБ","ГБ","ТБ"],",",{length:3})}};var a=1024,s=1024*a,u=1024*s,c=1024*u,l=[1,a,s,u,c];function d(e,t,n){this.bytes=e,this.unitNames=t,this.separator=n,this.units="best unit",this.fixed=!1,this.withUnit=!0,this.withNumber=!0,this.calculation="precise"}o.prototype.B=1,o.prototype.KB=a,o.prototype.MB=s,o.prototype.GB=u,o.prototype.TB=c,o.prototype.isOverdraft=function(e){return e.used-e.limit>=u};var f={"best unit":function(){this.units="best unit"},GB:function(){this.units=u},MB:function(){this.units=s},KB:function(){this.units=a},fixed:function(){this.fixed=!0},float:function(){this.fixed=!1},int:function(){this.precision=0},precision:function(e){this.precision=e},number:function(){this.withUnit=!1},unit:function(){this.withNumber=!1},precise:function(){this.calculation="precise"},rough:function(){this.calculation="rough"},length:function(e){this.calculation="length",this.length=e}};function p(e,t){return e>=t}function h(e,t){var n;return{number:e/=n="best unit"===t?(function(e){for(var t=l.length;t>=0;t--){var n=l[t];if(p(e,n))return n}return l[0]})(e):t,unit:n}}function m(e){return e.replace(/\.[0-9]*/,"")}function v(e,t){var n=m(e),r=e.replace(/[0-9]*\.?/,"").slice(0,t);return n+(0!==r?"."+r:"")}d.prototype.format=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length){var r=t[0],i=t.slice(1);"function"==typeof f[r]&&f[r].apply(this,i)}return this},d.prototype.getString=function(){var e=h(this.bytes,this.units),t=this.getNumber().toString();return t=this.localize(t,e.unit,this.withUnit,this.withNumber).replace(".",this.separator)},d.prototype.getNumber=function(){var e=h(this.bytes,this.units),t=(function(e,t,n,r,i){if(!r)switch(t){case"length":var o=m(e).length;e=v(e,o<=i?i-o:0);break;case"precise":n<=a&&(e=v(e,0)),n===s&&(e=v(e,1)),n>=u&&(e=v(e,2));break;case"rough":(n===a||n===s||n===u&&m(e)>=100)&&(e=v(e,0)),n===u&&(e=v(e,1))}return e})(e.number.toString(),this.calculation,e.unit,this.precision,this.length);return t=(function(e,t,n){var r=e;if(void 0!==t)if(n)r=e.toFixed(t);else{var i=Math.pow(10,t);r=(Math.round(e*i)/i).toString()}return r})(parseFloat(t,10),this.precision,this.fixed)},d.prototype.getUnit=function(){return this.localizeUnit(h(this.bytes,this.units).unit)},d.prototype.localizeUnit=function(e){for(var t=0,n=l.length;t<n;t++)if(e===l[t])return this.unitNames[t]},d.prototype.localize=function(e,t,n,r){return n&&r?e=e+" "+this.localizeUnit(t):r||(e=this.localizeUnit(t)),e},e.exports=new o}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57),i=n(102),o=n(92),a=n(39);t.shouldRestrict=((e,t={})=>r.shouldRestrictByOverdraft(e,t)||i.shouldRestrictByFreeB2b(e)),t.shouldShowOverdraftFullscreen=(e=>!o.getIsInsideVirtualDisk(e)&&r.shouldNotifyOverdraft(e)&&!e.settings.closedOverdraftScreen),t.shouldShowOverdraftBlock=(e=>!a.isDocsPage(e)&&!o.getIsInsideVirtualDisk(e)&&r.shouldNotifyOverdraft(e)&&!e.settings.closedOverdraftBlock),t.shouldShowB2bFreeWarningFullscreen=(e=>!o.getIsInsideVirtualDisk(e)&&i.canShowB2bFreeWarningScreen(e)&&!e.settings.closedOverdraftScreen),t.shouldNotifyFreeB2b=(e=>{const{environment:{agent:{isMobile:t}},user:{b2b_restriction_status:n,isPDD:r}}=e;return!(a.isDocsPage(e)||t||!r||o.getIsInsideVirtualDisk(e))&&Boolean(n)})}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(174),v=n.n(m),g=n(0),y=n.n(g),b=n(11),_=n.n(b);n(1857);function O(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var E=(function(e){l()(n,e);var t=O(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getClassName",value:function(e){var t=this.props,n=t.size,r=t.cls,o=t.shadow,a=[];return r&&a.push(String(r)),_()()("file-icon").m(i()({size:n,shadow:o},e,!0)).mix(a)}},{key:"render",value:function(){var e,t=this.props,n=t.ext,r=t.type,i=t.mediatype;return e=["album","vd",v.a.virus].includes(r)?r:/^dir/.test(r)?(function(e){return e!==v.a.folderDefault&&-1!==v.a.folderTypes.indexOf(e)?e:v.a.folderDefault})(r):(function(e,t){return"."!==(e=e?e.toLowerCase():"")[0]&&(e="."+e),t=t?t.toLowerCase():"",v.a.extnames[e]||v.a.mediatypes[t]||v.a.default})(n,i),y.a.createElement("span",{className:this._getClassName(e)})}}]),n})(g.Component);E.defaultProps={size:"s",shadow:!1},t.default=E}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=function(e){e.preventDefault()},i=function(e){return e.resources.indexOf(e.activeResource)},o=function(e,t){var n=i(e),r=e.fetchResourcesThreshold||10;return-1===t?n<r&&Boolean(e.possiblyHasPrevious):n>e.resources.length-r-1&&Boolean(e.possiblyHasNext)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getEnvironment",(function(){return r})),n.d(t,"getLocale",(function(){return i})),n.d(t,"isIosSafariSelector",(function(){return o})),n.d(t,"isMacSafariSelector",(function(){return a})),n.d(t,"shouldShowYaPlus",(function(){return s})),n.d(t,"getOsId",(function(){return u}));var r=function(e){return e.environment},i=function(e){return e.environment.session.locale},o=function(e){var t=e.environment.agent,n=t.OSFamily,r=t.BrowserBase;return"iOS"===n&&"Safari"===r},a=function(e){var t=e.environment.agent,n=t.OSFamily,r=t.BrowserName;return"MacOS"===n&&"Safari"===r},s=function(e){var t,n=e.environment.session,r=n.locale,i=n.tld,o=n.region.country_tld,a=e.user,s=a.hasYaPlus,u=a.isWS,c=a.isPDD,l=e.settings,d=["ru","kz","by","uz"];return!Boolean(null===l||void 0===l||null===(t=l.roNoB2cTariffPromo)||void 0===t?void 0:t.enabled)&&!u&&!c&&"ru"===r&&d.includes(i)&&(d.includes(o)||s)},u=function(e){var t=e.environment.agent,n=t.OSFamily,r=t.isMobile,i=n.toLowerCase();if(r)switch(i){case"android":case"ios":return i;case"windowsphone":return"winphone"}switch(i){case"windows":return"win";case"macos":return"mac";default:return"linux"}}}),(function(e,t,n){"use strict";var r=n(119),i=n(21),o=n(62),a=n(66),s=n(168);var u=n(82),c=n(169);var l=n(172),d=n(108),f=n(50),p=n(131),h=n(251),m=n(77);function v(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function g(e,t){return t===i.o?v(function(e){var t=Object(o.a)(e),n=Object(a.a)(e),r=t.visualViewport,i=n.clientWidth,u=n.clientHeight,c=0,l=0;return r&&(i=r.width,u=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=r.offsetLeft,l=r.offsetTop)),{width:i,height:u,x:c+Object(s.a)(e),y:l}}(e)):Object(f.b)(t)?(function(e){var t=Object(r.a)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t})(t):v(function(e){var t=Object(a.a)(e),n=Object(c.a)(e),r=e.ownerDocument.body,i=Math.max(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Math.max(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-n.scrollLeft+Object(s.a)(e),d=-n.scrollTop;return"rtl"===Object(u.a)(r||t).direction&&(l+=Math.max(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:l,y:d}}(Object(a.a)(e)))}function y(e,t,n){var r="clippingParents"===t?(function(e){var t=Object(l.a)(Object(p.a)(e)),n=["absolute","fixed"].indexOf(Object(u.a)(e).position)>=0&&Object(f.b)(e)?Object(d.a)(e):e;return Object(f.a)(n)?t.filter((function(e){return Object(f.a)(e)&&Object(h.a)(e,n)&&"body"!==Object(m.a)(e)})):[]})(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=g(e,n);return t.top=Math.max(r.top,t.top),t.right=Math.min(r.right,t.right),t.bottom=Math.min(r.bottom,t.bottom),t.left=Math.max(r.left,t.left),t}),g(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var b=n(255),_=n(252),O=n(254);function E(e,t){void 0===t&&(t={});var n=t,o=n.placement,s=void 0===o?e.placement:o,u=n.boundary,c=void 0===u?i.d:u,l=n.rootBoundary,d=void 0===l?i.o:l,p=n.elementContext,h=void 0===p?i.i:p,m=n.altBoundary,g=void 0!==m&&m,E=n.padding,w=void 0===E?0:E,S=Object(_.a)("number"!=typeof w?w:Object(O.a)(w,i.b)),C=h===i.i?i.j:i.i,x=e.elements.reference,T=e.rects.popper,P=e.elements[g?C:h],k=y(Object(f.a)(P)?P:P.contextElement||Object(a.a)(e.elements.popper),c,d),j=Object(r.a)(x),R=Object(b.a)({reference:j,element:T,strategy:"absolute",placement:s}),I=v(Object.assign(Object.assign({},T),R)),A=h===i.i?I:j,D={top:k.top-A.top+S.top,bottom:A.bottom-k.bottom+S.bottom,left:k.left-A.left+S.left,right:A.right-k.right+S.right},M=e.modifiersData.offset;if(h===i.i&&M){var N=M[s];Object.keys(D).forEach((function(e){var t=[i.k,i.c].indexOf(e)>=0?1:-1,n=[i.m,i.c].indexOf(e)>=0?"y":"x";D[e]+=N[n]*t}))}return D}n.d(t,"a",(function(){return E}))}),(function(e,t,n){n(1133);var r=ns.Model.get("config");e.exports=r&&r.getData()||{}}),(function(e,t,n){"use strict";function r(e){return e.split("-")[1]}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";function r(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){var r=n(9),i=n(571),o=n(144),a=n(23);function s(e,t,n){var o=r.clone(n);t&&(o.gid=t);var a=ns.Model.get(e,{id:i()}).setData(o);return ns.Model.get("operations").insert(a),a.init(),a}function u(e){var t=e.type,n=e.subtype;if("move"===t){var r=e.data.source&&a.normalize(e.data.source),i=e.data.target&&a.normalize(e.data.target);return a.dirname(r)!==a.dirname(i)?"move":"rename"}if("trash"===t){if("append"===n||"droppath"===n)return"delete";if("drop"===n)return"cleanTrash";if("restore"===n)return"restore"}return"copy"===t&&"copy"}n(1343),e.exports={create:function(e,t){var n=this.initialize(e,t);return r.isArray(n)?r.invokeMap(n,"run"):n.run(),n},promisify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["status.done"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["status.failed","status.rejected","status.canceled"];return new Promise(function(r,i){var o=!1,a=function(){o||(o=!0,r())},s=function(){o||(o=!0,i(e.get(".reasonText")||e.get(".reason")||"operation failed"))};t.forEach((function(t){return e.on(t,a)})),n.forEach((function(t){return e.on(t,s)}))})},initialize:function(e,t){return t=t||{},/^operation/.test(e)||(e="operation"+o.capitalize(e)),r.isArray(t)?r.map(t,r.partial(s,e,i())):s(e,null,t)},initializeRemote:function(e){var t="operationRemote"+o.capitalize(e);return ns.Model.get(t,{id:i()})},catchUp:function(e){var t=u(e);if(t){if("cleanTrash"===t){var r=n(18).default,a=n(402),s=a.startOperationCleanTrash,c=a.onRequestCleanTrash;return r().dispatch(s()),void r().dispatch(c(e.id))}var l=ns.Model.get("operations"),d=e.id;if(!l.models.some((function(e){return e.data.oid===d}))){t="operation"+o.capitalize(t);var f=ns.Model.get(t,{id:i()}).setData({oid:e.id});l.insert(f),f.initFromMessage(e)}}},getActiveOperations:function(e){return ns.Model.get("operations").models.filter((function(t){return t.getType()===e&&t.isActive()}))},completeRemote:function(e,t){e.setData(t);var n=e.toLocal();r.isArray(n)?r.invokeMap(n,"complete"):n&&n.complete()},getTypeNormalized:u}}),(function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"h",(function(){return O})),n.d(t,"b",(function(){return E})),n.d(t,"m",(function(){return w})),n.d(t,"l",(function(){return S})),n.d(t,"k",(function(){return C})),n.d(t,"a",(function(){return x})),n.d(t,"e",(function(){return T})),n.d(t,"c",(function(){return P})),n.d(t,"g",(function(){return k})),n.d(t,"j",(function(){return j}));var r=n(10),i=n.n(r),o=n(103),a=n.n(o),s=n(134),u=n(494),c=n(23),l=n(9),d=n.n(l);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)})(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){return e},m=function(e,t){return t<e.from?-1:t>e.to?1:0},v=function(e){var t=e.split("_").map((function(e){return parseInt(e,10)})),n=a()(t,2);return{from:n[0],to:n[1]}},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,r=v(t),i=r.from,o=r.to,a=Object(s.sortedIndex)(e,t,(function(e){var t=v(n(e)),r=t.from,a=t.to;return r>=i&&a>=o?-1:1}));return a&&n(e[a-1])===t?{found:!0,index:a-1}:{found:!1,index:a}},y=function(e,t){return Object(s.sortedIndex)(t,{itemId:e},(function(e,t){return e.itemId>=t.itemId?-1:1}))},b=function(e,t){var n=y(e,t);return n&&t[n-1].itemId===e?n-1:-1},_=function(e,t){return t.findIndex((function(t){return t.id===e}))},O=function(e,t){var n={clusters:{},revision:e.revision};return e.items.forEach((function(e){var r=e.base_revision;t>r||(n.revision=e.revision,e.index_changes&&e.index_changes.forEach((function(e){var t=e.cluster_id,r=d.a.get(e.data,"albums",[]).reduce((function(e,t){return Object.assign(e,i()({},t.album,t))}),{}),o=Object.assign({id:t},d.a.pick(e.data,["size","from","to","city","streets"]),{albums:r});switch(n.clusters[t]||(n.clusters[t]={}),e.change_type){case"insert":n.clusters[t]={insert:o};break;case"update":if(n.clusters[t].insert){var a=n.clusters[t].insert;n.clusters[t].insert=Object.assign(a,o,{albums:Object.assign(d.a.get(a,"albums",{}),o.albums)})}else{var s=n.clusters[t].update||{};n.clusters[t].update=Object.assign(s,o,{albums:Object.assign(d.a.get(s,"albums",{}),o.albums)})}break;case"delete":n.clusters[t]={delete:!0}}})),e.items_changes&&e.items_changes.forEach((function(e){var t=e.cluster_id,r=e.item_id;if(n.clusters[t]||(n.clusters[t]={}),!n.clusters[t].delete)switch(n.clusters[t].items||(n.clusters[t].items={}),n.clusters[t].items[r]||(n.clusters[t].items[r]={}),e.change_type){case"insert":var i=Object.assign({id:Object(c.normalize)(e.data.path),itemId:r},d.a.pick(e.data,["height","width","beauty","albums"]));if(n.clusters[t].insert){n.clusters[t].insert.items||(n.clusters[t].insert.items=[]);var o=y(i.itemId,n.clusters[t].insert.items);n.clusters[t].insert.items.splice(o,0,i),n.clusters[t].items[r].delete&&delete n.clusters[t].items[r].delete}else n.clusters[t].items[r]={insert:i};break;case"update":if(!e.data||!e.data.path)return;n.clusters[t].items[r]={update:Object.assign({id:Object(c.normalize)(e.data.path),itemId:r},d.a.pick(e.data,"albums"))};break;case"delete":n.clusters[t].items[r]={delete:!0}}})))})),n},E=function(e,t){if(Object.assign(e,d.a.pick(t,["items","size","from","to"])),t.streets){var n=e.streets||[];t.streets.forEach((function(e){var t=e.place_index;switch(e.change_type){case"insert":n.splice(t,0,e.data);break;case"delete":n.splice(t,1);break;case"update":n.splice(t,1,e.data)}})),n.length?e.streets=n:delete e.streets}if(t.city)switch(t.city.change_type){case"insert":case"update":e.city=t.city.data;break;case"delete":delete e.city}if(t.albums){var r=Object.assign({},e.albums);for(var i in t.albums){var o=t.albums[i];switch(o.change_type){case"insert":case"update":r[o.album]=o.count;break;case"delete":delete r[o.album]}}e.albums=Object(u.getAlbums)(r)}},w=function(e,t){var n=b(e,t);if(-1===n)return t;var r=t.slice(0);return r.splice(n,1),r},S=function(e,t){var n=g(t,e),r=n.index;if(!n.found)return t;var i=t.slice(0);return i.splice(r,1),i},C=function(e,t){var n=g(t,e),r=n.index;if(!n.found){var i=t.slice(0);return i.splice(r,0,e),i}return t},x=function(e,t){var n=b(e.itemId,t);if(-1===n){var r=t.slice(),i=y(e.itemId,r);return r.splice(i,0,e),r}var o=t[n],a=d.a.get(o,"albums",[]),s=e.albums;if(o.id!==e.id||s&&!d.a.isEqual(a,s)){var u=t.slice();return u[n]=Object.assign({},u[n],{id:e.id,albums:s||u[n].albums}),u}return t},T=function(e,t){return Object(s.sortedFind)(e,t,m)},P=function(e,t){return e[T(e,t)]},k=function(e,t){if(t.meta&&t.meta.photoslice_time){var n=T(e,1e3*t.meta.photoslice_time);if(!(n<0)&&e[n].items){var r=e[n].items.findIndex((function(e){return e.id===t.id}));if(!(r<0))return{clusterIndex:n,resourceIndex:r}}}},j=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=f(e);try{for(o.s();!(n=o.n()).done;)for(var s=a()(n.value,2),u=s[0],c=s[1],l=u.clusterIndex;l<=c.clusterIndex;l++){var d=l,p=t[d],h=0,m=p.size-1;if(d===u.clusterIndex&&(h=u.resourceIndex),d===c.clusterIndex&&(m=c.resourceIndex),p.items)for(var v=h;v<=m;v++)r(p,p.items[v],{clusterIndex:d,resourceIndex:v});else i(p,h,m)}}catch(e){o.e(e)}finally{o.f()}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(3),a=n(89);n(1412);const s=o.compose(o.composeU(a.withSizeS,a.withSizeM,a.withSizeL,a.withSizeXL,a.withSizeXXL),o.composeU(a.withViewBrand,a.withViewPremium,a.withViewAction,a.withViewPseudo,a.withViewClear,a.withViewRaised,a.withViewDefault,a.withViewLink),o.composeU(a.withPinCircleCircle),a.withWidthMax,o.composeU(a.withTypeLink,a.withTypeSubmit))(a.Button);t.default=s,t.buttonIconProvider=(e=>t=>i.default.createElement("span",{className:t},i.default.createElement(e,null)))}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(28),a=n(31),s=(n(1888),function(e){var t=e.children;return i.a.createElement("div",{className:u("Backdrop")},t)});n(1887);n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var u=Object(o.cn)("Tooltip"),c=function(e){var t=e.anchor,n=e.boundary,r=e.children,o=e.className,c=e.direction,l=e.hasTail,d=e.id,f=e.innerRef,p=e.keepMounted,h=e.mainOffset,m=e.modifiers,v=e.disableOverlay,g=e.onClick,y=e.onClose,b=e.scope,_=e.secondaryOffset,O=e.state,E=e.tailOffset,w=e.viewportOffset,S=e.visible,C=e.zIndex,x=l?0:4,T=Object(a.useComponentRegistry)(u()).Popup;return i.a.createElement(T,{anchor:t,boundary:n,className:u({visible:S,state:O},[o]),direction:c,disableOverlay:v,hasTail:l,innerRef:f,keepMounted:p,mainOffset:h||x,modifiers:m,onClick:g,onClose:y,scope:b,secondaryOffset:_,tailOffset:E,target:"anchor",unstable_onRenderTail:function(e){return i.a.createElement(s,null,l&&e)},view:"default",viewportOffset:w,visible:S,zIndex:C},i.a.createElement("div",{role:"tooltip",id:d,className:u("Content")},r))};c.displayName="Tooltip"}),(function(e,t,n){"use strict";n.r(t),n.d(t,"hasOpenedDialogs",(function(){return i})),n.d(t,"getOpenedDialogs",(function(){return o})),n.d(t,"isDialogOpened",(function(){return a})),n.d(t,"getDialogData",(function(){return s}));var r=n(20),i=function(e){return Object.keys(e.dialogs).some((function(t){return e.dialogs[t].state===r.STATE.OPENED}))},o=function(e){return Object.keys(e.dialogs).filter((function(t){return e.dialogs[t].state===r.STATE.OPENED}))},a=function(e,t){return e.dialogs[t]&&e.dialogs[t].state===r.STATE.OPENED},s=function(e,t){return e.dialogs[t]&&e.dialogs[t].data}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"updateSingleFacesAlbum",(function(){return E})),n.d(t,"updateAlbumsData",(function(){return C})),n.d(t,"fetchAlbumsListing",(function(){return T})),n.d(t,"fetchAlbumsNext",(function(){return P})),n.d(t,"fetchAlbums",(function(){return k})),n.d(t,"fetchSingleGeo",(function(){return j})),n.d(t,"fetchSingleFaces",(function(){return R})),n.d(t,"refuseAlbumsFaces",(function(){return I})),n.d(t,"openFamilyAlbumOnboarding",(function(){return A}));var r=n(10),i=n.n(r),o=n(40),a=n(90),s=n(13),u=n(67),c=n(65),l=n(14),d=n(289),f=n(54),p=n.n(f),h=n(32),m=n(42),v=n(52),g=n(29),y=n(96),b=n(58),_=n(95),O=function(e){return{type:a.e,payload:e}},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:a.d,payload:{album:e,refresh:t}}},w=function(){return Object(o.a)("albums",{albumType:"geo",amount:1})},S=function(){return Object(o.a)("getAlbumFaces")},C=function(e,t){return function(n){n(e?{type:a.c,payload:{albums:i()({},e,t),single:!0}}:Object(c.updateAlbumsCommonData)(t))}},x={},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){var a=(e||"personal")+t,u=x[a];if(u)return u;if(!Object(h.getAlbumsData)(i(),e).isLoaded||t||n){var c={isLoading:!0};return n&&(c=Object.assign(c,{ids:[],isLoaded:!1,isCompleted:!1})),r(C(e,c)),u=r(function(e,t){return function(n,r){return Object(o.a)("albums",{offset:e,amount:40,albumType:t}).then((function(e){var i=e.map((function(e){return d.a.preprocessAlbum(e)})),o=i.map((function(e){return e.id})),a=r(),u=Object(h.getAlbumsData)(a,t).ids||[],c=o.filter((function(e){return!u.includes(e)}));return n({type:s.FETCH_ALBUMS_LIST_SUCCESS,payload:{albums:i,albumType:t,ids:c}}),n(C(t,Object.assign({isLoading:!1,isLoaded:!0},t&&c.length?{ids:c}:{},o.length<40?{isCompleted:!0}:{})))}))}}(t,e)).then((function(){delete x[a]})).catch((function(e){if(delete x[a],e instanceof Error)throw e;e&&e.id&&p.a.go("/client/error","preserve",{reason:"fetch_albums_error",error:e})})),x[a]=u,u}}},P=function(e){return function(t,n){var r=Object(h.getAlbumsData)(n(),e);t(T(e,r.ids?r.ids.length:0))}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){e.silent||t({type:a.h,payload:{isLoading:!0}});var r=n(),i=[Object(o.a)("getAlbumsSlices"),Object(o.a)("getAlbumFavorites"),w()],s=Object(y.isFamilyAlbumExp)(r)&&(Object(b.hasFamilyAlbumFeature)(r)||Object(b.hasFamilyAlbumSelctor)(r));s&&i.push(Object(_.api)("mpfs/get-family-album",{}));var c=Object(h.canShowAlbumsFaces)(r);return c&&i.push(S()),Promise.all(i.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))}))).then((function(e){var n=e.shift();if("fulfilled"!==n.status||n.value.error){!(function(e){p.a.go("/client/error","preserve",{reason:"albums2_fetch_albums_error",error:e})})("rejected"===n.status?n.reason:n.value.error)}else{var r=e.shift();"fulfilled"!==r.status||r.value.error||t(function(e){return function(t){var n=e&&e.length&&d.a.preprocessAlbum(e[0]);t({type:a.j,payload:n?[n]:[]}),n&&t(Object(u.updateAlbum)(n))}}(r.value)),t(function(e){return{type:a.c,payload:e}}(n.value));var i=e.shift();if("fulfilled"!==i.status||i.value.error||t(O(i.value)),s){var o=e.shift();"fulfilled"!==o.status||o.value.error||t(function(e){return function(t){var n=e&&e.length&&d.a.preprocessAlbum(e[0]);t({type:a.i,payload:n?[n]:[]}),n&&t(Object(u.updateAlbum)(n))}}(o.value))}if(c){var l=e.shift();"fulfilled"!==l.status||l.value.error||t(E(l.value))}t({type:a.h,payload:{isLoading:!1,isLoaded:!0}})}}))}},j=function(){return function(e){return w().then((function(t){if(t.error)return Promise.reject(t.error);e(O(t))}))}},R=function(){return function(e,t){return Object(h.canShowAlbumsFaces)(t())?S().then((function(t){if(t.error)return Promise.reject(t.error);e(E(t,!0))})):Promise.reject()}},I=function(){return function(e){var t=function(e){l.default.count("interface elements","faces meta-album","refuse albums",e)};return e(Object(v.add)("confirmation",{dialogParams:{title:"Отключить группировку фото по людям?",text:"Включить обратно ее будет нельзя. Альбом «Люди на фото» будет удален навсегда. Сами фото останутся на Диске.",submitButtonText:"Отключить",cancelButtonText:"Отмена"},onSubmit:function(){return t("ok"),Object(o.a)("do-refuse-albums-faces",{}).then((function(){e(Object(g.updateUser)({faces_indexing_state:"user_refused"})),e(E([])),e(Object(g.goToUrl)("/client/albums"));return e(Object(v.add)("confirmation",{dialogParams:{text:"Группировка фото по людям отключена. Удаление альбома «"+yr.externals.entityify("Люди на фото")+"» займет некоторое время.",submitButtonText:"Закрыть",cancelButtonText:""},onSubmit:function(){}}))})).catch((function(){e(Object(m.notify)({operation:"refuseAlbumsFaces",status:"failed"}))}))},onReject:function(){t("cancel")}}))}},A=function(){return function(e){e({type:a.f})}}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1679),t)}),(function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}),(function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}}),(function(e,t,n){"use strict";n.r(t);var r=n(23),i=n.n(r),o=function(e,t){return i.a.isParent("/search",e)&&"disk"!==i.a.filename(e)?"list":t.view},a=function(e,t,n){var r={sort:"name",order:"1",display:"normal",view:o(e,n),selected:[],highlighted:[],dialog:null};return"/trash"===e&&(r.sort="append_time",r.order="0"),["/recent","/attach","/attach/yaruarchive",t.downloads,t.screenshots,t.scans].includes(e)&&(r.sort="mtime",r.order="0"),r},s=n(9),u=n.n(s);n.d(t,"getSortForIdContext",(function(){return c})),n.d(t,"getSort",(function(){return l})),n.d(t,"getView",(function(){return d})),n.d(t,"isSelectableResource",(function(){return f})),n.d(t,"getSelectedResources",(function(){return p})),n.d(t,"isInsideFolderYateamNDA",(function(){return h})),n.d(t,"getStatesContext",(function(){return m}));var c=function(e,t){var n=e.statesContext.sort,r=e.defaultFolders.folders,i=e.settings;return n[t]?n[t]:u.a.pick(a(t,r,i),["sort","order"])},l=function(e){var t=e.page.idContext;return c(e,t)},d=function(e){var t=e.page.idContext,n=e.settings;return o(t,n)},f=function(e){return!(!e||e.state&&e.state.disabled)},p=function(e){var t=e.statesContext.selected,n=e.resources;return(t||[]).map((function(e){return n[e]})).filter(f)},h=function(e){var t=e.page.idContext;return (function(e,t){return Boolean(e)&&(e===t||i.a.isParent(e,t))})(e.defaultFolders.folders.yateamnda,t)},m=function(e,t){var n=e.statesContext,r=e.defaultFolders.folders,i=e.settings,o=a(t,r,i),s=n.sort[t];return Object.assign({},o,u.a.omit(n,["sort"]),s)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(77),i=n(66);function o(e){return"html"===Object(r.a)(e)?e:e.assignedSlot||e.parentNode||e.host||Object(i.a)(e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defer=(e=>new Promise(t=>{setTimeout(()=>{t()},e)}));let r=null;t.waitNavigatorOnline=(()=>new Promise(e=>{if(navigator.onLine)e();else{const t=()=>{window.removeEventListener("online",t),e()};window.addEventListener("online",t)}})),t.waitOnline=(e=>t.waitNavigatorOnline().then(()=>(e=>{if(r)return r;let n=500;function i(){return n=Math.min(2*n,3e4),t.defer(n).then(o)}function o(){return fetch(e).catch(i)}return(r=o()).then(()=>{r=null}),r})(e)))}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ProductFeatureCode=t.PaymentPeriod=t.CurrencySymbol=t.Currency=t.ProductSetKeys=void 0,(function(e){e.MailProB2c="mail_pro_b2c",e.Family360="family_360"})(t.ProductSetKeys||(t.ProductSetKeys={})),(function(e){e.USD="USD",e.RUB="RUB"})(r=t.Currency||(t.Currency={})),t.CurrencySymbol={[r.USD]:"$",[r.RUB]:"₽"},(function(e){e.month="month",e.year="year",e.day="day"})(t.PaymentPeriod||(t.PaymentPeriod={})),(function(e){e.Autosave="mail_pro_b2c_autosave",e.Backup="mail_b2c_can_use_backup",e.BeautifulEmail="mail_b2c_domain_enabled",e.DiskSpace="mpfs_disk_space",e.IncreasedFileLimit="increased_filesize_limit",e.ExtHistory="mail_pro_b2c_ext_history",e.NoAds="mail_ad_disabled",e.OptInSubs="mail_b2c_can_use_opt_in_subs",e.PrioritySupport="mail_priority_support",e.PublicLinksSettings="public_settings_enabled",e.Smart="mail_smart_enabled",e.UnlimPublicDownload="mail_pro_b2c_unlim_public_download",e.UnlimMobile="mail_pro_b2c_unlim_mobile_video"})(t.ProductFeatureCode||(t.ProductFeatureCode={}))}),(function(e,t,n){"use strict";var r=function(e,t,n){for(var r=0,i=e.length;r<i;){var o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r};e.exports={sortedIndex:r,sortedFind:function(e,t,n){var i=r(e,t,n);return i<e.length&&0===n(e[i],t)?i:-1}}}),(function(e,t,n){e.exports=n(1608)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"setPhotoSelection",(function(){return l})),n.d(t,"deselectAllStatesContext",(function(){return d})),n.d(t,"setSelection",(function(){return f})),n.d(t,"setFilteredSelection",(function(){return p})),n.d(t,"setHighlighted",(function(){return h})),n.d(t,"deselectResources",(function(){return m}));var r=n(22),i=n.n(r),o=n(13),a=n(496),s=n(14),u=n(98),c=n(417),l=function(e){var t=e.total,n=e.missing,r=e.unfilteredTotal;return function(e,o){var l=o(),d=l.photoslice,f=d.hasDiff,p=d.unfilteredTotalSelected;e({type:a.b,payload:{total:t,missing:n,unfilteredTotal:r}}),0===r&&f&&e(Object(c.b)()),p!==r&&r>0&&s.default.count.apply(s.default,["interface elements"].concat(i()(Object(u.getMetrikaSection)(l)),["select",1===r?"one":"many"]))}},d=function(){return function(e){e({type:o.DESELECT_ALL})}},f=function(e){return{type:o.SET_SELECTED,payload:{selected:Array.isArray(e)?e:[e]}}},p=function(e){var t=e.total,n=e.missing,r=e.resources,i=e.unfilteredTotal;return function(e){e(f(r)),e(l({total:t,missing:n,unfilteredTotal:i}))}},h=function(e){return{type:o.SET_HIGHLIGHTED,payload:{highlighted:e}}},m=function(e){return{type:o.DESELECT_RESOURCES,payload:{resourcesIds:Array.isArray(e)?e:[e]}}}}),(function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}),(function(e,t,n){"use strict";function r(e){return e<10?"0"+e:String(e)}e.exports=function(e,t,n,i,o){void 0===t&&(t="DD.MM.YYYY HH:mm");var a=e instanceof Date?e:new Date(e);return t.replace(/([MDEYHhpms])\1{0,3}/g,(function(e){switch(e){case"M":return a.getMonth()+1;case"MM":return r(a.getMonth()+1);case"MMMM":if(!n||!n.length)throw new TypeError("helpers/date/date-to-string::monthsNominative must be defined for MMMM format");return n[a.getMonth()];case"mmmm":if(!i||!i.length)throw new TypeError("helpers/date/date-to-string::monthsGenitive must be defined for mmmm format");return i[a.getMonth()];case"D":return a.getDate();case"DD":return r(a.getDate());case"E":if(!o||!o.length)throw new TypeError("helpers/date/date-to-string::weekDays must be defined for E format");return o[a.getDay()];case"YY":return a.getFullYear()%100;case"YYYY":return a.getFullYear();case"H":return a.getHours();case"HH":return r(a.getHours());case"h":return a.getHours()%12||12;case"p":return a.getHours()<12?"am":"pm";case"m":return a.getMinutes();case"mm":return r(a.getMinutes());case"s":return a.getSeconds();case"ss":return r(a.getSeconds());default:return e}}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useImagePreload=t.useThemeType=t.useCampaignPromoActions=t.usePromoActions=t.useSecondaryTuningButton=t.useMainTuningButton=t.usePromoTranslations=t.useButtonPriceText=t.useCommonText=t.useCommonButtonPriceText=t.usePromoLink=t.useBenefits=t.useTranslation=t.useOnce=void 0;const r=n(0),i=n(345),o=n(1048),a=n(1049),s=n(178),u=n(224),c=n(346),l=n(1050),d=n(1721);t.useOnce=(e=>{r.useEffect(e,[])});const f=(e,t,n,r)=>{const i=l.getPromoTranslationKeys(e,t);return l.getTranslation(i,n,r)};t.useTranslation=(e=>{const{translations:t,lang:n,keysetId:o}=r.useContext(i.TranslationsContext);return f(t,o,n,e)});t.useBenefits=(e=>{const{translations:t,lang:n,keysetId:o}=r.useContext(i.TranslationsContext);return e.map(({text:e,icon:r})=>({icon:r,text:f(t,o,n,e)}))});t.usePromoLink=(({actionButtonPriceId:e,link:t,erid:n,isTuningLink:i})=>{const{urls:o,uid:a,project:s,promoId:u}=r.useContext(c.EnvironmentContext);if(!t&&!i)return;let l;if(t)return l=new URL(t),(l=d.safeAddQueryParams(l,{erid:n})).href;const f={open_tariff_by_price_id:e,from:`${s}_${u}`,uid:a,erid:n};return l=new URL(`${o.tuning}/premium-plans`),(l=d.safeAddQueryParams(l,f)).href});t.useCommonButtonPriceText=(()=>{const{translations:e,lang:t}=r.useContext(i.TranslationsContext);return f(e,"common",t,"ButtonPriceText")});t.useCommonText=(e=>{const{translations:t,lang:n}=r.useContext(i.TranslationsContext);return f(t,"common",n,e)});t.useButtonPriceText=(e=>{const{translations:n,lang:o,keysetId:a}=r.useContext(i.TranslationsContext),s=f(n,a,o,e),u=t.useCommonButtonPriceText();return s||u});t.usePromoTranslations=(()=>({titleText:t.useTranslation("Title"),descriptionText:t.useTranslation("Description"),actionButtonText:t.useTranslation("ActionButton"),cancelButtonText:t.useTranslation("CancelButton")}));t.useMainTuningButton=((e,n)=>{const{translations:o,lang:a,keysetId:s}=r.useContext(i.TranslationsContext),u=t.usePromoLink(e),c=t.useButtonPriceText("ActionButtonCustomText");return{url:e.actionButtonLink||(e.isTuningLink?u:void 0),onClick:n,view:e.actionButtonView||"premium",customTexts:{text:c,crossedPrice:f(o,s,a,"ActionButtonCrossedPrice"),actualPrice:f(o,s,a,"ActionButtonActualPrice"),infoText:f(o,s,a,"ActionButtonInfoText")}}});t.useSecondaryTuningButton=((e,n)=>{const r=t.usePromoTranslations();if(r.cancelButtonText)return{onClick:n,view:e.secondaryButtonView||"clear",customTexts:{text:r.cancelButtonText}}});t.usePromoActions=((e,t=!0)=>{const n=r.useContext(o.MetricsContext),i=r.useContext(a.PluginContext);return{onClose:r.useCallback(()=>{e(),n.logPromoOtherCloseEvent()},[n,e]),onCloseButtonClick:r.useCallback(()=>{e(),n.logPromoCloseButtonClick()},[n,e]),onCancelButtonClick:r.useCallback(()=>{e(),n.logPromoCancelButtonClick()},[n,e]),onActionButtonClick:r.useCallback(()=>{var r;null===(r=null===i||void 0===i?void 0:i.onActionButtonClick)||void 0===r||r.call(i),t&&e(),n.logPromoActionButtonClick()},[n,e,t,i])}});t.useCampaignPromoActions=(e=>{const t=r.useContext(o.MetricsContext),n=r.useContext(a.PluginContext);return{onClose:r.useCallback(()=>{e(),t.logPromoOtherCloseEvent()},[t,e]),onCloseButtonClick:r.useCallback(()=>{e(),t.logPromoCloseButtonClick()},[t,e]),onSecondaryButtonClick:r.useCallback(()=>{e(),t.logPromoSecondarylButtonClick()},[t,e]),onActionButtonClick:r.useCallback(()=>{var r;null===(r=null===n||void 0===n?void 0:n.onActionButtonClick)||void 0===r||r.call(n),e(),t.logPromoActionButtonClick()},[t,e,n])}});t.useThemeType=(()=>{const{isDark:e}=r.useContext(s.ThemeContext);return e?u.ThemeType.dark:u.ThemeType.light});t.useImagePreload=(e=>{const[t,n]=r.useState(!e);if(e){const t=new Image;t.src=e.src,t.srcset=e.srcSet,t.onload=(()=>n(!0))}return t})}),(function(e,t){function n(t){"@babel/helpers - typeof";return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(598),v=n.n(m),g=n(74),y=n(54),b=n.n(y),_=n(406),O=n(0),E=n.n(O);function w(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var S=(function(e){l()(n,e);var t=w(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._retries=2,r._onOnline=r._onOnline.bind(u()(r)),r}return a()(n,[{key:"_getSpin",value:function(){return E.a.createElement("div",{className:"root__loadable-spin-wrap"},E.a.createElement(g.Spin,{view:"default",progress:!0,size:"m"}))}},{key:"_getError",value:function(){return b.a.go("/client/error","preserve",{reason:"loadable_error",error:this.props.error}),null}},{key:"_onOnline",value:function(){this._retryError(),this._offlineMonitor.removeOnlineEventListener(this._onOnline)}},{key:"_retryError",value:function(){this._retries--,this.props.retry()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.error&&!e.error&&this._retries>0&&(this._offlineMonitor=this._offlineMonitor||new _.a("/check-online"),this._offlineMonitor.checkIsOnline().then((function(e){e?t._retryError():t._offlineMonitor.addOnlineEventListener(t._onOnline)})))}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.pastDelay;return t?this._retries>0?this._getSpin():this._getError():n?this._getSpin():null}}]),n})(O.Component),C=(function(e){l()(n,e);var t=w(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getSpin",value:function(){return E.a.createElement("div",{className:"dialog__loadable-spin-wrap"},E.a.createElement(g.Spin,{view:"default",progress:!0,size:"m"}))}},{key:"_getError",value:function(){return E.a.createElement("div",{className:"dialog__load-error"},"Произошла ошибка. Попробуйте снова.")}}]),n})(S);t.default=function(e){var t=e.loader,n=e.webpack,r=e.modules,i=e.isDialog,o=void 0!==i&&i;return v()({loader:t,webpack:n,modules:r,loading:o?C:S})}}),(function(e,t){e.exports=function(){}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"cnDrawer",(function(){return i})),n.d(t,"cnDrawerOverlay",(function(){return o})),n.d(t,"cnDrawerContent",(function(){return a})),n.d(t,"cnDrawerTitle",(function(){return s})),n.d(t,"cnDrawerHandle",(function(){return u})),n.d(t,"cnDrawerCurtain",(function(){return c})),n.d(t,"cnDrawerDragObserver",(function(){return l}));var r=n(28),i=Object(r.cn)("Drawer"),o=i("Overlay"),a=i("Content"),s=i("Title"),u=i("Handle"),c=i("Curtain"),l=i("DragObserver")}),(function(e,t,n){var r=n(9),i=n(262);e.exports={capitalize:function(e){return"string"==typeof e&&e.length?e.charAt(0).toUpperCase()+e.slice(1):e},toLowerFirstLetter:function(e){return"string"==typeof e&&e.length?e.charAt(0).toLowerCase()+e.slice(1):e},isEmail:function(e){return"string"==typeof e&&/^[-a-zа-яё0-9!#$%&'*+\/=?^_`{|}~]+(?:\.[-a-zа-яё0-9!#$%&'*+\/=?^_`{|}~]*)*@(?:[a-zа-яё0-9]([-a-zа-яё0-9]{0,61}[a-zа-яё0-9])?\.)+(?:aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|рф|[a-z]{2})$/i.test(e.toLowerCase())},getUnique:(function(){var e=null,t=1;return function(){var n=i.timestampToDate(Date.now()/1e3,"YYYY-MM-DD HH-mm-ss"),r=n;return n===e?(r=n+" ("+t.toString()+")",t+=1):t=1,e=n,r}})(),crop:function(e,t,n){return t=parseInt(t,10)||27,n=r.isUndefined(n)?"…":n,t+=Math.floor(.6*(e.match(/i|I|l|j/g)||[]).length),e.length>t?e.substring(0,t).trim().replace(/(\.{1,3})$/g,"")+n:e},processHashResource:function(e){var t=e.split(":/"),n=t.length>1?":/"+t.slice(1).join(":/"):"";return t[0].replace(/\s/g,"+")+n},breakNumber:function(e){for(var t=String(e)||"0",n=t.length%3||3,r=[];t.length;)r.push(t.substring(0,n)),t=t.substring(n),n=3;return r},createId:(function(){var e={},t=1;return function(n){return e[n]||(e[n]=t++),e[n]}})(),hashCode:(function(){var e={};return function(t){if(e[t])return e[t];for(var n=0,r=0,i=t.length;r<i;r++){n=(n<<5)-n+t.charCodeAt(r),n|=0}return n>>>=0,e[t]=n,n}})()}}),(function(e,t,n){var r=n(721),i=n(726);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(1775),a=n(1776),s=n(1777),u=n(1778),c=n(1779),l=n(1780),d=n(1781),f=n(1782),p=n(1783),h=n(1784),m=n(1785),v=n(1786),g=n(1787),y=n(56),b=n(84),_=n(80),O=n(266),E=n(42),w=n(95),S=n(19),C=n(34),x=n(286),T=n(102),P=n(24),k=n(330),j=n(92),R=r(n(35)),I=n(15),A=n(91),D=r(n(9));t.STATUS_CHUNK_SIZE=20,t.CREATE_OPERATION_CHUNK_SIZE=20;const M=e=>{return Math.min(2e3+2e3*Math.floor(e/5),2e4)};function N(e,t){var n;console.error(e),null===(n=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===n||n.logError({source:"operation",sourceMethod:t,level:Ya.Rum.ERROR_LEVEL.ERROR},e)}function*L(e){var t,n;const r=e[0],o={operation:r.type,status:r.status.toLowerCase()},a=yield i.select();if(r.src&&(o.src=S.getResourceData(a,r.src)||O.getDummyResource(r.src),o.typeResources=e.reduce((e,{srcType:t})=>e&&t!==e?"mix":t,null===(t=o.src)||void 0===t?void 0:t.type)),r.dst&&(o.dst=S.getResourceData(a,r.dst)||O.getDummyResource(r.dst),r.type===b.OperationType.DELETE&&P.isInVirtualDiskTrash(r.dst))){const e=P.getVdHash(r.dst),t=P.getCurrentVirtualDiskTrash(r.dst);Object.assign(o,{vdHash:e,canCleanVdTrash:j.canCleanVdTrash(t,a),vdTrashPath:t,vdTrashSize:null===(n=j.getVdSpace(e,a))||void 0===n?void 0:n.trash})}return o}function*F({operation:e,error:t}){const n=Object.assign(Object.assign({},e),{status:b.OperationStatus.FAILED});e.id&&(yield i.put(y.updateOperationsByIds({[e.id]:n})),yield i.call(z));const{statusCode:r,response:o,code:a,data:s}=t,u=r||o,c=yield i.call(L,[n]);if(507===u)c.reason=a===C.MPFS_ERROR_CODES.OWNER_HAS_NO_FREE_SPACE?A.Reason.NO_SPACE_OWNER:A.Reason.NO_SPACE;else if([C.MPFS_ERROR_CODES.COPY_D2D_RESOURCE_EXISTS,C.MPFS_ERROR_CODES.MKDIR_EXISTS].includes(a))c.reason=A.Reason.exists;else if(a===C.MPFS_ERROR_CODES.RESOURCE_LOCKED&&(c.reason=A.Reason.READ_ONLY,s)){const{op_type:t,path:n,uid:r}=s,o=yield i.select(T.getUser),{reasonText:a,reasonTextAux:u}=x.getSplittedLockErrorMessage({lockType:t,lockInitiatorUid:r,lockedResourcePath:n,targetResourcePath:O.getTargetResourcePath(e)||"",myUid:o.uid,failedOperationType:e.type});c.reasonText=a,c.reasonTextAux=u}return yield i.put(E.notify(c)),c}function*B(e){const t=[];for(const{operation:n,error:r}of e){const e=yield i.select(S.getResourceData,n.src);e&&t.push(Object.assign(Object.assign({},e),{state:{}})),yield i.call(F,{operation:n,error:r})}yield i.put(I.updateResources(t))}t.handleOperationSagaError=N,t.getOperationNotificationBase=L,t.processCommonError=F,t.processCommonErrors=B,t.fetchOperationResources=function*(e,t){const n=e.map(({oid:e})=>e),r=(yield i.select(_.getOperationsByOids,n)).map(e=>e[t]).filter(Boolean);yield i.call(k.bulkFetchResourcesSaga,r,{addToChildren:!0})},t.updateCompleteOperationResources=function*(e,t){const n=e.filter(({resource:e})=>Boolean(e)).map(({resource:e})=>R.default.preprocess(D.default.cloneDeep(e))),r=e.filter(e=>e[t]&&!e.resource).map(e=>e[t]);n.length&&(yield i.put(I.updateResources(n,{addToChildren:!0}))),r.length&&(yield i.call(k.bulkFetchResourcesSaga,r,{addToChildren:!0}))},t.destroySrcs=function*(e){const t=e.map(({src:e})=>e),n=yield i.select(),r=t.map(e=>S.getResourceData(n,e)).filter(Boolean);yield i.put(I.destroyResources(r))};const U=e=>{e.preventDefault(),e.returnValue=""};function*z(){(yield i.select(_.hasStartingOperations))?window.addEventListener("beforeunload",U):window.removeEventListener("beforeunload",U)}function*V(){const e=yield i.select(_.getAllActiveOperations),t=yield i.select(_.getAllCompleteOperations);if(t.some(O.shouldFetchSpaceAfterComplete)){const e=D.default.uniq([...t.filter(({src:e})=>Boolean(e)).map(({src:e})=>P.getVdHash(e)),...t.filter(({dst:e})=>Boolean(e)).map(({dst:e})=>P.getVdHash(e))]);for(const t of e)t?yield i.call(k.fetchVDSpaceSaga,t):yield i.call(k.fetchSpaceSaga)}const n=O.getOperationsStatusesByType(t),r=O.getOperationsStatusesByType(e);for(const e in n)if(!r[e]&&e!==b.OperationType.RENAME){const r=t.filter(t=>t.type===e);if(!r.length)continue;const o=yield i.call(L,r),a=n[e][b.OperationStatus.DONE];a>1&&(o.count=a),yield i.put(E.notify(o))}}t.bulkStartOperations=function*(e,t,n){let r;yield i.call(z);try{r=yield i.call(w.api,e,{operations:t})}catch(e){r=t.map(()=>({error:{statusCode:500}}))}const o=[],a=r.reduce((e,t,r)=>{const i=n[r];return(null===t||void 0===t?void 0:t.error)?o.push({error:t.error,operation:i}):(null===t||void 0===t?void 0:t.oid)?e[i.id]={status:b.OperationStatus.WAITING,oid:t.oid}:e[i.id]={status:b.OperationStatus.DONE},e},{});return yield i.put(y.updateOperationsByIds(a)),yield i.call(z),{errors:o,startedOperations:a}},t.notifyCompleteOperations=V;const H={};function*W(){const e=yield i.select(_.getAllOperations),t=yield i.call(O.getOperationsStatusesByField,e,"gid");Object.entries(t).forEach(([t,n])=>{const r=n,i=Object.values(r).reduce((e,t)=>e+t,0),o=r[b.OperationStatus.DONE]+r[b.OperationStatus.FAILED],a=e.filter(e=>e.gid===t);if(i===o&&a.length&&!H[t]){H[t]=!0;const{type:e}=a[0],n=Math.min(...a.map(({startTime:e})=>e));isFinite(n)&&Ya.Rum.sendDelta(`operation.bulk${D.default.upperFirst(e)}`,Date.now()-n,{"-additional":encodeURIComponent(JSON.stringify({size:i}))})}})}function*$(e){e.startTime&&(yield i.call([Ya.Rum,"sendDelta"],`operation.${e.type}`,Date.now()-e.startTime))}function*G(){try{for(;;){yield i.take(y.checkOperationsStatus);let e=0;for(;;){let n=yield i.select(_.getAllActiveOperations);const r=D.default.chunk(n.map(({oid:e})=>e),t.STATUS_CHUNK_SIZE);for(const e of r){let t;try{t=yield i.call(w.api,"mpfs/bulk-operation-status",{oids:e})}catch(e){t={}}const n=[],r=Object.keys(t).reduce((e,r)=>(t[r].error?n.push({error:t[r].error,oid:r}):e[r]=D.default.pick(t[r],["status","resource"]),e),{}),o=[];for(const[e,t]of Object.entries(r)){const n=t,r=yield i.select(_.getOperationByOid,e);r&&n.status===b.OperationStatus.DONE&&r.status!==b.OperationStatus.DONE&&(o.push(Object.assign(Object.assign({},n),{oid:e,type:r.type})),yield i.call($,r))}yield i.put(y.updateOperationsByOids(r)),yield i.call(W),yield i.call(V);const a=yield i.select(),s=n.map(({oid:e,error:t})=>{return{operation:_.getOperationByOid(a,e),error:t}});if(yield i.call(B,s),o.length){const e=yield i.call(O.getCompleteOperationsMap,o);yield i.put(y.processCompleteOperations(e))}yield i.put(y.cleanupOperations())}if(0===(n=yield i.select(_.getAllActiveOperations)).length)break;const o=M(e);e++;const{checkStatus:a}=yield i.race({timeout:i.delay(o),checkStatus:i.take(y.checkOperationsStatus)});a&&(e=0)}}}catch(e){N(e,"watchOperationsSaga")}}function*q(e,t,n){const r=yield i.select(S.getResourceData,e);n.push(Object.assign(Object.assign({},r||O.getDummyResource(e)),{state:t}))}function*Y({payload:e}){try{yield i.put(y.createOperations({operations:e,status:b.OperationStatus.WAITING}));const t=[];for(const n of e){const{src:e,dst:r}=O.getOperationResourcesState(n.type);e&&n.src&&(yield i.call(q,n.src,e,t)),r&&n.dst&&(yield i.call(q,n.dst,r,t))}yield i.put(I.updateResources(t)),yield i.put(y.checkOperationsStatus())}catch(e){N(e,"initActiveOperationsSaga")}}function*K(e){try{const t=[];for(const n of e){(yield i.select(_.isCreatedOperation,n))||t.push(n)}if(t.length){yield i.put(y.createOperations({operations:t,status:b.OperationStatus.DONE,remote:!0})),yield i.call(V);const e=yield i.select(_.getAllCompleteOperations),n=yield i.call(O.getCompleteOperationsMap,e);yield i.put(y.processCompleteOperations(n)),yield i.put(y.cleanupOperations())}}catch(e){N(e,"createOperationFromDiffSaga")}}function*J(){try{for(;;){const e=[],{payload:t}=yield i.take(y.createOperationFromDiff);for(e.push(t);;){const{operation:t,timeout:n}=yield i.race({operation:i.take(y.createOperationFromDiff),timeout:i.delay(2e3)});if(t&&e.push(t.payload),n){yield i.fork(K,e);break}}}}catch(e){N(e,"watchDiffsSaga")}}t.sendBulkOperationsTimings=W,t.sendOperationTiming=$,t.default=function*(){yield i.all([i.takeEvery(y.initActiveOperations,Y),i.takeEvery(y.deleteOrLeaveFolderOperation,c.deleteOrLeaveFolderSaga),i.spawn(J),i.spawn(G),i.spawn(o.copyOperationRootSaga),i.spawn(a.restoreOperationRootSaga),i.spawn(s.deleteOperationRootSaga),i.spawn(l.removeResourceAlbumOperationRootSaga),i.spawn(d.excludeFromAlbumOperationRootSaga),i.spawn(u.leaveFolderOperationRootSaga),i.spawn(f.moveOperationRootSaga),i.spawn(p.renameOperationRootSaga),i.spawn(h.wfolioCreateProjectOperationRootSaga),i.spawn(m.wfolioDeleteProjectOperationRootSaga),i.spawn(v.unshareFolderOperationRootSaga),i.spawn(g.createFolderOperationRootSaga)])}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(3),a=n(1127);n(1938);const s=o.compose(a.withViewDefault)(a.Drawer);t.Drawer=(e=>i.default.createElement(s,Object.assign({animation:{tension:230,friction:24}},e)))}),(function(e,t,n){var r=n(1328).default;t.log=function(e,t){var i=n(18).default,o=n(117).environment,a=i().getState().environment,s=a.session.experimentBoxes,u=a.agent,c=u.isSupportedByUA,l=u.isSupported;if(!(!c&&l)){var d=(s||[]).join(";"),f=Object.assign({},e,{exp:d});"development"===o&&ns.DEBUG?console.log(f):r.send(f,"",t)}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getAlbumResourceIndexPath",(function(){return a})),n.d(t,"findNewAlbumItemPosition",(function(){return s})),n.d(t,"findNewAlbumItemPositionRevese",(function(){return u})),n.d(t,"getAlbumType",(function(){return c})),n.d(t,"getPublishAlbumTitle",(function(){return l}));var r=n(22),i=n.n(r),o=n(194),a=function(e,t){var n=e.clusters,r=-1,i=t.id?"id":"itemId",o=n.findIndex((function(e){var n=e.items;return-1!==(r=n.findIndex((function(e){return e[i]===t[i]})))}));return-1!==o&&-1!==r?{clusterIndex:o,resourceIndex:r}:null},s=function(e,t){var n,r,i=e.clusters,o=i[i.length-1];return!i[0].items.length||t.orderIndex<i[0].items[0].orderIndex?(n=0,r=0):t.orderIndex>o.items[o.items.length-1].orderIndex?(n=i.length-1,r=o.items.length):r=i[n=i.findIndex((function(e){var n=e.items;return t.orderIndex>n[0].orderIndex&&t.orderIndex<n[n.length-1].orderIndex}))].items.findIndex((function(e){var n=e.orderIndex;return t.orderIndex<n})),{clusterIndex:n,resourceIndex:r}},u=function(e,t){var n,r,i=e.clusters,o=i[i.length-1];return!i[0].items.length||t.orderIndex>i[0].items[0].orderIndex?(n=0,r=0):t.orderIndex<o.items[o.items.length-1].orderIndex?(n=i.length-1,r=o.items.length):r=i[n=i.findIndex((function(e){var n=e.items;return t.orderIndex<n[0].orderIndex&&t.orderIndex>n[n.length-1].orderIndex}))].items.findIndex((function(e){var n=e.orderIndex;return t.orderIndex>n})),{clusterIndex:n,resourceIndex:r}},c=function(e){return e.album_type||"personal"},l=function(e){var t=e.map((function(e){return 1e3*(e.meta&&e.meta.photoslice_time||e.ctime)})),n=Math.min.apply(Math,i()(t)),r=Math.max.apply(Math,i()(t));return Object(o.getFormattedForDateRange)(n,r)}}),(function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"family",(function(){return j})),n.d(r,"family_disk_size",(function(){return R})),n.d(r,"increased_filesize_limit",(function(){return I})),n.d(r,"mail_ad_disabled",(function(){return A})),n.d(r,"mail_pro_b2c_unlim_mobile_video",(function(){return D})),n.d(r,"mpfs_disk_space",(function(){return M}));var i={};n.r(i),n.d(i,"family",(function(){return N})),n.d(i,"family_disk_size",(function(){return L})),n.d(i,"increased_filesize_limit",(function(){return F})),n.d(i,"mail_ad_disabled",(function(){return B})),n.d(i,"mail_pro_b2c_unlim_mobile_video",(function(){return U})),n.d(i,"mpfs_disk_space",(function(){return z}));var o={};n.r(o),n.d(o,"family",(function(){return V})),n.d(o,"family_disk_size",(function(){return H})),n.d(o,"increased_filesize_limit",(function(){return W})),n.d(o,"mail_ad_disabled",(function(){return $})),n.d(o,"mail_pro_b2c_unlim_mobile_video",(function(){return G})),n.d(o,"mpfs_disk_space",(function(){return q}));var a={};n.r(a),n.d(a,"family",(function(){return Y})),n.d(a,"family_disk_size",(function(){return K})),n.d(a,"increased_filesize_limit",(function(){return J})),n.d(a,"mail_ad_disabled",(function(){return Z})),n.d(a,"mail_pro_b2c_unlim_mobile_video",(function(){return X})),n.d(a,"mpfs_disk_space",(function(){return Q}));var s={};n.r(s),n.d(s,"family",(function(){return ee})),n.d(s,"family_disk_size",(function(){return te})),n.d(s,"increased_filesize_limit",(function(){return ne})),n.d(s,"mail_ad_disabled",(function(){return re})),n.d(s,"mail_pro_b2c_unlim_mobile_video",(function(){return ie})),n.d(s,"mpfs_disk_space",(function(){return oe}));var u={};n.r(u),n.d(u,"family",(function(){return ae})),n.d(u,"family_disk_size",(function(){return se})),n.d(u,"increased_filesize_limit",(function(){return ue})),n.d(u,"mail_ad_disabled",(function(){return ce})),n.d(u,"mail_pro_b2c_unlim_mobile_video",(function(){return le})),n.d(u,"mpfs_disk_space",(function(){return de}));var c={};n.r(c),n.d(c,"family",(function(){return fe})),n.d(c,"family_disk_size",(function(){return pe})),n.d(c,"increased_filesize_limit",(function(){return he})),n.d(c,"mail_ad_disabled",(function(){return me})),n.d(c,"mail_pro_b2c_unlim_mobile_video",(function(){return ve})),n.d(c,"mpfs_disk_space",(function(){return ge}));var l=n(0),d=n.n(l),f=n(163),p=n(127),h=n(178),m=n(345),v=n(346),g=n(139),y=n(396),b=(n(1750),"BasePopup_buttonWrapper_jMiHp");const _=({isActive:e,onDeactivate:t,url:n,descriptionCustomText:r,promo:i,imageClass:o})=>{const a=Object(g.usePromoActions)(t),{theme:s}=Object(l.useContext)(h.ThemeContext),{lang:u}=Object(l.useContext)(m.TranslationsContext),{platform:c}=Object(l.useContext)(v.EnvironmentContext),_=Object(g.useThemeType)(),{titleText:O,descriptionText:E,actionButtonText:w}=Object(g.usePromoTranslations)(),S=Object(l.useMemo)(()=>Object(y.getPromoImage)(i.images,{themeType:_,lang:u,platform:c},i.illustration),[u,c,i,_]);return d.a.createElement(p.Popup,{className:Object(f.cnTheme)(s),visible:e,onClose:a.onClose,onCloseClick:a.onCloseButtonClick},d.a.createElement(p.PopupContent,null,S&&d.a.createElement(p.PopupImage,{className:o,image:S}),d.a.createElement(p.PopupTexts,null,d.a.createElement(p.PopupTitle,null,O),d.a.createElement(p.PopupDescription,null,r||E)),d.a.createElement(p.PopupButtons,{className:b},d.a.createElement(p.PopupActionButton,{view:i.actionButtonView,url:n,target:"_blank",type:"link",onClick:a.onActionButtonClick,rel:"noopener"},w))))};n(1751);var O="GracePopup_imageContainer_jiyl7";const E=e=>d.a.createElement(_,Object.assign({imageClass:O},e));n(1752);var w="HoldAdPopup_imageContainer_R-UBG";const S=e=>d.a.createElement(_,Object.assign({},e,{imageClass:w}));n(1753);var C="FeaturesList_listBlock_kgoiY",x="FeaturesList_listItem_prdgE",T="FeaturesList_iconBox_HeloZ",P="FeaturesList_text_r7Lj1";const k=({preparedList:e})=>d.a.createElement("div",{className:C},e.map(e=>d.a.createElement("div",{key:e.featureCode,className:x},d.a.createElement("div",{className:T},d.a.createElement(e.icon,null)),d.a.createElement("div",{className:P},e.text)))),j="Преимущества Премиума для близких",R=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Дополнительное место",t,"на Диске 1 ТБ")},I="Загрузка файлов больше 1 ГБ",A="Никакой рекламы в сервисах \nЯндекс 360",D=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Безлимит для фото и видео ",t,"с телефона")},M=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Дополнительное место",t,"на Диске до 3 ТБ")},N="Yandex Premium benefits for family",L=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Additional 1 TB",t,"on Yandex Disk")},F="Upload files larger than 1 GB",B="No ads \nin Yandex 360 services",U=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Unlimited photo and video uploads ",t,"from your phone")},z=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Up to 3 TB more",t,"on Yandex Disk")},V="Yakınlarınız için Premium avantajları",H=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Ek depolama alanı",t,"Yandex Disk'te 1 TB")},W="1 GB'tan büyük dosyaları indirme",$="Yandex 360 servislerini \nreklamsız kullanım",G=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Telefondaki fotoğraf ve videolarınız için ",t,"sınırsız depolama alanı")},q=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Ek depolama alanı",t,"Yandex Disk'te 3 TB")},Y="Перавагі Прэміума для блізкіх",K=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Дадатковае месца",t,"на Дыску 1 ТБ")},J="Загрузка файлаў больш за 1 ГБ",Z="Ніякай рэкламы ў сэрвісах \nЯндекс 360",X=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Безліміт для фота і відэа ",t,"з тэлефона")},Q=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Дадатковае месца",t,"на Дыску да 3 ТБ")},ee="Жақындарға арналған Премиумның артықшылықтары",te=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Дискідегі",t,"қосымша орын 1 ТБ")},ne="1 ГБ-тан үлкен файлдарды жүктеу",re="Яндекс 360 сервистерінде \nешбір жарнамасыз",ie=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Телефондағы фото мен видео үшін ",t,"шектеусіз")},oe=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Дискідегі 3 ТБ-қа дейін",t,"қосымша орын")},ae="Yaqinlaringiz uchun Yandex Premiumʼning afzalliklari",se=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Yandex Diskda qoʻshimcha",t,"1 TB joy")},ue="1 GB dan kattaroq fayllarni yuklash",ce="\nYandex 360 xizmatlarida hech qanday reklama",le=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Telefon orqali ",t,"rasm va video uchun cheklov yoʻq")},de=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Yandex Diskda qoʻshimcha",t,"3 TB gacha joy")},fe="Переваги Преміум для близьких",pe=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Додаткове місце",t,"на Диску 1 ТБ")},he="Завантаження файлів понад 1 ГБ",me="Жодної реклами в сервісах \nЯндекс 360",ve=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Безліміт для фото та відео ",t,"з телефона")},ge=function({elements:e}){const t=e.br;return d.a.createElement(d.a.Fragment,null,"Додаткове місце",t,"на Диску до 3 ТБ")},ye={ru:r,be:a,kk:s,en:i,tr:o,uz:u,uk:c},be=(e,t)=>{const n=(e=>Object.keys(ye).indexOf(e)>-1)(e)?e:"ru",r=ye[n][t];return r&&"function"==typeof r?r({elements:{br:d.a.createElement("br",null)}}):ye[n][t]};var _e=n(133);function Oe(){return(Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ee=Object(l.memo)(e=>l.createElement("svg",Oe({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 14.5A5.5 5.5 0 0 0 5.504 20l13.532-.005a4.75 4.75 0 1 0 .422-9.49 6.75 6.75 0 1 0-13.42-1.478A5.5 5.5 0 0 0 0 14.5Zm19.11 3.497-.05-.002L5.5 18a3.5 3.5 0 1 1 1.184-6.795 1 1 0 0 0 1.335-1.03 4.75 4.75 0 1 1 9.214 1.149 1 1 0 0 0 1.23 1.29 2.75 2.75 0 1 1 .647 5.382Z",fill:"#FF6427"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 14.5A5.5 5.5 0 0 0 5.504 20l13.532-.005a4.75 4.75 0 1 0 .422-9.49 6.75 6.75 0 1 0-13.42-1.478A5.5 5.5 0 0 0 0 14.5Zm19.11 3.497-.05-.002L5.5 18a3.5 3.5 0 1 1 1.184-6.795 1 1 0 0 0 1.335-1.03 4.75 4.75 0 1 1 9.214 1.149 1 1 0 0 0 1.23 1.29 2.75 2.75 0 1 1 .647 5.382Z",fill:"url(#prefix__a)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 14.5A5.5 5.5 0 0 0 5.504 20l13.532-.005a4.75 4.75 0 1 0 .422-9.49 6.75 6.75 0 1 0-13.42-1.478A5.5 5.5 0 0 0 0 14.5Zm19.11 3.497-.05-.002L5.5 18a3.5 3.5 0 1 1 1.184-6.795 1 1 0 0 0 1.335-1.03 4.75 4.75 0 1 1 9.214 1.149 1 1 0 0 0 1.23 1.29 2.75 2.75 0 1 1 .647 5.382Z",fill:"url(#prefix__b)"}),l.createElement("defs",null,l.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 32.872 -11.4486 0 12 22.723)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("linearGradient",{id:"prefix__a",x1:0,y1:11.65,x2:23.968,y2:11.65,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})))));function we(){return(we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Se=Object(l.memo)(e=>l.createElement("svg",we({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.509 21.86C18.78 18.153 22 14.22 22 10c0-6.003-6.749-7.89-10-3.898C8.749 2.11 2 3.997 2 10c0 4.219 3.219 8.153 9.491 11.86a1 1 0 0 0 1.018 0Zm.402-13.448C14.677 4.51 20 5.54 20 10c0 3.253-2.616 6.549-8 9.833C6.617 16.55 4 13.253 4 10c0-4.46 5.323-5.49 7.089-1.588.355.783 1.467.783 1.822 0Z",fill:"#FF6427"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.509 21.86C18.78 18.153 22 14.22 22 10c0-6.003-6.749-7.89-10-3.898C8.749 2.11 2 3.997 2 10c0 4.219 3.219 8.153 9.491 11.86a1 1 0 0 0 1.018 0Zm.402-13.448C14.677 4.51 20 5.54 20 10c0 3.253-2.616 6.549-8 9.833C6.617 16.55 4 13.253 4 10c0-4.46 5.323-5.49 7.089-1.588.355.783 1.467.783 1.822 0Z",fill:"url(#prefix__a)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.509 21.86C18.78 18.153 22 14.22 22 10c0-6.003-6.749-7.89-10-3.898C8.749 2.11 2 3.997 2 10c0 4.219 3.219 8.153 9.491 11.86a1 1 0 0 0 1.018 0Zm.402-13.448C14.677 4.51 20 5.54 20 10c0 3.253-2.616 6.549-8 9.833C6.617 16.55 4 13.253 4 10c0-4.46 5.323-5.49 7.089-1.588.355.783 1.467.783 1.822 0Z",fill:"url(#prefix__b)"}),l.createElement("defs",null,l.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 34.8162 -9.54047 0 12 24.884)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("linearGradient",{id:"prefix__a",x1:2,y1:13.156,x2:21.973,y2:13.156,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})))));function Ce(){return(Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var xe=Object(l.memo)(e=>l.createElement("svg",Ce({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",baseProfile:"full"},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 9a3 3 0 1 0 0 6c.79 0 1.678-.395 2.562-1.026a1 1 0 0 1 1.162 1.628C8.708 16.327 7.404 17 6 17A5 5 0 0 1 6 7c1.895 0 3.638 1.23 4.79 2.253a16.705 16.705 0 0 1 1.966 2.09l.03.04.01.011.002.004.001.001S12.8 11.4 12 12l-.8.6-.004-.005-.02-.027a13.282 13.282 0 0 0-.443-.534 14.667 14.667 0 0 0-1.272-1.287C8.36 9.77 7.105 9 6 9Zm5.2 3.6.8-.6.8-.6.004.005.02.027.09.114a14.659 14.659 0 0 0 1.625 1.707C15.64 14.229 16.895 15 18 15a3 3 0 1 0 0-6c-.79 0-1.678.395-2.562 1.026a1 1 0 0 1-1.162-1.628C15.292 7.673 16.596 7 18 7a5 5 0 0 1 0 10c-1.895 0-3.638-1.23-4.79-2.253a16.707 16.707 0 0 1-1.966-2.09l-.03-.04-.01-.011-.002-.004-.002-.002Z",fill:"#FF6427"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 9a3 3 0 1 0 0 6c.79 0 1.678-.395 2.562-1.026a1 1 0 0 1 1.162 1.628C8.708 16.327 7.404 17 6 17A5 5 0 0 1 6 7c1.895 0 3.638 1.23 4.79 2.253a16.705 16.705 0 0 1 1.966 2.09l.03.04.01.011.002.004.001.001S12.8 11.4 12 12l-.8.6-.004-.005-.02-.027a13.282 13.282 0 0 0-.443-.534 14.667 14.667 0 0 0-1.272-1.287C8.36 9.77 7.105 9 6 9Zm5.2 3.6.8-.6.8-.6.004.005.02.027.09.114a14.659 14.659 0 0 0 1.625 1.707C15.64 14.229 16.895 15 18 15a3 3 0 1 0 0-6c-.79 0-1.678.395-2.562 1.026a1 1 0 0 1-1.162-1.628C15.292 7.673 16.596 7 18 7a5 5 0 0 1 0 10c-1.895 0-3.638-1.23-4.79-2.253a16.707 16.707 0 0 1-1.966-2.09l-.03-.04-.01-.011-.002-.004-.002-.002Z",fill:"url(#prefix__a)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 9a3 3 0 1 0 0 6c.79 0 1.678-.395 2.562-1.026a1 1 0 0 1 1.162 1.628C8.708 16.327 7.404 17 6 17A5 5 0 0 1 6 7c1.895 0 3.638 1.23 4.79 2.253a16.705 16.705 0 0 1 1.966 2.09l.03.04.01.011.002.004.001.001S12.8 11.4 12 12l-.8.6-.004-.005-.02-.027a13.282 13.282 0 0 0-.443-.534 14.667 14.667 0 0 0-1.272-1.287C8.36 9.77 7.105 9 6 9Zm5.2 3.6.8-.6.8-.6.004.005.02.027.09.114a14.659 14.659 0 0 0 1.625 1.707C15.64 14.229 16.895 15 18 15a3 3 0 1 0 0-6c-.79 0-1.678.395-2.562 1.026a1 1 0 0 1-1.162-1.628C15.292 7.673 16.596 7 18 7a5 5 0 0 1 0 10c-1.895 0-3.638-1.23-4.79-2.253a16.707 16.707 0 0 1-1.966-2.09l-.03-.04-.01-.011-.002-.004-.002-.002Z",fill:"url(#prefix__b)"}),l.createElement("defs",null,l.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 19.3365 -10.4945 0 12 18.602)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("linearGradient",{id:"prefix__a",x1:1,y1:12.088,x2:22.97,y2:12.088,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})))));function Te(){return(Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Pe=Object(l.memo)(e=>l.createElement("svg",Te({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.136 20.917c.078.054.17.084.266.085 2.724.03 4.721-.496 5.985-1.643.68.142 1.387.218 2.113.218 5.247 0 9.5-3.934 9.5-8.788 0-4.853-4.253-8.787-9.5-8.787S3 5.936 3 10.79c0 2.25.914 4.302 2.418 5.857-.128 1.27-.593 2.483-1.398 3.64-.15.216-.1.48.116.63Zm6.664-3.496a1.875 1.875 0 0 0-1.646.447c-.503.456-1.566 1.088-2.563 1.28.468-.68.714-1.67.786-2.38a1.875 1.875 0 0 0-.518-1.492C5.663 14.04 5 12.466 5 10.8c0-3.72 3.327-6.796 7.5-6.796S20 7.08 20 10.799c0 3.72-3.327 6.797-7.5 6.797-.579 0-1.148-.059-1.7-.175Z",fill:"#FF6427"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.136 20.917c.078.054.17.084.266.085 2.724.03 4.721-.496 5.985-1.643.68.142 1.387.218 2.113.218 5.247 0 9.5-3.934 9.5-8.788 0-4.853-4.253-8.787-9.5-8.787S3 5.936 3 10.79c0 2.25.914 4.302 2.418 5.857-.128 1.27-.593 2.483-1.398 3.64-.15.216-.1.48.116.63Zm6.664-3.496a1.875 1.875 0 0 0-1.646.447c-.503.456-1.566 1.088-2.563 1.28.468-.68.714-1.67.786-2.38a1.875 1.875 0 0 0-.518-1.492C5.663 14.04 5 12.466 5 10.8c0-3.72 3.327-6.796 7.5-6.796S20 7.08 20 10.799c0 3.72-3.327 6.797-7.5 6.797-.579 0-1.148-.059-1.7-.175Z",fill:"url(#prefix__a)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.136 20.917c.078.054.17.084.266.085 2.724.03 4.721-.496 5.985-1.643.68.142 1.387.218 2.113.218 5.247 0 9.5-3.934 9.5-8.788 0-4.853-4.253-8.787-9.5-8.787S3 5.936 3 10.79c0 2.25.914 4.302 2.418 5.857-.128 1.27-.593 2.483-1.398 3.64-.15.216-.1.48.116.63Zm6.664-3.496a1.875 1.875 0 0 0-1.646.447c-.503.456-1.566 1.088-2.563 1.28.468-.68.714-1.67.786-2.38a1.875 1.875 0 0 0-.518-1.492C5.663 14.04 5 12.466 5 10.8c0-3.72 3.327-6.796 7.5-6.796S20 7.08 20 10.799c0 3.72-3.327 6.797-7.5 6.797-.579 0-1.148-.059-1.7-.175Z",fill:"url(#prefix__b)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.696 7.491a.857.857 0 0 0-1.212 0l-.202.202a.857.857 0 0 0 0 1.213l1.798 1.798-1.798 1.798a.857.857 0 0 0 0 1.212l.202.202a.857.857 0 0 0 1.212 0l1.798-1.798 1.798 1.798a.857.857 0 0 0 1.212 0l.202-.202a.857.857 0 0 0 0-1.212l-1.798-1.798 1.798-1.799a.857.857 0 0 0 0-1.212l-.202-.202a.857.857 0 0 0-1.212 0L12.494 9.29l-1.798-1.798Z",fill:"#FF6427"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.696 7.491a.857.857 0 0 0-1.212 0l-.202.202a.857.857 0 0 0 0 1.213l1.798 1.798-1.798 1.798a.857.857 0 0 0 0 1.212l.202.202a.857.857 0 0 0 1.212 0l1.798-1.798 1.798 1.798a.857.857 0 0 0 1.212 0l.202-.202a.857.857 0 0 0 0-1.212l-1.798-1.798 1.798-1.799a.857.857 0 0 0 0-1.212l-.202-.202a.857.857 0 0 0-1.212 0L12.494 9.29l-1.798-1.798Z",fill:"url(#prefix__c)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.696 7.491a.857.857 0 0 0-1.212 0l-.202.202a.857.857 0 0 0 0 1.213l1.798 1.798-1.798 1.798a.857.857 0 0 0 0 1.212l.202.202a.857.857 0 0 0 1.212 0l1.798-1.798 1.798 1.798a.857.857 0 0 0 1.212 0l.202-.202a.857.857 0 0 0 0-1.212l-1.798-1.798 1.798-1.799a.857.857 0 0 0 0-1.212l-.202-.202a.857.857 0 0 0-1.212 0L12.494 9.29l-1.798-1.798Z",fill:"url(#prefix__d)"}),l.createElement("defs",null,l.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 36.7417 -9.06345 0 12.5 24.047)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("radialGradient",{id:"prefix__d",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 13.3938 -3.3042 0 12.494 15.277)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("linearGradient",{id:"prefix__a",x1:3,y1:11.671,x2:21.974,y2:11.671,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})),l.createElement("linearGradient",{id:"prefix__c",x1:9.031,y1:10.765,x2:15.948,y2:10.765,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})))));function ke(){return(ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var je=Object(l.memo)(e=>l.createElement("svg",ke({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{d:"M14.836 17.184c.164-.32.164-.74.164-1.58v-6.6h1.197c.884 0 1.325 0 1.534-.177a.75.75 0 0 0 .266-.62c-.017-.273-.322-.593-.931-1.232l-4.198-4.401c-.302-.317-.453-.476-.63-.535a.75.75 0 0 0-.476 0c-.177.059-.328.218-.63.535L6.934 6.975c-.61.64-.914.959-.93 1.232a.75.75 0 0 0 .265.62c.209.176.65.176 1.534.176H9v6.6c0 .84 0 1.26.163 1.581a1.5 1.5 0 0 0 .656.656c.32.163.74.163 1.581.163h1.2c.84 0 1.26 0 1.581-.163a1.5 1.5 0 0 0 .655-.656Z",fill:"#FF6427"}),l.createElement("path",{d:"M14.836 17.184c.164-.32.164-.74.164-1.58v-6.6h1.197c.884 0 1.325 0 1.534-.177a.75.75 0 0 0 .266-.62c-.017-.273-.322-.593-.931-1.232l-4.198-4.401c-.302-.317-.453-.476-.63-.535a.75.75 0 0 0-.476 0c-.177.059-.328.218-.63.535L6.934 6.975c-.61.64-.914.959-.93 1.232a.75.75 0 0 0 .265.62c.209.176.65.176 1.534.176H9v6.6c0 .84 0 1.26.163 1.581a1.5 1.5 0 0 0 .656.656c.32.163.74.163 1.581.163h1.2c.84 0 1.26 0 1.581-.163a1.5 1.5 0 0 0 .655-.656Z",fill:"url(#prefix__a)"}),l.createElement("path",{d:"M14.836 17.184c.164-.32.164-.74.164-1.58v-6.6h1.197c.884 0 1.325 0 1.534-.177a.75.75 0 0 0 .266-.62c-.017-.273-.322-.593-.931-1.232l-4.198-4.401c-.302-.317-.453-.476-.63-.535a.75.75 0 0 0-.476 0c-.177.059-.328.218-.63.535L6.934 6.975c-.61.64-.914.959-.93 1.232a.75.75 0 0 0 .265.62c.209.176.65.176 1.534.176H9v6.6c0 .84 0 1.26.163 1.581a1.5 1.5 0 0 0 .656.656c.32.163.74.163 1.581.163h1.2c.84 0 1.26 0 1.581-.163a1.5 1.5 0 0 0 .655-.656Z",fill:"url(#prefix__b)"}),l.createElement("path",{d:"M19 21.003a1 1 0 0 0-1-1H6a1 1 0 1 0 0 2h12a1 1 0 0 0 1-1Z",fill:"#FF6427"}),l.createElement("path",{d:"M19 21.003a1 1 0 0 0-1-1H6a1 1 0 1 0 0 2h12a1 1 0 0 0 1-1Z",fill:"url(#prefix__c)"}),l.createElement("path",{d:"M19 21.003a1 1 0 0 0-1-1H6a1 1 0 1 0 0 2h12a1 1 0 0 0 1-1Z",fill:"url(#prefix__d)"}),l.createElement("defs",null,l.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 38.6793 -6.67833 0 12 25.208)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("radialGradient",{id:"prefix__d",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 38.6793 -6.67833 0 12 25.208)"},l.createElement("stop",{offset:.493,stopColor:"#FF7142"}),l.createElement("stop",{offset:1,stopColor:"#FF5525",stopOpacity:0})),l.createElement("linearGradient",{id:"prefix__a",x1:5,y1:12.179,x2:18.981,y2:12.179,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})),l.createElement("linearGradient",{id:"prefix__c",x1:5,y1:12.179,x2:18.981,y2:12.179,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#EB1C3F"}),l.createElement("stop",{offset:1,stopColor:"#F4248E"})))));const Re={[_e.ProductFeatureCode.DiskSpace]:1,family_disk_size:2,family:3,[_e.ProductFeatureCode.UnlimMobile]:4,[_e.ProductFeatureCode.NoAds]:5,[_e.ProductFeatureCode.IncreasedFileLimit]:6},Ie={[_e.ProductFeatureCode.DiskSpace]:Ee,family_disk_size:Ee,family:Se,[_e.ProductFeatureCode.UnlimMobile]:xe,[_e.ProductFeatureCode.NoAds]:Pe,[_e.ProductFeatureCode.IncreasedFileLimit]:je};n(1754);var Ae="HoldPopup_title_8Y1Bg",De="HoldPopup_buttonWrapper_DcRgK";const Me=({isActive:e,onDeactivate:t,url:n,descriptionCustomText:r,buttonCustomText:i,features:o,lang:a})=>{const s=Object(g.usePromoActions)(t),{theme:u}=Object(l.useContext)(h.ThemeContext),{titleText:c,descriptionText:m,actionButtonText:v}=Object(g.usePromoTranslations)(),y=((e,t)=>{const n=new Map;return e.forEach(e=>n.set(e.featureCode,e)),Object.entries(Re).map(([e,r])=>{const i=n.get(e);if(i)return{featureCode:i.featureCode,weight:r,icon:Ie[e],text:be(t,i.featureCode)}}).filter(Boolean).sort((e,t)=>e.weight-t.weight)})(o,a);return d.a.createElement(p.Popup,{className:Object(f.cnTheme)(u),visible:e,onClose:s.onClose,onCloseClick:s.onCloseButtonClick},d.a.createElement(p.PopupContent,null,d.a.createElement(p.PopupTexts,null,d.a.createElement(p.PopupTitle,{className:Ae},c),d.a.createElement(p.PopupDescription,null,d.a.createElement("span",null,r||(e=>e.endsWith(".")?`${e.substring(0,e.length-1)}:`:`${e}:`)(m)),o&&o.length&&d.a.createElement(k,{preparedList:y}))),d.a.createElement(p.PopupButtons,{className:De},d.a.createElement(p.PopupActionButton,{view:"premium",url:n,target:"_blank",type:"link",onClick:s.onActionButtonClick,rel:"noopener",width:"max"},i||v))))};var Ne=n(373);const Le=[Ne.ProductFeatureCode.DiskSpace,Ne.ProductFeatureCode.NoAds,Ne.ProductFeatureCode.UnlimMobile,Ne.ProductFeatureCode.BeautifulEmail,Ne.ProductFeatureCode.IncreasedFileLimit,Ne.ProductFeatureCode.Backup],Fe=["mail_pro_b2c_light_90days_trial_v2","mail_pro_b2c_light_v2","mail_pro_b2c_light_discount20_v2","mail_pro_b2c_light","b2c_mail_pro_v1","mail_pro_b2c_light_30days_trial_v2","mail_pro_b2c_light_60days_trial_v2","mail_pro_b2c_light_30days_trial_v3","mail_pro_b2c_light_90days_trial_v3","mail_pro_b2c_light_60days_trial_v3","b2c_mail_disk_pro_v1","b2c_mail_pro_v1"],Be=["inapp_google","inapp_apple"],Ue=e=>"on_hold"===e.order_status,ze=e=>"wait_auto_prolong"===e.billing_status,Ve=e=>{var t,n,r;return(null!==(r=null===(n=null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.features)||void 0===n?void 0:n.filter(e=>Le.includes(e.code)))&&void 0!==r?r:[]).length>=4},He=e=>!Ve(e),We=e=>{var t;return Fe.includes(null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.product_id)},$e=e=>{var t;return"family"===(null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.product_kind)},Ge=e=>{var t;return Be.includes(null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.product_type)},qe=e=>!Ge(e),Ye=e=>{var t;return(null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.product_type)===Be[0]},Ke=e=>{var t;return(null===(t=null===e||void 0===e?void 0:e.product)||void 0===t?void 0:t.product_type)===Be[1]},Je=e=>{var t,n;return null!==(n=null===(t=e.filter(Ue).find(e=>Be.includes(e.product.product_type)))||void 0===t?void 0:t.product.product_type)&&void 0!==n?n:"inapp_apple"},Ze=e=>0!==e.filter(Ue).filter(Ve).filter(qe).length,Xe=e=>{const t=e.filter(Ue).filter(We).filter(qe),n=e.filter(Ue).filter(He).filter(qe);return 0!==t.length||0!==n.length},Qe=e=>0!==e.filter(ze).filter(Ke).length,et=e=>0!==e.filter(ze).filter(Ye).length,tt=e=>0!==e.filter(ze).filter(qe).length,nt=e=>0!==e.filter(Ue).filter($e).filter(qe).length,rt=e=>0!==e.filter(Ue).filter(Ge).length,it=e=>0!==e.filter(Ue).filter(Ye).length,ot=e=>0!==e.filter(Ue).filter(Ke).length;n.d(t,"GracePopup",(function(){return E})),n.d(t,"HoldAdPopup",(function(){return S})),n.d(t,"HoldPopup",(function(){return Me})),n.d(t,"BASIC_FEATURES",(function(){return Le})),n.d(t,"PRODUCTS_FOR_ADS_POPUP",(function(){return Fe})),n.d(t,"MOBILE_STORES",(function(){return Be})),n.d(t,"getMobile",(function(){return Je})),n.d(t,"isPaymentProblemHoldPopup",(function(){return Ze})),n.d(t,"isPaymentProblemHoldAdPopup",(function(){return Xe})),n.d(t,"isPaymentProblemGraceStoreApple",(function(){return Qe})),n.d(t,"isPaymentProblemGraceStoreAndroid",(function(){return et})),n.d(t,"isPaymentProblemGracePopup",(function(){return tt})),n.d(t,"isPaymentProblemHoldFamilyPopup",(function(){return nt})),n.d(t,"isPaymentProblemHoldStorePopup",(function(){return rt})),n.d(t,"isPaymentProblemHoldStoreAndroid",(function(){return it})),n.d(t,"isPaymentProblemHoldStoreApple",(function(){return ot}))}),(function(e,t,n){"use strict";n.r(t);var r=n(355),i=n(0),o={top:0,right:0,bottom:0,left:0};function a(e){void 0===e&&(e={});var t=e.rect,n=e.contextElement,r=Object(i.useRef)(o),a=Object(i.useRef)({contextElement:n,getBoundingClientRect:function(){var e=r.current,t=e.top,n=e.right,i=e.bottom,o=e.left;return{top:t,right:n,bottom:i,left:o,width:n-o,height:i-t}}});if(a.current.contextElement=n,t){var s=t.top,u=void 0===s?0:s,c=t.left,l=void 0===c?0:c,d=t.right,f=void 0===d?l:d,p=t.bottom,h=void 0===p?u:p;r.current={top:u,right:f,bottom:h,left:l}}else r.current=o;return a}var s=n(192),u=n(453),c=n(454);n.d(t,"usePopper",(function(){return r.a})),n.d(t,"useVirtualElementRef",(function(){return a})),n.d(t,"directions",(function(){return s.a})),n.d(t,"applyMinWidth",(function(){return u.a})),n.d(t,"applyMaxHeight",(function(){return c.a}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"hasYaFotkiTab",(function(){return g})),n.d(t,"hasAuxTab",(function(){return y})),n.d(t,"shouldShowWfolioSelector",(function(){return b})),n.d(t,"isWfolioDisabledSelector",(function(){return _})),n.d(t,"getSlices",(function(){return O})),n.d(t,"getTopLevelCurrentItem",(function(){return x})),n.d(t,"getTopLevelItemsWithCurrent",(function(){return T})),n.d(t,"getLeftColumnItems",(function(){return P})),n.d(t,"getMobileTopLevelItemsWithCurrent",(function(){return k})),n.d(t,"getTabsItems",(function(){return j})),n.d(t,"hasTabs",(function(){return R})),n.d(t,"hasListing",(function(){return I})),n.d(t,"isIdContextWithListing",(function(){return A}));var r=n(10),i=n.n(r),o=n(23),a=n.n(o),s=n(46),u=n(98),c=n(34),l=n(39),d=n(357),f=n(58);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){return e.page.idContext},v=function(e){return e.user.wfolio_state},g=function(e){var t;return"done"===(null===(t=e.user.states)||void 0===t?void 0:t.fotki_migration_state)},y=Object(s.createSelector)([d.getDefaultFolders,g],(function(e,t){var n=e.attach,r=e.narod,i=e.yaru;return n||r||i||t})),b=Object(s.createSelector)(v,(function(e){return e&&[c.WFOLIO_STATES.ENABLED,c.WFOLIO_STATES.READY_WITH_PROJECTS,c.WFOLIO_STATES.READY_EMPTY,c.WFOLIO_STATES.DISALBE_INFO_SENDING_IN_PROGRESS,c.WFOLIO_STATES.DISABLED_WITH_PROJECTS,c.WFOLIO_STATES.DISABLED_UNAUTHORIZED,c.WFOLIO_STATES.DISABLED_EMPTY].includes(e)})),_=Object(s.createSelector)(v,(function(e){return e&&[c.WFOLIO_STATES.DISALBE_INFO_SENDING_IN_PROGRESS,c.WFOLIO_STATES.DISABLED_WITH_PROJECTS].includes(e)})),O=Object(s.createSelector)([function(e){var t=e.resources;return t["/shared"]&&t["/shared"].isComplete&&t["/shared"].children&&0===t["/shared"].children.length},d.getDefaultFolders,f.isFamilySliceVisible,f.isFamilyAlbumSliceVisible,f.shouldShowPromoStub,g,y,f.shouldShowAlbumBadgeSelector,b],(function(e,t,n,r,i,o,a,s,u){return[{id:"recent",idContext:"/recent",name:"Последние"},{id:"files",idContext:"/disk",name:"Файлы"},{id:"photo",idContext:"/photo",name:"Фото"},{id:"albums",idContext:"/albums",name:"Альбомы",icon:s?"albumsWithPromo":void 0},{id:"wfolio",idContext:"/wfolio",name:"Проекты Wfolio",hidden:!u},{id:"shared",idContext:e?"/published":"/shared",name:"Общий доступ"},{id:"shared_folders",idContext:"/shared",name:"Общие папки",parent:"shared"},{id:"published",idContext:"/published",name:"Ссылки",parent:"shared"},{id:"vd",idContext:"/vd",name:"Общие диски",hidden:!t.hasVirtualDisks,parent:"shared"},{id:"family",icon:i?"lockedFamily":void 0,idContext:"/family",name:"Семья",hidden:!n},{id:"family_folders",idContext:"/family",name:"Папки",parent:"family",hidden:!r},{id:"family_albums",idContext:"/family/album",name:"Альбом",parent:"family",hidden:!r},{id:"aux",name:"Архив",idContext:"/attach",hideOnMobile:!0,hidden:!a},{id:"downloads",idContext:t.folders.downloads||"",disabled:!t.folders.downloads,name:"Загрузки",hideOnMobile:!0},{id:"trash",idContext:"/trash",name:"Корзина"},{id:"journal",idContext:"/journal",name:"История"},{id:"attach",idContext:"/attach",name:"Почтовые вложения",parent:"aux"},{id:"narod",idContext:"/narod",name:"Народ",hidden:!t.narod,parent:"aux"},{id:"yaru",idContext:"/attach/yaruarchive",name:"Другие сервисы",hidden:!t.yaru,parent:"aux"},{id:"yafotki",idContext:"/attach/YaFotki",name:"Яндекс.Фотки",hidden:!o,parent:"aux"}].filter((function(e){return!e.hidden}))})),E=function(e,t){return"albums"===e.id&&0===t.indexOf("/album")},w=Object(s.createSelector)([O],(function(e){return e.filter((function(e){return!e.parent}))})),S=Object(s.createSelector)([O,m],(function(e,t){var n=e.find((function(e){return e.parent&&(0===t.indexOf(e.idContext)||E(e,t))}));return n&&n.parent?e.filter((function(e){return e.parent===n.parent})):[]})),C=function(e){var t=e.page.idContext;return O(e).reduce((function(n,r){if(function(e,t){var n=t.page.idContext;return!("albums"!==e.id||!Object(u.isAlbumSlice)(t))||E(e,n)}(r,e))return{item:r,maxPathLength:1/0};if(a.a.equals(r.idContext,t)||a.a.isParent(r.idContext,t)){var i=r.idContext.split("/").length;if(i>n.maxPathLength)return{item:r,maxPathLength:i}}return n}),{maxPathLength:0,item:null}).item},x=function(e){var t=C(e);return t&&t.parent?w(e).find((function(e){return e.id===t.parent})):t},T=Object(s.createSelector)([w,x],(function(e,t){return e.map((function(e){return t&&e.idContext===t.idContext?Object.assign({},e,{current:!0}):e}))})),P=Object(s.createSelector)([T,l.docsNavigation,l.isDocsPage],(function(e,t,n){return n?t:e.map((function(e){return h(h({},e),{},{url:"/client".concat(e.idContext)})}))})),k=Object(s.createSelector)([T],(function(e){return e.filter((function(e){return!e.hideOnMobile}))})),j=Object(s.createSelector)([S,C],(function(e,t){var n=e.find((function(e){return t&&t.idContext===e.idContext})),r=e.map((function(e){return{id:e.id,link:a.a.escape("/client".concat(e.idContext)),title:e.name}}));return{current:n&&n.id,items:r}})),R=Object(s.createSelector)([j],(function(e){return e.items.length>0})),I=function(e){return c.LISTING_ID_CONTEXTS.some((function(t){return null===e||void 0===e?void 0:e.startsWith(t)}))},A=Object(s.createSelector)(m,I)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"updateSpace",(function(){return l})),n.d(t,"fetchSpace",(function(){return d})),n.d(t,"fetchVdSpace",(function(){return f})),n.d(t,"updateUserInfoForOverdraft",(function(){return p})),n.d(t,"remoteUpdateSpace",(function(){return h}));var r=n(40),i=n(15),o=n(13),a=n(403),s=n(19),u=n(57),c=n(24),l=function(e){return{type:o.UPDATE_SPACE,payload:e}},d=function(){return function(e,t){return Object(r.a)("space",{locale:t().environment.session.locale}).then((function(n){var r=Object(s.getResourceData)(t(),"/trash");e(Object(i.setResourceData)("/trash",Object.assign({},r,{meta:Object.assign({},r.meta,{size:n.trash})}))),e(l(n))})).catch()}},f=function(e){return function(t,n){return Object(r.a)("vd-space",{vdHash:e}).then((function(r){var o=c.VIRTUAL_DISKS_ROOT+"/"+e+"/trash",a=c.VIRTUAL_DISKS_ROOT+"/"+e+"/disk",u=Object(s.getResourceData)(n(),o),l=Object(s.getResourceData)(n(),a);t(Object(i.setResourceData)(o,Object.assign({},u,{meta:Object.assign({},u.meta,{size:r.trash})}))),t(Object(i.setResourceData)(a,Object.assign({},l,{space:Object.assign({},l.space,r)})))})).catch()}},p=function(){return function(e,t){Object(u.getOverdraftType)(t())&&e(Object(a.fetchUserInfo)())}},h=function(){return function(e){e(p()),e(d())}}}),(function(e,t,n){"use strict";var r=n(286),i=n(18),o=n(15),a=n(42),s=n(48);n(272),n(1612);var u=n(9),c=n(144),l=n(400),d=function(){},f=["copy","move","delete","restore","rename","excludeFromAlbum","removeResourceAlbum"],p=function(){};no.inherit(p,l,{_init:function(){this.countRequestStatus=0,this.queueSetStatus=[];for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.prototype._init.apply(this,t)},init:d,initFromMessage:d,resetCounter:function(){this.countRequestStatus=0},onbeforedestroy:function(){this.removeOperationFromStore()},setStatus:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.queueSetStatus.push(function(e){var t=this,n=e[0],r=f.includes(c.toLowerFirstLetter(this.id.replace("operation","")));!this.get(".status")&&r&&this.addOperationToStore();if(n!==this.get(".status")){this.set(".status",n),r&&this.updateOperationInStore();var i=this["onStatus"+c.capitalize(n)];"function"==typeof i&&i.apply(this,e.slice(1)),this.trigger("status."+n),this.queueSetStatus.shift(),this.queueSetStatus.length&&this.queueSetStatus[0].call()}var o=this.get(".gid");if(!o&&this.isCompleted())this._keepOnError&&"failed"===this.get(".status")||setTimeout((function(){t.destroy()}));else if(o){var a=ns.Model.get("operations");a.models.some((function(e){return e.get(".gid")===o&&!e.isCompleted()}))||setTimeout((function(){u.invokeMap(a.models.filter((function(e){return e.get(".gid")===o})),"destroy")}))}}.bind(this,[].slice.call(t))),1===this.queueSetStatus.length&&this.queueSetStatus[0].call()},complete:function(){this.isCompleted()||this.setStatus("completed")},isCompleted:function(){return u.includes(["canceled","failed","done","rejected"],this.get(".status"))},run:function(){return this.setStatus(this.get(".status")||"created"),this},getTimeoutStatus:function(){var e=Math.min(2e3+2e3*Math.floor(this.countRequestStatus/5),2e4);return this.countRequestStatus++,e},doRequestStatus:function(){this.nextTick((function(){var e=this.handleResponseStatus.bind(this);ns.Model.get("queueRequest").push({id:"do-status-operation",params:{oid:this.get(".oid")}}).then(e,e)}))},getType:function(){var e=this.id.replace(/^operation/,"");return e.charAt(0).toLowerCase()+e.substr(1)},nextTick:function(e){window.setTimeout(e.bind(this),this.getTimeoutStatus())},isActive:function(){return u.includes(["started","progressing","determined"],this.get(".status"))},countItems:function(){return 1},getResourcePathKeyForLockError:function(){return".idSrc"},extractErrorFromResponse:function(e){return e&&(e.get(".error")||e.getError())},checkReasonFailed:function(e){var t=this.extractErrorFromResponse(e)||{};if("HTTP_507"===t.id||"507"===t.response||507===t.response)t.body&&234===t.body.code?this.set(".reason","NO_SPACE_OWNER"):this.set(".reason","NO_SPACE");else if("HTTP_423"===t.id){this.set(".reason","READ_ONLY");var n=u.get(t,"body.data"),o=n.op_type,a=n.path,s=n.uid,c=Object(r.getSplittedLockErrorMessage)({lockType:o,lockInitiatorUid:s,lockedResourcePath:a,targetResourcePath:this.get(this.getResourcePathKeyForLockError()),myUid:Object(i.default)().getState().user.uid,failedOperationType:this.getType()}),l=c.reasonText,d=c.reasonTextAux;this.set(".reasonText",l),this.set(".reasonTextAux",d)}},onEnd:function(e){this.on("ns-model-changed.status",(function t(n,r){u.includes(["done","failed"],this.get(".status"))&&(e(n,r),this.off("ns-model-changed.status",t))}))},fetchResource:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(i.default)(),s=a.getState().page.idContext;(n&&s===e?a.dispatch(Object(o.fetchCurrentListing)()):a.dispatch(Object(o.fetchSingleResource)(e,r))).then((function(){t.handleSyncResource()})).catch((function(){t.handleSyncResource()}))},handleSyncResource:d,showNotification:function(e){Object(i.default)().dispatch(Object(a.notify)(e))},getStoreOperationId:function(){return this.key.replace("model=","").replace("&id=","")},addOperationToStore:function(){Object(i.default)().dispatch(Object(s.c)(Object.assign({},{id:this.getStoreOperationId(),type:this.getType(),data:this.getData()})))},updateOperationInStore:function(){Object(i.default)().dispatch(Object(s.g)(Object.assign({},{id:this.getStoreOperationId(),type:this.getType(),data:this.getData()})))},removeOperationFromStore:function(){Object(i.default)().dispatch(Object(s.e)({id:this.getStoreOperationId()}))},startTiming:function(){this.set(".startTime",Date.now())},sendTiming:function(){var e=this.get(".startTime");e&&Ya.Rum.sendDelta("operation.".concat(this.getType()),Date.now()-e)}}),p.define=function(e,t){return t.params={id:null},t.events={"ns-model-before-destroyed":"onbeforedestroy"},ns.Model.define(e,t,p)},t.a=p}),(function(e,t,n){"use strict";n.r(t),n.d(t,"defaultActionButtonProps",(function(){return I}));var r=n(33),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(10),y=n.n(g),b=n(0),_=n.n(b),O=n(142),E=n.n(O),w=n(164),S=n(26),C=n(11),x=n.n(C);n(2128);function T(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(){return x()()("confirmation-dialog")},R={view:"default",size:"m"},I=k(k({},R),{},{view:"action"}),A=function(e){return"_".concat(e,"Ref")},D=(function(e){f()(n,e);var t=T(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onShow=r._onShow.bind(l()(r)),r}return u()(n,[{key:"_onShow",value:function(){if(this.props.autofocusButton){var e=A(this.props.actionButton);this[e]&&!this[e].disabled&&this[e].focus()}}},{key:"_setButtonRef",value:function(e,t){this[A(e)]=t}},{key:"render",value:function(){var e=this.props,t=e.submitButtonText,n=e.submitDisabled,r=e.extraButtonText,o=e.cancelButtonText,a=e.actionButton,s=e.progress,u=e.children,c=e.onSubmit,l=e.onExtraButtonClick,d=e.onCancel,f=this.props.submitButtonProps||("submit"===a?I:R),p=this.props.extraButtonProps||("extra"===a?I:R),h=this.props.cancelButtonProps||("cancel"===a?I:R);return _.a.createElement(w.default,i()({},this.props,{onRender:this._onShow,keepMounted:!1,cls:j().mix(this.props.cls||"")}),_.a.createElement("div",{className:j().e("content")},u),_.a.createElement("div",{className:j().e("footer")},o?_.a.createElement(S.Button,i()({innerRef:this._setButtonRef.bind(this,"cancel")},Object.assign({onClick:d,disabled:s,className:j().e("button").m({cancel:!0}).mix(h.className||"")},h)),o):null,r?_.a.createElement(S.Button,i()({innerRef:this._setButtonRef.bind(this,"extra")},Object.assign({onClick:l,className:j().e("button").m({extra:!0}).mix(p.className||"")},p)),r):null,t?_.a.createElement(S.Button,i()({innerRef:this._setButtonRef.bind(this,"submit")},Object.assign({onClick:c,progress:s,disabled:n,className:j().e("button").m({submit:!0}).mix(f.className||"")},f)),t):null))}}]),n})(b.Component);D.defaultProps=Object.assign({},w.default.defaultProps,{actionButton:"submit",autofocusButton:!0,onExtraButtonClick:E.a,onSubmit:E.a,onCancel:E.a}),t.default=D}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getPhotosliceSliderResources",(function(){return p})),n.d(t,"getAlbumSliderResources",(function(){return h})),n.d(t,"getSliderResources",(function(){return m})),n.d(t,"getSliderResourceNeighbour",(function(){return v}));var r=n(46),i=n(36),o=n(44),a=n(98),s=n(32),u=n(216),c=n(9),l=n.n(c),d=n(215),f=Object(r.createSelector)([i.currentResourceIsComplete,i.currentResourceChildrenIds,i.resourcesSelector,i.sliderResourceSelector],(function(e,t,n,r){return r?t.includes(r.id)?{sliderResources:t.reduce((function(e,t){var r=n[t];return Object(i.isSliderResource)(r)&&e.push(r),e}),[]),possiblyHasNext:!e}:{sliderResources:[r]}:{sliderResources:[]}})),p=function(e){var t=Object(i.sliderResourceSelector)(e);if(!t)return{sliderResources:[]};var n=Object(a.getNextPhotosliceResources)(e,t,u.a,-1),r=Object(a.getNextPhotosliceResources)(e,t,u.a,1);return{sliderResources:n.resources.reverse().concat(t).concat(r.resources),possiblyHasPrevious:n.possiblyNotLoaded,possiblyHasNext:r.possiblyNotLoaded}},h=function(e){var t=Object(s.getCurrentAlbum)(e),n=Object(i.sliderResourceSelector)(e),r=Object(s.getCurrentAlbumResources)(e);return n?r.find((function(e){return e.id===n.id}))?{sliderResources:Object(s.getCurrentAlbumResources)(e),possiblyHasNext:!t.isCompleted}:{sliderResources:[n]}:{sliderResources:[]}},m=function(e){var t=Object(o.getPage)(e);return"photo"===t?p(e):"album"===t?h(e):f(e)},v=function(e,t){var n=Object(o.getPage)(e),r=e.page.idDialog;if("photo"===n){var u=e.resources[e.page.idDialog];return Object(a.getPhotosliceNeighbour)(e,u.id,t).resource}if("album"===n)return Object(s.getAlbumNextResource)(e,r,t);var c=e.resources,f=Object(i.currentResourceChildrenIds)(e);return l.a.last(Object(d.b)(f.map((function(e){return c[e]})),r,{take:t,loop:!1,matcher:function(e,t){return t&&r===t.id},filter:i.isSliderResource}))}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"POSITIONS",(function(){return A}));var r=n(10),i=n.n(r),o=n(33),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(2),y=n.n(g),b=n(0),_=n.n(b),O=n(142),E=n.n(O),w=n(1084),S=n(925),C=n(285),x=n(950),T=n(45),P=n(11),k=n.n(P),j=n(171);n(2044);function R(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var I=function(){return k()()("listing-item")},A={ALWAYS_RIGHT:"ALWAYS_RIGHT",TOP_RIGHT:"TOP_RIGHT"},D=(function(e){h()(n,e);var t=R(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._setRef=r._setRef.bind(f()(r)),r}return l()(n,[{key:"componentWillUnmount",value:function(){this.props.resourceRef(this.props.id,null)}},{key:"_getIcon",value:function(){var e=this.props,t=e.listingMods,n=e.type,r=e.defaultPreview,i=e.noIcon,o=e.iconType,s=e.canPlayVideo,u=e.theme;if(i)return null;var c=r&&!o?{type:"preview"}:{type:"icon",resource:n},l=[_.a.createElement(w.a,a()({key:"icon-preview"},this.props))];return Object(j.b)(u)||(l.push(_.a.createElement("div",{className:I().e("fields"),key:"fields"},this._getAdditionalData())),l=_.a.createElement("div",{className:I().e("icon-wrapper").m({"with-shadow":Boolean(s)}).mix(t["with-drag-and-drop"]&&t["with-mouse-selection"]&&T.LISTING_PREVENT_MOUSE_SELECTION_CLASS)},l)),_.a.createElement("div",{className:I().e("icon").m(c)},l)}},{key:"_getColumns",value:function(e,t){var n=this.props.theme,r=Object(j.b)(n)?"column":"field";return e.filter((function(e){return(!e.themes||e.themes.includes(n))&&t&&t(e)})).map((function(e,t){var n=e.type,o=e.content,a=e.mix,s=e.role;return _.a.createElement("div",{className:I().e(r).m(i()({},n,!0)).mix(a),key:"".concat(n,"_").concat(t),role:s||"cell"},o)}))}},{key:"_getAdditionalData",value:function(){var e=this.props,t=e.id,n=e.additionalFields,r=e.theme,i=e.onPlayVideoClick,o=e.canPlayVideo,a=n||[];return o&&i&&a.push({type:"play-video",themes:["tile"],role:"none",content:_.a.createElement(S.default,{iconSize:"l",onClick:function(){return i(t)}})}),this._getColumns(a,(function(e){return!(Object(j.b)(r)&&e.position===A.ALWAYS_RIGHT||!Object(j.b)(r)&&e.position===A.TOP_RIGHT)}))}},{key:"_getRightColumn",value:function(){var e=this.props,t=e.additionalFields,n=e.theme;return Object(j.b)(n)&&t?this._getColumns(t,(function(e){return e.position===A.ALWAYS_RIGHT})):null}},{key:"_getTopRightContent",value:function(){var e=this.props,t=e.additionalFields,n=e.theme;return Object(j.b)(n)||!t?null:this._getColumns(t,(function(e){return e.position===A.TOP_RIGHT}))}},{key:"_getTitle",value:function(){var e=this,t=this.props,n=t.name,r=t.titleOverflow,i=t.theme,o=t.size,a=t.isTouch,s=n;if("clamp"===r)s=_.a.createElement(C.default,{font:"".concat(a?"15px/16px":"13px/14px",' "YS Text", sans-serif'),numberOfRows:"tile"===i?2:1,text:n,width:this.props.titleWidth});else if("length-limit"===r&&"tile"===i){var u="l"===o?23:16;s=s.length>u?s.slice(0,u).trim()+"…":s}return _.a.createElement("div",{className:I().e("title").m({overflow:r}),ref:function(t){e.props.titleNodeRef&&e.props.titleNodeRef(t)},"aria-label":n},s)}},{key:"_setRef",value:function(e){var t=this.props,n=t.resourceRef,r=t.id;this._ref=e,n(r,e)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.modifier,o=n.theme,a=n.size,s=n.type,u=n.noIcon,c=n.selected,l=n.highlighted,d=n.virus,f=n.listingMods,p=n.isDisabled,h=n.isMacSafari,m=n.isTouch;if("tile-empty"===o)return _.a.createElement("div",{className:I().m({theme:o,size:a})});var v=p(this.props),g={ref:this._setRef,className:I().m((e={},i()(e,r,!!r),i()(e,"theme",o),i()(e,"size",a),i()(e,"type",s),i()(e,"no-icon",u),i()(e,"selected",c),i()(e,"highlighted",l),i()(e,"disabled",v),i()(e,"virus",d),i()(e,"isMacSafari",h),i()(e,"listening-long-tap",Boolean(this.props.onLongTap)),e)).mix(this.props.cls).mix(Object(j.b)(o)&&f["with-drag-and-drop"]&&f["with-mouse-selection"]&&T.LISTING_PREVENT_MOUSE_SELECTION_CLASS)};c&&(g["aria-selected"]=!0),v||(["onClick","onDoubleClick","onFocus","onTouchEnd","onTouchStart","onTouchMove","onContextMenu"].forEach((function(e){g[e]=t.props[e]})),m||(g.onKeyDown=this.props.onKeyDown,g.tabIndex=this.props.tabIndex,g.role="row"));var y=this._getRightColumn(),b=this._getTopRightContent();return _.a.createElement("div",g,_.a.createElement("div",{className:I().e("info")},this._getTitle(),Object(j.b)(o)?this._getAdditionalData():null),this._getIcon(),y&&y.length>0&&_.a.createElement("div",{className:I().e("right")},y),b&&b.length>0&&_.a.createElement("div",{className:I().e("top-right")},b))}}]),n})(b.PureComponent);D.defaultProps={theme:"row",size:"m",selected:!1,virus:!1,isDisabled:function(e){var t=e.state;return Boolean(t&&t.disabled)},listingMods:{},resourceRef:E.a,onContextMenu:E.a},t.default=Object(x.a)(D)}),(function(e,t,n){var r=n(176),i=n(722),o=n(723),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:u&&u in Object(e)?i(e):o(e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1075);t.ContentWithNamesContext=r.ContentWithNamesContext,t.ResourceName=r.ResourceName;const i=n(31),o=n(79),a=new i.Registry({id:"I18N"});a.set("I18N",o.I18N);const s=i.withRegistry(a)(r.ContentWithNames);t.ContentWithNames=s}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(49),o=(n(738),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1),i=n(0),o=n.n(i),a=n(3),s=n(355),u=n(196),c=n(49),l=n(192),d={top:-9999,left:-9999,position:"fixed"},f=Object(a.withBemMod)(Object(c.b)(),{target:"anchor"},(function(e){return function(t){var n=t.anchor,i=t.direction,a=void 0===i?l.a:i,c=t.hasTail,f=t.mainOffset,p=void 0===f?c?0:4:f,h=t.modifiers,m=t.motionless,v=t.secondaryOffset,g=t.style,y=t.tailOffset,b=(t.target,t.viewportOffset),_=t.visible,O=void 0!==_&&_,E=t.innerRef,w=t.tailRef,S=t.boundary,C=Object(r.__rest)(t,["anchor","direction","hasTail","mainOffset","modifiers","motionless","secondaryOffset","style","tailOffset","target","viewportOffset","visible","innerRef","tailRef","boundary"]),x=Object(s.a)({anchorRef:n,children:C.children,placement:a,motionless:m,enabled:O,marginThreshold:b,modifiers:h,offset:[v,p],unsafe_tailOffset:y,boundary:S}),T=x.setPopupRef,P=x.setArrowRef;return o.a.createElement(e,Object(r.__assign)({},C,{hasTail:c,innerRef:Object(u.a)(T,E),style:Object(r.__assign)(Object(r.__assign)({},d),g),tailRef:Object(u.a)(P,w),unstable_essentialRefs:[n],visible:O}))}}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getScansPath=(e=>{return e.defaultFolders.folders.scans}),t.isScansPage=(e=>"scans"===e.page.idPage),t.isScansLoading=(e=>{const n=t.getScansPath(e);return!e.resources[n]||e.resources[n].isLoading})}),(function(e,t,n){"use strict";n.r(t);var r=n(28),i=n(75),o=Object(r.cn)("Theme"),a="",s=function(e){var t=e.theme,n=e.root,r=void 0===n?Object(i.a)()?document.body:null:n;if(Object(i.a)()){if(!r)throw new Error("Значение в root не является DOM-элементом, невозможно установить глобальную тему.");var s=r.className.replace(a,"");a=o(t),r.className=s+" "+a}};n.d(t,"cnTheme",(function(){return o})),n.d(t,"configureRootTheme",(function(){return s}))}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(0),y=n.n(g),b=n(407),_=n(147),O=n(210),E=n(26),w=n(11),S=n.n(w);n(2127);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var x=function(){return S()()("dialog")},T=(function(e){f()(n,e);var t=C(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={titleTabIndex:0},r._onAnimationEnd=r._onAnimationEnd.bind(l()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){this.setState({titleTabIndex:0})}},{key:"componentDidUpdate",value:function(e){!e.visible&&this.props.visible&&this.setState({titleTabIndex:0})}},{key:"_onAnimationEnd",value:function(){var e=this.props.onAnimationEnd;e&&e(),this.setState({titleTabIndex:-1})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.visible,r=e.children,o=e.cls,a=e.noCloseButton,s=e.closeButtonAriaLabel,u=e.onClose,c=e.useMobilePane,l=e.hasAnimation,d=e.keepMounted,f=e.trapFocus,p=e.onRender,h=e.modalRef,m=e.theme,v=e.zIndex,g=e.restoreFocusRef,w=c?_.Drawer:b.Modal,S={onClose:this.props.preventCloseOnOutsideClick?void 0:u,visible:n,innerRef:h,zIndex:v};return Object.assign(S,c?{view:"default"}:{className:x().mix(o),theme:m,onRender:p,hasAnimation:l,keepMounted:d,trapFocus:f,restoreFocusRef:g}),y.a.createElement(w,i()({},S,{onAnimationEnd:this._onAnimationEnd}),y.a.createElement("div",{className:x().e("wrap")},t?y.a.createElement("h2",{className:x().e("title"),tabIndex:this.state.titleTabIndex},t):null,a?null:y.a.createElement(E.Button,{view:"clear",size:"s",className:x().e("close"),"aria-label":s,onClick:u,icon:function(e){return y.a.createElement(O.default,{cls:e,iconSize:"m"})}}),y.a.createElement("div",{className:x().e("body")},r)))}}]),n})(g.Component);T.defaultProps={theme:"normal",visible:!1,onClose:function(){}},t.default=T}),(function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(103),a=n.n(o),s=n(9),u=n.n(s),c=n(522),l=n.n(c);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={init:function(e,t){this._rumServiceIdArray=[l.a.TLD.ru,l.a.SERVICE.disk,l.a.APP[e]],this._rumSubPage=null,this._lastUrl="",t&&(this._blocks=t,ns.events.on("ns-page-before-load",this._onPageBeforeLoad.bind(this))),this._handleFirstLoad=u.a.once(this._handleFirstLoad.bind(this)),this._runningXhrCount=0,this._tempResourceTimingBuffer=[],"function"==typeof performance.addEventListener&&performance.addEventListener("resourcetimingbufferfull",this._onResourceTimingBufferFull.bind(this))},reachBlock:function(e){return e===this._blockName&&(this._isBlockReached=!0,!0)},withResourceTimingsPreserved:function(e){var t=this;return this._runningXhrCount++,e.then((function(e){var n=[e,t.getResourceTimings()];return t._decXrhCount(),n}),(function(e){throw t._decXrhCount(),e}))},collectNSTimings:function(e){this._blockName&&(this._collectedNSTimings.push(e),this._isBlockReached&&this._finishCollectTimings())},collectTimings:function(e){this._blockName&&(Object.assign(this._collectedTimings,e),this._isBlockReached&&this._finishCollectTimings())},reachBlockAndFinishCollectTimings:function(e){this.reachBlock(e),this.collectTimings({})},sendHeroElement:function(){this._sendHeroElement&&(Ya.Rum.sendHeroElement(),this._sendHeroElement=!1)},startCollectTimings:function(e){this._startCollectTimings(e)},_getResourceTimings:function(){return performance&&"function"==typeof performance.getEntriesByType?performance.getEntriesByType("resource"):[]},getResourceTimings:function(){return this._tempResourceTimingBuffer.concat(this._getResourceTimings())},_onResourceTimingBufferFull:function(){this._runningXhrCount&&(this._tempResourceTimingBuffer=this._tempResourceTimingBuffer.concat(this._getResourceTimings())),performance.clearResourceTimings()},_getRumSubPageId:function(e){return this._rumServiceIdArray.concat(l.a.BLOCK[e]).join(".")},_onPageBeforeLoad:function(e,t,n){var r=a()(t,2)[1];if(window.Ya.Rum&&window.Ya.Rum.updateErrors({page:this._findBlock(r),additional:f(f({},window.Ya.Rum.getErrorSetting("additional")),{},{dialog:r.params.dialog||null,idContextRoot:r.params.idContext.split("/")[1]})}),n!==this._lastUrl&&!this._blockName){var i=this._findBlock(r);i&&this._startCollectTimings(i),this._handleFirstLoad(i)}this._lastUrl=n},_handleFirstLoad:function(e){e&&(this._sendHeroElement=!0)},_startCollectTimings:function(e){this._collectedNSTimings=[],this._collectedTimings={},this._blockName=e,this._isBlockReached=!1,this._rumSubPage=Ya.Rum.makeSubPage(this._getRumSubPageId(e))},_finishCollectTimings:function(){var e,t=this._collectedTimings.paint||Ya.Rum.getTime();["listing","slider"].includes(this._blockName)?(this._collectedTimings.blockFirstPaint&&Ya.Rum.sendTimeMark("2793",this._collectedTimings.blockFirstPaint,!1,this._rumSubPage),this._collectedTimings.xhrDuration&&(e=this._collectedTimings.xhrDuration)):e=this._collectedNSTimings.reduce((function(e,t){return e+Object.keys(t).reduce((function(e,n){return n.startsWith("requestModels")?e+t[n]:e}),0)}),0),Ya.Rum.sendTimeMark("1926",t,!1,this._rumSubPage),e&&Ya.Rum.sendTimeMark("3375",t-e,!1,this._rumSubPage),this._collectedTimings.allPreviewsLoaded&&Ya.Rum.sendTimeMark("3669",this._collectedTimings.allPreviewsLoaded.time,!1,Object.assign({1385:this._collectedTimings.allPreviewsLoaded.count},this._rumSubPage)),this._rumSubPage&&!this._rumSubPage.isCanceled()&&this._rumSubPage.cancel(),this._rumSubPage=null,this.sendHeroElement(),this._blockName="",this._isBlockReached=!1},_findBlock:function(e){var t=this;return Object.keys(this._blocks).find((function(n){return t._blocks[n](e)}))},_decXrhCount:function(){this._runningXhrCount--,this._runningXhrCount||(this._tempResourceTimingBuffer=[])}};t.a=p}),(function(e,t,n){var r=n(1361);function i(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";function r(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(119),i=n(66),o=n(169);function a(e){return Object(r.a)(Object(i.a)(e)).left+Object(o.a)(e).scrollLeft}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(62);function i(e){var t=Object(r.a)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(82);function i(e){var t=Object(r.a)(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(1086),i=n.n(r),o=function(e){return"row"===e},a=function(e,t,n){var r=Object.assign(e||{},t);return n&&i()(n,r)?n:r}}),(function(e,t,n){"use strict";var r=n(131),i=n(170),o=n(77),a=n(50);var s=n(62);function u(e,t){void 0===t&&(t=[]);var n=(function e(t){return["html","body","#document"].indexOf(Object(o.a)(t))>=0?t.ownerDocument.body:Object(a.b)(t)&&Object(i.a)(t)?t:e(Object(r.a)(t))})(e),c="body"===Object(o.a)(n),l=Object(s.a)(n),d=c?[l].concat(l.visualViewport||[],Object(i.a)(n)?n:[]):n,f=t.concat(d);return c?f:f.concat(u(Object(r.a)(d)))}n.d(t,"a",(function(){return u}))}),(function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return E}));var r=n(10),i=n.n(r),o=n(40),a=n(35),s=n(15),u=n(24),c=n(13),l=n(104),d=n(14);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,m={zero:"history",full:"history,content,folders,files"},v=function(e){return{type:c.UPDATE_SUGGEST_ACTIVATION,active:e}},g=function(e){return{type:c.UPDATE_SUGGEST_QUERY,payload:e}},y=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.UPDATE_SUGGEST_RESULT;return function(i,a){i(g(t));var s=a();if(!Object(l.d)(s)){var u=Date.now();h=u;var d=Object.assign({length:10,suggestTypes:m.full,timeout:200,locale:s.environment.session.locale,sessionId:Object(l.a)(s).sessionId},n,{request:t});return Object(o.a)("do-suggest",d,{retriesLeft:0,retryOffline:!1}).then((function(n){if(u===h){var o=n.suggest,a=n["retry-suggest-types"];if(o&&i({type:r,payload:{state:"loaded",items:o}}),a&&a.length&&o&&d.length-o.length>0){var s=Object.assign(d,{timeout:2*d.timeout,length:d.length-o.length,suggestTypes:a.join(",")});return i(e(t,s,c.APPEND_SUGGEST_RESULT))}return n}})).catch((function(e){u===h&&i({type:c.UPDATE_SUGGEST_RESULT,payload:{state:"error",error:e||""}})}))}}},b=function(e,t){return function(n,r){var i=r(),o=i.page.idContext;o.startsWith("/journal")||Object(u.isVirtualDiskJournal)(o)||(Object(l.c)(i)?d.default.count("search-stat",e,p(p({},Object(l.a)(i)),{},{timestamp:Date.now()},t)):o.startsWith("/search")&&d.default.count("search-stat",e,p({timestamp:Date.now()},t)))}},_=function(){return function(e,t){var n=t(),r=n.environment.session.requestId;"/journal"!==n.page.idContext&&(e({type:c.START_SEARCH_SESSION,payload:r}),e(b("start")))}},O=function(e){d.default.countSuggest("select",e)},E=function(e,t,n){return function(r,i){var o=i().suggest.query;"history"!==e.type&&r(b("suggest-item-select",{position:t,queryText:o}));var u=!1;switch(e.type){case"history":O("recent");break;case"content":O("file");break;case"files":case"folders":var c=r(function(e){return function(t,n){var r=e.key,i=n(),o=i.resources,u=i.page.idContext,c=o[r]||a.default.castSuggestItemToResource(e);if(c)return"dir"===c.type||"docviewer"===c.app?t(Object(s.openResource)(c)):"slider"===c.app?u&&u.startsWith("/album")?(t(v(!1)),t(Object(s.goToResource)(r)).then((function(){return t(Object(s.openResource)(c))}))):t(Object(s.openResource)(c)):t(Object(s.goToResource)(r)),c}}(e));if(c){var l=c.app,d=c.type,f=c.meta,p=f&&f.mediatype;["docviewer","slider"].includes(l)?u=void 0:n||r(v(!1));var h="file";"docviewer"===l?h="dv":"dir"===d?h="folder":"video"===p?h="video":a.default.isOpenableImage(c)&&(h="photo"),O(h)}}return u}}}),(function(e,t){e.exports={default:"blank",virus:"virus",folderDefault:"dir",folderTypes:["dir_plus","dir_back","dir_gray","dir_root","dir_screenshots","dir_scans","dir_shared","dir_family","dir_trash","dir_trash-full","dir_yateamnda","vd_vd","dir_wfolio"],mediatypes:{image:"image",audio:"audio",video:"video",archive:"archive",text:"text",book:"book",development:"development",executable:"executable",font:"font",mail:"mail",compressed:"archive"},extnames:{".7z":"7z",".cab":"archive",".gz":"archive",".gzip":"archive",".rar":"rar",".tar":"archive",".zip":"zip",".zipx":"zip",".aud":"audio",".flac":"audio",".iff":"audio",".m3u":"audio",".m3u8":"audio",".m4a":"audio",".m4b":"audio",".m4r":"audio",".mp3":"audio",".pls":"audio",".ogg":"audio",".wav":"audio",".wma":"audio",".asf":"video",".avi":"video",".flv":"video",".mov":"video",".mp4":"video",".mpeg":"video",".mkv":"video",".mpg":"video",".srt":"video",".swf":"video",".vob":"video",".wmv":"video",".ai":"ai",".cur":"image",".bmp":"image",".dng":"image",".djvu":"djvu",".ico":"image",".gif":"image",".jpg":"image",".jpeg":"image",".png":"image",".psd":"psd",".pcx":"image",".mng":"image",".sketch":"sketch",".tif":"image",".tiff":"image",".xcf":"image",".epub":"epub",".fb2":"fb2",".csv":"table",".doc":"doc",".docx":"doc",".dot":"doc",".dotx":"doc",".indd":"text",".key":"text",".odt":"odt",".odp":"odp",".pdf":"pdf",".pps":"text",".ppsm":"text",".ppsx":"text",".ppt":"ppt",".pptx":"ppt",".ods":"ods",".rtf":"rtf",".txt":"txt",".xls":"xls",".xlsb":"xls",".xlsx":"xls",".xltm":"xls",".xltx":"xls",".xps":"text",".css":"css",".htm":"html",".html":"html",".js":"js",".xhtml":"html",".ini":"ini",".xml":"xml",".exe":"exe",".dll":"dll",".vcf":"vcf"}}}),(function(e,t,n){"use strict";(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||(function(){return this})()||this||Function("return this")()}).call(this,n(110))}),(function(e,t,n){var r=n(101).Symbol;e.exports=r}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=t.cnPopup=void 0;var r=n(1),i=r.__importStar(n(0)),o=n(31),a=n(28),s=n(268),u=n(269),c=n(270);n(740),t.cnPopup=a.cn("Popup2");t.Popup=function(e){var n=e.addonAfter,a=e.addonBefore,l=e.children,d=e.className,f=e.direction,p=e.hasTail,h=e.innerRef,m=e.keepMounted,v=e.scope,g=e.style,y=e.tailRef,b=e.tailSize,_=e.visible,O=e.zIndex,E=e.disableOverlay,w=e.unstable_onRenderTail,S=e.onClose,C=e.unstable_essentialRefs,x=void 0===C?[]:C,T=e.onClick,P=(e.theme,e.view,e.nonvisual,r.__rest(e,["addonAfter","addonBefore","children","className","direction","hasTail","innerRef","keepMounted","scope","style","tailRef","tailSize","visible","zIndex","disableOverlay","unstable_onRenderTail","onClose","unstable_essentialRefs","onClick","theme","view","nonvisual"])),k=i.useRef(null),j=o.useComponentRegistry(t.cnPopup()).Tail;return c.useOverlay({onClose:S,visible:!E&&_,essentialRefs:r.__spread([k],x)}),i.default.createElement(u.Portal,{scope:v,visible:_,keepMounted:m},i.default.createElement("div",r.__assign({},P,{className:t.cnPopup({visible:_},[d]),"data-popper-placement":f,onClick:T,ref:s.useForkRef(k,h),style:r.__assign(r.__assign({},g),{zIndex:O})}),a,"function"==typeof l?l({tailRef:y}):l,n,w&&w(i.default.createElement(j,{ref:y,style:{height:b,width:b}})),!w&&p&&i.default.createElement(j,{ref:y,style:{height:b,width:b}})))},t.Popup.displayName=t.cnPopup()}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeContext=void 0;const i=r(n(0));t.ThemeContext=i.default.createContext({theme:{},isDark:!1})}),(function(e,t,n){"use strict";n.r(t);var r=n(55),i=n(1),o=n(0),a=n.n(o),s=n(3),u=(n(203),n(1496),Object(s.withBemMod)(Object(r.b)(),{glyph:"carets-v"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"8",height:"14"},a.a.createElement("path",{d:"M4 0l4 6H0l4-6zm0 14l4-6H0l4 6z"})))}}))),c=(n(1497),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-arrow"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),"xs"===o.size?a.a.createElement("svg",{focusable:"false",width:"11",height:"7",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M9.25 1L5.5 4.6 1.75 1 1 1.72 5.5 6 10 1.72 9.25 1z"})):a.a.createElement("svg",{focusable:"false",width:"13",height:"8",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M11.3 1L6.5 5.7 1.7 1l-.7.7L6.5 7 12 1.7l-.7-.7z"})))}}))),l=n(575),d=(n(1498),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-close"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},a.a.createElement("polygon",{points:"10,0.714 9.287,0 5,4.286 0.714,0 0,0.714 4.286,5 0,9.285 0.714,10 5,5.714 9.287,10 10,9.285 5.714,5"})))}}))),f=(n(1499),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-cross-websearch"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},a.a.createElement("path",{d:"M6.586 8L.93 2.343 2.342.93 8 6.585 13.657.93l1.414 1.413L9.42 8l5.657 5.657-1.413 1.414L8 9.42l-5.657 5.65L.93 13.658 6.585 8z"})))}}))),p=(n(1500),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-cross"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),"xs"===o.size?a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},a.a.createElement("polygon",{points:"10,0.7 9.3,0 5,4.3 0.7,0 0,0.7 4.3,5 0,9.3 0.7,10 5,5.7 9.3,10 10,9.3 5.7,5"})):a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},a.a.createElement("polygon",{points:"14,0.7 13.3,0 7,6.3 0.7,0 0,0.7 6.3,7 0,13.3 0.7,14 7,7.7 13.3,14 14,13.3 7.7,7"})))}}))),h=(n(1501),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-filter"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 16",width:"20",height:"16"},a.a.createElement("path",{d:"M7.17 12H0v2h7.17c.413 1.165 1.524 2 2.83 2s2.417-.835 2.83-2H20v-2h-7.17c-.413-1.165-1.524-2-2.83-2s-2.417.835-2.83 2zm-7-10H0v2h.17C.584 5.165 1.695 6 3 6s2.417-.835 2.83-2H20V2H5.83C5.416.835 4.305 0 3 0S.583.835.17 2z"})))}}))),m=(n(1502),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-indeterminate"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fill:"#fff",d:"M4 7h9v3H4z"})))}}))),v=(n(1503),Object(s.withBemMod)(Object(r.b)(),{glyph:"type-tick"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10"},a.a.createElement("path",{d:"M1.49 4.885l1.644-1.644 4.385 4.385L5.874 9.27 1.49 4.885zm4.384 1.096L11.356.5 13 2.144 7.519 7.626 5.874 5.98v.001z"})))}}))),g=(n(1504),Object(s.withBemMod)(Object(r.b)(),{glyph:"x-sign"},(function(e){return function(t){var n=t.className,o=Object(i.__rest)(t,["className"]);return a.a.createElement(e,Object(i.__assign)({},o,{className:Object(r.b)({hasGlyph:!0},[n])}),a.a.createElement("svg",{viewBox:"0 0 20 20"},a.a.createElement("path",{focusable:"false",width:"0",height:"0",d:"M10,20 C4.5,20 0,15.5 0,10 C0,4.5 4.5,0 10,0 C15.5,0 20,4.5 20,10 C20,15.5 15.5,20 10,20 L10,20 L10,20 L10,20 Z M15,6.4 L13.6,5 L10,8.6 L6.4,5 L5,6.4 L8.6,10 L5,13.6 L6.4,15 L10,11.4 L13.6,15 L15,13.6 L11.4,10 L15,6.4 L15,6.4 L15,6.4 L15,6.4 Z"})))}}))),y=(n(1505),Object(s.withBemMod)(Object(r.b)(),{type:"arrow"})),b=(n(1506),Object(s.withBemMod)(Object(r.b)(),{type:"close"})),_=(n(1507),Object(s.withBemMod)(Object(r.b)(),{type:"cross-websearch"})),O=(n(1508),Object(s.withBemMod)(Object(r.b)(),{type:"cross"})),E=(n(1509),Object(s.withBemMod)(Object(r.b)(),{type:"filter"}));n.d(t,"cnIcon",(function(){return r.b})),n.d(t,"Icon",(function(){return r.a})),n.d(t,"withGlyphCaretsV",(function(){return u})),n.d(t,"withGlyphTypeArrow",(function(){return c})),n.d(t,"withGlyphTypeCheck",(function(){return l.a})),n.d(t,"withGlyphTypeClose",(function(){return d})),n.d(t,"withGlyphTypeCrossWebsearch",(function(){return f})),n.d(t,"withGlyphTypeCross",(function(){return p})),n.d(t,"withGlyphTypeFilter",(function(){return h})),n.d(t,"withGlyphTypeIndeterminate",(function(){return m})),n.d(t,"withGlyphTypeTick",(function(){return v})),n.d(t,"withGlyphXSign",(function(){return g})),n.d(t,"withTypeArrow",(function(){return y})),n.d(t,"withTypeClose",(function(){return b})),n.d(t,"withTypeCrossWebsearch",(function(){return _})),n.d(t,"withTypeCross",(function(){return O})),n.d(t,"withTypeFilter",(function(){return E}))}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});const i=n(100);t.maybeFetchAccessFolderUsers=i.createAction("accessFolder/fetchUsers"),t.revokeAccess=i.createAction("accessFolder/revokeAccess"),t.inviteUser=i.createAction("accessFolder/inviteUser"),t.changeRights=i.createAction("accessFolder/changeRights"),t.unshareFolder=i.createAction("accessFolder/unshareFolder"),t.fetchSuggestions=i.createAction("accessFolder/fetchSuggestions"),t.processRemoteAction=i.createAction("accessFolder/processRemoteAction");const o=i.createSlice({name:"access-folder",initialState:{usersByResource:{},suggest:{suggestions:[]}},reducers:{setUsersLoadingState(e,t){e.usersByResource[t.payload.id]=Object.assign(Object.assign({},e.usersByResource[t.payload.id]||{}),{isLoading:t.payload.isLoading})},setUsers(e,t){e.usersByResource[t.payload.id]=Object.assign(Object.assign({},e.usersByResource[t.payload.id]||{}),{users:t.payload.users,isLoading:!1})},updateUser(e,t){const n=e.usersByResource[t.payload.id].users.find(({email:e})=>e===t.payload.email);n&&Object.assign(n,t.payload.data)},updateUserByUid(e,t){const n=e.usersByResource[t.payload.id].users.find(({uid:e})=>e===t.payload.uid);n&&Object.assign(n,t.payload.data)},removeUser(e,t){e.usersByResource[t.payload.id].users=e.usersByResource[t.payload.id].users.filter(({email:e})=>e!==t.payload.email)},setSuggestions(e,t){e.suggest.suggestions=[...t.payload]},setInvitingUser(e,t){e.usersByResource[t.payload.id]||(e.usersByResource[t.payload.id]={isLoading:!1,users:[]}),e.usersByResource[t.payload.id].invitingUser=t.payload.invitingUser},clearFolderState(e,t){e.usersByResource[t.payload.id]={isLoading:!1,users:[]}}}});r=o.actions,t.setUsersLoadingState=r.setUsersLoadingState,t.setUsers=r.setUsers,t.updateUser=r.updateUser,t.updateUserByUid=r.updateUserByUid,t.removeUser=r.removeUser,t.setSuggestions=r.setSuggestions,t.setInvitingUser=r.setInvitingUser,t.clearFolderState=r.clearFolderState,t.default=o.reducer}),(function(e,t,n){"use strict";n.r(t),n.d(t,"resourceView",(function(){return a})),n.d(t,"isResourcesEqual",(function(){return s})),n.d(t,"resourcesSelectorCreator",(function(){return u}));var r=n(46),i=n(38),o=n(409),a=function(e){if(!e)return i.RESOURCE_VIEWS.NONE;if(e.errorCode||e.blocked)return i.RESOURCE_VIEWS.ERROR;if("album"===e.type)return i.RESOURCE_VIEWS.ALBUM;if("dir"===e.type)return i.RESOURCE_VIEWS.DIR;if(e.virus)return i.RESOURCE_VIEWS.ICON;var t=e.meta;if(t){if("image"===t.mediatype&&t.hasPreview)return i.RESOURCE_VIEWS.IMAGE;if("video"===t.mediatype&&!e.videoStreamsFetchError&&e.isAvialableForVideoPlayer)return i.RESOURCE_VIEWS.VIDEO;if("audio"===t.mediatype&&Object(o.a)(t.mimetype))return i.RESOURCE_VIEWS.AUDIO;if(t.hasPreview)return i.RESOURCE_VIEWS.PREVIEW}return i.RESOURCE_VIEWS.ICON},s=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},u=Object(r.createSelectorCreator)(r.defaultMemoize,s)}),(function(e,t,n){"use strict";n.r(t);n(1550);var r=n(540);n.d(t,"textinputRegistry",(function(){return r.textinputRegistry}));var i=n(1009);for(var o in i)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return i[e]}))})(o);var a=n(1010);for(var o in a)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return a[e]}))})(o);var s=n(1011);for(var o in s)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return s[e]}))})(o);var u=n(1013);for(var o in u)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return u[e]}))})(o);var c=n(1014);for(var o in c)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return c[e]}))})(o);var l=n(1015);for(var o in l)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return l[e]}))})(o);var d=n(1016);for(var o in d)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return d[e]}))})(o);var f=n(1017);for(var o in f)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return f[e]}))})(o);var p=n(1018);for(var o in p)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return p[e]}))})(o);var h=n(1019);for(var o in h)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return h[e]}))})(o);var m=n(1020);for(var o in m)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return m[e]}))})(o);var v=n(1021);for(var o in v)["textinputRegistry","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return v[e]}))})(o);var g=n(567);n.d(t,"withSizeL",(function(){return g.a}));var y=n(1022);for(var o in y)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return y[e]}))})(o);var b=n(1023);for(var o in b)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return b[e]}))})(o);var _=n(1024);for(var o in _)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return _[e]}))})(o);var O=n(1025);for(var o in O)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return O[e]}))})(o);var E=n(1026);for(var o in E)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return E[e]}))})(o);var w=n(1028);for(var o in w)["textinputRegistry","withSizeL","default"].indexOf(o)<0&&(function(e){n.d(t,e,(function(){return w[e]}))})(o);var S=n(1135);n.d(t,"withViewFilled",(function(){return S.a}))}),,(function(e,t,n){var r=n(449),i=n(378);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(536),i={};i.ru=n(1385);t.default=((e,t,n)=>r.getComponentI18n(i,"share-dialog",e,t,n))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(1386)),s=i(n(1387)),u=i(n(985)),c=i(n(1388)),l=i(n(1389)),d=i(n(1390)),f=i(n(1391)),p=i(n(1392)),h=i(n(1393)),m=i(n(1394)),v=i(n(1395)),g=i(n(1396)),y=i(n(1397)),b=i(n(1398)),_=i(n(1399)),O=i(n(1400)),E=i(n(1401)),w=i(n(1402)),S=i(n(1403)),C=i(n(1404)),x=i(n(1405)),T=i(n(1406)),P=i(n(1407)),k=i(n(1408)),j=i(n(1409)),R={mail:a.default,check:s.default,cross:u.default,eye:d.default,pen:f.default,penSmallGrey:p.default,arrowBottom:c.default,arrowShort:l.default,info:h.default,trash:y.default,securityLockB2b:b.default,securityLockB2c:_.default,share:O.default,shield:E.default,touchShare:w.default,androidShare:S.default,copy:C.default,qr:x.default,download:T.default,calendar:P.default,warning:m.default,warningGrey:v.default,warningSmall:g.default,group:k.default,brokenChain:j.default},I=o.forwardRef(({name:e,className:t,onClick:n},r)=>o.default.createElement("div",{ref:r,className:t,onClick:n,dangerouslySetInnerHTML:{__html:R[e]}}));I.displayName="SvgImage",t.default=I}),(function(e,t,n){var r=n(388),i=n(462);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(49),o=(n(739),Object(r.withBemMod)(Object(i.b)(),{nonvisual:!0}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"moreIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fill:"currentColor"},h.a.createElement("circle",{cx:"8",cy:"2",r:"2"}),h.a.createElement("circle",{cx:"8",cy:"8",r:"2"}),h.a.createElement("circle",{cx:"8",cy:"14",r:"2"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(9)),o=r(n(23)),a=n(79),s=n(262),u=n(24),c=n(275),l=n(295),d=n(275);function f(e){const{events:[t]}=e;return Boolean(t.resource_type&&t.resource_media_type)}function p(e){const t=i.default.extend({},c.pageParams,c.baseJournalParams),n=i.default({}).extend(ns.page.current.params,e).pick(i.default.keys(t)).pickBy(Boolean).value();return ns.router.generateUrl("client-dualPane",n)}function h(e){const t=new Date(e);return t.setHours(23,59,59,999),t}function m(e){if("file"===e.resource_type){const t=e.resource_media_type;return"image"===t?l.ResourceType.photo:"video"===t?l.ResourceType.video:l.ResourceType.file}return l.ResourceType.folder}function v(e){var t;return(null===(t=e.product_period)||void 0===t?void 0:t.includes("months:1"))?e.product_period.includes("months:12")?l.BillingPeriod.everyYear:l.BillingPeriod.everyMonth:l.BillingPeriod.withoutPeriod}function g(e,t){if("user_cancelled"===e.reason)switch(t){case l.BillingPeriod.withoutPeriod:return"Автоматический платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" отменен";case l.BillingPeriod.everyMonth:return"Автоматический ежемесячный платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" отменен";case l.BillingPeriod.everyYear:return"Автоматический ежегодный платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" отменен"}else if(e.reason)switch(t){case l.BillingPeriod.withoutPeriod:return"Автоматический платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" не проведён, так как "+yr.externals.entityify(a.I18N.$2);case l.BillingPeriod.everyMonth:return"Автоматический ежемесячный платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" не проведён, так как "+yr.externals.entityify(a.I18N.$2);case l.BillingPeriod.everyYear:return"Автоматический ежегодный платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" не проведён, так как "+yr.externals.entityify(a.I18N.$2)}else switch(t){case l.BillingPeriod.withoutPeriod:return"Автоматический платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" не проведён";case l.BillingPeriod.everyMonth:return"Автоматический ежемесячный платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" не проведён";case l.BillingPeriod.everyYear:return"Автоматический ежегодный платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" не проведён"}}function y(e,t){if(e===l.JournalEventType.prolong)switch(t){case l.BillingPeriod.withoutPeriod:return"Автоматический платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" успешно проведён";case l.BillingPeriod.everyMonth:return"Автоматический ежемесячный платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" успешно проведён";case l.BillingPeriod.everyYear:return"Автоматический ежегодный платёж на сумму "+yr.externals.entityify(a.I18N.$1)+" успешно проведён"}else if(e===l.JournalEventType.subscribe)switch(t){case l.BillingPeriod.withoutPeriod:return"Вы подключили автоматический платёж на сумму "+yr.externals.entityify(a.I18N.$1);case l.BillingPeriod.everyMonth:return"Вы подключили автоматический ежемесячный платёж на сумму "+yr.externals.entityify(a.I18N.$1);case l.BillingPeriod.everyYear:return"Вы подключили автоматический ежегодный платеж на сумму "+yr.externals.entityify(a.I18N.$1)}else{if(e!==l.JournalEventType.unsubscribe)return"Вы провели платёж на сумму "+yr.externals.entityify(a.I18N.$1);switch(t){case l.BillingPeriod.withoutPeriod:return"Вы отключили автоматический платёж на сумму "+yr.externals.entityify(a.I18N.$1);case l.BillingPeriod.everyMonth:return"Вы отключили автоматический ежемесячный платёж на сумму "+yr.externals.entityify(a.I18N.$1);case l.BillingPeriod.everyYear:return"Вы отключили автоматический ежегодный платёж на сумму "+yr.externals.entityify(a.I18N.$1)}}}t.journalParams=i.default.extend({},c.baseJournalParams),t.isPersonalJournalIdContext=(e=>"/journal"===e),t.isJournalIdContext=(e=>u.isVirtualDiskJournal(e)||t.isPersonalJournalIdContext(e)),t.getJournalId=(e=>u.isVirtualDiskJournal(e)?u.getVdHash(e):d.personalJournalId),t.isFsEventGroup=f,t.getDefaultFilters=function(e=Date.now()){return{text:"",untilDateTimestamp:e,folder:void 0,platform:void 0,platforms:[],eventType:[],eventTypes:[]}},t.getListingType=function(e){if(e.group.type===l.JournalEventType.unshareFolderUser)return l.ListingType.users;if(f(e)){const{events:[t],group:{itemsCount:n}}=e,r=m(t);if(r===l.ResourceType.photo||r===l.ResourceType.video)return l.ListingType.images;if(n>1)return l.ListingType.names}},t.generateUrl=p,t.getEndOfToday=h,t.urlFilters={eventType:e=>["eventType",e.split(",").filter(e=>d.journalEventTypes.includes(e))],parentFolder:e=>["folder",o.default.normalize(e)],platform:e=>["platform",d.journalPlatforms.includes(e)?e:void 0],querySearch:e=>["text",e],startEventTimestamp(e,t=new Date){const n=parseInt(e,10),r=h(t);return["untilDateTimestamp",n&&n<=r.getTime()?n:void 0]}},t.getFiltersFromUrl=function(e){return d.journalUrlFilterKeys.reduce((n,r)=>{if(e.searchParams.has(r)){const i=e.searchParams.get(r);if(i){const[e,o]=t.urlFilters[r](i);if(o)return Object.assign(Object.assign({},n),{[e]:o})}}return n},{})},t.areFiltersEqual=function(e,t,n=new Date){const r=h(n),o=i.default(e).omit(["platforms","eventTypes","untilDateTimestamp"]).pickBy(i.default.negate(i.default.isEmpty)).value(),a=i.default(t).omit(["platforms","eventTypes","untilDateTimestamp"]).pickBy(i.default.negate(i.default.isEmpty)).value(),s=e.untilDateTimestamp?h(e.untilDateTimestamp):r,u=t.untilDateTimestamp?h(t.untilDateTimestamp):r;return i.default.isEqual(o,a)&&s.getTime()===u.getTime()},t.getClusterTitle=function(e){const t=e.toDateString(),n=new Date,r=n.toDateString();n.setDate(n.getDate()-1);const i=n.toDateString();switch(t){case r:return"Сегодня";case i:return"Вчера";default:return s.timestampToDate(Number(e)/1e3,n.getFullYear()===e.getFullYear()?"D mmmm":"D mmmm YYYY")}},t.getGroupTitle=function(e){return s.timestampToDate(Date.parse(e)/1e3,"HH:mm")},t.getResourceType=m,t.getTypedResourceName=function(e){switch(m(e)){case l.ResourceType.file:return"файл «"+yr.externals.entityify(a.I18N.$1)+"»";case l.ResourceType.photo:return"фотографию «"+yr.externals.entityify(a.I18N.$1)+"»";case l.ResourceType.video:return"видео «"+yr.externals.entityify(a.I18N.$1)+"»";default:return"папку «"+yr.externals.entityify(a.I18N.$1)+"»"}},t.getEventResourceName=function(e){return o.default.basename(e.event_type===l.JournalEventType.appendTrash?e.from:e.path)},t.getEventResourceUrl=function(e,t,n=l.NavigationType.setSelected){const r=e.resource?`${t}${o.default.normalize(e.resource.path)}`:`${t}${e.path}`;return n===l.NavigationType.setSelected?o.default.getResourceSelectedUrl(r):n===l.NavigationType.openSlider?o.default.getResourceSliderUrl(r):o.default.getFolderUrl(o.default.dirname(r))},t.getTypedResourcesNames=function(e,t){switch(m(e)){case l.ResourceType.file:return __i18n__.i18n.convert(["1 файл",yr.externals.entityify(t)+" файл",yr.externals.entityify(t)+" файла",yr.externals.entityify(t)+" файлов"],yr.externals.entityify(t));case l.ResourceType.photo:return __i18n__.i18n.convert(["1 фотографию",yr.externals.entityify(t)+" фотографию",yr.externals.entityify(t)+" фотографии",yr.externals.entityify(t)+" фотографий"],yr.externals.entityify(t));case l.ResourceType.video:return __i18n__.i18n.convert(["1 видео",yr.externals.entityify(t)+" видео",yr.externals.entityify(t)+" видео",yr.externals.entityify(t)+" видео"],yr.externals.entityify(t));default:return __i18n__.i18n.convert(["одну папку",yr.externals.entityify(t)+" папку",yr.externals.entityify(t)+" папки",yr.externals.entityify(t)+" папок"],yr.externals.entityify(t))}},t.getPaymentPeriod=v,t.getPaymentReason=function(e){switch(e.reason){case"order_not_found":case"payment_not_found":case"invalid_token":case"technical_error":return"возникла техническая ошибка при проведении операции";case"wrong_sms_code":return"передан неверный sms код";case"already_purchased":return"данный продукт (подписка) уже куплен, нельзя приобрести второй";case"already_pending":return"заказ находится в процессе оплаты";case"payment_timeout":return"превышен интервал ожидания";case"not_enough_funds":return"не хватает средств для оплаты";case"authorization_reject":return"возникла ошибка авторизации на стороне платежной системы, например для карты введен неправильный CVN код";case"payment_refused":return"платеж отклонен на стороне платежной системы";case"expired_card":return"возникла проблема с датой окончания срока действия карты (неверно введена, просрочена)";case"limit_exceeded":return"превышен лимит по операциям по данному платежному средству";default:return""}},t.getPaymentAmount=function(e){const t=e.payment_amount||0;switch(e.currency){case"USD":return`$ ${t}`;default:return __i18n__.i18n.convert([yr.externals.entityify(t)+" рубль",yr.externals.entityify(t)+" рубль",yr.externals.entityify(t)+" рубля",yr.externals.entityify(t)+" рублей"],yr.externals.entityify(t))}},t.getProlongError=g,t.getBillingMessageForPeriod=y,t.getGroupDescription=function(e){var t,n;const{events:[r],group:{type:i,itemsCount:s,isCurrentUserActor:u,isCurrentUserOwner:d}}=e;if(i===l.JournalEventType.createAlbum||i===l.JournalEventType.createAlbumItem)return"Вы создали альбом «"+yr.externals.entityify(a.I18N.$1)+"»";if(i===l.JournalEventType.removeAlbum)return r.album_title||(null===(t=r.album)||void 0===t?void 0:t.title)?"Вы удалили альбом «"+yr.externals.entityify(a.I18N.$1)+"»":"Вы удалили альбом из альбома «"+yr.externals.entityify(a.I18N.$1)+"»";if(i===l.JournalEventType.appendAlbumItems)return s>1?"Вы добавили "+__i18n__.i18n.convert(["1 фотографию",yr.externals.entityify(s)+" фотографию",yr.externals.entityify(s)+" фотографии",yr.externals.entityify(s)+" фотографий"],yr.externals.entityify(s))+" в альбом «"+yr.externals.entityify(a.I18N.$1)+"»":"Вы добавили фото «"+yr.externals.entityify(o.default.basename(r.from))+"» в альбом «"+yr.externals.entityify(a.I18N.$1)+"»";if(i===l.JournalEventType.removeAlbumItems)return s>1?"Вы удалили "+__i18n__.i18n.convert(["1 фотографию",yr.externals.entityify(s)+" фотографию",yr.externals.entityify(s)+" фотографии",yr.externals.entityify(s)+" фотографий"],yr.externals.entityify(s))+" из альбома «"+yr.externals.entityify(a.I18N.$1)+"»":"Вы удалили фото «"+yr.externals.entityify(o.default.basename(r.from))+"» из альбома «"+yr.externals.entityify(a.I18N.$1)+"»";if(i===l.JournalEventType.changeAlbumPulicity)return r.album_is_public||(null===(n=r.album)||void 0===n?void 0:n.is_public)?"Вы создали публичную ссылку на альбом «"+yr.externals.entityify(a.I18N.$1)+"»":"Вы удалили публичную ссылку на альбом «"+yr.externals.entityify(a.I18N.$1)+"»";if(i===l.JournalEventType.changeAlbumCover)return"Вы изменили обложку в альбоме «"+yr.externals.entityify(a.I18N.$1)+"»";if(i===l.JournalEventType.changeAlbumTitle)return r.album_prev_title?"Вы переименовали альбом «"+yr.externals.entityify(r.album_prev_title)+"» в «"+yr.externals.entityify(a.I18N.$1)+"»":"Вы указали имя для альбома «"+yr.externals.entityify(a.I18N.$1)+"»";if(i===l.JournalEventType.sentInvite)switch(r.provider_id){case"email":return"Вы отправили приглашение на Диск по адресу "+yr.externals.entityify(a.I18N.$1);default:return""}if(i===l.JournalEventType.activateInvite)return r.user_id?yr.externals.entityify(a.I18N.$1)+" принял ваше приглашение на Диск":r.owner_id?"Вы приняли приглашение на Диск от "+yr.externals.entityify(a.I18N.$1):"";if([l.JournalEventType.addComment,l.JournalEventType.likeComment,l.JournalEventType.dislikeComment].includes(i)){if(i===l.JournalEventType.addComment)return"Вам оставили "+__i18n__.i18n.convert(["комментарий",yr.externals.entityify(s)+" комментарий",yr.externals.entityify(s)+" комментария",yr.externals.entityify(s)+" комментариев"],yr.externals.entityify(s))+" на странице с публичной ссылкой "+yr.externals.entityify(a.I18N.$1);if(i===l.JournalEventType.likeComment)return"Вам поставили "+__i18n__.i18n.convert(["oтметку «Нравится»",yr.externals.entityify(s)+" oтметку «Нравится»",yr.externals.entityify(s)+" oтметки «Нравится»",yr.externals.entityify(s)+" oтметок «Нравится»"],yr.externals.entityify(s))+" на странице с публичной ссылкой "+yr.externals.entityify(a.I18N.$1);if(i===l.JournalEventType.dislikeComment)return"Вам поставили "+__i18n__.i18n.convert(["oтметку «Не нравится»",yr.externals.entityify(s)+" oтметку «Не нравится»",yr.externals.entityify(s)+" oтметки «Не нравится»",yr.externals.entityify(s)+" oтметок «Не нравится»"],yr.externals.entityify(s))+" на странице с публичной ссылкой "+yr.externals.entityify(a.I18N.$1)}if([l.JournalEventType.buy,l.JournalEventType.prolong,l.JournalEventType.prolongError,l.JournalEventType.subscribe,l.JournalEventType.unsubscribe].includes(i)){const e=v(r);return i===l.JournalEventType.prolongError?g(r,e):y(i,e)}if([l.JournalEventType.inviteUser,l.JournalEventType.changeRights,l.JournalEventType.kickFromGroup,l.JournalEventType.activateShare,l.JournalEventType.rejectInvite,l.JournalEventType.removeInvite,l.JournalEventType.changeInviteRights,l.JournalEventType.leaveGroup,l.JournalEventType.unshareFolderUser].includes(i)){if(d){if(i===l.JournalEventType.inviteUser){switch(r.rights){case"rw":return"Вы отправили "+yr.externals.entityify(a.I18N.$1)+" приглашение на полный доступ к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»";case"r":return"Вы отправили "+yr.externals.entityify(a.I18N.$1)+" приглашение на доступ с правом просмотра к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»"}return""}if(i===l.JournalEventType.changeRights){switch(r.rights){case"rw":return"Вы изменили права доступа к общей папке «"+yr.externals.entityify(a.I18N.$2)+"» для "+yr.externals.entityify(a.I18N.$1)+" — с доступа только на просмотр на полный";case"r":return"Вы изменили права доступа к общей папке «"+yr.externals.entityify(a.I18N.$2)+"» для "+yr.externals.entityify(a.I18N.$1)+" — с полного доступа на право просмотра"}return""}if(i===l.JournalEventType.kickFromGroup)return"Вы закрыли доступ к общей папке «"+yr.externals.entityify(a.I18N.$2)+"» для "+yr.externals.entityify(a.I18N.$1);if(i===l.JournalEventType.activateShare)return yr.externals.entityify(a.I18N.$1)+" принял ваше приглашение на доступ к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»";if(i===l.JournalEventType.rejectInvite)return yr.externals.entityify(a.I18N.$1)+" отклонил ваше приглашение на доступ к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»";if(i===l.JournalEventType.removeInvite){switch(r.rights){case"rw":return"Вы отменили приглашение "+yr.externals.entityify(a.I18N.$1)+" на полный доступ к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»";case"r":return"Вы отменили приглашение "+yr.externals.entityify(a.I18N.$1)+" на доступ с правом просмотра к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»"}return""}if(i===l.JournalEventType.changeInviteRights){switch(r.rights){case"rw":return"Вы изменили права доступа к общей папке «"+yr.externals.entityify(a.I18N.$2)+"» для "+yr.externals.entityify(a.I18N.$1)+" — с доступа только на просмотр на полный";case"r":return"Вы изменили права доступа к общей папке «"+yr.externals.entityify(a.I18N.$2)+"» для "+yr.externals.entityify(a.I18N.$1)+" — с полного доступа на право просмотра"}return""}return i===l.JournalEventType.leaveGroup?yr.externals.entityify(a.I18N.$1)+" перестал быть участником общей папки «"+yr.externals.entityify(a.I18N.$2)+"»":i===l.JournalEventType.unshareFolderUser?"Вы закрыли доступ к общей папке «"+yr.externals.entityify(a.I18N.$2)+"» "+yr.externals.entityify(a.I18N.$3_OPEN)+"для всех пользователей"+yr.externals.entityify(a.I18N.$3_CLOSE):""}if(i===l.JournalEventType.inviteUser){switch(r.rights){case"rw":return yr.externals.entityify(a.I18N.$1)+" прислал вам приглашение на полный доступ к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»";case"r":return yr.externals.entityify(a.I18N.$1)+" прислал вам приглашение на доступ с правом просмотра к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»"}return""}if(i===l.JournalEventType.changeRights){switch(r.rights){case"rw":return yr.externals.entityify(a.I18N.$1)+" изменил ваши права доступа к общей папке «"+yr.externals.entityify(a.I18N.$2)+"» — с доступа только на просмотр на полный";case"r":return yr.externals.entityify(a.I18N.$1)+" изменил ваши права доступа к общей папке «"+yr.externals.entityify(a.I18N.$2)+"» —с полного доступа на право просмотра"}return""}if(i===l.JournalEventType.kickFromGroup)return yr.externals.entityify(a.I18N.$1)+" закрыл вам доступ к общей папке «"+yr.externals.entityify(a.I18N.$2)+"». На вашем Диске её больше нет";if(i===l.JournalEventType.activateShare){switch(r.rights){case"rw":return"Вы приняли приглашение от "+yr.externals.entityify(a.I18N.$1)+" на полный доступ к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»";case"r":return"Вы приняли приглашение от "+yr.externals.entityify(a.I18N.$1)+" на доступ с правом просмотра к общей папке  «"+yr.externals.entityify(a.I18N.$2)+"»"}return""}if(i===l.JournalEventType.rejectInvite){switch(r.rights){case"rw":return"Вы отклонили приглашение от "+yr.externals.entityify(a.I18N.$1)+" на полный доступ к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»";case"r":return"Вы отклонили приглашение от "+yr.externals.entityify(a.I18N.$1)+" на доступ с правом просмотра к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»"}return""}if(i===l.JournalEventType.removeInvite){switch(r.rights){case"rw":return yr.externals.entityify(a.I18N.$1)+" отменил свое приглашение на полный доступ к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»";case"r":return yr.externals.entityify(a.I18N.$1)+" отменил свое приглашение на доступ с правом просмотра к общей папке «"+yr.externals.entityify(a.I18N.$2)+"»"}return""}if(i===l.JournalEventType.changeInviteRights){switch(r.rights){case"rw":return yr.externals.entityify(a.I18N.$1)+" изменил ваши права доступа к общей папке «"+yr.externals.entityify(a.I18N.$2)+"» — с доступа только на просмотр на полный";case"r":return yr.externals.entityify(a.I18N.$1)+" изменил ваши права доступа к общей папке «"+yr.externals.entityify(a.I18N.$2)+"» — с полного доступа на право просмотра"}return""}return i===l.JournalEventType.leaveGroup?"Вы удалили общую папку «"+yr.externals.entityify(a.I18N.$2)+"» и отказались от участия":""}if(i===l.JournalEventType.promoReduce)return r.product_id===c.DISK_FOR_BUSINESS_PRODUCT_ID?"Объём Диска уменьшился на "+yr.externals.entityify(a.I18N.$1)+", услуга «"+yr.externals.entityify(a.I18N.$3)+"» отключена":"Объём Диска уменьшился на "+yr.externals.entityify(a.I18N.$1)+", так как акция «"+yr.externals.entityify(a.I18N.$3)+"» закончилась";if(i===l.JournalEventType.promoEnlarge)return r.product_id===c.DISK_FOR_BUSINESS_PRODUCT_ID?"Объём Диска увеличился на "+yr.externals.entityify(a.I18N.$1)+", услуга «"+yr.externals.entityify(a.I18N.$3)+"» подключена":r.product_period||0===r.product_id.indexOf("yandex_plus")?r.product_period&&r.service_end_date?"Объём Диска увеличился на "+yr.externals.entityify(a.I18N.$1)+" до "+yr.externals.entityify(a.I18N.$2)+" по акции «"+yr.externals.entityify(a.I18N.$3)+"»":"Объём Диска увеличился на "+yr.externals.entityify(a.I18N.$1)+" по акции «"+yr.externals.entityify(a.I18N.$3)+"»":"Объём Диска увеличился на "+yr.externals.entityify(a.I18N.$1)+" навсегда по акции «"+yr.externals.entityify(a.I18N.$3)+"»";if(i===l.JournalEventType.productReduce)return"Срок действия пакета «"+yr.externals.entityify(a.I18N.$1)+"» закончился. "+yr.externals.entityify(a.I18N.$2_OPEN)+"Продлить"+yr.externals.entityify(a.I18N.$2_CLOSE);const f="/disk"!==o.default.dirname(r.path);if(i===l.JournalEventType.dropAllTrash)return d?"Вы очистили "+yr.externals.entityify(a.I18N.$2_OPEN)+"Корзину"+yr.externals.entityify(a.I18N.$2_CLOSE):yr.externals.entityify(a.I18N.$3)+" очистил "+yr.externals.entityify(a.I18N.$2_OPEN)+"Корзину"+yr.externals.entityify(a.I18N.$2_OPEN);if(u)switch(i){case l.JournalEventType.copy:return f?"Вы скопировали "+yr.externals.entityify(a.I18N.$1)+" в папку «"+yr.externals.entityify(a.I18N.$2)+"»":"Вы скопировали "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.move:return f?"Вы переместили "+yr.externals.entityify(a.I18N.$1)+" в папку «"+yr.externals.entityify(a.I18N.$2)+"»":"Вы переместили "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.rename:return"Вы переименовали "+yr.externals.entityify(a.I18N.$1)+" в «"+yr.externals.entityify(a.I18N.$2)+"»";case l.JournalEventType.mkdir:return f?"Вы создали "+yr.externals.entityify(a.I18N.$1)+" в папке «"+yr.externals.entityify(a.I18N.$2)+"»":"Вы создали "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диске"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.store:return f?"Вы загрузили "+yr.externals.entityify(a.I18N.$1)+" в папку «"+yr.externals.entityify(a.I18N.$2)+"»":"Вы загрузили "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.storeUpdate:return f?"Вы изменили "+yr.externals.entityify(a.I18N.$1)+" в папке «"+yr.externals.entityify(a.I18N.$2)+"»":"Вы изменили "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диске"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.storeDownload:return f?"Вы сохранили "+yr.externals.entityify(a.I18N.$1)+" в папку «"+yr.externals.entityify(a.I18N.$2)+"»":"Вы сохранили "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.rm:return"Вы удалили "+yr.externals.entityify(a.I18N.$1)+" навсегда";case l.JournalEventType.appendTrash:return"Вы переместили "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Корзину"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.dropTrash:return"Вы удалили "+yr.externals.entityify(a.I18N.$1)+" из "+yr.externals.entityify(a.I18N.$2_OPEN)+"Корзины"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.restoreTrash:return"Вы восстановили "+yr.externals.entityify(a.I18N.$1);case l.JournalEventType.photostreamStore:return __i18n__.i18n.convert(["1 фотография автоматически загружена",yr.externals.entityify(s)+" фотография автоматически загружена",yr.externals.entityify(s)+" фотографии автоматически загружено",yr.externals.entityify(s)+" фотографий автоматически загружено"],yr.externals.entityify(s))+" в папку «"+yr.externals.entityify(a.I18N.$1)+"»";case l.JournalEventType.photounlimStore:return m(r)===l.ResourceType.video?__i18n__.i18n.convert(["1 видео автоматически загружено",yr.externals.entityify(s)+" видео автоматически загружено",yr.externals.entityify(s)+" видео автоматически загружено",yr.externals.entityify(s)+" видео автоматически загружено"],yr.externals.entityify(s))+" в раздел «"+yr.externals.entityify(a.I18N.$1)+"»":__i18n__.i18n.convert(["1 фотография автоматически загружена",yr.externals.entityify(s)+" фотография автоматически загружена",yr.externals.entityify(s)+" фотографии автоматически загружено",yr.externals.entityify(s)+" фотографий автоматически загружено"],yr.externals.entityify(s))+" в раздел «"+yr.externals.entityify(a.I18N.$1)+"»";case l.JournalEventType.setPublic:return f&&m(r)!==l.ResourceType.folder?"Вы создали "+yr.externals.entityify(a.I18N.$1_OPEN)+"публичную ссылку"+yr.externals.entityify(a.I18N.$1_CLOSE)+" на "+yr.externals.entityify(a.I18N.$2)+" в папке «"+yr.externals.entityify(a.I18N.$3)+"»":"Вы создали "+yr.externals.entityify(a.I18N.$1_OPEN)+"публичную ссылку"+yr.externals.entityify(a.I18N.$1_CLOSE)+" на "+yr.externals.entityify(a.I18N.$2);case l.JournalEventType.setPrivate:return f&&m(r)!==l.ResourceType.folder?"Вы удалили публичную ссылку на "+yr.externals.entityify(a.I18N.$1)+" в папке «"+yr.externals.entityify(a.I18N.$2)+"»":"Вы удалили публичную ссылку на "+yr.externals.entityify(a.I18N.$1);case l.JournalEventType.aviary:return f?"Вы сохранили отредактированную копию файла «"+yr.externals.entityify(a.I18N.$1)+"» в папке «"+yr.externals.entityify(a.I18N.$2)+"»":"Вы сохранили отредактированную копию файла «"+yr.externals.entityify(a.I18N.$1)+"» в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.importSocial:return"Вы загрузили "+yr.externals.entityify(a.I18N.$1)+" из "+yr.externals.entityify(a.I18N.$2)+" в папку «"+yr.externals.entityify(a.I18N.$3)+"»"}else switch(i){case l.JournalEventType.copy:return f?yr.externals.entityify(a.I18N.$3)+" скопировал "+yr.externals.entityify(a.I18N.$1)+" в папку «"+yr.externals.entityify(a.I18N.$2)+"»":yr.externals.entityify(a.I18N.$3)+" скопировал "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.move:return f?yr.externals.entityify(a.I18N.$3)+" переместил "+yr.externals.entityify(a.I18N.$1)+" в папку «"+yr.externals.entityify(a.I18N.$2)+"»":yr.externals.entityify(a.I18N.$3)+" переместил "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.rename:return yr.externals.entityify(a.I18N.$3)+" переименовал "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2);case l.JournalEventType.mkdir:return f?yr.externals.entityify(a.I18N.$3)+" создал "+yr.externals.entityify(a.I18N.$1)+" в папке «"+yr.externals.entityify(a.I18N.$2)+"»":yr.externals.entityify(a.I18N.$3)+" создал "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диске"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.store:return f?yr.externals.entityify(a.I18N.$3)+" загрузил "+yr.externals.entityify(a.I18N.$1)+" в папку «"+yr.externals.entityify(a.I18N.$2)+"»":yr.externals.entityify(a.I18N.$3)+" загрузил "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.storeUpdate:return f?yr.externals.entityify(a.I18N.$3)+" изменил "+yr.externals.entityify(a.I18N.$1)+" в папке «"+yr.externals.entityify(a.I18N.$2)+"»":yr.externals.entityify(a.I18N.$3)+" изменил "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диске"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.storeDownload:return f?yr.externals.entityify(a.I18N.$3)+" сохранил "+yr.externals.entityify(a.I18N.$1)+" в папку «"+yr.externals.entityify(a.I18N.$2)+"»":yr.externals.entityify(a.I18N.$3)+" сохранил "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Диск"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.rm:return yr.externals.entityify(a.I18N.$3)+" удалил "+yr.externals.entityify(a.I18N.$1)+" навсегда";case l.JournalEventType.appendTrash:return yr.externals.entityify(a.I18N.$3)+" переместил "+yr.externals.entityify(a.I18N.$1)+" в "+yr.externals.entityify(a.I18N.$2_OPEN)+"Корзину"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.dropTrash:return yr.externals.entityify(a.I18N.$3)+" удалил "+yr.externals.entityify(a.I18N.$1)+" из "+yr.externals.entityify(a.I18N.$2_OPEN)+"Корзины"+yr.externals.entityify(a.I18N.$2_CLOSE);case l.JournalEventType.restoreTrash:return yr.externals.entityify(a.I18N.$3)+" восстановил "+yr.externals.entityify(a.I18N.$1);case l.JournalEventType.photostreamStore:return __i18n__.i18n.convert(["1 фотография автоматически загружена",yr.externals.entityify(s)+" фотография автоматически загружена",yr.externals.entityify(s)+" фотографии автоматически загружено",yr.externals.entityify(s)+" фотографий автоматически загружено"],yr.externals.entityify(s))+" в папку «"+yr.externals.entityify(a.I18N.$1)+"» пользователем "+yr.externals.entityify(a.I18N.$2);case l.JournalEventType.photounlimStore:return m(r)===l.ResourceType.video?__i18n__.i18n.convert(["1 видео автоматически загружено",yr.externals.entityify(s)+" видео автоматически загружено",yr.externals.entityify(s)+" видео автоматически загружено",yr.externals.entityify(s)+" видео автоматически загружено"],yr.externals.entityify(s))+" в раздел «"+yr.externals.entityify(a.I18N.$1)+"» пользователем "+yr.externals.entityify(a.I18N.$2):__i18n__.i18n.convert(["1 фотография автоматически загружена",yr.externals.entityify(s)+" фотография автоматически загружена",yr.externals.entityify(s)+" фотографии автоматически загружено",yr.externals.entityify(s)+" фотографий автоматически загружено"],yr.externals.entityify(s))+" в раздел «"+yr.externals.entityify(a.I18N.$1)+"» пользователем "+yr.externals.entityify(a.I18N.$2);case l.JournalEventType.setPublic:return yr.externals.entityify(a.I18N.$4)+" создал "+yr.externals.entityify(a.I18N.$1_OPEN)+"публичную ссылку"+yr.externals.entityify(a.I18N.$1_CLOSE)+" на "+yr.externals.entityify(a.I18N.$2)+" в папке «"+yr.externals.entityify(a.I18N.$3)+"»";case l.JournalEventType.setPrivate:return yr.externals.entityify(a.I18N.$3)+" удалил публичную ссылку на "+yr.externals.entityify(a.I18N.$1)+"  в папке «"+yr.externals.entityify(a.I18N.$2)+"»";case l.JournalEventType.aviary:return yr.externals.entityify(a.I18N.$3)+" сохранил отредактированную копию "+yr.externals.entityify(a.I18N.$1)+" в папке «"+yr.externals.entityify(a.I18N.$2)+"»";case l.JournalEventType.importSocial:return yr.externals.entityify(a.I18N.$4)+" загрузил "+yr.externals.entityify(a.I18N.$1)+" из "+yr.externals.entityify(a.I18N.$2)+" в папку «"+yr.externals.entityify(a.I18N.$3)+"»"}return""},t.getPlatformName=function({events:[e]}){switch(i.default.get(e,"platform",l.Platform.rest)){case l.Platform.ios:return"iPhone или iPad";case l.Platform.andr:return"Устройство на Android";case l.Platform.wp:return"Windows Phone";case l.Platform.mac:return"MacBook или iMac";case l.Platform.win:return"Компьютер на Windows";case l.Platform.web:return"Веб-интерфейс";case l.Platform.lnx:return"Компьютер на Linux";default:return"Другое устройство"}},t.getGroupById=function(e,t){return i.default.flatten(e.clusters.map(i.default.property("groups"))).find(e=>e.group.id===t)},t.default={generateUrl:p,journalParams:i.default.extend({},t.journalParams)}}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(0),v=n.n(m),g=n(288),y=n(11),b=n.n(y);n(1921);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var O=function(){return b()()("hover-tooltip")},E=(function(e){l()(n,e);var t=_(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onOpen=r._onOpen.bind(u()(r)),r._onClose=r._onClose.bind(u()(r)),r.state={visible:!1},r}return a()(n,[{key:"_onOpen",value:function(){this.setState({visible:!0})}},{key:"_onClose",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.children,r=e.view,i=e.size,o=e.direction,a=e.className,s=e.clsText,u=e.zIndexGroupLevel,c=e.showDelay,l=e.disabled,d=e.tooltipCls,f=e.mainOffset,p=e.boundary,h={className:d,view:r,size:i,direction:o,zIndexGroupLevel:u,visible:this.state.visible,mainOffset:f,boundary:p};return v.a.createElement(g.a,{visible:this.state.visible&&!l,className:a,onOpen:this._onOpen,onClose:this._onClose,showDelay:c,boundary:p},v.a.createElement(g.a.Anchor,null,v.a.createElement("div",{className:O().e("tooltip-anchor")},n)),t&&v.a.createElement(g.a.Tooltip,h,v.a.createElement("span",{className:O().e("tooltip-text").mix(s)},t)))}}]),n})(m.Component);E.defaultProps={text:"",view:"default",size:"s",disabled:!1,direction:["bottom"],showDelay:1200},t.default=E}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["top-start","top","top-end","bottom-start","bottom","bottom-end","right-start","right","right-end","left-start","left","left-end"]}),(function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"setTimeToDate",(function(){return a})),n.d(t,"getDateWithoutTime",(function(){return s})),n.d(t,"isSameMonth",(function(){return u})),n.d(t,"isSameDate",(function(){return c})),n.d(t,"groupByDates",(function(){return l})),n.d(t,"getFormattedForDateRange",(function(){return d}));var r=n(138),i=n.n(r),o=n(513),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=e instanceof Date?new Date(e.getTime()):new Date(e);return o.setHours(t),o.setMinutes(n),o.setSeconds(r),o.setMilliseconds(i),o},s=function(e){return a(e,0)},u=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},c=function(e,t){return u(e,t)&&e.getDate()===t.getDate()};function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=a(n,0,0,0,0),s=a(n,23,59,59,999),u={today:{start:r,end:s},yesterday:{start:Object(o.getDaysAgoDate)(r,1),end:Object(o.getDaysAgoDate)(s,1)},week:{start:Object(o.getDaysAgoDate)(r,7),end:Object(o.getDaysAgoDate)(s,2)}},c={unknown:"Без даты съемки",today:"Сегодня",yesterday:"Вчера",week:"За последние 7 дней"},l=e.reduce((function(e,n){var r,o,a=t(n);if(a){var s=Object.keys(u).find((function(e){var t=u[e];return a>=t.start&&a<=t.end}));s?r=o=s:(r=a.getFullYear()+"_"+a.getMonth(),o="month")}else o=r="unknown";return e[r]||(e[r]={items:[],key:r,type:o},"month"===o?(e[r].year=a.getFullYear(),e[r].month=a.getMonth(),e[r].title=i()(a,"MMMM YYYY",["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"])):e[r].title=c[r]),e[r].items.push(n),e}),{});return Object.keys(l).map((function(e){return l[e]}))}var d=function(e,t){var n,r,o=new Date,a=new Date(e),s=new Date(t);if(a.getFullYear()===s.getFullYear()){var u=a.getFullYear()===o.getFullYear()?"":" YYYY";a.getMonth()===s.getMonth()?a.getDate()===s.getDate()?n="D mmmm"+u:(n="D",r="D mmmm"+u):(n="D mmmm",r="D mmmm"+u)}else n=r="D mmmm YYYY";return i()(e,n,["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"])+(r?" - "+i()(t,r,["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]):"")}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"backArrowIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M16 7H3.8l5.6-5.6L8 0 0 8l8 8 1.4-1.4L3.8 9H16z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t){return Object(r.useMemo)((function(){return e||t?function(n){e&&o(e,n),t&&o(t,n)}:null}),[e,t])}function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}}),(function(e,t,n){"use strict";var r,i,o=n(22),a=n.n(o),s=n(10),u=n.n(s),c=n(9),l=n.n(c),d=n(40),f=n(17),p=n(132),h=n(83),m=function(){var e=n(117);try{if(!(Worker&&Promise&&URL&&Blob)||window.__DISABLE_UPLOAD_HASHES)return null;var t=e.links.static.host+e.externalStaticPath+"_forge.js";return 0===t.indexOf("//")&&(t="https:"+t),t=JSON.stringify(t),new Worker(URL.createObjectURL(new Blob(["importScripts("+t+");","("+function(e){var t="crypto"in self,n=function(e){return new Promise(function(t,n){try{var r=new Uint8Array((new FileReaderSync).readAsArrayBuffer(e));crypto.subtle.digest("SHA-256",r).then((function(n){var r=(new FileReaderSync).readAsBinaryString(e);t({md5:forge.md5.create().update(r).digest().toHex(),sha256:(function(e){e=new Uint8Array(e);for(var t="",n=0;n<e.length;n++)t+=("0"+e[n].toString(16)).slice(-2);return t})(n),webCrypto:!0})}))}catch(e){n(e)}})};self.addEventListener("message",(function(r){var i=r.data;"Promise"in self?(function(r){if(t&&r.size<=e)return n(r);for(var i=forge.md5.create(),o=forge.sha256.create(),a=0,s=r.size;a<s;a+=e){var u=r.slice(a,a+e),c=(new FileReaderSync).readAsBinaryString(u);i.update(c),o.update(c)}return Promise.resolve({md5:i.digest().toHex(),sha256:o.digest().toHex()})})(i.file).catch((function(e){return{error:String(e)||"calculate hashes error"}})).then((function(e){postMessage(e)})):postMessage({error:"no promise in worker"})}),!1)}.toString()+")(47185920)"])))}catch(e){return null}},v=[],g=!0,y=function(e){r&&(r.resolvePromise(e),r=null,_())},b=function(e){"error"===e.type&&(g=!0,y({error:"worker error"}));var t=l.a.get(e,"data.error");return y(t?{error:t}:l.a.pick(e.data,["md5","sha256"]))},_=function(){if(v.length&&!r){if((r=v.shift()).entry.size>47185920)return y({error:"file too big"});if(g&&(i&&(i.removeEventListener("message",b,!1),i.removeEventListener("error",b,!1)),(i=m())&&(i.addEventListener("message",b,!1),i.addEventListener("error",b,!1),g=!1)),!i)return y({error:"no worker"});try{i.postMessage({file:r.entry})}catch(e){y({error:"error"})}}},O=function(e){return new Promise(function(t){!(function(e){v=v.concat(e),_()})({entry:e,resolvePromise:t})})},E=n(19),w=n(57),S=n(15),C=n(14),x=n(18),T=n(153);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=n(34),R=j.MPFS_ERROR_CODES,I=j.GB,A=j.UPLOADER_FILE_SIZE_LIMIT,D={FAILED:"FAILED",DONE:"DONE",COMPLETED:"COMPLETED"},M={Trident:2*I,Edge:.25*I},N=[0,1e3,1e3,1e3,1e3],L=[0,1e3,1e3,1e3,1e3],F=function(e,t,n){return new Promise(function(r,i){var o,a;!(function s(){return Object(d.a)("do-status-operation",{oid:t}).then((function(u){var c=u.state,l=u.resource,d=u.error;if(c===D.FAILED)return clearTimeout(a),void i(d);c!==o&&[D.DONE,D.COMPLETED].includes(c)&&(clearTimeout(a),(function(e,t){var n=Object(x.default)();Object(E.isExistsResource)(n.getState(),e)&&n.dispatch(Object(S.setResourceData)(e,t))})(e,l),r()),o=c,c!==D.COMPLETED&&t&&(a=setTimeout(s,n))})).catch(i)})()})},B=l.a.throttle((function(){Object(x.default)().dispatch(Object(T.fetchSpace)())}),1e3),U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return n(he(e,{status:f.UPLOAD_STATUSES.GETTING_URL})),Object(d.a)("do-resource-upload-url",Object.assign({dst:e.id,force:e.force,size:e.entry.size},t)).then((function(t){var n=t.upload_url,r=t.oid,i=t.status;return Promise.resolve("hardlinked"===i?{status:i}:{uploadUrl:n,oid:r,item:e})}))}},z=function(e,t){var n=0,r=0;return function i(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=function e(t){return n>=N.length?Promise.reject(t):Object(p.defer)(N[n++]).then((function(){return Object(p.waitOnline)("/check-online")})).then((function(){return (function(e){return fetch(e,{method:"HEAD"}).then((function(e){var t=e.status,n=e.headers;return 200===t?parseInt(n.get("content-length")||"",10)||0:Promise.reject({status:t})}))})(o.uploadUrl)})).catch(e).then((function(e){return e<o.item.entry.size?i(o,e):Promise.resolve(o)}))},u=function(e){var t;return(null===e||void 0===e||null===(t=e.body)||void 0===t?void 0:t.code)===R.STORE_FILE_EXISTS?Promise.resolve(k(k({},o),{},{bypass:!0})):Promise.reject(e)},c=function t(n){return r>=L.length?Promise.reject(n):Object(p.defer)(L[r++]).then((function(){return e(U(o.item))})).catch(u).then(i,t)};if(o.bypass)return Promise.resolve(o);e(he(o.item,{status:f.UPLOAD_STATUSES.UPLOADING}));var d=o.item.entry.size,h=t&&d-a>t?a+t:d;return (function(e,t){var n=e.item,r=e.uploadUrl,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.entry.size;return new Promise(function(e,a){var s=new XMLHttpRequest,u=!1;s.addEventListener("load",(function(){var t=this.status;t>=400?a({id:f.UPLOAD_ERROR_ID,status:t}):e({status:t})})),s.addEventListener("error",(function(){var t=this.status;u&&0===t&&e(),a({status:t})})),s.upload.addEventListener("load",(function(){u=!0})),s.upload.addEventListener("progress",(function(e){var r=e.loaded+i,o=n.entry.size;t({loaded:r,total:Math.max(o,r)})})),s.open("PUT",r),s.setRequestHeader("X-Disk-Uploader-Wait-Complete-Upload","false"),n.entry.type&&s.setRequestHeader("Content-Type",n.entry.type),0===i&&o===n.entry.size||s.setRequestHeader("Content-Range","bytes=".concat(i,"-").concat(o-1,"/").concat(n.entry.size)),s.send(n.entry.slice(i,o)),n.abortables.xhr=function(){return s.abort()}})})(o,(function(t){var r=t.loaded,i=t.total;e(fe(o.item.id,{loaded:r,total:i})),n=0}),a,h).then((function(){return h<d?s().then((function(){return o})):o}),(function(e){var t=l.a.get(e,"status");return 0===t||400===t?s(e).catch(c):404===t||t>=500&&507!==t?c(e):Promise.reject(e)}))}},V=n(29),H=n(35),W=n(34).MPFS_ERROR_CODES,$=[".DS_Store","Thumbs.db"],G=function(e){return new Promise(function(t,n){if(e.isDirectory)return t(e);e.file(t,n)})},q=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return (function(e){return new Promise(function(t,n){return e.readEntries(t,n)})})(t).then((function(r){return r.length?e(t,[].concat(a()(n),a()(Array.from(r)))):n}))},Y=function e(t,n,r){return (function(e){return q(e.entry.createReader()).then((function(e){return Promise.all(e.map(G))}))})(n).then((function(i){var o=Array.from(i).filter((function(e){var t=$.includes(e.name);return t&&ns.events.trigger("ufo-upload-skip",{statId:n.statsId,type:e.isDirectory?"folder":"file"}),!t})),s=Oe(t(),o,n.id,n.statsId,n.id,!0),u=s.filter((function(e){return e.entry.isDirectory}));return Promise.all(u.map((function(n){return e(t,n,r)}))).then((function(e){return s.concat.apply(s,a()(e))}))})).catch((function(){return n.readFail=!0,[]}))},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){n(he(e,{status:f.UPLOAD_STATUSES.CREATING_FOLDER}));return (function n(r){return Object(d.a)("do-resource-create-folder",{id:r,force:t},{retriesLeft:1}).then((function(){return r})).catch((function(t){if(t&&t.body&&t.body.code===W.MKDIR_EXISTS&&!e.dependency){var r=t.body.data.autosuffix_path;return n(r)}return Promise.reject(t)}))})(e.isFakeId?H.default.getIdFromFakeId(e.id):e.id).then((function(t){if(n(xe(e)))return Promise.resolve();if(t!==e.id){var i=e.id;e.id=t,delete e.isFakeId;var o=r().resources;o[t]||n(Object(h.d)([e])),n(Object(S.moveClonedResource)(o[i],Object(E.getResourceData)(r(),t)))}return n(Object(S.maybeFetchSingleResource)(t)).then((function(){n(Object(S.setResourceBlocked)(t,!1))})).catch((function(){}))})).catch((function(t){t instanceof Error&&setTimeout((function(){throw t}));var r={status:f.UPLOAD_STATUSES.ERROR,error:Object(f.getUploadError)(t)===f.UPLOAD_ERRORS.LOCKED?f.UPLOAD_ERRORS.LOCKED:f.UPLOAD_ERRORS.FOLDER_NOT_CREATED,data:t&&t.body&&t.body.data};return n(he(e,r)),Promise.reject(r)}))}},J=n(42),Z=n(13),X=n(144),Q=n(23),ee=n(913),te=n(148),ne=n(121),re=n(286),ie=n(514),oe=n(515),ae=n(516);n.d(t,"g",(function(){return fe})),n.d(t,"d",(function(){return he})),n.d(t,"k",(function(){return ge})),n.d(t,"h",(function(){return be})),n.d(t,"a",(function(){return _e})),n.d(t,"e",(function(){return Oe})),n.d(t,"i",(function(){return Ee})),n.d(t,"j",(function(){return we})),n.d(t,"c",(function(){return Se})),n.d(t,"b",(function(){return Ce})),n.d(t,"f",(function(){return xe}));var se=6,ue=[],ce=function(e,t){e.statsSent=!0;var n=e.entry.isDirectory?"folder":"file",r=!e.dependency;switch(t){case f.UPLOAD_STATUSES.DONE:ns.events.trigger("ufo-upload-done",{statId:e.statsId,type:n,root:r});break;case f.UPLOAD_STATUSES.ERROR:ns.events.trigger("ufo-upload-fail",{statId:e.statsId,type:n,root:r});break;case f.UPLOAD_STATUSES.CANCELED:ns.events.trigger("ufo-upload-cancel",{statId:e.statsId,type:n,root:r})}},le=[],de=l.a.throttle((function(e){e({type:Z.UPDATE_UPLOADING_PROGRESS,payload:le}),le=[]}),500),fe=function(e,t){return function(n){le.push(Object.assign({id:e},t)),de(n)}},pe=function(e,t){return{type:Z.UPDATE_UPLOADING_STATE,payload:Object.assign({id:e.id,isDirectory:e.entry.isDirectory,originalFileName:e.entry.name},t)}};function he(e,t){return function(n){var r=t.status;n(pe(e,t)),n(be()),r===f.UPLOAD_STATUSES.DONE&&n(Object(S.setResourceBlocked)(e.id,!1))}}var me=function(e){return function(t,n){return(e.entry.isDirectory?t(function(e){return function(t,n){return C.default.count("interface elements","upload dialog","try upload","folder"),e.dependency?t(K(e)).then((function(){t(he(e,{status:f.UPLOAD_STATUSES.DONE}))})):t(K(e)).then((function(){return Y(n,e,e.id)})).then((function(r){var i=Object(w.getLimitUploadSize)(n()),o=[];if(i){var a=[];r.forEach((function(e){!e.entry.isDirectory&&Object(f.isOverLimitFileSize)(e.entry,i)?a.push({name:e.entry.name,size:e.entry.size}):o.push(e)})),a.length&&t(Object(V.showLimitUploadDialog)(a))}else o=r;t(Object(h.i)(o,e.id)),t(_e(o)),t(he(e,{status:f.UPLOAD_STATUSES.UPLOADING}))}))}}(e)):t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return function(n,r){var i;C.default.count("interface elements","upload dialog","try upload","file");var o=Object(w.getLimitUploadSize)(r());if(e.entry.size>A)i=Promise.reject({id:f.UPLOAD_ERROR_ID,type:f.UPLOAD_ERRORS_TYPES.TOO_BIG});else if(o&&e.entry.size>=o)i=Promise.reject({id:f.UPLOAD_ERROR_ID,type:f.UPLOAD_ERRORS_TYPES.OVER_LIMIT});else{var a=r().environment.agent.BrowserEngine,s=z(n,M[a]),u=function(e){var r=e.item,i=e.oid;return n(he(r,{status:f.UPLOAD_STATUSES.PROCESSING})),n(fe(r.id,{loaded:r.entry.size,total:r.entry.size})),F(r.id,i,t)},c=function(){return n(he(e,{status:f.UPLOAD_STATUSES.DONE})),B(),e};i=(n(he(e,{status:f.UPLOAD_STATUSES.GETTING_HASH})),r().environment.agent.isMobile?Promise.resolve({error:"is mobile"}):O(e.entry)).then((function(t){return n(xe(e))?null:n(U(e,t.error?{}:t))})).catch((function(t){var n;return e.ignoreConflicts&&(null===t||void 0===t||null===(n=t.body)||void 0===n?void 0:n.code)===R.STORE_FILE_EXISTS?Promise.resolve({status:"hardlinked"}):Promise.reject(t)})).then((function(t){return t?"hardlinked"===t.status?(n(fe(e.id,{loaded:e.entry.size,total:e.entry.size})),n(he(e,{status:f.UPLOAD_STATUSES.PROCESSING})),n(Object(S.maybeFetchSingleResource)(e.id,{insertOnlyIfPortionLoaded:!0})).then(c)):n(xe(e))?e:s(t).then(u).then(c):e}))}return i.catch((function(t){var i;t instanceof Error&&setTimeout((function(){throw t}));var o={};return(null===t||void 0===t||null===(i=t.body)||void 0===i?void 0:i.code)===R.STORE_FILE_EXISTS?o.status=f.UPLOAD_STATUSES.CONFLICT:(Object.assign(o,{status:f.UPLOAD_STATUSES.ERROR,error:Object(f.getUploadError)(t),data:t&&t.body&&t.body.data}),o.error===f.UPLOAD_ERRORS.LIMIT&&(o.data=t&&t.body&&t.body.title?JSON.parse(t.body.title):null),t instanceof Error&&(o.verboseReason=t.message+t.stack),t&&t.status&&(o.xhrStatus=t.status)),r().resources[e.id]||n(Object(h.d)([e])),n(he(e,o)),Promise.reject(o)}))}}(e))).then((function(e){return Object(oe.isReadOnlyActive)(n())&&t(Object(ie.deactivateReadOnly)()),e})).catch((function(n){if(n.error){if(n.error===f.UPLOAD_ERRORS.LIMIT){var r=n.data&&"UserReadOnly"!==n.data.reason?ae.Type.LIMIT:ae.Type.TECH;return C.default.count("interface elements",r===ae.Type.TECH?"upload_limit_tech":"upload_limit_quota"),t(Object(ie.activateReadOnly)({type:r}))}C.default.count("interface elements","upload dialog","error",(n.error||"").toLowerCase()),Object(te.log)(Object.assign({event:"uploadError",type:e.entry.isDirectory?"folder":"file",statId:e.statsId,reason:n.error},l.a.pick(n,"verboseReason","xhrStatus"))),n.error===f.UPLOAD_ERRORS.LOCKED&&t(function(e,t){return function(n,r){var i=r().user.uid,o=t.op_type,a=t.path,s=t.uid,u=Object(re.getSplittedLockErrorMessage)({lockType:o,lockInitiatorUid:s,lockedResourcePath:a,targetResourcePath:e,myUid:i,failedOperationType:"upload"}),c=u.reasonText,l=u.reasonTextAux;n(Object(J.notify)({status:"failed",reason:"READ_ONLY",reasonText:c,reasonTextAux:l}))}}(e.id,n.data))}else{if(n.status!==f.UPLOAD_STATUSES.CONFLICT)throw n;C.default.count("interface elements","upload dialog","error",n.status.toLowerCase())}}))}},ve=function(e){return function(t,n){for(var r in e.abortables)e.abortables[r]();var i=n().resources[e.id];if(t(Object(h.f)(e.id)),i&&i.state&&(i.state.part||i.state.blocked)){var o=Object(ne.getActiveOperations)("move"),s=Object(ne.getActiveOperations)("delete"),u=Object(ne.getActiveOperations)("rename");[].concat(a()(o),a()(s),a()(u)).some((function(e){return e.get(".idSrc")===i.id&&("move"===e.get(".type")?t(Object(S.setResourceData)(i.id,!0,"state.disabled")):t(Object(S.hideResource)(i.id)),!0)}))||t(Object(S.removeResource)(e.id))}}},ge=function(e){return!e||[f.UPLOAD_STATUSES.DONE,f.UPLOAD_STATUSES.CANCELED].includes(e)},ye=!1;function be(){return function(e,t){if(!ye){ye=!0;var n=t().uploader.uploadingStatesByIds,r=[];ue=ue.filter((function(t){var i=n[t.id]&&n[t.id].status;i&&i!==f.UPLOAD_STATUSES.CANCELED||e(ve(t));var o=ge(i);return(o||i===f.UPLOAD_STATUSES.ERROR&&!t.statsSent)&&r.push({item:t,status:i}),!o})),r.reverse().forEach((function(e){var t=e.item,n=e.status;ce(t,n)}));for(var i=ue.filter((function(e){var t=n[e.id],r=t.status;return t.isDirectory?r===f.UPLOAD_STATUSES.CREATING_FOLDER:Object(f.isUploadInProgress)(r)})).length,o=0;o<ue.length&&i<se;o++){var a=ue[o];n[a.id].status!==f.UPLOAD_STATUSES.ENQUEUED||a.dependency&&![f.UPLOAD_STATUSES.UPLOADING,f.UPLOAD_STATUSES.DONE].includes(n[a.dependency].status)||(e(me(a)),i++)}ye=!1}}}var _e=function(e){return function(t){ue=ue.concat(e),t(be())}},Oe=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=e.environment.agent.OSFamily,s=e.uploader.resourcesToUpload,u="iOS"===a;return t.map((function(e){var t=u?Object(X.getUnique)()+Object(Q.extname)(e.name,!0):e.name,a=Object(ee.normalize)(n+"/"+t),c={entry:e,id:a,force:0,dependency:i,abortables:{},statsId:r,ignoreConflicts:o};return s.includes(a)&&c.entry.isDirectory&&(c.id=H.default.getFakeId(a),c.isFakeId=!0),c}))},Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){var i,o=ue.find((function(t){var n=t.id;return e===n})),a=r().uploader.uploadingStatesByIds,s=[o.id];if(o.entry.isDirectory){var u=a[o.id].error;i=[f.UPLOAD_ERRORS.FOLDER_NOT_CREATED,f.UPLOAD_ERRORS.LOCKED].includes(u)?f.UPLOAD_STATUSES.ENQUEUED:f.UPLOAD_STATUSES.UPLOADING,ue.forEach((function(e){e.dependency===o.id&&a[e.id].status===f.UPLOAD_STATUSES.ERROR&&Object(f.canRetryUpload)(a[e.id].error)&&(s.push(e.id),e.force=t,n(Object(S.setResourceBlocked)(e.id,!0)))}))}else i=f.UPLOAD_STATUSES.ENQUEUED,o.force=t,n(Object(S.setResourceBlocked)(o.id,!0));n(Object(h.f)(s)),n(he(o,{status:i}))}},we=function(e){return function(t){t(Ee(e))}},Se=function(e){return function(t){t(he(ue.find((function(t){return t.id===e})),{status:f.UPLOAD_STATUSES.CANCELED}))}},Ce=function(){return function(e,t){var n=t().uploader.resourcesToUpload.map((function(e){return{id:e,status:f.UPLOAD_STATUSES.CANCELED}}));e({type:Z.UPDATE_UPLOADING_STATE,payload:n}),e(be())}},xe=function(e){return function(t,n){var r=n().uploader.uploadingStatesByIds[e.id];return!(r&&!r.needCancel)&&(r&&t(he(e,{status:f.UPLOAD_STATUSES.CANCELED})),!0)}}}),,(function(e,t,n){"use strict";var r=n(961),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}}),(function(e,t,n){var r=n(720),i=n(319),o=n(727),a=n(606),s=n(728),u=n(158),c=n(451),l=c(r),d=c(i),f=c(o),p=c(a),h=c(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m}),(function(e,t){e.exports=function(e){return function(t){return e(t)}}}),(function(e,t,n){"use strict";n.r(t);var r=n(367);n.d(t,"useUniqId",(function(){return r.a}))}),(function(e,t,n){}),(function(e,t,n){var r=n(105),i=n(461),o=n(780),a=n(783);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}}),(function(e,t,n){var r=n(225),i=n(797),o=n(819),a=n(204),s=n(187),u=n(823),c=n(545),l=n(468),d=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=a(t,e),c||(c=t.length>1),t})),s(e,l(e),n),c&&(n=i(n,7,u));for(var d=t.length;d--;)o(n,t[d]);return n}));e.exports=d}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=n.n(r),o=n(94),a=n(278),s=n(413),u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function c(e){var{activeIndex:t,listBoxId:n,ariaLabels:c,suggestionListRef:l}=e,d=u(e,["activeIndex","listBoxId","ariaLabels","suggestionListRef"]);const{value:f,suggestions:p,renderSuggestion:h,setHighlightedSuggestionIndex:m}=d,v=Object(r.useContext)(s.a),g=null===v||void 0===v?void 0:v.customPopupContent,y=Object(r.useCallback)(e=>i.a.createElement(a.a,Object.assign({},e,{picked:f.some(t=>e.compare(t,e.suggestion))}),e.suggestion),[f]),b=Object(r.useCallback)(e=>()=>{m(e)},[m]),_=Object(r.useMemo)(()=>null===p||void 0===p?void 0:p.map((e,r)=>{const o=t===r;return i.a.createElement("div",{key:r,onMouseMove:b(r),"data-index":r,role:"option","aria-selected":o||void 0,id:`${n}-${r}`},(h||y)(Object.assign({suggestion:e,focused:o,ariaLabels:c},d)))}),[p,d,t,h,y,b,n,c]);return i.a.createElement("div",{ref:l,className:o.a.SuggestionsWrapper,role:"listbox",id:n,"aria-label":c.popup},null!==g&&void 0!==g?g:_)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(367),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function a(e){var{value:t,onChange:n,onInputChange:a,onSuggestionsUpdateRequested:s,onSuggestionsClearRequested:u,onSuggestionSelect:c,renderPicked:l,renderSuggestion:d,suggestions:f,onKeyDown:p,onBlur:h,onFocus:m,isEqual:v,scope:g,ariaLabels:y,setValueFromInput:b,closeAfterPick:_=!0,maxPopupHeight:O,popupBottomOffset:E,popupRender:w,inputControlRef:S,clearSuggestOnBlur:C}=e,x=o(e,["value","onChange","onInputChange","onSuggestionsUpdateRequested","onSuggestionsClearRequested","onSuggestionSelect","renderPicked","renderSuggestion","suggestions","onKeyDown","onBlur","onFocus","isEqual","scope","ariaLabels","setValueFromInput","closeAfterPick","maxPopupHeight","popupBottomOffset","popupRender","inputControlRef","clearSuggestOnBlur"]);const T=Object(r.createRef)(),P=Object(r.createRef)(),k=S||P,j=Object(r.createRef)(),[R,I]=Object(r.useState)(""),[A,D]=Object(r.useState)(-1),[M,N]=Object(r.useState)(0),L=Object(i.a)("multisuggest-"),F=L+"-listbox";Object(r.useEffect)(()=>{var e;const t=null===(e=T.current)||void 0===e?void 0:e.getBoundingClientRect();t&&N(t.width)},[T]);const B=Object(r.useCallback)(()=>{I(""),null===a||void 0===a||a({target:{value:""}})},[a]),U=Object(r.useCallback)(e=>{let t=(A+e)%f.length;if(t=t<0?f.length-1:t,D(t),j.current){const e=j.current.querySelector('[data-index="'+t+'"]');null===e||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}},[A,f.length,j]),z=Object(r.useCallback)((e,t)=>v?v(e,t):e===t,[v]),V=Object(r.useCallback)(e=>{var r;const i=[...t];i.splice(e,1),null===(r=k.current)||void 0===r||r.focus(),n(i)},[n,t,k]),H=Object(r.useCallback)((e,r=!1)=>{var i;const o=c(e);if(void 0===o)return;let a=!1;for(let n=0;n<t.length;n++)if(z(t[n],e)){V(n),a=!0;break}a||n([...t,o]),_&&!r&&(B(),u()),null===(i=k.current)||void 0===i||i.focus()},[c,t,z,V,n,B,u,k,_]),W=Object(r.useCallback)(e=>{a&&a(e),I(e.target.value),s(e.target.value)},[a,I,s]),$=Object(r.useCallback)(e=>{if(!b)return;const r=b(e);r&&(B(),n([...t,r]))},[b,B,n,t]),G=Object(r.useCallback)(e=>{null===h||void 0===h||h(e),C&&u(),$(e.target.value)},[u,h,$,C]),q=Object(r.useCallback)(e=>{null===m||void 0===m||m(e),s(e.target.value)},[s,m]),Y=Object(r.useCallback)(e=>{switch(e.key){case"Enter":case"NumpadEnter":if(A>-1){const t=f[A],n=e.shiftKey||e.ctrlKey;t&&(H(t,n),e.preventDefault())}else $(R);break;case"Escape":f.length>0&&(e.preventDefault(),u());break;case"ArrowDown":f.length>0&&(e.preventDefault(),U(1));break;case"ArrowUp":f.length>0&&(e.preventDefault(),U(-1))}p&&p(e)},[A,f,H,u,U,p,$,R]),K={compare:z,suggestions:f},J=null===w||void 0===w?void 0:w(K),Z=Object(r.useMemo)(()=>(null===f||void 0===f?void 0:f.length)>0||Boolean(J),[f,J]);return K.customPopupContent=J,{inputProps:Object.assign({value:t,renderPicked:l,onRemovePicked:V,inputValue:R,innerRef:T,controlRef:k,onChange:W,onBlur:G,onFocus:q,onKeyDown:Y,id:L,listBoxId:F,activeDescendant:A,isPopupVisible:Z,ariaLabels:y},x),popupProps:{value:t,suggestions:f,width:M,anchor:T,onSuggestionsUpdateRequested:s,onSuggestionsClearRequested:u,onSuggestionSelect:H,highlightedSuggestionIndex:A,setHighlightedSuggestionIndex:D,renderSuggestion:d,compare:z,popupRef:j,scope:g,listBoxId:F,isPopupVisible:Z,ariaLabels:y,maxPopupHeight:O,popupBottomOffset:E},ctx:K}}}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(87),a=n.n(o),s=n(1),u=n(1158),c=function(){return null},l=n(584),d=n(3),f=n(31),p=n(182);const h=Object(d.compose)(Object(f.withRegistry)(p.textinputRegistry),Object(d.composeU)(p.withViewDefault,p.withViewFilled),Object(d.composeU)(p.withSizeS,p.withSizeM,p.withSizeL))(p.Textinput);var m=n(276),v=n(94);n.d(t,"a",(function(){return b}));var g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const y=(function(e){return function(t){var n=t.onChange,r=void 0===n?c:n,o=t.debounceTimeout,a=void 0===o?0:o,l=Object(s.__rest)(t,["onChange","debounceTimeout"]);return i.a.createElement(u.DebounceInput,Object(s.__assign)({element:e},Object(s.__assign)({onChange:r,debounceTimeout:a},l)))}})(h);function b(e){var{value:t,renderPicked:n,onRemovePicked:o,inputValue:s,onKeyDown:u,innerRef:c,placeholder:d,maxHeight:f,listBoxId:p,activeDescendant:h,isPopupVisible:b,ariaLabels:_,stretchInput:O=!0,addonAfter:E}=e,w=g(e,["value","renderPicked","onRemovePicked","inputValue","onKeyDown","innerRef","placeholder","maxHeight","listBoxId","activeDescendant","isPopupVisible","ariaLabels","stretchInput","addonAfter"]);const S=Object(r.createRef)(),[C,x]=Object(r.useState)(-1),T=Object(r.useCallback)(e=>{if(x(e),-1!==e&&(null===c||void 0===c?void 0:c.current)){const t=c.current.querySelector('[data-index="'+e+'"]');null===t||void 0===t||t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}},[x,c]),P=Object(r.useCallback)(e=>{switch(e.key){case"Backspace":case"Delete":0===s.length&&"Backspace"===e.key&&-1===C&&(e.preventDefault(),T(t.length-1)),-1!==C&&(e.preventDefault(),o(C),T(Math.max(-1,C-1)));break;case"ArrowLeft":case"ArrowRight":if(0===s.length&&t.length>0){e.preventDefault();let n=C;"ArrowLeft"===e.key?n=-1===C?t.length-1:Math.max(0,C-1):"ArrowRight"===e.key&&(C>=t.length-1?n=-1:C>=0&&(n=C+1)),T(n)}break;default:T(-1)}u&&u(e)},[C,u,o,T,s,t]),k=Object(r.useCallback)(e=>{S.current&&(S.current.dataset.value=e.target.value)},[S]),j=Object(r.useRef)(null),R=Object(l.usePreviousValue)(t.length);Object(r.useEffect)(()=>{if(f&&j.current&&R&&t.length>R){const e=j.current;setTimeout(()=>{e.scrollTo(0,e.scrollHeight)},0)}},[t.length,R,f]);const I=Object(r.useCallback)((e,r)=>i.a.createElement("div",{ref:j,className:a()(v.a.ControlWrapper,{[v.a.ControlWrapper_noScrollbar]:Boolean(E)}),style:{maxHeight:f?f+"px":"auto"}},i.a.createElement(m.b,{value:t,renderPicked:n,selectedPickedIndex:C,onRemovePicked:o,ariaLabels:_}),i.a.createElement("label",{className:a()(v.a.Label,{[v.a.Label_stretch]:O}),ref:S},i.a.createElement(r,Object.assign({},e,{className:v.a.Input,role:"combobox"})))),[f,t,n,C,o,S,_,O,E]);return i.a.createElement(y,Object.assign({},w,{placeholder:0===t.length?d:void 0,value:s,onKeyDown:P,onInput:k,innerRef:c,"aria-autocomplete":"list","aria-expanded":b,"aria-controls":p,"aria-activedescendant":b&&"number"==typeof h?`${p}-${h}`:void 0,renderControl:I,forceNotifyOnBlur:!1,forceNotifyByEnter:!1,addonAfter:E}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(100);t.sliderFirstPreviewFinished=r.createAction("SLIDER_FIRST_PREVIEW_FINISHED",e=>({payload:{timing:e}})),t.diskSearchFinished=r.createAction("DISK_SEARCH_FINISHED",e=>({payload:{timing:e}})),t.shareLinkFinished=r.createAction("SHARE_LINK_FINISHED",e=>({payload:{timing:e}})),t.sliderFirstPreviewStarted=r.createAction("SLIDER_FIRST_PREVIEW_STARTED"),t.diskSearchStarted=r.createAction("DISK_SEARCH_STARTED"),t.shareLinkStarted=r.createAction("SHARE_LINK_STARTED")}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"close2IconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M21 5.421L19.579 4 12.5 11.079 5.421 4 4 5.421l7.079 7.079L4 19.579 5.421 21l7.079-7.079L19.579 21 21 19.579 13.921 12.5z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";function r(e){return e.displayName||e.name||"Component"}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(46),i=n(17),o=function(e){var t=e.uploader,n=t.totalUploadingSize,r=t.totalUploadedSize,o=t.uploadingStatus===i.UPLOAD_STATUSES.DONE?100:Number(100*(n?r/n:0));return{uploadingTimeRemaining:void 0,uploadingPercentage:o=isNaN(o)?0:Math.min(100,Math.max(0,o))}},a=Object(r.createSelectorCreator)(r.defaultMemoize,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e.id===t[n].id}))}))((function(e){var t=e.uploader.resourcesToUpload,n=e.resources;return t.filter((function(e){return n[e]})).map((function(e){return n[e]}))}),(function(e){return e})),s=function(e){var t=e.uploader,n=t.resourcesToUpload,r=t.uploadingStatesByIds;return n.some((function(e){var t=r[e].status;return Object(i.canCancelUpload)(t)||Object(i.willCanCancelUpload)(t)}))},u=function(e,t){var n=e.uploader.uploadingStatesByIds;return n[t]&&Object(i.isUploadInProgress)(n[t].status)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"trashIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M5.809 3.243c.094-.392.268-1.123.432-1.243l3.551-.016c.167.136.346.877.443 1.275.054.23.116.484.194.741H5.611c.083-.269.144-.53.198-.757zM12.583 4c-.151-.171-.309-.814-.404-1.21C11.911 1.679 11.505 0 9.817 0H6.241c-1.716 0-2.13 1.741-2.377 2.78-.092.385-.262 1.103-.406 1.22H1v2h2v7.985C3 15.098 3.887 16 5 16h5.985A2.015 2.015 0 0 0 13 13.985V6h2V4h-2.417z",fill:"currentColor",fillRule:"evenodd"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"INVITES_STATUSES",(function(){return f})),n.d(t,"INVITES_ACTIONS",(function(){return p})),n.d(t,"updateInvitesToFolders",(function(){return h})),n.d(t,"getInvite",(function(){return m})),n.d(t,"hideInviteToFolder",(function(){return v})),n.d(t,"updateStatusInvite",(function(){return g})),n.d(t,"removeInviteToFolder",(function(){return y})),n.d(t,"acceptInviteToFolder",(function(){return _})),n.d(t,"rejectInviteToFolder",(function(){return O})),n.d(t,"remoteAcceptInviteToFolder",(function(){return E})),n.d(t,"remoteRejectInviteToFolder",(function(){return w})),n.d(t,"fetchInvitesToFolders",(function(){return S}));var r=n(13),i=n(69),o=n(40),a=n(42),s=n(15),u=n(180),c=n(23),l=c.normalize,d=c.basename,f={INITIAL:"INITIAL",PROGRESS:"PROGRESS"},p={ACCEPT:"ACCEPT",REJECT:"REJECT"},h=function(e){return{type:r.UPDATE_INVITES_TO_FOLDERS,payload:e}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hash";return function(n,r){var i=r().invitesToFolders,o=i.invites,a=i.invitesByHash,s="hash"===t?e:o.find((function(n){return a[n][t]===e}));return a[s]}},v=function(e){return{type:r.UPDATE_INVITE_TO_FOLDER,payload:{hash:e,hidden:!0}}},g=function(e,t){return{type:r.UPDATE_INVITE_TO_FOLDER,payload:{hash:e,status:t}}},y=function(e){return{type:r.REMOVE_INVITE_TO_FOLDER,payload:{hash:e}}},b=function(e,t){return function(n,r){var i=r().invitesToFolders.invitesByHash[e];if(i&&i.status===f.PROGRESS)return Promise.resolve({});n(g(e,f.PROGRESS));var s=t===p.ACCEPT,u=s?"acceptInvite":"rejectInvite",c=s?"do-resource-invite-accept":"do-resource-invite-reject";return Object(o.a)(c,{hash:e}).then((function(t){return n(Object(a.notify)({invite:i,operation:u,status:"done"})),n(y(e)),Promise.resolve(t)})).catch((function(t){return n(g(e,f.INITIAL)),n(Object(a.notify)({invite:i,operation:u,status:"failed"})),Promise.reject(t)}))}},_=function(e){return function(t){return t(b(e,p.ACCEPT)).then((function(e){var n=e.id;if(n)return t(Object(s.fetchSingleResource)(l(n)))}))}},O=function(e){return function(t){return t(b(e,p.REJECT))}},E=function(e,t){return function(n){var r=l(e.folder.path),i=e.folder.gid,o=e.folder.group_type;if("actor"===t){var c=n(m(i,"gid"));c&&"family"!==o&&(n(Object(a.notify)({invite:c,operation:"acceptInvite",status:"done"})),n(y(c.hash))),n(Object(s.fetchSingleResource)(r))}else"owner"!==t&&"user"!==t||(n(Object(u.maybeFetchAccessFolderUsers)({silent:!0})),"owner"===t&&"family"!==o&&n(Object(a.notify)({role:t,folderName:e.folder.name||d(r),userName:e.user.name,operation:"acceptInvite"})))}},w=function(e,t){return function(n){var r=e.folder.gid;if("actor"===t){var i=n(m(r,"gid"));if(i)return n(Object(a.notify)({invite:i,operation:"rejectInvite",status:"done"})),n(y(i.hash)),Promise.resolve()}else if("owner"===t)return n(Object(u.maybeFetchAccessFolderUsers)({silent:!0})),Promise.resolve();return Promise.resolve()}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n().invitesToFolders.isLoaded;if(e||!r)return Object(o.a)("invitesFolder",{}).then((function(e){var n=Array.isArray(e)?e:[],r=Object(i.getPreloadedData)("inviteCurrent");r&&r.owner_uid&&!n.some((function(e){return e.hash===r.hash}))&&n.unshift(r),t(h(n))}))}}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(9),i=n.n(r),o=function e(t,n,r){var o=i.a.extend({loop:!1,take:1},r);o.negative=o.take<0,o.take=Math.abs(o.take);var a=o.negative?"reduceRight":"reduce",s=i.a[a](t,(function(e,t){return r.matcher(n,t)?[]:(i.a.isArray(e)&&e.length<o.take&&(!i.a.isFunction(o.filter)||o.filter(t))&&e.push(t),e)}),!n&&[]);return s&&s.length<o.take&&o.loop&&(s=s.concat(e(t,null,i.a.extend(r,{take:(o.take-s.length)*(o.negative?-1:1)})))),s||[]},a=function(e){return Array.isArray(e)?e.slice():[e]}}),(function(e,t,n){"use strict";var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(33),v=n.n(m),g=n(0),y=n.n(g),b=n(585),_=n(372);function O(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var E=(function(e){l()(n,e);var t=O(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getItems",value:function(){var e=this.props,t=e.limit,n=e.activeItemIndex,r=e.items,i=e.createItem,o=Math.floor(t/2),a=Math.max(n-o,0),s=Math.min(n+o,r.length-1);return r.map((function(e,t){return i(t,t>=a&&t<=s)})).filter(Boolean)}},{key:"render",value:function(){return y.a.createElement("div",{className:this.props.className,ref:this.props.itemsListRef},this._getItems())}}]),n})(g.Component),w=n(10),S=n.n(w),C=n(587),x=n(366),T=n(26),P=n(11),k=n.n(P),j=(n(1349),{left:C.b,right:x.b}),R=function(e){var t,n=e.direction,r=e.hidden,i=e.ariaLabel,o=e.theme,a=void 0===o?"dark":o,s=e.buttonSize,u=void 0===s?"xxxl":s,c=e.iconSize,l=void 0===c?"xxl":c,d=e.onClick,f=j[n];return y.a.createElement(T.Button,{size:u,view:"clear","aria-label":i,className:k()()("switch-arrow-button").m((t={},S()(t,n,!0),S()(t,"theme",a),S()(t,"hidden",r),t)),onClick:d,icon:function(e){return y.a.createElement(f,{cls:e,iconSize:l})}})},I=n(68);function A(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var D="keyboard",M="button",N=["input","textarea","select","option"],L=function(e){var t=(function(t){l()(r,t);var n=A(r);function r(e){var t;return i()(this,r),(t=n.call(this,e))._onPreviousArrowClick=t._onPreviousArrowClick.bind(u()(t)),t._onNextArrowClick=t._onNextArrowClick.bind(u()(t)),t._onKeyDown=t._onKeyDown.bind(u()(t)),t}return a()(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this._onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._onKeyDown)}},{key:"_canUseArrows",value:function(){return!(!this.props.enableKeyboardControl||this.props.disabledOnFormControls&&document.activeElement&&N.includes(document.activeElement.nodeName.toLowerCase()))}},{key:"_onKeyDown",value:function(e){if(this._canUseArrows())switch(e.keyCode){case I.Keys.LEFT:case I.Keys.UP:this.props.onPrevious(D),e.preventDefault();break;case I.Keys.RIGHT:case I.Keys.DOWN:case I.Keys.SPACE:this.props.onNext(D),e.preventDefault()}}},{key:"_onPreviousArrowClick",value:function(){this.props.onPrevious(M)}},{key:"_onNextArrowClick",value:function(){this.props.onNext(M)}},{key:"render",value:function(){var t=Object.assign({},this.props),n=(t.children||[]).slice();return t.showArrowLeft&&n.push(y.a.createElement(R,{direction:"left",key:"previous",ariaLabel:t.arrowLabels?t.arrowLabels.left:void 0,onClick:this._onPreviousArrowClick})),t.showArrowRight&&n.push(y.a.createElement(R,{direction:"right",key:"next",onClick:this._onNextArrowClick,ariaLabel:t.arrowLabels?t.arrowLabels.right:void 0})),delete t.children,delete t.showArrowLeft,delete t.showArrowRight,delete t.onPrevious,delete t.onNext,y.a.createElement(e,t,n)}}]),r})(g.Component);return t.defaultProps={enableKeyboardControl:!0,disabledOnFormControls:!0},t},F=n(74),B=n(38),U=n.n(B),z=n(114),V=n(350);function H(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}n.d(t,"a",(function(){return $})),n.d(t,"c",(function(){return G}));var W=function(){return k()()("slider")},$=10,G=function(e){return{resources:e.resources,activeResource:e.activeResource}},q=Object(g.memo)((function(e){var t=Object(g.useRef)(null);Object(V.useFocusTrap)({enabled:!0,scopeRef:t,autoFocus:!0,restoreFocus:!0});var n=Object(g.useCallback)((function(n){t.current=n,e.containerProps.ref&&e.containerProps.ref(n)}),[e]);return y.a.createElement("div",v()({},e.containerProps,{ref:n}),e.children)})),Y=L(function(e){l()(n,e);var t=H(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={itemsLimit:1},r._getSliderItem=r._getSliderItem.bind(u()(r)),r._onFirstActivePreviewLoad=r._onFirstActivePreviewLoad.bind(u()(r)),r._onKeyUp=r._onKeyUp.bind(u()(r)),r._itemsRefs={},r._isFirstPreviewLoaded=!1,r}return a()(n,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this._onKeyUp),this.props.activeResource.content&&this._onFirstActivePreviewLoad(),this.props.containerRef&&this.props.containerRef(this._rootRef),this.props.itemsContainerRef&&this.props.itemsContainerRef(this._itemsContainerRef),this.props.itemsRefs&&this.props.itemsRefs(this._itemsRefs),this._maybeFetchResources()}},{key:"componentWillUnmount",value:function(){this._rootRef.removeEventListener("keypress",this._onKeyUp)}},{key:"componentDidUpdate",value:function(e){e.activeResource.id!==this.props.activeResource.id&&this._maybeFetchResources()}},{key:"_maybeFetchResources",value:function(){var e=this;if(!this._isFetching){var t=this.props,n=t.possiblyHasPrevious,r=t.possiblyHasNext,i=t.fetchResourcesThreshold,o=[-1,1].filter((function(t){return Object(z.c)(Object.assign(G(e.props),{possiblyHasPrevious:n,possiblyHasNext:r,fetchResourcesThreshold:i}),t)}));if(o.length){var a=this.props.fetchResources(o);if(a instanceof Promise){this._isFetching=!0;var s=function(){e._isFetching=!1};a.then(s,s)}}}}},{key:"_getSliderItems",value:function(){var e=this;return y.a.createElement(E,{className:W().e("items"),itemsListRef:function(t){e._itemsContainerRef=t},limit:this.state.itemsLimit,items:this.props.resources,activeItemIndex:Object(z.a)(G(this.props)),createItem:this._getSliderItem})}},{key:"_onFirstActivePreviewLoad",value:function(){this.props.onFirstPreviewLoad&&this.props.onFirstPreviewLoad(),this.setState({itemsLimit:5})}},{key:"_getPreview",value:function(e){var t=this,n=this.props.resources[e],r=n===this.props.activeResource;if(n.content){var i="function"==typeof n.content?n.content(this.props.sliderApi):n.content;return y.a.createElement("div",{className:W().e("content")},n.background?y.a.createElement("div",{className:W().e("content-background"),style:{backgroundImage:"url(".concat(n.background,")")}}):null,i)}var o={onError:function(e){return t.props.onImageError(n,e)},className:W().e("preview"),active:r,nonce:this.props.nonce,fitToWidth:n.fitToWidth};if(r&&this.state.isZoomed)o.previewBaseUrl=o.defaultPreview=n.originalUrl;else if(this.props.useSrcSet)o.srcSet=n.srcSet,o.srcSetFallback=n.srcSetFallback;else{var a=this.props.viewportSize,s=a.width,u=a.height;Object.assign(o,{defaultPreview:n.originalUrl,previewBaseUrl:n.previewBaseUrl,width:s,height:u})}return!this._isFirstPreviewLoaded&&r&&(o.onLoad=this._onFirstActivePreviewLoad),y.a.createElement(b.a,o)}},{key:"_getSliderItem",value:function(e,t){var n=this,r=this.props.resources[e],i=r===this.props.activeResource;return y.a.createElement("div",{className:W().e("item").m({active:i,mobile:!this.props.showSwitchArrows}),"aria-hidden":!i,key:r.id||e,ref:function(t){n._itemsRefs[e]=t}},i||t?this._getPreview(e):null)}},{key:"_getToolbar",value:function(){var e=this,t=this.props,n=t.toolbarChildren,r=t.waitResource;return n?y.a.createElement("div",{className:W().e("toolbar").m({visible:this.props.toolbarVisible}),onTouchMove:z.b,onTransitionEnd:function(){return e.props.onToolbarAnimationEnd(e.props.toolbarVisible)}},"function"==typeof n?n(r):n):null}},{key:"_onKeyUp",value:function(e){this.props.enableKeyboardControl&&e.keyCode===U.a.KEYS.ESC&&this.props.onClose(D)}},{key:"render",value:function(){var e=this,t=this.props.activeResource;return y.a.createElement(q,{containerProps:{role:"dialog","aria-modal":"true",className:W().m({zoomed:this.state.isZoomed}).mix(this.props.cls),ref:function(t){e._rootRef=t}}},y.a.createElement("div",{className:W().e("a11y"),role:"alert","aria-live":"assertive"},t&&(t.name||t.id)),this._getSliderItems(),this._getToolbar(),this.props.children)}}]),n}(g.PureComponent)),K=(function(e){l()(n,e);var t=H(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={waitPrevious:!1,waitNext:!1},r._setItemsRefs=r._setItemsRefs.bind(u()(r)),r.switchToPrevious=r.switchToPrevious.bind(u()(r)),r.switchToNext=r.switchToNext.bind(u()(r)),r._itemsRefs={},r}return a()(n,[{key:"componentDidUpdate",value:function(e){var t=Object(z.a)(G(this.props)),n=this.props,r=n.resources,i=n.possiblyHasPrevious,o=n.possiblyHasNext,a=n.onActiveResourceChange,s=r!==e.resources;(this.state.waitPrevious&&(s||i!==e.possiblyHasPrevious)||this.state.waitNext&&(s||o!==e.possiblyHasNext))&&(this.state.waitPrevious&&(t>0?(a(r[t-1],-1),this.setState({waitPrevious:!1})):i||this.setState({waitPrevious:!1})),this.state.waitNext&&(t<r.length-1?(a(r[t+1],1),this.setState({waitNext:!1})):o||this.setState({waitNext:!1})))}},{key:"switchToPrevious",value:function(e){var t=Object(z.a)(G(this.props));this.props.possiblyHasPrevious&&0===t&&this.setState({waitPrevious:!0}),this.state.waitNext?this.setState({waitNext:!1}):t>0&&this.props.onActiveResourceChange(this.props.resources[t-1],-1,e)}},{key:"switchToNext",value:function(e){var t=Object(z.a)(G(this.props));this.props.possiblyHasNext&&t===this.props.resources.length-1&&this.setState({waitNext:!0}),this.state.waitPrevious?this.setState({waitPrevious:!1}):t<this.props.resources.length-1&&this.props.onActiveResourceChange(this.props.resources[t+1],1,e)}},{key:"_getFakeItem",value:function(e,t){var n=this.props.viewportSize,r=n.width,i=n.height;return{id:"fake-wait-"+e,content:y.a.createElement(F.Spin,{view:"default",progress:!0,size:"m",className:W().e("fake-item-spin")}),background:this.props.showBackgroundWhileLoadNext&&t.previewBaseUrl&&Object(_.c)({previewBaseUrl:t.previewBaseUrl,width:r,height:i})}}},{key:"_getResources",value:function(){var e,t,n=this.props.resources.slice(),r=this.props.activeResource;return this.props.possiblyHasPrevious&&(e=this._getFakeItem("previous",this.props.resources[0]),n.unshift(e),this.state.waitPrevious&&(r=e)),this.props.possiblyHasNext&&(t=this._getFakeItem("next",this.props.resources[this.props.resources.length-1]),n.push(t),this.state.waitNext&&(r=t)),{resources:n,activeResource:r}}},{key:"isCurrentResourceAnImage",value:function(){return!this.state.waitPrevious&&!this.state.waitNext&&!this.props.activeResource.content}},{key:"_setItemsRefs",value:function(e){this._itemsRefs=e}},{key:"getItemsRefs",value:function(){var e;return this.state.waitPrevious?e=0:this.state.waitNext?e=this._itemsRefs.length-1:(e=Object(z.a)(G(this.props)),this.props.possiblyHasPrevious&&e++),{current:this._itemsRefs[e],next:this._itemsRefs[e+1],prev:this._itemsRefs[e-1]}}},{key:"render",value:function(){var e=Object(z.a)(G(this.props)),t=this.props.showSwitchArrows&&this.props.toolbarVisible,n=t&&(e>0||0===e&&this.props.possiblyHasPrevious&&!this.state.waitPrevious),r=t&&(e<this.props.resources.length-1||e===this.props.resources.length-1&&this.props.possiblyHasNext&&!this.state.waitNext);return y.a.createElement(Y,v()({showArrowLeft:n,showArrowRight:r,waitResource:this.state.waitPrevious||this.state.waitNext,onPrevious:this.switchToPrevious,onNext:this.switchToNext,itemsRefs:this._setItemsRefs},this.props,this._getResources()))}}]),n})(g.PureComponent),J=function(){};K.defaultProps={fetchResourcesThreshold:$,fetchResources:J,enableKeyboardControl:!0,onActiveResourceChange:J,onClose:J,onImageError:J,onToolbarAnimationEnd:J,toolbarVisible:!0,sliderApi:{}},K.ToolbarLeft=function(e){return y.a.createElement("div",{className:W().e("toolbar-left")},e.children)},K.ToolbarRight=function(e){return y.a.createElement("div",{className:W().e("toolbar-right")},e.children)};t.b=K}),,(function(e,t,n){"use strict";var r=n(956),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAllRefs=t.mergeRefs=void 0;var r=n(639);t.mergeRefs=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r.canUseDOM()&&requestAnimationFrame((function(){t.forEach((function(t){void 0!==e&&void 0!==t&&("function"==typeof t?t(e.current):t.current=e.current)}))})),e},t.mergeAllRefs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}))}}}),(function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(49),o=(n(746),Object(r.withBemMod)(Object(i.b)(),{theme:"clear"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(49),o=(n(747),Object(r.withBemMod)(Object(i.b)(),{theme:"normal"}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LANGS_FALLBACK_EN=t.AD_FOR_DISCLAIMER=t.AD_PROMO_DISCLAIMER=t.CLOSE_COMMON_TEXT=t.DAY=t.HOUR=t.MINUTE=t.SECOND=void 0,t.SECOND=1e3,t.MINUTE=60*t.SECOND,t.HOUR=60*t.MINUTE,t.DAY=24*t.HOUR,t.CLOSE_COMMON_TEXT="Close",t.AD_PROMO_DISCLAIMER="adPromoDisclaimer",t.AD_FOR_DISCLAIMER="adForDisclaimer",t.LANGS_FALLBACK_EN=["en","tr","az","hy","ka","ro","uz"]}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.UserFamily=t.Segment=t.Subscription=t.Orientation=t.Platform=t.ThemeType=t.Lang=t.Project=void 0,(function(e){e.mailDesktop="mailDesktop",e.diskDesktop="diskDesktop",e.diskPublicDesktop="diskPublicDesktop",e.diskPublicTouch="diskPublicTouch",e.tuningDesktop="tuningDesktop",e.diskTouch="diskTouch",e.mailTouch="mailTouch",e.tuningTouch="tuningTouch",e.commonLanding="commonLanding",e.mailPublicLanding="mailPublicLanding",e.diskPublicLanding="diskPublicLanding",e.calendarDesktop="calendarDesktop",e.calendarTouch="calendarTouch",e.sarahDesktop="sarahDesktop"})(t.Project||(t.Project={})),(function(e){e.az="az",e.be="be",e.en="en",e.hy="hy",e.ka="ka",e.kk="kk",e.ro="ro",e.ru="ru",e.tr="tr",e.tt="tt",e.uk="uk",e.uz="uz"})(t.Lang||(t.Lang={})),(function(e){e.dark="dark",e.light="light"})(t.ThemeType||(t.ThemeType={})),(function(e){e.desktop="desktop",e.touch="touch"})(t.Platform||(t.Platform={})),(function(e){e.landscape="landscape",e.portrait="portrait"})(t.Orientation||(t.Orientation={})),(function(e){e.all="all",e.paid="paid",e.free="free"})(t.Subscription||(t.Subscription={})),(function(e){e.all="all",e.b2b="b2b",e.b2c="b2c"})(t.Segment||(t.Segment={})),(function(e){e.familyInId="familyInId",e.tariffSubscription="tariffSubscription"})(t.UserFamily||(t.UserFamily={})),(function(e){e["page-init"]="page-init",e.compose="compose",e["page-changed"]="page-changed"})(t.Stage||(t.Stage={}))}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}}),(function(e,t,n){var r=n(145)(Object,"create");e.exports=r}),(function(e,t,n){var r=n(763),i=n(764),o=n(765),a=n(766),s=n(767);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u}),(function(e,t,n){var r=n(323);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}}),(function(e,t,n){var r=n(769);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}}),(function(e,t,n){var r=n(158),i=n(129),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}}),(function(e,t,n){var r=n(230),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}}),(function(e,t,n){var r=n(466),i=n(447),o=n(184);e.exports=function(e){return o(e)?r(e):i(e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1755);class i{checkConditions(e){var t;for(const n of e){const e=null===(t=n.expected)||void 0===t||t;if(n.actual!==e)return r.DebugModel.info("checker",`[${n.message}] failed. Expected: [`,e,"], actual: [",n.actual,"]"),!1}return!0}}t.CheckerModelClass=i,t.CheckerModel=new i}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.Employees="employees",e.All="all"})(t.Macros||(t.Macros={})),(function(e){e.Write="write",e.Read="read",e.ReadWithoutDownload="read_without_download",e.ReadWithPassword="read_with_password",e.ReadWithPasswordWithoutDownload="read_with_password_without_download"})(t.Permission||(t.Permission={})),(function(e){e.User="user",e.Macro="macro",e.Group="group",e.Department="department"})(t.AccessType||(t.AccessType={})),(function(e){e[e.IDMInvalidPermissionError=342]="IDMInvalidPermissionError"})(t.MPFSErrorCode||(t.MPFSErrorCode={})),(function(e){e.Main="main",e.Picker="picker",e.Suggest="suggest",e.Settings="settings"})(t.Screen||(t.Screen={}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATASYNC_KEY_NAME=t.ThemeName=void 0,(function(e){e.GeneralDefault="general-default",e.GeneralDarkDefault="general-dark-default",e.GeneralFlow="general-flow",e.GeneralGrass="general-grass",e.GeneralDarkflow="general-darkflow",e.GeneralNewYear2024="general-new-year-2024",e.Void=""})(t.ThemeName||(t.ThemeName={})),t.DATASYNC_KEY_NAME="generalThemes"}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),i=n(0),o=n.n(i),a=n(3),s=n(72),u=n(60),c=Object(a.withBemMod)(Object(u.b)(),{pseudo:!0},(function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClick=function(t){t.preventDefault(),void 0!==e.props.onClick&&e.props.onClick(t)},e.onKeyDown=function(t){t.keyCode===s.a.SPACE&&t.preventDefault(),void 0!==e.props.onKeyDown&&e.props.onKeyDown(t)},e}return Object(r.__extends)(n,t),n.prototype.render=function(){var t=this.props,n=(t.pseudo,Object(r.__rest)(t,["pseudo"]));return o.a.createElement(e,Object(r.__assign)({},n,{onClick:this.onClick,onKeyDown:this.onKeyDown}))},n})(i.PureComponent)}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(0),o=n.n(i),a=n(3),s=n(60),u=(n(875),Object(a.withBemMod)(Object(s.b)(),{theme:"black"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(0),o=n.n(i),a=n(3),s=n(60),u=(n(877),Object(a.withBemMod)(Object(s.b)(),{theme:"ghost"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(0),o=n.n(i),a=n(3),s=n(60),u=(n(879),Object(a.withBemMod)(Object(s.b)(),{theme:"normal"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(0),o=n.n(i),a=n(3),s=n(60),u=(n(881),Object(a.withBemMod)(Object(s.b)(),{theme:"outer"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(0),o=n.n(i),a=n(3),s=n(60),u=(n(883),Object(a.withBemMod)(Object(s.b)(),{theme:"pseudo"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(0),o=n.n(i),a=n(3),s=n(60),u=(n(885),Object(a.withBemMod)(Object(s.b)(),{theme:"strong"},(function(e){return function(t){t.theme;var n=Object(r.__rest)(t,["theme"]);return o.a.createElement(e,Object(r.__assign)({},n))}})))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(60),o=(n(887),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(91);t.getNotifyWidth=(e=>{var t;const n=null===(t=null===e||void 0===e?void 0:e.querySelector(".notification__text"))||void 0===t?void 0:t.getBoundingClientRect();return n?Math.min(n.width,window.innerWidth-2*n.left,800):""}),t.getTypeNotification=(e=>{const{operation:t,status:n,dst:i,browserScrollLimit:o,cannotUploadFolder:a}=e,s=n===r.Status.done&&(t===r.Operations.delete&&i||t===r.Operations.createAlbum);return o||a||s?r.NotificationType.black:r.NotificationType.normal}),t.isDirectory=(e=>!!e.src&&e.src.type===r.TypeOfSrc.dir),t.isFile=(e=>!!e.src&&e.src.type===r.TypeOfSrc.file)}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});const i=n(100);t.fetchAvailablePublicSettings=i.createAction("shareDialog/fetchAvailablePublicSettings"),t.fetchPublicSettings=i.createAction("shareDialog/fetchPublicSettings"),t.fetchPublicSettingsFail=i.createAction("shareDialog/fetchPublicSettingsFail"),t.updatePublicSettings=i.createAction("shareDialog/updatePublicSettings"),t.updatePublicSettingsFail=i.createAction("shareDialog/updatePublicSettingsFail"),t.setPublic=i.createAction("shareDialog/setPublic"),t.setPublicSuccess=i.createAction("shareDialog/setPublicSuccess"),t.setPublicFail=i.createAction("shareDialog/setPublicFail"),t.setPrivate=i.createAction("shareDialog/setPrivate"),t.setPrivateSuccess=i.createAction("shareDialog/setPrivateSuccess"),t.setPrivateFail=i.createAction("shareDialog/setPrivateFail"),t.fetchSuggestions=i.createAction("shareDialog/fetchSuggestions");const o=i.createSlice({name:"share-dialog",initialState:{byIds:{},suggestions:[]},reducers:{setSuggestions(e,{payload:t}){e.suggestions=t},setIsAvailableSettingsLoading(e,{payload:t}){const{id:n,isLoading:r}=t;e.byIds[n]=Object.assign(Object.assign({},e.byIds[n]||{}),{isAvailableSettingsLoading:r})},setIsPublicSettingsLoading(e,{payload:t}){const{id:n,isLoading:r}=t;e.byIds[n]=Object.assign(Object.assign({},e.byIds[n]||{}),{isPublicSettingsLoading:r})},setIsUpdatingSettings(e,{payload:t}){const{id:n,isUpdating:r}=t;e.byIds[n]=Object.assign(Object.assign({},e.byIds[n]||{}),{isUpdatingSettings:r})},setIsSettingPrivate(e,{payload:t}){const{id:n,isSettingPrivate:r}=t;e.byIds[n]=Object.assign(Object.assign({},e.byIds[n]||{}),{isSettingPrivate:r})},setAvailableSettings(e,{payload:t}){const{id:n,availableSettings:r}=t;e.byIds[n]=Object.assign(Object.assign({},e.byIds[n]||{}),{availableSettings:r})},setPublicSettings(e,{payload:t}){const{id:n,publicSettings:r}=t;e.byIds[n]=Object.assign(Object.assign({},e.byIds[n]||{}),{publicSettings:r})},clearAllSettings(e,{payload:t}){delete e.byIds[t]},clearPublicSettings(e,{payload:t}){e.byIds[t]&&delete e.byIds[t].publicSettings},setExternalEmails(e,{payload:t}){const{id:n,emails:r}=t;e.byIds[n]=Object.assign(Object.assign({},e.byIds[n]||{}),{externalEmails:r})},clearExternalEmails(e,{payload:t}){e.byIds[t]&&delete e.byIds[t].externalEmails}}});r=o.actions,t.setSuggestions=r.setSuggestions,t.setIsAvailableSettingsLoading=r.setIsAvailableSettingsLoading,t.setIsPublicSettingsLoading=r.setIsPublicSettingsLoading,t.setAvailableSettings=r.setAvailableSettings,t.setPublicSettings=r.setPublicSettings,t.clearAllSettings=r.clearAllSettings,t.clearPublicSettings=r.clearPublicSettings,t.setIsUpdatingSettings=r.setIsUpdatingSettings,t.setIsSettingPrivate=r.setIsSettingPrivate,t.setExternalEmails=r.setExternalEmails,t.clearExternalEmails=r.clearExternalEmails,t.default=o.reducer}),(function(e,t,n){"use strict";n.r(t);var r=n(249),i=n(188),o=n(161),a=n(221),s=n(222),u=n(160),c=n(151),l=n(380);n.d(t,"directions",(function(){return c.directions})),n.d(t,"Popup",(function(){return r.a})),n.d(t,"withNonvisual",(function(){return i.a})),n.d(t,"withTargetAnchor",(function(){return o.a})),n.d(t,"withThemeClear",(function(){return a.a})),n.d(t,"withThemeNormal",(function(){return s.a})),n.d(t,"withViewDefault",(function(){return u.a})),n.d(t,"cnPopup",(function(){return r.b})),n.d(t,"popupRegistry",(function(){return l.popupRegistry}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"isDebugMode",(function(){return r}));var r=function(e){var t=location.search.match(/[&?]debug=([^&]+)/);if(t){var n=t[1];return"all"===n||n.split(",").includes(e)}return!1}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(function(){function e(){this.overlays=[],this.eventTarget=null,this.onDocumentKeyUp=this.onDocumentKeyUp.bind(this),this.onDocumentMouseDown=this.onDocumentMouseDown.bind(this),this.onDocumentClick=this.onDocumentClick.bind(this)}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.count=function(){return this.overlays.length},e.prototype.addOverlay=function(e){0===this.overlays.length&&this.attachEvents(),this.overlays.push(e)},e.prototype.removeOverlay=function(e){this.overlays.splice(this.overlays.indexOf(e),1),0===this.overlays.length&&this.detachEvents()},e.prototype.getTopOverlayOptions=function(){return this.overlays[this.overlays.length-1]},e.prototype.isEssentionalClick=function(e,t){return e.some((function(e){return e.current instanceof HTMLElement&&e.current.contains(t)}))},e.prototype.handleClose=function(e,t,n){var r=this.getTopOverlayOptions();!r||!r.onClose||n&&n!==r.closeStrategy||"click"===t&&this.isEssentionalClick(r.refs,e.target)||r.onClose(e,t)},e.prototype.onDocumentKeyUp=function(e){var t=e.key;"Escape"!==t&&"Esc"!==t||this.handleClose(e,"esc")},e.prototype.onDocumentMouseDown=function(e){this.eventTarget=e.target,this.activeOverlay=this.getTopOverlayOptions(),this.handleClose(e,"click","pressdown")},e.prototype.onDocumentClick=function(e){var t=this.eventTarget;this.eventTarget=null;var n=this.activeOverlay;this.activeOverlay=null,e.button>0||n===this.getTopOverlayOptions()&&t===e.target&&this.handleClose(e,"click","pressup")},e.prototype.attachEvents=function(){document.addEventListener("keyup",this.onDocumentKeyUp),document.addEventListener("mousedown",this.onDocumentMouseDown,!0),document.addEventListener("click",this.onDocumentClick,!0)},e.prototype.detachEvents=function(){document.removeEventListener("keyup",this.onDocumentKeyUp),document.removeEventListener("mousedown",this.onDocumentMouseDown,!0),document.removeEventListener("click",this.onDocumentClick,!0)},e})()}),(function(e,t,n){"use strict";var r=n(31),i=n(49),o=n(358),a=new r.Registry({id:Object(i.b)()});a.set("Tail",o.a),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i.b}));var s=Object(r.withRegistry)(a)(i.a)}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(0),i=n.n(r),o={value:0,id:0},a=Object(r.createContext)(o),s=function(e){var t=e.children,n=Object(r.useContext)(a),s=Object(r.useMemo)((function(){return{value:0,id:n===o?0:++n.id}}),[n]);return i.a.createElement(a.Provider,{value:s},t)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(50);function i(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Object(r.c)(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(253);function i(e){return Object.assign(Object.assign({},Object(r.a)()),e)}}),(function(e,t,n){"use strict";function r(){return{top:0,right:0,bottom:0,left:0}}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";function r(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(76),i=n(118),o=n(167),a=n(21);function s(e){var t,n=e.reference,s=e.element,u=e.placement,c=u?Object(r.a)(u):null,l=u?Object(i.a)(u):null,d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2;switch(c){case a.m:t={x:d,y:n.y-s.height};break;case a.c:t={x:d,y:n.y+n.height};break;case a.k:t={x:n.x+n.width,y:f};break;case a.f:t={x:n.x-s.width,y:f};break;default:t={x:n.x,y:n.y}}var p=c?Object(o.a)(c):null;if(null!=p){var h="y"===p?"height":"width";switch(l){case a.l:t[p]=Math.floor(t[p])-Math.floor(n[h]/2-s[h]/2);break;case a.e:t[p]=Math.floor(t[p])+Math.ceil(n[h]/2-s[h]/2)}}return t}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(182),o=n(1825),a=n(1842),s=n(1844),u=n(1847),c=n(1849),l=n(1851);n(1852),t.Textinput=r.compose(r.composeU(i.withSizeS,i.withSizeM,i.withSizeL,c.withSizeNote),r.composeU(i.withViewDefault,a.withViewNormal,o.withViewNote,s.withViewSearch,u.withViewSuggestPsHeaderLight),r.composeU(r.composeU(i.withPinBrickBrick,i.withPinBrickClear,i.withPinBrickRound,i.withPinClearBrick,i.withPinClearClear,i.withPinClearRound),i.withPinRoundBrick,i.withPinRoundClear,i.withPinRoundRound),i.withHasClear,l.withIconClassName)(i.Textinput)}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(903);t.Corner=o.Corner,t.Wrapper=o.Wrapper,n(2015);const a=r(n(0)),s=i.compose(i.composeU(o.withViewDefault,o.withViewInverse),i.composeU(o.withSizeM,o.withSizeL)),u=s(o.MessageBox);t.MessageBox=(e=>a.memo(t=>{const n=a.useRef(null);return a.useEffect(()=>{n.current&&(n.current.setAttribute("role","alert"),n.current.setAttribute("aria-live","assertive"))},[n]),a.default.createElement(e,Object.assign({},t,{innerRef:n}))}))(u),t.MessageBoxPopup=s(o.MessageBoxPopup)}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r={M:300,L:500,XL:800,XXL:1024,XXXL:1280},i=function(e){return e.filter((function(e){var t=e.name;return r[t]})).map((function(e){var t=e.name,n=e.url;return"".concat(n," ").concat(r[t],"w")})).join(",")},o=function(e,t){var n=e.find((function(e){return e.name===t}));return n&&n.url}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"unseenIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M14.398 1.253L.884 14.465l.805.788 2.786-2.724a8.57 8.57 0 0 0 3.531.745c5.463 0 7.948-4.77 7.948-4.77l.13-.252L15.953 8s-1.065-2.032-3.33-3.437l2.58-2.523-.805-.787zm-6.289 2C2.682 3.253.213 7.979.213 7.979l-.129.251.13.249s.776 1.475 2.411 2.774L5.35 8.595a2.67 2.67 0 0 1-.03-.388c0-1.517 1.272-2.758 2.828-2.758.135 0 .267.012.397.03l1.94-1.892a8.667 8.667 0 0 0-2.375-.334zm2.298 3.6a2.8 2.8 0 0 1 .477 1.56 2.849 2.849 0 0 1-2.84 2.84 2.804 2.804 0 0 1-1.56-.477l3.923-3.923z",fill:"currentColor",fillRule:"evenodd"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n.n(i),a=n(28),s=n(75),u=(n(1680),Object(a.cn)("Text")),c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textElement=null,t}return Object(r.__extends)(t,e),t.getLineHeight=function(e){return parseFloat(getComputedStyle(e).lineHeight)},t.isFade=function(e){return"fade"===e||"fade-horizontal"===e},t.isEllipsis=function(e){return"ellipsis"===e},t.prototype.componentDidMount=function(){this.updateText()},t.prototype.componentWillUnmount=function(){this.textElement=null},t.prototype.componentDidUpdate=function(e){e.typography!==this.props.typography&&this.updateText()},t.prototype.updateText=function(){var e=this.textElement,n=this.props.overflow;e&&n&&t.isFade(n)&&Object(s.a)()&&this.forceUpdate()},t.prototype.getLineHeight=function(){if(this.textElement){var e=t.getLineHeight(this.textElement);if(!isNaN(e))return e}},t.prototype.setTextElement=function(e){this.textElement=e},t.prototype.render=function(){var e=this.props,n=e.as,i=void 0===n?"span":n,a=e.className,s=e.align,c=e.overflow,l=e.maxLines,d=void 0===l?1:l,f=e.style,p=void 0===f?{}:f,h=e.color,m=(e.typography,Object(r.__rest)(e,["as","className","align","overflow","maxLines","style","color","typography"]));if(c)if(t.isEllipsis(c))p.WebkitLineClamp=d;else if(t.isFade(c)&&(p.whiteSpace=1===d?"nowrap":void 0,d>1)){var v=this.getLineHeight();"number"==typeof v&&(p.maxHeight=d*v+"px")}return o.a.createElement(i,Object(r.__assign)({ref:this.setTextElement.bind(this),style:p,className:u({color:h,align:s,overflow:c},[a])},m))},t.displayName=u(),t})(i.PureComponent),l=(n(1681),n(3)),d=Object(l.withBemMod)(u(),{typography:"body-long-l"}),f=(n(1682),Object(l.withBemMod)(u(),{typography:"body-long-m"})),p=(n(1683),Object(l.withBemMod)(u(),{typography:"body-long-s"})),h=(n(1684),Object(l.withBemMod)(u(),{typography:"body-long-xl"})),m=(n(1685),Object(l.withBemMod)(u(),{typography:"body-short-l"})),v=(n(1686),Object(l.withBemMod)(u(),{typography:"body-short-m"})),g=(n(1687),Object(l.withBemMod)(u(),{typography:"body-short-s"})),y=(n(1688),Object(l.withBemMod)(u(),{typography:"body-short-xl"})),b=(n(1689),Object(l.withBemMod)(u(),{typography:"caption-l"})),_=(n(1690),Object(l.withBemMod)(u(),{typography:"caption-m"})),O=(n(1691),Object(l.withBemMod)(u(),{typography:"caption-xl"})),E=(n(1692),Object(l.withBemMod)(u(),{typography:"control-l"})),w=(n(1693),Object(l.withBemMod)(u(),{typography:"control-m"})),S=(n(1694),Object(l.withBemMod)(u(),{typography:"control-s"})),C=(n(1695),Object(l.withBemMod)(u(),{typography:"control-xl"})),x=(n(1696),Object(l.withBemMod)(u(),{typography:"control-xs"})),T=(n(1697),Object(l.withBemMod)(u(),{typography:"control-xxl"})),P=(n(1698),Object(l.withBemMod)(u(),{typography:"control-xxs"})),k=(n(1699),Object(l.withBemMod)(u(),{typography:"display-l"})),j=(n(1700),Object(l.withBemMod)(u(),{typography:"display-m"})),R=(n(1701),Object(l.withBemMod)(u(),{typography:"display-s"})),I=(n(1702),Object(l.withBemMod)(u(),{typography:"display-xl"})),A=(n(1703),Object(l.withBemMod)(u(),{typography:"headline-l"})),D=(n(1704),Object(l.withBemMod)(u(),{typography:"headline-m"})),M=(n(1705),Object(l.withBemMod)(u(),{typography:"headline-s"})),N=(n(1706),Object(l.withBemMod)(u(),{typography:"headline-xl"})),L=(n(1707),Object(l.withBemMod)(u(),{typography:"headline-xs"})),F=(n(1708),Object(l.withBemMod)(u(),{typography:"overline-l"})),B=(n(1709),Object(l.withBemMod)(u(),{typography:"overline-m"})),U=(n(1710),Object(l.withBemMod)(u(),{typography:"overline-s"})),z=(n(1711),Object(l.withBemMod)(u(),{typography:"subheader-l"})),V=(n(1712),Object(l.withBemMod)(u(),{typography:"subheader-m"})),H=(n(1713),Object(l.withBemMod)(u(),{typography:"subheader-s"})),W=(n(1714),Object(l.withBemMod)(u(),{typography:"subheader-xl"})),$=(n(1715),Object(l.withBemMod)(u(),{weight:"bold"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),G=(n(1716),Object(l.withBemMod)(u(),{weight:"light"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),q=(n(1717),Object(l.withBemMod)(u(),{weight:"medium"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}}))),Y=(n(1718),Object(l.withBemMod)(u(),{weight:"regular"},(function(e){return function(t){t.weight;var n=Object(r.__rest)(t,["weight"]);return o.a.createElement(e,Object(r.__assign)({},n))}})));n.d(t,"cnText",(function(){return u})),n.d(t,"Text",(function(){return c})),n.d(t,"withTypographyBodyLongL",(function(){return d})),n.d(t,"withTypographyBodyLongM",(function(){return f})),n.d(t,"withTypographyBodyLongS",(function(){return p})),n.d(t,"withTypographyBodyLongXL",(function(){return h})),n.d(t,"withTypographyBodyShortL",(function(){return m})),n.d(t,"withTypographyBodyShortM",(function(){return v})),n.d(t,"withTypographyBodyShortS",(function(){return g})),n.d(t,"withTypographyBodyShortXL",(function(){return y})),n.d(t,"withTypographyCaptionL",(function(){return b})),n.d(t,"withTypographyCaptionM",(function(){return _})),n.d(t,"withTypographyCaptionXL",(function(){return O})),n.d(t,"withTypographyControlL",(function(){return E})),n.d(t,"withTypographyControlM",(function(){return w})),n.d(t,"withTypographyControlS",(function(){return S})),n.d(t,"withTypographyControlXL",(function(){return C})),n.d(t,"withTypographyControlXS",(function(){return x})),n.d(t,"withTypographyControlXXL",(function(){return T})),n.d(t,"withTypographyControlXXS",(function(){return P})),n.d(t,"withTypographyDisplayL",(function(){return k})),n.d(t,"withTypographyDisplayM",(function(){return j})),n.d(t,"withTypographyDisplayS",(function(){return R})),n.d(t,"withTypographyDisplayXL",(function(){return I})),n.d(t,"withTypographyHeadlineL",(function(){return A})),n.d(t,"withTypographyHeadlineM",(function(){return D})),n.d(t,"withTypographyHeadlineS",(function(){return M})),n.d(t,"withTypographyHeadlineXL",(function(){return N})),n.d(t,"withTypographyHeadlineXS",(function(){return L})),n.d(t,"withTypographyOverlineL",(function(){return F})),n.d(t,"withTypographyOverlineM",(function(){return B})),n.d(t,"withTypographyOverlineS",(function(){return U})),n.d(t,"withTypographySubheaderL",(function(){return z})),n.d(t,"withTypographySubheaderM",(function(){return V})),n.d(t,"withTypographySubheaderS",(function(){return H})),n.d(t,"withTypographySubheaderXL",(function(){return W})),n.d(t,"withWeightBold",(function(){return $})),n.d(t,"withWeightLight",(function(){return G})),n.d(t,"withWeightMedium",(function(){return q})),n.d(t,"withWeightRegular",(function(){return Y}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(604),i=n(416);function o(e){if(!e.name)return!0;var t=(function(e){return e.checked?e:new r.a(e.form||e.ownerDocument.body,function(t){return Object(i.d)(t)&&t.name===e.name&&t.checked&&t.form===e.form}).next()})(e);return!t||t===e}function a(e){if(Object(i.d)(e)&&!o(e)||Object(i.c)(e))return-1;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?"true"===e.contentEditable?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}}),(function(e,t,n){var r=n(138);function i(e,t){try{this.monthsNominative=e||["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],this.monthsGenitive=t||["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]}catch(e){}this.timestampToDate=this.timestampToDate.bind(this)}i.prototype={create:function(e,t){return new i(e,t)},timestampToDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY HH:mm";return r(1e3*e,t,this.monthsNominative,this.monthsGenitive)},numberToInterval:function(e,t){var n,r=t.length,i=t[0],o=t[r-1];if(e<=i)return"<= "+i;if(e>o)return"> "+o;for(var a=0;a<r-1;a++)if(i=t[a],o=t[a+1],e>i&&e<=o){n=i+1+" - "+o;break}return n}},e.exports=new i}),(function(e,t,n){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}}),(function(e,t,n){var r=n(729),i=n(129),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u}),(function(e,t,n){(function(e){var r=n(101),i=n(730),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u}).call(this,n(137)(e))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(84),o=n(23),a=r(n(35)),s=r(n(9));t.getOperationsStatusesByField=((e,t)=>e.filter(e=>["string","number"].includes(typeof e[t])).reduce((e,n)=>{const r=n[t];return e[r]||(e[r]={[i.OperationStatus.CREATED]:0,[i.OperationStatus.WAITING]:0,[i.OperationStatus.EXECUTING]:0,[i.OperationStatus.DONE]:0,[i.OperationStatus.FAILED]:0}),e[r][n.status]++,e},{})),t.getOperationsStatusesByType=(e=>t.getOperationsStatusesByField(e,"type")),t.getCompleteOperationsMap=(e=>e.reduce((e,t)=>(e[t.type]?e[t.type].push(t):e[t.type]=[t],e),{})),t.getOperationFolder=(e=>{switch(e.type){case i.OperationType.COPY:case i.OperationType.MOVE:{const t=e;return o.dirname(t.dst)}case i.OperationType.DELETE:{const t=e;return o.dirname(t.src)}case i.OperationType.REMOVE_RESOURCE_ALBUM:return`/album/${e.albumId}`;default:return null}}),t.getTargetResourcePath=(e=>e.src),t.shouldFetchSpaceAfterComplete=(e=>[i.OperationType.COPY,i.OperationType.RESTORE,i.OperationType.DELETE].includes(e.type)),t.getDummyResource=(e=>a.default.preprocess({id:e,path:e,name:o.filename(e)})),t.createDst=((e,t,n,r={hidden:!0,part:!0})=>{const i=o.join(t,n),u=Object.assign(Object.assign({},s.default.cloneDeep(e)),{id:i,path:i,name:n,state:r});return delete u.children,delete u.parents,delete u.publicSettings,a.default.preprocess(u)}),t.getOperationResourcesState=(e=>{switch(e){case i.OperationType.COPY:return{dst:{hidden:!0}};case i.OperationType.DELETE:case i.OperationType.RESTORE:case i.OperationType.MOVE:return{src:{hidden:!0},dst:{hidden:!0}};default:return{}}})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(219),o=r(n(0)),a=r(n(986)),s=n(28).cn("HoverTooltip");n(1444);t.default=(({disabled:e,anchorRef:t,className:n,children:r,tooltipContent:u,direction:c,hasTail:l,messageBoxClassName:d,messageBoxView:f,size:p,align:h="center",tailType:m,dataTest:v})=>{const[g,y]=o.useState(!1),b=o.useRef(null),_=i.mergeRefs(b,t),O=o.useRef(null),E=o.useRef(void 0),w=o.useRef(void 0),S=o.useCallback(()=>{e||(g?window.clearTimeout(w.current):E.current=window.setTimeout(()=>{y(!0)},200))},[g,e]),C=o.useCallback(()=>{g?w.current=window.setTimeout(()=>{y(!1)},200):E.current&&window.clearTimeout(E.current)},[g]),x=()=>{window.clearTimeout(w.current)},T=()=>{w.current=window.setTimeout(()=>{y(!1)},200)};return o.useEffect(()=>{if(g){const e=O.current;return requestAnimationFrame(()=>{e&&(e.addEventListener("mouseenter",x),e.addEventListener("mouseleave",T))}),()=>{e&&(e.removeEventListener("mouseenter",x),e.removeEventListener("mouseleave",T))}}},[g]),o.useEffect(()=>{e&&(window.clearTimeout(E.current),window.clearTimeout(w.current),requestAnimationFrame(()=>{y(!1)}))},[e,E,w,y]),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{onMouseEnter:S,onMouseLeave:C,className:s("Wrap",[n]),ref:_},r),u?o.default.createElement(a.default,{size:p||"s",view:f||"default",visible:g,anchor:_,direction:c,hasTail:l,innerRef:O,opaque:!0,className:d,tailType:m,"data-test":v},o.default.createElement(a.Wrapper,{align:h},u)):null)})}),(function(e,t,n){"use strict";n.r(t);var r=n(196);n.d(t,"useForkRef",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(283);n.d(t,"Portal",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(282);n.d(t,"useOverlay",(function(){return r.a}));var i=n(248);n.d(t,"OverlayManager",(function(){return i.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(934);n.d(t,"useRenderOverride",(function(){return r.c})),n.d(t,"RenderOverrideProvider",(function(){return r.b})),n.d(t,"MultiRenderOverrideProvider",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(22),i=n.n(r),o=n(9),a=n.n(o),s=n(512),u=n(586);s.a.define("queueRequest",{limit:10,methods:{TIMEOUT_RETRY_REQUEST:5e3,_bindBeforeunload:function(){this._isBindedBeforeunload||(this._isBindedBeforeunload=!0,window.addEventListener("beforeunload",this._onBeforeunload))},_unbindBeforeunload:function(){this._isBindedBeforeunload=!1,window.removeEventListener("beforeunload",this._onBeforeunload)},_onBeforeunload:function(e){e.preventDefault(),e.returnValue=""},push:function(e){return e.isAction&&this._bindBeforeunload(),s.a.prototype.push.call(this,e)},handlePortion:function(e){var t=this,n=this,r=[],o=[];a.a.each(e,(function(e){var t={id:e.item.id,params:e.item.params};r.push(t),o.push(e.promise||null)}));var s=ns.forcedRequest(r);return s.always((function(){t._isBindedBeforeunload&&!t.items.some((function(e){return e.item.isAction}))&&t._unbindBeforeunload()})),s.then((function(e){a.a.each(e,(function(e,t){var r=o[t];if(r){var i=e.getError();i?"WRONG_SK"===i.id?n.push(e).then((function(){r.fulfill()}),(function(){r.reject()})):r.reject(e):r.fulfill(e)}}))}),(function(n){Object(u.a)(n,e,t.TIMEOUT_RETRY_REQUEST).then((function(e){var n;(n=t.items).unshift.apply(n,i()(e)),t.doIteration()})).catch((function(){}))})),s}}}),ns.Model.get("queueRequest").setDataDefault()}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19);t.getAccessFolderResource=(e=>{const{page:{idDialog:t}}=e;if(t)return r.getResourceData(e,t)}),t.getIsCurrentFolderShared=(e=>{var n;const r=t.getAccessFolderResource(e);return Boolean(null===(n=null===r||void 0===r?void 0:r.meta)||void 0===n?void 0:n.group)});const i=e=>{const n=t.getAccessFolderResource(e);return n?e.accessFolder.usersByResource[n.id]:void 0};t.getAccessFolderUsers=(e=>{var t;return((null===(t=i(e))||void 0===t?void 0:t.users)||[]).filter(e=>"owner"!==e.status)}),t.getIsAccessFolderUsersLoading=(e=>{var n;if(t.getIsCurrentFolderShared(e)){const t=null===(n=i(e))||void 0===n?void 0:n.isLoading;return void 0===t||t}return!1}),t.getIsAccessFolderInvitingUser=(e=>{var t;return(null===(t=i(e))||void 0===t?void 0:t.invitingUser)||!1}),t.getSuggestions=(e=>e.accessFolder.suggest.suggestions.map(e=>Object.assign(Object.assign({},e),{fromSuggest:!0}))),t.isOuterContactsEnabled=(e=>{const{environment:{session:{experiment:{disk_web_is_outer_badge_exp:t}}},user:{isPDD:n}}=e;return t&&n})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1075),s=n(31),u=n(584),c=i(n(381)),l=i(n(344)),d=i(n(995)),f=n(234),p=n(1946),h=n(1978),m=n(1981),v=n(1988),g=n(1997),y=r(n(123)),b=i(n(1998)),_=n(335),O=i(n(142));n(1999);const E=n(28),w=n(16),S=n(245),C=n(392),x=n(2e3),T=E.cn("ShareDialog2"),P=y.buttonIconProvider(b.default);t.ShareDialogContext=o.createContext({officeAccessType:"disabled",runChangeType:()=>Promise.resolve({}),lang:"ru",resourceTitle:"",resourceId:"",resourcePath:"default",resourceType:"file",isTouch:!1,isAndroid:!1,isTablet:!1,onClose:O.default,runDeleteLink:()=>Promise.resolve({}),visible:!1,mailOrigin:"",isUserHasRightsToModifyAccess:!1,countMetrikaFn:O.default,userHasPublicSettingsFeature:!1,isB2bUser:!1,chooseTariffLink:"",readOnlyValue:!1,availableUntilValue:null,havePasswordValue:!1,setLinkSettings:()=>Promise.resolve({}),externalOrganizationIds:null,hasAddressAccess:!1});const k={file:"file-link-title",folder:"folder-link-title",album:"album-link-title"},j=new s.Registry({id:"I18N"});j.set("I18N",_.I18N);const R=s.withRegistry(j)(a.ContentWithNames),I=({currentScreen:e,onBackButtonClick:t,resourceType:n,resourceTitle:r,lang:i})=>{const s=e!==f.Screen.Main,u=o.useRef(null),[c,l]=o.useState(null);o.useEffect(()=>{u.current&&l(u.current.getBoundingClientRect().width)},[]);const d=c&&c-(s?36:0);let p=null;return e===f.Screen.Settings?p=_.i18n(i,"settings-title"):n&&r&&(p=o.default.createElement(a.ContentWithNamesContext.Provider,{value:{width:d,font:'500 20px/64px "YS Text", sans-serif'}},o.default.createElement(R,{key:r+"-"+s,lang:i,loc:k[n]},o.default.createElement(a.ResourceName,{"data-ref":"resource-name",text:r})))),o.default.createElement("div",{ref:u,className:T("TitleWrap")},s?o.default.createElement(y.default,{className:T("BackButton"),view:"clear",size:"m",onClick:t,icon:P}):null,o.default.createElement("div",{className:T("Title")},p))};t.default=(e=>{const{visible:n,onClose:r,lang:i,resourceType:a,resourceTitle:s,linkUrl:y,resourcePath:b,resourceId:O,countMetrikaFn:E,isTouch:P,pddOrgId:k,isUserHasRightsToModifyAccess:j,deselectClass:R}=e,A=w.useDispatch(),D="album"===a?O:b,{publicSettings:M,availablePublicSettings:N,isLoading:L,isSettingPrivate:F}=C.useSelectors(D),[B,U]=o.useState(f.Screen.Main),[z,V]=o.useState(!1),[H,W]=o.useState(!1),[$,G]=o.useState(!1),[q,Y]=o.useState(-1),K=Boolean(y),J="file"===a&&j,Z=o.useRef(),X=o.useCallback(e=>{Z.current=B,U(e)},[B]);o.useEffect(()=>{n||(U(f.Screen.Main),Z.current=void 0)},[n]);const Q=u.usePreviousValue(F);o.useEffect(()=>{!1===F&&Q&&H&&(r(),W(!1))},[F,Q,r,H]),o.useEffect(()=>{"album"!==a&&j&&n&&(K&&!M&&A(S.fetchPublicSettings({id:b})),N||A(S.fetchAvailablePublicSettings(b)))},[K,M,N,n,b,a,k,j,A]);const ee=o.useRef();o.useEffect(()=>{n||!0!==ee.current||A(S.clearAllSettings(b)),ee.current=n},[n,b,A]);const te=o.useCallback(()=>{V(!0)},[]),ne=o.useCallback(()=>{V(!1)},[]),re=o.useCallback(()=>{A(S.setPrivate({id:"album"===a?O:b,type:a}))},[b,O,a,A]),ie=o.useCallback(()=>{W(!1)},[]),oe=o.useCallback(()=>{W(!0)},[]),ae=o.useCallback(()=>{P&&B===f.Screen.Suggest?X(Z.current):X(f.Screen.Main)},[X,P,B]),se=o.useCallback(()=>{X(f.Screen.Settings)},[X]),ue=o.useCallback(e=>{G(e)},[]);return o.default.createElement(t.ShareDialogContext.Provider,{value:Object.assign(Object.assign({},e),{hasAddressAccess:J})},o.default.createElement(c.default,{useDrawer:P,className:T({screen:B},[R]),visible:n&&!z&&!H&&!$,onClose:r,title:o.default.createElement(I,{lang:i,currentScreen:B,onBackButtonClick:ae,resourceTitle:s,resourceType:a}),closeI18n:_.i18n(i,"close-label"),bigTitle:!0,align:"top",hasAnimation:!1},L?o.default.createElement("div",{className:T("Loader")},o.default.createElement(g.Spin,{size:"m",view:"default",progress:!0})):o.default.createElement(o.default.Fragment,null,o.default.createElement(x.ShareDialogInfoMessage,null),[f.Screen.Main,f.Screen.Picker,f.Screen.Suggest].includes(B)?o.default.createElement(o.default.Fragment,null,J?o.default.createElement(p.ShareDialogInviteForm,{currentScreen:B,onChangeScreen:X,onExternalContactsConfirmation:ue,onAddAlreadyAddedUser:Y}):null,[f.Screen.Picker,f.Screen.Suggest].includes(B)?null:o.default.createElement(o.default.Fragment,null,j?o.default.createElement(h.ShareDialogAccesses,{onOpenSettings:se,highlightedAccessIndex:q,onChangeHighlightedAccessIndex:Y}):null,o.default.createElement(m.ShareDialogFooter,{onShowQR:te,onSetPrivate:oe}))):o.default.createElement(v.ShareDialogSettings,{onBackClick:ae,onDialogVisibilityChange:ue}))),y?o.default.createElement(c.default,{className:R,visible:z,onClose:ne,title:_.i18n(i,"qr-code-title"),closeI18n:_.i18n(i,"close-label"),align:"top"},o.default.createElement(d.default,{linkUrl:y,countMetrikaFn:E})):null,o.default.createElement(l.default,{className:R,visible:H,onClose:ie,title:_.i18n(i,"delete-link-confirm-title"),submitButtonText:_.i18n(i,"close-access"),cancelButtonText:P?"":_.i18n(i,"cancel-button"),cancelButtonProps:{view:"default"},submitButtonProps:{progress:F},onSubmit:re,closeI18n:_.i18n(i,"close-label"),align:"top",compact:!0},a&&(e=>({file:_.i18n(e,"delete-link-confirm-text-file"),folder:_.i18n(e,"delete-link-confirm-text-folder"),album:_.i18n(e,"delete-link-confirm-text-album")}))(i)[a]))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(295);t.personalJournalId="personal",t.contractListingAtLength=5,t.contractedListingSize=3,t.portionSize=40,t.eventsSize=20,t.filtersMetrika=["filters"],t.clearFiltersMetrika=[...t.filtersMetrika,"clear"],t.eventTypeFilterMetrika=[...t.filtersMetrika,"choose event type"],t.dateFilterMetrika=[...t.filtersMetrika,"choose date"],t.textFilterMetrika=[...t.filtersMetrika,"search query"],t.folderFilterMetrika=[...t.filtersMetrika,"folder"],t.platformFilterMetrika=[...t.filtersMetrika,"folder"],t.DISK_FOR_BUSINESS_PRODUCT_ID="yandex_disk_for_business",t.journalIdRe=/^\/client\/(?:vd\/([^\/]+)\/)?journal/,t.journalEventTypes=Object.values(r.JournalEventType),t.journalPlatforms=Object.values(r.Platform),t.journalUrlFilterKeys=["eventType","parentFolder","platform","querySearch","startEventTimestamp"],t.baseJournalParams={folder:null,eventType:null,parentFolder:null,platform:null,startEventTimestamp:null,querySearch:null},t.pageParams={dialog:null,idContext:null}}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(87),a=n.n(o),s=n(3),u=n(412);const c=Object(s.compose)(u.withViewClear,u.withSizeS)(u.Button);var l=n(94);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=Object(r.memo)(e=>r.createElement("svg",d({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.793 11.207a1 1 0 0 0 1.414 0L6 7.414l3.793 3.793a1 1 0 0 0 1.414-1.414L7.414 6l3.793-3.793A1 1 0 0 0 9.793.793L6 4.586 2.207.793A1 1 0 0 0 .793 2.207L4.586 6 .793 9.793a1 1 0 0 0 0 1.414Z",fill:"currentColor"})));n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));const p=e=>i.a.createElement(f,{className:e}),h=({className:e,contentClassName:t,index:n,removeHandler:o,focused:s,children:u,ariaLabels:d})=>{const f=Object(r.useCallback)(()=>{o(n)},[o,n]);return i.a.createElement("div",{className:l.a.PickedWrap,"data-index":n,role:"listitem"},i.a.createElement("div",{className:a()(l.a.Picked,e,{[l.a.focused]:s})},i.a.createElement("div",{className:a()(l.a.PickedContent,t)},u),i.a.createElement(c,{view:"clear",size:"s",className:l.a.PickedRemoveButton,onClick:f,icon:p,"aria-label":d.deleteButton})))};function m({value:e,renderPicked:t,selectedPickedIndex:n,onRemovePicked:o,ariaLabels:a}){return i.a.createElement(i.a.Fragment,null,e.map((e,s)=>i.a.createElement(r.Fragment,{key:s},t({picked:e,index:s,focused:s===n,removeHandler:o,ariaLabels:a}))))}}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(3),a=n(31),s=n(519),u=n(246);const c=Object(o.compose)(Object(a.withRegistry)(u.popupRegistry),s.withViewDefault,s.withTargetAnchor)(s.Popup);var l=n(206),d=n(94);n.d(t,"a",(function(){return p}));var f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function p(e){var{width:t,anchor:n,highlightedSuggestionIndex:o,setHighlightedSuggestionIndex:a,popupRef:s,scope:u,isPopupVisible:p,listBoxId:h,maxPopupHeight:m,popupBottomOffset:v=0}=e,g=f(e,["width","anchor","highlightedSuggestionIndex","setHighlightedSuggestionIndex","popupRef","scope","isPopupVisible","listBoxId","maxPopupHeight","popupBottomOffset"]);Object(r.useEffect)(()=>{p&&a(0)},[p,a]);const y=Object(r.useMemo)(()=>({name:"maxHeight",enabled:!0,fn:({state:e})=>{const t=e.elements.reference.getBoundingClientRect(),n=window.innerHeight-t.y-e.rects.reference.height-7;e.styles.popper.maxHeight=(m||n)-v+"px"},phase:"beforeWrite",requires:["computeStyles"]}),[m,v]);return i.a.createElement(c,{visible:p,className:d.a.Popup,style:{width:t+"px"},view:"default",target:"anchor",anchor:n,direction:["bottom","top"],modifiers:[{name:"hide",enabled:!1},y],scope:u,innerRef:s},i.a.createElement(l.a,Object.assign({activeIndex:o,listBoxId:h,setHighlightedSuggestionIndex:a},g)))}}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(87),a=n.n(o),s=n(94),u=n(3),c=n(179);const l=Object(u.compose)(c.withGlyphTypeCheck)(c.Icon);n.d(t,"a",(function(){return f}));var d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function f(e){var{suggestion:t,picked:n,focused:o,disabled:u=!1,children:c,className:f}=e,p=d(e,["suggestion","picked","focused","disabled","children","className"]);const{onSuggestionSelect:h}=p,m=Object(r.useCallback)(e=>t=>{if(!u){const n=t.shiftKey||t.ctrlKey;h(e,n)}},[u,h]),v=Object(r.useCallback)(e=>e.preventDefault(),[]);return i.a.createElement("div",{className:a()(s.a.Suggestion,f,{[s.a.focused]:o,[s.a.disabled]:u,[s.a.picked]:n}),onMouseDown:v,onClick:m(t),role:"option"},c,i.a.createElement(l,{size:"xs",glyph:"type-check",className:s.a.SuggestionIsPicked}))}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"close3IconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(12),h=n(0),m=n.n(h);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return m.a.createElement("path",{fill:"currentColor",d:"M13.684 1.679l-1.52-1.52-5.321 5.32L1.52.16 0 1.678l5.322 5.32L0 12.322l1.52 1.521L6.843 8.52l5.32 5.322 1.521-1.521L8.363 7z"})}}]),n})(p.default),y=Object(p.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"shareIconProvider",(function(){return _}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(25),v=n.n(m),g=n(12);function y(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var b=(function(e){u()(n,e);var t=y(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return this.props.isAndroid?h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.702 4.237L4.97 7.104a2.518 2.518 0 0 1-.042.998l5.862 3.576a2.5 2.5 0 1 1-.736 1.308L4.145 9.382a2.5 2.5 0 1 1 .152-3.62l5.734-2.866a2.5 2.5 0 1 1 .671 1.341z"}):h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.79767 3.15923C4.49622 3.47802 4.72222 4.00277 5.16096 4.00277H7V9.00003C7 9.55231 7.44772 10 8 10C8.55228 10 9 9.55231 9 9.00003V4.00277H10.839C11.2778 4.00277 11.5038 3.47802 11.2023 3.15923L8.36329 0.15695C8.16602 -0.0516654 7.83398 -0.0516656 7.63671 0.15695L4.79767 3.15923ZM13 7.00003C13 6.44775 13.4477 6.00003 14 6.00003C14.5523 6.00003 15 6.44775 15 7.00003V13.5C15 14.3285 14.3284 15 13.5 15H2.5C1.67157 15 1 14.3285 1 13.5V7.00003C1 6.44775 1.44772 6.00003 2 6.00003C2.55228 6.00003 3 6.44775 3 7.00003V13H13V7.00003Z"})}}]),n})(g.default);b.propTypes=Object.assign({isAndroid:v.a.bool.isRequired},g.default.propTypes),t.default=b;var _=Object(g.iconProvider)(b)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"plusIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M13 11V3.5c0-.276-.214-.5-.505-.5h-.99a.507.507 0 0 0-.505.5V11H3.5c-.276 0-.5.214-.5.505v.99c0 .279.23.505.5.505H11v7.5c0 .276.214.5.505.5h.99c.279 0 .505-.23.505-.5V13h7.5c.276 0 .5-.214.5-.505v-.99a.507.507 0 0 0-.5-.505H13z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(248);function o(e){var t=e.visible,n=e.onClose,o=e.essentialRefs,a=e.unsafe_strategy,s=void 0===a?"pressdown":a,u=Object(r.useRef)({onClose:n,refs:o,closeStrategy:s});Object(r.useEffect)((function(){u.current.onClose!==n&&(u.current.onClose=n),u.current.refs!==o&&(u.current.refs=o)}),[n,o]),Object(r.useEffect)((function(){if(t){var e=u.current,n=i.a.getInstance();return n.addOverlay(e),function(){n.removeOverlay(e)}}}),[t])}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(140),i=n.n(r),o=n(1),a=n(0),s=n(106),u=n(75),c=Object(u.a)(),l=c?document.body:null,d=function(e){var t=e.visible,n=e.keepMounted,r=void 0===n||n,u=e.children,d=e.scope,f=Object(o.__read)(Object(a.useState)(l),2),p=f[0],h=f[1],m="inplace"===d,v=Object(a.useRef)(!1);return Object(a.useEffect)((function(){"object"===i()(d)&&h(d.current)}),[d]),t&&(v.current=!0),c&&(t||r&&v.current)||!c&&t?m?u:p?Object(s.createPortal)(u,p):null:null}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fill:"none",fillRule:"evenodd"},h.a.createElement("path",{fill:"currentColor",d:"M7 7h2v5H7zM7 4h2v2H7z"}),h.a.createElement("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"2"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t);var r=n(22),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(0),v=n.n(m),g=function(e){for(var t=[],n=0;n<e.length;n++){55296==(63488&e.charCodeAt(n))?(t.push(e.slice(n,n+2)),n++):t.push(e[n])}return t},y=n(11),b=n.n(y);n(1944);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var O=[".",",",":",";","!","?","…",")","]","}","»"," ",'"',"'"],E=["(","[","{","«"," ",'"',"'"],w=(function(e){l()(n,e);var t=_(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={text:e.text},r}return u()(n,[{key:"componentDidMount",value:function(){this._createContext(this.props.font),this._updateText(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._updateContext(e.font),this._updateText(e)}},{key:"_createContext",value:function(e){this._context=document.createElement("canvas").getContext("2d"),this._updateContext(e)}},{key:"_updateContext",value:function(e){this._context&&(this._context.font=e)}},{key:"_updateText",value:function(e){this.setState({text:this._getText(e)})}},{key:"_getTextWidth",value:function(e){return this._context?this._context.measureText(e.join("").trim()).width+.5:0}},{key:"_getText",value:function(e){var t=e.numberOfRows,n=e.text,r=e.width;if(this._text=n.replace("\n"," "),this._text.normalize&&(this._text=this._text.normalize()),!r)return this._text;for(var i=[],o=0;o<t;o++){var a={characters:g(this._text.slice(i.join("").length)),width:r,currentRowNumber:o},s=o===t-1?this._getTextRowWithFiller(a):this._getTextRow(a);if(i.push(s),i.join("")===this._text)break}return i.map((function(e){return e.trim()})).join("\n")}},{key:"_getTextRow",value:function(e){var t=e.characters,n=e.width,r=e.currentRowNumber,i=this._getTextWidth(t),o=i/t.length,a=this._getMaximumBreakableLengthFromPosition({characters:t,position:Math.floor((i-n)/o)}),s=this._getUnbreakableSequenceLength(t,r);return i>n&&t.length>3?this._getTextRow({characters:this._trimRight({characters:t,trimBy:s||a>2&&a||1}),width:n,currentRowNumber:r}):t.join("")}},{key:"_getTextRowWithFiller",value:function(e){var t=e.characters,n=e.beginCharacters,r=e.endCharacters,o=e.width,a=n&&r,s=a?[].concat(i()(n),[this.props.filler],i()(r)):t,u=this._getTextWidth(s);if(u>o&&s.length>3){if(a){var c=n.length>=r.length;return this._getTextRowWithFiller({beginCharacters:this._trimRight({characters:n,trimBy:c?1:0}),endCharacters:this._trimLeft({characters:r,trimBy:c?0:1}),width:o})}var l=u/t.length,d=Math.floor((u-o)/l/2),f=.5*t.length+(d>1?d:0);return this._getTextRowWithFiller({beginCharacters:this._trimRight({characters:t,trimBy:f}),endCharacters:this._trimLeft({characters:t,trimBy:f}),width:o})}return s.join("")}},{key:"_trimRight",value:function(e){var t=e.characters,n=e.trimBy;return t.slice(0,t.length-n)}},{key:"_trimLeft",value:function(e){var t=e.characters,n=e.trimBy;return t.slice(-t.length+n)}},{key:"_getUnbreakableSequenceLength",value:function(e,t){var n=(e.join("").match(/\.\w{2,}$/g)||[])[0];if(n)return n.length-1;if(!this.props.breakWordsInFirstRow&&0===t){var r=e.lastIndexOf(" ");if(r>0)return e.length-r}var i=e[e.length-1],o=e[e.length-2];return O.indexOf(i)>-1&&O.indexOf(o)<0&&E.indexOf(o)<0||O.indexOf(i)<0&&E.indexOf(i)<0&&E.indexOf(o)>-1?2:0}},{key:"_getMaximumBreakableLengthFromPosition",value:function(e){var t=e.characters,n=e.position;if(n<2)return n;var r=t[t.length-n],i=t[t.length-n+1];return E.indexOf(r)>-1&&O.indexOf(i)<0&&E.indexOf(i)<0?n-2:O.indexOf(r)>-1?n-1:n}},{key:"render",value:function(){var e={className:b()()("clamped-text"),"aria-hidden":!0,style:{font:this.props.font,maxWidth:this.props.width||"auto"}};return this._text!==this.state.text&&(e.title=this._text),v.a.createElement("span",e,this.state.text)}}]),n})(v.a.PureComponent);w.defaultProps={filler:"…",font:"normal normal 400 normal 15px / normal Arial, sans-serif",numberOfRows:1,text:"",width:0,breakWordsInFirstRow:!1};t.default=w}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getLockErrorMessageParts",(function(){return d})),n.d(t,"getLockErrorMessage",(function(){return f})),n.d(t,"getSplittedLockErrorMessage",(function(){return p}));var r=n(22),i=n.n(r),o=n(23),a=n.n(o),s="Невозможно выполнить операцию. Файл доступен только для просмотра и скачивания.",u={move_resource:{target:{me:[{message:"Объект перемещается"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект перемещается другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}]},child:{me:[{message:"Объект в этой папке перемещается"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект в этой папке перемещается другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]},parent:{me:[{message:"Папка с этим объектом перемещается"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0}],other:[{message:"Папка с этим объектом перемещается другим участником общей папки"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0}]},destination:{me:[{message:"Целевая папка перемещается"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Целевая папка перемещается другим участником общей папки"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}]}},copy_resource:{target:{me:[{message:"Объект копируется"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект копируется другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}]},child:{me:[{message:"Объект в этой папке копируется"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект в этой папке копируется другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]},parent:{me:[{message:"Папка с этим объектом копируется"},{message:"Папка и внутренние объекты доступны только для просмотра и скачивания",isForLong:!0}],other:[{message:"Папка с этим объектом копируется другим участником общей папки"},{message:"Папка и внутренние объекты доступны только для просмотра и скачивания",isForLong:!0}]},destination:{me:[{message:"Целевая папка копируется"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Целевая папка копируется другим участником общей папки"},{message:"Она доступна только для просмотра и скачивания",isForLong:!0}]}},trash_append:{target:{me:[{message:"Объект перемещается в Корзину"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект удаляется другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0},{message:"После удаления он станет недоступен"}]},child:{me:[{message:"Объект в этой папке перемещается в Корзину"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Объект в этой папке удаляется другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]},parent:{me:[{message:"Папка с этим объектом перемещается в Корзину"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0}],other:[{message:"Папка с этим объектом удаляется другим участником общей папки"},{message:"Папка и объекты в ней доступны только для просмотра и скачивания",isForLong:!0},{message:"После удаления они станут недоступны"}]},destination:{me:[{message:"Целевая папка перемещается в Корзину"},{message:"После удаления она станет недоступна"}],other:[{message:"Целевая папка перемещается в Корзину другим участником общей папки"},{message:"После удаления она станет недоступна"}]}},office:{target:{me:[{message:"Документ редактируется"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}],other:[{message:"Документ редактируется другим участником общей папки"},{message:"Он доступен только для просмотра и скачивания",isForLong:!0}]},child:{me:[{message:"Документ в этой папке редактируется"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}],other:[{message:"Документ в этой папке редактируется другим участником общей папки"},{message:"Папка доступна только для просмотра и скачивания",isForLong:!0}]}},trash_drop_all:"Корзина уже очищается",clean_trash:"Корзина уже очищается",trash_restore:"Объект восстанавливается",trash_drop_element:"Объект удаляется из Корзины",rm:"Объект удаляется из Корзины",from_trash:{trash_append:"Идет перемещение в Корзину",trash_restore:"Идет восстановление из Корзины"}},c={copy:"Не удалось скопировать",move:"Не удалось переместить",moveToTrash:"Не удалось переместить в Корзину",delete:"Не удалось удалить",rename:"Не удалось переименовать",upload:"Не удалось загрузить",publish:"Не удалось опубликовать",restore:"Не удалось восстановить",unshare:"Не удалось закрыть доступ",cleanTrash:"Не удалось очистить Корзину",leaveFolder:"Не удалось покинуть папку",acceptInvite:"Не удалось принять приглашение",accessFolder:"Не удалось поменять права",createFolder:"Не удалось создать папку",inviteFolder:"Не удалось отправить приглашение",uploadFolder:"Не удалось загрузить папку"},l=function(e){var t=e.myUid,n=e.lockType,r=e.lockInitiatorUid,i=e.lockedResourcePath,o=e.targetResourcePath,c=e.failedOperationType,l=e.isLong,d=void 0!==l&&l;if("cleanTrash"===c&&["trash_append","trash_restore"].includes(n))return[u.from_trash[n]];switch(n){case"move_resource":case"copy_resource":case"trash_append":case"office":var f,p=(function(e,t){return t===e?"target":a.a.isParent(e,t)?"parent":a.a.isParent(t,e)?"child":"destination"})(i,o),h=t===r?"me":"other";return(null===(f=u[n][p])||void 0===f||null===(f=f[h])||void 0===f||null===(f=f.filter((function(e){var t=e.isForLong;return d||!t})))||void 0===f?void 0:f.map((function(e){return e.message})))||[s];default:return[u[n]]}},d=function(e){var t=e.lockType,n=e.targetResourcePath,r=e.failedOperationType,o=e.isLong,d=void 0!==o&&o,f=e.onlyReason,p=void 0!==f&&f;if(!u[t])return[s];var h=l(e),m=[];if(p&&d)m.push("Пожалуйста, подождите");else if(!p){var v=(function(e,t){return"delete"!==e||a.a.isParent("/trash",t)||(e="moveToTrash"),e&&c[e]})(r,n);v&&m.push(v),v&&!d||m.push("Пожалуйста, подождите")}return m.push.apply(m,i()(h)),m},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:". ";return d(e).join(t)},p=function(e){var t,n,r=d(e);return r.length>2?(t=r.slice(0,2).join(". ")+".",n=r.slice(2).join(". ")):t=r.join(". "),{reasonText:t,reasonTextAux:n}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r={};function i(){return r}}),(function(e,t,n){"use strict";var r=n(33),i=n.n(r),o=n(8),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(0),y=n.n(g),b=n(106),_=n.n(b),O=n(500),E=n(11),w=n.n(E);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var C=(function(e){f()(n,e);var t=S(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){return this.props.children}}]),n})(g.Component),x=(function(e){f()(n,e);var t=S(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){return this.props.children}}]),n})(g.Component);var T=(function(e){f()(n,e);var t=S(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._anchorRef=y.a.createRef(),r._popup=y.a.createRef(),r._onAnchorMouseEnter=r._onAnchorMouseEnter.bind(a()(r)),r._onAnchorMouseLeave=r._onAnchorMouseLeave.bind(a()(r)),r._onPopupMouseEnter=r._onPopupMouseEnter.bind(a()(r)),r._onPopupMouseLeave=r._onPopupMouseLeave.bind(a()(r)),r._bindPopupEvents=r._bindPopupEvents.bind(a()(r)),r}return l()(n,[{key:"componentDidMount",value:function(){this._bindAnchorEvents(),this.props.visible&&this._bindPopupEvents()}},{key:"componentDidUpdate",value:function(e){!e.visible&&this.props.visible&&this._bindPopupEvents()}},{key:"componentWillUnmount",value:function(){this._clearTimer(),this._unbindAnchorEvents(),this._unbindPopupEvents()}},{key:"_bindAnchorEvents",value:function(){this._anchor&&(this._anchor.addEventListener("mouseenter",this._onAnchorMouseEnter),this._anchor.addEventListener("mouseleave",this._onAnchorMouseLeave))}},{key:"_unbindAnchorEvents",value:function(){this._anchor&&(this._anchor.removeEventListener("mouseenter",this._onAnchorMouseEnter),this._anchor.removeEventListener("mouseleave",this._onAnchorMouseLeave))}},{key:"_bindPopupEvents",value:function(){if(!this._popupEventsBound&&this._popup){var e=this._popup.current;e&&e.addEventListener("mouseenter",this._onPopupMouseEnter),e&&e.addEventListener("mouseleave",this._onPopupMouseLeave),this._popupEventsBound=!0}}},{key:"_unbindPopupEvents",value:function(){if(this._popup){var e=this._popup.current;e&&e.removeEventListener("mouseenter",this._onPopupMouseEnter),e&&e.removeEventListener("mouseleave",this._onPopupMouseLeave),this._popupEventsBound=!1}}},{key:"_clearTimer",value:function(){this._hideTimer&&clearTimeout(this._hideTimer),this._showTimer&&clearTimeout(this._showTimer),this._hideTimer=null,this._showTimer=null}},{key:"_deferClosePopup",value:function(){var e=this;this._hideTimer=setTimeout((function(){e._hideTimer=null,e.props.onClose(),e._unbindPopupEvents()}),200)}},{key:"_onAnchorMouseLeave",value:function(){this._showTimer&&clearTimeout(this._showTimer),this._deferClosePopup()}},{key:"_onAnchorMouseEnter",value:function(){var e=this;this._hideTimer?this._clearTimer():this.props.showDelay?(this._showTimer&&clearTimeout(this._showTimer),this._showTimer=setTimeout((function(){e.props.onOpen()}),this.props.showDelay)):this.props.onOpen()}},{key:"_onPopupMouseEnter",value:function(){this._clearTimer()}},{key:"_onPopupMouseLeave",value:function(){this._deferClosePopup()}},{key:"render",value:function(){var e=this,t=null,n=null;return y.a.Children.forEach(this.props.children,(function(r){(function(e){return e&&"function"==typeof e.type&&e.type===C})(r)&&(t=y.a.createElement(C,i()({ref:function(t){e._anchor=_.a.findDOMNode(t),e._anchorRef={current:e._anchor}}},r.props))),(function(e){return e&&"function"==typeof e.type&&e.type===x})(r)&&(n=y.a.createElement(O.Tooltip,i()({hasTail:!0,state:"warning",visible:e.props.visible,anchor:e._anchorRef,innerRef:e._popup},r.props)))})),y.a.createElement("span",{className:w()()("hover-dropdown").mix(this.props.className)},t,n)}}]),n})(g.Component);T.defaultProps={showDelay:0,onOpen:function(){},onClose:function(){}},T.Anchor=C,T.Tooltip=x,t.a=T}),(function(e,t,n){"use strict";var r=n(9),i=n.n(r),o=n(35),a={preprocessAlbum:function(e){return e.public.short_url=o.default.fixShortUrl(e.public.short_url),"favorites"===e.album_type&&(e.title="Избранные"),"family"===e.album_type&&(e.title="Альбом семьи"),e.cover&&e.cover.object&&(e.cover=Object.assign({},e.cover.object,i.a.pick(e.cover,"face_bottom","face_top","face_left","face_right","width","height"))),e},TITLE_ALBUM_DEFAULT:"Яндекс Диск"};t.a=a}),(function(e,t,n){"use strict";n.r(t);var r,i,o=n(140),a=n.n(o),s={},u=document.documentElement,c="modernizr",l=document.createElement(c),d=l.style,f=":)",p=" -webkit- -moz- -o- -ms- ".split(" "),h="Webkit Moz O ms".split(" "),m="Webkit Moz O ms".toLowerCase().split(" "),v="http://www.w3.org/2000/svg",g={},y=[],b=y.slice,_=function(e,t,n,r){var i,o,a,s,l=document.createElement("div"),d=document.body,f=d||document.createElement("body");if(parseInt(n,10))for(;n--;)(a=document.createElement("div")).id=r?r[n]:c+(n+1),l.appendChild(a);return i=["&#173;",'<style id="s',c,'">',e,"</style>"].join(""),l.id=c,(d?l:f).innerHTML+=i,f.appendChild(l),d||(f.style.background="",f.style.overflow="hidden",s=u.style.overflow,u.style.overflow="hidden",u.appendChild(f)),o=t(l,e),d?l.parentNode.removeChild(l):(f.parentNode.removeChild(f),u.style.overflow=s),!!o},O=(function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(t,n){n=n||document.createElement(e[t]||"div");var r=(t="on"+t)in n;return r||(n.setAttribute||(n=document.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(t,""),r=S(n[t],"function"),S(n[t],"undefined")||(n[t]=void 0),n.removeAttribute(t))),n=null,r}})(),E={}.hasOwnProperty;function w(e){d.cssText=e}function S(e,t){return a()(e)===t}function C(e,t){return!!~(""+e).indexOf(t)}function x(e,t){for(var n in e){var r=e[n];if(!C(r,"-")&&void 0!==d[r])return"pfx"!=t||r}return!1}function T(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+h.join(r+" ")+r).split(" ");return S(t,"string")||S(t,"undefined")?x(i,t):(function(e,t,n){for(var r in e){var i=t[e[r]];if(void 0!==i)return!1===n?e[r]:S(i,"function")?i.bind(n||t):i}return!1})(i=(e+" "+m.join(r+" ")+r).split(" "),t,n)}for(var P in i=S(E,"undefined")||S(E.call,"undefined")?function(e,t){return t in e&&S(e.constructor.prototype[t],"undefined")}:function(e,t){return E.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=b.call(arguments,1);return function r(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var o=new i,a=t.apply(o,n.concat(b.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(b.call(arguments)))}}),g.flexbox=function(){return T("flexWrap")},g.touch=function(){var e;return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?e=!0:_(["@media (",p.join("touch-enabled),("),c,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(t){e=9===t.offsetTop})),e},g.draganddrop=function(){var e=document.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},g.cssanimations=function(){return T("animationName")},g.csstransforms=function(){return!!T("transform")},g.csstransforms3d=function(){var e=!!T("perspective");return e&&"webkitPerspective"in u.style&&_("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight})),e},g.csstransitions=function(){return T("transition")},g.generatedcontent=function(){var e;return _(["#",c,"{font:0/0 a}#",c,':after{content:"',f,'";visibility:hidden;font:3px/1 a}'].join(""),(function(t){e=t.offsetHeight>=3})),e},g.audio=function(){var e=document.createElement("audio"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return t},g.localstorage=function(){try{return localStorage.setItem(c,c),localStorage.removeItem(c),!0}catch(e){return!1}},g.svg=function(){return!!document.createElementNS&&!!document.createElementNS(v,"svg").createSVGRect},g)i(g,P)&&(r=P.toLowerCase(),s[r]=g[P](),y.push((s[r]?"":"no-")+r));s.addTest=function(e,t){if("object"==a()(e))for(var n in e)i(e,n)&&s.addTest(n,e[n]);else{if(e=e.toLowerCase(),void 0!==s[e])return s;t="function"==typeof t?t():t,u.className+=" "+(t?"":"no-")+e,s[e]=t}return s},w(""),l=null,s._version="2.8.3",s._prefixes=p,s._domPrefixes=m,s._cssomPrefixes=h,s.mq=function(e){var t,n=window.matchMedia||window.msMatchMedia;return n?n(e)&&n(e).matches||!1:(_("@media "+e+" { #"+c+" { position: absolute; } }",(function(e){t="absolute"==(window.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position})),t)},s.hasEvent=O,s.testProp=function(e){return x([e])},s.testAllProps=T,s.testStyles=_,u.className=u.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+y.join(" "),s.addTest("filereader",(function(){return!!(window.File&&window.FileList&&window.FileReader)})),s.addTest("fullscreen",(function(){for(var e=0;e<s._domPrefixes.length;e++)if(document[s._domPrefixes[e].toLowerCase()+"CancelFullScreen"])return!0;return!!document.cancelFullScreen||!1})),t.default=s}),,(function(e,t,n){"use strict";var r=n(263);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))}),(function(e,t,n){"use strict";var r=n(218),i=n(1255),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}}),(function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!(function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}})();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,(function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}})(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.mkdir="fs-mkdir",e.copy="fs-copy",e.move="fs-move",e.store="fs-store",e.storeUpdate="fs-store-update",e.storeDownload="fs-store-download",e.photostreamStore="fs-store-photostream",e.photounlimStore="fs-store-photounlim",e.setPublic="fs-set-public",e.setPrivate="fs-set-private",e.aviary="fs-aviary-render",e.rm="fs-rm",e.appendTrash="fs-trash-append",e.dropTrash="fs-trash-drop",e.dropAllTrash="fs-trash-drop-all",e.restoreTrash="fs-trash-restore",e.rename="fs-rename",e.importSocial="social-import",e.promoReduce="space-promo-reduce",e.promoEnlarge="space-promo-enlarge",e.productReduce="space-product-reduce",e.createAlbum="album-create",e.removeAlbum="album-remove",e.createAlbumItem="album-create-item",e.appendAlbumItems="album-items-append",e.removeAlbumItems="album-items-remove",e.changeAlbumPulicity="album-change-publicity",e.changeAlbumCover="album-change-cover",e.changeAlbumTitle="album-change-title",e.sentInvite="invite-sent",e.activateInvite="invite-activation",e.addComment="comment-add",e.likeComment="comment-like-add",e.dislikeComment="comment-dislike-add",e.buy="billing-buy-new",e.prolong="billing-prolong",e.prolongError="billing-prolong-error",e.subscribe="billing-subscribe",e.unsubscribe="billing-unsubscribe",e.inviteUser="share-invite-user",e.changeRights="share-change-rights",e.kickFromGroup="share-kick-from-group",e.activateShare="share-activate-invite",e.rejectInvite="share-reject-invite",e.removeInvite="share-remove-invite",e.changeInviteRights="share-change-invite-rights",e.leaveGroup="share-leave-group",e.unshareFolderUser="share-unshare-folder-user"})(t.JournalEventType||(t.JournalEventType={})),(function(e){e.initial="initial",e.created="created",e.fetching="fetching",e.appending="appending",e.fetched="fetched",e.failed="failed"})(t.JournalState||(t.JournalState={})),(function(e){e.folder="folder",e.file="file",e.photo="photo",e.video="video"})(t.ResourceType||(t.ResourceType={})),(function(e){e.names="names",e.images="images",e.users="users"})(t.ListingType||(t.ListingType={})),(function(e){e.goToParent="parent",e.openSlider="openSlider",e.setSelected="selected"})(t.NavigationType||(t.NavigationType={})),(function(e){e.withoutPeriod="withoutPeriod",e.everyMonth="everyMonth",e.everyYear="everyYear"})(t.BillingPeriod||(t.BillingPeriod={})),(function(e){e.ios="ios",e.andr="andr",e.wp="wp",e.mac="mac",e.win="win",e.web="web",e.lnx="lnx",e.rest="rest"})(t.Platform||(t.Platform={}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cnButton=void 0;var r=n(28);t.cnButton=r.cn("Button2")}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withBaseline=void 0;var r=n(3),i=n(37);n(645),t.withBaseline=r.withBemMod(i.cnButton(),{baseline:!0})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickBrick=void 0;var r=n(3),i=n(37);n(646),t.withPinBrickBrick=r.withBemMod(i.cnButton(),{pin:"brick-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickCircle=void 0;var r=n(3),i=n(37);n(647),t.withPinBrickCircle=r.withBemMod(i.cnButton(),{pin:"brick-circle"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickClear=void 0;var r=n(3),i=n(37);n(648),t.withPinBrickClear=r.withBemMod(i.cnButton(),{pin:"brick-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickRound=void 0;var r=n(3),i=n(37);n(649),t.withPinBrickRound=r.withBemMod(i.cnButton(),{pin:"brick-round"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinCircleBrick=void 0;var r=n(3),i=n(37);n(650),t.withPinCircleBrick=r.withBemMod(i.cnButton(),{pin:"circle-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinCircleCircle=void 0;var r=n(3),i=n(37);n(651),t.withPinCircleCircle=r.withBemMod(i.cnButton(),{pin:"circle-circle"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinCircleClear=void 0;var r=n(3),i=n(37);n(652),t.withPinCircleClear=r.withBemMod(i.cnButton(),{pin:"circle-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearBrick=void 0;var r=n(3),i=n(37);n(653),t.withPinClearBrick=r.withBemMod(i.cnButton(),{pin:"clear-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearCircle=void 0;var r=n(3),i=n(37);n(654),t.withPinClearCircle=r.withBemMod(i.cnButton(),{pin:"clear-circle"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearClear=void 0;var r=n(3),i=n(37);n(655),t.withPinClearClear=r.withBemMod(i.cnButton(),{pin:"clear-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearRound=void 0;var r=n(3),i=n(37);n(656),t.withPinClearRound=r.withBemMod(i.cnButton(),{pin:"clear-round"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinRoundBrick=void 0;var r=n(3),i=n(37);n(657),t.withPinRoundBrick=r.withBemMod(i.cnButton(),{pin:"round-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinRoundClear=void 0;var r=n(3),i=n(37);n(658),t.withPinRoundClear=r.withBemMod(i.cnButton(),{pin:"round-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withSizeL=void 0;var r=n(3),i=n(37);n(661),t.withSizeL=r.withBemMod(i.cnButton(),{size:"l"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withSizeM=void 0;var r=n(3),i=n(37);n(662),t.withSizeM=r.withBemMod(i.cnButton(),{size:"m"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withSizeS=void 0;var r=n(3),i=n(37);n(663),t.withSizeS=r.withBemMod(i.cnButton(),{size:"s"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeLink=void 0;var r=n(3),i=n(37);n(668),t.withThemeLink=r.withBemMod(i.cnButton(),{theme:"link"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTypeLink=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(3),a=n(68),s=n(37);t.withTypeLink=o.withBemMod(s.cnButton(),{type:"link"},(function(e){return function(t){t.type;var n=t.target,o=t.rel,s=t.url,u=t.disabled,c=t.tabIndex,l=r.__rest(t,["type","target","rel","url","disabled","tabIndex"]),d=o;return"_blank"===n&&void 0!==o&&-1===o.indexOf("noopener")&&(d=o+" noopener"),i.default.createElement(e,r.__assign({},l,{rel:d,target:n,disabled:u,pressKeys:[a.Keys.ENTER],href:u?void 0:s,tabIndex:u?-1:c,type:null,autoComplete:null,as:"a"}))}}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTypeSubmit=void 0;var r=n(3),i=n(37);t.withTypeSubmit=r.withBemMod(i.cnButton(),{type:"submit"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withWidthAuto=void 0;var r=n(3),i=n(37);n(693),t.withWidthAuto=r.withBemMod(i.cnButton(),{width:"auto"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withWidthMax=void 0;var r=n(3),i=n(37);n(694),t.withWidthMax=r.withBemMod(i.cnButton(),{width:"max"})}),(function(e,t,n){var r=n(145)(n(101),"Map");e.exports=r}),(function(e,t,n){(function(e){var r=n(450),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=(function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}})();e.exports=s}).call(this,n(137)(e))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBox=t.cnMessageBox=t.Wrapper=t.Corner=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(28),a=n(1433),s=n(1435),u=n(1437);n(1439);var c=n(1440);Object.defineProperty(t,"Corner",{enumerable:!0,get:function(){return c.MessageBoxCorner}});var l=n(1442);Object.defineProperty(t,"Wrapper",{enumerable:!0,get:function(){return l.MessageBoxTextWrap}}),t.cnMessageBox=o.cn("MessageBox");t.MessageBox=function(e){var n=e.actions,o=e.background,c=e.children,l=e.className,d=e.corner,f=e.hasTail,p=e.innerRef,h=e.layout,m=void 0===h?"plain":h,v=e.onClose,g=e.hasClose,y=void 0===g?Boolean(v):g,b=e.opaque,_=e.tailRef,O=e.tailType,E=void 0===O?"default":O,w=r.__rest(e,["actions","background","children","className","corner","hasTail","innerRef","layout","onClose","hasClose","opaque","tailRef","tailType"]);return i.default.createElement("div",r.__assign({className:t.cnMessageBox({opaque:b,layout:m,hasClose:v&&y},[l]),ref:p},w),i.default.createElement("div",{className:t.cnMessageBox("Backdrop")},f&&i.default.createElement(u.MessageBoxTail,{innerRef:_,tailType:E}),o&&i.default.createElement("div",{className:t.cnMessageBox("Background")},o)),i.default.createElement("div",{className:t.cnMessageBox("Content")},c,v&&y&&i.default.createElement(a.MessageBoxClose,{onClick:v})),n&&i.default.createElement(s.MessageBoxButtons,null,n),d)},t.MessageBox.displayName="MessageBox"}),(function(e,t,n){"use strict";n.r(t);var r=n(929);n.d(t,"usePress",(function(){return r.a}))}),(function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}}),(function(e,t,n){var r=n(204),i=n(231);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}}),(function(e,t,n){var r=n(795),i=n(465),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s}),(function(e,t,n){var r=n(466),i=n(801),o=n(184);e.exports=function(e){return o(e)?r(e,!0):i(e)}}),(function(e,t,n){var r=n(448)(Object.getPrototypeOf,Object);e.exports=r}),(function(e,t,n){var r=n(546);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(15),a=r(n(35)),s=n(95),u=n(23),c=n(156),l=n(19),d=n(24),f=n(153);t.fetchResourceSaga=function*({payload:{id:e}}){const t=yield i.getContext("rawFetchModel"),n=yield i.call(t,"resource",{id:e});yield i.put(o.setResourceData(e,n))},t.bulkFetchResourcesSaga=function*(e,t){if(!e.length)return;const n=(yield i.call(s.api,"mpfs/bulk-resource-info",{ids:e})).map(e=>a.default.preprocess(e));yield i.put(o.updateResources(n,t))},t.moveClonedResourcesSaga=function*(e){const{page:{idContext:t,idDialog:n}}=yield i.select(),r=e.findIndex(({src:e})=>e===n);let a;if(-1!==r){const{src:n,dst:o}=e[r];if(o){const e=yield i.select(l.getResourceData,o),r=t.startsWith("/disk")||d.isPathInsideVirtualDiskFiles(t);if(e.isInTrash||r&&u.dirname(n)!==u.dirname(o)){const e=yield i.select(c.getSliderResourceNeighbour,1);a=e?e.id:""}else a=o}}const s=yield i.select(),f=e.map(({src:e,dst:t})=>({src:l.getResourceData(s,e),dst:l.getResourceData(s,t)})).filter(({src:e})=>Boolean(e));yield i.put(o.moveClonedResources({resourcesToMove:f,idContext:t,newIdDialog:a})),yield i.put(o.maybeSyncSliderUrl(n,a))},t.fetchSpaceSaga=function*(){try{const e=yield i.getContext("rawFetchModel"),{environment:{session:{locale:t}}}=yield i.select(),n=yield i.call(e,"space",{locale:t});yield i.put(o.setResourceData("/trash",n.trash,"meta.size")),yield i.put(f.updateSpace(n))}catch(e){}},t.fetchVDSpaceSaga=function*(e){try{const t=yield i.getContext("rawFetchModel"),n=yield i.call(t,"vd-space",{vdHash:e});yield i.put(o.setResourceData(d.VIRTUAL_DISKS_ROOT+"/"+e+"/trash",n.trash,"meta.size")),yield i.put(o.setResourceData(d.VIRTUAL_DISKS_ROOT+"/"+e+"/disk",n,"space"))}catch(e){}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(28),a=n(834);n(836),t.headerServiceClass=o.cn("PSHeaderService"),t.HeaderService=(({i18n:e,link:n,active:r,theme:o,onClick:s,forwardedRef:u,className:c,icon:l,target:d})=>i.default.createElement("a",{className:t.headerServiceClass({theme:o,active:r},[c]),href:n,rel:"noopener noreferrer",onClick:s,ref:u,target:d,tabIndex:n?void 0:0,role:n?void 0:"button"},i.default.createElement("div",{className:t.headerServiceClass("Icon")},l||i.default.createElement(a.ServiceStub,{title:e})),i.default.createElement("span",{className:t.headerServiceClass("Text")},e)))}),(function(e,t,n){"use strict";n.r(t);var r=n(471);n.d(t,"useIsomorphicLayoutEffect",(function(){return r.a}))}),(function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(860)),r(n(866))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28);n(864);const i=r.cn("PSHeaderLogo360");t.classes={root:i,yaLink:i("Ya"),logoText:i("360"),customLogo:i("CustomLogo")}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1973);o.setTankerProjectId("yandex_disk_ps_components"),o.addTranslation("ru",n(1975)),t.i18n=((e,t,n)=>o.i18n(e,"share-dialog2",t,n)),t.I18N=(e=>i.default.createElement(o.I18N,Object.assign({keyset:"share-dialog2"},e)))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"addToAlbumIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M5.54 1.485a.3.3 0 01.3.3v1.95H7.7a.3.3 0 01.3.3v.898a.3.3 0 01-.3.3H5.84v1.95a.3.3 0 01-.3.3h-.9a.3.3 0 01-.3-.3v-1.95H2.483a.3.3 0 01-.3-.3v-.899a.3.3 0 01.3-.3H4.34v-1.95a.3.3 0 01.3-.3h.9zm.285 9.935zM9.64 7.116L5.825 11.42 4.139 9.718a.344.344 0 00-.5.01l-3.584 3.92a.211.211 0 00-.038.226.207.207 0 00.19.126h15.586a.207.207 0 00.189-.124.21.21 0 00-.035-.225l-5.792-6.535a.345.345 0 00-.515 0z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t);var r=n(31),i=n(1),o=n(0),a=n.n(o),s=n(28),u=n(589),c=n(72),l=n(109),d=n(590),f=n(934),p=(n(1475),function(e){return Object(d.a)((function(e){return e.items?e.items:e}),e)}),h=function(e){return void 0!==e.items},m=function(e){return void 0===e&&(e=0),function(){return e++}},v=Object(s.cn)("Menu"),g=(function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={hoveredIndex:n.props.focused?0:-1},n.innerRef=Object(o.createRef)(),n.itemsRef=[],n.uniqId=u.a?"0":String(Date.now())+Math.floor(1e4*Math.random()),n.mapChildren=function(e,t){var r=e.Item,s=e.Group,u=t.getNextItemCount,c=t.getNextGroupCount,l=t.disabled;return function(e){if(h(e)){var t=c();return a.a.createElement(s,Object(i.__assign)({title:e.title,key:"group-"+t},e.unsafe_props),e.items.map(n.mapChildren({Item:r,Group:s},{getNextItemCount:u,getNextGroupCount:c,disabled:l})))}var d=n.props,f=d.value,p=d.view,m=n.state.hoveredIndex,v=[].concat(f),g="default"===p&&void 0!==f,y=u();return n.itemsRef[y]=Object(o.createRef)(),a.a.createElement(r,Object(i.__assign)({},e.unsafe_props,{id:e.id||"item-"+n.uniqId+"-"+y,key:"item-"+y,"data-key":"item-"+y,needIconGlyph:g,checked:-1!==v.indexOf(e.value),disabled:e.disabled||l,hovered:!l&&m===y,onMouseEnter:n.setHoveredOnMouseEnter,onMouseLeave:n.setHoveredOnMouseLeave,onClick:n.onMenuItemClick,type:void 0===f?f:"option",innerRef:n.itemsRef[y],value:e.value,index:y}),e.content)}},n.onKeyDown=function(e){if(!e.shiftKey&&Object(c.b)(e.keyCode,[c.a.UP,c.a.DOWN])){e.preventDefault();var r=e.keyCode-39,i=n.getNextNotDisabledIndex(r);n.triggerOnMenuItemChange(i),t.scrollToItem(n.innerRef,n.itemsRef[i]),n.setState({hoveredIndex:i})}Object(c.b)(e.keyCode,[c.a.ENTER,c.a.SPACE])&&(e.preventDefault(),n.triggerOnChange())},n.onMenuItemClick=function(e,t){n.setState({hoveredIndex:t},(function(){n.triggerOnChange()}))},n.setHoveredOnMouseEnter=function(e,t){n.setState({hoveredIndex:t})},n.setHoveredOnMouseLeave=function(e,t){n.setState({hoveredIndex:-1})},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.forwardRefs(),this.props.focused&&(this.subscribeToEvents(),this.hoverAndScrollToFirstSelectedElement())},t.prototype.componentDidUpdate=function(e){this.forwardRefs(),!e.focused&&this.props.focused?(this.subscribeToEvents(),this.hoverAndScrollToFirstSelectedElement()):e.focused&&!this.props.focused?(this.setState({hoveredIndex:-1}),this.unsubscribeFromEvents()):this.props.focused&&e.items.length!==this.props.items.length&&this.hoverAndScrollToFirstSelectedElement()},t.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.disabled,s=(t.focused,t.items),u=(t.onChange,t.onActiveItemChange,t.value),c=(t.innerRef,t.renderItem),l=Object(i.__rest)(t,["className","disabled","focused","items","onChange","onActiveItemChange","value","innerRef","renderItem"]);return a.a.createElement(r.ComponentRegistryConsumer,{id:v()},(function(t){var r=t.Item,d=t.Group;return a.a.createElement(f.b,{component:r,render:c},(function(t){var r=m(),c=m();return a.a.createElement("div",Object(i.__assign)({},l,{ref:e.innerRef,"aria-disabled":o,"aria-multiselectable":Array.isArray(u),role:void 0!==u?"listbox":void 0,className:v(null,[n])}),s.map(e.mapChildren({Item:t,Group:d},{getNextItemCount:r,getNextGroupCount:c,disabled:o})))}))}))},t.prototype.forwardRefs=function(){Object(l.b)(this.innerRef,this.props.innerRef)},t.scrollToItem=function(e,t){if(null!==e.current&&void 0!==t&&null!==t.current){var n,r=e.current.getBoundingClientRect().top,i=t.current.getBoundingClientRect().top;i<r?n=i-r:(n=i+t.current.offsetHeight-r-e.current.offsetHeight)<0&&(n=0),e.current.scrollTop=e.current.scrollTop+n}},t.prototype.subscribeToEvents=function(){document.addEventListener("keydown",this.onKeyDown,!0)},t.prototype.unsubscribeFromEvents=function(){document.removeEventListener("keydown",this.onKeyDown,!0)},t.prototype.hoverAndScrollToFirstSelectedElement=function(){var e=[].concat(this.props.value),n=p(this.props.items).reduce((function(t,n,r){return t<0&&-1!==e.indexOf(n.value)?r:t}),-1);t.scrollToItem(this.innerRef,this.itemsRef[n]),this.setState({hoveredIndex:n<0?0:n})},t.prototype.getNextNotDisabledIndex=function(e){for(var t=this.state.hoveredIndex,n=0,r=p(this.props.items);n<r.length&&(n++,(t+=e)<0&&(t=r.length-1),t>=r.length&&(t=0),r[t].disabled););return t},t.prototype.triggerOnMenuItemChange=function(e){var t=this.props.onActiveItemChange;if(void 0!==t&&null!==this.innerRef.current){var n=this.innerRef.current.querySelector('[data-key="item-'+e+'"]');n&&t(n.id)}},t.prototype.triggerOnChange=function(){var e=this.props,t=e.onChange,n=e.value,r=this.state.hoveredIndex;if(void 0!==t){var o=p(this.props.items),a=-1===r?"":o[r].value;if(Array.isArray(n)){var s=Object(i.__spread)(n);-1!==s.indexOf(a)?s=s.filter((function(e){return e!==a})):s.push(a),a=s}t({target:{value:a}})}},t.displayName=v(),t})(o.PureComponent);function y(e){var t=e.checked,n=e.className,r=e.disabled,a=e.hovered,s=e.type,u=void 0===s?"menuitem":s,c=e.id,l=e.index,d=e.onClick,f=e.onMouseEnter,p=e.onMouseLeave,h=Object(i.__rest)(e,["checked","className","disabled","hovered","type","id","index","onClick","onMouseEnter","onMouseLeave"]),m=Object(o.useCallback)((function(e){d&&d(e,l)}),[l,d]),g=Object(o.useCallback)((function(e){f&&f(e,l)}),[l,f]),y=Object(o.useCallback)((function(e){p&&p(e,l)}),[l,p]);return Object(i.__assign)(Object(i.__assign)({},h),{"aria-selected":t,"aria-disabled":r,id:c,role:u,className:v("Item",{checked:t,disabled:r,hovered:a,type:u},[n]),onClick:m,onMouseEnter:g,onMouseLeave:y})}var b=n(55),_=n(575),O=new r.Registry({id:v()});O.set("Group",(function(e){var t=e.children,n=e.className,o=e.title,s=Object(i.__rest)(e,["children","className","title"]),u=Object(r.useComponentRegistry)(v()).Title;return a.a.createElement("div",Object(i.__assign)({},s,{role:"group",className:v("Group",null,[n])}),o&&a.a.createElement(u,null,o),t)})).set("Item",(function(e){var t=e.needIconGlyph,n=e.children,o=e.innerRef,s=(e.value,Object(i.__rest)(e,["needIconGlyph","children","innerRef","value"])),u=Object(r.useComponentRegistry)(v()),c=u.Text,l=u.Icon,d=y(s);return a.a.createElement("div",Object(i.__assign)({ref:o},d),t&&a.a.createElement(l,{glyph:"type-check"}),a.a.createElement(c,null,n))})).set("Text",(function(e){var t=e.children,n=e.className,r=Object(i.__rest)(e,["children","className"]);return a.a.createElement("span",Object(i.__assign)({},r,{className:v("Text",null,[n])}),t)})).set("Title",(function(e){var t=e.children,n=e.className,r=Object(i.__rest)(e,["children","className"]);return a.a.createElement("div",Object(i.__assign)({},r,{"aria-hidden":!0,className:v("Title",null,[n])}),t)})).set("Icon",Object(_.a)(b.a));var E=Object(r.withRegistry)(O)(g),w=n(211);function S(e){var t=[],n={createCollection:S};return o.Children.forEach(e,(function(e){if(function(e){return Object(o.isValidElement)(e)&&e.type===o.Fragment}(e))t.push.apply(t,Object(i.__spread)(S(e.props.children)));else if(function(e){if(Object(o.isValidElement)(e)){var t=e.type;return"function"==typeof t&&"function"==typeof t.getCollectionNode}return!1}(e))t.push(e.type.getCollectionNode(e.props,n));else if(e)throw new Error("Unknown element of the children")})),t}var C=function(){return null};C.getCollectionNode=function(e,t){e.children;var n=e.label,r=Object(i.__rest)(e,["children","label"]);return{title:n,items:t.createCollection(e.children),unsafe_props:r}};var x=function(){return null};function T(e){var t=function(t){var n=t.items,r=(t.children,Object(i.__rest)(t,["items","children"])),s=(function(e){var t=e.children;return Object(o.useMemo)((function(){return S(t)}),[t])})(t);return a.a.createElement(e,Object(i.__assign)({},r,{items:n||s}))};return t.displayName="withJsxContent("+Object(w.a)(e)+")",t}x.getCollectionNode=function(e){var t=e.children,n=e.value,r=e.disabled;return{id:e.id,disabled:r,value:n,content:t,unsafe_props:Object(i.__rest)(e,["children","value","disabled","id"])}};var P=n(3),k=(n(1478),Object(P.withBemMod)(v(),{size:"m"})),j=(n(1479),Object(P.withBemMod)(v(),{size:"s"})),R=(n(1480),Object(P.withBemMod)(v(),{theme:"normal"})),I=(n(1481),n(1482),Object(P.withBemMod)(v(),{view:"default"})),A=(n(1483),n(1484),Object(P.withBemMod)(v(),{width:"auto"})),D=(n(1485),Object(P.withBemMod)(v(),{width:"max"})),M=n(997);n(1495);const N=Object(P.withBemMod)(v(),{size:"l"});n.d(t,"Menu",(function(){return E})),n.d(t,"withJsxContent",(function(){return T})),n.d(t,"withSizeM",(function(){return k})),n.d(t,"withSizeS",(function(){return j})),n.d(t,"withThemeNormal",(function(){return R})),n.d(t,"withViewDefault",(function(){return I})),n.d(t,"withWidthAuto",(function(){return A})),n.d(t,"withWidthMax",(function(){return D})),n.d(t,"useMenuItem",(function(){return y})),n.d(t,"cnMenu",(function(){return v})),n.d(t,"Group",(function(){return C})),n.d(t,"Item",(function(){return x})),n.d(t,"menuRegistry",(function(){return M.menuRegistry})),n.d(t,"withSizeL",(function(){return N}))}),(function(e,t,n){"use strict";var r=n(3),i=n(1348);n(659);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.a)(),{size:"xxl"})}),(function(e,t,n){"use strict";var r=n(3),i=n(1348);n(660);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.a)(),{size:"xl"})}),(function(e,t,n){"use strict";var r=n(3),i=n(1348);n(690);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.a)(),{view:"brand"})}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(3),a=n(1348),s=(n(691),"Button_view_premium_background_nIWzt"),u="Button_view_premium_layer1_A-tPT",c="Button_view_premium_layer2_lmjBA",l="Button_view_premium_layer3_fXqht",d="Button_view_premium_layerProgress_3bFh4";n.d(t,"a",(function(){return f}));const f=Object(o.withBemMod)(Object(a.a)(),{view:"premium"},e=>t=>i.a.createElement(e,Object.assign({},t,{addonBefore:i.a.createElement("div",{className:s},i.a.createElement("div",{className:u}),i.a.createElement("div",{className:c}),i.a.createElement("div",{className:l}),t.progress&&i.a.createElement("div",{className:d}))})))}),(function(e,t,n){"use strict";var r=n(3),i=n(1348);n(692);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.a)(),{view:"danger"})}),(function(e,t,n){"use strict";n.r(t);var r=n(75),i=(function(){function e(){var e=this;this.onKeyDown=function(){window.clearTimeout(e.timeoutId),e.isPointer=!1},this.onPointerCall=function(){e.isPointer=!0,window.clearTimeout(e.timeoutId),e.timeoutId=window.setTimeout((function(){e.isPointer=!1}),600)},this.onFocus=function(){var t=window.document.body.classList;e.isPointer?(t.add("pointerfocus"),t.remove("utilityfocus")):(t.add("utilityfocus"),t.remove("pointerfocus"))},this.onBlur=function(){window.addEventListener("focus",e.setIsPointerOnTabFocus,!0)},this.setIsPointerOnTabFocus=function(){window.removeEventListener("focus",e.setIsPointerOnTabFocus,!0),window.document.body&&window.document.body.classList.contains("pointerfocus")&&(e.isPointer=!0,window.setTimeout((function(){e.isPointer=!1})))},this.timeoutId=0,this.isPointer=!1,window.addEventListener("blur",this.onBlur,!1);var t=window.document;t.addEventListener("keydown",this.onKeyDown,!0),t.addEventListener("mousedown",this.onPointerCall,!0),t.addEventListener("mouseup",this.onPointerCall,!0),t.addEventListener("focusin",this.onFocus,!0),t.addEventListener("pointerdown",this.onPointerCall,!0),t.addEventListener("pointerup",this.onPointerCall,!0),t.body.classList.contains("pointerfocus")||t.documentElement.classList.contains("pointerfocus")||t.body.classList.add("utilityfocus")}return e.create=function(){return new e},e.prototype.dispose=function(){window.removeEventListener("blur",this.onBlur,!1);var e=window.document;e.removeEventListener("keydown",this.onKeyDown,!0),e.removeEventListener("mousedown",this.onPointerCall,!0),e.removeEventListener("mouseup",this.onPointerCall,!0),e.removeEventListener("focusin",this.onFocus,!0),e.removeEventListener("pointerdown",this.onPointerCall,!0),e.removeEventListener("pointerup",this.onPointerCall,!0),e.body.classList.remove("pointerfocus","utilityfocus")},e})(),o=null,a=!1;function s(){a||o||(o=i.create())}Object(r.a)()&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):window.setTimeout(s))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(381)),s=i(n(123)),u=n(28).cn("ConfirmDialog");n(1455);t.default=(({visible:e,title:t,children:n,submitButtonText:r,submitButtonProps:i={},cancelButtonText:c,cancelButtonProps:l={},actionButton:d="submit",autofocusButton:f=!0,progress:p,submitDisabled:h,onClose:m,noCloseButton:v,closeI18n:g,onSubmit:y,onCancel:b=m,zIndexGroupLevel:_,className:O,align:E,compact:w=!1})=>{const S=o.useRef(null),C=o.useRef(null);return o.useEffect(()=>{f&&requestAnimationFrame(()=>{switch(d){case"submit":S.current&&S.current.focus();break;case"cancel":C.current&&C.current.focus()}})},[e,d,f]),o.default.createElement(a.default,{visible:e,title:t,onClose:m,noCloseButton:v,closeI18n:g,zIndexGroupLevel:_,className:u({compact:w},[O]),align:E,bigTitle:w},o.default.createElement("div",{className:u("Content")},n),o.default.createElement("div",{className:u("Footer")},c?o.default.createElement(s.default,Object.assign({innerRef:C,size:w?"m":"xl",view:"pseudo",disabled:p,onClick:b,className:u("Button",{cancel:!0},[l.className])},l),c):null,r?o.default.createElement(s.default,Object.assign({innerRef:S,size:w?"m":"xl",view:"action",progress:p,disabled:h,onClick:y,className:u("Button",{submit:!0},[i.className])},i),r):null))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationsContext=void 0;const i=r(n(0)),o=n(224);t.TranslationsContext=i.default.createContext({keysetId:"",lang:o.Lang.ru,translations:{}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentContext=void 0;const i=r(n(0));t.EnvironmentContext=i.default.createContext({})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(914)),u=i(n(274)),c=i(n(2003)),l=n(95),d=n(45),f=n(2004),p=n(29),h=n(65),m=n(36),v=n(57),g=n(14),y=n(96),b=n(273),_=n(42),O=i(n(9)),E=n(91),w=c.default(s.default);t.mapStateToProps=((e,{objectIds:t,publicShareUrl:n})=>{var r;const{environment:{agent:{isTouch:i,isTablet:o,OSFamily:a},session:{isOnlyOfficeAvailable:s}},config:{urlsBase:{mail:u,yandex360:c},sk:l,idClient:d},user:{uid:f,isOfficeAllowed:p,isB2b:h,features:g,pddOrgId:_},page:{idContext:O}}=e,E=n?{isPublic:!0,shortUrl:n,resourceType:"file",objectType:m.OBJECT_TYPES.RESOURCE}:m.getPublishObjectData(e,t);return Object.assign({},E,{sk:l,connectionId:d,uid:f,isOfficeAllowed:p,idContext:O,mailOrigin:u,isTouch:i,isTablet:o,isAndroid:"Android"===a,isOnlyOfficeAvailable:s,isLinkBlockedForOverdraft:v.isOverdraftHard(e)&&E.objectType!==m.OBJECT_TYPES.ALBUM&&!E.isGuestInSharedFolder,isPublicSettingsEnabled:Boolean(null===(r=null===g||void 0===g?void 0:g.public_settings)||void 0===r?void 0:r.enabled),isB2b:h,yandex360Link:c,pddOrgId:_,isAddressAccessShareDialog:y.isAddressAccessShareDialogExp(e),checkIsOuter:b.isOuterContactsEnabled(e)})});const S={positiveUnsetPublishResource:f.positiveUnsetPublishResource,positiveUpdateOfficeAccessState:f.positiveUpdateOfficeAccessState,positiveUnpublishAlbum:h.positiveUnpublishAlbum,fetchPublicLinkSettings:f.fetchPublicLinkSettings,positiveChangePublicSettings:f.positiveChangePublicSettings,maybeBlockAction:p.maybeBlockAction,notify:_.notify},C=a.connect(t.mapStateToProps,S);t.default=C(({objectType:e,resourceId:t,metaResourceId:n,resourceType:r,resourcePath:i,resourceName:a,resourceMediaType:s,publicSettings:c,isVicariousDoc:f,isEditable:p,shortUrl:h,isPublic:v,officeAccessState:y,canUnpublish:b,isCooperativelyEditable:_,visible:S,mailOrigin:C,uid:x,isOfficeAllowed:T,sk:P,connectionId:k,positiveUnsetPublishResource:j,positiveUpdateOfficeAccessState:R,positiveUnpublishAlbum:I,fetchPublicLinkSettings:A,positiveChangePublicSettings:D,idContext:M,onClose:N,defaultExpanded:L,metrikaPath:F,metrikaTail:B=[],showDeleteLinkProgress:U,isTablet:z,isAndroid:V,isOnlyOfficeAvailable:H,isGuestInSharedFolder:W,isLinkBlockedForOverdraft:$,maybeBlockAction:G,isPublicSettingsEnabled:q,isB2b:Y,yandex360Link:K,pddOrgId:J,scope:Z,isAddressAccessShareDialog:X,checkIsOuter:Q,notify:ee})=>{const[te,ne]=o.useState(!1),re=o.useRef(h),ie=o.useRef(M);o.useEffect(()=>{!X&&S&&(re.current&&!h||ie.current!==M)&&N(),re.current=h,ie.current=M},[S,h,M,N,X]);const oe=o.useCallback(({newAccessType:e,promise:n})=>{R(t,e,n)},[t,R]),ae=o.useCallback(n=>{e===m.OBJECT_TYPES.ALBUM?I(t,n):j(t,n),N()},[t,e,j,I,N]),se=o.useCallback(()=>{N(),ne(!1)},[N]),ue=e===m.OBJECT_TYPES.ALBUM?"album":"dir"===r?"folder":"file",ce=o.useCallback((...e)=>{g.count(...F,...e,...B)},[F.join(),B.join()]),le=$||(!T||!H||W)&&"dir"!==r,de=!$&&_&&H,fe=o.useCallback((e,n,r)=>{D(t,e,n,r)},[t,D]),pe=e===m.OBJECT_TYPES.RESOURCE&&b;o.useEffect(()=>{S&&pe&&!X&&A(t).catch(()=>{se(),ce("security settings","open error")})},[S,pe,t,A,se,ce,X]);const he=o.useCallback(()=>{ee({operation:E.Operations.copyPublicLink,status:E.Status.done})},[ee]),me={officeAccessType:y||"disabled",onAccessTypeChange:oe,defaultExpanded:L||te,lang:"ru",linkUrl:pe&&!c?void 0:h,resourceTitle:a,resourceId:e===m.OBJECT_TYPES.ALBUM?t:n,resourcePath:i,resourceType:ue,resourceMediaType:s,viewOnlyTooltipType:p&&!_?"doc":ue,modelsRoute:l.psModelsRoute,sk:P,onSkUpdate:l.onSkUpdate,uid:x,onAuthChanged:l.onAuthChanged,connectionId:k,fetchOptions:l.psFetchDefaultOptions,isTouch:!1,isTablet:z,isAndroid:V,isResourceTypeAvailableToEdit:de,onClose:se,onDeleteLink:ae,showDeleteLinkProgress:U,visible:S,mailOrigin:C,isUserHasRightsToModifyAccess:b,deselectClass:d.LISTING_PREVENT_DESELECT_CLASS,countMetrikaFn:ce,noViewOnlyTooltip:le,isOverdraft:$,isVicariousDoc:f,blockActionOverdraft:G,userHasPublicSettingsFeature:q,isB2bUser:Y,chooseTariffLink:K+(Y?"/business":"/premium-plans")+"?from=share_settings",readOnlyValue:null===c||void 0===c?void 0:c.read_only,availableUntilValue:null===c||void 0===c?void 0:c.available_until,havePasswordValue:null===c||void 0===c?void 0:c.have_password,onChangeSecuritySettings:fe,externalOrganizationIds:null===c||void 0===c?void 0:c.external_organization_ids,pddOrgId:J,scope:Z};if(X){const e=O.default.omit(me,["modelsRoute","sk","onSkUpdate","uid","onAuthChanged","connectionId","fetchOptions"]);return o.default.createElement(u.default,Object.assign({},e,{checkIsOuter:Q,linkUrl:v?h:void 0,onCopyLinkClick:he,isUserHasRightsToModifyAccess:!v||b}))}return o.default.createElement(w,Object.assign({},me))})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"downloadIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},h.a.createElement("path",{d:"M13 6l-5 5-5-5z"}),h.a.createElement("path",{d:"M6 2h4v5H6zM3 12h10v2H3z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),,(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(718);t.useFocusTrap=r.useFocusTrap}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(9));!(function(e){e.docx="docx",e.doc="doc",e.xlsx="xlsx",e.xls="xls",e.pptx="pptx",e.ppt="ppt"})(t.DocsExt||(t.DocsExt={})),t.acceptedExts={docx:["docx","doc"],xlsx:["xlsx","xls"],pptx:["pptx","ppt"]},t.getAllAcceptedExts=(()=>i.default.flatten(Object.values(t.acceptedExts))),t.getAcceptedExtsByDocsType=(e=>t.acceptedExts[e]),t.getDocsTypeByExt=(e=>Object.entries(t.acceptedExts).reduce((t,[n,r])=>r.some(t=>t===e)?n:t,null)),t.getExtByFileName=(e=>{const t=e.toLowerCase().match(/\.(.*)$/);return t&&t[1]?t[1]:null}),t.filterDocsFiles=(e=>{const n=t.getAllAcceptedExts();for(const t of n)if(e.name.toLowerCase().match(`.${t}$`))return!0;return!1})}),(function(e,t,n){"use strict";e.exports=n(825)}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(0),i=n.n(r),o=n(107),a=(n(842),Object(o.cn)("UserWidget","Content")),s=i.a.forwardRef((function(e,t){var n=e.loading,r=e.preload,o=e.height,s=e.colorScheme,u=e.src,c=e.width;return i.a.createElement("div",{className:a({loading:n,colorScheme:s})},r&&i.a.createElement("iframe",{className:"UserWidget-Iframe",ref:t,width:c,src:u,height:n?300:o}),n&&i.a.createElement("div",{className:"UserWidget-Spin"}))}))}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(16),v=n(0),g=n.n(v),y=n(581),b=n(281),_=n(1128),O=n(9),E=n.n(O),w=n(258),S=n(126),C=n(65),x=n(32),T=n(58),P=n(29),k=n(38),j=n.n(k),R=n(14),I=n(395),A=n.n(I),D=n(165),M=(n(2067),n(11)),N=n.n(M);function L(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var F=function(){return N()()("albums2")},B=0,U=!1,z=(function(e){l()(n,e);var t=L(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._setNewAlbumRef=r._setNewAlbumRef.bind(u()(r)),r._onNewAlbumClick=r._onNewAlbumClick.bind(u()(r)),r._onNewAlbumKeyPress=r._onNewAlbumKeyPress.bind(u()(r)),r._onAlbumClick=r._onAlbumClick.bind(u()(r)),r._renderItem=r._renderItem.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.canShowAlbumsFaces,r=t.albumType,i=t.fetchAlbums,o=t.goToUrl,a=t.albumsLoaded,s="faces"===r;s&&!n?o("/client/albums"):r?a?this._fetchListing(s):i().then((function(){e._fetchListing(s)})).catch((function(){o("/client/albums")})):this._fetchListing(),this._maybeScrollInAlbums()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.albumType,r=t.isLoaded,i=t.albumsLoaded,o=t.albums,a=t.readonly,s=t.scrollInAlbums;e.albumType!==n&&this._fetchListing(),!a&&n&&r&&!o.length&&this.props.goToUrl("/client/albums"),e.isLoaded||!r||a||n||U||(U=!0,D.a.reachBlock("albums")),s===e.scrollInAlbums&&r===e.isLoaded&&i===e.albumsLoaded||this._maybeScrollInAlbums()}},{key:"_setNewAlbumRef",value:function(e){this._newAlbumRef=e}},{key:"_maybeScrollInAlbums",value:function(){var e=this.props,t=e.scrollInAlbums,n=e.setAlbumsScroll,r=e.albumType,i=e.readonly,o=e.isLoaded,a=e.albumsLoaded;!r&&!i&&o&&a&&t&&(n(null),t===C.ALBUMS_SCROLL.RESTORE?A.a.scrollTo(B):t===C.ALBUMS_SCROLL.SCROLL&&this._newAlbumRef&&A.a.scrollListingToNode($(this._newAlbumRef),46))}},{key:"_fetchListing",value:function(e){"family"!==this.props.albumType&&(e?this.props.fetchAlbumsListing(this.props.albumType,0,!0):this.props.fetchAlbumsListing(this.props.albumType))}},{key:"_onNewAlbumClick",value:function(){this.props.onAlbumClick?this.props.onAlbumClick("new"):(B=window.pageYOffset,this.props.requestNewAlbumTitle(),R.default.count("interface elements","albums","click create album"))}},{key:"_onNewAlbumKeyPress",value:function(e){e.charCode===j.a.KEYS.ENTER&&this._onNewAlbumClick()}},{key:"_onAlbumClick",value:function(e){this.props.onAlbumClick?this.props.onAlbumClick(e):this.props.goToUrl("/client/albums/"+e)}},{key:"_renderNewAlbum",value:function(){return g.a.createElement("div",{className:F().e("item").m({new:!0}),key:"album_new",ref:this._setNewAlbumRef,onClick:this._onNewAlbumClick,onKeyPress:this._onNewAlbumKeyPress,tabIndex:0},g.a.createElement("div",{className:F().e("new-content")},g.a.createElement(b.default,null),g.a.createElement("span",{className:F().e("new-text")},"Новый альбом")))}},{key:"_renderItem",value:function(e){if("new"===e.id)return this._renderNewAlbum();var t=E.a.get(e,"cover.meta.sizes"),n=t&&Object(w.a)(t,"DEFAULT")||e.preview,r={"no-cover":!n};return![e.id,e.album_type].includes("family")||this.props.hasFamilyAlbumFeature||this.props.shouldShowAlbumPromoStub||(r["warning-icon"]=!0),g.a.createElement(_.a,{id:e.id,key:e.id,album:e,preview:n,modifiers:r,onOpen:this._onAlbumClick,isMobile:this.props.isMobile,readonly:this.props.readonly})}},{key:"render",value:function(){var e=this,t=this.props.isMobile,n=[];return this.props.albums.forEach((function(t){n.push(e._renderItem(t))})),g.a.createElement("div",{className:F().m({mobile:t,desktop:!t,listing:!0})},g.a.createElement("div",{className:F().e("row")},g.a.createElement("div",{className:F().e("panel")},n)))}}]),n})(v.Component),V=Object(y.a)(z,(function(e,t){return t.albums.length!==e.albums.length}));t.default=Object(m.connect)((function(e,t){var n=e.environment,r=n.agent,i=r.isMobile,o=r.OSFamily,a=n.session.locale,s=e.albums.isLoaded,u=e.personalAlbums.scrollInAlbums,c=t.albumType||null,l=t.albums||Object(x.getAlbumsListing)(e,c),d=Object(x.getAlbumsData)(e,c);return{canShowAlbumsFaces:Object(x.canShowAlbumsFaces)(e),scrollInAlbums:u,readonly:!!t.readonly,loading:d.isLoading,isLoaded:d.isLoaded,albumsLoaded:s,completed:d.isCompleted,OSFamily:o,isMobile:i,locale:a,albumType:c,albums:l,metrikaTail:["albums listing"],centerSpin:"family"===t.albumType,hasFamilyAlbumFeature:Object(T.hasFamilyAlbumFeature)(e)}}),(function(e,t){return{fetchAlbums:function(){return e(Object(S.fetchAlbums)())},fetchAlbumsListing:function(){return e(S.fetchAlbumsListing.apply(void 0,arguments))},requestFetchNext:function(){return"family"!==t.albumType?e(Object(S.fetchAlbumsNext)(t.albumType)):void 0},requestNewAlbumTitle:function(){return e(Object(C.requestNewAlbumTitle)())},setAlbumsScroll:function(t){return e(Object(C.setAlbumsScroll)(t))},goToUrl:function(t){return e(Object(P.goToUrl)(t))}}}))(V)}),(function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(140),a=n.n(o);var s=n(1360),u=n(119),c=n(169),l=n(62),d=n(50);var f=n(77),p=n(168),h=n(66),m=n(170);function v(e,t,n){void 0===n&&(n=!1);var r=Object(h.a)(t),i=Object(u.a)(e),o=Object(d.b)(t),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!n)&&(("body"!==Object(f.a)(t)||Object(m.a)(r))&&(a=(function(e){return e!==Object(l.a)(e)&&Object(d.b)(e)?(function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}})(e):Object(c.a)(e)})(t)),Object(d.b)(t)?((s=Object(u.a)(t)).x+=t.clientLeft,s.y+=t.clientTop):r&&(s.x=Object(p.a)(r))),{x:i.left+a.scrollLeft-s.x,y:i.top+a.scrollTop-s.y,width:i.width,height:i.height}}function g(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}var y=n(172),b=n(108),_=n(21);function O(e){var t=new Map,n=new Set,r=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||(function e(i){n.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var i=t.get(r);i&&e(i)}})),r.push(i)})(e)})),r}var E={placement:"bottom",modifiers:[],strategy:"absolute"};function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function S(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?E:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},E),o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,u={state:i,setOptions:function(n){c(),i.options=Object.assign(Object.assign(Object.assign({},o),i.options),n),i.scrollParents={reference:Object(d.a)(e)?Object(y.a)(e):e.contextElement?Object(y.a)(e.contextElement):[],popper:Object(y.a)(t)};var s=(function(e){var t=O(e);return _.g.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])})(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign(Object.assign(Object.assign({},n),t),{},{options:Object.assign(Object.assign({},n.options),t.options),data:Object.assign(Object.assign({},n.data),t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=s.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var s=o({state:i,name:t,instance:u,options:r});a.push(s||function(){})}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(w(t,n)){i.rects={reference:v(t,Object(b.a)(n),"fixed"===i.options.strategy),popper:g(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,l=void 0===c?{}:c,d=o.name;"function"==typeof a&&(i=a({state:i,options:l,name:d,instance:u})||i)}else i.reset=!1,r=-1}}},update:(function(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then((function(){t=void 0,n(e())}))})),t}})((function(){return new Promise(function(e){u.forceUpdate(),e(i)})})),destroy:function(){c(),s=!0}};if(!w(e,t))return u;function c(){a.forEach((function(e){return e()})),a=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var C=n(76),x=n(251),T=n(167);function P(e,t,n){return Math.max(e,Math.min(t,n))}var k=n(252),j=n(254);var R={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Object(C.a)(n.placement),s=Object(T.a)(a),u=[_.f,_.k].indexOf(a)>=0?"height":"width";if(i&&o){var c=n.modifiersData[r+"#persistent"].padding,l=g(i),d="y"===s?_.m:_.f,f="y"===s?_.c:_.k,p=n.rects.reference[u]+n.rects.reference[s]-o[s]-n.rects.popper[u],h=o[s]-n.rects.reference[s],m=Object(b.a)(i),v=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,y=p/2-h/2,O=c[d],E=v-l[u]-c[f],w=v/2-l[u]/2+y,S=P(O,w,E),x=s;n.modifiersData[r]=((t={})[x]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options,r=e.name,i=n.element,o=void 0===i?"[data-popper-arrow]":i,a=n.padding,s=void 0===a?0:a;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&Object(x.a)(t.elements.popper,o)&&(t.elements.arrow=o,t.modifiersData[r+"#persistent"]={padding:Object(k.a)("number"!=typeof s?s:Object(j.a)(s,_.b))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},I={top:"auto",right:"auto",bottom:"auto",left:"auto"};function A(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.offsets,a=e.position,s=e.gpuAcceleration,u=e.adaptive,c=(function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Math.round(t*r)/r||0,y:Math.round(n*r)/r||0}})(o),d=c.x,f=c.y,p=o.hasOwnProperty("x"),m=o.hasOwnProperty("y"),v=_.f,g=_.m,y=window;if(u){var O=Object(b.a)(n);O===Object(l.a)(n)&&(O=Object(h.a)(n)),i===_.m&&(g=_.c,f-=O.clientHeight-r.height,f*=s?1:-1),i===_.f&&(v=_.k,d-=O.clientWidth-r.width,d*=s?1:-1)}var E,w=Object.assign({position:a},u&&I);return s?Object.assign(Object.assign({},w),{},((E={})[g]=m?"0":"",E[v]=p?"0":"",E.transform=(y.devicePixelRatio||1)<2?"translate("+d+"px, "+f+"px)":"translate3d("+d+"px, "+f+"px, 0)",E)):Object.assign(Object.assign({},w),{},((t={})[g]=m?f+"px":"",t[v]=p?d+"px":"",t.transform="",t))}var D={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s={placement:Object(C.a)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),A(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),A(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},M={passive:!0};var N={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=Object(l.a)(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,M)})),s&&u.addEventListener("resize",n.update,M),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,M)})),s&&u.removeEventListener("resize",n.update,M)}},data:{}},L={left:"right",right:"left",bottom:"top",top:"bottom"};function F(e){return e.replace(/left|right|bottom|top/g,(function(e){return L[e]}))}var B={start:"end",end:"start"};function U(e){return e.replace(/start|end/g,(function(e){return B[e]}))}var z=n(116),V=n(118);var H={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=void 0===p||p,m=n.allowedAutoPlacements,v=t.options.placement,g=Object(C.a)(v),y=u||(g!==v&&h?(function(e){if(Object(C.a)(e)===_.a)return[];var t=F(e);return[U(e),t,U(t)]})(v):[F(v)]),b=[v].concat(y).reduce((function(e,n){return e.concat(Object(C.a)(n)===_.a?(function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?_.h:u,l=Object(V.a)(r),d=l?s?_.n:_.n.filter((function(e){return Object(V.a)(e)===l})):_.b,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=Object(z.a)(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[Object(C.a)(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))})(t,{placement:n,boundary:l,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),O=t.rects.reference,E=t.rects.popper,w=new Map,S=!0,x=b[0],T=0;T<b.length;T++){var P=b[T],k=Object(C.a)(P),j=Object(V.a)(P)===_.l,R=[_.m,_.c].indexOf(k)>=0,I=R?"width":"height",A=Object(z.a)(t,{placement:P,boundary:l,rootBoundary:d,altBoundary:f,padding:c}),D=R?j?_.k:_.f:j?_.c:_.m;O[I]>E[I]&&(D=F(D));var M=F(D),N=[];if(o&&N.push(A[k]<=0),s&&N.push(A[D]<=0,A[M]<=0),N.every((function(e){return e}))){x=P,S=!1;break}w.set(P,N)}if(S)for(var L=function(e){var t=b.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},B=h?3:1;B>0&&"break"!==L(B);B--);t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},W=n(255);var $={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Object(W.a)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var G=n(253);var q={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f||f,h=n.tetherOffset,m=void 0===h?0:h,v=Object(z.a)(t,{boundary:u,rootBoundary:c,padding:d,altBoundary:l}),y=Object(C.a)(t.placement),O=Object(V.a)(t.placement),E=!O,w=Object(T.a)(y),S=(function(e){return"x"===e?"y":"x"})(w),x=t.modifiersData.popperOffsets,k=t.rects.reference,j=t.rects.popper,R="function"==typeof m?m(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):m,I={x:0,y:0};if(x){if(o){var A="y"===w?_.m:_.f,D="y"===w?_.c:_.k,M="y"===w?"height":"width",N=x[w],L=x[w]+v[A],F=x[w]-v[D],B=p?-j[M]/2:0,U=O===_.l?k[M]:j[M],H=O===_.l?-j[M]:-k[M],W=t.elements.arrow,$=p&&W?g(W):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Object(G.a)(),Y=q[A],K=q[D],J=P(0,k[M],$[M]),Z=E?k[M]/2-B-J-Y-R:U-J-Y-R,X=E?-k[M]/2+B+J+K+R:H+J+K+R,Q=t.elements.arrow&&Object(b.a)(t.elements.arrow),ee=Q?"y"===w?Q.clientTop||0:Q.clientLeft||0:0,te=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,ne=x[w]+Z-te-ee,re=x[w]+X-te,ie=P(p?Math.min(L,ne):L,N,p?Math.max(F,re):F);x[w]=ie,I[w]=ie-N}if(s){var oe="x"===w?_.m:_.f,ae="x"===w?_.c:_.k,se=x[S],ue=P(se+v[oe],se,se-v[ae]);x[S]=ue,I[S]=ue-se}t.modifiersData[r]=I}},requiresIfExists:["offset"]},Y={name:"applyStyles",enabled:!0,fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];i instanceof HTMLElement&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={position:t.options.strategy,left:0,top:0,right:"auto",bottom:"auto",margin:0};Object.assign(t.elements.popper.style,n)},phase:"write",requires:["computeStyles"]};var K=n(192),J="top",Z="left",X="right",Q="bottom";function ee(e,t){var n=(function(e){return e.split("-")[0]})(e),r=[Z,J].indexOf(n)>=0?-1:1,i=t[0]||0,o=(t[1]||0)*r;return[Z,X].indexOf(n)>=0?{x:o,y:i}:{x:i,y:o}}function te(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ne(e){return[J,X,Q,Z].some((function(t){return e[t]>=0}))}var re=S({defaultModifiers:[Y,R,D,N,H,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=e.options.boundary,o=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,u=Object(z.a)(t,{elementContext:"reference",boundary:i}),c=Object(z.a)(t,{altBoundary:!0,boundary:i}),l=te(u,o),d=te(c,a,s),f=ne(l),p=ne(d);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:p},t.attributes.popper=Object(r.__assign)(Object(r.__assign)({},t.attributes.popper),{"data-popper-reference-hidden":f,"data-popper-escaped":p})}},{name:"offset",enabled:!0,fn:function(e){var t=e.state,n=e.options,r=n.offset,i=void 0===r?[0,0]:r,o=n.tailOffset;t.modifiersData.arrow&&o&&(t.modifiersData.arrow.x&&(t.modifiersData.arrow.x+=o),t.modifiersData.arrow.y&&(t.modifiersData.arrow.y+=o));if(t.modifiersData.popperOffsets&&t.elements.arrow){var a=(function(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}})(t.elements.arrow).width,s=ee(t.placement,[0,a/2]),u=s.x,c=s.y;t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c}var l=K.a.reduce((function(e,t){return e[t]=ee(t,i),e}),{}),d=l[t.placement],f=d.x,p=d.y;t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x=Math.round(t.modifiersData.popperOffsets.x+f),t.modifiersData.popperOffsets.y=Math.round(t.modifiersData.popperOffsets.y+p));t.modifiersData.offset=l},phase:"main",requires:["popperOffsets"]},{name:"patchScaleFactor",enabled:!0,fn:function(e){var t,n=e.state,i=e.instance;i.__patchCounter=null!==(t=i.__patchCounter)&&void 0!==t?t:0;var o=n.elements.reference,a=i.__patchCounter;if(a>2)return;if(!(o instanceof HTMLElement))return;var s=Object(r.__read)(function(e){var t=window.getComputedStyle(e),n=t.transform||t.webkitTransform,r=n.indexOf("3d")>=0?"3d":"2d",i=n.match(/matrix.*\((.+)\)/);if("2d"===r&&null!==i){var o=i[1].split(", ");return[Number(o[0]),Number(o[3])]}return[1,1]}(o),2),u=s[0],c=s[1];if(1===a&&(1!==u||1!==c)){var l=n.rects.reference,d=l.width,f=l.height,p=Number((d/u).toFixed(2)),h=Number((f/c).toFixed(2)),m=(p-d)/2,v=(h-f)/2;n.rects.reference={x:Math.round(n.rects.reference.x-m),y:Math.round(n.rects.reference.y-v),width:p,height:h}}i.__patchCounter++},phase:"beforeRead",requires:["popperOffsets"]},$,q]});function ie(e){var t=e.anchorRef,n=e.arrowMarginThreshold,o=void 0===n?4:n,u=e.placement,c=void 0===u?"bottom":u,l=e.enabled,d=void 0===l||l,f=e.marginThreshold,p=void 0===f?16:f,h=e.modifiers,m=void 0===h?[]:h,v=e.motionless,g=e.offset,y=e.unsafe_tailOffset,b=e.children,_=e.boundary,O=Array.isArray(c)?c:[c],E=Object(i.useRef)(null),w=Object(i.useRef)(null),S=Object(r.__read)(Object(i.useState)(null),2),C=S[0],x=S[1],T=Object(r.__read)(Object(i.useState)(null),2),P=T[0],k=T[1],j=Object(i.useMemo)((function(){var e=Object(r.__read)(O),t=e[0],n=e.slice(1),i=(function(e){var t=(Array.isArray(e)?e:[e]).reduce((function(e,t){return t&&t.current&&e.push(t.current),e}),[]);return t.length?t:void 0})(_),s={children:b,placement:t,modifiers:Object(r.__spread)([{name:"eventListeners",enabled:!v},{name:"offset",options:{offset:g,tailOffset:y}},{name:"computeStyles",options:{gpuAcceleration:!1}},{name:"preventOverflow",options:{altBoundary:!0,boundary:i}},{name:"arrow",enabled:Boolean(P),options:{element:P,padding:o}},{name:"flip",options:{padding:p,fallbackPlacements:n,altBoundary:!0,boundary:i}},{name:"hide",options:{boundary:i}}],m)};return (function e(t,n){if(t===n)return!0;if(t&&n&&"object"===a()(t)&&"object"===a()(n)){if(t.constructor!==n.constructor)return!1;var r,i,o=void 0;if(Array.isArray(t)){if((r=t.length)!==n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;if("undefined"!=typeof Element&&t instanceof Element)return!1;for(o=r;0!=o--;)if(("_owner"!==i[o]&&"__v"!==i[o]&&"__o"!==i[o]||!t.$$typeof)&&!e(t[i[o]],n[i[o]]))return!1;return!0}return t!=t&&n!=n})(w.current,s)?w.current||s:w.current=s}),[O,g,P,o,v,p,y,m,b,_]);return Object(s.a)((function(){null!==E.current&&E.current.setOptions(j)}),[j]),Object(s.a)((function(){return t.current&&C&&d&&(E.current=re(t.current,C,j),E.current.forceUpdate()),function(){null!==E.current&&(E.current.destroy(),E.current=null)}}),[t,C,d]),{popper:E.current,setArrowRef:k,setPopupRef:x}}n.d(t,"a",(function(){return ie}))}),(function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(1823),a=[],s=null,u=null;function c(){return a[a.length-1]}function l(e,t,n){var r=c();!r||!r.onClose||n&&n!==r.closeStrategy||"click"===t&&(function(e,t){return e.some((function(e){return e.current instanceof HTMLElement&&e.current.contains(t)}))})(r.refs,e.target)||r.onClose({nativeEvent:e,source:t})}function d(e){var t=e.key;"Escape"!==t&&"Esc"!==t||l(e,"esc")}function f(e){s=e.target,u=c(),l(e,"click","pressdown")}function p(e){var t=s;s=null;var n=u;u=null,e.button>0||n===c()&&t===e.target&&l(e,"click","pressup")}var h=Object.freeze({count:function(){return a.length},addOverlay:function(e){0===a.length&&(document.addEventListener("keyup",d),document.addEventListener("pointerdown",f,!0),document.addEventListener("click",p,!0)),a.push(e)},removeOverlay:function(e){a.splice(a.indexOf(e),1),0===a.length&&(document.removeEventListener("keyup",d),document.removeEventListener("pointerdown",f,!0),document.removeEventListener("click",p,!0))},getTopOverlayOptions:c});var m=n(471),v="undefined"!=typeof window,g=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},y=function(e){var t=e.enabled,n=e.onHeightChange,o=Object(r.__read)(Object(i.useState)(v?g():void 0),2),a=o[0],s=o[1],u=Object(i.useCallback)((function(){var e=g();a!==e&&(s(g()),n(e))}),[a,n]);Object(m.a)((function(){if(t)return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}),[u,t])},b=function(e){var t=e.touchBreakpointWidth,n=void 0===t?520:t,o=e.platform,a=void 0===o?"auto":o,s=Object(r.__read)(Object(i.useState)((function(){return"auto"!==a?a:v?window.matchMedia("(max-width: "+n+"px)").matches?"touch":"desktop":void 0})),2),u=s[0],c=s[1];return Object(i.useEffect)((function(){"auto"!==a&&c(a)}),[a]),Object(m.a)((function(){if(v&&(!a||"auto"===a)){var e=window.matchMedia("(max-width: "+n+"px)");return t(e),e.addEventListener?e.addEventListener("change",t):e.addListener(t),function(){e.removeEventListener?e.removeEventListener("change",t):e.removeListener(t)}}function t(e){e.matches?c("touch"):c("desktop")}}),[u,c,n]),u},_=["tr","am","ge"],O=["il"];function E(e){var t=e.avatarRef,n=e.avatarSize,a=void 0===n?[42,22]:n,s=e.colorScheme,u=void 0===s?"light":s,c=e.dialogClassName,l=e.dialogRef,d=e.dir,f=void 0===d?"ltr":d,p=e.env,m=void 0===p?"prod":p,E=e.essentialRef,w=e.features,S=e.fetchUserData,C=e.host,x=e.iframeRef,T=e.lang,P=e.onClose,k=e.onLoad,j=e.onMenuItemClick,R=e.onOpen,I=e.onThemeChange,A=e.platform,D=e.preload,M=void 0!==D&&D,N=e.project,L=e.queryParams,F=e.dynamicParams,B=e.retpath,U=e.rpcHandlers,z=e.theme,V=e.tld,H=void 0===V?"ru":V,W=e.touchBreakpointWidth,$=e.userData,G=e.visible,q=void 0!==G&&G,Y=Object(i.useRef)(null),K=Object(i.useRef)(null),J=Object(i.useRef)(null),Z=(function(e){return Object(i.useMemo)((function(){return _.includes(e)?"com."+e:O.includes(e)?"co."+e:e}),[e])})(H);Object(o.a)(Y,t||Object(i.createRef)()),K=null!==l&&void 0!==l?l:K,J=null!==x&&void 0!==x?x:J;var X=Object(r.__read)(Object(i.useState)(!0),2),Q=X[0],ee=X[1],te=Object(i.useMemo)((function(){return v?B||location.href:B}),[B]),ne=Object(r.__read)(Object(i.useState)(M),2),re=ne[0],ie=ne[1],oe=Object(i.useRef)({colorScheme:u,theme:z,retpath:te}),ae=Object(i.useMemo)((function(){if(C)return"https://"+C;if(v){var e=new URL(location.href).searchParams.get("user_id_host");if(e)return"https://"+e}return"https://yandex."+Z}),[C,Z]),se=Object(i.useMemo)((function(){re||oe.current.colorScheme===u&&oe.current.theme===z&&oe.current.retpath===te||(oe.current={colorScheme:u,theme:z,retpath:te});var e=new URL("user-id",ae);if(oe.current.retpath&&e.searchParams.set("retpath",oe.current.retpath),oe.current.colorScheme&&e.searchParams.set("colorScheme",oe.current.colorScheme),oe.current.theme&&e.searchParams.set("theme",oe.current.theme),T&&e.searchParams.set("l10n",T),Array.isArray(w)){var t=w.join(",");e.searchParams.set("exp_flags",t)}for(var n in N&&e.searchParams.set("project",N),m&&e.searchParams.set("env",m),e.searchParams.set("dir",f),L)e.searchParams.set(n,L[n]);for(var n in F)e.searchParams.set(n,F[n]);return e.toString()}),[ae,w,N,L,F,u,z,te,re]);Object(i.useEffect)((function(){re||!M&&!S||ie(!0)}),[re,M,ie,S]);var ue=b({platform:A,touchBreakpointWidth:W}),ce=Object(i.useCallback)((function(){re||ie(!0)}),[re,ie]),le=Object(i.useMemo)((function(){return null===a?null:"number"==typeof a?a:"touch"===ue?a[1]:a[0]}),[ue,a]),de=Object(i.useCallback)((function(){var e;null===(e=Y.current)||void 0===e||e.focus(),null===P||void 0===P||P()}),[P]),fe=Object(r.__read)(Object(i.useState)(),2),pe=fe[0],he=fe[1],me=Object(r.__read)(Object(i.useState)($),2),ve=me[0],ge=me[1];Object(i.useEffect)((function(){ge($)}),[$]);var ye=Object(i.useCallback)((function(e){if(v)if("desktop"!==ue){var t=g();he(t)}else he(e)}),[ue]);y({enabled:"touch"===ue,onHeightChange:ye});var be=Object(i.useCallback)((function(e,t){var n;switch(e.methodCall){case"onInit":if(S){var i=e.params[0];ge(i)}null===k||void 0===k||k();break;case"onDataLoad":case"updateUserHeight":var o=e.params[0].height;ye(o),ee(!1);break;case"ITEM_CLICK":var a=e.params[0];null===j||void 0===j||j(a.item,a,{onClose:de});break;case"closeUserID":null===de||void 0===de||de();break;case"updateTheme":var s=e.params[0].theme;null===I||void 0===I||I(s);break;default:if(!(null===U||void 0===U?void 0:U[e.methodCall]))return;Promise.resolve(null===(n=null===U||void 0===U?void 0:U[e.methodCall])||void 0===n?void 0:n.call.apply(n,Object(r.__spread)([U],e.params))).then(t)}}),[U,j,de,I,ye,ge,S]),_e=(function(e){var t=e.loading,n=e.iframeRef,o=e.origin,a=e.rpcHandler,s=Object(i.useRef)([]),u=Object(i.useCallback)((function(e){var r,i,o=JSON.stringify(e);t?s.current.push(o):null===(i=null===(r=n.current)||void 0===r?void 0:r.contentWindow)||void 0===i||i.postMessage(o,"*")}),[t,n]),c=Object(i.useCallback)((function(e){if(e.origin===o){var t;try{t=JSON.parse(e.data)}catch(e){return}t.methodCall&&(null===a||void 0===a||a(Object(r.__assign)({},t),(function(e){var n;u({returnCall:!0,params:[e],resultCallbackIndex:(null===(n=t.resultCallbackIndex)||void 0===n?void 0:n.__callbackId)||-1})})))}}),[o,a,u]);return Object(i.useEffect)((function(){return window.addEventListener("message",c),function(){window.removeEventListener("message",c)}}),[c]),Object(i.useEffect)((function(){n&&!t&&0!==s.current.length&&(s.current.forEach((function(e){var t,r;return null===(r=null===(t=n.current)||void 0===t?void 0:t.contentWindow)||void 0===r?void 0:r.postMessage(e,"*")})),s.current=[])}),[t,n]),{sendMessage:u}})({loading:Q,iframeRef:J,origin:ae,rpcHandler:be}).sendMessage;Object(i.useEffect)((function(){_e({methodCall:"updateRetpath",params:[{retpath:te}]})}),[te,_e]),Object(i.useEffect)((function(){_e({methodCall:"onParamsChange",params:[Object(r.__assign)({},F)]})}),[F,_e]),Object(i.useEffect)((function(){_e({methodCall:"updateTheme",params:[{colorScheme:u,theme:z}]})}),[u,_e,z]);var Oe=Object(i.useCallback)((function(e){_e({methodCall:"focusFirst",params:[{fromKeyboard:e}]})}),[_e]),Ee=Object(i.useCallback)((function(){q?(Oe(!0),de()):(re||ie(!0),Oe(!1),null===R||void 0===R||R())}),[Oe,R,re,q,de]),we=Object(i.useMemo)((function(){var e=[K,Y];return E&&e.push(E),e}),[K,Y,E]);return (function(e){var t=e.visible,n=e.onClose,r=e.essentialRefs,o=e.unsafe_strategy,a=void 0===o?"pressdown":o,s=Object(i.useRef)({onClose:n,refs:r,closeStrategy:a});s.current.onClose=n,s.current.refs=r,Object(i.useEffect)((function(){if(t){var e=s.current;return h.addOverlay(e),function(){h.removeOverlay(e)}}}),[t])})({visible:q,onClose:de,essentialRefs:we}),{avatarProps:{avatarSize:le,env:m,onClick:Ee,onPointerEnter:ce,platform:ue,ref:Y,retpath:te,userData:ve,visible:q,tld:Z},contentProps:{colorScheme:u,height:pe,loading:Q,preload:re,ref:J,src:se,width:"desktop"===ue?320:"100%"},dialogProps:{className:c,colorScheme:u,platform:ue,ref:K,visible:q,onClose:de,loading:Q}}}n.d(t,"a",(function(){return E}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFolders=(({defaultFolders:e})=>e)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),i=n(0),o=n.n(i),a=n(49),s=(n(737),Object(i.forwardRef)((function(e,t){var n=e.className,i=Object(r.__rest)(e,["className"]);return o.a.createElement("div",Object(r.__assign)({},i,{ref:t,className:Object(a.b)("Tail",null,[n])}),o.a.createElement("svg",{viewBox:"0 0 24 24",className:Object(a.b)("TailSvg")},o.a.createElement("path",{className:Object(a.b)("TailFill"),d:"M12 16C15 16 18 24 24 24H0C6 24 9 16 12 16Z",fill:"none"}),o.a.createElement("path",{className:Object(a.b)("TailBorder"),d:"M8.05888 18.9807C6.77697 20.3966 5.32977 21.9951 3.57172 23H0C2.53449 23 4.52121 21.3153 6.39546 19.3161C6.68742 19.0046 6.98315 18.6782 7.27806 18.3526L7.27807 18.3526C7.87384 17.6949 8.46631 17.0408 9.01776 16.5218C9.82327 15.7637 10.827 15 12 15C13.173 15 14.1767 15.7637 14.9822 16.5218C15.5337 17.0408 16.1262 17.6949 16.7219 18.3526L16.7219 18.3526L16.7222 18.3529C17.017 18.6783 17.3127 19.0047 17.6045 19.3161C19.4788 21.3153 21.4655 23 24 23H20.4283C18.6702 21.9951 17.223 20.3966 15.9411 18.9807C14.4853 17.3726 13.2426 16 12 16C10.7574 16 9.51472 17.3726 8.05888 18.9807Z",fill:"none"})))})))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"copy2IconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M7 14h7V7H7v7zM5 5h11v11H5V5zm4-2v1-1zm1-3H0v10V0h10zM0 10v1h4-4v-1zM10 0h1v4-4h-1zM3 9h1-1zM0 0h11v4H9V2H2v7h2v2H0V0z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"editIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M1.694 11.531l8.63-8.63L13.1 5.674l-8.631 8.631L.999 15l.695-3.469zM13.1.125L15.876 2.9l-1.388 1.386-2.775-2.774L13.1.125z",fill:"currentColor",fillRule:"evenodd"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"moveIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},h.a.createElement("path",{d:"M11 13h3V5H2v5H0v5h11v-2zM6.687 3H16v12H0V1h4.005c.776 0 1.24.271 1.624.73L6.687 3z"}),h.a.createElement("path",{d:"M9 11l-5 4v-3H0v-2h4V7z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"renameIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fillRule:"evenodd",fill:"currentColor"},h.a.createElement("path",{d:"M5 3h2L3 13H1z"}),h.a.createElement("path",{d:"M7 3H5l4 10h2z"}),h.a.createElement("path",{d:"M3 9h6v2H3zm10-9h2v16h-2z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"linkIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M7.075 8.45a1 1 0 0 1-1.63 1.157 4 4 0 0 1 .434-5.142L8.886 1.46a4 4 0 0 1 5.657 5.657l-.707.707A1 1 0 0 1 12.42 6.41l.707-.707A2 2 0 1 0 10.3 2.874L7.294 5.88a2 2 0 0 0-.22 2.57Zm1.848-.902a1 1 0 1 1 1.627-1.163 4 4 0 0 1-.428 5.152l-3.005 3.005A4 4 0 0 1 1.46 8.885l.707-.707a1 1 0 1 1 1.414 1.414l-.707.707a2 2 0 1 0 2.829 2.829l3.005-3.006a2 2 0 0 0 .215-2.574Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=function(e,t){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)},i=function(e,t){return r(e,t)?Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)):0},o=function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,i=t.right,o=t.bottom;return{top:n+=window.pageYOffset,left:r+=window.pageXOffset,right:i+=window.pageXOffset,bottom:o+=window.pageYOffset}}}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n.n(r),o=n(22),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(2),y=n.n(g),b=(n(2053),n(0)),_=n.n(b),O=n(16),E=n(130),w=n(125),S=n(15),C=n(504),x=n.n(C),T=(n(147),n(85)),P=n(64),k=n(74),j=n(280),R=n(895),I=n(609),A=n(362),D=n(213),M=n(580),N=n(259),L=n(361),F=n(360),B=n(506),U=n(359),z=n(348),V=n(508),H=n(505),W=n(923),$=n(336),G=n(284),q=n(507),Y=n(12);function K(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var J=(function(e){h()(n,e);var t=K(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return _.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M15.362 17.095l-8.458-8.46c1.323-1.107 2.806-1.313 5.07-.783l1.083.254 4.45-4.447 2.827 2.826-3.66 3.66-.793.791.261 1.09c.548 2.283.348 3.739-.78 5.069zM4.766 7.91a1 1 0 0 0 0 1.414l4.242 4.243-5.642 5.643-.709 2.124 2.123-.71 5.642-5.642 4.247 4.247a1 1 0 0 0 1.414 0l.316-.315c2.124-2.111 2.387-4.444 1.688-7.356l3.661-3.66a2 2 0 0 0 0-2.828L18.92 2.245a2 2 0 0 0-2.828 0l-3.662 3.66c-2.887-.676-5.251-.407-7.35 1.691l-.314.315z"})}}]),n})(Y.default),Z=(Object(Y.iconProvider)(J),n(485)),X=n(924),Q=n(363),ee=n(503),te=n(11),ne=n.n(te),re=n(30),ie=n(14),oe=n(36),ae=n(57),se=n(96);function ue(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}n.d(t,"ACTIONS",(function(){return le}));var ce=function(){return ne()()("resources-actions-popup")},le=[{group:0,id:re.PUBLISH,icon:function(e){var t=e.isAndroid;return function(e){return _.a.createElement(j.default,{cls:e,isAndroid:t})}}},{group:1,id:re.VIEW,icon:function(){return I.eyeIconProvider}},{group:1,id:re.EDIT,icon:function(){return F.editIconProvider}},{group:1,id:re.PIN,icon:function(){return function(e){return _.a.createElement(J,{iconSize:"m",cls:e})}}},{group:2,id:re.SHARE_ACCESS,icon:function(){return R.peopleIconProvider}},{group:2,id:re.ADD_TO_ALBUM,icon:function(){return $.addToAlbumIconProvider}},{group:2,id:re.SET_AS_COVER,icon:function(){return q.coverIconProvider}},{group:2,id:re.FOTKI_INFO,icon:function(){return G.b}},{group:2.5,id:re.WFOLIO_CREATE_PROJECT,icon:function(){return Z.wfolioProjectIconProvider}},{group:2.5,id:re.WFOLIO_SET_PROJECT_SETTINGS,icon:function(){return Z.wfolioProjectIconProvider}},{group:2.5,id:re.WFOLIO_COPY_PROJECT_URL,icon:function(){return Q.linkIconProvider}},{group:2.5,id:re.WFOLIO_DELETE_PROJECT,icon:function(){return X.wfolioDeleteProjectIconProvider}},{group:3,id:re.DOWNLOAD,icon:function(){return z.downloadIconProvider}},{group:3,id:re.RENAME,icon:function(){return A.renameIconProvider}},{group:3,id:re.MOVE,icon:function(){return L.moveIconProvider}},{group:3,id:re.COPY,icon:function(){return U.copy2IconProvider}},{group:3,id:re.GO_TO_FILE,icon:function(){return H.goToFileIconProvider}},{group:3,id:re.GO_TO_FOLDER,icon:function(){return W.goToFolderIconProvider}},{group:4,id:re.VERSIONS,icon:function(){return B.historyIconProvider}},{group:4,id:re.EXCLUDE_FROM_PERSONAL_ALBUM,icon:function(){return N.unseenIconProvider}},{group:4,id:re.EXCLUDE_FROM_GEO_ALBUM,icon:function(){return N.unseenIconProvider}},{group:4,id:re.EXCLUDE_FROM_ALBUM,icon:function(){return N.unseenIconProvider}},{group:4,id:re.DELETE,icon:function(){return D.trashIconProvider}},{group:4,id:re.REMOVE_FROM_DOCS,icon:function(){return D.trashIconProvider}},{group:5,id:re.RESTORE,icon:function(){return V.restoreIconProvider}},{group:5,id:re.DELETE_FROM_TRASH,icon:function(){return M.trash3IconProvider}},{group:5,id:re.CLEAN_TRASH,icon:function(){return M.trash3IconProvider}}],de=(function(e){h()(n,e);var t=ue(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._getPopupContent=r._getPopupContent.bind(f()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(f()(r)),r._onWindowContextMenu=r._onWindowContextMenu.bind(f()(r)),r._onShareDialogClose=r._onShareDialogClose.bind(f()(r)),r._drawerRef=_.a.createRef(),r}return l()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isPublishing,r=t.isOverdraftDialogOpened,i=t.visible,o=t.onClose;e.visible&&!this.props.visible&&(ie.default.count.apply(ie.default,a()(this.props.metrikaPath).concat(["close"],a()(this.props.metrikaTail))),this._showShareDialogOnPublish=!1),(e.isPublishing&&!n&&i||r&&!e.isOverdraftDialogOpened)&&o()}},{key:"componentDidMount",value:function(){0}},{key:"componentWillUnmount",value:function(){0}},{key:"_onWindowContextMenu",value:function(e){var t;null!==(t=this._drawerRef.current)&&void 0!==t&&t.contains(e.target)&&e.preventDefault()}},{key:"_onCloseBeforeAction",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.querySelector('.listing-item[tabindex="0"]');t&&t.focus(),e&&this.props.onClose()}},{key:"_onMenuItemClick",value:function(e){var t=e.target.value;this._onCloseBeforeAction(t!==re.PUBLISH||this.props.isPublic||this.props.isAddressAccessEnabled),this.props.onAction(t),this._countActionInMetrika(t)}},{key:"_getMetrikaAction",value:function(e){var t=e;return e===re.PUBLISH&&this.props.savedResources.length>1&&(t+=" album"),t}},{key:"_countActionInMetrika",value:function(e){var t=this.props.metrikaPath.concat(this._getMetrikaAction(e));ie.default.count.apply(ie.default,a()(t).concat(a()(this.props.metrikaTail)))}},{key:"_getMenuItems",value:function(){var e,t=this,n=null,r=le.filter((function(e){return t.props.savedActions[e.id]})).filter((function(e){return e.id!==re.VERSIONS||!t.props.savedActions[e.id].disabled})).map((function(e){return Object.assign({title:Object(re.getTitle)(e.id,t.props.savedResources)},e,t.props.savedActions[e.id])})).reduce((function(r,i){var o;if(i.group!==n&&(n=i.group,e&&r.push(_.a.createElement(P.Group,{key:n,paddingless:!0},e)),e=[]),i.id===re.PUBLISH){var a=t.props.isPublishing;1===t.props.savedResources.length&&(a=Boolean(t.props.isPublishing&&!t.props.isPublic)),o=_.a.createElement("span",{className:ce().e("spin-wrapper")},i.title,_.a.createElement(k.Spin,{view:"default",className:ce().e("spin"),size:"xxs",progress:a}))}else o=i.title;return e.push(_.a.createElement(P.Item,{key:i.id,value:i.id,disabled:i.disabled,tabIndex:0,className:ce().e("action").m({type:i.id}),tooltipText:i.tooltipText,icon:i.icon(t.props)},o)),r}),[]);return e&&r.push(_.a.createElement(P.Group,{key:String(n),paddingless:!0},e)),r}},{key:"_getPopupContent",value:function(){return _.a.createElement("div",{className:ce().e("wrapper")},_.a.createElement(P.Menu,{className:ce().e("actions-menu"),view:"default",size:"m",wide:!0,paddingless:!0,onChange:this._onMenuItemClick},this._getMenuItems()))}},{key:"_onShareDialogClose",value:function(){this.props.onClose(),this.setState({isShareDialogVisible:!1,forceShowShareDialog:!1})}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.position,r=e.anchor,o=e.target,a=e.onClose,s=e.direction,u={target:o};return u.direction=s,"anchor"===o?u.anchor=r:(u.position=n,u.motionless=!0),_.a.createElement(_.a.Fragment,null,_.a.createElement(T.Popup,i()({view:"default",className:ce().mix("js-prevent-deselect"),visible:t,onClose:a},u),this._getPopupContent()))}}]),n})(b.Component);de.defaultProps={direction:["bottom-start","bottom-end","top-start","top-end","left"],target:"position",metrikaTail:[]};var fe={saveShareEditMenuExpanded:S.saveShareEditMenuExpanded},pe=Object(O.connect)((function(e,t){var n=e.settings.shareEditMenuExpandedShowed,r=t.savedResources.map((function(e){return e.id})),i=t.savedResources.length?Object(oe.getPublishObjectData)(e,r):{};return Object.assign({},i,{objectIds:r,shouldShowExpandedMenu:"1"!==n,isLinkBlockedForOverdraft:Object(ae.isOverdraftHard)(e)&&i.objectType!==oe.OBJECT_TYPES.ALBUM,isOverdraftDialogOpened:Object(w.isDialogOpened)(e,"overdraft"),isAddressAccessEnabled:Object(se.isAddressAccessShareDialogExp)(e)})}),fe)(de);t.default=x()(Object(ee.default)(pe,["actions","resources"],(function(e){return e.visible}),[{},[]]),E.getSelectedResources)}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M6.4 12l4-4-4-4-.8.8L8.8 8l-3.2 3.2z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(0),o=n(495);function a(e){var t=Object(o.a)();return Object(r.__read)(Object(i.useState)((function(){return e?e+t.replace("xuniq",""):t})),1)[0]}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(53),i=n(71),o=n(43),a=n(287);function s(e,t){var n,s,u,c,l,d,f,p;Object(o.a)(1,arguments);var h=Object(a.a)(),m=Object(i.a)(null!==(n=null!==(s=null!==(u=null!==(c=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==c?c:null===t||void 0===t?void 0:null===(l=t.locale)||void 0===l?void 0:null===(d=l.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==u?u:h.weekStartsOn)&&void 0!==s?s:null===(f=h.locale)||void 0===f?void 0:null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Object(r.a)(e),g=v.getDay(),y=(g<m?7:0)+g-m;return v.setDate(v.getDate()-y),v.setHours(0,0,0,0),v}}),(function(e,t,n){"use strict";t.a=function(e){((function(){var e=document.getElementById("download-iframe");return e||((e=document.createElement("iframe")).id="download-iframe",e.style.display="none",document.body.appendChild(e)),e})()).src=e}}),(function(e,t,n){"use strict";var r=n(827),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=u(t),m=u(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=f(n,g);try{c(t,g,y)}catch(e){}}}}return t}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M6.62 11.205c-2.526 0-4.583-2.056-4.583-4.584 0-2.526 2.057-4.583 4.584-4.583 2.53 0 4.585 2.057 4.585 4.584 0 2.53-2.056 4.585-4.584 4.585zM16 14.56l-4.04-4.04c.803-1.095 1.283-2.44 1.283-3.9 0-3.65-2.97-6.62-6.622-6.62C2.97 0 0 2.97 0 6.62c0 3.652 2.97 6.623 6.62 6.623 1.46 0 2.805-.48 3.9-1.282L14.56 16 16 14.56z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r="size={{width}}x{{height}}",i=1280;t.c=function(e){var t=e.previewBaseUrl,n=e.defaultPreview,i=e.width,o=e.height,a=e.crop,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!i||!o)return n;var c=Math.max(window.devicePixelRatio||1,1),l=i*c,d=o*c,f=s.replace("{{width}}",String(Math.floor(l))).replace("{{height}}",String(Math.floor(d))),p="".concat(t,"&").concat(f);return a&&(p+="&crop=1"),u&&(p+="&retry=1"),p}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.MailProB2c="mail_pro_b2c",e.Family360="family_360"})(t.ProductSetKeys||(t.ProductSetKeys={})),(function(e){e.USD="USD",e.RUB="RUB"})(r=t.Currency||(t.Currency={})),t.CurrencySymbol={[r.USD]:"$",[r.RUB]:"₽"},(function(e){e.month="month",e.year="year",e.day="day"})(t.PaymentPeriod||(t.PaymentPeriod={})),(function(e){e.Autosave="mail_pro_b2c_autosave",e.Backup="mail_b2c_can_use_backup",e.BeautifulEmail="mail_b2c_domain_enabled",e.DiskSpace="mpfs_disk_space",e.IncreasedFileLimit="increased_filesize_limit",e.ExtHistory="mail_pro_b2c_ext_history",e.NoAds="mail_ad_disabled",e.OptInSubs="mail_b2c_can_use_opt_in_subs",e.PrioritySupport="mail_priority_support",e.PublicLinksSettings="public_settings_enabled",e.Smart="mail_smart_enabled",e.UnlimPublicDownload="mail_pro_b2c_unlim_public_download",e.UnlimMobile="mail_pro_b2c_unlim_mobile_video"})(t.ProductFeatureCode||(t.ProductFeatureCode={}))}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(0),v=n.n(m),g=n(16),y=n(11),b=n.n(y),_=n(195),O=n(12);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var w=(function(e){l()(n,e);var t=E(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"getContentSVG",value:function(){return v.a.createElement("path",{fill:"currentColor",d:"M6.71 3.91a1 1 0 0 0-1.415-1.415L.497 7.293a1 1 0 0 0 0 1.414l4.798 4.798A1 1 0 0 0 6.71 12.09l-1.413-1.412a10 10 0 0 0-1.759-1.4l-.747-.469.047-.047.959.137A10 10 0 0 0 5.21 9H15a1 1 0 1 0 0-2H5.21c-.473 0-.946.034-1.414.1l-.96.137-.046-.046.75-.47a10 10 0 0 0 1.756-1.4L6.71 3.91Z"})}}]),n})(O.default),S=Object(O.iconProvider)(w),C=n(26),x=n(360),T=n(1088),P=n.n(T);n(32),n(2060);function k(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var j=function(){return b()()("section-header")},R="large",I="normal",A=(function(e){l()(n,e);var t=k(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getTitle",value:function(){var e=this.props,t=e.title,n=e.emptyTitleText,r=e.onEmptyTitleClick,i=e.titleRightIcon;return!t&&n?v.a.createElement("h1",{className:j().e("title")},v.a.createElement("span",{className:j().e("name"),onClick:r},n,v.a.createElement(x.default,null))):v.a.createElement("h1",{className:j().e("title").m({"with-icon":!!i}),title:t},t)}},{key:"render",value:function(){var e=this.props,t=e.cls,n=e.mode,r=e.titleRightIcon,o=e.titleRef,a=e.onTitleClick;return v.a.createElement("div",{className:j().m(i()({},n,!0)).mix(t)},v.a.createElement("div",{className:j().e("top")},Boolean(this.props.backUrl)&&v.a.createElement(C.Button,{className:j().e("back-button"),view:"clear",size:"s",type:"link","aria-label":"Назад",url:this.props.backUrl,icon:_.backArrowIconProvider}),Boolean(this.props.showPreviousPhoto)&&v.a.createElement(C.Button,{className:j().e("previous-photo-button"),view:"clear",size:"s","aria-label":"Назад",icon:S,onClick:this.props.onPreviousPhotoClick},this.props.showPreviousPhoto),v.a.createElement("div",{onClick:a,ref:o,className:j().e("title-wrapper").m({"with-icon":!!r})},n===I&&this._getTitle(),r),Boolean(this.props.children)&&v.a.createElement("div",{className:j().e("controls-wrapper")},this.props.children)),this.props.showFamilyExpiredNotify&&v.a.createElement(P.a,null),n===R&&this._getTitle())}}]),n})(m.Component);A.defaultProps={mode:I};t.default=Object(g.connect)((function(e){return{showFamilyExpiredNotify:!1}}))(A)}),,(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.NAME="name",e.SIZE="size",e.DATE_LAST_VIEW="date_last_view",e.MTIME="mtime"})(t.SortBy||(t.SortBy={})),(function(e){e.ASC="1",e.DESC="0"})(t.SortOrder||(t.SortOrder={})),(function(e){e.ALL="ALL",e.MY="MY",e.OTHER="OTHER"})(t.FilterType||(t.FilterType={}))}),(function(e,t,n){"use strict";var r=n(399);n.d(t,"a",(function(){return r.a}))}),(function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}}),(function(e,t,n){var r=n(731),i=n(201),o=n(320),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popupRegistry=void 0;var r=n(31),i=n(177),o=n(741);t.popupRegistry=new r.Registry({id:i.cnPopup()}),t.popupRegistry.set("Tail",o.PopupTail)}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(990)),s=i(n(1450)),u=i(n(123)),c=i(n(985)),l=n(28).cn("Dialog");n(1454);const d=e=>o.default.createElement("div",{className:e,dangerouslySetInnerHTML:{__html:c.default}});t.default=(({visible:e,title:t,children:n,onClose:r,zIndexGroupLevel:i,noCloseButton:c,closeI18n:f,useDrawer:p,className:h,bigTitle:m,scope:v,hasAnimation:g,align:y="middle"})=>{o.useEffect(()=>{e&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()},[e]);const b=o.useCallback(()=>r("button"),[r]),_=o.useCallback((e,t)=>r(t),[r]),O=o.default.createElement("div",{className:l("Wrap")},t?o.default.createElement("h2",{className:l("Title")},t):null,c?null:o.default.createElement(u.default,{view:"clear",size:"m",className:l("Close"),onClick:b,"aria-label":f,icon:d}),n);return p?o.default.createElement(s.default,{animation:{tension:230,friction:24},view:"default",visible:e,onClose:r,className:l({bigTitle:m},[h]),scope:v},O):o.default.createElement(a.default,{theme:"normal",visible:e,zIndexGroupLevel:i,onClose:_,className:l({bigTitle:m,align:y},[h]),scope:v,contentVerticalAlign:y,hasAnimation:g},O)})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=t.cnMenu=void 0;var r=n(1),i=r.__importStar(n(0)),o=n(28),a=n(31),s=n(982),u=n(68),c=n(219),l=n(998),d=n(271);n(1486);var f=function(e){return l.flatMap((function(e){return e.items?e.items:e}),e)},p=function(e){return void 0!==e.items},h=function(e){return void 0===e&&(e=0),function(){return e++}};t.cnMenu=o.cn("Menu");var m=(function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hoveredIndex:t.props.focused?0:-1},t.innerRef=i.createRef(),t.itemsRef=[],t.uniqId=s.IS_TESTING?"0":String(Date.now())+Math.floor(1e4*Math.random()),t.mapChildren=function(e,n){var o=e.Item,a=e.Group,s=n.getNextItemCount,u=n.getNextGroupCount,c=n.disabled;return function(e){if(p(e)){var n=u();return i.default.createElement(a,r.__assign({title:e.title,key:"group-"+n},e.unsafe_props),e.items.map(t.mapChildren({Item:o,Group:a},{getNextItemCount:s,getNextGroupCount:u,disabled:c})))}var l=t.props,d=l.value,f=l.view,h=t.state.hoveredIndex,m=[].concat(d),v="default"===f&&void 0!==d,g=s();return t.itemsRef[g]=i.createRef(),i.default.createElement(o,r.__assign({},e.unsafe_props,{id:e.id||"item-"+t.uniqId+"-"+g,key:"item-"+g,"data-key":"item-"+g,needIconGlyph:v,checked:-1!==m.indexOf(e.value),disabled:e.disabled||c,hovered:!c&&h===g,onMouseEnter:t.setHoveredOnMouseEnter,onMouseLeave:t.setHoveredOnMouseLeave,onClick:t.onMenuItemClick,type:void 0===d?d:"option",innerRef:t.itemsRef[g],value:e.value,index:g}),e.content)}},t.onKeyDown=function(e){if(!e.shiftKey&&u.isKeyCode(e.keyCode,[u.Keys.UP,u.Keys.DOWN])){e.preventDefault();var r=e.keyCode-39,i=t.getNextNotDisabledIndex(r);t.triggerOnMenuItemChange(i),n.scrollToItem(t.innerRef,t.itemsRef[i]),t.setState({hoveredIndex:i})}u.isKeyCode(e.keyCode,[u.Keys.ENTER,u.Keys.SPACE])&&(e.preventDefault(),t.triggerOnChange())},t.onMenuItemClick=function(e,n){t.setState({hoveredIndex:n},(function(){t.triggerOnChange()}))},t.setHoveredOnMouseEnter=function(e,n){t.setState({hoveredIndex:n})},t.setHoveredOnMouseLeave=function(e,n){t.setState({hoveredIndex:-1})},t}return r.__extends(n,e),n.prototype.componentDidMount=function(){this.forwardRefs(),this.props.focused&&(this.subscribeToEvents(),this.hoverAndScrollToFirstSelectedElement())},n.prototype.componentDidUpdate=function(e){this.forwardRefs(),!e.focused&&this.props.focused?(this.subscribeToEvents(),this.hoverAndScrollToFirstSelectedElement()):e.focused&&!this.props.focused?(this.setState({hoveredIndex:-1}),this.unsubscribeFromEvents()):this.props.focused&&e.items.length!==this.props.items.length&&this.hoverAndScrollToFirstSelectedElement()},n.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},n.prototype.render=function(){var e=this,n=this.props,o=n.className,s=n.disabled,u=(n.focused,n.items),c=(n.onChange,n.onActiveItemChange,n.value),l=(n.innerRef,n.renderItem),f=r.__rest(n,["className","disabled","focused","items","onChange","onActiveItemChange","value","innerRef","renderItem"]);return i.default.createElement(a.ComponentRegistryConsumer,{id:t.cnMenu()},(function(n){var a=n.Item,p=n.Group;return i.default.createElement(d.RenderOverrideProvider,{component:a,render:l},(function(n){var a=h(),l=h();return i.default.createElement("div",r.__assign({},f,{ref:e.innerRef,"aria-disabled":s,"aria-multiselectable":Array.isArray(c),role:void 0!==c?"listbox":void 0,className:t.cnMenu(null,[o])}),u.map(e.mapChildren({Item:n,Group:p},{getNextItemCount:a,getNextGroupCount:l,disabled:s})))}))}))},n.prototype.forwardRefs=function(){c.mergeRefs(this.innerRef,this.props.innerRef)},n.scrollToItem=function(e,t){if(null!==e.current&&void 0!==t&&null!==t.current){var n,r=e.current.getBoundingClientRect().top,i=t.current.getBoundingClientRect().top;i<r?n=i-r:(n=i+t.current.offsetHeight-r-e.current.offsetHeight)<0&&(n=0),e.current.scrollTop=e.current.scrollTop+n}},n.prototype.subscribeToEvents=function(){document.addEventListener("keydown",this.onKeyDown,!0)},n.prototype.unsubscribeFromEvents=function(){document.removeEventListener("keydown",this.onKeyDown,!0)},n.prototype.hoverAndScrollToFirstSelectedElement=function(){var e=[].concat(this.props.value),t=f(this.props.items).reduce((function(t,n,r){return t<0&&-1!==e.indexOf(n.value)?r:t}),-1);n.scrollToItem(this.innerRef,this.itemsRef[t]),this.setState({hoveredIndex:t<0?0:t})},n.prototype.getNextNotDisabledIndex=function(e){for(var t=this.state.hoveredIndex,n=0,r=f(this.props.items);n<r.length&&(n++,(t+=e)<0&&(t=r.length-1),t>=r.length&&(t=0),r[t].disabled););return t},n.prototype.triggerOnMenuItemChange=function(e){var t=this.props.onActiveItemChange;if(void 0!==t&&null!==this.innerRef.current){var n=this.innerRef.current.querySelector('[data-key="item-'+e+'"]');n&&t(n.id)}},n.prototype.triggerOnChange=function(){var e=this.props,t=e.onChange,n=e.value,i=this.state.hoveredIndex;if(void 0!==t){var o=f(this.props.items),a=-1===i?"":o[i].value;if(Array.isArray(n)){var s=r.__spread(n);-1!==s.indexOf(a)?s=s.filter((function(e){return e!==a})):s.push(a),a=s}t({target:{value:a}})}},n.displayName=t.cnMenu(),n})(i.PureComponent);t.Menu=m}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=t.cnIcon=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(28);n(1492),t.cnIcon=o.cn("Icon");t.Icon=function(e){var n=e.direction,o=e.size,a=e.url,s=e.style,u=void 0===s?{}:s,c=e.children,l=e.title,d=e.onClick,f=(e.type,e.glyph,r.__rest(e,["direction","size","url","style","children","title","onClick","type","glyph"])),p=t.cnIcon({direction:n,size:o},[f.className]);return void 0!==a&&(u.backgroundImage="url('"+a+"')"),i.default.createElement("span",r.__assign({},f,{"aria-hidden":!0,className:p,style:u,title:l,onClick:d}),c)},t.Icon.displayName=t.cnIcon()}),(function(e,t,n){"use strict";n.r(t);var r=n(250);n.d(t,"initialContextValue",(function(){return r.c})),n.d(t,"SSRContext",(function(){return r.a})),n.d(t,"SSRProvider",(function(){return r.b}))}),(function(e,t,n){"use strict";n.r(t);var r=n(495);n.d(t,"useUniqId",(function(){return r.a}))}),(function(e,t,n){var r=n(756),i=n(768),o=n(770),a=n(771),s=n(772);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u}),(function(e,t){e.exports=function(e){return e}}),(function(e,t,n){var r=n(462),i=n(323),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}}),(function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;const r=n(3),i=n(260);t.Text=r.compose(r.composeU(i.withTypographyBodyShortS,i.withTypographyBodyShortM,i.withTypographyBodyShortL,i.withTypographyBodyShortXL,i.withTypographyBodyLongXL,i.withTypographyBodyLongM,i.withTypographySubheaderM,i.withTypographySubheaderL,i.withTypographySubheaderXL,i.withTypographyHeadlineL),r.composeU(i.withWeightMedium,i.withWeightBold))(i.Text)}),(function(e,t,n){"use strict"}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(16),o=n(830),a=n(234);t.useSelectors=(e=>{var t;const n=r.useCallback(t=>o.getPublicSettings(t,e),[e]),s=r.useCallback(t=>o.getAvailableSettings(t,e),[e]),u=r.useCallback(t=>o.getIsLoading(t,e),[e]),c=r.useCallback(t=>o.getIsUpdatingSettings(t,e),[e]),l=r.useCallback(t=>o.getIsSettingPrivate(t,e),[e]),d=r.useCallback(t=>o.getExternalEmails(t,e),[e]),f=i.useSelector(n),p=i.useSelector(s);return{publicSettings:f,availablePublicSettings:p,isLoading:i.useSelector(u),isUpdatingSettings:i.useSelector(c),isSettingPrivate:i.useSelector(l),externalEmails:i.useSelector(d),isEditAllowed:null===(t=null===p||void 0===p?void 0:p.permissions)||void 0===t?void 0:t.includes(a.Permission.Write)}})}),(function(e,t,n){"use strict";n.r(t);var r=n(60),i=n(236),o=n(237),a=n(238),s=n(239),u=n(240),c=n(241),l=n(242),d=n(243);n.d(t,"cnLink",(function(){return r.b})),n.d(t,"Link",(function(){return r.a})),n.d(t,"withPseudo",(function(){return i.a})),n.d(t,"withThemeBlack",(function(){return o.a})),n.d(t,"withThemeGhost",(function(){return a.a})),n.d(t,"withThemeNormal",(function(){return s.a})),n.d(t,"withThemeOuter",(function(){return u.a})),n.d(t,"withThemePseudo",(function(){return c.a})),n.d(t,"withThemeStrong",(function(){return l.a})),n.d(t,"withViewDefault",(function(){return d.a}))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(1),i=n(0),o=n.n(i),a=n(28),s=n(930),u=n(399),c=n(282),l=n(283),d=(n(1447),Object(a.cn)("Modal")),f=function(e){var t=e.children,n=e.className,a=e.contentVerticalAlign,f=void 0===a?"middle":a,p=e.hasAnimation,h=void 0===p||p,m=e.innerRef,v=e.keepMounted,g=e.onClose,y=e.preventBodyScroll,b=void 0===y||y,_=e.scope,O=e.visible,E=e.zIndex,w=e.trapFocus,S=void 0===w||w,C=e.autoFocus,x=void 0===C||C,T=e.restoreFocus,P=void 0===T||T,k=e.restoreFocusRef,j=e.ariaLabelledBy,R=Object(r.__rest)(e,["children","className","contentVerticalAlign","hasAnimation","innerRef","keepMounted","onClose","preventBodyScroll","scope","visible","zIndex","trapFocus","autoFocus","restoreFocus","restoreFocusRef","ariaLabelledBy"]),I=Object(i.useRef)(null);return Object(s.a)({enabled:b&&O}),Object(u.a)({enabled:S&&O,scopeRef:I,autoFocus:x,restoreFocus:P,restoreFocusRef:k}),Object(c.a)({visible:O,onClose:g,essentialRefs:[I],unsafe_strategy:"pressup"}),o.a.createElement(l.a,{scope:_,visible:O,keepMounted:v},o.a.createElement("div",Object(r.__assign)({},R,{ref:m,className:d({visible:O,hasAnimation:h},[n]),style:{zIndex:E}}),o.a.createElement("div",{className:d("Overlay")}),o.a.createElement("div",{className:d("Wrapper")},o.a.createElement("div",{className:d("Table")},o.a.createElement("div",{className:d("Cell",{align:f})},o.a.createElement("div",{ref:I,className:d("Content"),tabIndex:-1,role:"dialog","aria-labelledby":j,"aria-modal":!0},t))))))};f.displayName=d()}),(function(e,t,n){var r=$(window),i=$("html, body"),o=n(34),a=e.exports={scrollListingToNode:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.scrollListingToPosition(e.offset().top,{itemHeight:e.outerHeight(),extraOffsetTop:t,animate:n})},scrollListingToPosition:function(e,t){var n=t.itemHeight,i=t.extraOffsetTop,s=t.animate,u=o.ROOT_CONTENT_TOP;i&&(u+=i);var c=r.outerHeight()||0,l=r.scrollTop()||0;if(!(e>l+u)||!(e+n<c+l)){var d=e-u;a.scrollTo(d,s)}},scrollTo:function(e,t){t?i.animate({scrollTop:e}):i.scrollTop(e)}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getPromoPicturesByNames=t.getPromoImageWithColor=t.getPromoImage=t.findImage=t.calculateWeight=t.calculateWeightForLang=void 0;const i=r(n(1724)),o=n(541),a=n(1050),s=n(1054);t.calculateWeightForLang=((e,t)=>{if(e.lang===t)return 1;let n=a.fallbacks[t],r=.5;for(;n;){if(e.lang===n)return r;n=a.fallbacks[n],r/=2}return e.lang===o.whatever?0:NaN});t.calculateWeight=((e,t,n)=>n&&e[t]!==n?e[t]===o.whatever?0:NaN:1);t.findImage=((e,n)=>{const r=e.map(e=>({weight:t.calculateWeight(e,"platform",n.platform)+t.calculateWeight(e,"theme",n.themeType)+t.calculateWeightForLang(e,n.lang)+t.calculateWeight(e,"orientation",n.orientation),image:e})).filter(({weight:e})=>!isNaN(e));if(r.length)return i.default(r,({weight:e})=>-1*e)[0].image});t.getPromoImage=((e,n,r)=>{var i;let o;return(o=e&&e.length?null===(i=t.findImage(e,n))||void 0===i?void 0:i.urls:null===r||void 0===r?void 0:r[n.themeType])?s.getSrcsForImage(o):void 0});t.getPromoImageWithColor=((e,n,r,i)=>{let o,a;if(e&&e.length){const r=t.findImage(e,n);o=null===r||void 0===r?void 0:r.urls,a=null===r||void 0===r?void 0:r.color}else o=null===r||void 0===r?void 0:r[n.themeType];return a=a||i,{image:o?s.getSrcsForImage(o):void 0,color:a}});t.getPromoPicturesByNames=((e,t)=>t&&e?e.filter(e=>t.includes(e.name)):[])}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(831),n(832);var r={color:"ps-light",root:"ps-light"}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"ignoreClicksSelectorBase",(function(){return N})),n.d(t,"getListingViewProps",(function(){return L})),n.d(t,"Listing",(function(){return U}));var r=n(103),i=n.n(r),o=n(8),a=n.n(o),s=n(33),u=n.n(s),c=n(10),l=n.n(c),d=n(22),f=n.n(d),p=n(4),h=n.n(p),m=n(5),v=n.n(m),g=n(6),y=n.n(g),b=n(7),_=n.n(b),O=n(2),E=n.n(O),w=n(0),S=n.n(w),C=n(157),x=n(364),T=n(45),P=n(38),k=n.n(P),j=n(581),R=(n(2050),n(11)),I=n.n(R);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=E()(e);if(t){var i=E()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _()(this,n)}}var M=function(){return I()()("listing")},N=".Button2, .Popup2, .Modal",L=function(e){switch(e){case"tile":return{theme:"tile",size:"l"};case"icons":return{theme:"tile",size:"m"};default:return{theme:"row"}}},F=(function(e){y()(n,e);var t=D(n);function n(e){var r;return h()(this,n),(r=t.call(this,e)).itemsRef={},r.itemsIds=[],r.focusedItemIndex=0,r}return v()(n,[{key:"_getEmptyItems",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",n=[];e;)n.push(S.a.createElement(C.default,{theme:"tile-empty",size:this.props.size,key:"".concat(t,"-").concat(e)})),e--;return n}},{key:"_handleKeyDown",value:function(e,t,n){var r=this.props,i=r.theme,o=r.goToParent;if(o&&e.keyCode===k.a.KEYS.BACKSPACE&&o(),"tile"===i){var a=this.props.getInteractedItemParams(n).columnsCount;e.keyCode===k.a.KEYS.UP&&(this.itemsRef[this.itemsIds[t-a]]?this.itemsRef[this.itemsIds[t-a]].focus():this.itemsRef[this.itemsIds[0]]&&this.itemsRef[this.itemsIds[0]].focus()),e.keyCode===k.a.KEYS.DOWN&&(this.itemsRef[this.itemsIds[t+a]]?this.itemsRef[this.itemsIds[t+a]].focus():this.itemsRef[this.itemsIds[this.itemsIds.length-1]]&&this.itemsRef[this.itemsIds[this.itemsIds.length-1]].focus()),e.keyCode===k.a.KEYS.LEFT&&this.itemsRef[this.itemsIds[t-1]]&&this.itemsRef[this.itemsIds[t-1]].focus(),e.keyCode===k.a.KEYS.RIGHT&&this.itemsRef[this.itemsIds[t+1]]&&this.itemsRef[this.itemsIds[t+1]].focus()}else e.keyCode===k.a.KEYS.UP&&this.itemsRef[this.itemsIds[t-1]]&&this.itemsRef[this.itemsIds[t-1]].focus(),e.keyCode===k.a.KEYS.DOWN&&this.itemsRef[this.itemsIds[t+1]]&&this.itemsRef[this.itemsIds[t+1]].focus()}},{key:"_onFocus",value:function(e){this.focusedItemIndex!==e&&(this.itemsRef[this.itemsIds[this.focusedItemIndex]]&&this.itemsRef[this.itemsIds[this.focusedItemIndex]].setAttribute("tabindex",-1),this.itemsRef[this.itemsIds[e]]&&this.itemsRef[this.itemsIds[e]].setAttribute("tabindex",0),this.focusedItemIndex=e)}},{key:"_focusElement",value:function(){this.props.resources&&this.props.resources.length&&this.itemsIds[this.focusedItemIndex]&&this.itemsRef[this.itemsIds[this.focusedItemIndex]]&&(document.body.classList.contains("pointerfocus")&&document.dispatchEvent(new CustomEvent("pointerdown")),this.itemsRef[this.itemsIds[this.focusedItemIndex]].focus())}},{key:"_resourceChangedOrLoaded",value:function(e,t){var n;return t.currentResourceId!==e.currentResourceId||!(null!==(n=e.resources)&&void 0!==n&&n.length)&&t.resources!==e.resources}},{key:"componentWillReceiveProps",value:function(e){this._resourceChangedOrLoaded(this.props,e)&&(this.focusedItemIndex=0)}},{key:"componentDidUpdate",value:function(e){this._resourceChangedOrLoaded(e,this.props)&&this._focusElement()}},{key:"componentDidMount",value:function(){this._focusElement()}},{key:"render",value:function(){var e=this,t=this.props,n=t.getGroup,r=t.resources,i=t.theme,o=t.getItemProps,a=t.renderItem,s=null,c=[];this.itemsIds=r.map((function(e){return e.id}));for(var d=function(t){var d=r[t];if(n){var p=n(d);s&&s.id===p.id||(s&&"tile"===i&&c.push.apply(c,f()(e._getEmptyItems(15,s.id))),c.push(S.a.createElement("h2",{key:"group-".concat(p.id),className:M().e("group-title")},S.a.createElement("span",{className:T.LISTING_PREVENT_MOUSE_SELECTION_CLASS},p.title))),s=p)}var h=(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({onKeyDown:function(n){return e._handleKeyDown(n,t,d.id)},onFocus:function(){return e._onFocus(t)},tabIndex:t===e.focusedItemIndex?0:-1},o(d,t)),m=a?a(h):S.a.createElement(C.default,u()({key:h.id},h,{resourceRef:function(t,n){n?e.itemsRef[t]=n:delete e.itemsRef[t],h.resourceRef&&h.resourceRef(t,n)}}));c.push(m)},p=0;p<r.length;p++)d(p);return"tile"===i&&c.push.apply(c,f()(this._getEmptyItems(15))),S.a.createElement("div",{className:M().e("items")},c)}}]),n})(w.PureComponent),B=function(e,t){return t.theme!==e.theme||t.size!==e.size||t.resources.length!==e.resources.length},U=(function(e){y()(n,e);var t=D(n);function n(e){var r;return h()(this,n),(r=t.call(this,e)).state={titleWidth:r._getTitleWidth()},r._itemsRefs=new Map,r._getInteractedItemParams=r._getInteractedItemParams.bind(a()(r)),r._getItemProps=r._getItemProps.bind(a()(r)),r._resourceRef=r._resourceRef.bind(a()(r)),r._onOpenResource=r._onOpenResource.bind(a()(r)),r._updateTitleSize=r._updateTitleSize.bind(a()(r)),r._setContainerRef=r._setContainerRef.bind(a()(r)),r._onSelectResource=r._onSelectResource.bind(a()(r)),r._onContextMenu=r._onContextMenu.bind(a()(r)),r._isDoubleClick=!1,r}return v()(n,[{key:"componentDidMount",value:function(){"clamp"===this.props.titleOverflow&&this._initClamp(),this._updateResourcesCoordinates()}},{key:"componentWillUnmount",value:function(){"clamp"===this.props.titleOverflow&&window.removeEventListener("resize",this._updateTitleSize)}},{key:"getSnapshotBeforeUpdate",value:function(){return window.scrollY}},{key:"componentDidUpdate",value:function(e,t,n){this.props.saveScrollAfterUpdate&&window.scrollTo(0,n),B(e,this.props)&&this._updateResourcesCoordinates(),"clamp"===this.props.titleOverflow?"clamp"===e.titleOverflow&&this.props.theme===e.theme&&this.props.size===e.size&&this.props.resources.length===e.resources.length||(this._wasClampInited=!1,this._initClamp()):"clamp"===e.titleOverflow&&(window.removeEventListener("resize",this._updateTitleSize),this._wasClampInited=!1),this.props.resources.length&&"clamp"===this.props.titleOverflow&&!this._wasClampInited&&this._initClamp()}},{key:"_setContainerRef",value:function(e){this._containerRef=e,this.props.containerRef&&this.props.containerRef(e)}},{key:"_updateResourcesCoordinates",value:function(){this.props.withMouseSelection&&f()(this._itemsRefs.entries()).forEach((function(e){var t=i()(e,2)[1],n=t.ref;t.coordinates=Object(x.b)(n)}))}},{key:"_initClamp",value:function(){var e=this;if(this.props.resources.length){if(this._updateTitleSize(),this.props.animatedContainerSelector){var t=document.querySelector(this.props.animatedContainerSelector);if(t){t.addEventListener("animationend",(function n(){e._updateTitleSize(),t.removeEventListener("animationend",n)}))}}window.addEventListener("resize",this._updateTitleSize),this._wasClampInited=!0}}},{key:"_getTitleWidth",value:function(){var e=this._firstItemTitleNode&&this._firstItemTitleNode.getBoundingClientRect().width;return e||(this.state&&this.state.titleWidth?this.state.titleWidth:"tile"===this.props.theme?"l"===this.props.size?145:90:0)}},{key:"_updateTitleSize",value:function(){var e=this._getTitleWidth();this.state.titleWidth!==e&&this.setState({titleWidth:e})}},{key:"updateItemsInfo",value:function(){this._updateResourcesCoordinates()}},{key:"getItemInfo",value:function(e){return this._itemsRefs.get(e)}},{key:"getItemsInfo",value:function(){return this._itemsRefs}},{key:"_getInteractedItemParams",value:function(e){var t=this.props.resources.findIndex((function(t){return t.id===e}));if("tile"===this.props.theme){var n=Math.floor(this._containerRef.clientWidth/this.getItemInfo(e).ref.clientWidth);return{columnsCount:n,row:Math.floor(t/n)+1,column:t%n+1}}if("row"===this.props.theme)return{position:t+1}}},{key:"_resourceRef",value:function(e,t){t?this._itemsRefs.has(e)||this._itemsRefs.set(e,{ref:t,coordinates:{}}):this._itemsRefs.has(e)&&this._itemsRefs.delete(e)}},{key:"_onSelectResource",value:function(e){var t=this,n=this.props,r=n.onSelectResource,i=n.onResourceAction;this._isDoubleClick=!1;for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];r.apply(void 0,[e].concat(a)),i&&setTimeout((function(){t._isDoubleClick||i(e,"resource-select",t._getInteractedItemParams(e))}),P.DOUBLE_CLICK_DELAY)}},{key:"_onOpenResource",value:function(e,t){var n=this.props,r=n.onResourceOpen,i=n.onResourceAction;this._isDoubleClick=!0,r(e,t),i&&i(e,"resource-open",this._getInteractedItemParams(e))}},{key:"_onContextMenu",value:function(e){for(var t=this.props,n=t.onResourceContextMenu,r=t.onResourceAction,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];n.apply(void 0,[e].concat(o)),r&&r(e,"resource-context-menu",this._getInteractedItemParams(e))}},{key:"_getItemProps",value:function(e,t){var n=this;if(!e)return null;var r=this.props,i=r.mods,o=r.theme,a=r.size,s=r.isTouch,u=r.titleOverflow,c=r.currentResource,l=r.onPlayVideoClick,d=r.useRealDevicePixelRatio,f=r.getAdditionalFields,p=r.getResourceClassName,h=r.previewRumId,m=r.onImageLoadSuccess,v=r.onImageLoadError,g=r.openOnSingleClick,y=r.supportDoubleClick,b=r.ignoreClicksSelector,_=r.highlightedResources,O=r.isResourceDisabled,E=r.isMacSafari,w=r.touchContextMenu,S=r.elementTiming,C=Object.assign({},e,{listingMods:i,additionalFields:f(e),cls:p(e),theme:o,size:a,titleOverflow:u,useRealDevicePixelRatio:d,isTouch:s,resourceRef:this._resourceRef,onPlayVideoClick:l,previewRumId:h,onImageLoadSuccess:m,onImageLoadError:v,openOnSingleClick:g,supportDoubleClick:y,ignoreClicksSelector:b,isDisabled:O,isMacSafari:E,touchContextMenu:w,elementTiming:S}),x=e.state&&e.state.disabled;return C.cls=[C.cls,T.LISTING_PREVENT_DESELECT_CLASS].filter(Boolean).join(" "),c&&c.id===e.id?(C.onClick=this.props.onCurrentResourceClick,C.modifier="current"):(C.onOpen=this._onOpenResource,this.props.isSelectable&&(C.selectOnClick=s&&this.props.isSelectable&&this.props.selectedResources.length>0,C.onSelect=this._onSelectResource),!this.props.onContextMenu||s&&!w||(C.onContextMenu=this._onContextMenu),C.selected=!x&&this.props.selectedResources.includes(e.id),C.highlighted=_&&_.includes(e.id)),"clamp"===u&&(C.titleWidth=this.state.titleWidth,0===t&&(C.titleNodeRef=function(e){n._firstItemTitleNode=e})),C}},{key:"render",value:function(){var e=this.props,t=e.resources,n=e.selectedResources,r=e.highlightedResources,i=e.theme,o=e.size,a=e.completed,s=e.mods,c=e.goToParent,l=e.getGroup,d=e.renderItem,f=e.currentResource,p=e.currentResourceId,h=this._getItemProps(f),m={resources:t,currentResourceId:p,theme:i,size:o,goToParent:c,getGroup:l,renderItem:d,selectedResources:n,highlightedResources:r};return S.a.createElement("div",{className:M().m(Object.assign({},s,{theme:i,completed:a})).mix(this.props.cls),ref:this._setContainerRef},h&&S.a.createElement(C.default,h),S.a.createElement(F,u()({},m,{getInteractedItemParams:this._getInteractedItemParams,getItemProps:this._getItemProps,titleWidth:this.state.titleWidth})))}}]),n})(w.PureComponent),z=function(){};U.defaultProps={theme:"row",size:"m",isSelectable:!1,isMultiSelectable:!0,selectedResources:[],getAdditionalFields:z,getResourceClassName:z,requestFetchNext:z,onResourceOpen:z,onSelectionChanged:z,onCurrentResourceClick:z,onImageLoadSuccess:z,onImageLoadError:z};var V=Object(j.a)(U,B,["getItemsInfo","getItemInfo","updateItemsInfo"]);t.default=V}),(function(e,t,n){"use strict";var r=n(0);function i(e,t){var n=function(e){return t(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},r=n;return r.acceptNode=n,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,r,!1)}var o=["input","select","textarea","button","a[href]","area[href]","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"].join(","),a=null;function s(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?"true"===e.contentEditable?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}function u(e){return"INPUT"===e.tagName}function c(e){return u(e)&&"radio"===e.type}function l(e){if(!e.name)return!0;var t=(function(e){return e.checked?e:i(e.form||e.ownerDocument,(function(t){var n=t;return c(n)&&n.name===e.name&&n.checked&&n.form===e.form})).nextNode()})(e);return!t||t===e}function d(e){return!(!(function(e,t){return!!a&&a.call(e,t)})(e,o)||c(e)&&!l(e)||(function(e){return u(e)&&"hidden"===e.type})(e))&&(s(e)>=0&&!e.disabled&&!(function(e){if("hidden"===window.getComputedStyle(e).visibility)return!0;for(var t=e;t;){if("none"===window.getComputedStyle(t).display)return!0;t=t.parentElement}return!1})(e))}function f(e,t){for(var n=i(e,(function(e){var n=d(e);return t?n&&t(e):n})),r=[],o=[],a=0;n.nextNode();){var u=n.currentNode;0===s(u)?o.push(u):r.push({index:a++,tabIndex:s(u),node:u})}return r.sort((function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(o)}"undefined"!=typeof Element&&(a=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);var p,h=n(1),m="focusTrapGuard",v=null;function g(){return document.activeElement}function y(e,t){return e.contains(t)}function b(e){var t=document.createElement("span");return t.tabIndex=e,Object.assign(t.style,{width:"1px",height:0,padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"}),t.setAttribute("aria-hidden","true"),t.dataset[m]="true",t}function _(e){return Boolean(e.dataset[m])}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function E(e){if(function(){if(null===v){v=!1;try{document.createElement("div").focus({get preventScroll(){return v=!0,!0}})}catch(e){}}return v}())e.focus({preventScroll:!0});else{var t=(function(e){for(var t=[],n=document.scrollingElement||document.documentElement,r=e.parentNode;r instanceof HTMLElement&&r!==n;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;return n instanceof HTMLElement&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),t})(e);e.focus(),(function(e){var t,n;try{for(var r=Object(h.__values)(e),i=r.next();!i.done;i=r.next()){var o=i.value,a=o.element,s=o.scrollTop,u=o.scrollLeft;a.scrollTop=s,a.scrollLeft=u}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})(t)}}function w(e,t){if(e)try{t?E(e):e.focus()}catch(e){}}!(function(e){e[e.None=0]="None",e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(p||(p={}));var S=(function(){function e(){this.instances=[],this.direction=p.None,this.lastActiveElement=null,this.onDocumentFocusIn=this.onDocumentFocusIn.bind(this),this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this),this.onMouseDown=this.onMouseDown.bind(this)}return e.getInstance=function(){return this.manager||(this.manager=new e),this.manager},e.prototype.activate=function(e){this.preventLastFocusIn(),0===this.instances.length&&this.attachEvents(),this.instances.push(e),this.autoFocus(e)},e.prototype.deactivate=function(e){this.preventLastFocusIn(),this.instances=this.instances.filter((function(t){return t!==e})),0===this.instances.length&&this.detachEvents()},e.prototype.autoFocus=function(e){var t=e.getScope(),n=e.getOptions().autoFocus,r=g();!n||r&&y(t,r)||(!(function(e){w(Object(h.__read)(f(e,(function(e){return!_(e)})),1)[0])})(t),this.focusScope(t))},e.prototype.focusScope=function(e){var t=g();t&&y(e,t)||w(e,!0)},e.prototype.checkFocusInCurrentScope=function(){var e=this.instances[this.instances.length-1];e&&this.checkFocusIn(e)},e.prototype.preventLastFocusIn=function(){this.raf&&cancelAnimationFrame(this.raf)},e.prototype.checkFocusIn=function(e){var t=e.getScope(),n=this.direction,r=this.lastActiveElement,i=g();if(this.lastActiveElement=i,this.direction=p.None,i&&g()!==document.body&&!y(t,i)){var o=f(t,(function(e){return!_(e)})),a=o.indexOf(i);if(0===o.length)this.focusScope(t);else if(-1===a){w(o[(function(e,t,n){return-1===e?0:t>0?(t+e+n)%t:-1})(r?o.indexOf(r):-1,o.length,n)])}}},e.prototype.attachEvents=function(){document.addEventListener("focusin",this.onDocumentFocusIn,!0),document.addEventListener("keydown",this.onDocumentKeyDown,!0),document.addEventListener("mousedown",this.onMouseDown,!0)},e.prototype.detachEvents=function(){document.removeEventListener("focusin",this.onDocumentFocusIn,!0),document.removeEventListener("keydown",this.onDocumentKeyDown,!0),document.removeEventListener("mousedown",this.onMouseDown,!0)},e.prototype.onDocumentFocusIn=function(){var e=this;this.raf=requestAnimationFrame((function(){e.checkFocusInCurrentScope()}))},e.prototype.onDocumentKeyDown=function(e){"Tab"!==e.key||e.altKey||e.ctrlKey||e.metaKey||(this.direction=e.shiftKey?p.Backward:p.Forward)},e.prototype.onMouseDown=function(){this.direction=p.None},e})(),C=(function(){function e(e,t,n){void 0===n&&(n={}),this.options={autoFocus:!0},this.active=!1,this.cleanupFns=[],this.manager=e,this.scope=t,this.setOptions(n)}return e.prototype.getScope=function(){return this.scope},e.prototype.activate=function(){this.active||(this.active=!0,this.attachGuards(),this.activateInManager())},e.prototype.deactivate=function(){this.active&&(this.active=!1,this.cleanupFns.forEach((function(e){return e()})),this.cleanupFns=[])},e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e){this.options=Object(h.__assign)(Object(h.__assign)({},this.options),e)},e.prototype.attachGuards=function(){var e=b(1),t=b(0);this.scope.insertAdjacentElement("beforebegin",e),this.scope.insertAdjacentElement("afterend",t),this.cleanupFns.push((function(){O(e),O(t)}))},e.prototype.activateInManager=function(){var e=this;this.manager.activate(this),this.cleanupFns.push((function(){e.manager.deactivate(e)}))},e})();var x=n(1360),T=n(75);function P(e){var t=e.scopeRef,n=e.enabled,i=e.restoreFocusRef,o=e.restoreFocus,a=void 0===o||o,s=e.autoFocus,u=void 0===s||s,c=Object(r.useRef)(null),l=Object(r.useRef)(null),d=Object(r.useMemo)((function(){return{autoFocus:u}}),[u]);Object(r.useEffect)((function(){c.current&&c.current.setOptions(d)}),[d]),Object(x.a)((function(){l.current!==t.current&&(l.current=t.current,c.current&&(c.current.deactivate(),c.current=null),l.current&&(c.current=(function(e,t){void 0===t&&(t={});var n=S.getInstance();return new C(n,e,t)})(l.current,d),n&&c.current.activate()))})),Object(x.a)((function(){if(n&&c.current)return c.current.activate(),function(){c.current&&c.current.deactivate()}}),[n]),(function(e){var t=e.enabled,n=e.restoreFocusRef,i=Object(r.useRef)(null),o=Object(r.useRef)(null);t&&!i.current&&(i.current=Object(T.a)()?document.activeElement:null),Object(r.useEffect)((function(){o.current=n?n.current:null})),Object(r.useEffect)((function(){if(t)return function(){var e=o.current||i.current;i.current=null,o.current=null,e&&e.focus&&document.body.contains(e)&&e!==document.activeElement&&e.focus()}}),[t])})({enabled:n&&a,restoreFocusRef:i})}n.d(t,"a",(function(){return P}))}),(function(e,t,n){var r=n(9),i=e.exports=function(){};no.inherit(i,ns.Model,{isValid:no.true,_init:function(e,t){var n=ns.Model.prototype._init.call(this,e,t),i=this.info.defaults||{};return i&&(i=r.isFunction(i)?i.call(this,t):i,ns.Model.prototype.setData.call(this,i)),n}}),i.define=function(e,t){return ns.Model.define(e,t,i)}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1336),t),i(n(1337),t),i(n(1338),t),i(n(1339),t),i(n(1340),t),i(n(1341),t)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"TRASH_ID",(function(){return l})),n.d(t,"onSuccessCleanTrash",(function(){return d})),n.d(t,"onFailedCleanTrash",(function(){return f})),n.d(t,"onRequestCleanTrash",(function(){return p})),n.d(t,"startOperationCleanTrash",(function(){return h})),n.d(t,"submitCleanTrash",(function(){return m})),n.d(t,"doCleanTrash",(function(){return v}));var r=n(40),i=n(42),o=n(48),a=n(15),s=n(52),u=n(153),c=n(24),l="/trash",d=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).idSrc;return function(n){t&&Object(c.isVirtualDiskTrash)(t)?n(Object(u.fetchVdSpace)(Object(c.getVdHash)(t))):(n(Object(u.updateUserInfoForOverdraft)()),n(Object(u.fetchSpace)())),n(Object(a.destroyChildren)(t||l)),n(Object(o.f)(o.a.REMOVE,o.b.CLEAN_TRASH,{idSrc:t})),n(Object(i.notify)({operation:"cleanTrash",status:"done"})),e&&Ya.Rum.sendDelta("operation.cleanTrash",Date.now()-e)}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){t(Object(o.f)(o.a.REMOVE,o.b.CLEAN_TRASH,e)),t(Object(i.notify)({operation:"cleanTrash",status:"failed"}))}},p=function(e,t,n){return function(r){return Object(o.d)(e).then((function(){r(d(t,n))})).catch((function(){r(f(n))}))}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){t(Object(o.f)(o.a.ADD,o.b.CLEAN_TRASH,e))}},m=function(e){var t=e.id;return function(e){var n={idSrc:t};e(h(n));var i=Date.now(),o=Object(c.isVirtualDiskTrash)(t)?{vdHash:Object(c.getVdHash)(t)}:void 0;return Object(r.a)("do-clean-trash",o).then((function(t){var r=t.oid;return e(p(r,i,n))})).catch((function(){e(f(n))}))}},v=function(e){var t=e.id;return function(e){e(Object(s.add)("confirmation",{dialogParams:{title:"Очистка Корзины",text:"".concat("Содержимое Корзины будет удалено без возможности восстановления.","\n").concat("Вы уверены?"),submitButtonText:"Очистить"},onSubmit:function(){e(m({id:t}))},onReject:function(){}}))}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"fetchUserInfo",(function(){return c})),n.d(t,"updateUserEditor",(function(){return l})),n.d(t,"remoteChangeUserOverdraftStatus",(function(){return d}));var r=n(9),i=n.n(r),o=n(29),a=n(59),s=n(40),u=n(95),c=function(){return function(e){return Object(s.a)("do-get-user-info").then((function(t){e(Object(o.updateUser)(t))}))}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){return Object(u.api)("mpfs/user-update-editor",{useNewEditor:e}).then((function(){location.reload()}))}},d=function(e){return function(t){var n=i.a.get(e,"root.parameters");t(Object(a.updateSettings)({closedOverdraftBlock:!0})),t(Object(a.updateSettings)({closedOverdraftScreen:!0})),t(Object(o.updateUser)({overdraft_status:n.overdraft_status,overdraft_block_date:n.overdraft_block_date}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeReload=(()=>{const e=document.cookie.match(/reloadsCount=(\d+)/),t=e?Number(e[1]):0;if(t>2)return;const n=new Date;n.setHours(n.getHours()+1),document.cookie=`reloadsCount=${t+1}; expires=${n}; path=/; Secure; SameSite=Lax`,location.reload()})}),(function(e,t,n){"use strict";var r,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(9)),a=n(190),s=n(100),u=n(295);const c=s.createSlice({name:"journals",initialState:{},reducers:{initJournal(e,t){const n=Date.now(),{id:r,filters:i={}}=t.payload;e[r]={error:void 0,journal:void 0,state:u.JournalState.created,updatedAt:n,filters:Object.assign(Object.assign({},a.getDefaultFilters(n)),i)}},fetchJournalGroup(e,t){const{payload:{id:n,groupId:r}}=t,i=a.getGroupById(e[n].journal,r);i&&(i.fetching=!0)},fetchJournal(e,t){const{id:n,append:r}=t.payload,{state:i}=e[n];r&&i!==u.JournalState.fetched||(e[n].state=r?u.JournalState.appending:u.JournalState.fetching)},fetchJournalFailed(e,t){const{id:n}=t.payload;e[n]=Object.assign(Object.assign({},e[n]),{state:u.JournalState.failed,journal:void 0})},setJournal(e,t){const{id:n,journal:r}=t.payload;e[n]=Object.assign(Object.assign({},e[n]),{error:void 0,state:u.JournalState.fetched,updatedAt:Date.now(),journal:r})},appendJournal(e,t){const{id:n,journal:r}=t.payload,i=e[n].journal;e[n]=Object.assign(Object.assign({},e[n]),{error:void 0,state:u.JournalState.fetched,updatedAt:Date.now(),journal:(function(e,t){const n=e.clusters,r=t.clusters,i=o.default.last(n),a=o.default.first(r),s=a&&i&&a.id===i.id?[...n.slice(0,-1),Object.assign(Object.assign({},i),{groups:[...i.groups,...a.groups]}),...o.default.tail(r)]:[...n,...r],{page_load_date:u}=e,{total_count:c}=t;return{total_count:c,loaded_count:e.loaded_count+t.loaded_count,page_load_date:u,clusters:s}})(i,r)})},appendJournalGroup(e,t){const{payload:{id:n,events:r,groupId:i}}=t,o=a.getGroupById(e[n].journal,i);o&&(o.fetching=!1,o.events.push(...r))},fetchJournalGroupFailed(e,t){const{payload:{id:n,groupId:r}}=t,i=a.getGroupById(e[n].journal,r);i&&(i.fetching=!1)},setJournalCounters(e,t){const{id:n,eventTypes:r,platforms:i}=t.payload;e[n].filters.eventTypes=r,e[n].filters.platforms=i},setJournalFilter(e,t){const n=Date.now(),{id:r,filters:i,reset:s=!1}=t.payload;e[r]=Object.assign(Object.assign({},e[r]),{state:u.JournalState.fetching,updatedAt:n,filters:s?Object.assign(Object.assign(Object.assign({},e[r].filters),o.default.omit(a.getDefaultFilters(n),["eventTypes","platforms"])),i):Object.assign(Object.assign({},e[r].filters),i)})}}});t.journalMounted=s.createAction("journals/mounted"),r=c.actions,t.setJournal=r.setJournal,t.initJournal=r.initJournal,t.fetchJournal=r.fetchJournal,t.appendJournal=r.appendJournal,t.appendJournalGroup=r.appendJournalGroup,t.setJournalFilter=r.setJournalFilter,t.fetchJournalFailed=r.fetchJournalFailed,t.fetchJournalGroup=r.fetchJournalGroup,t.fetchJournalGroupFailed=r.fetchJournalGroupFailed,t.setJournalCounters=r.setJournalCounters,t.default=c.reducer}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s="/ping",u=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return i()(this,e),this._fetch=this._fetch.bind(this),this._onOffline=this._onOffline.bind(this),this._onOnline=this._onOnline.bind(this),this._onlineListener=this._onlineListener.bind(this),this._ping=this._ping.bind(this),this.addOfflineEventListener=this.addOfflineEventListener.bind(this),this.addOnlineEventListener=this.addOnlineEventListener.bind(this),this.removeOfflineEventListener=this.removeOfflineEventListener.bind(this),this.removeOnlineEventListener=this.removeOnlineEventListener.bind(this),this.pingUntilOnline=this.pingUntilOnline.bind(this),e._instance?e._instance:(e._instance=this,e._instance._pingURL=t,e._instance._init(),e._instance)}return a()(e,[{key:"addOfflineEventListener",value:function(e){this._onOfflineCallbacks.push(e)}},{key:"addOnlineEventListener",value:function(e){this._onOnlineCallbacks.push(e)}},{key:"removeOfflineEventListener",value:function(e){this._onOfflineCallbacks=this._onOfflineCallbacks.filter((function(t){return t!==e}))}},{key:"removeOnlineEventListener",value:function(e){this._onOnlineCallbacks=this._onOnlineCallbacks.filter((function(t){return t!==e}))}},{key:"_init",value:function(){this._onOfflineCallbacks=[],this._onOnlineCallbacks=[],"undefined"!=typeof window&&window.addEventListener("offline",this._onOffline)}},{key:"_fetch",value:function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){r.status?t(r.status):n(r.status)},r.onerror=function(){n(r.status)},r.send()})}},{key:"pingUntilOnline",value:function(){var e=this;return this._ping().then((function(t){return!!t||(function(e){return new Promise(function(t){setTimeout((function(){t()}),e)})})(2e3).then(e.pingUntilOnline)}))}},{key:"_ping",value:function(){return this._fetch(this._pingURL).then((function(e){return 200===e})).catch((function(){return!1}))}},{key:"checkIsOnline",value:function(){var e=this;return navigator.onLine?this._ping().then((function(t){return t||e._onOffline(),t})):(this._onOffline(),Promise.resolve(!1))}},{key:"_onlineListener",value:function(){var e=this;window.removeEventListener("online",this._onlineListener),this.pingUntilOnline().then((function(){e._onOnline()}))}},{key:"_onOffline",value:function(){this._offlineTime=Date.now(),this._onOfflineCallbacks.forEach((function(e){try{e()}catch(e){setTimeout((function(){throw e}),0)}})),window.addEventListener("online",this._onlineListener)}},{key:"_onOnline",value:function(e){if(this._offlineTime){var t=Date.now()-this._offlineTime;this._onOnlineCallbacks.forEach((function(n){n(e,t)}))}}}]),e})();u._instance=null}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0),a=n(3);n(2126);const s=n(205);let u;u=n(1131);const{Modal:c,withThemeNormal:l}=u,d=a.compose(l)(c);t.Modal=(e=>{const{visible:t,innerRef:n,onRender:r,onAnimationEnd:a}=e,[u,c]=o.useState(!1),[l,f]=o.useState(!1);o.useEffect(()=>{t&&!l&&c(!0),f(t)},[t,l]);const p=o.useCallback(e=>{if("function"==typeof n&&n(e),e&&u){c(!1),r&&r();const t=()=>{a&&a(),e.removeEventListener("animationend",t)};e.addEventListener("animationend",t)}},[n,u,r,a]),h=s(e,["onRender","onAnimationEnd"]);return i.default.createElement(d,Object.assign({},h,{innerRef:p}))})}),(function(e,t,n){"use strict";var r=n(0),i=n(592),o=n(1),a=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),s=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function u(){var e=Object(r.useContext)(i.a);return Object(r.useMemo)((function(){return (function(e){if(Intl.Locale){var t=new Intl.Locale(e).maximize(),n=t.region,r=t.script,i=t.language,u=a.has(r)?"rtl":"ltr";return{locale:e,language:i,region:n,direction:u,isRTL:"rtl"===u}}var c=Object(o.__read)(e.split("-"),2),l=c[0],d=c[1],f=s.has(l)?"rtl":"ltr";return{locale:e,language:l,region:d,direction:f,isRTL:"rtl"===f}})(e)}),[e])}n.d(t,"a",(function(){return u}))}),(function(e,t,n){"use strict";var r;t.a=function(e,t){return"function"!=typeof Audio?"":(r||(r=new Audio),r.canPlayType(e+(t?'; codecs="'.concat(t,'"'):"")))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),i=n(0),o=n.n(i),a=n(211);function s(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={focused:e.props.focused,pressed:e.props.pressed,disabled:e.props.disabled},e.onMouseDown=function(t){3!==t.nativeEvent.which&&(e.setState({pressed:!0}),e.docOnMouseDown(),void 0!==e.props.onMouseDown&&e.props.onMouseDown(t))},e.onMouseUp=function(t){e.setState({pressed:!1}),void 0!==e.props.onMouseUp&&e.props.onMouseUp(t)},e.docOnMouseDown=function(){document.addEventListener("mouseup",e.docOnMouseUp),document.addEventListener("dragend",e.docOnMouseUp)},e.docOnMouseUp=function(){e.setState({pressed:!1}),document.removeEventListener("mouseup",e.docOnMouseUp),document.removeEventListener("dragend",e.docOnMouseUp)},e.onFocus=function(t){e.setState({focused:!0}),void 0!==e.props.onFocus&&e.props.onFocus(t)},e.onBlur=function(t){e.setState({focused:!1}),void 0!==e.props.onBlur&&e.props.onBlur(t)},e}return Object(r.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.disabled!==e.disabled&&this.setState({disabled:e.disabled}),this.props.focused!==e.focused&&this.setState({focused:e.focused}),this.props.pressed!==e.pressed&&this.setState({pressed:e.pressed}),e.disabled&&this.setState({focused:!1,pressed:!1})},n.prototype.render=function(){var t=this.state,n=t.disabled,i=t.focused,a=t.pressed,s=e;return o.a.createElement(s,Object(r.__assign)({},this.props,{focused:n?void 0:i,pressed:n?void 0:a,onMouseDown:n?void 0:this.onMouseDown,onMouseUp:n?void 0:this.onMouseUp,onFocus:n?void 0:this.onFocus,onBlur:n?void 0:this.onBlur}))},n.displayName="WithControl("+Object(a.a)(e)+")",n})(i.PureComponent)}}),(function(e,t,n){"use strict";function r(){return (function(e){return"undefined"!=typeof window&&null!=window.navigator&&e.test(window.navigator.userAgent)})(/Firefox/)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";n.r(t);var r=n(37);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i);var o=n(297);for(var i in o)"default"!==i&&(function(e){n.d(t,e,(function(){return o[e]}))})(i);var a=n(298);for(var i in a)"default"!==i&&(function(e){n.d(t,e,(function(){return a[e]}))})(i);var s=n(299);for(var i in s)"default"!==i&&(function(e){n.d(t,e,(function(){return s[e]}))})(i);var u=n(300);for(var i in u)"default"!==i&&(function(e){n.d(t,e,(function(){return u[e]}))})(i);var c=n(301);for(var i in c)"default"!==i&&(function(e){n.d(t,e,(function(){return c[e]}))})(i);var l=n(302);for(var i in l)"default"!==i&&(function(e){n.d(t,e,(function(){return l[e]}))})(i);var d=n(303);for(var i in d)"default"!==i&&(function(e){n.d(t,e,(function(){return d[e]}))})(i);var f=n(304);for(var i in f)"default"!==i&&(function(e){n.d(t,e,(function(){return f[e]}))})(i);var p=n(305);for(var i in p)"default"!==i&&(function(e){n.d(t,e,(function(){return p[e]}))})(i);var h=n(306);for(var i in h)"default"!==i&&(function(e){n.d(t,e,(function(){return h[e]}))})(i);var m=n(307);for(var i in m)"default"!==i&&(function(e){n.d(t,e,(function(){return m[e]}))})(i);var v=n(308);for(var i in v)"default"!==i&&(function(e){n.d(t,e,(function(){return v[e]}))})(i);var g=n(309);for(var i in g)"default"!==i&&(function(e){n.d(t,e,(function(){return g[e]}))})(i);var y=n(310);for(var i in y)"default"!==i&&(function(e){n.d(t,e,(function(){return y[e]}))})(i);var b=n(338);n.d(t,"withSizeXXL",(function(){return b.a}));var _=n(339);n.d(t,"withSizeXL",(function(){return _.a}));var O=n(311);for(var i in O)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return O[e]}))})(i);var E=n(312);for(var i in E)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return E[e]}))})(i);var w=n(313);for(var i in w)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return w[e]}))})(i);var S=n(423);for(var i in S)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return S[e]}))})(i);var C=n(425);for(var i in C)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return C[e]}))})(i);var x=n(314);for(var i in x)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return x[e]}))})(i);var T=n(427);for(var i in T)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return T[e]}))})(i);var P=n(429);for(var i in P)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return P[e]}))})(i);var k=n(431);for(var i in k)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return k[e]}))})(i);var j=n(433);for(var i in j)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return j[e]}))})(i);var R=n(315);for(var i in R)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return R[e]}))})(i);var I=n(316);for(var i in I)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return I[e]}))})(i);var A=n(435);for(var i in A)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return A[e]}))})(i);var D=n(437);for(var i in D)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return D[e]}))})(i);var M=n(439);for(var i in M)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return M[e]}))})(i);var N=n(441);for(var i in N)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return N[e]}))})(i);var L=n(443);for(var i in L)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return L[e]}))})(i);var F=n(1047);for(var i in F)["withSizeXXL","withSizeXL","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return F[e]}))})(i);var B=n(340);n.d(t,"withViewBrand",(function(){return B.a}));var U=n(341);n.d(t,"withViewPremium",(function(){return U.a}));var z=n(342);n.d(t,"withViewDanger",(function(){return z.a}));var V=n(317);for(var i in V)["withSizeXXL","withSizeXL","withViewBrand","withViewPremium","withViewDanger","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return V[e]}))})(i);var H=n(318);for(var i in H)["withSizeXXL","withSizeXL","withViewBrand","withViewPremium","withViewDanger","default"].indexOf(i)<0&&(function(e){n.d(t,e,(function(){return H[e]}))})(i)}),(function(e,t,n){"use strict";var r=n(0);const i=n.n(r).a.createContext(void 0);t.a=i}),(function(e,t,n){"use strict";var r=n(33),i=n.n(r),o=n(0),a=n.n(o),s=n(113),u=n(11),c=n.n(u);t.a=function(e){var t,n=e.resource,r=e.cls,o=e.size,u=n.name.split(".").pop();return t="dir"===n.type?{type:"dir"+(n.iconType?"_"+n.iconType:""),cls:c()()("listing-item").e("dir-icon").mix(r)}:{ext:u,mediatype:n.meta&&n.meta.mediatype,type:n.iconType,cls:r},a.a.createElement(s.default,i()({size:o},t))}}),(function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return o}))}),(function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return c}));var r=null;function i(e,t){return!!r&&r.call(e,t)}function o(e){return"INPUT"===e.tagName}function a(e){return"IFRAME"===e.tagName}function s(e){return o(e)&&"hidden"===e.type}function u(e){return o(e)&&"radio"===e.type}function c(e){if("hidden"===window.getComputedStyle(e).visibility)return!0;for(var t=e;t;){if("none"===window.getComputedStyle(t).display)return!0;t=t.parentElement}return!1}"undefined"!=typeof Element&&(r=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector)}),(function(e,t,n){"use strict";var r=n(22),i=n.n(r),o=n(103),a=n.n(o),s=n(496),u=n(40),c=n(54),l=n.n(c),d=n(63),f=n.n(d),p=n(15),h=n(35),m=n(122),v={},g=function(e,t){return new Promise(function(n,r){if(v[e])n(v[e]);else if(window.indexedDB){var i=window.indexedDB.open(e);i.onerror=r,i.onsuccess=function(t){v[e]=t.target.result,n(v[e])},i.onupgradeneeded=function(){var e=i.result;e.objectStoreNames.contains(t)||e.createObjectStore(t,{keyPath:"id"})}}else r()})},y=n(9),b=n.n(y),_=n(59),O=n(136),E=n(29),w=n(34),S=n.n(w),C=n(13),x=n(494),T=n(44),P=n(98),k=n(395);n.d(t,"b",(function(){return D})),n.d(t,"e",(function(){return M})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"h",(function(){return U})),n.d(t,"g",(function(){return z})),n.d(t,"f",(function(){return V}));var j,R=function(e){return{type:s.c,payload:e}},I=function(e,t){return e.albumsSupportedV2=!0,e.locale=t,(function(e,t,n,r){return new Promise(function(i,o){return g(e,t).then((function(e){if(e.objectStoreNames.contains(t)){var a=e.transaction(t,"readwrite").objectStore(t),s=a.delete(n);s.onerror=o,s.onsuccess=function(){var e=a.add({id:n,data:r});e.onerror=o,e.onsuccess=function(){i(e.result)}}}else o()})).catch(o)})})(w.PHOTOSLICE_DB.NAME,w.PHOTOSLICE_DB.STORE,w.PHOTOSLICE_DB.OBJECT,e).catch((function(e){e instanceof Error&&setTimeout((function(){throw e}),0)}))},A=function(e){return (function(e,t,n){return new Promise(function(r,i){return g(e,t).then((function(e){if(e.objectStoreNames.contains(t)){var o=e.transaction(t).objectStore(t).get(n);o.onerror=i,o.onsuccess=function(){o.result?r(o.result.data):i()}}else i()})).catch(i)})})(w.PHOTOSLICE_DB.NAME,w.PHOTOSLICE_DB.STORE,w.PHOTOSLICE_DB.OBJECT).then((function(t){return t&&t.albumsSupportedV2&&t.locale===e?t:{}})).catch((function(e){return e instanceof Error&&setTimeout((function(){throw e}),0),Promise.resolve({})}))},D=function e(){return function(t,n){var r=n(),i=r.photoslice,o=i.photosliceId,a=i.isLoading,s=i.isLoaded,c=i.revision,l=i.unfilteredTotalSelected,d=r.environment.session.locale;return a||l&&"photo"===Object(T.getPage)(r)?t(R({hasDiff:!0})):Object(u.a)("getDiff",{idSlice:o,revision:c,locale:d}).then((function(n){if(!n.total)return s?Promise.resolve():t(R({isLoaded:!0}));var r=Object(m.h)(n,c);t({type:C.APPLY_DIFF,payload:{diff:r}}),t(function(e){return function(t){Object.keys(e.clusters).forEach((function(n){var r=e.clusters[n];r.insert&&r.insert.items.forEach((function(e){var r=e.id;t(Object(p.maybeSetClusterIdToResource)(r,n))})),r.items&&Object.keys(r.items).forEach((function(e){r.items[e].insert&&t(Object(p.maybeSetClusterIdToResource)(r.items[e].insert.id,n))}))}))}}(r));var i=(function(e,t){return A(t).then((function(n){for(var r in n.revision=e.revision,e.clusters){var i=Object(m.d)(n.items,r,(function(e){return e.id})),o=i.index,a=i.found,s=e.clusters[r];if(s.delete)a&&n.items.splice(o,1);else{var u=a?n.items[o]:{id:r};s.insert&&Object(m.b)(u,b.a.omit(s.insert,["items"])),s.update&&Object(m.b)(u,b.a.omit(s.update,["items"])),a||n.items.splice(o,0,u)}}return I(n,t)})).catch((function(e){e instanceof Error&&setTimeout((function(){throw e}),0)}))})(r,d);return n.total>n.limit?i.then((function(){return t(e())})):i})).catch((function(){return t(M())}))}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n(),i=r.photoslice.isLoaded,o=r.environment.session.locale;t(R({isLoading:!0,isLoaded:!!i,hasDiff:!1})),clearTimeout(j),j=setTimeout((function(){t(R({isSlowLoading:!0}))}),5e3);var a=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];clearTimeout(j);return t({type:s.a,payload:Object.assign({photosliceId:e.id},e,{isLoaded:!r})}),I(e,o).then((function(){return n().photoslice.hasDiff?t(D()):Promise.resolve()}))},c=function(e){clearTimeout(j),t(R({isLoading:!1,isSlowLoading:!1})),l.a.go("/client/error","preserve",{reason:"photo2_fetch_snapshot_error",error:e})},d=function(){return Object(u.a)("initSnapshot")},f=function(e){return Object(u.a)("getSnapshot",{idSlice:e,locale:o}).then(a).catch(c)};return e?A(o).then((function(e){return d().then((function(n){var r=n.photoslice_id;return e.id&&r===e.id?a(e,!0).then((function(){return t(D()).catch((function(){return f(r)}))})):f(r)}))})).catch(c):d().then((function(e){var t=e.photoslice_id;return f(t)})).catch(c)}},N=function(e,t,n){var r=[],i=[];for(var o in e){var a=t[o];if(e[o].resources&&a&&a.items){var s=Object(x.getFilteredClusterData)(a.items,(function(e){return!n.includes(e)})),u=s.albums,c=s.items,l=s.size,d=(a.albums||u)&&!b.a.isEqual(u,a.albums);l?(l!==a.items.length||d)&&i.push(Object.assign({},a,{items:c,size:l,albums:u})):r.push(o)}}return{fetched:i,missing:r}},L=function(e,t){return function(n,r){var o=r(),s=o.photoslice.photosliceId,c=o.page.filter,d=o.resources,f=(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=Object(P.getAllItems)(e),o=e.resources,s={},u=[],c={},l={};Object(m.j)(t,i,(function(e,t){if(o[t.id])if(o[t.id].clusterId){var n=b.a.get(o[t.id],"meta.albums_exclusions",[]);t.albums&&t.albums.some((function(e){return n.includes(e)}))&&(l[t.id]=!0)}else c[t.id]=e.id;else(s[e.id]||(s[e.id]={resources:[]})).resources.push(t.id)}),(function(e,t,n){s[e.id]={range:[t,n]}})),n&&n.length&&n.forEach((function(e){for(var t=a()(e,2),n=t[0],r=t[1],o=n;o<=r;o++){var u=i[o];u.items||s[u.id]||(s[u.id]=!0)}}));for(var d=Object.keys(s),f=0;f<Math.ceil(d.length/r);f++){var p=f*r,h=p+r;u.push(b.a.pick(s,d.slice(p,h)))}return{clustersToLoad:u,resourcesWithoutClusterIds:c,resourcesNeededExcludeFromAlbums:l}})(o,e,t),v=f.clustersToLoad,g=f.resourcesWithoutClusterIds,y=f.resourcesNeededExcludeFromAlbums,_=[];for(var O in g){var E=g[O];n(Object(p.maybeSetClusterIdToResource)(O,E)),d[O]&&_.push(Object.assign({},d[O],{clusterId:E}))}for(var w in y)g[w]||_.push(d[w]);return v.length?Promise.all(v.map((function(e){var t={photosliceId:s,clusters:JSON.stringify(e)};return Object(P.isValidFilter)(c)&&(t.filter=c),Object(u.a)("getClustersWithResources",t).then((function(t){var o=t.clusters,a=t.resources,s=r().photoslice.clustersByIds;o.fetched=o.fetched.filter((function(t){return!!s[t.id]&&(!s[t.id].items||(e[t.id]={resources:[]},!1))}));var c={};if(a.error)Object(u.a)("getResources",{ids:JSON.stringify(a.requested||[]),photoslice:!0}).then((function(t){var i=r().photoslice.clustersByIds,s={resources:h.default.preprocessResources(t,r()).concat(_),clusters:o};if(t.length!==a.requested.length){for(var u in e){var c=e[u];i[u]&&(c.resources=c.resources||{})}var l=b.a.differenceWith(a.requested,t,(function(e,t){return e===t.id})),d=N(e,i,l);Object.assign(s,{clusters:d})}n(Object(p.updateClustersAndResources)(s))}),(function(e){l.a.go("/client/error","preserve",{reason:"photo2_fetch_resources_error",error:e})}));else if(a.fetched.length&&Object.assign(c,{resources:h.default.preprocessResources(a.fetched,r()).concat(_)}),a.missing.length){var d,f,m=N(e,s,a.missing),v=m.fetched,g=m.missing;(d=o.fetched).push.apply(d,i()(v)),(f=o.missing).push.apply(f,i()(g))}(o.fetched.length||o.missing.length)&&Object.assign(c,{clusters:o}),Object.keys(c).length&&n(Object(p.updateClustersAndResources)(c))})).catch((function(e){e&&"HTTP_404"===e.id?n(M()):l.a.go("/client/error","preserve",{reason:"photo2_fetch_clusters_with_resources_error",error:e})}))}))):(_.length&&n(Object(p.updateClustersAndResources)({resources:_})),Promise.resolve())}},F=function(e){return function(t,n){var r=n().photoslice.photosliceId;return Object(u.a)("getClusters",{idSlice:r,ids:e}).then((function(e){var n=e.items[0];if(n)return n.id=n.cluster_id,delete n.cluster_id,n.items=n.items.map(x.preprocessClusterItem),n.size=n.items.length,t({type:C.UPDATE_CLUSTERS_AND_RESOURCES,payload:{clusters:{added:[n]}}}),n}))}},B=function(e){return function(t,n){var r=n().page,i=r.filter,o=r.currentUrl;if(e!==i){t(Object(O.setFilteredSelection)({total:0,missing:0,unfilteredTotal:0,resources:[]}));var a=f.a.replaceParam(f.a.getPath(o)+(f.a.getSearch(o)||""),"filter",e!==S.a.PHOTOSLICE_FILTERS.ALL?e:void 0,!0);t(Object(E.goToUrl)(a))}}},U=function(e){return function(t,n){var r=n(),i=r.page.filter,o=r.settings,a="".concat(i,"AlbumPhotoView"),s=o[a]?a:"photoView";t(Object(_.saveSettings)({key:s,value:e}))}},z=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b.a.noop,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p.fetchSingleResource,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:F;return function(s,u){var c=u(),l=c.resources,d=function(t){return t.id===e},f=e,h=Object(P.getAllItems)(c),v=function(e,o){var a=o.findIndex(d);if(~a){var u=t.getItemAbsoluteTop(e,a),c=n.shouldSelect,l=t._options.offset.y,p=r(u-l,{shouldNotScroll:!0,updatePages:!0});setTimeout((function(){Object(k.scrollListingToPosition)(p+l,{itemHeight:t.getItemSize(e,a).height})}),0),c&&s(Object(O.setFilteredSelection)({total:1,unfilteredTotal:1,missing:0,resources:[f]}))}else i()},g=function(e){var t=e.meta.photoslice_time,n=Object(m.e)(h,1e3*t);n>=0?(function(e){var t=h[e],n=t.id,r=t.items;r?v(n,r):s(a(n)).then((function(){var t=Object(P.getAllItems)(u())[e];t&&t.items?v(n,t.items):i()}))})(n):i()},y=l[f];y?g(y):s(o(f,{silent:!0})).then((function(e){e.error?i():g(e)})),s(Object(p.setScrollToResource)(null))}},V=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.a.noop;return function(i,o){var a=Object(P.getAllItems)(o()),s=Object(m.c)(a,e);if(s){var u=t.getClusterAbsoluteTop(s.id),c=t._options.offset.y,l=n(u-c,{shouldNotScroll:!0,updatePages:!0});setTimeout((function(){Object(k.scrollListingToPosition)(l+c,{itemHeight:60})}),0)}else r()}}}),,,(function(e,t,n){"use strict";var r=n(199),i=n(961),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(343),n(638),r.__exportStar(n(37),t)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(423),t),n(665)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeAction=void 0;var r=n(3),i=n(37);n(664),t.withThemeAction=r.withBemMod(i.cnButton(),{theme:"action"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(425),t),n(667)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeClear=void 0;var r=n(3),i=n(37);n(666),t.withThemeClear=r.withBemMod(i.cnButton(),{theme:"clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(427),t),n(670)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeNormal=void 0;var r=n(3),i=n(37);n(669),t.withThemeNormal=r.withBemMod(i.cnButton(),{theme:"normal"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(429),t),n(672)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemePseudo=void 0;var r=n(3),i=n(37);n(671),t.withThemePseudo=r.withBemMod(i.cnButton(),{theme:"pseudo"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(431),t),n(674)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeRaised=void 0;var r=n(3),i=n(37);n(673),t.withThemeRaised=r.withBemMod(i.cnButton(),{theme:"raised"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(433),t),n(676)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeWebSearch=void 0;var r=n(3),i=n(37);n(675),t.withThemeWebSearch=r.withBemMod(i.cnButton(),{theme:"websearch"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(435),t),n(678)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewAction=void 0;var r=n(3),i=n(37);n(677),t.withViewAction=r.withBemMod(i.cnButton(),{view:"action"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(437),t),n(680)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewClear=void 0;var r=n(3),i=n(37);n(679),t.withViewClear=r.withBemMod(i.cnButton(),{view:"clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(439),t),n(682)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewLink=void 0;var r=n(3),i=n(37);n(681),t.withViewLink=r.withBemMod(i.cnButton(),{view:"link"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(441),t),n(684)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewPseudo=void 0;var r=n(3),i=n(37);n(683),t.withViewPseudo=r.withBemMod(i.cnButton(),{view:"pseudo"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(443),t),n(686)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewRaised=void 0;var r=n(3),i=n(37);n(685),t.withViewRaised=r.withBemMod(i.cnButton(),{view:"raised"})}),(function(e,t,n){"use strict";n.r(t);n(526);var r=n(445);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(446),t),n(689)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewDefault=void 0;var r=n(3),i=n(37);n(688),t.withViewDefault=r.withBemMod(i.cnButton(),{view:"default"})}),(function(e,t,n){var r=n(220),i=n(719),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}}),(function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}}),(function(e,t,n){var r=n(158),i=n(128),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==u}}),(function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(110))}),(function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Radiobox=t.cnRadiobox=void 0;var r=n(1),i=r.__importStar(n(0)),o=n(31),a=n(28),s=n(980);n(1378),t.cnRadiobox=a.cn("Radiobox");t.Radiobox=function(e){var n=e.children,a=e.className,u=e.disabled,c=e.innerRef,l=e.name,d=e.onChange,f=e.options,p=void 0===f?[]:f,h=e.value,m=(e.view,e.size,e.theme,o.useComponentRegistry(t.cnRadiobox()).Radio),v=r.__read(i.useState({onChange:d,value:h,disabled:u,name:l}),2),g=v[0],y=v[1];return i.useEffect((function(){y({onChange:d,value:h,disabled:u,name:l})}),[d,h,u,l]),i.default.createElement("span",{className:t.cnRadiobox(null,[a]),ref:c,role:"radiogroup"},i.default.createElement(s.RadioGroupProvider,{value:g},n||p.map((function(e){var t=e.label,n=r.__rest(e,["label"]);return i.default.createElement(m,r.__assign({key:n.value},n),t)}))))},t.Radiobox.displayName=t.cnRadiobox()}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={name:"applyMinWidth",enabled:!0,fn:function(e){var t=e.state;t.styles.popper.minWidth=t.rects.reference.width+"px"},effect:function(e){var t=e.state;t.elements.reference instanceof HTMLElement&&(t.elements.popper.style.minWidth=t.elements.reference.offsetWidth+"px")},phase:"beforeWrite",requires:["computeStyles"]}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(116),o={name:"applyMaxHeight",enabled:!0,fn:function(e){var t=e.state,n=e.options,o=n.maxHeight,a=n.padding,s=void 0===a?16:a,u=Object(i.a)(t,{padding:s}),c=(t.modifiersData.preventOverflow||{y:0}).y,l=t.rects.popper.height,d=Object(r.__read)(t.placement.split("-"),1)[0],f=l-u["top"===d?"top":"bottom"]-c,p=o?Math.min(f-c,o):f;t.styles.popper=Object(r.__assign)(Object(r.__assign)({},t.styles.popper),{maxHeight:p+"px"})},phase:"main",requires:["computeStyles"]}}),(function(e,t,n){"use strict";n.r(t);var r=n(1001);n.d(t,"LocaleProvider",(function(){return r.a}));var i=n(408);n.d(t,"useLocale",(function(){return i.a}));var o=n(1002);n.d(t,"useDateFormatter",(function(){return o.a}));var a=n(1003);n.d(t,"useFirstDayOfWeek",(function(){return a.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(933);n.d(t,"mergeProps",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(915);n.d(t,"useFocusable",(function(){return r.a}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeSinglePromoByFormat=t.humanReadableInterval=t.CLOSE_DELAY=t.delay=t.getForcedPromoName=void 0;const r=n(223);t.getForcedPromoName=(e=>{const t="string"==typeof e?e:window.location.search,n=new URLSearchParams(t);return n.get("promozavr")||n.get("promo")});t.delay=(e=>new Promise(t=>setTimeout(t,e))),t.CLOSE_DELAY=300;const i=[{value:r.DAY,letter:"d"},{value:r.HOUR,letter:"h"},{value:r.MINUTE,letter:"m"},{value:r.SECOND,letter:"s"}];t.humanReadableInterval=(e=>{let t=[];for(const{value:n,letter:r}of i)e>n&&(t.push({value:Math.floor(e/n),letter:r}),e%=n);return t.push({value:e,letter:"ms"}),t.filter(({value:e})=>e>0).map(({value:e,letter:t})=>`${e}${t}`).join(",")});t.takeSinglePromoByFormat=(e=>{const t={};return e.filter(e=>!t[e.format]&&(t[e.format]=!0,e))})}),(function(e,t,n){var r=n(145),i=(function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}})();e.exports=i}),(function(e,t,n){var r=n(324),i=n(779);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}}),(function(e,t,n){var r=n(105),i=n(230),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}}),(function(e,t,n){var r=n(459);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}}),(function(e,t,n){var r=n(227),i=n(789),o=n(790),a=n(791),s=n(792),u=n(793);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c}),(function(e,t,n){var r=n(324),i=n(105);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}}),(function(e,t){e.exports=function(){return[]}}),(function(e,t,n){var r=n(796),i=n(264),o=n(105),a=n(265),s=n(389),u=n(379),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&u(e),p=n||l||d||f,h=p?r(e.length,String):[],m=h.length;for(var v in e)!t&&!c.call(e,v)||p&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}}),(function(e,t,n){var r=n(324),i=n(328),o=n(326),a=n(465),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s}),(function(e,t,n){var r=n(464),i=n(467),o=n(327);e.exports=function(e){return r(e,o,i)}}),(function(e,t,n){"use strict";n.r(t);var r=n(353);n.d(t,"cnUserID",(function(){return r.b})),n.d(t,"Content",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(488);n.d(t,"Dialog",(function(){return r.a}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=n(940).a?r.useLayoutEffect:r.useEffect}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(0),o=n.n(i),a=n(356),s=n(353);function u(e,t){var n,u=function(n){var u=n.onOpen,c=n.onClose,l=Object(r.__read)(Object(i.useState)(!1),2),d=l[0],f=l[1],p=Object(i.useCallback)((function(){f(!0),null===u||void 0===u||u()}),[f,u]),h=Object(i.useCallback)((function(){f(!1),null===c||void 0===c||c()}),[f,c]),m=Object(a.a)(Object(r.__assign)(Object(r.__assign)({},n),{visible:d,onOpen:p,onClose:h})),v=m.avatarProps,g=m.contentProps,y=m.dialogProps;return o.a.createElement(e,Object(r.__assign)({},n,v),n.children,o.a.createElement(t,Object(r.__assign)({},y,{onClose:h}),o.a.createElement(s.a,Object(r.__assign)({},g))))};return u.displayName="'withUserID("+(null!==(n=e.displayName)&&void 0!==n?n:e)+")'",u}}),(function(e,t,n){"use strict";n.r(t);var r=n(356);n.d(t,"useUserID",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(472);n.d(t,"withUserID",(function(){return r.a}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.az="az",e.be="be",e.en="en",e.hy="hy",e.ka="ka",e.kk="kk",e.ro="ro",e.ru="ru",e.tr="tr",e.tt="tt",e.uk="uk",e.uz="uz"})(t.SupportedLangs||(t.SupportedLangs={}));const r={};r.ru=n(850),t.default=function(e,t){var n,i;if(!r[e])throw"Unsupported lang "+e;if(!(null===(n=r[e])||void 0===n?void 0:n["mail-liza"]["ps-header"][t]))throw"Unknown key "+t;return(null===(i=r[e])||void 0===i?void 0:i["mail-liza"]["ps-header"][t]())||""}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(28),a=n(99),s=n(852),u=n(854),c=n(855),l=n(856),d=o.cn("PSHeader-ServiceList");n(859),t.MAIN_SERVICES_COUNT=5;const f=e=>e>-1&&"n"+String(e+1);t.ServiceList=(e=>{const n=i.useRef(null),[r,o]=i.useState(!1),p=i.useContext(a.HeaderContext),{countMetrika:h}=p,{currentService:m,onMorePopupChangeVisibility:v,services:g,popupTheme:y}=e,b=i.useCallback(e=>{o(e),v&&v(e)},[v,o]),_=i.useCallback(()=>b(!1),[b]),O=i.useMemo(()=>g.map(e=>"Contact"===e.id&&"Mail"===m?Object.assign(Object.assign({},e),{onClick:t=>{e.onClick&&e.onClick(t),_()}}):e),[g,m,_]),E=i.useMemo(()=>{const e=O.slice(0,t.MAIN_SERVICES_COUNT),n=O.find(e=>e.id===m);return n?e.includes(n)?e:e.slice(0,e.length-1).concat(n):e},[m,O]),w=i.useMemo(()=>E.filter(({id:e})=>e!==m).slice(-3),[m,E]),S=i.useMemo(()=>{if(w.length>0){const e=O.filter(e=>!E.includes(e));return[...w,...e]}return[]},[w,E,O]),C=i.useCallback(()=>{h("more","open"),b(!0)},[h,b]);return i.default.createElement(i.default.Fragment,null,E.map(t=>{const n=w.findIndex(({id:e})=>e===t.id);return i.default.createElement(u.MainServiceView,{className:d("MainService",{collapsible:f(n)}),hidePopup:_,description:t,key:t.id,currentService:e.currentService,onClick:t.onClick,forwardedRef:t.forwardedRef})}),!e.hideMore&&i.default.createElement(l.MoreServicesButton,{className:d("More"),forwardedRef:n,onClick:r?_:C}),i.default.createElement(s.MoreServicesPopup,{visible:r,onOutsideClick:_,allServicesLink:e.allServicesLink,anchor:n,popupTheme:y},S.map(t=>{const n=w.findIndex(({id:e})=>e===t.id);return i.default.createElement(c.PopupServiceView,{className:d("PopupService",{collapsible:f(n)}),hidePopup:_,description:t,key:t.id,currentService:e.currentService,onClick:t.onClick,popupTheme:y})})))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(99),a=n(331);t.ServiceView=(e=>{const t=i.useContext(o.HeaderContext),{description:n,popupTheme:r}=e,{lang:s,timeZone:u,theme:c}=t,l={theme:r||c,timeZone:u,lang:s,i18n:n.title,className:`promozavr-anchor-service${n.id}Button ${e.className}`,active:e.isCurrentService,link:n.href,target:n.target,onClick:e.onClick,forwardedRef:e.forwardedRef,calendarDay:t.calendarDay,icon:n.icon};return i.default.createElement(a.HeaderService,Object.assign({},l))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(28),a=n(857);n(858);const s=o.cn("PSHeaderIcon");let u;t.BoundHeaderIcon=(e=>i.default.createElement(f,Object.assign({},e)));const c=(e,t)=>{u&&window.clearTimeout(u);const n=a.getDateInTZ(t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1),i=Number(r)-Number(n);u=window.setTimeout(()=>{e(),c(e,t)},i)},l=({timeZone:e,calendarDay:t})=>{const n=t||a.getDayOfMonth(e),[r,o]=i.useState(n),l=t||r;i.useEffect(()=>{if(t)return;const n=()=>{o(a.getDayOfMonth(e))};c(n,e);const r=()=>{n(),c(n,e)};return window.addEventListener("focus",r),()=>{window.clearTimeout(u),window.removeEventListener("focus",r)}},[o,e,t]);const d=l>=10&&l<=19&&11!==l;return i.default.createElement(i.default.Fragment,null,i.default.createElement("span",{className:s("CalendarDay",{shiftLeft:d})},l),i.default.createElement("div",{className:s("CalendarGradient")}))},d=({name:e,timeZone:t,calendarDay:n,theme:r,lang:o})=>i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:s("Image",{[e]:!0,theme:r,lang:o})}),"Calendar"===e&&i.default.createElement(l,{timeZone:t,calendarDay:n})),f=e=>{var t;return i.default.createElement("div",{className:s({[e.name]:!0,theme:e.theme},[e.className])},null!==(t=e.children)&&void 0!==t?t:i.default.createElement(d,Object.assign({},e)))};t.default=f}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(861));function o(e,t){const n=i.default(e,!0);return Object.entries(t).forEach(([e,t])=>{n.query[e]=t}),n.toString()}t.addQueryParams=o,t.addFromToLink=function(e,t){return o(e,{from:t})}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(99);t.useLogoMetrika=(()=>{const{countMetrika:e}=r.useContext(i.HeaderContext),t=r.useCallback(()=>e("yandex"),[e]),n=r.useCallback(()=>e("360"),[e]);return r.useMemo(()=>({onYaClick:t,on360Click:n}),[t,n])})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(334),a=n(480);t.LogoLink=(e=>{const{logoLink:t,title:n,target:r,children:s,onClick:u}=e,{onYaClick:c}=a.useLogoMetrika(),l=i.useCallback(e=>{"function"==typeof u&&u(e),c()},[u,c]);return i.default.createElement("a",{href:t,className:o.classes.yaLink,title:n,rel:"noopener noreferrer",onClick:l,target:r},s)})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(99),a=n(334);t.LogoContainer=(e=>{const{theme:t}=i.useContext(o.HeaderContext);return i.default.createElement("div",{className:a.classes.root({theme:t})},e.children)})}),(function(e,t,n){"use strict";n.r(t);var r=n(565);n.d(t,"cnTextinput",(function(){return r.b})),n.d(t,"Textinput",(function(){return r.a})),n.d(t,"withBaseline",(function(){return r.c})),n.d(t,"withHasClear",(function(){return r.d})),n.d(t,"withPinBrickBrick",(function(){return r.e})),n.d(t,"withPinBrickClear",(function(){return r.f})),n.d(t,"withPinBrickRound",(function(){return r.g})),n.d(t,"withPinClearBrick",(function(){return r.h})),n.d(t,"withPinClearClear",(function(){return r.i})),n.d(t,"withPinClearRound",(function(){return r.j})),n.d(t,"withPinRoundBrick",(function(){return r.k})),n.d(t,"withPinRoundClear",(function(){return r.l})),n.d(t,"withPinRoundRound",(function(){return r.m})),n.d(t,"withSizeM",(function(){return r.n})),n.d(t,"withSizeS",(function(){return r.o})),n.d(t,"withThemeNormal",(function(){return r.p})),n.d(t,"withThemeWebsearch",(function(){return r.q})),n.d(t,"withViewDefault",(function(){return r.r})),n.d(t,"withViewMaterial",(function(){return r.s}));var i=n(567);n.d(t,"withSizeL",(function(){return i.a}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"publishObject",(function(){return h})),n.d(t,"openShareDialog",(function(){return m})),n.d(t,"unpublishObject",(function(){return v}));var r=n(10),i=n.n(r),o=n(57),a=n(36),s=n(920),u=n(15),c=n(65),l=n(29),d=n(20),f=n(96);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,o){var s,h,m,v=Object(f.isAddressAccessShareDialogExp)(o());t===a.OBJECT_TYPES.RESOURCE?(h=e[0],s=v?Promise.resolve():r(Object(u.publishResource)(h))):t===a.OBJECT_TYPES.ALBUM&&(e.length>1?s=r(Object(c.publishPhotos)(e)).then((function(e){return m=e})):(m=e[0],s=v?Promise.resolve():r(Object(c.publishAlbum)(m)))),s.then((function(){var a,s=o();h?a=s.resources[h].meta.short_url:m&&(a=s.personalAlbums.albumsByIds[m].public.short_url),v||r(Object(l.copyPublicLink)(a)),n.shouldOpenDialog&&r(Object(d.openDialog)("share-dialog",(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({objectIds:e,objectType:t},n.dialogData)))}))}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n,r){Array.isArray(e)||(e=[e]);var i=Object(f.isAddressAccessShareDialogExp)(r()),u=Object(s.getMetrikaSectionTail)(r()),c=Object(a.getPublishObjectData)(r(),e),p=Object(o.isOverdraftHard)(r())&&c.objectType!==a.OBJECT_TYPES.ALBUM;if(c.isPublic)p||i||n(Object(l.copyPublicLink)(c.shortUrl)),n(Object(d.openDialog)("share-dialog",{metrikaContext:t,metrikaTail:u,objectIds:e,objectType:c.objectType}));else{if(n(Object(l.maybeBlockAction)({forLite:!0})))return;n(h(e,c.objectType,{shouldOpenDialog:!0,dialogData:{metrikaContext:t,metrikaTail:u,justPublished:!0}}))}}},v=function(e,t){return function(n){t===a.OBJECT_TYPES.RESOURCE?n(Object(u.unpublishResource)(e[0])):t===a.OBJECT_TYPES.ALBUM&&(e.length>1?n(Object(c.unpublishPhotos)()):n(Object(c.unpublishAlbum)(e[0])))}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"wfolioProjectIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.542 3.003a8.37 8.37 0 0 1 1.209.054c.48.052.804.295.97.729.024.381.011.76-.037 1.137a21.183 21.183 0 0 1 1.922 4.908 23.457 23.457 0 0 0 1.227-5.085c.014-.489.02-.975.018-1.458a3.79 3.79 0 0 1 2.636-.09c.266.131.43.339.495.623.024.225.024.45 0 .676a21.611 21.611 0 0 1-2.527 7.005 2.929 2.929 0 0 1-1.226 1.191 4.233 4.233 0 0 1-2.691.089A37.261 37.261 0 0 0 8.53 8.764a16.116 16.116 0 0 1-1.593 3.165c-.467.618-1.095.968-1.885 1.048a4.777 4.777 0 0 1-1.776-.16A38.947 38.947 0 0 0 .64 4.995 5.96 5.96 0 0 0 0 4.017a3.642 3.642 0 0 1 1.648-.854c1.01-.111 1.711.286 2.105 1.192a69.755 69.755 0 0 1 1.61 5.511c.651-1.8 1.066-3.648 1.246-5.547a2.728 2.728 0 0 0-.055-.907.502.502 0 0 1 .293-.213c.231-.083.463-.148.695-.196Z",clipRule:"evenodd"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImagesContext=void 0;const i=r(n(0));t.ImagesContext=i.default.createContext({})}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(107),a=n(499),s=(n(844),Object(o.cn)("UserID","CloseButton")),u=function(e){var t=e.onClick,n=e.colorScheme;return i.a.createElement("button",{className:s({colorScheme:n}),onClick:t,"aria-label":"Закрыть",tabIndex:1},i.a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",focusable:"false","aria-hidden":"true"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.207 6.207a1 1 0 0 0-1.414-1.414L12 10.586 6.207 4.793a1 1 0 0 0-1.414 1.414L10.586 12l-5.793 5.793a1 1 0 1 0 1.414 1.414L12 13.414l5.793 5.793a1 1 0 0 0 1.414-1.414L13.414 12l5.793-5.793z",fill:"currentColor"})))};n(843);n.d(t,"a",(function(){return l}));var c=Object(o.cn)("UserWidget","Dialog"),l=Object(r.forwardRef)((function(e,t){var n=e.visible,r=e.loading,o=e.colorScheme,s=e.platform,l=e.onClose,d=e.className;return Object(a.usePreventScroll)({enabled:n&&"touch"===s}),i.a.createElement("div",{role:"dialog","aria-busy":r,"aria-modal":"true",className:c("Dialog",{visible:n,loading:r,colorScheme:o,platform:s},[d]),ref:t},r&&i.a.createElement(u,{colorScheme:o,onClick:l}),e.children)}))}),(function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}})()?Object.assign:function(e,t){for(var n,a,s=(function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)})(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(46),o=n(1045),a=n(224),s=r(n(9)),u=n(36),c=n(102),l=n(39),d=n(786),f=n(58),p=n(1678),h=n(1758),m=n(1761),v=n(1764),g=(n(1767),n(1768),n(1769)),y=n(1770),b=n(1771),_=n(34);t.isAuthorized=(e=>{var t;return null===(t=e.environment.session.auth)||void 0===t?void 0:t.isAuth}),t.shouldShowPromozavr=(e=>{const{environment:{agent:{isHermione:n,isInMobileApp:r,isSearchApp:i}}}=e;return t.isAuthorized(e)&&"1"!==n&&!l.isDocsPage(e)&&(!r||i)&&!u.isSliderOpened(e)});const O=Date.now();t.getServerDate=(e=>e.environment.session.serverTime),t.makeGetNow=(e=>s.default.memoize(()=>e+Date.now()-O)),t.getProject=(()=>a.Project.diskDesktop),t.getPlatform=(()=>a.Platform.desktop),t.getBillingProducts=(e=>e.billingProducts),t.getLang=(e=>e.environment.session.locale),t.getPlugins=i.createSelector(t.getBillingProducts,e=>[new p.PaymentProblemGrace(e.paymentProblem),new h.PaymentProblemHoldAd(e.paymentProblem),new m.PaymentProblemHold(e.paymentProblem),new v.PaymentProblemAppStore(e.paymentProblem),new b.PaymentProblemHoldFamily(e.paymentProblem),new g.PaymentProblemGraceAndroid(e.paymentProblem),new y.PaymentProblemGraceApple(e.paymentProblem)]),t.getRegistrationDays=(e=>{const n=1e3*e.user.reg_time,r=t.makeGetNow(e.environment.session.serverTime);return Math.floor((r()-n)/_.ONE_DAY)}),t.getUserSubcription=i.createSelector(c.getUser,e=>e.hasProSubscription?a.Subscription.paid:a.Subscription.free),t.getUserInfo=((e,n)=>{const r=c.getUser(e),i=t.getUserSubcription(e),o=r.isB2b,s=e.environment.session.experimentBoxes.map(e=>e.split(",")[0]),u=e.environment.session.tld,l=t.getProject(),d=f.hasFamilySubscription(e);let p;f.hasFamily(e)&&(p=a.UserFamily.familyInId),d&&(p=a.UserFamily.tariffSubscription);const h=t.getRegistrationDays(e);return{subscription:i,segment:o?a.Segment.b2b:a.Segment.b2c,customSegments:null===n||void 0===n?void 0:n.segments,testids:null!==s&&void 0!==s?s:[],project:l,isNotAuthorized:!t.isAuthorized(e),settings:{registrationDays:h},tld:u,userFamily:p,isFamilyAdmin:f.isFamilyAdmin(e),isYandexStaff:r.isYandexStaff}}),t.getCurrentPromo=(e=>e.promozavr.currentPromo),t.getMaybeShowPromozavr=(e=>e.promozavr.fetchCompleted&&!e.promozavr.currentPromo),t.getTranslations=(e=>e.promozavr.translations?e.promozavr.translations:{keysets:{}}),t.getImages=(e=>e.promozavr.images),t.getWebApiUrl=(e=>`${e.config.urlsBase.webApi}/web-api/shared/models`),t.getPromozavrConfig=i.createSelector([c.getUser,d.getLogger,t.getWebApiUrl],(e,t,n)=>new o.PromozavrConfig({webApiUrl:n,uid:e.uid,logger:t}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(3),a=n(31),s=n(906),u=n(909),c=n(26),l=n(64),d=n(85),f=n(179),p=o.compose(f.withGlyphTypeArrow)(f.Icon),h=new a.Registry({id:s.cnSelect()});h.set("Trigger",c.Button).set("Popup",d.Popup).set("Menu",l.Menu).set("Icon",p);const m=o.compose(u.withTogglable,a.withRegistry(h))(s.Select);t.Select=(e=>i.default.createElement(m,Object.assign({iconProps:{glyph:"type-arrow"}},e)))}),,(function(e,t,n){"use strict";n.r(t);var r=n(70),i=n(120),o=n(193),a=n(47),s=n(27);n(415);"function"==typeof Symbol&&Symbol.observable;var u=function(){return Math.random().toString(36).substring(7).split("").join(".")};u(),u();function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function l(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}var d=l,f=(n(569),[]),p=0;function h(e){try{g(),e()}finally{y()}}function m(e){f.push(e),p||(g(),b())}function v(e){try{return g(),e()}finally{b()}}function g(){p++}function y(){p--}function b(){var e;for(y();!p&&void 0!==(e=f.shift());)h(e)}var _=function(e){return function(t){return e.some((function(e){return C(e)(t)}))}},O=function(e){return function(t){return e(t)}},E=function(e){return function(t){return t.type===String(e)}},w=function(e){return function(t){return t.type===e}},S=function(){return s.U};function C(e){var t="*"===e?S:Object(a.k)(e)?E:Object(a.a)(e)?_:Object(a.l)(e)?E:Object(a.d)(e)?O:Object(a.m)(e)?w:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var x={type:r.b},T=function(e){return e&&e.type===r.b};function P(e){void 0===e&&(e=Object(s.O)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(x):e.isEmpty()?(n.push(r),r.cancel=function(){Object(s.bb)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(x):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++)(0,e[r])(x)}}}}function k(e,t){void 0===t&&(t=Object(s.X)());var n,r=!1,i=P(t),o=function(){r||(r=!0,Object(a.d)(n)&&n(),i.close())};return n=e((function(e){T(e)?o():i.put(e)})),n=Object(s.Y)(n),r&&n(),{take:i.take,flush:i.flush,close:o}}function j(){var e,t=!1,n=[],i=n;var o=function(){i===n&&(i=n.slice())},a=function(){t=!0;var e=n=i;i=[],e.forEach((function(e){e(x)}))};return(e={})[r.e]=!0,e.put=function(e){if(!t)if(T(e))a();else for(var o=n=i,s=0,u=o.length;s<u;s++){var c=o[s];c[r.d](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=S),t?e(x):(e[r.d]=n,o(),i.push(e),e.cancel=Object(s.Y)((function(){o(),Object(s.bb)(i,e)})))},e.close=a,e}function R(){var e=j(),t=e.put;return e.put=function(e){e[r.f]?t(e):m((function(){t(e)}))},e}var I=0,A=1,D=2,M=3;function N(e,t){var n=e[r.a];Object(a.d)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var L,F=0,B=function(){return++F};function U(e){e.isRunning()&&e.cancel()}var z=((L={})[s.u]=function(e,t,n){var i=t.channel,o=void 0===i?e.channel:i,s=t.pattern,u=t.maybe,c=function(e){e instanceof Error?n(e,!0):!T(e)||u?n(e):n(r.k)};try{o.take(c,Object(a.g)(s)?C(s):null)}catch(e){return void n(e,!0)}n.cancel=c.cancel},L[s.q]=function(e,t,n){var r=t.channel,i=t.action,o=t.resolve;m((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(e){return void n(e,!0)}o&&Object(a.j)(t)?N(t,n):n(t)}))},L[s.b]=function(e,t,n,r){var i=r.digestEffect,o=F,u=Object.keys(t);if(0!==u.length){var c=Object(s.V)(t,n);u.forEach((function(e){i(t[e],o,c[e],e)}))}else n(Object(a.a)(t)?[]:{})},L[s.s]=function(e,t,n,r){var i=r.digestEffect,o=F,u=Object.keys(t),c=Object(a.a)(t)?Object(s.W)(u.length):{},l={},d=!1;u.forEach((function(e){var t=function(t,r){d||(r||Object(s.cb)(t)?(n.cancel(),n(t,r)):(n.cancel(),d=!0,c[e]=t,n(c)))};t.cancel=s.db,l[e]=t})),n.cancel=function(){d||(d=!0,u.forEach((function(e){return l[e].cancel()})))},u.forEach((function(e){d||i(t[e],o,l[e],e)}))},L[s.d]=function(e,t,n,r){var i=t.context,o=t.fn,u=t.args,c=r.task;try{var l=o.apply(i,u);if(Object(a.j)(l))return void N(l,n);if(Object(a.e)(l))return void Z(e,l,c.context,F,Object(s.T)(o),!1,n);n(l)}catch(e){n(e,!0)}},L[s.C]=function(e,t,n){var r=t.context,i=t.fn,o=t.args;try{var s=function(e,t){Object(a.n)(e)?n(t):n(e,!0)};i.apply(r,o.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(e){n(e,!0)}},L[s.g]=function(e,t,n,r){var i=t.context,o=t.fn,u=t.args,c=t.detached,l=r.task,d=(function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(Object(a.e)(i))return i;var o=!1;return Object(s.ab)((function(e){return o?{value:e,done:!0}:(o=!0,{value:i,done:!Object(a.j)(i)})}))}catch(e){return Object(s.ab)((function(){throw e}))}})({context:i,fn:o,args:u}),f=(function(e,t){return e.isSagaIterator?{name:e.meta.name}:Object(s.T)(t)})(d,o);v((function(){var t=Z(e,d,l.context,F,f,c,void 0);c?n(t):t.isRunning()?(l.queue.addTask(t),n(t)):t.isAborted()?l.queue.abort(t.error()):n(t)}))},L[s.k]=function(e,t,n,r){var i=r.task,o=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&Object(s.bb)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Object(a.a)(t)){if(0===t.length)return void n([]);var u=Object(s.V)(t,n);t.forEach((function(e,t){o(e,u[t])}))}else o(t,n)},L[s.L]=function(e,t,n,i){var o=i.task;t===r.h?U(o):Object(a.a)(t)?t.forEach(U):U(t),n()},L[s.t]=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(e){n(e,!0)}},L[s.N]=function(e,t,n){var r=t.pattern,i=P(t.buffer),o=C(r),a=function t(n){T(n)||e.channel.take(t,o),i.put(n)},s=i.close;i.close=function(){a.cancel(),s()},e.channel.take(a,o),n(i)},L[s.P]=function(e,t,n,r){n(r.task.isCancelled())},L[s.Q]=function(e,t,n){t.flush(n)},L[s.h]=function(e,t,n,r){n(r.task.context[t])},L[s.R]=function(e,t,n,r){var i=r.task;Object(s.Z)(i.context,t),n()},L);function V(e,t){return e+"?"+t}function H(e){var t=e.name,n=e.location;return n?t+"  "+V(n.fileName,n.lineNumber):t}var W=null,$=[],G=function(e){e.crashedEffect=W,$.push(e)},q=function(){W=null,$.length=0},Y=function(e){W=e},K=function(){var e=$[0],t=$.slice(1),n=e.crashedEffect?(function(e){var t=Object(s.fb)(e);return t?t.code+"  "+V(t.fileName,t.lineNumber):""})(e.crashedEffect):null;return["The above error occurred in task "+H(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+H(e.meta)})),[(function(e){var t=Object(s.eb)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""})($)]).join("\n")};function J(e,t,n,i,o,a,u){var c;void 0===u&&(u=s.db);var l,f,p=I,h=null,m=[],v=Object.create(n),g=(function(e,t,n){var r,i=[],o=!1;function a(e){t(),c(),n(e,!0)}function u(t){i.push(t),t.cont=function(u,c){o||(Object(s.bb)(i,t),t.cont=s.db,c?a(u):(t===e&&(r=u),i.length||(o=!0,n(r))))}}function c(){o||(o=!0,i.forEach((function(e){e.cont=s.db,e.cancel()})),i=[])}return u(e),{addTask:u,cancelAll:c,abort:a,getTasks:function(){return i}}})(t,(function(){m.push.apply(m,g.getTasks().map((function(e){return e.meta.name})))}),y);function y(t,n){if(n){if(p=D,G({meta:o,cancelledTasks:m}),b.isRoot){var i=K();q(),e.onError(t,{sagaStack:i})}f=t,h&&h.reject(t)}else t===r.j?p=A:p!==A&&(p=M),l=t,h&&h.resolve(t);b.cont(t,n),b.joiners.forEach((function(e){e.cb(t,n)})),b.joiners=null}var b=((c={})[r.i]=!0,c.id=i,c.meta=o,c.isRoot=a,c.context=v,c.joiners=[],c.queue=g,c.cancel=function(){p===I&&(p=A,g.cancelAll(),y(r.j,!1))},c.cont=u,c.end=y,c.setContext=function(e){Object(s.Z)(v,e)},c.toPromise=function(){return h?h.promise:(h=d(),p===D?h.reject(f):p!==I&&h.resolve(l),h.promise)},c.isRunning=function(){return p===I},c.isCancelled=function(){return p===A||p===I&&t.status===A},c.isAborted=function(){return p===D},c.result=function(){return l},c.error=function(){return f},c);return b}function Z(e,t,n,i,o,u,c){var l=e.finalizeRunEffect((function(t,n,i){if(Object(a.j)(t))N(t,i);else if(Object(a.e)(t))Z(e,t,f.context,n,o,!1,i);else if(t&&t[r.c]){var s=z[t.type];s(e,t.payload,i,p)}else i(t)}));h.cancel=s.db;var d={meta:o,cancel:function(){d.status===I&&(d.status=A,h(r.j))},status:I},f=J(e,d,n,i,o,u,c),p={task:f,digestEffect:m};return c&&(c.cancel=f.cancel),h(),f;function h(e,n){try{var o;n?(o=t.throw(e),q()):Object(s.gb)(e)?(d.status=A,h.cancel(),o=Object(a.d)(t.return)?t.return(r.j):{done:!0,value:r.j}):o=Object(s.hb)(e)?Object(a.d)(t.return)?t.return():{done:!0}:t.next(e),o.done?(d.status!==A&&(d.status=M),d.cont(o.value)):m(o.value,i,h)}catch(e){if(d.status===A)throw e;d.status=D,d.cont(e,!0)}}function m(t,n,r,i){void 0===i&&(i="");var o,a=B();function u(n,i){o||(o=!0,r.cancel=s.db,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(a,n):e.sagaMonitor.effectResolved(a,n)),i&&Y(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:a,parentEffectId:n,label:i,effect:t}),u.cancel=s.db,r.cancel=function(){o||(o=!0,u.cancel(),u.cancel=s.db,e.sagaMonitor&&e.sagaMonitor.effectCancelled(a))},l(t,a,u)}}function X(e,t){var n=e.channel,r=void 0===n?R():n,i=e.dispatch,o=e.getState,a=e.context,u=void 0===a?{}:a,l=e.sagaMonitor,d=e.effectMiddlewares,f=e.onError,p=void 0===f?s.c:f;for(var h=arguments.length,m=new Array(h>2?h-2:0),g=2;g<h;g++)m[g-2]=arguments[g];var y=t.apply(void 0,m);var b,_=B();if(l&&(l.rootSagaStarted=l.rootSagaStarted||s.db,l.effectTriggered=l.effectTriggered||s.db,l.effectResolved=l.effectResolved||s.db,l.effectRejected=l.effectRejected||s.db,l.effectCancelled=l.effectCancelled||s.db,l.actionDispatched=l.actionDispatched||s.db,l.rootSagaStarted({effectId:_,saga:t,args:m})),d){var O=c.apply(void 0,d);b=function(e){return function(t,n,r){return O((function(t){return e(t,n,r)}))(t)}}}else b=s.f;var E={channel:r,dispatch:Object(s.e)(i),getState:o,sagaMonitor:l,onError:p,finalizeRunEffect:b};return v((function(){var e=Z(E,y,u,_,Object(s.T)(t),!0,void 0);return l&&l.effectResolved(_,e),e}))}var Q=function(e){var t,n=void 0===e?{}:e,r=n.context,a=void 0===r?{}:r,u=n.channel,c=void 0===u?R():u,l=n.sagaMonitor,d=Object(o.a)(n,["context","channel","sagaMonitor"]);function f(e){var n=e.getState,r=e.dispatch;return t=X.bind(null,Object(i.a)({},d,{context:a,channel:c,dispatch:r,getState:n,sagaMonitor:l})),function(e){return function(t){l&&l.actionDispatched&&l.actionDispatched(t);var n=e(t);return c.put(t),n}}}return f.run=function(){return t.apply(void 0,arguments)},f.setContext=function(e){Object(s.Z)(a,e)},f};n.d(t,"CANCEL",(function(){return r.a})),n.d(t,"SAGA_LOCATION",(function(){return r.g})),n.d(t,"buffers",(function(){return s.i})),n.d(t,"detach",(function(){return s.j})),n.d(t,"END",(function(){return x})),n.d(t,"channel",(function(){return P})),n.d(t,"eventChannel",(function(){return k})),n.d(t,"isEnd",(function(){return T})),n.d(t,"multicastChannel",(function(){return j})),n.d(t,"runSaga",(function(){return X})),n.d(t,"stdChannel",(function(){return R}));t.default=Q}),(function(e,t,n){var r=n(23),i=n(9),o=function(e){return i.isEmpty(e)?null:e};e.exports={getAlbums:o,preprocessClusterItem:function(e){var t=e.path,n=e.item_id,i=e.width,o=e.height,a=e.beauty,s=e.albums;return{id:r.normalize(t),itemId:n,width:i,height:o,beauty:a,albums:s}},getFilteredClusterData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n={},r=e.filter((function(e){var r=e.id,i=e.albums,o=t(r);return o&&i&&i.length&&i.forEach((function(e){n[e]||(n[e]=0),n[e]++})),o}));return{size:r.length,items:r,albums:o(n)}}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),i=n(0),o=n(938),a=n(250);function s(e){var t=Object(i.useContext)(a.a),n=Object(r.__read)(Object(i.useState)((function(){return"xuniq-"+t.id+"-"+ ++t.value})),1)[0];return console.assert(o.a||t!==a.c,"When using ssr in a project, you must wrap the application in <SSRProvider> for id synchronization between the server and the client."),e||n}}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r="UPDATE_PHOTOSLICE",i="FETCH_PHOTOSLICE_SUCCESS",o="PHOTO_SELECTION"}),(function(e,t,n){"use strict";e.exports=n(826)}),(function(e,t,n){"use strict";e.exports=n(829)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePreventScroll=void 0;var r=n(1),i=n(0),o=n(332),a=r.__importStar(n(907));t.usePreventScroll=function(e){var t=e.enabled,n=e.containerRef,r=(0,i.useRef)(null),s=(0,i.useRef)(!1);(0,o.useIsomorphicLayoutEffect)((function(){var e=n?n.current:null;r.current!==e&&(t&&s.current&&(a.unlock(r.current),a.lock(e)),r.current=e)})),(0,o.useIsomorphicLayoutEffect)((function(){if(t)return s.current=!0,a.lock(r.current),function(){s.current=!1,a.unlock(r.current)}}),[t])}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1130);n(1920),t.Tooltip=r.compose(i.withViewDefault,r.composeU(i.withSizeS,i.withSizeM))(i.Tooltip)}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n.n(r),o=n(10),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(2),y=n.n(g),b=n(0),_=n.n(b),O=n(189),E=n(191),w=n(26),S=n(85),C=n(147),x=n(64),T=n(45),P=n(11),k=n.n(P);n(1939);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var R=function(){return k()()("groupable-buttons")},I=(function(e){h()(n,e);var t=j(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={popupMoreButtonsVisible:!1,hiddenButtonIndexes:[]},r._onMoreButtonsPopupOutsideClick=r._onMoreButtonsPopupOutsideClick.bind(f()(r)),r._onMoreButtonsPopupToggle=r._onMoreButtonsPopupToggle.bind(f()(r)),r._updateInvisibleButtons=r._updateInvisibleButtons.bind(f()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(f()(r)),r._popupMoreButtonsAnchor=_.a.createRef(),r._moreContainerRef=_.a.createRef(),r}return l()(n,[{key:"closeDropdown",value:function(){this.state.popupMoreButtonsVisible&&this.setState({popupMoreButtonsVisible:!1})}},{key:"componentDidMount",value:function(){this.props.collapsible&&(this._updateButtonsSizes(),this._updateInvisibleButtons(),window.addEventListener("resize",this._updateInvisibleButtons))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateInvisibleButtons)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.collapsible&&this._buttonsWasChanged(e)&&this.setState({hiddenButtonIndexes:[]})}},{key:"componentDidUpdate",value:function(e){this.props.collapsible&&this._buttonsWasChanged(e)&&(this._updateButtonsSizes(),this._updateInvisibleButtons())}},{key:"_buttonsWasChanged",value:function(e){return this.props.buttons.length!==e.buttons.length||this.props.buttons.some((function(t,n){return t.id!==e.buttons[n].id}))}},{key:"_getBoundaryRef",value:function(){return this._boundaryRef||(this._boundaryRef={current:"undefined"!=typeof document?document.body:null}),this._boundaryRef}},{key:"_updateButtonsSizes",value:function(){var e=this;if(this.props.buttons.length&&this._visibleButtonsContainerNode){var t=Array.from(this._visibleButtonsContainerNode.childNodes).filter((function(t){var n;return t!==(null===(n=e.props.renderBeforeRef)||void 0===n?void 0:n.current)})).map((function(t,n){var r=getComputedStyle(t),i=t.getBoundingClientRect().width+parseFloat(r["margin-left"])+parseFloat(r["margin-right"]);return Object.assign({hidePriority:0},e.props.buttons[n],{width:i,index:n})})),n=0;this._breakpoints=t.sort((function(e,t){return e.hidePriority>t.hidePriority?-1:1})).map((function(e){return{value:n+=e.width,buttonIndex:e.index}}))}}},{key:"_updateInvisibleButtons",value:function(){var e,t;if(this.props.buttons.length&&this._breakpoints&&this._visibleButtonsContainerNode){for(var n=this._visibleButtonsContainerNode.getBoundingClientRect().width-((null===(e=this.props.renderBeforeRef)||void 0===e||null===(e=e.current)||void 0===e||null===(t=e.getBoundingClientRect)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t.width)||0),r=[],i=this._breakpoints.length-1;i>=0;i--)this._breakpoints[i].value>n&&r.push(this._breakpoints[i].buttonIndex);var o={hiddenButtonIndexes:r};this._allButtonsAreVisible(o)&&this.state.popupMoreButtonsVisible&&(o.popupMoreButtonsVisible=!1),this.state.hiddenButtonIndexes.length!==r.length&&this.setState(o)}}},{key:"_allButtonsAreVisible",value:function(e){return 0===e.hiddenButtonIndexes.length&&this.props.buttons.every((function(e){return!e.hidden}))}},{key:"_onMoreButtonsPopupOutsideClick",value:function(){this.props.onMoreClose(),this.setState({popupMoreButtonsVisible:!1})}},{key:"_onMoreButtonsPopupToggle",value:function(){this.state.popupMoreButtonsVisible?this.props.onMoreClose():this.props.onMoreOpen(),this.setState({popupMoreButtonsVisible:!this.state.popupMoreButtonsVisible})}},{key:"render",value:function(){return _.a.createElement("div",{className:R()},this._renderVisibleButtons(),this._renderOtherButtons())}},{key:"_renderVisibleButtons",value:function(){var e=this;return _.a.createElement("div",{className:R().e("visible-buttons"),ref:function(t){e._visibleButtonsContainerNode=t}},this.props.renderBefore||null,this.props.buttons.filter((function(e){return!e.hidden})).map((function(t,n){var r=t.id,o=t.text,s=t.icon,u=t.iconOnly,c=t.noTooltip,l=t.tooltipText,d=t.content,f=t.disabled,p=t.view,h=t.Component,m=t.key,v=e.state.hiddenButtonIndexes.includes(n),g=e.props.disabled||f,y=m||r,b=!c&&!e.props.isMobile,O=null;if(d)O="function"==typeof d?d(v):d;else{var S=h||w.Button;O=_.a.createElement(S,i()({className:R().e("visible-button").m({name:r}).mix(v?"hidden":""),onClick:function(){return e.props.onButtonClick(r)},size:"m",disabled:g,view:p||e.props.view,"aria-label":o},a()({},u||!o?"icon":"iconLeft",s),b?null:{key:y}),u?null:o)}return b?_.a.createElement(E.default,{key:y,text:u?o:l,disabled:g||!u&&!l||v,boundary:e._getBoundaryRef()},O):O})))}},{key:"_renderMoreButton",value:function(){var e=this.props,t=e.moreButtonSize,n=e.moreIconSize,r=_.a.createElement(w.Button,{innerRef:this._popupMoreButtonsAnchor,onClick:this._onMoreButtonsPopupToggle,className:R().e("more-button"),"aria-label":this.props.moreButtonsText,view:this.props.view,disabled:this.props.disabled,size:t||"m",icon:function(e){return _.a.createElement(O.default,{iconSize:n,cls:e})}});return this.props.isMobile?r:_.a.createElement(E.default,{text:this.props.moreButtonsText,disabled:!this.props.moreButtonsText||this.state.popupMoreButtonsVisible,direction:this.props.moreButtonsHoverTooltipText,boundary:this._getBoundaryRef()},r)}},{key:"_renderOtherButtons",value:function(){var e=this,t=this.props.buttons.map((function(e,t){return Object.assign({group:0,position:t},e)})).sort((function(e,t){return e.group===t.group?e.position-t.position:e.group-t.group})).reduce((function(e,t){return 0===e.length||e[e.length-1].group!==t.group?e.push({group:t.group,buttons:[t]}):e[e.length-1].buttons.push(t),e}),[]),n=_.a.createElement(x.Menu,{className:R().e("menu-buttons"),view:"default",size:"m",wide:!0,onChange:this._onMenuItemClick},t.map((function(t,n){var r=0===n&&e.props.collapsible,i=r&&0===e.state.hiddenButtonIndexes.length?"hidden":"";return _.a.createElement(x.Group,{key:t.group,className:R().e("groupable-menu-buttons").mix(i)},t.buttons.map((function(t,n){var i=r&&!e.state.hiddenButtonIndexes.includes(n);return e._getMenuItem(t,i)})).filter(Boolean))}))),r=R().e("more-button-popup").mix(T.LISTING_PREVENT_DESELECT_CLASS);return _.a.createElement("div",{className:R().e("more-button-wrap").m({invisible:this._allButtonsAreVisible(this.state)}),ref:this._moreContainerRef},this._renderMoreButton(),this.props.useMobilePane?_.a.createElement(C.Drawer,{className:r,onClose:this._onMoreButtonsPopupOutsideClick,view:"default",visible:this.state.popupMoreButtonsVisible},n):_.a.createElement(S.Popup,{view:"default",direction:this.props.moreButtonsPopupDirections||["bottom-end"],className:r,visible:this.state.popupMoreButtonsVisible,target:"anchor",anchor:this._popupMoreButtonsAnchor,onClose:this._onMoreButtonsPopupOutsideClick,scope:this.props.popupScope||this._moreContainerRef},n))}},{key:"_onMenuItemClick",value:function(e){this._popupMoreButtonsAnchor.current.focus(),this.props.onButtonClick(e.target.value),this.setState({popupMoreButtonsVisible:!1})}},{key:"_getMenuItem",value:function(e,t){return e.content?null:_.a.createElement(x.Item,{key:e.id,value:e.id,disabled:this.props.disabled||e.disabled,className:R().e("menu-button").m({action:e.id}).mix(t?"hidden":""),tooltipText:e.tooltipText,icon:e.icon,tabIndex:0},e.text)}}]),n})(b.PureComponent);I.defaultProps={onMoreClose:function(){},onMoreOpen:function(){}},t.default=I}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return b}));var r=n(44),i=n(36),o=n(122),a=n(98),s=n(156),u=n(32),c=n(15),l=n(417),d=n(67),f=n(409),p=n(59),h=n(114),m=function(e){return function(t,n){var r=Object(s.getSliderResourceNeighbour)(n(),e);!(function(e){e?ns.action.run("app.openSlider",{id:e}):ns.action.run("dialog.close")})(r&&r.id)}},v=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return function(u,c){var d=t.includes(-1)?-r:0,f=t.includes(1)?r:0;return u(function(e,t,n){return function(r,s){var u=s(),c=Object(i.sliderResourceSelector)(u),d=Object(a.getAllItems)(u),f=n||c.clusterId,p=Object(o.d)(d,f,(function(e){return e.id})),h=d[p.index].items,m={clusterIndex:p.index,resourceIndex:h.findIndex((function(e){return e.id===c.id}))},v=Object(a.getResourcePosition)(u,Object.assign({diff:e},m)),g=Object(a.getResourcePosition)(u,Object.assign({diff:t},m));return 0!==v.diff||0!==g.diff?r(Object(l.d)([[v,g]])):Promise.resolve()}}(d,f,n)).then((function(){var o=c();if(Object(i.getCurrentSliderResource)(o)){var a=Object(s.getPhotosliceSliderResources)(o),l=a.sliderResources,d=a.possiblyHasPrevious,f=a.possiblyHasNext,p=Object(i.getCurrentSliderResource)(o).id;return t.filter((function(e){return Object(h.c)({resources:l,activeResource:l.find((function(e){return e.id===p})),possiblyHasPrevious:d,possiblyHasNext:f},e)})).length?u(e(t,n,r+30)):void 0}}))}},g=function(e){return function(t,n){var i=n(),o=Object(r.getPage)(i);if("remember-block"!==o)return"photo"===o?t(v(e)):"album"===o?Object(u.getCurrentAlbum)(i).isCompleted?void 0:t(Object(d.fetchAlbumWithItems)()):t(Object(c.fetchCurrentListing)())}},y=function(){return function(e,t){var n=t(),r=Object(i.getCurrentSliderResource)(n);if(r&&r.meta){var s=Object(o.c)(Object(a.getAllItems)(n),1e3*r.meta.photoslice_time);s&&!s.items&&e(Object(l.c)(s.id)).then((function(){e(Object(c.setResourceData)(r.id,Object.assign({clusterId:s.id},r))),Object(i.getCurrentSliderResource)(t())&&e(v([-1,1],s.id))}))}}},b=function(){return function(e,t){var n=Object(i.getNextSliderResource)(t());if(!n||"audio"!==n.meta.mediatype||!Object(f.a)(n.meta.mimetype))return e(Object(p.updateSettings)({autoplayAudio:!1}));e(m(1))}}}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}t.default=function(e,t,n,r){var o=Array.isArray(t)?t.slice():[t],s=o.map((function(e){return"saved"+e[0].toUpperCase()+e.slice(1)})),c=Array.isArray(t)?r:[r],l=(function(t){u()(l,t);var r=m(l);function l(e){var t;i()(this,l),t=r.call(this,e);var a=n(t.props);return t.state=o.reduce((function(e,n,r){return e[s[r]]=a?t.props[n]:c[r],e}),{}),t}return a()(l,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(n(e)){var t=o.reduce((function(t,n,r){return t[s[r]]=e[n],t}),{});this.setState(t)}}},{key:"render",value:function(){var t=Object.assign({},this.state,this.props);return h.a.createElement(e,t)}}]),l})(p.Component);return l.displayName="WithSavedProps(".concat(e.displayName||e.name,")"),l}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(16),o=r(n(0)),a=n(15),s=n(56),u=n(484),c=n(97),l=n(894),d=n(136),f=n(2008),p=n(29),h=n(65),m=n(484),v=n(30),g={[v.PUBLISH]:"openShareDialog",[v.UNPUBLISH]:"unpublishResource",[v.FOTKI_INFO]:"showResourceFotkiInfo",[v.DOWNLOAD]:"downloadResource",[v.SHOW_FULLSIZE]:"showFullsizeResource",[v.SET_AS_COVER]:"setResourceAsAlbumCover",[v.EDIT]:"editResource",[v.VIEW]:"openResource",[v.COPY]:"copyResource",[v.MOVE]:"moveResource",[v.DELETE]:"deleteOrLeaveFolderOperation",[v.DELETE_FROM_TRASH]:"deleteOrLeaveFolderOperation",[v.RENAME]:"renameResource",[v.ADD_TO_ALBUM]:"addToAlbum",[v.EXCLUDE_FROM_ALBUM]:"excludeFromAlbum",[v.EXCLUDE_FROM_GEO_ALBUM]:"excludeFromGeoAlbum",[v.EXCLUDE_FROM_PERSONAL_ALBUM]:"removeResourceAlbumOperation",[v.GO_TO_FILE]:"goToResource",[v.GO_TO_FOLDER]:"goToResource",[v.VERSIONS]:"openVersionsDialog",[v.RESTORE]:"restoreOperation",[v.SHARE_ACCESS]:"openSharedFolderAccessDialog",[v.CLEAN_TRASH]:"cleanTrash",[v.PIN]:"remoteTogglePinDoc",[v.REMOVE_FROM_DOCS]:"removeFromDocs",[v.WFOLIO_CREATE_PROJECT]:"wfolioCreateProjectOperation",[v.WFOLIO_COPY_PROJECT_URL]:"wfolioCopyUrl",[v.WFOLIO_SET_PROJECT_SETTINGS]:"wfolioSetSettings",[v.WFOLIO_DELETE_PROJECT]:"wfolioDeleteProjectOperation"},y=[v.DELETE,v.DELETE_FROM_TRASH,v.RESTORE,v.EXCLUDE_FROM_PERSONAL_ALBUM];t.default=((e,t,n)=>{const r={openShareDialog:u.openShareDialog,publishObject:m.publishObject,unpublishObject:m.unpublishObject,publishAlbum:h.publishAlbum,unpublishAlbum:h.unpublishAlbum,publishResource:a.publishResource,unpublishResource:a.unpublishResource,showResourceFotkiInfo:a.showResourceFotkiInfo,showFullsizeResource:a.showFullsizeResource,setResourceAsAlbumCover:h.setResourceAsAlbumCover,downloadResource:a.downloadResource,copyResource:a.copyResource,deleteOrLeaveFolderOperation:s.deleteOrLeaveFolderOperation,moveResource:a.moveResource,goToResource:a.goToResource,editResource:a.editResource,restoreOperation:s.restoreOperation,openSharedFolderAccessDialog:a.openSharedFolderAccessDialog,openVersionsDialog:l.openVersionsDialog,renameResource:f.renameResource,cleanTrash:p.cleanTrash,createAlbum:h.createAlbum,addToAlbum:h.addToAlbum,addToCurrentAlbum:h.addToCurrentAlbum,excludeFromAlbum:h.excludeFromAlbum,excludeFromGeoAlbum:h.excludeFromGeoAlbum,removeResourceAlbumOperation:s.removeResourceAlbumOperation,openResource:a.openResourceById,deselectAllStatesContext:d.deselectAllStatesContext,copyPublicLink:p.copyPublicLink,maybeBlockAction:p.maybeBlockAction,remoteTogglePinDoc:c.remoteTogglePinDoc,removeFromDocs:c.removeFromDocs,wfolioCreateProjectOperation:s.wfolioCreateProjectOperation,wfolioDeleteProjectOperation:s.wfolioDeleteProjectOperation,wfolioCopyUrl:a.wfolioCopyUrl,wfolioSetSettings:a.wfolioSetSettings},b=i.connect((e,n)=>{const r=n.resources?n.resources:t(e);return{page:e.page,resources:r,availableActions:v.getAvailableActions(r,e),disableReasons:v.getDisableReasons(r,e)}},r);return b(class extends o.Component{constructor(e){super(e),this._onAction=this._onAction.bind(this),this._onKeyDown=this._onKeyDown.bind(this)}componentDidMount(){n&&window.addEventListener("keydown",this._onKeyDown)}componentWillUnmount(){n&&window.removeEventListener("keydown",this._onKeyDown)}_onKeyDown(e){var t;const{availableActions:n,resources:r}=this.props;r.length&&(46!==e.keyCode||(null===(t=e.target)||void 0===t?void 0:t.closest("input"))||(n.includes(v.DELETE)&&this._onAction(v.DELETE),n.includes(v.DELETE_FROM_TRASH)&&this._onAction(v.DELETE_FROM_TRASH)))}_getSelectedIds(){const e=this.props.resources;return e.length>1?e.map(e=>e.id):e[0].id}_getActionParams(e){return e===v.PUBLISH&&this.props.metrikaContext?[this.props.metrikaContext]:[]}_onAction(e){this.props[g[e]](this._getSelectedIds(),...this._getActionParams(e)),y.includes(e)&&this.props.deselectAllStatesContext()}render(){const{availableActions:t,disableReasons:n}=this.props,r=t.reduce((e,t)=>(e[t]={disabled:!1},e),{});return n.forEach(({action:e,reason:t})=>{r[e]={disabled:!0,tooltipText:v.reasonsMessages[t]}}),o.default.createElement(e,Object.assign({},this.props,{actions:r,availableActions:t,onAction:this._onAction}))}})})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"goToFileIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M2 10.031h2.999v2.519l4.407-3.526L4.999 5.5v2.531H2V0h8l4 4v12H2z",fill:"currentColor",fillRule:"nonzero"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"historyIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},h.a.createElement("path",{fillRule:"nonzero",d:"M11.437 9.791l-.358.715a.5.5 0 0 1-.671.224L8.376 9.712a.5.5 0 0 1-.276-.447V5.551a.5.5 0 0 1 .5-.5h.8a.5.5 0 0 1 .5.5v2.911l1.314.658a.5.5 0 0 1 .223.671z"}),h.a.createElement("path",{fillRule:"nonzero",d:"M1.8 7.172l1.982.27a5.151 5.151 0 0 1 10.252.708 5.15 5.15 0 0 1-9.147 3.248.193.193 0 0 0-.268-.016c-.294.224-.731.54-1.29.979-.11.087-.069.206-.03.253A7.15 7.15 0 1 0 1.8 7.171z"}),h.a.createElement("path",{d:"M.374 6h5.252a.2.2 0 0 1 .167.31l-2.627 3.94a.2.2 0 0 1-.332 0L.207 6.31A.2.2 0 0 1 .374 6z"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"coverIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M.097 1.485C0 1.675 0 1.925 0 2.422v10.156c0 .498 0 .747.097.937a.889.889 0 0 0 .388.388c.19.097.44.097.937.097h13.156c.498 0 .747 0 .937-.097a.889.889 0 0 0 .388-.388c.097-.19.097-.44.097-.937V2.422c0-.498 0-.747-.097-.937a.889.889 0 0 0-.388-.388C15.325 1 15.075 1 14.578 1H1.422c-.498 0-.747 0-.937.097a.889.889 0 0 0-.388.388zm.95.753C1 2.33 1 2.453 1 2.697v9.606c0 .244 0 .366.047.46a.435.435 0 0 0 .19.19c.094.047.216.047.46.047h12.606c.244 0 .366 0 .46-.047a.435.435 0 0 0 .19-.19c.047-.094.047-.216.047-.46V2.697c0-.244 0-.366-.047-.46a.435.435 0 0 0-.19-.19C14.668 2 14.546 2 14.302 2H1.697c-.244 0-.366 0-.46.047a.435.435 0 0 0-.19.19z"}),h.a.createElement("rect",{fill:"currentColor",x:"2",y:"3",width:"12",height:"8",rx:".444"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"restoreIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M13.002 8a5 5 0 0 0-5-5 4.94 4.94 0 0 0-3.316 1.282l2.316 2.12L0 8.127 1.1 1l2.098 1.92A6.958 6.958 0 0 1 8.002 1a7 7 0 0 1 0 14 6.995 6.995 0 0 1-6.256-3.872l1.8-.901C4.37 11.865 6.046 13 8.003 13a5 5 0 0 0 5-5h-.001z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=(n(2138),n(0)),y=n.n(g),b=n(11),_=n.n(b),O=n(26),E=n(601);function w(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var S=function(){return _()()("upload-button")},C=(function(e){f()(n,e);var t=w(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={focused:!1},r._handleChange=r._handleChange.bind(l()(r)),r._onFocus=r._onFocus.bind(l()(r)),r._onBlur=r._onBlur.bind(l()(r)),r.reset=r.reset.bind(l()(r)),r}return u()(n,[{key:"reset",value:function(){this._fileInput&&(this._fileInput.value="")}},{key:"_handleChange",value:function(e){var t=e.target.files;"function"==typeof this.props.onChange&&t&&t.length>0&&this.props.onChange(t,this.reset)}},{key:"_onFocus",value:function(){this.setState({focused:!0})}},{key:"_onBlur",value:function(){this.setState({focused:!1})}},{key:"render",value:function(){var e=this,t={};switch(this.props.theme){case"clear":t.view="clear";break;case"clear-black":t.view="clear-black";break;case"yellow-white":t.view="action",t.theme="raised";break;default:t.view="raised"}return y.a.createElement(O.Button,i()({className:S().m({"without-text":!this.props.text,focused:this.state.focused}).mix(this.props.cls),size:this.props.size,title:this.props.title,width:this.props.width,disabled:this.props.disabled,onClick:this.props.onClick,as:"span",iconLeft:this.props.icon},t),this.props.withoutInput?null:y.a.createElement("div",{className:S().e("attach-wrapper")},y.a.createElement("input",{ref:function(t){e._fileInput=t},className:S().e("attach"),type:"file",accept:this.props.accept.join(","),multiple:!0,title:this.props.title,onChange:this._handleChange,onFocus:this._onFocus,onBlur:this._onBlur,disabled:this.props.disabled})),this.props.text)}}]),n})(g.PureComponent);C.defaultProps={theme:"yellow-white",icon:E.a,size:"m",text:null,accept:[],withoutInput:!1,onClick:function(){}},t.default=C}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(0),y=n.n(g),b=n(155),_=n(256);function O(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var E=(function(e){f()(n,e);var t=O(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._setRef=r._setRef.bind(l()(r)),r._onTextChange=r._onTextChange.bind(l()(r)),r.state={text:r.props.text},r}return u()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.text&&this.props.text===e.text||this.setState({text:e.text})}},{key:"_onTextChange",value:function(e){var t=e.target.value;this.setState({text:t}),this.props.onChange(t)}},{key:"reset",value:function(){this.setState({text:null})}},{key:"_setRef",value:function(e){var t=this.props.controlRef;"function"==typeof t&&t(e)}},{key:"render",value:function(){return y.a.createElement(_.Textinput,i()({view:this.props.view||"normal"},this.props,{controlRef:this._setRef,onChange:this._onTextChange,value:this.state.text||""}))}}]),n})(g.Component);E.defaultProps={onChange:function(){}};var w=E,S=n(11),C=n.n(S);n(2311);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var T=function(){return C()()("rename-dialog")},P=(function(e){f()(n,e);var t=x(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onFormSubmit=r._onFormSubmit.bind(l()(r)),r._setInputRef=r._setInputRef.bind(l()(r)),r._onModalAnimationEnd=r._onModalAnimationEnd.bind(l()(r)),r}return u()(n,[{key:"_onFormSubmit",value:function(e){e.preventDefault(),this.props.submitDisabled||this.props.onSubmit()}},{key:"_setInputRef",value:function(e){this._input=e}},{key:"_onModalAnimationEnd",value:function(){var e=this.props,t=e.dontSelectExtention,n=e.renameText,r=t?n.lastIndexOf("."):-1;this._input&&(this._input.focus(),this._input.setSelectionRange(0,r>=0?r:n.length)),this.props.onAnimationEnd&&this.props.onAnimationEnd()}},{key:"_getContent",value:function(){var e=this;return y.a.createElement("div",{className:T().e("content")},this.props.children,y.a.createElement("form",{className:T().e("rename-form"),onSubmit:this._onFormSubmit},y.a.createElement(w,{view:"default",size:"m",controlRef:this._setInputRef,ref:function(t){e._inputRef=t},onChange:this.props.onTextChange,text:this.props.renameText,disabled:this.props.progress})),y.a.createElement("div",{className:T().e("rename-error")},this.props.errorText))}},{key:"render",value:function(){return y.a.createElement(b.default,i()({},this.props,{onAnimationEnd:this._onModalAnimationEnd}),this._getContent())}}]),n})(g.Component);P.defaultProps=Object.assign({},b.default.defaultProps,{onTextChange:function(){}});t.default=P}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t,n=e.billingProducts,r=null===n||void 0===n||null===(t=n.active_promo)||void 0===t?void 0:t.key;if(r){var i;try{var o,a;i=(null===n||void 0===n||null===(o=n.active_promo)||void 0===o?void 0:o.payload)&&JSON.parse(null===n||void 0===n||null===(a=n.active_promo)||void 0===a?void 0:a.payload)}catch(e){}if(i)return i.id=r,i}}}),(function(e,t,n){"use strict";var r=n(9),i=n.n(r),o=function(){};o.define=function(e,t){return ns.Model.define(e,t,o)},no.inherit(o,ns.Model,{_init:function(e){var t;this.limit=ns.Model.infoLite(e).limit||10,this.items=[],this.itemsProcessing=[],this.busy=!1;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=ns.Model.prototype._init).call.apply(t,[this,e].concat(r))},push:function(e){var t=this.createItem(e);return this.items.push(t),this.trigger("added",t),this.nextTick(this.doIteration),t.promise},pushPriority:function(e){var t=this.createItem(e),n=this.items.indexOf(this.itemLastPriority);return this.items.splice(n+1,0,t),this.itemLastPriority=t,this.trigger("added",t),this.doIteration(),t.promise},doIteration:function(){var e=this;if(!this.busy){var t=this.getPortion(),n=function(){e.busy=!1,e.trigger("processed",t),e.doIteration()};t.length?(this.busy=!0,this.handlePortion(t).then(n,n),this.trigger("processing",t)):this.trigger("drained")}},getPortion:function(){return this.items.splice(0,this.limit)},createItem:function(e){return{item:e,promise:new Vow.Promise}},handlePortion:function(){throw new Error("You must implement method `handlePortion` in model "+this.id)},nextTick:function(e){i.a.defer(e.bind(this))}}),t.a=o}),(function(e,t){var n=function(e,t){return new Date(new Date(e).setDate(e.getDate()-t))};e.exports={getDaysAgoDate:n,wasItYesterday:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,r=n(t,1);return e.toDateString()===r.toDateString()}}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});const i={isActive:!1,type:null},o=n(100).createSlice({name:"readOnly",initialState:i,reducers:{activateReadOnly(e,t){const{type:n}=t.payload;e.isActive=!0,e.type=n},deactivateReadOnly(e){e.isActive=i.isActive,e.type=i.type}}});r=o.actions,t.activateReadOnly=r.activateReadOnly,t.deactivateReadOnly=r.deactivateReadOnly,t.default=o.reducer}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReadOnlyActive=(e=>e.readOnly.isActive),t.readOnlyType=(e=>e.readOnly.type)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.TECH="TECH",e.LIMIT="LIMIT"})(t.Type||(t.Type={}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getOperationType",(function(){return a})),n.d(t,"getContextOperationsData",(function(){return d})),n.d(t,"hasStartingOperations",(function(){return f})),n.d(t,"getActiveOperationsType",(function(){return p}));var r=n(23),i=n.n(r),o=n(80),a=function(e){return"leaveFolder"===e?"delete":"removeResourceAlbum"===e?"excludeFromAlbum":e},s=function(e){var t=e.type,n=e.data,r=n.status,i=n.isRemote,o=n.idFolderDst;return["copy","move"].includes(t)?Boolean(r&&!i&&o&&"exists"!==r):!!["cleanTrash","createAlbum","mergeAlbums","addToAlbum","removeResourceAlbum","excludeFromAlbum"].includes(t)||Boolean(r&&!i)},u=function(e){return["canceled","rejected"].includes(e.data.status)},c=function(e){return["canceled","failed","done","rejected"].includes(e.data.status)},l=function(e){var t=e.type,n=e.data.status;return"move"===t?"moving"===n:!!["rename","cleanTrash","createAlbum","mergeAlbums","addToAlbum","removeResourceAlbum","excludeFromAlbum"].includes(t)||["progressing"].includes(n)},d=function(e){var t=e.page.idContext,n=Object(o.getContextOperationsData)(e),r=Object.keys(e.operations).reduce((function(n,r){var o=e.operations[r],s=(function(e){var t=e.type,n=e.data,r=n.idSrc,o=n.idFolderDst,a=n.srcContextId;switch(t){case"copy":case"move":return o;case"delete":case"leaveFolder":return i.a.dirname(r);case"restore":return"/trash";case"rename":return a||i.a.dirname(r);case"cleanTrash":return"/trash";case"removeResourceAlbum":case"excludeFromAlbum":case"addToAlbum":case"mergeAlbums":return a;default:return null}})(o),d=c(o),f=a(o.type);return!l(o)&&!c(o)||u(o)||s&&s!==t||(n.total++,n.finished+=d?1:0,n.type=!n.type||"multi"!==n.type&&n.type===f?f:"multi"),n}),{total:0,finished:0,type:null}),s={type:null,total:n.total+r.total,finished:n.finished+r.finished},d=[n.type,r.type].filter(Boolean);return d.length>1?s.type="multi":d.length&&(s.type=d[0]),s.type&&s.total!==s.finished?s:null},f=function(e){return Boolean(Object.keys(e.operations).some((function(t){return (function(e){var t=e.type,n=e.data.status;return"copy"===t?["determined","forced"].includes(n):"move"===t?["started","forced"].includes(n):s(e)&&!l(e)&&!c(e)})(e.operations[t])})))||Object(o.hasStartingOperations)(e)},p=function(e){var t=Object(o.getActiveOperationsType)(e);return Object.keys(e.operations).reduce((function(t,n){var r=e.operations[n];if(s(r)&&!u(r)){var i=a(r.type);t?t!==i&&(t="multi"):t=i}return t}),t)}}),(function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(22),i=n.n(r),o=n(9),a=n.n(o),s=n(14),u=["family-folder","create","success"],c=["family-folder","create","error"];var l=function(){s.default.count.apply(s.default,u)},d=function(e){s.default.count.apply(s.default,i()(function(e){if(a.a.isNil(e))return c.concat("unknown");if(e instanceof Response)return c.concat("http_".concat(e.status));var t=a.a.get(e,"error.type","unknown");if("mpfs"===t){var n=a.a.get(e,"error.code","unknown"),r=a.a.get(e,"error.statusCode","unknown");return c.concat("mpfs_".concat(n,"_").concat(r))}return c.concat(t)}(e)))},f=function(){s.default.count.apply(s.default,c.concat(["exists"]))}}),(function(e,t,n){"use strict";n.r(t);var r=n(555);n.d(t,"cnPopup",(function(){return r.b})),n.d(t,"Popup",(function(){return r.a})),n.d(t,"withNonvisual",(function(){return r.d})),n.d(t,"withTargetAnchor",(function(){return r.e})),n.d(t,"withThemeClear",(function(){return r.f})),n.d(t,"withThemeNormal",(function(){return r.g})),n.d(t,"withViewDefault",(function(){return r.h})),n.d(t,"directions",(function(){return r.c}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(115),i=n(44);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)})(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t=e.config.links.help.versionControl,n=e.environment.agent,a=n.isMobile,s=n.isInMobileApp,u=n.isSearchApp,c=e.user,l=c.paid,d=c.b2b_paid,f=c.isYandexStaff,p=e.dialogs,h=e.resources,m=e.versions,v=m.loading,g=m.error,y=m.versions,b=m.completed,_=m.subversions,O=m.iterationKey,E=e.sharedFoldersUsers,w=p.versions;if(w&&w.data&&w.data.resourcePath&&h[w.data.resourcePath]){var S,C,x,T=w.data.resourcePath,P=h[T],k=P.meta.resource_id,j=Boolean(P.meta.group&&P.meta.group.is_shared),R=Boolean(P.meta.group&&P.meta.group.in_readonly),I=Boolean(l||d||f);if(j){var A,D=o(P.parents.reverse());try{for(D.s();!(A=D.n()).done;){var M=A.value.id;if(!h[M]){x=M;break}if(h[M].meta&&h[M].meta.group&&h[M].meta.group.is_root){C=h[M].meta.group.gid;break}}}catch(e){D.e(e)}finally{D.f()}C&&E[C]&&E[C].users&&(S=E[C].users.reduce((function(e,t){return e[t.uid]=t,e}),{}))}var N=Object(r.isIosSafariSelector)(e);return{isTouch:a,shouldShowBuyButton:(!s||u)&&Object(i.shouldShowBuyButton)(e),isIosSafari:N,isReadonly:R,hasPreview:"docviewer"===P.app,visible:"opened"===w.state,resourcePath:T,resource:P,resourceId:k,gid:C,parentToLoad:x,versions:y,iterationKey:O,subversions:_,completed:b,isShared:j,users:S,loading:v,error:g,versionControlHelpUrl:t,paidVersioning:I,buyButtonUrl:Object(i.getBuyButtonUrl)(e)}}return{visible:!1}}}),(function(e,t){var n=function(e){return Boolean(null===e||void 0===e?void 0:e.start_discount)};e.exports={isPriceWithTemporaryDiscount:n,getBestPrice:function(e){return n(e)?e.start_discount.price:e.amount}}}),(function(e,t){e.exports={TLD:{ru:28},SERVICE:{disk:1008},APP:{client:2989},BLOCK:{listing:3e3,slider:1109,photo:275,albums:3001,album:58,journal:3002,remember:3982},DEVICE:{touch:584}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(103),i=n.n(r),o=n(10),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(166),h=n.n(p),m=n(6),v=n.n(m),g=n(7),y=n.n(g),b=n(2),_=n.n(b),O=(n(0),n(25)),E=n.n(O),w=n(9),S=n.n(w),C=n(527),x=n(134),T=n(122);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var k={NONE:"NONE",SOME:"SOME",ALL:"ALL"};function j(e,t){var n=Object(x.sortedFind)(t,e,(function(e,t){var n=e.offset,r=e.size;return t<n?1:t>=n+r?-1:0}));return{clusterIndex:n,resourceIndex:e-t[n].offset}}function R(e,t,n){return t.clusterIndex===e.clusterIndex?t.resourceIndex-e.resourceIndex==1:t.clusterIndex-e.clusterIndex==1&&e.resourceIndex===n[e.clusterIndex].size-1&&0===t.resourceIndex}t.b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(function(n){v()(o,n);var r=P(o);function o(e){var n;return u()(this,o),(n=r.call(this,e))._clustersOffsets=[],n._clustersOffsetsById={},n._clustersById={},n._anchorIndexPath={clusterIndex:0,resourceIndex:0},n._clustersWithSelectedResources={},n._onSelectClusters=n._onSelectClusters.bind(f()(n)),n._getClusterSelectionState=n._getClusterSelectionState.bind(f()(n)),t.forEach((function(e){n[e]=function(){var t;return n._wrappedComponentRef&&(t=n._wrappedComponentRef)[e].apply(t,arguments)}})),n}return l()(o,[{key:"componentDidMount",value:function(){this._updateClustersOffsets(this.props.items),h()(_()(o.prototype),"componentDidMount",this).call(this)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._photosliceStructureChanged(e)&&this._updateClustersOffsets(e.items),h()(_()(o.prototype),"UNSAFE_componentWillReceiveProps",this).call(this,e)}},{key:"componentDidUpdate",value:function(e){h()(_()(o.prototype),"componentDidUpdate",this).call(this,e),this._shouldTriggerSelectionChangeAction&&this._fetchResources()}},{key:"_photosliceStructureChanged",value:function(e){return this.props.items!==e.items}},{key:"_getSelectedResourcesFromProps",value:function(e){var t=this;return this._clustersWithSelectedResources={},e.selectedResources.reduce((function(n,r){var i=t.props.getResourceById(r);if(!i)return n;var o=Object(T.g)(e.items,i);return o&&(t._clustersWithSelectedResources[e.items[o.clusterIndex].id]=!0,n.push(o)),n}),[])}},{key:"_updateChangeFlags",value:function(e){h()(_()(o.prototype),"_updateChangeFlags",this).call(this,e),this._shouldUpdateSelectionRanges=Boolean(this._selectionRanges.length)&&this._photosliceStructureChanged(e),this._shouldTriggerSelectionChangeAction=Boolean(this._selectionRanges.length)&&(this._photosliceStructureChanged(e)||e.resourcesVersion!==this.props.resourcesVersion)}},{key:"_isContextMenuEnabled",value:function(){return this.props.contextMenuEnabled&&this.size<=this.props.maxActionableSize}},{key:"_updateClustersOffsets",value:function(e){var t=e.reduce((function(e,t,n){var r={offset:e.offset,size:t.size,index:n};return e.clustersOffsetsById[t.id]=r,e.clustersOffsets.push(r),e.clustersById[t.id]=t,e.offset+=t.size,e}),{clustersOffsetsById:{},clustersOffsets:[],clustersById:{},offset:0}),n=t.clustersOffsetsById,r=t.clustersOffsets,i=t.clustersById;this._clustersOffsetsById=n,this._clustersOffsets=r,this._clustersById=i}},{key:"_reindexSelections",value:function(e){var t=this,n=e.items,r=this.props.items;this._selectionRanges=this._selectionRanges.reduce((function(e,i){if(1===i.size){var o=t._clustersById[i.startClusterId];if(!o)return e;var s=t._clustersOffsetsById[o.id],u=s.offset,c=s.index;if(i.startId){var l,d=i.startIndexPath.resourceIndex;if((null===(l=o.items[d])||void 0===l?void 0:l.id)!==i.startId&&(d=o.items.findIndex((function(e){return e.id===i.startId}))),-1===d)return e;i.start=u+d,i.startIndexPath.resourceIndex=d}else{if(o.size<=i.startIndexPath.resourceIndex)return e;i.start=u+i.startIndexPath.resourceIndex}i.startIndexPath.clusterIndex=c,i.startId=o.items&&o.items[i.startIndexPath.resourceIndex].id,i.end=i.start,i.endId=i.startId,i.endIndexPath=i.startIndexPath,e.push(i)}else{var f=t._clustersById[i.startClusterId];if(f){var p=t._clustersOffsetsById[f.id],h=p.offset,m=p.index;if(i.startId){var v=i.startIndexPath.resourceIndex;if(f.items[v]&&f.items[v].id===i.startId||(v=f.items.findIndex((function(e){return e.id===i.startId}))),v>-1)i.start=h+v,i.startIndexPath.clusterIndex=m,i.startIndexPath.resourceIndex=v,i.startId=f.items[v].id;else{var g=r[i.startIndexPath.clusterIndex],y=f.items.reduce((function(e,t,n){var r=t.id;return Object.assign(e,a()({},r,n))}),{}),b=g.items.slice(i.startIndexPath.resourceIndex+1).find((function(e){var t=e.id;return y.hasOwnProperty(t)}));if(b)v=y[b.id],i.start=h+v,i.startIndexPath.clusterIndex=m,i.startIndexPath.resourceIndex=v,i.startId=b.id;else{var _=m+1,O=n[_];if(!O)return e;var E=t._clustersOffsetsById[O.id].offset;i.start=E,i.startIndexPath={clusterIndex:_,resourceIndex:0},i.startClusterId=O.id,i.startId=S.a.get(O,["items",0,"id"])}}}else if(f.size<=i.startIndexPath.resourceIndex){var w=m+1,C=n[w];if(!C)return e;var x=t._clustersOffsetsById[C.id].offset;i.start=x,i.startIndexPath={clusterIndex:w,resourceIndex:0},i.startClusterId=C.id,i.startId=S.a.get(C,["items",0,"id"])}else i.start=h+i.startIndexPath.resourceIndex,i.startIndexPath.clusterIndex=m,i.startId=f.items&&f.items[i.startIndexPath.resourceIndex].id}else{for(var T=i.startIndexPath.clusterIndex+1,P=null;T<=r.length&&!P;){var k=r[T];t._clustersOffsetsById[k.id]&&(P=n[t._clustersOffsetsById[k.id].index]),T++}if(!P)return e;var j=t._clustersOffsetsById[P.id],R=j.offset,I=j.index;i.start=R,i.startIndexPath={clusterIndex:I,resourceIndex:0},i.startClusterId=P.id,i.startId=S.a.get(P,["items",0,"id"])}var A=t._clustersById[i.endClusterId];if(A){var D=t._clustersOffsetsById[A.id],M=D.offset,N=D.index;if(i.endId){var L,F=i.endIndexPath.resourceIndex;if((null===(L=A.items[F])||void 0===L?void 0:L.id)!==i.endId&&(F=A.items.findIndex((function(e){return e.id===i.endId}))),F>-1)i.end=M+F,i.endIndexPath.clusterIndex=N,i.endIndexPath.resourceIndex=F,i.endId=A.items[F].id;else{var B=r[i.endIndexPath.clusterIndex],U=A.items.reduce((function(e,t,n){var r=t.id;return Object.assign(e,a()({},r,n))}),{}),z=S.a.findLast(B.items.slice(0,i.endIndexPath.resourceIndex),(function(e){var t=e.id;return U.hasOwnProperty(t)}));if(z)F=U[z.id],i.end=M+F,i.endIndexPath.clusterIndex=N,i.endIndexPath.resourceIndex=F,i.endId=z.id;else{var V=N-1,H=n[V];if(!H)return e;var W=t._clustersOffsetsById[H.id].offset,$=H.size-1;i.end=W+$,i.endIndexPath={clusterIndex:V,resourceIndex:$},i.endClusterId=H.id,i.endId=S.a.get(H,["items",$,"id"])}}}else i.endIndexPath.resourceIndex=Math.min(i.endIndexPath.resourceIndex,A.size-1),i.end=M+i.endIndexPath.resourceIndex,i.endIndexPath.clusterIndex=N,i.endId=A.items&&A.items[i.endIndexPath.resourceIndex].id}else{for(var G=i.endIndexPath.clusterIndex-1,q=null;G>-1&&!q;){var Y=r[G];t._clustersOffsetsById[Y.id]&&(q=n[t._clustersOffsetsById[Y.id].index]),G--}if(!q)return e;var K=t._clustersOffsetsById[q.id],J=K.offset,Z=K.index,X=q.size-1;i.end=J+X,i.endIndexPath={clusterIndex:Z,resourceIndex:X},i.endClusterId=q.id,i.endId=S.a.get(q,["items",X,"id"])}i.end-i.start>=0&&(i.size=i.end-i.start+1,e.push(i))}return e}),[])}},{key:"_getAnchorResourceId",value:function(){return S.a.get(this.props.items,[this._anchorIndexPath.clusterIndex,"items",this._anchorIndexPath.resourceIndex,"id"])}},{key:"_getAnchorResourceIndex",value:function(e){var t=this.props.items[this._anchorIndexPath.clusterIndex].id,n=S.a.get(this._clustersById,[t,"items"],[]).findIndex((function(t){return t.id===e}));return-1===n?n:this._clustersOffsetsById[t].offset+n}},{key:"_updateAnchor",value:function(e,t){h()(_()(o.prototype),"_updateAnchor",this).call(this,e,t),this._anchorIndexPath=j(this._anchor,this._clustersOffsets)}},{key:"_getResourceIndex",value:function(e){var t=e.clusterIndex,n=e.resourceIndex;return this._clustersOffsets[t].offset+n}},{key:"_isResourceSelected",value:function(e){return e.selected}},{key:"_createSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Math.min(e,t),r=Math.max(e,t),i=j(n,this._clustersOffsets),o=n===r?i:j(r,this._clustersOffsets);return this._internalCreateSelection(n,i,r,o)}},{key:"_internalCreateSelection",value:function(e,t,n,r){var i=this.props.items,a=h()(_()(o.prototype),"_createSelection",this).call(this,e,n),s=S.a.get(i,[t.clusterIndex,"items",t.resourceIndex,"id"]),u=t,c=S.a.get(i,[t.clusterIndex,"id"]),l=a.size>1?S.a.get(i,[r.clusterIndex,"items",r.resourceIndex,"id"]):s,d=r,f=a.size>1?S.a.get(i,[r.clusterIndex,"id"]):c;return Object.assign(a,{startId:s,startIndexPath:u,startClusterId:c,endId:l,endIndexPath:d,endClusterId:f})}},{key:"_getSelectedResources",value:function(){var e=this,t=this.props.items;this._selectedResources=[],this._clustersWithSelectedResources={};var n=0,r=0,i=this._selectionRanges.map((function(e){return[e.startIndexPath,e.endIndexPath]}));return Object(T.j)(i,t,(function(t,i){var o=i.id,a=e.props.getResourceById(o);a?e.props.isSelectableResource(a)&&(e._clustersWithSelectedResources[t.id]=!0,e._selectedResources.push(o),n++):(n++,r++)}),(function(e){n+=e.size,r+=e.size})),{resources:this._selectedResources,total:n,missing:r,unfilteredTotal:this.size}}},{key:"_onSelectionChanged",value:function(e){h()(_()(o.prototype),"_onSelectionChanged",this).call(this,e),this._fetchResources()}},{key:"_onSelectClusters",value:function(e,t){var n=t===k.ALL?k.NONE:k.ALL,r=e[0],i=e[e.length-1];this._anchor=this._clustersOffsetsById[r].offset;var o=this._clustersOffsetsById[i].offset+this._clustersOffsetsById[i].size-1;n===k.NONE?this._removeMultiSelection(o):this._addMultiSelection(o,!1),this._triggerSelectionChangeAction()}},{key:"_buildNewSelectionRangesFromResources",value:function(e){for(var t=e[0],n=null,r=0;r<e.length;r++){var i=e.length-r==1;if(0===r)t=e[r];else if(!R(e[r-1],e[r],this.props.items)){n=e[r-1];var o=this._clustersOffsets[t.clusterIndex].offset+t.resourceIndex,a=this._clustersOffsets[n.clusterIndex].offset+n.resourceIndex;this._selectionRanges.push(this._internalCreateSelection(o,t,a,n)),t=e[r],n=null}if(i){n=e[r];var s=this._clustersOffsets[t.clusterIndex].offset+t.resourceIndex,u=this._clustersOffsets[n.clusterIndex].offset+n.resourceIndex;this._selectionRanges.push(this._internalCreateSelection(s,t,u,n))}}}},{key:"_changeSelections",value:function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];(n=h()(_()(o.prototype),"_changeSelections",this)).call.apply(n,[this,e,t].concat(i)),this._fetchResources()}},{key:"_fetchResources",value:function(){this.size<=this.props.maxSizeForFetch&&this.props.fetchClustersRanges(this._selectionRanges.map((function(e){return[e.startIndexPath,e.endIndexPath]})))}},{key:"_getClusterSelectionState",value:function(e){if(!this._clustersWithSelectedResources[e])return k.NONE;var t=this._clustersOffsetsById[e],n=t.offset,r=n+t.size-1,o=(function(e,t,n){return Object(x.sortedFind)(e,[t,n],(function(e,t){var n=i()(t,2),r=n[0],o=n[1];return o<e.start?1:r>e.end?-1:0}))})(this._selectionRanges,n,r);if(o<0)return k.NONE;var a=this._selectionRanges[o];return a.start<=n&&a.end>=r?k.ALL:k.SOME}},{key:"render",value:function(){return this._render(e,{getClusterSelectionState:this._getClusterSelectionState,onSelectClusters:this._onSelectClusters})}}]),o})(C.a);return n.propTypes=Object.assign({},C.a.propTypes,{fetchClustersRanges:E.a.func.isRequired,maxSizeForFetch:E.a.number,maxActionableSize:E.a.number,items:E.a.arrayOf(E.a.object).isRequired,structureVersion:E.a.number.isRequired,resourcesVersion:E.a.number.isRequired,isSelectableResource:E.a.func.isRequired,getResourceById:E.a.func.isRequired,contextMenuEnabled:E.a.bool}),n.defaultProps=Object.assign({},C.a.defaultProps,{maxSizeForFetch:500,contextMenuEnabled:!0}),n}}),(function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(1279),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(110))}),(function(e,t,n){"use strict";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=1073741824,o=[1,1024,1048576,i,1099511627776],a={};a.getSpaceObject=function(e,t,n,a){if(!t.length||t.length<o.length)throw new Error("helpers/space::units must be an array with minimum "+o.length+" items");a=a||{},"string"==typeof e&&(e=parseInt(e,10)),(e<0||e>r||isNaN(e))&&(e=0);var s=(function(e){for(var t=o.length;t>=0;t--)if(e>=o[t])return t;return 0})(e),u=o[s],c=(e/u).toString().split("."),l=c[0],d=c[1],f=a.precision;a.length&&(f=a.length>l.length?a.length-l.length:0),f||0===f||(f=1048576===u?1:u>=i?2:0);var p=l;return f>0&&d&&(d.length>f&&(d=d.substr(0,f)),(d=d.replace(/0+$/,""))&&(p+=n+d)),{number:p,unit:t[s]}},a.getSpaceString=function(e,t,n,r){var i=this.getSpaceObject(e,t,n,r);return i.number+" "+i.unit},e.exports=a}),(function(e,t,n){"use strict";n(687)}),(function(e,t,n){"use strict";var r=n(33),i=n.n(r),o=n(22),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(2),y=n.n(g),b=n(0),_=n.n(b),O=n(38),E=n.n(O),w=n(45),S=n(134);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var x=(function(e){h()(n,e);var t=C(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._shiftKeyPressed=!1,r._selectionRanges=[],r._anchor=0,r._anchorSelectionIndex=null,r._wrappedComponentRef=null,r._selectedResources=e.selectedResources,r._onWindowKeyUp=r._onWindowKeyUp.bind(f()(r)),r._onWindowKeyDown=r._onWindowKeyDown.bind(f()(r)),r._onToggleSelected=r._onToggleSelected.bind(f()(r)),r._onSelectResource=r._onSelectResource.bind(f()(r)),r._onDeselectAllClick=r._onDeselectAllClick.bind(f()(r)),r._onSelectionChanged=r._onSelectionChanged.bind(f()(r)),r._onResourceContextMenu=r._onResourceContextMenu.bind(f()(r)),r._setWrappedComponentRef=r._setWrappedComponentRef.bind(f()(r)),r._shouldUpdateSelectionRanges=!1,r._shouldCreateSelectionRanges=!1,r._shouldTriggerSelectionChangeAction=!1,r}return l()(n,[{key:"componentDidMount",value:function(){this._selectedResources.length&&this._createSelectionRanges(this._getSelectedResourcesFromProps(this.props)),window.addEventListener("keyup",this._onWindowKeyUp),window.addEventListener("keydown",this._onWindowKeyDown),this.props.deselectAllOnOutsideClick&&window.addEventListener("click",this._onDeselectAllClick,!0)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._updateChangeFlags(e),this._shouldUpdateSelectionRanges&&this._updateSelectionRanges(e),this._shouldCreateSelectionRanges&&this._createSelectionRanges(this._getSelectedResourcesFromProps(e))}},{key:"componentDidUpdate",value:function(e){this._shouldTriggerSelectionChangeAction&&this._triggerSelectionChangeAction()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this._onWindowKeyUp),window.removeEventListener("keydown",this._onWindowKeyDown),this.props.deselectAllOnOutsideClick&&window.removeEventListener("click",this._onDeselectAllClick,!0)}},{key:"size",get:function(){return this._selectionRanges.reduce((function(e,t){return e+t.size}),0)}},{key:"_setWrappedComponentRef",value:function(e){this._wrappedComponentRef=e,this.proxyMethods()}},{key:"proxyMethods",value:function(){}},{key:"_onWindowKeyDown",value:function(e){e.which===E.a.KEYS.SHIFT&&(this._shiftKeyPressed=!0,this.props.selectedResources.length>0&&document.body.classList.add("no-user-select"))}},{key:"_onWindowKeyUp",value:function(e){e.which===E.a.KEYS.SHIFT&&(this._shiftKeyPressed=!1,document.body.classList.remove("no-user-select"))}},{key:"_updateChangeFlags",value:function(e){this._shouldUpdateSelectionRanges=!1,this._shouldTriggerSelectionChangeAction=!1,this._shouldCreateSelectionRanges=this._selectedResources!==e.selectedResources}},{key:"_updateSelectionRanges",value:function(e){this._reindexSelections(e),this._mergeAdjacentSelections(),this._findAnchor()}},{key:"_onSelectResource",value:function(e,t,n){var r="MacOS"===this.props.OSFamily?n.metaKey:n.ctrlKey;this.props.isMultiSelectable?n.shiftKey?this._selectRange(e):r||t?this._toggleSelected(e):this._setSelected(e):this._setSelected(e)}},{key:"_onResourceContextMenu",value:function(e,t){var n,r;if(this._isContextMenuEnabled()){if(this._isResourceSelected(e))n=a()(this.props.selectedResources);else{var i=this._getResourceIndex(e);this._resetSelectionRanges(),this._addSingleSelection(i),n=r=this._getSelectedResources()}this.props.onContextMenu(n,t,r)}}},{key:"_onToggleSelected",value:function(e){this.props.isMultiSelectable&&this._shiftKeyPressed?this._selectRange(e):this._toggleSelected(e)}},{key:"_onDeselectAllClick",value:function(e){e.target&&!e.target.closest("."+w.LISTING_PREVENT_DESELECT_CLASS)&&this._selectionRanges.length&&(this._resetSelectionRanges(),this._triggerSelectionChangeAction())}},{key:"_resetSelectionRanges",value:function(){this._selectionRanges=[],this._updateAnchor()}},{key:"_setSelected",value:function(e){var t=this._getResourceIndex(e);this._resetSelectionRanges(),this._addSingleSelection(t),this._triggerSelectionChangeAction()}},{key:"_toggleSelected",value:function(e){var t=this._getResourceIndex(e);this._isResourceSelected(e)?this._removeSingleSelection(t):this._addSingleSelection(t),this._triggerSelectionChangeAction()}},{key:"_createSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Math.min(e,t),r=Math.max(e,t);return{start:n,end:r,size:r-n+1}}},{key:"_mergeSelections",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0],i=r.start,o=r.end,a=0;a<t.length;a++)i=Math.min(i,t[a].start),o=Math.max(o,t[a].end);return this._createSelection(i,o)}},{key:"_mergeAdjacentSelections",value:function(){for(var e=0;e<this._selectionRanges.length-1;){var t=this._selectionRanges[e],n=this._selectionRanges[e+1];n.start-t.end<=1?this._selectionRanges.splice(e,2,this._mergeSelections(t,n)):e++}}},{key:"_splitSelectionAt",value:function(e,t){return t===e.start?[this._createSelection(e.start+1,e.end)]:t===e.end?[this._createSelection(e.start,e.end-1)]:[this._createSelection(e.start,t-1),this._createSelection(t+1,e.end)]}},{key:"_subtractIndicesFromSelection",value:function(e,t,n){var r=Math.min(e,t),i=Math.max(e,t);return r===n.start&&i===n.end?[]:r===n.start?[this._createSelection(i+1,n.end)]:i===n.end?[this._createSelection(n.start,r-1)]:[this._createSelection(n.start,r-1),this._createSelection(i+1,n.end)]}},{key:"_addSingleSelection",value:function(e){var t=this._createSelection(e),n=Object(S.sortedIndex)(this._selectionRanges,t,(function(e,t){return e.start-t.start})),r=n>0&&e-this._selectionRanges[n-1].end==1,i=this._selectionRanges[n]&&this._selectionRanges[n].start-e==1;i&&r?this._changeSelections(n-1,2,this._mergeSelections(this._selectionRanges[n-1],this._selectionRanges[n])):r?this._changeSelections(n-1,1,this._mergeSelections(this._selectionRanges[n-1],t)):i?this._changeSelections(n,1,this._mergeSelections(t,this._selectionRanges[n])):this._changeSelections(n,0,t),r?this._updateAnchor(e,n-1):this._updateAnchor(e,n)}},{key:"_removeSingleSelection",value:function(e){var t=T(this._selectionRanges,e);if(t>-1){var n=this._selectionRanges[t];1===n.size?this._changeSelections(t,1):this._changeSelections.apply(this,[t,1].concat(a()(this._splitSelectionAt(n,e)))),this._findNextAnchor(e)}}},{key:"_removeMultiSelection",value:function(e){var t=T(this._selectionRanges,e);if(!(t<0)){var n=this._subtractIndicesFromSelection(this._anchor,e,this._selectionRanges[t]);this._changeSelections.apply(this,[t,1].concat(a()(n))),this._findNextAnchor(e)}}},{key:"_findAnchor",value:function(){if(!this._selectionRanges.length)return this._updateAnchor();var e=this._getAnchorResourceId();if(!e)return this._moveAnchorToNextSelection();var t=this._getAnchorResourceIndex(e);if(-1===t)return this._moveAnchorToNextSelection();var n=T(this._selectionRanges,t);if(-1===n)return this._moveAnchorToNextSelection();this._updateAnchor(t,n)}},{key:"_updateAnchor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._anchor=e,this._anchorSelectionIndex=t}},{key:"_findNextAnchor",value:function(e){var t=Object(S.sortedIndex)(this._selectionRanges,e,(function(e,t){return e.start-t}));if(t===this._selectionRanges.length)if(this._selectionRanges.length){var n=this._selectionRanges.length-1;this._updateAnchor(this._selectionRanges[n].end,n)}else this._updateAnchor();else this._updateAnchor(this._selectionRanges[t].start,t)}},{key:"_moveAnchorToNextSelection",value:function(){var e=this._anchorSelectionIndex||0;if(this._selectionRanges[e])this._updateAnchor(this._selectionRanges[e].start,e);else{var t=this._selectionRanges.length-1;this._updateAnchor(this._selectionRanges[t].end,t)}}},{key:"_getResourceIndex",value:function(e){throw"Should be implemented"}},{key:"_isResourceSelected",value:function(e){throw"Should be implemented"}},{key:"_getSelectedResources",value:function(){throw"Should be implemented"}},{key:"_reindexSelections",value:function(e){throw"Should be implemented"}},{key:"_getSelectedResourcesFromProps",value:function(e){return e.selectedResources}},{key:"_buildNewSelectionRangesFromResources",value:function(e){throw"Should be implemented"}},{key:"_createSelectionRanges",value:function(e){this._resetSelectionRanges(),e.length&&(this._buildNewSelectionRangesFromResources(e),this._selectionRanges.length&&this._updateAnchor(this._selectionRanges[0].start,0))}},{key:"_getAnchorResourceId",value:function(){throw"Should be implemented"}},{key:"_getAnchorResourceIndex",value:function(e){throw"Should be implemented"}},{key:"_isContextMenuEnabled",value:function(){return!this.props.maxActionableSize||this.props.selectedResources.length<=this.props.maxActionableSize}},{key:"_selectRange",value:function(e){this._addMultiSelection(this._getResourceIndex(e)),this._triggerSelectionChangeAction()}},{key:"_onSelectionChanged",value:function(e){this._createSelectionRanges(e),this._triggerSelectionChangeAction()}},{key:"_addMultiSelection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._createSelection(this._anchor,e),r=(function(e,t){var n=Object(S.sortedIndex)(t,e,(function(e,t){return e.start-t.start})),r=n-1,i=t[n],o=t[r],a=i&&P(i,e),s=o&&k(o,e),u=o&&P(o,e);if(s||u)return{index:r,isIntersected:u,isAdjacent:s};return{index:n,isIntersected:a,isAdjacent:!1}})(n,this._selectionRanges),i=r.index,o=r.isIntersected,a=r.isAdjacent,s=(function(e,t){var n=Object(S.sortedIndex)(t,e,(function(e,t){return e.end-t.end})),r=n-1,i=t[n],o=t[r],a=i&&P(i,e),s=i&&k(i,e),u=o&&P(o,e);if(!i||s||a)return{index:n,isIntersected:a,isAdjacent:s};return o?{index:r,isIntersected:u,isAdjacent:!1}:{index:0,isIntersected:!1,isAdjacent:!1}})(n,this._selectionRanges),u=s.index,c=s.isIntersected,l=s.isAdjacent,d=u-i+(a||o?1:0)+(l||c?1:0),f=[n];(a||!t&&o)&&f.push(this._selectionRanges[i]),(l||!t&&c)&&f.push(this._selectionRanges[u]);var p=this._mergeSelections.apply(this,f);this._changeSelections(i,d,p),this._updateAnchor(this._anchor,i)}},{key:"_changeSelections",value:function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];(n=this._selectionRanges).splice.apply(n,[e,t].concat(i))}},{key:"_triggerSelectionChangeAction",value:function(){this.props.onSelectionChanged(this._getSelectedResources())}},{key:"_render",value:function(e,t){return _.a.createElement(e,i()({},this.props,t,{ref:this._setWrappedComponentRef,onToggleSelected:this._onToggleSelected,onSelectResource:this._onSelectResource,onResourceContextMenu:this.props.onContextMenu&&this._onResourceContextMenu,onSelectionChanged:this._onSelectionChanged}))}}]),n})(b.Component);function T(e,t){return Object(S.sortedFind)(e,t,(function(e,t){return t<e.start?1:t>e.end?-1:0}))}function P(e,t){return Math.max(e.start,t.start)<=Math.min(e.end,t.end)}function k(e,t){return e.start-t.end==1||t.start-e.end==1}x.defaultProps={isMultiSelectable:!0},t.a=x}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(132),o=r(n(529)),a={retryOffline:!0,retryCodes:[502],maxRetries:3,pingUrl:"/ping"};t.default=function e(t){const{modelsRoute:n,apiMethod:r,requestParams:s,sk:u,onSkUpdate:c,uid:l,onAuthChanged:d,connectionId:f,options:p={}}=t,h=Object.assign(Object.assign({},a),p),m=e=>fetch(`${n}?m=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(Object.assign(Object.assign({sk:e},f?{connection_id:f}:null),{apiMethod:r,requestParams:s}))}),v=e=>e.json(),g=()=>e(Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},h),{maxRetries:h.maxRetries-1})}));return m(u).then(e=>e.ok?v(e):Promise.reject(e)).catch(e=>e instanceof Error?h.retryOffline&&h.maxRetries>0?i.waitOnline(h.pingUrl).then(g):Promise.reject(e):h.retryCodes.includes(e.status)&&h.maxRetries>0?g():401===e.status&&l&&d?(d(),Promise.reject(e)):e.json().then(t=>{if(t.error&&"CKEY"===t.error.code)if(l&&l!==t.error.uid&&d)d(t.error.uid);else if(t.error.ckey)return c(t.error.ckey),m(t.error.ckey).then(v);return o.default(t)?Promise.reject({message:`Empty error response (${e.status})`,status:e.status}):Promise.reject(t)}))}}),(function(e,t,n){var r=n(447),i=n(200),o=n(264),a=n(105),s=n(184),u=n(265),c=n(220),l=n(379),d="[object Map]",f="[object Set]",p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||o(e)))return!e.length;var t=i(e);if(t==d||t==f)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(88),o=(n(1368),Object(r.withBemMod)(Object(i.b)(),{size:"m"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(88),o=(n(1369),Object(r.withBemMod)(Object(i.b)(),{size:"s"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(88),o=(n(1370),Object(r.withBemMod)(Object(i.b)(),{theme:"normal"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(88),o=(n(1372),Object(r.withBemMod)(Object(i.b)(),{theme:"pseudo"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(88),o=(n(1374),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(88),o=(n(1376),Object(r.withBemMod)(Object(i.b)(),{view:"outline"}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.en="en",e.kk="kk",e.ru="ru",e.tr="tr",e.uk="uk",e.uz="uz"})(t.SupportedLangs||(t.SupportedLangs={})),t.getComponentI18n=function(e,t,n,r,i,o="yandex_disk_ps_components"){var a;if(!e[n])throw"Unsupported lang "+n;const s=null===(a=e[n])||void 0===a?void 0:a[o][t][r];if(!s)throw"Unknown key "+r;return s(i)||""}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(394),o=(n(1448),Object(r.withBemMod)(Object(i.b)(),{theme:"normal"}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1129),o=r.compose(i.withSizeM,i.withViewDefault)(i.Tumbler);t.default=o}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(246),o=r.compose(i.withViewDefault,i.withTargetAnchor)(i.Popup);t.default=o}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textinputRegistry=void 0;var r=n(31),i=n(93),o=n(1553),a=n(1555),s=n(1557),u=n(1561);t.textinputRegistry=new r.Registry({id:i.cnTextinput()}),t.textinputRegistry.set("Control",o.TextinputControl).set("Box",a.TextinputBox).set("Icon",s.TextinputIcon).set("Hint",u.TextinputHint)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromoFormat=t.ThemeSource=t.ConditionValues=t.Condition=t.TernaryValues=t.Ternary=t.whatever=void 0;n(224);var r,i;t.whatever="all",(function(e){e.irrelevant="irrelevant",e.on="on",e.off="off"})(r=t.Ternary||(t.Ternary={})),t.TernaryValues=Object.values(r),(function(e){e.equal="equal",e.greater="greater",e.less="less",e.greaterOrEqual="greaterOrEqual",e.lessOrEqual="lessOrEqual"})(i=t.Condition||(t.Condition={})),t.ConditionValues=Object.values(i),(function(e){e.default="default",e.dark="dark",e.light="light"})(t.ThemeSource||(t.ThemeSource={})),(function(e){e.tooltip="tooltip",e.popup="popup",e.fullscreen="fullscreen",e.custom="custom",e.topline="topline",e.banner="banner"})(t.PromoFormat||(t.PromoFormat={}))}),(function(e,t,n){var r=n(774),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}}),(function(e,t,n){var r=n(775),i=n(777)(r);e.exports=i}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DatasyncService=t.mapTypes=t.mapSnapshotTypes=t.FieldEnum=t.FieldNullable=t.FieldJson=t.FieldTuple=t.FieldArray=t.FieldDate=t.FieldBoolean=t.FieldString=t.FieldNumber=t.TransportAdapter=t.NoopDatasyncClient=t.DatasyncClient=void 0;var o=n(1644);Object.defineProperty(t,"DatasyncClient",{enumerable:!0,get:function(){return o.DatasyncClient}}),Object.defineProperty(t,"NoopDatasyncClient",{enumerable:!0,get:function(){return o.NoopDatasyncClient}});var a=n(1645);Object.defineProperty(t,"TransportAdapter",{enumerable:!0,get:function(){return a.TransportAdapter}});var s=n(1037);Object.defineProperty(t,"FieldNumber",{enumerable:!0,get:function(){return s.FieldNumber}}),Object.defineProperty(t,"FieldString",{enumerable:!0,get:function(){return s.FieldString}}),Object.defineProperty(t,"FieldBoolean",{enumerable:!0,get:function(){return s.FieldBoolean}}),Object.defineProperty(t,"FieldDate",{enumerable:!0,get:function(){return s.FieldDate}}),Object.defineProperty(t,"FieldArray",{enumerable:!0,get:function(){return s.FieldArray}}),Object.defineProperty(t,"FieldTuple",{enumerable:!0,get:function(){return s.FieldTuple}}),Object.defineProperty(t,"FieldJson",{enumerable:!0,get:function(){return s.FieldJson}}),Object.defineProperty(t,"FieldNullable",{enumerable:!0,get:function(){return s.FieldNullable}}),Object.defineProperty(t,"FieldEnum",{enumerable:!0,get:function(){return s.FieldEnum}});var u=n(1036);Object.defineProperty(t,"mapSnapshotTypes",{enumerable:!0,get:function(){return u.mapSnapshotTypes}}),Object.defineProperty(t,"mapTypes",{enumerable:!0,get:function(){return u.mapTypes}});var c=n(1646);Object.defineProperty(t,"DatasyncService",{enumerable:!0,get:function(){return c.DatasyncService}}),i(n(1038),t)}),(function(e,t,n){var r=n(785),i=n(542),o=n(543);e.exports=function(e){return o(i(e,void 0,r),e+"")}}),(function(e,t,n){var r=n(101).Uint8Array;e.exports=r}),(function(e,t,n){var r=n(464),i=n(326),o=n(232);e.exports=function(e){return r(e,o,i)}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(234),o=r(n(1043));t.getAccessFromReach=(e=>(e||[]).map(e=>o.default(e,["rights","macros","user_ids","department_ids","group_ids","org_id"]))),t.isCommonPublicSettings=(e=>{var t;return Boolean(null===(t=e.macros)||void 0===t?void 0:t[0])}),t.getAccessEntryId=(e=>{var t,n,r;switch(e.type){case i.AccessType.Department:return null===(t=e.department_ids)||void 0===t?void 0:t[0];case i.AccessType.Group:return null===(n=e.group_ids)||void 0===n?void 0:n[0];case i.AccessType.User:return null===(r=e.user_ids)||void 0===r?void 0:r[0];default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.SvgYa=(({logoLang:e})=>i.default.createElement("svg",{width:"36",height:"36"},i.default.createElement("circle",{cx:"18",cy:"18",r:"18",fill:"#FC3F1D"}),"En"===e?i.default.createElement("path",{d:"M18.441 20.058c1.052 2.304 1.403 3.106 1.403 5.873V29.6h-3.757v-6.186L9 8h3.92l5.521 12.058zM23.074 8L18.48 18.443h3.82L26.905 8h-3.832z",fill:"#fff"}):i.default.createElement("path",{d:"M20.67 10.103h-1.822c-3.123 0-4.684 1.561-4.684 3.903 0 2.603 1.04 3.904 3.383 5.465l1.822 1.302-5.205 8.067H10l4.945-7.287c-2.863-2.082-4.425-3.903-4.425-7.287 0-4.163 2.863-7.026 8.328-7.026h5.465v21.6H20.67V10.103z",fill:"#fff"}))),t.SvgYaMonochrome=(({logoLang:e})=>i.default.createElement("svg",{width:"36",height:"36"},"En"===e?i.default.createElement("path",{d:"M18 36c9.941 0 18-8.059 18-18S27.941 0 18 0 0 8.059 0 18s8.059 18 18 18zm1.844-10.069c0-2.767-.35-3.569-1.403-5.873L12.92 8H9l7.087 15.414V29.6h3.757v-3.669zm-1.365-7.488L23.074 8h3.832l-4.608 10.443H18.48z",fillRule:"evenodd",fill:"currentColor"}):i.default.createElement("path",{d:"M18 36c9.941 0 18-8.059 18-18S27.941 0 18 0 0 8.059 0 18s8.059 18 18 18zm.848-25.897h1.822V28.84h3.643V7.24h-5.465c-5.465 0-8.327 2.863-8.327 7.027 0 3.383 1.56 5.204 4.424 7.286L10 28.84h4.164l5.205-8.067-1.822-1.302c-2.342-1.561-3.383-2.862-3.383-5.465 0-2.342 1.561-3.903 4.684-3.903z",fillRule:"evenodd",fill:"currentColor"}))),t.Svg360=(()=>i.default.createElement("svg",{width:"76",height:"36"},i.default.createElement("path",{transform:"translate(-36)",d:"M86.802 21.278c0-4.082-4.082-6.15-10.34-6.15-3.674 0-6.697 1.065-8.139 2.743.273-4.96 2.816-7.669 8.792-7.669 3.129 0 5.85.464 8.516 1.905V9.85C83.426 8.79 80.84 8 77.087 8c-7.972 0-11.348 4.79-11.348 11.184 0 5.85 2.666 8.816 10.532 8.816 5.933 0 10.531-2.477 10.531-6.722zm-10.585 4.518c-4.934 0-7.427-1.66-7.427-4.273 0-2.694 2.868-4.19 7.591-4.19 4.354 0 7.564 1.468 7.564 4.162 0 2.831-3.074 4.3-7.727 4.3zm-28.516-8.68v-.003h.004l11.3-6.392H44.79V8.544H63.18v2.041l-9.821 5.508c.572-.093 1.18-.149 1.797-.149 4.734 0 8.815 1.852 8.815 5.742 0 3.946-4.381 6.314-10.748 6.31-4.517 0-7.536-1.006-9.224-1.85V23.89c2.013.98 4.815 1.904 9.196 1.904 5.279 0 7.92-1.522 7.92-4.162 0-2.498-2.722-3.646-7.32-3.646-3.32 0-5.198.897-5.198.897l-.895-1.765-.002-.001zm43.754.844c0 5.784 3.674 7.835 8.544 7.835 4.87 0 8.544-2.051 8.544-7.755 0-5.805-3.674-7.835-8.544-7.835-4.87 0-8.544 2.03-8.544 7.755zm-2.885.027C88.57 10.853 93.66 8 100 8s11.428 2.853 11.428 10.013c0 7.134-5.089 9.987-11.428 9.987-6.34 0-11.429-2.853-11.429-10.013z",fill:"currentColor"})))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LANGS=t.ExternalContext=void 0;var i=n(1867);Object.defineProperty(t,"ExternalContext",{enumerable:!0,get:function(){return r(i).default}}),Object.defineProperty(t,"LANGS",{enumerable:!0,get:function(){return i.LANGS}})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(124),o=(n(1889),Object(r.withBemMod)(Object(i.b)(),{size:"l"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(124),o=(n(1890),Object(r.withBemMod)(Object(i.b)(),{size:"m"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(124),o=(n(1891),Object(r.withBemMod)(Object(i.b)(),{size:"s"}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(124),o=(n(1892),Object(r.withBemMod)(Object(i.b)(),{view:"default"}))}),(function(e,t,n){"use strict";var r=n(49);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}));var i=n(188);n.d(t,"d",(function(){return i.a}));var o=n(161);n.d(t,"e",(function(){return o.a}));var a=n(221);n.d(t,"f",(function(){return a.a}));var s=n(222);n.d(t,"g",(function(){return s.a}));var u=n(160);n.d(t,"h",(function(){return u.a}));var c=n(151);n.d(t,"c",(function(){return c.directions}))}),(function(e,t,n){"use strict";t.a=function(e){var t,n,r,i,o=e.scope?e.scope:e.scopeSelector?document.querySelector(e.scopeSelector):document,a=(function(e){return e?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"}})(e.isTouch),s=e.scrollBorder||{width:0,height:0},u=!1,c=function(t){return e.isTouch?{x:t.touches[0].pageX,y:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{x:t.pageX,y:t.pageY,clientX:t.clientX,clientY:t.clientY}},l=function e(t){t.preventDefault(),n.removeEventListener("dragstart",e)},d=function(r){if(!(function(t){return!e.isTouch&&0!==t.button||e.isTouch&&1!==t.touches.length}(r)||e.startFilter&&e.startFilter(r))){e.isTouch||(n=r.target)&&n.addEventListener("dragstart",l),document.addEventListener(a.move,h,e.isTouch&&{passive:!1}),!e.isTouch&&document.addEventListener("scroll",m),document.addEventListener(a.end,f);var i=document.getSelection();i&&i.removeAllRanges(),t=c(r),e.onBeforeStart&&e.onBeforeStart(t,r),document.body.classList.add("no-user-select")}},f=function t(i,o){document.body.classList.remove("no-user-select"),document.removeEventListener(a.move,h),e.isTouch||(document.removeEventListener("scroll",m),n.removeEventListener("dragstart",l)),document.removeEventListener(a.end,t),u&&e.onEnd&&e.onEnd(i,o),u=!1,r=null},p=function(n,i){if(!u){if(e.startThreshold){var o=n.x-t.x,a=n.y-t.y;Math.sqrt(o*o+a*a)>e.startThreshold&&(u=!0)}else u=!0;u&&e.onStart&&e.onStart(t)}if(u){if(e.scroll){var c=document.scrollingElement||document.documentElement;if(n.x=Math.min(n.x,c.scrollWidth-s.width),n.y=Math.min(n.y,c.scrollHeight-s.height),n.clientY<0)window.scrollBy(0,n.clientY);else{var l=window.innerHeight-n.clientY-30;l<0&&window.scrollBy(0,-l)}}e.onMove&&e.onMove(t,n,i)}r=n},h=function(e){e.preventDefault(),p(c(e),e)},m=function(e){r&&(clearTimeout(i),i=setTimeout((function(){var t=Object.assign({},r);t.x=window.window.pageXOffset+t.clientX,t.y=window.window.pageYOffset+t.clientY,p(t,e)}),0))};return o&&o.addEventListener(a.start,d),{clearListeners:function(){o&&o.removeEventListener(a.start,d),document.body.classList.remove("no-user-select")},cancel:function(){u&&f({},!0)}}}}),(function(e,t,n){"use strict";var r=n(22),i=n.n(r),o=n(33),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(2),y=n.n(g),b=n(0),_=n.n(b),O=n(16),E=n(26),w=n(280),S=n(919),C=n(29),x=n(15),T=n(484),P=n(36),k=n(57),j=n(9),R=n.n(j),I=n(347),A=n.n(I),D=n(96);function M(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var N=(function(e){h()(n,e);var t=M(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={shareDialogVisible:!1,shareDialogMenuExpanded:!1},r._onShareButtonClick=r._onShareButtonClick.bind(f()(r)),r._onShareDialogClose=r._onShareDialogClose.bind(f()(r)),r._getShareIcon=r._getShareIcon.bind(f()(r)),r._containerRef=_.a.createRef(),r}return l()(n,[{key:"componentDidMount",value:function(){this.props.dropdownRef&&this.props.dropdownRef(this)}},{key:"componentWillUnmount",value:function(){this.props.dropdownRef&&this.props.dropdownRef(null)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isPublic&&!this.props.isPublic&&this._publishFromButton&&(this._publishFromButton=!1,this.setState({shareDialogVisible:!0}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.shouldShowExpandedMenu,r=t.isEditable,i=t.saveShareEditMenuExpanded,o=t.shortUrl,a=t.isPublishing;r&&!this.state.shareDialogMenuExpanded&&(n||o&&e.isPublishing&&!a)&&(n&&i(),this.setState({shareDialogMenuExpanded:!0}))}},{key:"closeDropdown",value:function(){this.state.shareDialogVisible&&this.setState({shareDialogVisible:!1,shareDialogMenuExpanded:!1})}},{key:"_getMetrikaAction",value:function(){return this.props.objectIds.length>1?"album share link":"share link"}},{key:"_onShareButtonClick",value:function(){if(this.props.isPublic||this.props.isAddressAccessEnabled)this.props.isLinkBlockedForOverdraft||this.props.isAddressAccessEnabled||this.props.copyPublicLink(this.props.shortUrl),this.setState({shareDialogVisible:!this.state.shareDialogVisible});else{if(this.props.maybeBlockAction({forLite:!0}))return;this.props.onPublish(),this.props.publishObject(this.props.objectIds,this.props.objectType),this._publishFromButton=!0}}},{key:"_onShareDialogClose",value:function(){this.setState({shareDialogVisible:!1,shareDialogMenuExpanded:!1})}},{key:"_isButtonChecked",value:function(){return this._publishFromButton&&this.props.isPublishing||this.state.shareDialogVisible}},{key:"_getShareIcon",value:function(e){return this.props.isPublishing?_.a.createElement(S.default,{white:!0,spinSize:"xxs",cls:e}):_.a.createElement(w.default,{isAndroid:this.props.isAndroid,cls:e})}},{key:"render",value:function(){var e=this,t={size:"m",onClick:this._onShareButtonClick,disabled:this.props.disabled};return this.props.checkButton&&Object.assign(t,{type:"check",checked:this._isButtonChecked()}),_.a.createElement("span",{ref:this._containerRef},this.props.onlyIcon?null:_.a.createElement(E.Button,a()({view:"clear"},t,this.props.buttonProps,{iconLeft:this.props.noIcon?void 0:function(t){return e._getShareIcon(t)}}),"Поделиться"),_.a.createElement(E.Button,a()({},t,this.props.onlyIconButtonProps,{"aria-label":"Поделиться",icon:function(t){return e._getShareIcon(t)}})),_.a.createElement(A.a,{visible:this.state.shareDialogVisible,objectIds:this.props.objectIds,onClose:this._onShareDialogClose,metrikaPath:["interface elements"].concat(i()(this.props.metrikaContext),[this._getMetrikaAction()]),metrikaTail:this.props.metrikaTail,defaultExpanded:this.state.shareDialogMenuExpanded,scope:this.props.shareDialogScope}))}}]),n})(b.Component);N.defaultProps={onPublish:R.a.noop,metrikaTail:[],checkButton:!0};var L={publishObject:T.publishObject,copyPublicLink:C.copyPublicLink,saveShareEditMenuExpanded:x.saveShareEditMenuExpanded,maybeBlockAction:C.maybeBlockAction};t.a=Object(O.connect)((function(e,t){var n=e.environment.agent.OSFamily,r=e.scrollToResource,i=e.settings.shareEditMenuExpandedShowed,o=Object(P.getPublishObjectData)(e,t.objectIds);return Object.assign({},o,{isAndroid:"Android"===n,shouldShowExpandedMenu:"1"!==i,isLinkBlockedForOverdraft:Object(k.isOverdraftHard)(e)&&o.objectType!==P.OBJECT_TYPES.ALBUM,isAddressAccessEnabled:Object(D.isAddressAccessShareDialogExp)(e),scrollToResource:r})}),L)(N)}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(0)),s=n(3),u=n(31),c=n(906),l=n(179),d=n(1e3),f=n(1968),p=n(909),h=n(337),m=n(31),v=n(274),g=n(392),y=n(1080),b=o(n(123)),_=o(n(539)),O=o(n(750)),E=n(234),w=o(n(559)),S=o(n(1972)),C=n(335);n(1976);const x=n(28).cn("AccessTypeSelect"),T=s.compose(s.composeU(d.withGlyphTypeArrow360,f.withGlyphTypeCheck360))(l.Icon),P=e=>{var{needIconGlyph:t,children:n,innerRef:i}=e,o=r(e,["needIconGlyph","children","innerRef"]);const{Text:s}=m.useRegistry(h.cnMenu()),u=h.useMenuItem(o);return a.default.createElement("div",Object.assign({ref:i},u),t&&a.default.createElement(T,{glyph:"type-check-360"}),a.default.createElement(s,null,n))},k=new u.Registry({id:c.cnSelect()});k.set("Trigger",b.default).set("Popup",e=>{const{deselectClass:t}=a.useContext(v.ShareDialogContext);return a.default.createElement(_.default,Object.assign({},e,{className:x("Popup",[e.className,t]),direction:["bottom-end","top-end"],modifiers:[{name:"hide",enabled:!1}],scope:void 0}))}).set("Menu",e=>a.default.createElement(O.default,Object.assign({},e,{renderItem:P}))).set("Icon",T);const j=s.compose(p.withTogglable,u.withRegistry(k))(c.Select);var R;!(function(e){e.Read="read",e.Write="write",e.Revoke="revoke",e.Settings="settings"})(R=t.AccessTypeValue||(t.AccessTypeValue={})),t.mapPermissionToAccessTypeValue=(e=>e?e.rights.includes(E.Permission.Write)?R.Write:R.Read:R.Revoke),t.mapAccessTypeValueToPermission=(e=>e===R.Write?E.Permission.Write:E.Permission.Read);const I=(e,t)=>{const n=(e=>{switch(e){case R.Revoke:return w.default;case R.Settings:return S.default;default:return null}})(t),r=((e,t)=>{switch(t){case R.Read:return C.i18n(e,"access-type-read");case R.Write:return C.i18n(e,"access-type-write");case R.Revoke:return C.i18n(e,"access-type-close");case R.Settings:return C.i18n(e,"access-type-settings");default:return""}})(e,t);return{value:t,content:n?a.default.createElement(y.ListTileIcon,{Icon:n},r):r}};t.AccessTypeSelect=(({size:e="m",view:t="clear",value:n,onChange:r,hasRevoke:i,hasSettings:o,className:s,disabled:u,compact:c})=>{const{lang:l,resourcePath:d,resourceId:f,resourceType:p}=a.useContext(v.ShareDialogContext),h="album"===p?f:d,{isEditAllowed:m}=g.useSelectors(h),y=a.useCallback(e=>a.default.createElement(b.default,Object.assign({},e,{view:t}),n===R.Revoke?C.i18n(l,"access-type-close-label"):e.children),[n,l,t]),_=a.useCallback(e=>{r(e.target.value)},[r]),O=a.useMemo(()=>{const e=i&&n!==R.Revoke;return e||o?[{items:[I(l,R.Read),...m?[I(l,R.Write)]:[]]},{items:[...o?[I(l,R.Settings)]:[],...e?[I(l,R.Revoke)]:[]]}]:[I(l,R.Read),...m?[I(l,R.Write)]:[]]},[l,n,i,o,m]);return a.default.createElement(j,{className:x({compact:c},[s]),size:e,view:"default",iconProps:{glyph:"type-arrow-360"},renderTrigger:y,value:n,onChange:_,options:O,disabled:u})})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 8.5A1.5 1.5 0 0 1 3.5 7H4V5a4 4 0 1 1 8 0v2h.5A1.5 1.5 0 0 1 14 8.5v6a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5zM8 3a2 2 0 0 0-2 2v1.997h4V5a2 2 0 0 0-2-2m4 11V9H4v5z",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.ErrorCircleIcon=(({className:e})=>i.default.createElement("svg",{className:e,width:16,height:16,viewBox:"0 0 16 16"},i.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M0 8.003a8 8 0 1 0 16 0 8 8 0 0 0-16 0Zm14 0a6 6 0 1 1-12 0 6 6 0 0 1 12 0ZM6.86 11.03c0-.672.492-1.14 1.14-1.14.648 0 1.14.468 1.14 1.14 0 .672-.492 1.14-1.14 1.14-.648 0-1.14-.468-1.14-1.14ZM7.58 4h.842a.75.75 0 0 1 .747.824l-.373 3.724a.5.5 0 0 1-.497.45h-.596a.5.5 0 0 1-.497-.45l-.373-3.724A.75.75 0 0 1 7.58 4Z"})))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayTilesIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M0 7h7V0H0v7zm9 0h7V0H9v7zm-9 9h7V9H0v7zm9 0h7V9H9v7z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(26),a=n(363),s=n(11),u=n.n(s),c=(n(2066),function(){return u()()("public-icon")});t.a=function(e){var t=e.onClick,n=e.cls,r=e.ariaLabel;return t?i.a.createElement(o.Button,{className:c().m({button:!0}).mix(n),view:"tundora",pin:"circle-circle",size:"xxs","aria-label":r,tabIndex:-1,onClick:t,icon:function(e){return i.a.createElement(a.default,{iconSize:"s",cls:e})}}):i.a.createElement("div",{className:c().m({plain:!0})},i.a.createElement(a.default,{iconSize:"s"}))}}),(function(e,t,n){"use strict";var r=n(930);n.d(t,"a",(function(){return r.a}))}),,(function(e,t,n){"use strict";var r=n(61),i=n(3),o=(n(1826),Object(i.createClassNameModifier)(Object(r.b)(),{baseline:!0})),a=n(1),s=n(0),u=n.n(s),c=n(31),l=n(109),d=Object(i.withBemMod)(Object(r.b)(),{hasClear:!0},(function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlRef=Object(s.createRef)(),e.onMouseDown=function(e){e.preventDefault()},e.onClick=function(t){if(null!==e.controlRef.current&&!t.isDefaultPrevented()&&(e.controlRef.current.focus(),void 0!==e.props.onChange)){var n=e.controlRef.current.value,r=Object.create(t);r.target=e.controlRef.current,r.currentTarget=e.controlRef.current,e.controlRef.current.value="",e.props.onChange(r),e.controlRef.current.value=n}void 0!==e.props.onClearClick&&e.props.onClearClick(t)},e}return Object(a.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,i=n.addonBefore,o=(n.onClearClick,n.hasClear,n.controlRef),s=(n.clearIcon,Object(a.__rest)(n,["addonBefore","onClearClick","hasClear","controlRef","clearIcon"]));return u.a.createElement(c.ComponentRegistryConsumer,{id:Object(r.b)()},(function(n){var r=n.Clear;return u.a.createElement(e,Object(a.__assign)({},s,{controlRef:Object(l.a)(t.controlRef,o),addonBefore:u.a.createElement(u.a.Fragment,null,u.a.createElement(r,{onClick:t.onClick,onMouseDown:t.onMouseDown,size:t.props.size,theme:t.props.theme,view:t.props.view,icon:t.props.clearIcon,visible:Boolean(t.props.value)}),i)}))}))},n})(s.PureComponent)})),f=(n(1827),Object(i.withBemMod)(Object(r.b)(),{pin:"brick-brick"})),p=(n(1828),Object(i.withBemMod)(Object(r.b)(),{pin:"brick-clear"})),h=(n(1829),Object(i.withBemMod)(Object(r.b)(),{pin:"brick-round"})),m=(n(1830),Object(i.withBemMod)(Object(r.b)(),{pin:"clear-brick"})),v=(n(1831),Object(i.withBemMod)(Object(r.b)(),{pin:"clear-clear"})),g=(n(1832),Object(i.withBemMod)(Object(r.b)(),{pin:"clear-round"})),y=(n(1833),Object(i.withBemMod)(Object(r.b)(),{pin:"round-brick"})),b=(n(1834),Object(i.withBemMod)(Object(r.b)(),{pin:"round-clear"})),_=Object(i.withBemMod)(Object(r.b)(),{pin:"round-round"}),O=(n(1835),Object(i.withBemMod)(Object(r.b)(),{size:"m"})),E=(n(1836),Object(i.withBemMod)(Object(r.b)(),{size:"s"})),w=(n(1837),Object(i.withBemMod)(Object(r.b)(),{theme:"normal"})),S=(n(1838),Object(i.withBemMod)(Object(r.b)(),{theme:"websearch"})),C=(n(1839),Object(i.withBemMod)(Object(r.b)(),{view:"default"})),x=n(410),T=function(e){var t=e.floated,n=e.className,i=Object(a.__rest)(e,["floated","className"]);return u.a.createElement("label",Object(a.__assign)({className:Object(r.b)("Label",{floated:t},[n])},i))},P=(n(1840),Object(i.withBemMod)(Object(r.b)(),{view:"material"},(function(e){return Object(x.a)((function(t){var n=t.hint,i=t.onChange,o=t.className,c=t.label,l=t.variant,d=t.focused,f=t.addonBefore,p=Object(a.__rest)(t,["hint","onChange","className","label","variant","focused","addonBefore"]),h=p.defaultValue,m=p.view,v=p.state,g=Object(a.__read)(Object(s.useState)(h),2),y=g[0],b=g[1],_=Boolean(p.value)||Boolean(y)||d,O=Boolean(c);return u.a.createElement(u.a.Fragment,null,u.a.createElement(e,Object(a.__assign)({className:Object(r.b)({variant:l},[o]),addonBefore:u.a.createElement(u.a.Fragment,null,f,O&&u.a.createElement(T,{floated:_},c)),onChange:function(e){b(e.target.value),"function"==typeof i&&i(e)}},p)),n&&u.a.createElement("div",{className:Object(r.b)("Hint",{view:m,state:v,variant:l})},n))}))})));n.d(t,"b",(function(){return r.b})),n.d(t,"a",(function(){return r.a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return E})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return S})),n.d(t,"r",(function(){return C})),n.d(t,"s",(function(){return P}))}),(function(e,t,n){"use strict";n.r(t);var r=n(31),i=(n(343),n(88)),o=n(1),a=n(0),s=n.n(a),u=n(410),c=n(367),l=n(589),d=(n(1366),function(e){var t=e.children,n=e.className,r=Object(o.__rest)(e,["children","className"]);return s.a.createElement("span",Object(o.__assign)({},r,{className:Object(i.b)("Box",null,[n])}),t)}),f=(n(1367),function(e){var t=e.autoFocus,n=e.checked,r=e.controlRef,o=e.disabled,a=e.labelledBy,u=e.name,c=e.onChange,l=e.value;return s.a.createElement("input",{"aria-checked":n,"aria-labelledby":a,autoFocus:t,autoComplete:"off",checked:n,className:Object(i.b)("Control"),disabled:o,name:u,onChange:c,ref:r,type:"radio",value:l})}),p=n(588),h=(n(1365),Object(u.a)((function(e){var t=e.autoFocus,n=e.checked,r=e.children,o=e.className,a=e.controlRef,u=e.disabled,h=e.focused,m=e.innerRef,v=e.name,g=e.onBlur,y=e.onChange,b=e.onClick,_=e.onFocus,O=e.onMouseEnter,E=e.onMouseLeave,w=e.pressed,S=e.value,C=Object(p.b)(),x=C.value?C.value===S:n,T=C.disabled||u,P="label-"+(l.a?"0":Object(c.a)("radio"));return s.a.createElement("label",{className:Object(i.b)("Radio",{checked:x,disabled:T,focused:h,pressed:w},[o]),onBlur:g,onClick:b,onFocus:_,onMouseEnter:O,onMouseLeave:E,ref:m},s.a.createElement(d,null,s.a.createElement(f,{autoFocus:t,checked:x,controlRef:a,disabled:T,labelledBy:P,name:C.name||v,onChange:C.onChange||y,value:S})),s.a.createElement("span",{"aria-hidden":"true",className:Object(i.b)("Text"),id:P},r))}))),m=n(211);var v=(function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hovered:e.props.hovered},e.onMouseEnter=function(t){e.setState({hovered:!0}),void 0!==e.props.onMouseEnter&&e.props.onMouseEnter(t)},e.onMouseLeave=function(t){e.setState({hovered:!1}),void 0!==e.props.onMouseLeave&&e.props.onMouseLeave(t)},e}return Object(o.__extends)(n,t),n.prototype.render=function(){var t=this.props.disabled,n=!t&&Boolean(this.state.hovered||this.props.hovered),r=e;return s.a.createElement(r,Object(o.__assign)({},this.props,{hovered:t?void 0:n,onMouseEnter:t?void 0:this.onMouseEnter,onMouseLeave:t?void 0:this.onMouseLeave}))},n.displayName="WithControl@desktop("+Object(m.a)(e)+")",n})(a.PureComponent)})((function(e){var t=e.className,n=e.hovered,r=Object(o.__rest)(e,["className","hovered"]);return s.a.createElement(h,Object(o.__assign)({},r,{className:Object(i.b)("Radio",{hovered:n},[t])}))})),g=new r.Registry({id:Object(i.b)()});g.set("Radio",v);n(1363);var y=Object(r.withRegistry)(g)(i.a),b=n(530),_=n(531),O=n(532),E=(n(1371),n(533)),w=(n(1373),n(534)),S=(n(1375),n(535)),C=(n(1377),n(979));n.d(t,"Radio",(function(){return v})),n.d(t,"Radiobox",(function(){return y})),n.d(t,"withSizeM",(function(){return b.a})),n.d(t,"withSizeS",(function(){return _.a})),n.d(t,"cnRadiobox",(function(){return i.b})),n.d(t,"withThemeNormal",(function(){return O.a})),n.d(t,"withThemePseudo",(function(){return E.a})),n.d(t,"withViewDefault",(function(){return w.a})),n.d(t,"withViewOutline",(function(){return S.a})),n.d(t,"radioboxRegistry",(function(){return C.radioboxRegistry}))}),(function(e,t,n){"use strict";var r=n(3),i=n(61);n(1582);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.b)(),{size:"l"})}),(function(e,t,n){(function(t){var n={};n.de="undefined"==typeof window,n.inherit=function(e,t,r){var i=function(){};i.prototype=t.prototype;var o=e.prototype=new i;if(r)if(Array.isArray(r))for(var a=0,s=r.length;a<s;a++)n.extend(o,r[a]);else n.extend(o,r);return o.super_=t.prototype,o.constructor=e,e},n.extend=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e},n.nop=function(){},n.true=function(){return!0},n.false=function(){return!1},n.value=function(e){return function(){return e}},n.logger=function(e){return e?function(){var t=[].slice.call(arguments);console.log.apply(null,[e].concat(t))}:console.log},n.de?n.next=function(e){t.nextTick(e)}:n.next=function(e){setTimeout(e,0)},n.de&&(e.exports=n),e.exports=n}).call(this,n(294))}),(function(e,t,n){"use strict";var r=n(70);t.a=function(e,t){var n;void 0===t&&(t=!0);var i=new Promise(function(r){n=setTimeout(r,e,t)});return i[r.a]=function(){clearTimeout(n)},i}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"getInvitesList",(function(){return i})),n.d(t,"getInvitesCount",(function(){return o})),n.d(t,"getFamilyInvitesList",(function(){return a})),n.d(t,"getFamilyInvitesCount",(function(){return s})),n.d(t,"getNonFamilyInvitesList",(function(){return u})),n.d(t,"getNonFamilyInvitesCount",(function(){return c}));var r=n(46),i=Object(r.createSelector)((function(e){return e.invitesToFolders}),(function(e){var t=e.invites,n=e.invitesByHash;return t.map((function(e){return n[e]})).filter((function(e){return e&&!e.hidden}))})),o=function(e){return e.invitesToFolders.invites.length},a=Object(r.createSelector)(i,(function(e){return e.filter((function(e){return"family"===e.group_type}))})),s=Object(r.createSelector)(a,(function(e){return e.length})),u=Object(r.createSelector)(i,(function(e){return e.filter((function(e){return"family"!==e.group_type}))})),c=Object(r.createSelector)(u,(function(e){return e.length}))}),(function(e,t){var n=0,r=function(){return++n};r.reset=function(e){n=void 0===e?0:e},r.current=function(){return n},e.exports=r}),(function(e,t,n){"use strict";n.r(t);var r={copy:function(e,t){var n;t?(n=document.createElement("span")).appendChild(document.createTextNode(e)):(n=document.createElement("input")).value=e,n.style.position="absolute",n.style.top="-999px",n.style.left="-999px",n.style.opacity="0",document.body.appendChild(n);var r=!1;try{if(t){var i=document.createRange();i.selectNodeContents(n);var o=window.getSelection();o&&o.removeAllRanges(),o&&o.addRange(i)}else n.select();r=document.execCommand("copy")}catch(e){r=!1}return document.body.removeChild(n),r},isSupported:function(){return"undefined"!=typeof window&&Boolean(document.queryCommandSupported("copy"))}};t.default=r}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(13),i=n(59),o=function(e,t){return function(n,i){n({type:r.UPDATE_SORT,payload:{idContext:i().page.idContext,sort:e,order:t}})}},a=function(e){return function(t){t({type:r.SET_VIEW,payload:{view:e}}),t(Object(i.saveSettings)({key:"view",value:e}))}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(38),i=function(e){return"squares"===e?r.PHOTO_GRID_TYPES.TILE:r.PHOTO_GRID_TYPES.WOW}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(0),o=n.n(i),a=n(3),s=n(55),u=(n(203),n(1476),Object(a.withBemMod)(Object(s.b)(),{glyph:"type-check"},(function(e){return function(t){var n=t.className,i=Object(r.__rest)(t,["className"]);return o.a.createElement(e,Object(r.__assign)({},i,{className:Object(s.b)({hasGlyph:!0},[n])}),o.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"10"},o.a.createElement("path",{d:"M7.207 7.506L3.629 3.81 2.343 4.939l4.841 5.002 8.462-8.428L14.382.362z"})))}})))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"watchFamilyFolder",(function(){return g})),n.d(t,"createFamilyFolder",(function(){return y})),n.d(t,"getFamilyAlbum",(function(){return b}));var r=n(1144),i=n.n(r),o=n(135),a=n.n(o),s=n(9),u=n.n(s),c=n(95),l=n(132),d=n(36),f=n(15),p=n(518),h=n(13);function m(e){if(u.a.isString(u.a.get(e,"gid")))return e;throw{error:{type:"no_gid"}}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;return Object(c.api)("mpfs/create-family-folder",{path:e}).then(m).catch((function(r){if(t&&(function(e){return!!u.a.isNil(e)||(e instanceof Response?e.status>=500:"mpfs"===u.a.get(e,"error.type")&&502===u.a.get(e,"error.statusCode"))})(r))return Object(l.defer)(n).then((function(){return v(e,t-1,n)}));throw r}))}var g=function(e){return (function(){var t=i()(a.a.mark((function t(n,r){var i,o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(d.resourcesSelector)(r()),"family"===u.a.get(i,[e,"meta","group","group_type"])){t.next=17;break}o=0;case 4:if(!(o<5)){t.next=16;break}return t.next=7,n(Object(f.fetchSingleResource)(e));case 7:if(s=t.sent,"family"!==u.a.get(s,["meta","group","group_type"])){t.next=11;break}return t.abrupt("return");case 11:return t.next=13,Object(l.defer)(2e3);case 13:o++,t.next=4;break;case 16:throw{error:{type:"polling"}};case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}})()},y=function(e){return function(t){return v(e).then((function(){return t(g(e))})).then((function(){return Object(p.c)()})).catch((function(e){return Object(p.a)(e),Promise.reject(e)}))}},b=function(){return function(e,t){var n=t().personalAlbums;return n.familyAlbumId?Promise.resolve(n.familyAlbumId):Object(c.api)("mpfs/get-family-album",{}).then((function(t){return t?(e({type:h.FETCH_ALBUM_SUCCESS,payload:{album:t}}),t.id):Promise.reject(null)}))}}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});const i={currentPromo:void 0,translations:void 0,fetchCompleted:!1},o=n(100).createSlice({name:"promozavr",initialState:i,reducers:{setCurrentPromo(e,t){e.currentPromo=t.payload},resetCurrentPromo(e){e.currentPromo=void 0},setTranslations(e,t){e.translations=t.payload},setImages(e,t){e.images=t.payload},setFetchCompleted(e){e.fetchCompleted=!0}}});r=o.actions,t.setCurrentPromo=r.setCurrentPromo,t.resetCurrentPromo=r.resetCurrentPromo,t.setTranslations=r.setTranslations,t.setImages=r.setImages,t.setFetchCompleted=r.setFetchCompleted,t.default=o.reducer}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(833)),o=r(n(870)),a=n(871);t.default=o.default(a.withDefaultServices()(i.default));var s=n(333);t.Logo360=s.Logo360,t.LogoCorp=s.LogoCorp}),(function(e,t,n){"use strict";function r(e){return e<10?"0"+e:String(e)}e.exports=function(e,t){var n=e<0;t=t||":",n&&(e=Math.abs(e));var i=Math.floor(e/3600),o=r(Math.floor(e%3600/60)),a=r(e%60);return(n?"-":"")+(i?i+t:"")+o+t+a}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"trash3IconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.412 16.02C1.044 14.175-.22 11.745.62 8.73 1.717 4.784 6.38 2.414 5.962.02c2.274.288 5.675 4.796 5.044 8.71.847-.257 1.5-1.343 1.96-3.26 3.272 4.444 2.62 7.96-1.96 10.55-5.1-2.028-4.868-4.935-5.044-5.33-.886 1.493-1.403 3.27-1.55 5.33z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(33),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(0),y=n.n(g),b=n(1087),_=n.n(b),O=n(74),E=(n(2049),n(11)),w=n.n(E);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var C=function(){return w()()("load-portions")},x=function(){return!1};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return (function(r){f()(s,r);var o=S(s);function s(e){var t;return a()(this,s),(t=o.call(this,e))._spinNode=y.a.createRef(),t._wrappedComponentRef=y.a.createRef(),t._checkBottomThrottled=_()(t._checkBottom,500).bind(l()(t)),n.forEach((function(e){t[e]=function(){var n;return t._wrappedComponentRef.current&&(n=t._wrappedComponentRef.current)[e].apply(n,arguments)}})),t}return u()(s,[{key:"componentDidMount",value:function(){this._scrollingElement=this.props.scrollingElementSelector?document.querySelector(this.props.scrollingElementSelector):window,this._bindCheckBottom()}},{key:"componentWillUnmount",value:function(){this.props.completed||this._unbindCheckBottom()}},{key:"componentDidUpdate",value:function(e){t(e,this.props)&&this._checkBottom(),this.props.completed!==e.completed&&(this.props.completed?this._unbindCheckBottom():this._bindCheckBottom())}},{key:"_bindCheckBottom",value:function(){this._scrollingElement.addEventListener("scroll",this._checkBottomThrottled),window.addEventListener("resize",this._checkBottomThrottled),this._checkBottom()}},{key:"_unbindCheckBottom",value:function(){this._scrollingElement.removeEventListener("scroll",this._checkBottomThrottled),window.removeEventListener("resize",this._checkBottomThrottled)}},{key:"_checkBottom",value:function(){if(!this.props.completed&&this._spinNode.current){var e=this._spinNode.current.getBoundingClientRect().top;this._scrollingElement!==window&&(e-=this._scrollingElement.getBoundingClientRect().top),e<=2*(this._scrollingElement===window?window.innerHeight:this._scrollingElement.clientHeight)&&this._fetchNextPortion()}}},{key:"_fetchNextPortion",value:function(){var e=this.props,t=e.loading;e.completed||t||this.props.requestFetchNext()}},{key:"_getSpin",value:function(){var e=this.props,t=e.loading,n=e.completed,r=e.centerSpin;return n?null:y.a.createElement("div",{className:C().m({center:r}).e("spin-wrapper"),ref:this._spinNode},y.a.createElement(O.Spin,{view:"default",size:"m",progress:t,className:C().e("spin")}))}},{key:"render",value:function(){return y.a.createElement(y.a.Fragment,null,y.a.createElement(e,i()({ref:this._wrappedComponentRef},this.props)),this._getSpin())}}]),s})(g.Component)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayWowIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M0 0h10v7H0V4zm6 9h10v7H6v-7zm6-9h4v7h-4V4zM0 9h4v7H0v-7z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=n(51);n(901);const s=r(n(11)),u=o.connect(({config:{urlsBase:{forms:e}}})=>({forms:e}));t.A11yFeedback=(({forms:e})=>i.default.createElement(a.Link,{href:`${e}/surveys/10033577.be6b87652554c9b1165a08525eee2ed3b542f3a1/`,className:s.default()("a11y-feedback"),theme:"normal"},"Обратная связь о специальных возможностях")),t.default=u(t.A11yFeedback)}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}n.d(t,"usePreviousValue",(function(){return i}))}),(function(e,t,n){"use strict";var r=n(33),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(0),y=n.n(g),b=n(25),_=n.n(b),O=n(11),E=n.n(O),w=n(372),S=function(e){return"".concat(Math.ceil(e),"px")},C=function(e,t,n){var r,i,o=e.width,a=e.height,s=t.width,u=t.height,c=n.top,l=n.bottom,d=n.left,f=n.right;r=(i=a/(l-c))*s/u,i<a&&(r=(i=a)*s/u),r<o&&(i=(r=o)*u/s);var p=c*i,h=d*r;return h=h+(f-d)*r/2-o/2,(p=p+(l-c)*i/2-a/2)+a>i&&(p=i-a),h+o>r&&(h=r-o),h=h>0?-1*h:0,p=p>0?-1*p:0,{width:r,height:i,transform:"translate(".concat(S(h),", ").concat(S(p),")")}};n(1347);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var T=function(){return E()()("scalable-preview")},P=(function(e){f()(n,e);var t=x(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={renderFallback:r.props.shouldRenderFallback&&!r.props.previewBaseUrl,previewFragmentStyle:null,retry:!1},r._setPreviewContainerRef=r._setPreviewContainerRef.bind(l()(r)),r._updateImgStyle=r._updateImgStyle.bind(l()(r)),r._onLoadError=r._onLoadError.bind(l()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){this.props.previewFragment&&(this._updateImgStyle(),window.addEventListener("resize",this._updateImgStyle))}},{key:"componentDidUpdate",value:function(e){e.previewBaseUrl!==this.props.previewBaseUrl&&(this.props.previewFragment?(this._updateImgStyle(),window.addEventListener("resize",this._updateImgStyle)):window.removeEventListener("resize",this._updateImgStyle))}},{key:"componentWillUnmount",value:function(){this.props.previewFragment&&window.removeEventListener("resize",this._updateImgStyle)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.renderFallback&&this._getPreviewUrl()!==this._getPreviewUrl(e)&&this.setState({renderFallback:!1})}},{key:"_setPreviewContainerRef",value:function(e){this._previewContainerRef=e}},{key:"_updateImgStyle",value:function(){if(this.props.previewFragment){var e=this._previewContainerRef?this._previewContainerRef.getBoundingClientRect():{};this.setState({previewFragmentStyle:C({width:e.width,height:e.height},{width:this.props.previewSize.width,height:this.props.previewSize.height},this.props.previewFragment)})}}},{key:"_onLoadError",value:function(){this.setState({renderFallback:!0})}},{key:"_getSizeFormat",value:function(){return this.context.sizeFormat||w.a}},{key:"_getPreviewUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=Object.assign({},e);if(this.props.previewFragment){var n=Math.max(window.devicePixelRatio||1,1);t.width=w.b/n,t.height=w.b/n,t.crop=!1}return Object(w.c)(t,this._getSizeFormat(),this.state.retry)}},{key:"_getPreview",value:function(){var e=this,t=this.props,n=t.onLoad,r=t.onError,o=t.active,a=t.previewBaseUrl,s=t.nonce,u=t.srcSet,c=t.srcSetFallback,l=t.shouldRenderFallback,d=t.cover,f=t.elementTiming,p={onLoad:n,onError:l?this._onLoadError:r};this.props.previewFragment&&this.state.previewFragmentStyle?p.style=this.state.previewFragmentStyle:p.className=T().e("image").m({cover:d}),f&&(p.elementtiming=f);var h="undefined"==typeof window;if(u)return y.a.createElement("img",i()({srcSet:u,src:c},p));if(h){var m=[y.a.createElement("img",i()({key:"image",src:""},p))];return o&&m.push(y.a.createElement("script",{key:"script",nonce:s,dangerouslySetInnerHTML:{__html:(function(e,t){return"\nvar preview = document.querySelector('.scalable-preview_active .scalable-preview__image');\nif (preview) {\n  var drp = Math.max(window.devicePixelRatio || 1, 1);\n  var width = document.documentElement.clientWidth * drp;\n  var height = document.documentElement.clientHeight * drp;\n  preview.src = '".concat(e,"&' + '").concat(t,"'.replace('{{width}}', Math.floor(width)).replace('{{height}}', Math.floor(height));\n}")})(a,this._getSizeFormat())}})),m}var v=this._getPreviewUrl();return p.onError=function(t){e.state.retry?(l&&e._onLoadError(),r&&r(t)):setTimeout((function(){v===e._getPreviewUrl()&&e.setState({retry:!0})}),500)},y.a.createElement("img",i()({src:v},p))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,r=e.active,i=e.fitToWidth,o=e.style,a=e.previewBaseUrl,s=this.state.renderFallback;return y.a.createElement("div",{className:T().m({active:r,"fit-to-width":Boolean(i)}).mix(t),onClick:n,style:o,ref:this._setPreviewContainerRef},s||!a?y.a.createElement("div",{className:T().e("fallback")}):this._getPreview())}}]),n})(g.Component);P.contextTypes={sizeFormat:_.a.string};t.a=P}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(9),i=n.n(r),o=n(132),a=function(e,t,n){var r=!1,a=[];return e.invalid.forEach((function(e){var n=t.find((function(t){var n=t.item;return n.id===e.id&&i.a.isEqual(n.params,e.params)})),o=e.getError();o&&"HTTP_0"===o.id&&e.retryOffline()?(r=!0,a.push(n)):o&&"WRONG_SK"===o.id?a.push(n):e.shouldRetryFails()&&0!==n.retriesLeft?a.push(n):n.promise.reject(e)})),a.length?(r?Object(o.waitOnline)("/check-online"):Object(o.defer)(n)).then((function(){return a.forEach((function(e){e.retriesLeft=e.retriesLeft||3,e.retriesLeft--})),new Promise(function(e){e(a)})})):new Promise(function(e,t){t()})}}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M9.6 4l-4 4 4 4 .8-.8L7.2 8l3.2-3.2z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(0),i=Object(r.createContext)({});i.displayName="RadioGroup";var o=i.Provider,a=function(){return Object(r.useContext)(i)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=!1}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return t.reduce((function(t,n){return t.concat(e(n))}),[])}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(416),i=['[contenteditable]:not([contenteditable="false"])',"[tabindex]","a[href]","area[href]","audio[controls]","button","details","details>summary:first-of-type","input","select","textarea","video[controls]","iframe"].join(",");function o(e){return!(!Object(r.e)(e,i)||Object(r.b)(e)||e.disabled||Object(r.a)(e))}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i="undefined"!=typeof navigator&&navigator.language||"ru-RU",o=Object(r.createContext)(i)}),(function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))}),(function(e,t,n){var r=n(34).USER_SETTINGS_DEFAULTS;e.exports={preprocessSettings:function(e,t){var n=Object.assign({},e);return t&&(n.view||(n.view="list")),Object.assign({},r,n)}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(63));t.getQueryParams=(e=>{let t=e.isPublic?"ya-disk-public://":"ya-disk://",r=e.id;e.version&&(t="ya-disk-version://",r=e.version+":"+r);const o={url:t+r,name:e.name};e.version&&e.date&&(o.date=e.date);const a=(0,n(18).default)().getState(),{user:{uid:s},page:{currentUrl:u}}=a,c=i.default.getQueryParam(u,"test-id");s&&(o.uid=s),c&&(o["test-id"]=c);const l=i.default.getQueryParam(u,"lang");return"string"==typeof l&&(o.lang=l),o}),t.getDvSliderUrl=(({id:e,name:n,isVicariousDoc:r,public_hash:o,docviewer:a,isDark:s})=>{const u={name:n};return r?(u.id=o,u.isPublic=!0):u.id=e,i.default.addParams(a,Object.assign(Object.assign(Object.assign({},t.getQueryParams(u)),{embed:"slider",nosw:"1",hideLoaders:"1"}),s?{dark:1}:{}))})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.454 5.623c2.121 2.231 2.053 5.732-.158 8.071-.624.66-1.391 1.445-2.354 2.413l-.317.317c-.366.365-.953.945-2.197 2.172l-1.724 1.702-.704.696-.703-.696-1.724-1.702-.003-.002c-1.227-1.21-1.825-1.8-2.194-2.17l-.317-.318a131.464 131.464 0 01-2.354-2.412c-2.211-2.339-2.28-5.84-.159-8.07C6.61 3.45 9.948 3.46 12 5.643c2.053-2.184 5.39-2.193 7.454-.021z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";(function(e,r){var i=n(4),o=n.n(i),a=n(5),s=n.n(a),u=n(6),c=n.n(u),l=n(7),d=n.n(l),f=n(2),p=n.n(f),h=n(0),m=n.n(h),v=n(16),g=n(74),y=n(11),b=n.n(y);n(2018);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var O=function(){return b()()("react-noscript")},E=(function(t){c()(i,t);var n=_(i);function i(){return o()(this,i),n.apply(this,arguments)}return s()(i,[{key:"componentDidMount",value:function(){this._view=ns.View.create(this.props.viewName,this.props.params),this._view._setNode(this._viewContainer),this._view.invalidate(),this._nsRender()}},{key:"componentDidUpdate",value:function(){this._nsRender()}},{key:"componentWillUnmount",value:function(){this._view.destroy()}},{key:"_nsRender",value:function(){var t=this;this._update&&(this._update.abort(),this._updateTimer&&e(this._updateTimer));var n=this.props.params,i=ns.layout.page(this.props.layoutName,n);this._update=new ns.Update(this._view,i,n);var o=this.props.yateModule||"common";this._update.applyTemplate=function(e){return ns.renderString(e,null,o)},this._update.EXEC_FLAG=ns.U.EXEC.PARALLEL,this._updateTimer=r((function(){t._update.render().fail((function(e){e instanceof Error&&setTimeout((function(){throw e}))}))}))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:O().mix(this.props.cls)},m.a.createElement("div",{ref:function(t){e._viewContainer=t}},this.props.renderSpin?m.a.createElement("div",{className:O().e("spin-wrap")},m.a.createElement(g.Spin,{view:"default",progress:!0,size:"m"})):null))}}]),i})(h.Component);t.a=Object(v.connect)((function(e,t){var n=e.page.originalNSParams,r=t.overrideParams;return{params:Object.assign({},n,r)}}))(E)}).call(this,n(524).clearImmediate,n(524).setImmediate)}),(function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n(25),c=[],l=[];function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function f(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var i=d(e[r]);i.loading?t.loading=!0:(t.loaded[r]=i.loaded,t.error=i.error),n.push(i.promise),i.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(e){t.error=e}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function p(e,t){return s.createElement(function(e){return e&&e.__esModule?e.default:e}(e),t)}function h(e,t){var d,f;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var h=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:p,webpack:null,modules:null},t),m=null;function v(){return m||(m=e(h.loader)),m.promise}return c.push(v),"function"==typeof h.webpack&&l.push((function(){if(function(e){return"object"===r(n.m)&&e().every((function(e){return void 0!==e&&void 0!==n.m[e]}))}(h.webpack))return v()})),f=d=(function(t){function n(r){i(this,n);var a=o(this,t.call(this,r));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),m=e(h.loader),a._loadModule()},v(),a.state={error:m.error,pastDelay:!1,timedOut:!1,loading:m.loading,loaded:m.loaded},a}return a(n,t),n.preload=function(){return v()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(h.modules)&&h.modules.forEach((function(t){e.context.loadable.report(t)})),m.loading){"number"==typeof h.delay&&(0===h.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){e.setState({pastDelay:!0})}),h.delay)),"number"==typeof h.timeout&&(this._timeout=setTimeout((function(){e.setState({timedOut:!0})}),h.timeout));var t=function(){e._mounted&&(e.setState({error:m.error,loaded:m.loaded,loading:m.loading}),e._clearTimeouts())};m.promise.then((function(){t()})).catch((function(e){t()}))}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(h.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?h.render(this.state.loaded,this.props):null},n})(s.Component),d.contextTypes={loadable:u.shape({report:u.func.isRequired})},f}function m(e){return h(d,e)}m.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return h(f,e)};var v=(function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return s.Children.only(this.props.children)},t})(s.Component);function g(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then((function(){if(e.length)return g(e)}))}v.propTypes={report:u.func.isRequired},v.childContextTypes={loadable:u.shape({report:u.func.isRequired}).isRequired},m.Capture=v,m.preloadAll=function(){return new Promise(function(e,t){g(c).then(e,t)})},m.preloadReady=function(){return new Promise(function(e,t){g(l).then(e,e)})},e.exports=m}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(46),i=n(152),o=n(24),a=r.createSelector([({user:{organizations:e}})=>e],e=>{const t=null===e||void 0===e?void 0:e[0];return{id:o.VIRTUAL_DISKS_ROOT,idContext:o.VIRTUAL_DISKS_ROOT,name:(null===t||void 0===t?void 0:t.name)||""}});t.getCrumbsItems=(e=>{var t,n,r;const{page:{idContext:i},resources:s}=e;let u=(null===(t=s[i])||void 0===t?void 0:t.parents)||[];if(o.isPathInsideVirtualDiskFiles(i)||o.isVirtualDiskTrash(i)){let t;if(u.length){const e=u[0];t={id:e.id,name:(null===(n=s[e.id])||void 0===n?void 0:n.name)||e.name},u=u.slice(1)}u=[a(e),...t?[t]:[],...u]}else if(o.isVirtualDiskSearchPath(i)||o.isVirtualDiskJournal(i)){const t=o.getCurrentVirtualDisk(i),n=t?{id:t,name:null===(r=s[t])||void 0===r?void 0:r.name}:null;u=[a(e),...n?[n]:[]]}return u}),t.getCurrentCrumbItem=(e=>o.isVirtualDiskPath(e.page.idContext)?a(e):i.getTopLevelCurrentItem(e))}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(16),y=n(0),b=n.n(y),_=n(398),O=n(157),E=n(562),w=n(15),S=n(36),C=n(24),x=n(9),T=n.n(x),P=(n(2129),n(11)),k=n.n(P);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var R=function(){return k()()("select-folder-listing")},I=(function(e){f()(n,e);var t=j(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onResourceOpen=r._onResourceOpen.bind(l()(r)),r._onSelectResource=r._onSelectResource.bind(l()(r)),r._onBackClick=r._onBackClick.bind(l()(r)),r._fetchListing=r._fetchListing.bind(l()(r)),r._getAdditionalFields=r._getAdditionalFields.bind(l()(r)),r._scrollContainer=b.a.createRef(),r}return u()(n,[{key:"componentDidMount",value:function(){this._onChangeFolder()}},{key:"componentDidUpdate",value:function(e){e.currentResource.id!==this.props.currentResource.id&&this._onChangeFolder()}},{key:"_onChangeFolder",value:function(){this._fetchListing(),this._scrollContainer.current&&(this._scrollContainer.current.scrollTop=0)}},{key:"_onResourceOpen",value:function(e){this.props.onResourceOpen(e)}},{key:"_onSelectResource",value:function(e){this.props.onSelectResource(e)}},{key:"_getAdditionalFields",value:function(e){var t=Boolean(T.a.get(e,"meta.public"));return[{type:"public-link",position:O.POSITIONS.ALWAYS_RIGHT,content:t?b.a.createElement(E.a,null):null}]}},{key:"_onBackClick",value:function(){var e=this.props.currentResource.parents;this.props.onSelectResource(e[e.length-1].id)}},{key:"_fetchListing",value:function(){this.props.fetchListing(this.props.currentResource.id)}},{key:"render",value:function(){var e=this.props,t=e.cls,n=e.OSFamily,r=e.currentResource,o=e.resources,a=e.resourcesByIds,s=e.isComplete,u=e.selectedResources,c=e.isSelectable,l=void 0===c||c,d=e.openOnSingleClick,f=void 0!==d&&d,p=e.isResourceDisabled,h=!Object(C.isRootOfVirtualDisk)(r.id)&&(r.parents||[]).length;return Object(C.getIsVirtualDiskList)(r.id)&&o.unshift({icon:"vd",iconType:"vd",id:"/disk",name:"Мой Диск",type:"vd"}),b.a.createElement("div",{className:R().mix(t),ref:this._scrollContainer},h?b.a.createElement(O.default,i()({modifier:"current",theme:"row"},r,{title:r.name,iconType:"back",onSelect:this._onBackClick,onOpen:this._onBackClick})):null,b.a.createElement(_.default,{OSFamily:n,theme:"row",titleOverflow:"clamp",isTouch:!1,useRealDevicePixelRatio:!0,isSelectable:l,openOnSingleClick:f,onSelectResource:this._onSelectResource,onResourceOpen:this._onResourceOpen,requestFetchNext:this._fetchListing,loading:r.isLoading,completed:s,resources:o,isResourceDisabled:p,getAdditionalFields:this.props.getAdditionalFields||this._getAdditionalFields,resourcesByIds:a,scrollingElementSelector:"."+R(),animatedContainerSelector:".select-folder-dialog",selectedResources:u}))}}]),n})(y.Component),A={fetchListing:w.fetchListing};t.default=Object(g.connect)((function(e,t){var n=t.folderId,r=e.resources,i=e.environment.agent.OSFamily,o=r[n]||{id:n};return{resources:Object(S.getResourceChildren)(e,o).filter((function(e){var t=e.type,n=e.id;return"dir"!==t||"/trash"!==n})),isComplete:Object(S.resourceIsComplete)(e,o),resourcesByIds:r,currentResource:o,OSFamily:i}}),A)(I)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M1 13v2h14v-2H1z M2 7h3v5h6V6.969L14 7L8 1L2 7z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=n(22),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(0),y=n.n(g),b=n(85),_=n(33),O=n.n(_),E=n(11),w=n.n(E),S=n(38),C=n.n(S),x=n(73),T=n(26),P=n(256),k=n(371),j=n(195),R=n(279);n(1853);function I(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var A=function(){return w()()("search-bubble")},D=(function(e){f()(n,e);var t=I(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._contentMounted=r._contentMounted.bind(l()(r)),r._onClick=r._onClick.bind(l()(r)),r._setUnselectable=r._setUnselectable.bind(l()(r)),r.state={},r}return u()(n,[{key:"_setUnselectable",value:function(e){1===e.nodeType&&(e.setAttribute("unselectable","on"),Array.prototype.forEach.call(e.childNodes,this._setUnselectable))}},{key:"_contentMounted",value:function(e){if(e){var t=e.innerText;this.setState({title:t}),this._setUnselectable(e)}}},{key:"_onClick",value:function(e){e.stopPropagation(),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.isSelected,r=e.onClose,i=e.removeBubbleTitle;return y.a.createElement("div",{className:A().m({"is-selected":n}),title:this.state.title,onClick:this._onClick},y.a.createElement("span",{className:A().e("text"),ref:this._contentMounted},t),y.a.createElement(T.Button,{view:"clear",className:A().e("close"),onClick:r,title:i||"Удалить",ariaLabel:i,icon:R.close3IconProvider}))}}]),n})(y.a.Component);n(1854);function M(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var N=function(){return w()()("search-bubble-list")},L=(function(e){f()(n,e);var t=M(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._elementDidMount=r._elementDidMount.bind(l()(r)),r._scrollHorizontally=r._scrollHorizontally.bind(l()(r)),r._scrollBy=r._scrollBy.bind(l()(r)),r}return u()(n,[{key:"_elementDidMount",value:function(e){e&&(this.node=e,e.addEventListener("wheel",this._scrollHorizontally))}},{key:"_scrollBy",value:function(e){this.node&&(this.node.scrollBy?this.node.scrollBy(e,0):this.node.scrollLeft=this.node.scrollLeft+e)}},{key:"_scrollHorizontally",value:function(e){var t=e.deltaY;0!==e.deltaX&&(t=-e.deltaX),1===e.deltaMode&&(t*=17),Math.abs(t)>100&&(t=t>0?50:-50),this._scrollBy(t),e.stopPropagation(),e.preventDefault()}},{key:"_bringNthBubbleToView",value:function(e){if(this.wrap&&this.wrap.childNodes[e]){var t=this.wrap.childNodes[e],n=getComputedStyle(t),r=parseInt(n&&n.marginLeft||"0",10),i=t.offsetLeft-r-(this.node&&this.node.scrollLeft||0);if(i<0)this._scrollBy(i);else{var o=i+t.offsetWidth+r,a=this.node&&this.node.offsetWidth||0;o>a&&this._scrollBy(o-a)}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.bubbles,r=t.removeBubbleTitle,i=t.cls,o=t.onBubbleClick,a=t.onBubbleRemove,s=t.selectedIndexes;return y.a.createElement("div",{className:N().mix(i),ref:this._elementDidMount},y.a.createElement("div",{className:N().e("bubble-wrap"),ref:function(t){e.wrap=t}},n&&n.map((function(e,t){var n=e.content,i=e.id;return y.a.createElement(D,{key:i||n,content:n,isSelected:s&&-1!==s.indexOf(t),onClick:function(e){return o&&o(e,t)},onClose:function(){return a&&a(i)},removeBubbleTitle:r})}))))}},{key:"componentWillUnmount",value:function(){this.node&&this.node.removeEventListener("wheel",this._scrollHorizontally)}},{key:"componentDidUpdate",value:function(e){this.props.bubbles!==e.bubbles&&this.props.bubbles.length>=e.bubbles.length&&this._scrollBy(this.wrap.scrollWidth),this.props.selectedIndexes!==e.selectedIndexes&&1===this.props.selectedIndexes.length&&this._bringNthBubbleToView(this.props.selectedIndexes[0])}}]),n})(y.a.Component),F=n(918),B=(n(1063),function(){return w()()("search-input")}),U={normal:"normal","ps-header":"clear"},z=function(e){var t=e.advancedButton,n=e.containerRef,r=e.showCross,i=e.showIcon,o=e.theme,a=e.onCrossClick;return t||r||i?y.a.createElement("div",{className:B().e("right-buttons"),ref:n},t,r?y.a.createElement(T.Button,{theme:U[o],view:"clear",size:"m",className:B().e("narrow-close-button"),icon:F.close4IconProvider,onClick:a}):null,i?y.a.createElement(k.a,{cls:B().e("magnify-icon")}):null):null};n(1855);function V(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var H=function(){return w()()("search-input")},W=(function(e){f()(n,e);var t=V(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onFormSubmit=r._onFormSubmit.bind(l()(r)),r._onKeyDown=r._onKeyDown.bind(l()(r)),r._onCrossClick=r._onCrossClick.bind(l()(r)),r._onFocus=r._onFocus.bind(l()(r)),r._onButtonActivatorClick=r._onButtonActivatorClick.bind(l()(r)),r.setFocus=r.setFocus.bind(l()(r)),r._onChange=r._onChange.bind(l()(r)),r._rightButtons=y.a.createRef(),r._inputRef=null,r}return u()(n,[{key:"componentDidMount",value:function(){this.props.focus&&(this._focusTimer=setTimeout(this.setFocus,1))}},{key:"componentDidUpdate",value:function(e){this.props.focus!==e.focus&&(this.props.focus?this.setFocus():this.setBlur())}},{key:"componentWillUnmount",value:function(){this._focusTimer&&clearTimeout(this._focusTimer)}},{key:"_onFormSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(x.a.SEARCH_BUTTON)}},{key:"_onKeyDown",value:function(e){if(e.keyCode===C.a.KEYS.ENTER)return e.preventDefault(),e.stopPropagation(),void this.props.onSubmit(x.a.ENTER_PRESS);var t=this.props.bubbles,n=e.target.selectionStart,r=e.target.selectionEnd-n;0!==n||0!==r||!t.length||e.keyCode!==C.a.KEYS.LEFT&&e.keyCode!==C.a.KEYS.BACKSPACE||this.props.onBackspace&&this.props.onBackspace()}},{key:"_getPropsForRightButtons",value:function(){var e=this.props,t=e.advancedButton,n=e.tone,r=e.text,i=e.showClose,o=e.isFolded,a=e.iconPosition,s=e.theme;return{iconRight:y.a.createElement(z,{containerRef:this._rightButtons,advancedButton:t,tone:n,theme:s,showCross:!!(r||i&&!o),showIcon:o&&"right"===a,onCrossClick:this._onCrossClick})}}},{key:"_onCrossClick",value:function(){var e=this.props,t=e.text,n=e.onClearClick,r=e.onCloseClick,i=e.onTextChange;t?(i(""),this.setFocus(),n()):r()}},{key:"setFocus",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._inputRef&&(this._inputRef.focus(),null!==t&&(e="start"===t?0:"end"===t?this._inputRef.value.length:t,this._inputRef.setSelectionRange(e,e)))}},{key:"setBlur",value:function(){this._inputRef&&this._inputRef.blur()}},{key:"_onFocus",value:function(e){var t=this._rightButtons.current;if(!t||!t.contains(e.target)){var n=this.props,r=n.preventFocusSet,i=n.onFocus;r&&this.setBlur(),i()}}},{key:"_maybeRenderSearchButton",value:function(){var e=this.props,t=e.isMobile,n=e.isCompact,r=e.isFolded,i=e.searchButtonText;return t||r?null:y.a.createElement(T.Button,{view:"suggest",size:n?"s":"m",pin:"clear-round",className:H().e("form-button"),type:"submit"},i||"Найти")}},{key:"_onButtonActivatorClick",value:function(){this.setFocus()}},{key:"_maybeRenderButtonActivator",value:function(){var e=this.props,t=e.isMobile,n=e.isCompact,r=e.isFolded,i=e.clsActivator;if((t||n)&&r)return y.a.createElement(T.Button,{view:"clear",size:"m",className:H().e("form-activator").mix(i),onClick:this._onButtonActivatorClick,icon:k.b})}},{key:"_onChange",value:function(e){this.props.onTextChange(e.target.value)}},{key:"render",value:function(){var e=this,t=this.props,n=t.bubbles,r=t.iconPosition,i=t.isCompact,o=t.isFolded,a=t.isMobile,s=t.maxLength,u=t.onClick,c=t.onBubbleClick,l=t.onBubbleRemove,d=t.placeholder,f=t.removeSearchBubbleTitle,p=t.selectedBubblesIndexes,h=t.tone,m=t.noBubbleList,v=t.theme,g=this._maybeRenderButtonActivator(),b=this._maybeRenderSearchButton(),_={};a?_.iconLeft=y.a.createElement(j.default,{onClick:this.props.onClose}):o&&"left"===r?_.iconLeft=y.a.createElement(k.a,{cls:H().e("magnify-icon")}):b&&(_.pin="round-clear");return y.a.createElement("div",{className:H().m({"search-icon":r,theme:v,tone:h})},g,y.a.createElement("form",{className:H().e("form").m({hidden:Boolean(g),folded:o}),onSubmit:this._onFormSubmit},y.a.createElement("div",{className:H().e("text-bubble-container")},m?null:y.a.createElement(L,{bubbles:n,removeBubbleTitle:f,cls:h,onBubbleClick:c,onBubbleRemove:l,selectedIndexes:p}),y.a.createElement(P.Textinput,O()({className:H().e("form-input").m({"has-bubbles":Boolean(n.length)}),type:"text",view:h,size:i?"s":"m",controlRef:function(t){e._inputRef=t},placeholder:d,value:this.props.text,onKeyDown:this._onKeyDown,onFocus:this._onFocus,onBlur:this.props.onBlur,onChange:this._onChange,onClick:u,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","aria-autocomplete":"list","aria-controls":this.props.ariaResultKey,"aria-activedescendant":this.props.ariaActiveResultItemKey,maxLength:s},_,this._getPropsForRightButtons()))),b))}}]),n})(g.PureComponent);W.defaultProps={bubbles:[],preventFocusSet:!1,onFocus:function(){}};var $=W;n(1856);function G(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var q=function(){return w()()("search-result")},Y=(function(e){f()(n,e);var t=G(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"_getItems",value:function(){var e=this.props,t=e.query,n=e.items,r=e.ariaItemKey,i=e.ariaKey,o=e.hoverIndex,a=e.activeIndex,s=e.renderItem,u=e.getShowText,c=e.getItemType,l=e.onItemHover,d=e.onSelect,f=-1!==o?o:a,p=n&&n.map((function(e,n){var i=n===f;return y.a.createElement("div",{className:q().e("item").m({active:i,type:c(e)}),key:"".concat(t,"-").concat(n),onClick:function(){return d(e,n)},onMouseEnter:function(){return l(n)},"aria-selected":i,role:"option",id:"".concat(r,"-").concat(n),title:u(e)},s(e))}));return y.a.createElement("div",{className:q().e("items"),role:"listbox",id:i,onMouseLeave:function(){return l(-1)}},p)}},{key:"render",value:function(){return y.a.createElement("div",{className:q()},this._getItems())}}]),n})(g.PureComponent);function K(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}n.d(t,"a",(function(){return re}));var J=function(){return w()()("search")},Z="suggest-result",X="suggest-result-item",Q={SHORTCUT:"shortcut",CLOSE_CLICK:"close-click",BG_CLICK:"bg-click"},ee="click",te="hotkey",ne="js-no-suggest-hotkey",re="js-prevent-popup-close",ie=(function(e){f()(n,e);var t=K(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onBubbleClick=r._onBubbleClick.bind(l()(r)),r._onInputBlur=r._onInputBlur.bind(l()(r)),r._onInputFocus=r._onInputFocus.bind(l()(r)),r._onKeyDown=r._onKeyDown.bind(l()(r)),r._onSubmit=r._onSubmit.bind(l()(r)),r._onItemHover=r._onItemHover.bind(l()(r)),r._preventFocusLoose=r._preventFocusLoose.bind(l()(r)),r._onCloseClick=r._onCloseClick.bind(l()(r)),r._onSelect=r._onSelect.bind(l()(r)),r._onTextChange=r._onTextChange.bind(l()(r)),r._activate=r._activate.bind(l()(r)),r._onWindowMouseDown=r._onWindowMouseDown.bind(l()(r)),r._targetCanSendActivateHokey=function(e){for(var t=e;t&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&"true"!==t.contentEditable&&(!t.className||-1===t.className.split(" ").indexOf(ne));)t=t.parentNode;return!t},r._isSuggestActive=!1,r.state={activeItemIndex:-1,hoverItemIndex:-1,inputText:e.suggestQuery,selectedBubblesIndexes:Array()},r.selectedBubblesIndexFrom=null,r.selectedBubblesIndexTo=null,r._container=y.a.createRef(),r._content=y.a.createRef(),r}return u()(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.state.inputText?x.b.UNFOLDED_INACTIVE:x.b.FOLDED;"undefined"!=typeof window?(this._setSuggestState(e),window.addEventListener("keydown",this._onKeyDown,!0)):this.setState({state:e})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("mousedown",this._onWindowMouseDown)}},{key:"componentDidMount",value:function(){var e=this.state.state;this._onSuggestStateSet(void 0,e),window.addEventListener("mousedown",this._onWindowMouseDown)}},{key:"componentDidUpdate",value:function(e,t){var n=t.state,r=this.state.state;e.bubbles!==this.props.bubbles&&this._clearBubblesSelection(),this._onSuggestStateSet(n,r)}},{key:"_setActiveItem",value:function(e){var t=this.props.suggestItems,n=this.state,r=n.activeItemIndex,i=n.hoverItemIndex,o=-1===i?r:i;(o+=e?1:-1)>=t.length?o=-1:o<-1&&(o=t.length-1),this.setState({activeItemIndex:o,hoverItemIndex:-1})}},{key:"_setSelectedBubbles",value:function(e,t){var n=this.props.bubbles;if(n.length){var r=this.state.selectedBubblesIndexes;t||e||1!==r.length||r[0]!==n.length-1||(this._clearBubblesSelection(),this.focusInput(!1,0));var i=this.selectedBubblesIndexFrom,o=this.selectedBubblesIndexTo,a=null,s=null;if(null===i){if(!e)return;i=n.length-1,o=n.length-1,a=i}else{var u=o;e&&o>0?o--:!e&&o<n.length-1&&o++,t?o!==u&&(e&&i<u||!e&&i>u)?s=u:a=o:a=i=o}if(r=t?r.slice(0):[],null!==a&&-1===r.indexOf(a))r.push(a);else if(null!==s){var c=r.indexOf(s);r.splice(c,1)}this.setState({selectedBubblesIndexes:r}),this.selectedBubblesIndexFrom=i,this.selectedBubblesIndexTo=o,this._inputRef&&this._inputRef.setBlur()}}},{key:"_onBubbleClick",value:function(e,t){if(this._activate(),e&&e.shiftKey){for(var n=this.selectedBubblesIndexFrom||0,r=this.selectedBubblesIndexTo||0,o=Math.min(n,r,t),a=Math.max(n,r,t),s=Math.min(n,t),u=Math.max(n,t),c=this.state.selectedBubblesIndexes.slice(0),l=o;l<=a;l++)if(l>=s&&l<=u)-1===c.indexOf(l)&&c.push(l);else{var d=c.indexOf(l);-1!==d&&c.splice(d,1)}this.setState({selectedBubblesIndexes:c})}else{if(e&&(e.ctrlKey||e.metaKey)){var f=this.state.selectedBubblesIndexes.slice(0),p=f.indexOf(t);-1===p?this.setState({selectedBubblesIndexes:[].concat(i()(f),[t])}):(f.splice(p,1),this.setState({selectedBubblesIndexes:f}),1===f.length&&(t=f[0]))}else this.setState({selectedBubblesIndexes:[t]});this.selectedBubblesIndexFrom=t}this.selectedBubblesIndexTo=t,this._inputRef&&this._inputRef.setBlur()}},{key:"_clearBubblesSelection",value:function(){this.setState({selectedBubblesIndexes:[]}),this.selectedBubblesIndexFrom=null,this.selectedBubblesIndexTo=null}},{key:"_removeSelectedBubbles",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.bubbles,n=this.state.selectedBubblesIndexes,r=n.map((function(e){return t[e].id}));if(this._removeBubbles(r),1===n.length){var i=n[0];e&&i>0?this._onBubbleClick(null,i-1):!e&&i<t.length-1?this._onBubbleClick(null,i):this.focusInput(!1,0)}else this.focusInput(!1,0)}},{key:"_removeBubbles",value:function(e){this.props.onBubblesRemove&&this.props.onBubblesRemove(e)}},{key:"_resetCurrentItems",value:function(){this.setState({activeItemIndex:-1,hoverItemIndex:-1})}},{key:"_toggleSuggestActive",value:function(e){this._isSuggestActive!==e&&(this._isSuggestActive=e,this.props.onActiveChange(e))}},{key:"_setSuggestState",value:function(e){if(e!==this.state.state){switch(e){case x.b.UNFOLDED_INACTIVE:this._resetCurrentItems();break;case x.b.FOLDED:this._onTextChange("")}var t={state:e};e!==x.b.UNFOLDED_ACTIVE&&this._inputRef&&this._inputRef.setBlur(),this.setState(t),this.props.onStateChanged&&this.props.onStateChanged(e)}}},{key:"_onSuggestStateSet",value:function(e,t){if(t!==e){var n=this.props.onFoldedChanged,r=t===x.b.UNFOLDED_ACTIVE,i=e===x.b.FOLDED,o=t===x.b.FOLDED;this._toggleSuggestActive(r),e&&i===o||n(o)}}},{key:"_onKeyDown",value:function(e){if(!this.props.ignoreKeyboardEvents){var t=e.keyCode,n=e.key;if(this._isSuggestActive){if(t===C.a.KEYS.UP||t===C.a.KEYS.DOWN)e.preventDefault(),e.stopPropagation(),this._setActiveItem(t===C.a.KEYS.DOWN);else if(t===C.a.KEYS.ESC||t===C.a.KEYS.TAB)e.preventDefault(),e.stopPropagation(),this._deactivate(Q.SHORTCUT);else if(!this._inputFocused){switch(t){case C.a.KEYS.LEFT:case C.a.KEYS.RIGHT:this._setSelectedBubbles(t===C.a.KEYS.LEFT,e.shiftKey);break;case C.a.KEYS.ENTER:this._onSubmit(x.a.ENTER_PRESS);break;case C.a.KEYS.BACKSPACE:case C.a.KEYS.DELETE:this._removeSelectedBubbles(t===C.a.KEYS.BACKSPACE)}e.stopPropagation(),e.preventDefault()}}else-1!=="/.".indexOf(n)&&e.target&&this._targetCanSendActivateHokey(e.target)&&(this.isFolded()&&this._activate(te),this.focusInput(!0),e.stopPropagation(),e.preventDefault());this.props.onKeyDown(e)}}},{key:"_activate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props.startSuggest;this.state.state!==x.b.UNFOLDED_ACTIVE&&(t(e||this._activateSource||ee),this._setSuggestState(x.b.UNFOLDED_ACTIVE),this._activateSource=null)}},{key:"_deactivate",value:function(e){var t=this.props,n=t.shouldFoldOnEsc,r=t.onSearchFinish,i=t.keepExpanded,o=this.state.inputText;this._clearBubblesSelection(),o&&!n()||i?(this._setSuggestState(x.b.UNFOLDED_INACTIVE),r(e,!1)):(this._setSuggestState(x.b.FOLDED),r(e,!0))}},{key:"_onSubmit",value:function(e){var t=this.state.activeItemIndex,n=this.props,r=n.suggestItems,i=n.onSubmit;this._clearBubblesSelection(),-1!==t?this._onSelect(r[t]):this._isDirty()&&(i(e),this._setSuggestState(x.b.UNFOLDED_INACTIVE)),this._inputRef&&this._inputRef.setBlur()}},{key:"focusInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(this._activateSource=te),this._inputRef&&this._inputRef.setFocus(t)}},{key:"isFolded",value:function(){return this.state.state===x.b.FOLDED}},{key:"isSuggestVisible",value:function(){return this.state.state===x.b.UNFOLDED_ACTIVE}},{key:"fold",value:function(){this._setSuggestState(x.b.FOLDED)}},{key:"unfold",value:function(){this._setSuggestState(x.b.UNFOLDED_INACTIVE)}},{key:"_isDirty",value:function(){var e=this.state,t=e.activeItemIndex,n=e.inputText,r=this.props.bubbles;return n||r&&r.length||-1!==t}},{key:"_onItemHover",value:function(e){this.setState({hoverItemIndex:e})}},{key:"_preventFocusLoose",value:function(e){var t=this.state.state===x.b.UNFOLDED_ACTIVE;this.props.isMobile&&t&&e.preventDefault()}},{key:"_onCloseClick",value:function(){this.props.shouldNotDeactivateOnClose||this._deactivate(Q.CLOSE_CLICK),this.props.onCloseClick()}},{key:"_onInputFocus",value:function(){this._clearBubblesSelection(),this._inputFocused=!0,this._activate()}},{key:"_onInputBlur",value:function(){this._inputFocused=!1}},{key:"_onSelect",value:function(e,t){if(e){var n=this.props,r=n.getShowText,i=n.handleItemSelect,o=r(e),a=i(e,t);a?this._setSuggestState(x.b.FOLDED):this.setState({inputText:o}),!1===a&&this._setSuggestState(x.b.UNFOLDED_INACTIVE)}}},{key:"_onTextChange",value:function(e){var t=this.props.onTextChange;this.setState({inputText:e}),this._resetCurrentItems(),t(e)}},{key:"_renderInput",value:function(){var e,t=this,n=this.state,r=n.state,i=n.inputText,o=n.activeItemIndex,a=n.selectedBubblesIndexes,s=this.props,u=s.placeholderDefault,c=s.placeholderCustom,l=s.isMobile,d=s.isCompact,f=s.bubbles,p=s.advancedButton,h=s.searchButtonText,m=s.removeSearchBubbleTitle,v=s.maxLength,g=s.onClearClick,b=s.showClose,_=s.clsActivator,O=s.toneDefault,E=s.iconPosition,w=s.keepTextWhenFolded,S=s.noBubbleList,C=s.theme,T=r===x.b.FOLDED;return o>0&&(e="".concat(X,"-").concat(o)),y.a.createElement($,{isMobile:l,isCompact:d,isFolded:T,maxLength:v,bubbles:T?[]:f,selectedBubblesIndexes:a,onBubbleClick:this._onBubbleClick,onBubbleRemove:function(e){return t._removeBubbles([e])},placeholder:T?u:c,searchButtonText:h,removeSearchBubbleTitle:m,advancedButton:T?null:p,ariaResultKey:Z,ariaActiveResultItemKey:e,onTextChange:this._onTextChange,onClearClick:g,onBackspace:function(){return t._setSelectedBubbles(!0,!1)},showClose:b,onCloseClick:this._onCloseClick,clsActivator:_,tone:O,text:T&&!w?"":i,onBlur:this._onInputBlur,onFocus:this._onInputFocus,onSubmit:this._onSubmit,iconPosition:E,ref:function(e){t._inputRef=e},noBubbleList:S,theme:C})}},{key:"_renderResults",value:function(){var e=this.props,t=e.suggestItems,n=e.getShowText,r=this.state,i=r.activeItemIndex,o=r.hoverItemIndex,a=r.inputText;return y.a.createElement(Y,{items:t,renderItem:this.props.renderItem,query:a,activeIndex:i,hoverIndex:o,ariaKey:Z,ariaItemKey:X,getShowText:n,getItemType:this.props.getItemType,onSelect:this._onSelect,onItemHover:this._onItemHover})}},{key:"_renderPopupContents",value:function(e){var t=this.state.state===x.b.UNFOLDED_ACTIVE;return y.a.createElement("div",{className:J().e("content").m({empty:e}),onMouseDown:this._preventFocusLoose,ref:this._content,role:"combobox","aria-haspopup":"listbox","aria-owns":Z,"aria-expanded":t},y.a.createElement("div",{className:J().e("form-wrap")},this._renderResults()))}},{key:"_onWindowMouseDown",value:function(e){if(this.state.state===x.b.UNFOLDED_ACTIVE){for(var t=e.target;t.parentElement;){if(t===this._container.current||t===this._content.current||t.classList.contains(re))return;t=t.parentElement}"HTML"===t.nodeName&&this._deactivate(Q.BG_CLICK)}}},{key:"_renderPopup",value:function(){if(this.props.noSuggestPopup)return null;var e=!this.props.suggestItems||0===this.props.suggestItems.length;return y.a.createElement(b.Popup,{view:"default",visible:this.state.state===x.b.UNFOLDED_ACTIVE,className:J().e("popup").m({empty:e}).mix(this.props.popupClassName),scope:this._container,style:{top:"auto",left:0,right:0},noTrapAutoFocus:!0},this._renderPopupContents(e))}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.cls;return y.a.createElement("div",{className:J().m({theme:t}).mix(n),ref:this._container},this._renderInput(),this._renderPopup())}}]),n})(g.PureComponent),oe=function(){};ie.defaultProps={isMobile:!1,isCompact:!1,toneDefault:"suggest-default",iconPosition:"left",getItemType:function(){return null},shouldFoldOnEsc:function(){return!0},startSuggest:oe,onClearClick:oe,onFoldedChanged:oe,onCloseClick:oe,onActiveChange:oe,onSearchFinish:oe,onKeyDown:oe,keepTextWhenFolded:!1,noSuggestPopup:!1,noBubbleList:!1,theme:"normal",ignoreKeyboardEvents:!1},ie.SUGGEST_STATE=x.b,ie.SEARCH_TRIGGER=x.a,ie.FOLD_SOURCE=Q;t.b=ie}),(function(e,t,n){"use strict";var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(0),v=n.n(m),g=n(11),y=n.n(g),b={};function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var O=function(){},E=(function(e){l()(n,e);var t=_(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onLoad=r._onLoad.bind(u()(r)),r._onError=r._onError.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){if(this._isImageLoaded())this._onLoad();else{var e=new Image;e.addEventListener("load",this._onLoad),e.addEventListener("error",this._onError),e.src=this.props.src}}},{key:"_isImageLoaded",value:function(){return this._imageNode&&this._imageNode.naturalWidth>0}},{key:"_onLoad",value:function(e){this.props.rumId&&(function(e,t){b[e]||(b[e]=0),window.Ya.Rum&&b[e]<20&&(window.Ya.Rum.sendResTiming([e,85+b[e]].join("."),t),b[e]++)})(this.props.rumId,this.props.src),this.props.onLoad(this.props.id,e)}},{key:"_onError",value:function(e){this.props.onError(this.props.id,e)}},{key:"render",value:function(){var e=this;return v.a.createElement("img",{elementtiming:this.props.elementTiming,className:y()()("resource-image").mix(this.props.cls),ref:function(t){e._imageNode=t},src:this.props.src,onLoad:this._onLoad,onError:this._onError})}}]),n})(m.PureComponent);E.defaultProps={onError:O,onLoad:O};t.a=E}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=(function(){function e(e,t){this.walker=(function(e,t){var n=function(e){return t(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},r=n;return r.acceptNode=n,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,r,!1)})(e,(function(e){return t(e)})),this.currentElement=null}return Object.defineProperty(e.prototype,"root",{get:function(){return this.walker.root},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.currentElement===this.root?null:this.currentElement},set:function(e){var t=this.root.contains(e)?e:null;this.currentElement=t,this.walker.currentNode=null!==t&&void 0!==t?t:this.root},enumerable:!1,configurable:!0}),e.prototype.first=function(){return this.walker.currentNode=this.walker.root,this.next()},e.prototype.last=function(){this.walker.currentNode=this.walker.root;for(var e=null;this.walker.lastChild();)e=this.walker.currentNode;return this.currentElement=e,e},e.prototype.next=function(){return this.currentElement=this.walker.nextNode(),this.currentElement},e.prototype.previous=function(){var e=this.walker.previousNode();return this.currentElement=e===this.root?null:e,this.currentElement},e})()}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=n(26);n(2081);const s=r(n(11)),u=()=>s.default()("onboarding-step");t.default=(({imageSrc:e,imageSrc2x:t,title:n,description:r,children:s,buttonText:c,onSubmit:l,premium:d,additionalButtonLink:f})=>{const p=o.useSelector(({config:{links:{static:{host:e}}}})=>e);return i.default.createElement("div",{className:u().m({isTouch:!1,"without-image":!e})},e&&t?i.default.createElement("img",{src:p+e,srcSet:`${p+t} 2x`,className:u().e("image")}):null,i.default.createElement("div",{className:u().e("body")},i.default.createElement("div",{className:u().e("titleWrapper")},n&&i.default.createElement("h2",{className:u().e("title")},n),r&&i.default.createElement("div",{className:u().e("description")},r)),s),c&&i.default.createElement(a.Button,{onClick:l,className:u().e("button"),view:d?"premium":"brand",size:"xxl",width:"max"},c),f&&i.default.createElement(a.Button,{className:u().e(["button","additionalButton"]),onClick:f.onClick,view:"clear",size:"xl",width:"max",type:"link",url:f.url,target:"_blank"},f.text))})}),(function(e,t,n){var r=n(145)(n(101),"Set");e.exports=r}),(function(e,t,n){var r=n(386),i=n(1632),o=n(1633);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a}),(function(e,t){e.exports=function(e,t){return e.has(t)}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"eyeIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M7.787 13a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm7.787-5.617L14 8.617C12.088 6.176 10.03 5 7.787 5c-2.242 0-4.3 1.176-6.213 3.617L0 7.383C2.266 4.491 4.875 3 7.787 3s5.521 1.49 7.787 4.383z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);n(902);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=Number(this.props.size),t="avatar",n={};return this.props.url&&(n.backgroundImage="url("+this.props.url+")"),isNaN(e)?t+=" avatar_size_"+this.props.size:(n.width=e+"px",n.height=e+"px"),this.props.cls&&(t+=" "+this.props.cls),h.a.createElement("div",{className:t,style:n})}}]),n})(p.Component);v.defaultProps={size:"m"},t.default=v}),(function(e,t,n){"use strict";n.r(t);var r=n(121),i=n.n(r),o=n(154),a=n(18),s=n(19),u=n(15),c=n(153),l=n(9),d=n(23);o.a.define("operationUpload",{methods:{onStatusDone:function(){this.get(".idDst")&&this.result&&this.result.resource&&this.updateDst(this.result.resource),Object(a.default)().dispatch(Object(c.fetchSpace)()),this.hasCreatedInEditorDoc()&&this.selectDst()},onStatusCompleted:function(){this.set(".file",null),this.get(".idDst")&&this.fetchResource(this.get(".idDst"),!1,{insertOnlyIfPortionLoaded:!0})},updateDst:function(e){var t=this.get(".idDst"),n=Object(a.default)().dispatch(Object(u.replaceResource)(t,e));n.id!==t&&this.set(t,n.id)},handleSyncResource:function(){this.setStatus("done")},notify:function(){this.showNotification({operation:"upload",nameDst:d.basename(this.get(".idDst")),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})},isFinalized:function(){var e=this.get(".status");return l.includes(["done","failed","canceled"],e)},hasCreatedInEditorDoc:function(){var e=Object(s.getResourceData)(Object(a.default)().getState(),this.get(".idDst"),"name"),t=d.extname(e),n=ns.Model.get("config").get(".data.locale");return!(!this.DEFAULT_DOC_NAMES[t]||!this.DEFAULT_DOC_NAMES[t][n])&&new RegExp("^"+this.DEFAULT_DOC_NAMES[t][n]+"( \\(\\d+\\))?\\."+t+"$").test(e)},DEFAULT_DOC_NAMES:{docx:{ru:"Документ",en:"Document",tr:"Belgesi",uk:"Документ"},xlsx:{ru:"Таблица",en:"Spreadsheet",tr:"Tablosu",uk:"Таблиця"},pptx:{ru:"Презентация",en:"Presentation",tr:"Sunumu",uk:"Презентація"}},selectDst:function(){var e=this.get(".idDst"),t=d.dirname(e);ns.page.current.params.idContext===t&&ns.page.go(d.getResourceSelectedUrl(e))}}}),ns.Model.define("operationRemoteResource",{params:{id:null},methods:{toLocal:function(){return this.get(".type")?(this.set(".isRemote",!0),i.a.initialize(this.get(".type"),this.getData())):null}}});var f=n(9),p=n.n(f),h=n(402),m=n(24),v=n(35),g=n(23),y=function(e){return e.startsWith("/disk/")||e.startsWith("/photounlim/")||e.startsWith("/attach/")},b={getOperationData:function(e){var t,n={isRemote:!0,committer:p.a.get(e,"root.parameters.committer_login")},r=(function(e){var t=e.values.filter((function(e){return"op"===e.tag})).map((function(e){var t=e.parameters;return{type:t.type,idSrc:g.normalize(t.key),nameSrc:t.name||g.basename(t.key),typeSrc:t.resource_type,fileIdSrc:t.fid,idParent:g.normalize(t.folder)}}));return p.a.values(p.a.groupBy(t,"type")).map((function(e){return p.a.minBy(e,(function(e){return e.idSrc.length}))}))})(e),i=p.a.find(r,{type:"new"}),o=p.a.find(r,{type:"deleted"});i&&o?(n.idSrc=o.idSrc,n.idDst=i.idSrc,n.typeSrc=o.typeSrc,n.fileIdSrc=o.fileIdSrc,i.idParent===o.idParent&&y(n.idDst)?n.type="rename":v.default.isTrash(o.idParent)&&y(n.idDst)?n.type="restore":v.default.isTrash(i.idParent)&&y(n.idSrc)?n.type="delete":y(n.idDst)&&(n.type="move")):"new"===(t=1===r.length?r[0]:i||o).type&&y(t.idSrc)?("dir"===t.typeSrc?n.type="createFolder":"file"===t.typeSrc&&(n.type="upload"),n.idDst=t.idSrc):"deleted"===t.type&&(function(e){return e.startsWith("/trash/")||Object(m.isInVirtualDiskTrash)(e)})(t.idSrc)?(n.type="delete",n.idSrc=t.idSrc):"published"!==t.type&&"unpublished"!==t.type||!y(t.idSrc)?"clean"===t.type?Object(a.default)().dispatch(Object(h.onSuccessCleanTrash)()):"changed"===t.type&&"file"===t.typeSrc&&y(t.idSrc)?(n.type="changed",n.idSrc=t.idSrc):"office_access_state_changed"===t.type&&"file"===t.typeSrc&&y(t.idSrc)&&(n.type="office_access_state_changed",n.idSrc=t.idSrc):(n.type="publish",n.reverse="unpublished"===t.type,n.idSrc=t.idSrc);return n}},_=n(117),O=n(63),E=n.n(O),w=n(148),S=n(132),C=n(65),x=n(403),T=n(404),P=n(80),k=n(56),j=n(180);n.d(t,"resubscribe",(function(){return U})),n.d(t,"getXivaBaseUrl",(function(){return z})),n.d(t,"subscribe",(function(){return V})),n.d(t,"addEventListener",(function(){return H}));var R=n(247).isDebugMode,I="disk-json",A=null,D=null,M=null,N=null,L=!1,F=[],B=!1,U=function(e){clearTimeout(D),A&&(["onopen","onclose","onmessage"].forEach((function(e){A[e]=void 0})),A.close(1e3),A=null),N||(clearTimeout(M),M=setTimeout((function(){N=Object(S.waitNavigatorOnline)().then((function(){N=null,V()}))}),e))};function z(){return"wss://".concat(E.a.getHost(_.urlsBase.xiva),"/v2/subscribe/websocket")}function V(){return B=R("xiva"),new Promise(function(e){if(A)return e();var t=E.a.addParams(z(),{client:"ufo",uid:Object(a.default)().getState().user.uid,session:_.idClient,service:I});A=new WebSocket(t),D=setTimeout((function(){U(0)}),5e3),A.onopen=function(){e()},A.onmessage=function(e){var t=e.data;L=!0;var n=t=JSON.parse(t),r=n.message,o=n.session_key,s=n.operation;if(r&&o!==_.idClient)try{!(function(e){B&&console.log("xiva",e,JSON.stringify(e));var t,n,r=no.jpath(".root.tag",e),o=e;switch(r){case"diff":o=b.getOperationData(e);var s=Object(a.default)();if("office_access_state_changed"===o.type)s.dispatch(Object(u.fetchSingleResource)(o.idSrc));else if(o.type)if(Object(P.isSagaOperation)(s.getState(),o.type)){var l={type:o.type,src:o.idSrc,srcType:o.typeSrc};o.idDst&&(l.dst=o.idDst),s.dispatch(Object(k.createOperationFromDiff)(l))}else n=i.a.initializeRemote("resource");break;case"quota":Object(a.default)().dispatch(Object(c.remoteUpdateSpace)());break;case"invite":t=["invitees"];break;case"share":Object(a.default)().dispatch(Object(j.processRemoteAction)(e));break;case"album":Object(a.default)().dispatch(Object(C.remoteUpdateAlbum)(e));break;case"quota_overdraft":Object(a.default)().dispatch(Object(x.remoteChangeUserOverdraftStatus)(e))}n&&i.a.completeRemote(n,o);t&&t.forEach((function(e){ns.Model.getValid(e)&&ns.Model.get("queueRequest").pushPriority({id:e})}));F.forEach((function(t){t(e,r)}))})(JSON.parse(r))}catch(e){Object(w.log)({type:"xiva-push",uid:Object(a.default)().getState().user.uid,message:e})}"ping"===s&&(clearTimeout(D),D=setTimeout((function(){U(0)}),1e3*(t["server-interval-sec"]+2)))},A.onclose=function(e){4401!==e.code?U(1e3):L&&Object(T.safeReload)()}})}function H(e){if(!(e instanceof Function))throw"listener must be a function";F.push(e)}}),,,,(function(e,t,n){"use strict";var r=n(956),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}}),(function(e,t,n){"use strict";var r=n(1243),i=n(958);e.exports=function(e){return r(i(e))}}),(function(e,t,n){"use strict";var r=n(175),i=n(618),o=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o}),(function(e,t,n){"use strict";var r=n(175),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}}),(function(e,t,n){"use strict";var r=n(292),i=n(968),o=n(1257),a=n(970),s=n(960),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor;t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=l(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}}),(function(e,t,n){"use strict";var r=n(1330),i=n(1331);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),d=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(1332);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var O=a.exec(b);if(O){var E=(O=O[0]).toLowerCase();this.protocol=E,b=b.substr(O.length)}if(n||O||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===b.substr(0,2);!w||O&&v[O]||(b=b.substr(2),this.slashes=!0)}if(!v[O]&&(w||O&&!g[O])){for(var S,C,x=-1,T=0;T<f.length;T++){-1!==(P=b.indexOf(f[T]))&&(-1===x||P<x)&&(x=P)}-1!==(C=-1===x?b.lastIndexOf("@"):b.lastIndexOf("@",x))&&(S=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(S)),x=-1;for(T=0;T<d.length;T++){var P;-1!==(P=b.indexOf(d[T]))&&(-1===x||P<x)&&(x=P)}-1===x&&(x=b.length),this.host=b.slice(0,x),b=b.slice(x),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var j=this.hostname.split(/\./),R=(T=0,j.length);T<R;T++){var I=j[T];if(I&&!I.match(p)){for(var A="",D=0,M=I.length;D<M;D++)I.charCodeAt(D)>127?A+="x":A+=I[D];if(!A.match(p)){var N=j.slice(0,T),L=j.slice(T+1),F=I.match(h);F&&(N.push(F[1]),L.unshift(F[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[E])for(T=0,R=l.length;T<R;T++){var z=l[T];if(-1!==b.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),b=b.split(z).join(V)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var W=b.indexOf("?");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,W)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var $=this.search||"";this.path=B+$}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),O=_||b||n.host&&e.pathname,E=O,w=n.pathname&&n.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),O=O&&(""===h[0]||""===w[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=h;else if(h.length)w||(w=[]),w.pop(),w=w.concat(h),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=w.shift(),(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=w.slice(-1)[0],x=(n.host||e.host||w.length>1)&&("."===C||".."===C)||""===C,T=0,P=w.length;P>=0;P--)"."===(C=w[P])?w.splice(P,1):".."===C?(w.splice(P,1),T++):T&&(w.splice(P,1),T--);if(!O&&!E)for(;T--;T)w.unshift("..");!O||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),x&&"/"!==w.join("/").substr(-1)&&w.push("");var k,j=""===w[0]||w[0]&&"/"===w[0].charAt(0);S&&(n.hostname=n.host=j?"":w.length?w.shift():"",(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift()));return(O=O||n.host&&w.length)&&!j&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}}),(function(e,t,n){ns.Model.define("userCurrent",{methods:{isValid:no.true,getData:function(){return n(18).default().getState().user}}}),e.exports=ns.Model.get("userCurrent")}),(function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=n(624);e.exports=function(e){return r(e.delims&&e.delims.elem&&e.delims.mod,"@bem/sdk.naming.entity.stringify: convention should be an instance of BemNamingEntityConvention"),function(t){return (function(e,t){if(!e||!e.block)return"";var n=e.block;e.elem&&(n+=t.elem+e.elem);var r=e.mod,i=("string"==typeof r?r:r&&r.name)||!e.__isBemEntityName__&&e.modName;if(i){var o=r&&r.hasOwnProperty("val")||e.hasOwnProperty("modVal"),a=r&&r.val||!e.__isBemEntityName__&&e.modVal;!a&&0!==a&&o||(n+=t.mod.name+i),a&&!0!==a&&(n+=t.mod.val+a)}return n})(t,e.delims)}}}),(function(e,t,n){"use strict";(function(t){var r=n(489);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(625),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function d(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var f=e.exports=y,p=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(p);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(c||!a.isFunction(e))return a.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function y(e,t){e||g(e,!0,t,"==",f.ok)}function b(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(d(e)&&d(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),(function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=_(e),o=_(t);if(i&&!o||!i&&o)return!1;if(i)return e=u.call(e),t=u.call(t),b(e,t,n);var s,c,l=w(e),d=w(t);if(l.length!==d.length)return!1;for(l.sort(),d.sort(),c=l.length-1;c>=0;c--)if(l[c]!==d[c])return!1;for(c=l.length-1;c>=0;c--)if(s=l[c],!b(e[s],t[s],n,r))return!1;return!0})(e,t,n,r))}return n?e===t:e==t}function _(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function O(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function E(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=(function(e){var t;try{e()}catch(e){t=e}return t})(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&g(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&a.isError(i),u=!e&&i&&!n;if((s&&o&&O(i,n)||u)&&g(i,n,"Got unwanted exception"+r),e&&i&&n&&!O(i,n)||!e&&i)throw i}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=(function(e){return m(v(e.actual),128)+" "+e.operator+" "+m(v(e.expected),128)})(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=h(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(f.AssertionError,Error),f.fail=g,f.ok=y,f.equal=function(e,t,n){e!=t&&g(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){b(e,t,!1)||g(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){b(e,t,!0)||g(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){b(e,t,!1)&&g(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){E(!0,e,t,n)},f.doesNotThrow=function(e,t,n){E(!1,e,t,n)},f.ifError=function(e){if(e)throw e},f.strict=r((function e(t,n){t||g(t,!0,n,"==",e)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var w=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(110))}),(function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])m(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=l(e,i,r)),i}var o=(function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")})(e,n);if(o)return o;var a=Object.keys(n),s=(function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t})(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(w(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return d(n)}var c,_="",S=!1,C=["{","}"];(p(n)&&(S=!0,C=["[","]"]),w(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),O(n)&&(_=" "+Date.prototype.toUTCString.call(n)),E(n)&&(_=" "+d(n)),0!==a.length||S&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=S?(function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)T(t,String(a))?o.push(f(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))})),o})(e,n,r,s,a):a.map((function(t){return f(e,n,r,s,t,S)})),e.seen.pop(),(function(e,t,n){if(e.reduce((function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]})(c,_,C)):C[0]+_+C[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),T(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function O(e){return _(e)&&"[object Date]"===S(e)}function E(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function w(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=O,t.isError=E,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(626);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",(function(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")})(),t.format.apply(t,arguments))},t.inherits=n(627),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=P,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(k,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(294))}),(function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}}),(function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),(function(e,t,n){"use strict";e.exports={origin:n(629),react:n(630),"two-dashes":n(631)}}),(function(e,t,n){"use strict";e.exports={delims:{elem:"__",mod:{name:"_",val:"_"}},fs:{pattern:"${layer}.blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+(?:-[a-zA-Z0-9]+)*"}}),(function(e,t,n){"use strict";e.exports={delims:{elem:"-",mod:{name:"_",val:"_"}},fs:{delims:{elem:""},pattern:"${layer?${layer}.}blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+"}}),(function(e,t,n){"use strict";e.exports={delims:{elem:"__",mod:{name:"--",val:"_"}},fs:{pattern:"${layer}.blocks/${entity}.${tech}",scheme:"nested"},wordPattern:"[a-zA-Z0-9]+(?:-[a-zA-Z0-9]+)*"}}),(function(e,t,n){"use strict";var r=n(633);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}}),(function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}),(function(e,t,n){"use strict";function r(e,t,n){var r,i,o,c=function(c){var l,d;return r=r||s.cn(e),i=i||r(),a.forwardRef((function(e,s){var f=(o=o||Object.keys(t)).every((function(n){var r=t[n],i=e[n];return r===i||"*"===r&&Boolean(i)})),p=Object.assign({},e,{ref:s});if(f){var h=o.reduce((function(e,n){return"*"!==t[n]&&(e[n]=t[n]),e}),{});return d=d||r(h),p.className=u.classnames(d,e.className).replace(i+" ",""),"function"==typeof n?void 0===l&&(l=n(c)):l=c,a.createElement(l,p)}return a.createElement(c,p)}))},l=n||{},d=l.__passToProps,f=void 0===d?1:d,p=l.__simple,h=void 0===p?0:p,m=Object.keys(t),v=m[0],g=t[m[0]];return(c.__isSimple=!n&&1===m.length||h)&&(c.__blockName=e,c.__mod=v,c.__value=g,c.__passToProps=f),c}function i(e){for(var t={},n={},r=s.cn(e[0].__blockName),i=0,o=e;i<o.length;i++){var u=o[i],l=u.__mod,d=u.__value,f=u.__passToProps;t[l]=t[l]||[],n[l]=n[l]||[],t[l].push(d),n[l].push(f)}var p=Object.keys(t);return function(e){return function(i){for(var o={},s=c({},i),u=0,l=p;u<l.length;u++){var d=l[u],f=t[d],h=i[d],m=f.indexOf(h);-1===m&&1==f[0]&&0==h&&(m=0),-1!==m?(o[d]=h,n[d][m]||delete s[d]):s.hasOwnProperty(d)&&void 0===h&&delete s[d]}return s.className=r(o,[i.className]),a.createElement(e,s)}}}function o(){for(var e=[],t=[],n=0,r=[].slice.call(arguments);n<r.length;n++){var o=r[n];o.__isSimple?e.push(o):t.push(o)}return(e.length?[i(e)].concat(t):t).reduce((function(e,t){return function(){return e(t.apply(0,arguments))}}),(function(e){return e}))}Object.defineProperty(t,"__esModule",{value:1});var a=n(0),s=n(28),u=n(636),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])({}).hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.compose=o,t.composeU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.apply(void 0,e)},t.createClassNameModifier=function(e,t){return r(e,t,{__passToProps:0,__simple:1})},t.withBemMod=r}),(function(e,t,n){"use strict";function r(e){function t(t,i,o,a){var s=i?n+t+e.e+i:n+t,u=s;if(o){var c=" "+u+e.m;for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];1==d?u+=c+l:d&&(u+=c+l+r+d)}}if(void 0!==a)for(var f=0,p=a.length;f<p;f++){var h=a[f];if(h&&"string"==typeof h.valueOf())for(var m=h.valueOf().split(" "),v=0;v<m.length;v++){var g=m[v];g!==s&&(u+=" "+g)}}return u}var n=e.n||"",r=e.v||e.m;return function(e,n){return function(r,i,o){return"string"==typeof r?Array.isArray(i)?t(e,r,void 0,i):t(e,r,i,o):t(e,n,r,i)}}}Object.defineProperty(t,"__esModule",{value:1});var i=r({e:"-",m:"_"});t.cn=i,t.withNaming=r}),(function(e,t,n){"use strict";e.exports=n(637)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classnames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=new Set,i=0,o=e.join(" ").split(" ");i<o.length;i++){var a=o[i];""===a||r.has(a)||(r.add(a),n.length>0&&(n+=" "),n+=a)}return n}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;t.canUseDOM=function(){return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonIcon=void 0;var r=n(1),i=n(296);n(641);t.ButtonIcon=function(e){var t=e.side,n=e.provider,o=r.__rest(e,["side","provider"]);return n(i.cnButton("Icon",{side:t},[o.className]))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonText=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(296);n(643);t.ButtonText=function(e){var t=e.children,n=e.className,a=r.__rest(e,["children","className"]);return i.default.createElement("span",r.__assign({},a,{className:o.cnButton("Text",null,[n])}),t)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89);n(696),t.withViewClearInverse=r.withBemMod(i.cnButton(),{view:"clear-inverse"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89);n(698),t.withViewDark=r.withBemMod(i.cnButton(),{view:"dark"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89);n(700),t.withViewB2BBanner=r.withBemMod(i.cnButton(),{view:"b2b-banner"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89);n(702),t.withViewTundora=r.withBemMod(i.cnButton(),{view:"tundora"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89);n(704),t.withViewTransparent=r.withBemMod(i.cnButton(),{view:"transparent"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89);n(706),t.withViewClearBlack=r.withBemMod(i.cnButton(),{view:"clear-black"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89);n(708),t.withSizeXXXL=r.withBemMod(i.cnButton(),{size:"xxxl"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89);n(710),t.withSizeXXS=r.withBemMod(i.cnButton(),{size:"xxs"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89);n(712),t.withViewPseudoInverse=r.withBemMod(i.cnButton(),{view:"pseudo-inverse"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89);n(714),t.withViewSuggest=r.withBemMod(i.cnButton(),{view:"suggest"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(89);n(716),t.withCenteredIcon=r.withBemMod(i.cnButton(),{centeredIcon:!0})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(377);n.d(t,"useFocusTrap",(function(){return r.a}))}),(function(e,t,n){var r=n(448)(Object.keys,Object);e.exports=r}),(function(e,t,n){var r=n(145)(n(101),"DataView");e.exports=r}),(function(e,t,n){var r=n(449),i=n(724),o=n(128),a=n(451),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}}),(function(e,t,n){var r=n(176),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}}),(function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}}),(function(e,t,n){var r=n(725),i=(function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();e.exports=function(e){return!!i&&i in e}}),(function(e,t,n){var r=n(101)["__core-js_shared__"];e.exports=r}),(function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}}),(function(e,t,n){var r=n(145)(n(101),"Promise");e.exports=r}),(function(e,t,n){var r=n(145)(n(101),"WeakMap");e.exports=r}),(function(e,t,n){var r=n(158),i=n(129),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}}),(function(e,t){e.exports=function(){return!1}}),(function(e,t,n){var r=n(158),i=n(378),o=n(129),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}}),(function(e,t,n){"use strict";function r(e){return{$symbol:m,overload:e}}function i(e){return e.$symbol===m}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])({}).hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=o.createContext({}),u=s.Consumer,c=s.Provider,l=function(e){return o.createElement(u,null,(function(t){return e.children(t[e.id].snapshot())}))},d=l,f=function(){return o.useContext(s)},p=function(e){return f()[e].snapshot()},h=p,m="RegistryOverloadHMark",v=(function(){function e(e){var t=e.id,n=e.overridable,r=void 0===n||n;this.entities={},this.id=t,this.overridable=r}return e.prototype.set=function(e,t){return this.entities[e]=t,this},e.prototype.extends=function(e,t){return this.entities[e]=r(t),this},e.prototype.fill=function(e){for(var t in e)this.entities[t]=e[t];return this},e.prototype.get=function(e){return this.entities[e]},e.prototype.snapshot=function(){return this.entities},e.prototype.merge=function(t){var n=new e({id:this.id,overridable:this.overridable});if(n.fill(this.entities),!t)return n;var r=t.snapshot();for(var i in r)r.hasOwnProperty(i)&&(n.entities[i]=this.mergeEntities(n.entities[i],r[i]));return n},e.prototype.mergeEntities=function(e,t){return i(t)&&e?i(e)?r((function(n){return t.overload(e.overload(n))})):t.overload(e):t},e})();t.ComponentRegistryConsumer=d,t.Registry=v,t.RegistryConsumer=l,t.registryContext=s,t.useComponentRegistry=h,t.useRegistries=f,t.useRegistry=p,t.withRegistry=function(){var e=[].slice.call(arguments);return function(t){return function(n){var r=o.useRef(null);return o.createElement(u,null,(function(i){if(null===r.current){for(var s=a({},i),u=0;u<e.length;u++){var l=e[u],d=s[l.id];s[l.id]=l.overridable?d?l.merge(d):l:l&&d?d.merge(l):l}r.current=s}return o.createElement(c,{value:r.current},o.createElement(t,n))}))}}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withControl=void 0;var r=n(1),i=r.__importStar(n(0)),o=n(734);t.withControl=function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={focused:e.props.focused,pressed:e.props.pressed,disabled:e.props.disabled},e.onMouseDown=function(t){3!==t.nativeEvent.which&&(e.setState({pressed:!0}),e.docOnMouseDown(),void 0!==e.props.onMouseDown&&e.props.onMouseDown(t))},e.onMouseUp=function(t){e.setState({pressed:!1}),void 0!==e.props.onMouseUp&&e.props.onMouseUp(t)},e.docOnMouseDown=function(){document.addEventListener("mouseup",e.docOnMouseUp),document.addEventListener("dragend",e.docOnMouseUp)},e.docOnMouseUp=function(){e.setState({pressed:!1}),document.removeEventListener("mouseup",e.docOnMouseUp),document.removeEventListener("dragend",e.docOnMouseUp)},e.onFocus=function(t){e.setState({focused:!0}),void 0!==e.props.onFocus&&e.props.onFocus(t)},e.onBlur=function(t){e.setState({focused:!1}),void 0!==e.props.onBlur&&e.props.onBlur(t)},e}return r.__extends(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.disabled!==e.disabled&&this.setState({disabled:e.disabled}),this.props.focused!==e.focused&&this.setState({focused:e.focused}),this.props.pressed!==e.pressed&&this.setState({pressed:e.pressed}),e.disabled&&this.setState({focused:!1,pressed:!1})},n.prototype.render=function(){var t=this.state,n=t.disabled,o=t.focused,a=t.pressed,s=e;return i.default.createElement(s,r.__assign({},this.props,{focused:n?void 0:o,pressed:n?void 0:a,onMouseDown:n?void 0:this.onMouseDown,onMouseUp:n?void 0:this.onMouseUp,onFocus:n?void 0:this.onFocus,onBlur:n?void 0:this.onBlur}))},n.displayName="WithControl("+o.getDisplayName(e)+")",n})(i.PureComponent)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayName=void 0,t.getDisplayName=function(e){return e.displayName||e.name||"Component"}}),(function(e,t,n){"use strict";e.exports=n(1410)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupTail=void 0;var r=n(1),i=r.__importStar(n(0)),o=n(177);n(742),t.PopupTail=i.forwardRef((function(e,t){var n=e.className,a=r.__rest(e,["className"]);return i.default.createElement("div",r.__assign({},a,{ref:t,className:o.cnPopup("Tail",null,[n])}),i.default.createElement("svg",{viewBox:"0 0 24 24",className:o.cnPopup("TailSvg")},i.default.createElement("path",{className:o.cnPopup("TailFill"),d:"M12 16C15 16 18 24 24 24H0C6 24 9 16 12 16Z",fill:"none"}),i.default.createElement("path",{className:o.cnPopup("TailBorder"),d:"M8.05888 18.9807C6.77697 20.3966 5.32977 21.9951 3.57172 23H0C2.53449 23 4.52121 21.3153 6.39546 19.3161C6.68742 19.0046 6.98315 18.6782 7.27806 18.3526L7.27807 18.3526C7.87384 17.6949 8.46631 17.0408 9.01776 16.5218C9.82327 15.7637 10.827 15 12 15C13.173 15 14.1767 15.7637 14.9822 16.5218C15.5337 17.0408 16.1262 17.6949 16.7219 18.3526L16.7219 18.3526L16.7222 18.3529C17.017 18.6783 17.3127 19.0047 17.6045 19.3161C19.4788 21.3153 21.4655 23 24 23H20.4283C18.6702 21.9951 17.223 20.3966 15.9411 18.9807C14.4853 17.3726 13.2426 16 12 16C10.7574 16 9.51472 17.3726 8.05888 18.9807Z",fill:"none"})))}))}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewDefault=void 0;var r=n(3),i=n(177);n(1426),t.withViewDefault=r.withBemMod(i.cnPopup(),{view:"default"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTargetAnchor=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(3),a=n(151),s=n(268),u=n(1427),c={top:-9999,left:-9999,position:"fixed"};t.withTargetAnchor=o.withBemMod(u.cnPopup(),{target:"anchor"},(function(e){return function(t){var n=t.anchor,o=t.direction,l=void 0===o?u.directions:o,d=t.hasTail,f=t.mainOffset,p=void 0===f?d?0:4:f,h=t.modifiers,m=t.motionless,v=t.secondaryOffset,g=t.style,y=t.tailOffset,b=(t.target,t.viewportOffset),_=t.visible,O=void 0!==_&&_,E=t.innerRef,w=t.tailRef,S=t.boundary,C=r.__rest(t,["anchor","direction","hasTail","mainOffset","modifiers","motionless","secondaryOffset","style","tailOffset","target","viewportOffset","visible","innerRef","tailRef","boundary"]),x=a.usePopper({anchorRef:n,children:C.children,placement:l,motionless:m,enabled:O,marginThreshold:b,modifiers:h,offset:[v,p],unsafe_tailOffset:y,boundary:S}),T=x.setPopupRef,P=x.setArrowRef;return i.default.createElement(e,r.__assign({},C,{hasTail:d,innerRef:s.useForkRef(T,E),style:r.__assign(r.__assign({},c),g),tailRef:s.useForkRef(P,w),unstable_essentialRefs:[n],visible:O}))}}))}),(function(e,t,n){"use strict";n.r(t);var r=n(910);n.d(t,"withZIndex",(function(){return r.withZIndex}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(990)),s=i(n(123)),u=i(n(186)),c=i(n(185)),l=n(28).cn("Banner");n(1466);t.default=(({visible:e,onClose:t,onSubmtiClick:n,isB2b:r,zIndexGroupLevel:i=1,chooseTariffLink:d,className:f,lang:p})=>{const h=o.useCallback(()=>{n(),t()},[n,t]),m=c.default(p,"promo-title"),v=c.default(p,r?"b2b-promo-text":"b2c-promo-text"),g=c.default(p,r?"b2b-promo-button":"b2c-promo-button");return o.default.createElement(a.default,{theme:"normal",visible:e,zIndexGroupLevel:i,onClose:t,className:l("",{B2b:r},[f])},o.default.createElement("div",{className:l("Wrapper",{isB2b:r},[])},o.default.createElement("div",{className:l("Background")}),o.default.createElement("div",{className:l("Close")},o.default.createElement(s.default,{view:"clear",size:"s",onClick:t},o.default.createElement(u.default,{name:"cross"}))),o.default.createElement("div",{className:l("ImageWrapper")},o.default.createElement("div",{className:l("Image")})),o.default.createElement("div",{className:l("Content")},o.default.createElement("h2",{className:l("ContentTitleText")},m),o.default.createElement("div",{className:l("ContentMainText")},v),o.default.createElement(s.default,{type:"link",target:"_blank",size:"xxl",view:r?"brand":"premium",className:l("ContentButton"),onClick:h,url:d},g))))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(186)),a=n(28).cn("ToggleWarning");n(1468);t.default=(({hasFeature:e})=>e?null:i.default.createElement("div",{className:a("SmallIconContainer")},i.default.createElement(o.default,{name:"warningSmall",className:a("SmallIcon")})))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(337),o=r.compose(i.withViewDefault,r.composeU(i.withSizeM,i.withSizeL))(i.Menu);t.default=o}),(function(e,t,n){"use strict";n.r(t);var r=n(1004);n.d(t,"useToggle",(function(){return r.a}))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"FILTERS_TITLES",(function(){return r}));var r={geo:"Места и поездки",beautiful:"Красивые",unbeautiful:"Разобрать",screenshots:"Скриншоты",camera:"Камера",videos:"Видео"}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(9)),o=n(295),a=n(46),s=n(190),u=n(92),c=n(275),l=n(44),d=n(194),f=n(24);t.getJournals=i.default.property("journals"),t.shouldFetchJournal=a.createSelector(l.getIdContext,e=>f.isVirtualDiskJournal(e)||s.isPersonalJournalIdContext(e)),t.isPersonalJournal=a.createSelector(l.getIdContext,s.isPersonalJournalIdContext),t.getJournalId=a.createSelector(t.isPersonalJournal,u.getVirtualDiskHash,(e,t)=>e?c.personalJournalId:t),t.getDiskPath=a.createSelector(t.isPersonalJournal,l.getIdContext,(e,t)=>e?"/disk":f.getCurrentVirtualDisk(t)),t.getRootPath=a.createSelector(t.isPersonalJournal,l.getIdContext,(e,t)=>e?"":f.getCurrentVirtualDiskRoot(t)),t.getTrashPath=a.createSelector(t.isPersonalJournal,l.getIdContext,(e,t)=>e?"/trash":f.getCurrentVirtualDiskTrash(t)),t.getJournal=a.createSelector(t.getJournals,t.getJournalId,(e,t)=>i.default.get(e,t)),t.getJournalState=a.createSelector(t.getJournal,e=>i.default.get(e,"state",o.JournalState.initial)),t.getJournalUpdatedAt=a.createSelector(t.getJournal,e=>i.default.get(e,"updatedAt",0)),t.getJournalFilters=a.createSelector(t.getJournal,e=>i.default.get(e,"filters",{})),t.getJournalFilterUntilDate=a.createSelector(t.getJournalFilters,e=>s.getEndOfToday(i.default.get(e,"untilDateTimestamp",Date.now())).getTime()),t.getJournalFilterText=a.createSelector(t.getJournalFilters,e=>i.default.get(e,"text","")),t.getJournalFilterEventType=a.createSelector(t.getJournalFilters,e=>i.default.get(e,"eventType",[])),t.getJournalFilterFolder=a.createSelector(t.getJournalFilters,e=>i.default.get(e,"folder")),t.getJournalFilterPlatform=a.createSelector(t.getJournalFilters,e=>i.default.get(e,"platform")),t.areJournalFiltersResettable=a.createSelector(t.getJournalFilterUntilDate,t.getJournalFilterEventType,t.getJournalFilterFolder,t.getJournalFilterPlatform,t.getJournalFilterText,(e,t,n,r,i)=>Boolean(null===t||void 0===t?void 0:t.length)||!d.isSameDate(new Date(e),new Date)||Boolean(i.trim().length)||Boolean(n)||Boolean(r)),t.getJournalFilterEventTypes=a.createSelector(t.getJournalFilters,e=>i.default.get(e,"eventTypes",[])),t.getJournalFilterPlatforms=a.createSelector(t.getJournalFilters,e=>i.default.get(e,"platforms",[])),t.getJournalClusters=a.createSelector(t.getJournal,e=>i.default.get(e,["journal","clusters"],[])),t.getJournalUsers=a.createSelector(t.getJournal,e=>i.default.get(e,["journal","users"],[])),t.getJournalTotalEventsCount=a.createSelector(t.getJournal,e=>i.default.get(e,["journal","total_count"],0)),t.getJournalLoadedEventsCount=a.createSelector(t.getJournal,e=>i.default.get(e,["journal","loaded_count"],0)),t.hasJournalMoreEventToLoad=a.createSelector(t.getJournalTotalEventsCount,t.getJournalLoadedEventsCount,(e,t)=>t<e),t.getMetrikaRoot=a.createSelector(t.isPersonalJournal,e=>e?["interface elements","journal"]:["interface elements","vd journal"]),t.getUrlFilters=a.createSelector(t.getJournalUpdatedAt,t.getJournalFilterUntilDate,t.getJournalFilterText,t.getJournalFilterEventType,t.getJournalFilterFolder,t.getJournalFilterPlatform,(e,t,n,r,o,a)=>({platform:i.default.isEmpty(null===a||void 0===a?void 0:a.trim())?void 0:a,eventType:r.length?r.join(","):void 0,parentFolder:i.default.isEmpty(null===o||void 0===o?void 0:o.trim())?void 0:o,querySearch:i.default.isEmpty(null===n||void 0===n?void 0:n.trim())?void 0:n,startEventTimestamp:s.getEndOfToday(e).getTime()!==t?t.toString():void 0}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareFilter=t.isEmptyPaidFeatureFilter=t.compareNumberFilter=t.compareTernary=t.isNumberFilter=t.isRecord=t.isTernary=void 0;const r=n(541);function i(e){return"string"==typeof e&&r.TernaryValues.includes(e)}function o(e){return"object"==typeof e&&null!==e&&void 0!==e}function a(e){return o(e)&&"value"in e&&"condition"in e&&"number"==typeof e.value&&"string"==typeof e.condition&&r.ConditionValues.includes(e.condition)}function s(e,t){return e===r.Ternary.irrelevant||(e===r.Ternary.on?!0===t:!t)}function u(e,t){switch(e.condition){case r.Condition.equal:return e.value===t;case r.Condition.greater:return t>e.value;case r.Condition.less:return t<e.value;case r.Condition.greaterOrEqual:return t>=e.value;case r.Condition.lessOrEqual:return t<=e.value}return!1}function c(e){return e.available===r.Ternary.irrelevant&&e.enabled===r.Ternary.irrelevant}t.isTernary=i,t.isRecord=o,t.isNumberFilter=a,t.compareTernary=s,t.compareNumberFilter=u,t.isEmptyPaidFeatureFilter=c,t.compareFilter=function(e,t){if(i(e))return s(e,t);if(a(e))return u(e,t||0);if(!t)return c(e);const n=t;return s(e.enabled,n.enabled)&&s(e.available,n.available)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFrequencyInMilliseconds=t.getPromosWithFormat=void 0;t.getPromosWithFormat=(e=>{return Object.entries(e.promos).reduce((e,[t,n])=>(n.forEach(n=>e[n.name]={promo:n,format:t}),e),{})});t.getFrequencyInMilliseconds=(e=>24*e.frequencyInDays*60*60*1e3)}),(function(e,t,n){var r=n(757),i=n(227),o=n(319);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}}),(function(e,t,n){var r=n(758),i=n(759),o=n(760),a=n(761),s=n(762);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u}),(function(e,t,n){var r=n(226);e.exports=function(){this.__data__=r?r(null):{},this.size=0}}),(function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}}),(function(e,t,n){var r=n(226),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}}),(function(e,t,n){var r=n(226),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}}),(function(e,t,n){var r=n(226),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}}),(function(e,t){e.exports=function(){this.__data__=[],this.size=0}}),(function(e,t,n){var r=n(228),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}}),(function(e,t,n){var r=n(228);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}}),(function(e,t,n){var r=n(228);e.exports=function(e){return r(this.__data__,e)>-1}}),(function(e,t,n){var r=n(228);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}}),(function(e,t,n){var r=n(229);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}}),(function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}}),(function(e,t,n){var r=n(229);e.exports=function(e){return r(this,e).get(e)}}),(function(e,t,n){var r=n(229);e.exports=function(e){return r(this,e).has(e)}}),(function(e,t,n){var r=n(229);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}}),(function(e,t,n){var r=n(387),i=n(542),o=n(543);e.exports=function(e,t){return o(i(e,t,r),e+"")}}),(function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}}),(function(e,t,n){var r=n(776),i=n(459),o=n(387),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a}),(function(e,t){e.exports=function(e){return function(){return e}}}),(function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1661);t.Api=r.Api;var i=n(1664);t.ModelsApi=i.ModelsApi;var o=n(1042);t.ResponseError=o.ResponseError}),(function(e,t,n){var r=n(176),i=n(264),o=n(105),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}}),(function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(781)((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=o}),(function(e,t,n){var r=n(782),i=500;e.exports=function(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}}),(function(e,t,n){var r=n(386),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o}),(function(e,t,n){var r=n(784);e.exports=function(e){return null==e?"":r(e)}}),(function(e,t,n){var r=n(176),i=n(225),o=n(105),a=n(230),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}}),(function(e,t,n){var r=n(460);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1677),i=n(916);let o,a;t.getDsClient=((e,t)=>o||(o=new r.RestDatasyncClient(new r.RestDatasyncTransportAdapter(e,t)))),t.getLogger=(()=>a||(a=new i.Logger("promozavr")))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const r=n(3),i=n(412);t.Button=r.compose(r.composeU(i.withSizeS,i.withSizeM,i.withSizeL,i.withSizeXL,i.withSizeXXL),r.composeU(i.withViewAction,i.withViewBrand,i.withViewClear,i.withViewDefault,i.withViewPremium,i.withViewPseudo,i.withViewRaised,i.withViewDefault),r.composeU(i.withPinCircleCircle),r.composeU(i.withTypeLink),i.withWidthMax)(i.Button)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;var r=n(2410);Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return r.Image}})}),(function(e,t,n){var r=n(227);e.exports=function(){this.__data__=new r,this.size=0}}),(function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}}),(function(e,t){e.exports=function(e){return this.__data__.get(e)}}),(function(e,t){e.exports=function(e){return this.__data__.has(e)}}),(function(e,t,n){var r=n(227),i=n(319),o=n(386),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}}),(function(e,t,n){var r=n(1729),i=n(129);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}}),(function(e,t,n){var r=n(463),i=n(798),o=n(388),a=n(799),s=n(800),u=n(803),c=n(804),l=n(805),d=n(806),f=n(547),p=n(468),h=n(200),m=n(807),v=n(808),g=n(813),y=n(105),b=n(265),_=n(815),O=n(128),E=n(817),w=n(232),S=n(327),C=1,x=2,T=4,P="[object Arguments]",k="[object Function]",j="[object GeneratorFunction]",R="[object Object]",I={};I[P]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[R]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[k]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,A,D,M,N){var L,F=n&C,B=n&x,U=n&T;if(A&&(L=M?A(t,D,M,N):A(t)),void 0!==L)return L;if(!O(t))return t;var z=y(t);if(z){if(L=m(t),!F)return c(t,L)}else{var V=h(t),H=V==k||V==j;if(b(t))return u(t,F);if(V==R||V==P||H&&!M){if(L=B||H?{}:g(t),!F)return B?d(t,s(L,t)):l(t,a(L,t))}else{if(!I[V])return M?t:{};L=v(t,V,F)}}N||(N=new r);var W=N.get(t);if(W)return W;N.set(t,L),E(t)?t.forEach((function(r){L.add(e(r,n,A,r,t,N))})):_(t)&&t.forEach((function(r,i){L.set(i,e(r,n,A,i,t,N))}));var $=z?void 0:(U?B?p:f:B?S:w)(t);return i($||t,(function(r,i){$&&(r=t[i=r]),o(L,i,e(r,n,A,i,t,N))})),L}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}),(function(e,t,n){var r=n(187),i=n(232);e.exports=function(e,t){return e&&r(t,i(t),e)}}),(function(e,t,n){var r=n(187),i=n(327);e.exports=function(e,t){return e&&r(t,i(t),e)}}),(function(e,t,n){var r=n(128),i=n(220),o=n(802),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}}),(function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}}),(function(e,t,n){(function(e){var r=n(101),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(137)(e))}),(function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}}),(function(e,t,n){var r=n(187),i=n(326);e.exports=function(e,t){return r(e,i(e),t)}}),(function(e,t,n){var r=n(187),i=n(467);e.exports=function(e,t){return r(e,i(e),t)}}),(function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}}),(function(e,t,n){var r=n(329),i=n(809),o=n(810),a=n(811),s=n(812),u="[object Boolean]",c="[object Date]",l="[object Map]",d="[object Number]",f="[object RegExp]",p="[object Set]",h="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",O="[object Int16Array]",E="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",x="[object Uint32Array]";e.exports=function(e,t,n){var T=e.constructor;switch(t){case v:return r(e);case u:case c:return new T(+e);case g:return i(e,n);case y:case b:case _:case O:case E:case w:case S:case C:case x:return s(e,n);case l:return new T;case d:case h:return new T(e);case f:return o(e);case p:return new T;case m:return a(e)}}}),(function(e,t,n){var r=n(329);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}}),(function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}}),(function(e,t,n){var r=n(176),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}}),(function(e,t,n){var r=n(329);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}}),(function(e,t,n){var r=n(814),i=n(328),o=n(220);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}}),(function(e,t,n){var r=n(128),i=Object.create,o=(function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();e.exports=o}),(function(e,t,n){var r=n(816),i=n(201),o=n(320),a=o&&o.isMap,s=a?i(a):r;e.exports=s}),(function(e,t,n){var r=n(200),i=n(129),o="[object Map]";e.exports=function(e){return i(e)&&r(e)==o}}),(function(e,t,n){var r=n(818),i=n(201),o=n(320),a=o&&o.isSet,s=a?i(a):r;e.exports=s}),(function(e,t,n){var r=n(200),i=n(129),o="[object Set]";e.exports=function(e){return i(e)&&r(e)==o}}),(function(e,t,n){var r=n(204),i=n(820),o=n(821),a=n(231);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}}),(function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}}),(function(e,t,n){var r=n(325),i=n(822);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}}),(function(e,t){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}}),(function(e,t,n){var r=n(824);e.exports=function(e){return r(e)?void 0:e}}),(function(e,t,n){var r=n(158),i=n(328),o=n(129),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,d=c.call(Object);e.exports=function(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}}),(function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l}),(function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(352);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var p=a(e,d[0],d[1]);return u((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}}),(function(e,t,n){"use strict";e.exports=n(828)}),(function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,O=r?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case g:case v:case c:return e;default:return t}}case o:return t}}}function w(e){return E(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||E(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===v},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===u||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===_||e.$$typeof===O||e.$$typeof===y)},t.typeOf=E}),(function(e,t,n){"use strict";
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case a:case u:case s:case p:case h:return e;default:switch(e=e&&e.$$typeof){case d:case l:case f:case v:case m:case c:return e;default:return t}}case o:return t}}}r=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.SuspenseList=h,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return y(e)===l},t.isContextProvider=function(e){return y(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return y(e)===f},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===v},t.isMemo=function(e){return y(e)===m},t.isPortal=function(e){return y(e)===o},t.isProfiler=function(e){return y(e)===u},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===p},t.isSuspenseList=function(e){return y(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===u||e===s||e===p||e===h||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===f||e.$$typeof===r||void 0!==e.getModuleId)},t.typeOf=y}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSuggestions=(e=>e.shareDialogs.suggestions),t.getPublicSettings=((e,t)=>{var n;return null===(n=e.shareDialogs.byIds[t])||void 0===n?void 0:n.publicSettings}),t.getAvailableSettings=((e,t)=>{var n;return null===(n=e.shareDialogs.byIds[t])||void 0===n?void 0:n.availableSettings}),t.getIsPublicSettingsLoading=((e,t)=>{var n;return null===(n=e.shareDialogs.byIds[t])||void 0===n?void 0:n.isPublicSettingsLoading}),t.getIsAvailableSettingsLoading=((e,t)=>{var n;return null===(n=e.shareDialogs.byIds[t])||void 0===n?void 0:n.isAvailableSettingsLoading}),t.getIsLoading=((e,n)=>t.getIsAvailableSettingsLoading(e,n)||t.getIsPublicSettingsLoading(e,n)),t.getIsUpdatingSettings=((e,t)=>{var n;return null===(n=e.shareDialogs.byIds[t])||void 0===n?void 0:n.isUpdatingSettings}),t.getIsSettingPrivate=((e,t)=>{var n;return null===(n=e.shareDialogs.byIds[t])||void 0===n?void 0:n.isSettingPrivate}),t.getExternalEmails=((e,t)=>{var n;return null===(n=e.shareDialogs.byIds[t])||void 0===n?void 0:n.externalEmails})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(28),s=n(331),u=i(n(837)),c=i(n(839)),l=n(99),d=n(851),f=n(333);n(869);var p=n(333);t.Logo360=p.Logo360,t.LogoCorp=p.LogoCorp;const h=a.cn("PSHeader");t.default=(({isLegoOnReact:e,LegoPopup:t,morePopupProps:n,useLegoV3:r,theme:i,popupTheme:a,hideCenter:p,hideTuning:m,currentService:v,leftContent:g,rightContent:y,tld:b,lang:_,userProps:O,isMailUserBlock:E,noUserName:w,LegoButton:S,onLoginClick:C,loginButtonProps:x,onCurrentServiceClick:T,onMorePopupChangeVisibility:P,yandex360Link:k,isB2bAdmin:j,isB2bUser:R,isB2BLogo:I,allServicesLink:A,getI18nFn:D,timeZone:M,calendarDay:N,className:L,countMetrikaFn:F,hideMore:B,customLogoUrl:U,onLogoClick:z,linkFromPrefix:V,refs:H,onlyUserHTMLInSSR:W,services:$,renderLogo:G,mainServices:q,useUserID:Y,onUserIdSupportClick:K,supportChatCounter:J})=>{const Z=o.useCallback((...e)=>F("interface elements","header",...e),[F]),X=o.useRef(null);o.useEffect(()=>{const e=e=>Boolean(null===e||void 0===e?void 0:e.clientWidth);if(X.current){const t=X.current.querySelectorAll("."+s.headerServiceClass()),n=Array.from(t).filter(e).length-1,r=q.slice(0,n);v&&!r.includes(v)&&(r[r.length-1]=v);const i=r.reduce((e,t)=>(e[t]="show",e),{More:"show"});Z("list of services",i)}},[]);let Q=null;if(O)if(Y)Q=o.default.createElement(c.default,Object.assign({colorScheme:i,fetchMail:!O.noCounter,lang:_,showUserName:!w,tld:b,currentService:v,isB2bUser:R,hideTuning:m},O,{countMetrikaFn:Z,onUserIdSupportClick:K,supportChatCounter:J}));else{const e=!w&&!E;Q=o.default.createElement(u.default,Object.assign({className:h("User",{noUserName:w,userNameAtLeft:e},["promozavr-anchor-user"]),tld:b,lang:_,isMailUserBlock:E,onlyUserHTMLInSSR:W},O))}else C&&S&&(Q=o.default.createElement(S,Object.assign({className:h("NoLoginButton"),size:"m",view:"action",onClick:C},x),D(_,"enter")));(null===H||void 0===H?void 0:H.servicesRefs)&&($=$.map(e=>{var t,n;return(null===(t=null===H||void 0===H?void 0:H.servicesRefs)||void 0===t?void 0:t[e.id])&&(e.forwardedRef=null===(n=null===H||void 0===H?void 0:H.servicesRefs)||void 0===n?void 0:n[e.id]),e}));const ee={getI18nFn:D,timeZone:M,lang:_,tld:b,theme:i,currentService:v,isLegoOnReact:Boolean(e),countMetrika:Z,linkFromPrefix:V,isB2bAdmin:j,isB2bUser:R,isB2BLogo:I,calendarDay:N,useLegoV3:r,LegoPopup:t||(()=>null),morePopupProps:n||{},yandex360Link:k,onCurrentServiceClick:T,customLogoUrl:U};return o.default.createElement(l.HeaderContext.Provider,{value:ee},o.default.createElement("div",{className:h({theme:i,noCenter:Boolean(p)},[L]),ref:null===H||void 0===H?void 0:H.header},o.default.createElement("div",{className:h("Left")},G?G():o.default.createElement(f.Logo360,{onClick:z}),g),p?null:o.default.createElement("div",{className:h("Center"),ref:X},o.default.createElement(d.ServiceList,{currentService:v,hideMore:B,allServicesLink:A,onMorePopupChangeVisibility:P,services:$,popupTheme:a})),o.default.createElement("div",{className:h("Right")},y,Q)))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(28);n(835),t.headerServiceClass=o.cn("PSHeader-ServiceStub"),t.ServiceStub=(({title:e})=>{const n=i.useMemo(()=>{const t=e.split(" ");return t.length>1?[t[0],t[1]].map(e=>e.charAt(0).toUpperCase()).join(""):e.length>1?[e.charAt(0),e.charAt(1)].map(e=>e.toUpperCase()).join(""):e.toUpperCase()},[e]);return i.default.createElement("div",{className:t.headerServiceClass()},n)})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),r=n(838).default,t.default=r}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.default=class extends i.default.Component{shouldComponentUpdate(e){var t,n;return e.retpath!==this.props.retpath&&(null===(n=null===(t=window.Lego)||void 0===t?void 0:t.User2)||void 0===n||n.setRetpath(e.retpath)),!1}render(){const{className:e,ariaLabel:t}=this.props,n=document.querySelector("."+e.split(" ")[0]),r=null===n||void 0===n?void 0:n.querySelector("a.user-account");r&&(r.setAttribute("role","button"),t&&r.setAttribute("aria-label",t));const o=null===n||void 0===n?void 0:n.querySelector("a.legouser__a11y-exit");return o&&o.setAttribute("role","button"),n?i.default.createElement("div",{className:e,dangerouslySetInnerHTML:{__html:n.innerHTML}}):null}}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(840);n(849);t.default=(e=>{const{avatarId:t,countMetrikaFn:n,currentService:r,hasPlus:a,hideTuning:s,isB2bUser:u,name:c,queryParams:l,showUserName:d,onUserIdSupportClick:f,supportChatCounter:p}=e,h=i.useMemo(()=>{const e=Object.assign({utm_source:r||"Premium"},l);return u&&(e["yandex360.b2b"]="1"),s&&(e["yandex360.hideTuning"]="1"),f&&(e["yandex360.customSupportClick"]="1"),e},[s,u,l,r,f]);let m;f&&p&&((m=m||{})["yandex360.customSupportCounter"]=String(p));const v=i.useCallback(()=>{n("user-id","show")},[n]),g=i.useCallback((e,t,{onClose:r})=>{f&&"help"===e&&(f(),r(),n("user-id","support click"))},[f,n]);return i.default.createElement(o.User,Object.assign({avatarSize:34,beforeAvatar:d&&i.default.createElement("span",{className:"UserID-name"},c),platform:"desktop",project:"yandex360",userData:{avatarId:t,plus:a},dynamicParams:m,onOpen:v,onMenuItemClick:g},e,{queryParams:h}))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);r.__exportStar(n(469),t),r.__exportStar(n(470),t),r.__exportStar(n(845),t),r.__exportStar(n(908),t),r.__exportStar(n(473),t),r.__exportStar(n(474),t)}),(function(e,t,n){"use strict";function r(e){function t(t,i,o,a){var s=i?n+t+e.e+i:n+t,u=s;if(o){var c=" "+u+e.m;for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];!0===d?u+=c+l:d&&(u+=c+l+r+d)}}if(void 0!==a)for(var f=0,p=a.length;f<p;f++){var h=a[f];if(h&&"string"==typeof h.valueOf())for(var m=h.valueOf().split(" "),v=0;v<m.length;v++){var g=m[v];g!==s&&(u+=" "+g)}}return u}var n=e.n||"",r=e.v||e.m;return function(e,n){return function(r,i,o){return"string"==typeof r?Array.isArray(i)?t(e,r,void 0,i):t(e,r,i,o):t(e,n,r,i)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=r({e:"-",m:"_"});t.cn=i,t.withNaming=r}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){(function(e){!(function(){var t=t||{};t["mail-liza"]=t["mail-liza"]||{},t["mail-liza"]["ps-header"]={adminka:function(e){return"Управление организацией"},adminkaShort:function(e){return"Управление"},allServices:function(e){return"Все сервисы Яндекса"},calendar:function(e){return"Календарь"},contacts:function(e){return"Контакты"},disk:function(e){return"Диск"},documents:function(e){return"Документы"},enhance:function(e){return"Улучшить"},enhanceButton360Subscription:function(e){return"Подписка на Яндекс 360"},enhanceMail:function(e){return"Улучшить Почту 360"},enter:function(e){return"Войти"},fan:function(e){return"Рассылки"},mail:function(e){return"Почта"},messenger:function(e){return"Мессенджер"},more:function(e){return"Ещё"},notes:function(e){return"Заметки"},premium:function(e){return"Премиум"},serviceAbc:function(e){return"ABC"},serviceAt:function(e){return"Этушка"},serviceDoc:function(e){return"Документация"},serviceGolem:function(e){return"Golem"},serviceIdm:function(e){return"IDM"},serviceLego:function(e){return"Лего"},serviceLibrary:function(e){return"Библиотека"},serviceMagazine:function(e){return"Журнал"},serviceMaillists:function(e){return"Рассылки"},serviceMeetingRooms:function(e){return"Переговорки"},serviceStaff:function(e){return"Стафф"},serviceStartrek:function(e){return"Трекер"},serviceStat:function(e){return"Статистика"},serviceWiki:function(e){return"Вики"},subscription:function(e){return"Подписка"},telemost:function(e){return"Телемост"},yandex:function(e){return"Яндекс"},yandex360:function(e){return"Яндекс 360"}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(137)(e))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(476);t.ServiceList=r.ServiceList}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(28),a=n(99);n(853);const s=o.cn("PSHeader-MorePopup");t.MoreServicesPopup=(e=>{const{isLegoOnReact:t,theme:n,countMetrika:r,LegoPopup:o,getI18nFn:u,lang:c,useLegoV3:l,morePopupProps:d,tld:f}=i.useContext(a.HeaderContext),p=e.popupTheme||n,h=s({theme:p});return i.default.createElement(o,Object.assign({view:"default",visible:e.visible,target:"anchor",mainOffset:4},t?{anchor:e.anchor.current,cls:h}:{anchor:e.anchor,ignoreRefs:[e.anchor],className:h},l?{onClose:e.onOutsideClick,direction:["bottom-end"]}:{onOutsideClick:e.onOutsideClick,directions:["bottom-right"],theme:"normal"},d),i.default.createElement("div",{className:s("content")},i.default.createElement("div",{className:s("services")},e.children),e.allServicesLink&&"com"!==f&&i.default.createElement("a",{className:s("all-services",["qa-PSHeader-MorePopup-all-services"]),href:e.allServicesLink,rel:"noopener noreferrer",onClick:()=>r("more","all_services")},u(c,"allServices"))))})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(99),a=n(477);t.MainServiceView=(e=>{const t=e.currentService===e.description.id,{countMetrika:n,onCurrentServiceClick:r}=i.useContext(o.HeaderContext),{description:s,onClick:u}=e,{id:c,href:l}=s,d=i.useCallback(e=>{n("list of services",c),t&&r&&r(e),u&&u(e)},[t,r,n,c,u]),f=i.useMemo(()=>Object.assign(Object.assign({},s),{href:t&&r?void 0:l}),[t,r,s,l]);return i.default.createElement(a.ServiceView,{forwardedRef:e.forwardedRef,className:e.className,hidePopup:e.hidePopup,description:f,onClick:d,isCurrentService:t,currentService:e.currentService})})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(477),a=n(99);t.PopupServiceView=(e=>{const{countMetrika:t}=i.useContext(a.HeaderContext),{description:n,onClick:r}=e,s=i.useCallback(e=>{r&&r(e),t("more",n.id,"click")},[t,n.id,r]);return i.default.createElement(o.ServiceView,Object.assign({},e,{onClick:s}))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(99),a=n(331),s=n(478);t.MoreServicesButton=(e=>{const{theme:t,timeZone:n,lang:r,getI18nFn:u,calendarDay:c}=i.useContext(o.HeaderContext),l={theme:t,timeZone:n,calendarDay:c,lang:r},d={theme:t,timeZone:n,lang:r,i18n:u(r,"more"),className:e.className,onClick:e.onClick,forwardedRef:e.forwardedRef,calendarDay:c,icon:i.default.createElement(s.BoundHeaderIcon,Object.assign({name:"More"},l))};return i.default.createElement(a.HeaderService,Object.assign({},d))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDateInTZ=(e=>{try{const t=new Date((new Date).toLocaleString("en-US",{timeZone:e}));if(isNaN(Number(t)))throw new Error("Invalid Date");return t}catch(e){return new Date}}),t.getDayOfMonth=(e=>t.getDateInTZ(e).getDate()),t.getAdjustedMonth=(e=>t.getDateInTZ(e).getMonth()+1),t.getAdjustedDayOfWeek=(e=>(t.getDateInTZ(e).getDay()+6)%7+1)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(99),s=n(479),u=n(480),c=n(481),l=n(482),d=i(n(865)),f=n(334);t.Logo360=o.memo(e=>{const{onClick:t}=e,{lang:n,yandex360Link:r,getI18nFn:i,customLogoUrl:p,linkFromPrefix:h,isB2BLogo:m}=o.useContext(a.HeaderContext),{on360Click:v}=u.useLogoMetrika(),g=o.useCallback(e=>{"function"==typeof t&&t(e),v()},[v,t]),y=h?s.addFromToLink(r,h+"-header-360"):r,b=r.startsWith("http")?"_blank":"_self";return o.default.createElement(l.LogoContainer,null,o.default.createElement(c.LogoLink,{logoLink:y,title:i(n,"yandex"),target:b,onClick:g},p?o.default.createElement("img",{src:p,className:f.classes.root("CustomLogo")}):o.default.createElement(d.default,{lang:n,isB2b:m,size:"short"})))})}),(function(e,t,n){"use strict";(function(t){var r=n(862),i=n(863),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function d(e){return(e||"").toString().replace(o,"")}var f=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function h(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},o=typeof(e=e||r);if("blob:"===e.protocol)i=new g(unescape(e.pathname),{});else if("string"===o)for(n in i=new g(e,{}),p)delete i[n];else if("object"===o){for(n in e)n in p||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=s.test(e.href))}return i}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function v(e,t){e=(e=d(e)).replace(a,""),t=t||{};var n,r=c.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],s=!!r[3],u=0;return o?s?(n=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(n=r[2]+r[4],u=r[2].length):s?(n=r[3]+r[4],u=r[3].length):n=r[4],"file:"===i?u>=2&&(n=n.slice(2)):m(i)?n=r[4]:i?o&&(n=n.slice(2)):u>=2&&m(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||m(i),slashesCount:u,rest:n}}function g(e,t,n){if(e=(e=d(e)).replace(a,""),!(this instanceof g))return new g(e,t,n);var o,s,u,c,p,y,b=f.slice(),_=typeof t,O=this,E=0;for("object"!==_&&"string"!==_&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=h(t),o=!(s=v(e||"",t)).protocol&&!s.slashes,O.slashes=s.slashes||o&&t.slashes,O.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||l.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!m(O.protocol)))&&(b[3]=[/(.*)/,"pathname"]);E<b.length;E++)"function"!=typeof(c=b[E])?(u=c[0],y=c[1],u!=u?O[y]=e:"string"==typeof u?~(p="@"===u?e.lastIndexOf(u):e.indexOf(u))&&("number"==typeof c[2]?(O[y]=e.slice(0,p),e=e.slice(p+c[2])):(O[y]=e.slice(p),e=e.slice(0,p))):(p=u.exec(e))&&(O[y]=p[1],e=e.slice(0,p.index)),O[y]=O[y]||o&&c[3]&&t[y]||"",c[4]&&(O[y]=O[y].toLowerCase())):e=c(e,O);n&&(O.query=n(O.query)),o&&t.slashes&&"/"!==O.pathname.charAt(0)&&(""!==O.pathname||""!==t.pathname)&&(O.pathname=(function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")})(O.pathname,t.pathname)),"/"!==O.pathname.charAt(0)&&m(O.protocol)&&(O.pathname="/"+O.pathname),r(O.port,O.protocol)||(O.host=O.hostname,O.port=""),O.username=O.password="",O.auth&&(~(p=O.auth.indexOf(":"))?(O.username=O.auth.slice(0,p),O.username=encodeURIComponent(decodeURIComponent(O.username)),O.password=O.auth.slice(p+1),O.password=encodeURIComponent(decodeURIComponent(O.password))):O.username=encodeURIComponent(decodeURIComponent(O.auth)),O.auth=O.password?O.username+":"+O.password:O.username),O.origin="file:"!==O.protocol&&m(O.protocol)&&O.host?O.protocol+"//"+O.host:"null",O.href=O.toString()}g.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,u.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(o.username=t.slice(0,s),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(s+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var c=0;c<f.length;c++){var l=f[c];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&m(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var a=o+(n.protocol&&n.slashes||m(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&m(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||u.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},g.extractProtocol=v,g.location=h,g.trimLeft=d,g.qs=i,e.exports=g}).call(this,n(110))}),(function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}}),(function(e,t,n){"use strict";var r,i=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function a(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,o,s=[];for(o in"string"!=typeof t&&(t="?"),e)if(i.call(e,o)){if((n=e[o])||null!==n&&n!==r&&!isNaN(n)||(n=""),o=a(o),n=a(n),null===o||null===n)continue;s.push(o+"="+n)}return s.length?t+s.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=o(t[1]),a=o(t[2]);null===i||null===a||i in r||(r[i]=a)}return r}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"LANGUAGE",(function(){return s})),n.d(t,"RU_LOGO_LANGUAGES",(function(){return u})),n.d(t,"getLogoLang",(function(){return c})),n.d(t,"MushroomColor",(function(){return l})),n.d(t,"MushroomMonochrome",(function(){return d})),n.d(t,"Logo360",(function(){return f})),n.d(t,"LogoYaRu",(function(){return p})),n.d(t,"LogoYaEn",(function(){return h})),n.d(t,"LogoYaRuMonochrome",(function(){return m})),n.d(t,"LogoYaEnMonochrome",(function(){return v})),n.d(t,"LogoYandexRu",(function(){return g})),n.d(t,"LogoYandexEn",(function(){return y})),n.d(t,"CaptionRu",(function(){return b})),n.d(t,"CaptionEn",(function(){return _}));var r=n(0),i=n.n(r),o=n(367),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const s={RU:"ru",EN:"en",TR:"tr",BE:"be",KK:"kk",UK:"uk",UZ:"uz"},u=new Set([s.RU,s.KK,s.BE,s.UK]),c=e=>u.has(e)?"Ru":"En",l=e=>{const t=Object(o.a)("gradient-");return i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:`url(#${t})`,d:"M14.002 29.002c7.733 0 14.002-6.269 14.002-14.002 0-7.733-6.27-14.002-14.002-14.002C6.269.998 0 7.267 0 15c0 7.733 6.269 14.002 14.002 14.002Z"}),i.a.createElement("path",{fill:"#fff",d:"M14.001 23.124c2.63 0 4.761-3.636 4.761-8.121 0-4.486-2.131-8.122-4.76-8.122-2.63 0-4.762 3.636-4.762 8.121 0 4.486 2.132 8.122 4.761 8.122Z"}),i.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M5.075 8.558c-1.413-.072-3.116 2.885-3.116 6.44 0 3.557 1.703 6.513 3.116 6.44 1.401-.072 2.205-2.883 2.205-6.44 0-3.555-.804-6.367-2.205-6.44ZM22.927 21.439c1.413.072 3.116-2.884 3.116-6.44 0-3.556-1.703-6.513-3.116-6.44-1.401.072-2.205 2.884-2.205 6.44 0 3.556.804 6.367 2.205 6.44Z",clipRule:"evenodd"}),i.a.createElement("defs",null,i.a.createElement("radialGradient",{id:t,cx:"0",cy:"0",r:"1",gradientTransform:"matrix(0 17.9224 -23.2703 0 14.002 11.08)",gradientUnits:"userSpaceOnUse"},i.a.createElement("stop",{stopColor:"#FF9A6F"}),i.a.createElement("stop",{offset:".61",stopColor:"#FF6427"}),i.a.createElement("stop",{offset:"1",stopColor:"#EB581E"}))))},d=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",transform:"translate(0 1)",d:"M28 14c0 7.732-6.268 14-14 14S0 21.732 0 14 6.268 0 14 0s14 6.268 14 14Zm-9.24 0c0 4.485-2.13 8.12-4.76 8.12-2.629 0-4.76-3.636-4.76-8.12 0-4.485 2.131-8.12 4.76-8.12 2.63 0 4.76 3.635 4.76 8.12ZM5.076 7.56c-1.413-.073-3.115 2.883-3.115 6.439 0 3.555 1.702 6.511 3.115 6.438 1.401-.073 2.205-2.883 2.205-6.438 0-3.556-.804-6.366-2.205-6.44Zm20.965 6.439c0 3.555-1.703 6.511-3.116 6.438-1.4-.073-2.204-2.883-2.204-6.438 0-3.556.804-6.366 2.204-6.44 1.413-.072 3.116 2.884 3.116 6.44Z",clipRule:"evenodd"})),f=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",d:"M69.914 7.19h-6.74V4.184h11.142v1.853l-4.737 6.343c3.857.545 5.739 2.943 5.739 6.497s-2.217 6.708-7.345 6.708c-1.912 0-3.702-.516-5.069-1.275v-3.064c1.367.667 2.641 1.517 5.101 1.517s3.735-1.73 3.735-3.856c0-2.368-1.517-3.824-4.372-3.824h-2.033v-1.852l4.582-6.041h-.003Zm7.073 8.56c0-7.348 2.49-11.93 8.014-11.93 2.004 0 3.308.424 4.402.972V7.86c-1.245-.7-2.611-1.245-4.34-1.245-3.097 0-4.552 2.125-4.795 7.043.91-1.488 2.49-2.369 4.493-2.369 3.46 0 5.798 2.398 5.798 6.8 0 4.736-2.914 7.499-6.497 7.499-4.494 0-7.072-3.098-7.072-9.835m7.013-1.58c-2.034 0-3.37 1.61-3.37 4.188 0 2.822 1.274 4.402 3.127 4.402 1.974 0 3.127-1.547 3.127-4.431 0-2.884-1.275-4.159-2.885-4.159Zm15.543 11.415c-3.824 0-7.043-2.943-7.043-10.899 0-7.499 3.128-10.866 7.043-10.866 3.916 0 7.013 2.884 7.013 10.866 0 7.982-3.157 10.899-7.013 10.899Zm.03-18.914c-1.882 0-3.4 1.882-3.4 7.985 0 6.103 1.488 8.074 3.4 8.074 2.155 0 3.34-2.549 3.34-8.014 0-5.95-1.547-8.045-3.34-8.045Z"})),p=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("circle",{transform:"translate(0 1)",fill:"#FC3F1D",cx:"14",cy:"14",r:"14"}),i.a.createElement("path",{transform:"translate(0 1)",fill:"#fff",d:"M16.064 7.84h-1.416c-2.43 0-3.644 1.215-3.644 3.036 0 2.024.81 3.036 2.632 4.25l1.416 1.013-4.048 6.274H7.766l3.845-5.667c-2.226-1.62-3.44-3.036-3.44-5.667 0-3.239 2.226-5.465 6.477-5.465h4.25v16.799h-2.834V7.84Z"})),h=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("circle",{transform:"translate(0 1)",fill:"#FC3F1D",cx:"14",cy:"14",r:"14"}),i.a.createElement("path",{transform:"translate(-1 0)",d:"M15.3794 16.4462C16.1975 18.2382 16.4702 18.8615 16.4702 21.0138V23.8674H13.5485V19.0563L8.03613 7.06738H11.0845L15.3794 16.4462ZM18.9829 7.06738L15.4087 15.1898H18.3791L21.9631 7.06738H18.9829Z",fill:"white"})),m=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",transform:"translate(0 1)",d:"M28.033 14.018c0-7.73-6.27-14.015-14.014-14.015S.033 6.259.033 14.017c0 7.715 6.256 13.986 13.986 13.986 7.729 0 14.014-6.27 14.014-13.986ZM14.02 25.626c-6.33 0-11.434-5.119-11.434-11.623C2.585 7.513 7.69 2.38 14.02 2.38c6.373 0 11.433 5.148 11.433 11.623.03 6.519-5.06 11.623-11.433 11.623Z"}),i.a.createElement("path",{fill:"currentColor",transform:"translate(0 1)",d:"M15.857 8.281h-1.279c-2.193 0-3.29 1.096-3.29 2.741 0 1.827.732 2.741 2.376 3.837l1.28.914-3.655 5.665H8.365l3.472-5.117c-2.01-1.462-3.106-2.74-3.106-5.116 0-2.924 2.01-4.934 5.847-4.934h3.837v15.167h-2.558V8.28Z"})),v=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",transform:"translate(0 1)",d:"M27.9797 14.0044C27.9797 6.28087 21.7134 0 13.9753 0C6.23715 0 0 6.25172 0 14.0044C0 21.7134 6.25172 27.9797 13.9753 27.9797C21.6989 27.9797 27.9797 21.7134 27.9797 14.0044ZM13.9753 25.6044C7.65071 25.6044 2.55024 20.4893 2.55024 13.9899C2.55024 7.50498 7.65071 2.37536 13.9753 2.37536C20.3436 2.37536 25.4004 7.51955 25.4004 13.9899C25.4295 20.5039 20.3436 25.6044 13.9753 25.6044Z"}),i.a.createElement("path",{fill:"currentColor",transform:"translate(0 1)",d:"M14.3415 15.4526C15.0795 17.0692 15.3254 17.6314 15.3254 19.573V22.1474H12.6897V17.8072L7.7168 6.9917H10.4669L14.3415 15.4526ZM17.5922 6.9917L14.3678 14.3191H17.0474L20.2806 6.9917H17.5922Z"})),g=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{d:"M10.4906 6.08248H8.8293C5.78306 6.08248 4.18483 7.62062 4.18483 9.89779C4.18483 12.4814 5.29337 13.6831 7.57055 15.2212L9.44816 16.483L4.03162 24.5762H0L4.86077 17.3452C2.06087 15.3414 0.492686 13.4037 0.492686 10.1111C0.492686 5.98935 3.35267 3.18945 8.79926 3.18945H14.2128V24.5732H10.4906V6.08248ZM29.5371 9.09868V24.5762H25.845V18.1142H20.9542V24.5762H17.2921V9.09568H20.9542V15.2182H25.845V9.09568H29.5371V9.09868ZM46.0271 27.989H42.6444V24.5732H34.428V27.989H31.0422V21.6802H32.1808C33.4726 19.0966 33.719 14.2028 33.719 10.4175V9.09568H44.3958V21.6802H46.0271V27.989ZM40.7367 11.9887H36.8613V12.4514C36.8613 15.1281 36.585 19.3429 35.5695 21.6832H40.7397V11.9887H40.7367ZM54.2436 24.7565C49.566 24.7565 46.9194 22.1729 46.9194 16.8795C46.9194 12.235 49.0433 8.84933 53.5045 8.84933C57.1666 8.84933 59.5339 10.8501 59.5339 16.2036V18.1413H50.7046C50.8578 20.6347 51.9033 21.8635 54.55 21.8635C56.3345 21.8635 58.2722 21.2776 59.3807 20.5416V23.5248C58.3353 24.2338 56.5808 24.7565 54.2436 24.7565ZM50.7046 15.4345H55.8117V15.1281C55.8117 13.2204 55.259 11.7424 53.4414 11.7424C51.6239 11.7424 50.7948 13.0041 50.7016 15.4345M65.6535 16.9726V24.5732H61.9914V9.09568H65.6535V16.2336L70.8237 9.09568H74.5158L69.3456 16.2336L75.2218 24.5702H71.067L65.6504 16.9696L65.6535 16.9726ZM75.0055 16.8495C75.0055 12.172 77.4359 8.84933 82.1134 8.84933C83.9279 8.84933 85.2828 9.15576 86.0519 9.58836V12.6947C85.3128 12.232 83.9279 11.7424 82.5129 11.7424C80.1126 11.7424 78.7907 13.4337 78.7907 16.7563C78.7907 19.8957 79.8662 21.8635 82.4829 21.8635C84.021 21.8635 85.1296 21.4639 86.0519 20.818V23.8042C85.1596 24.4501 83.961 24.7565 82.2666 24.7565C77.3758 24.7565 75.0055 21.9265 75.0055 16.8495Z",fill:"currentColor"})),y=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{d:"M10.7291 24.8327V21.2051C10.7291 18.469 10.3909 17.6697 9.34565 15.3948L3.87353 3.4668H0L7.00924 18.715V24.8327H10.7291ZM13.1577 13.7962L17.7076 3.4668H13.9263L9.37639 13.7962H13.1577ZM52.0159 25.1401C53.7375 25.1401 55.1516 24.3408 56.1354 22.8344L56.3198 24.8327H59.7015V3.4668H56.0432V11.1831C55.1209 9.79971 53.7682 9.06189 52.1696 9.06189C48.6343 9.06189 46.1749 12.0439 46.1749 17.2086C46.1749 22.3118 48.5728 25.1401 52.0159 25.1401ZM74.4885 23.7874V20.8054C73.3511 21.574 71.4451 22.2503 69.662 22.2503C66.9874 22.2503 65.9729 20.9899 65.8192 18.4075H74.6423V16.4708C74.6423 11.0909 72.2751 9.06189 68.6168 9.06189C64.1591 9.06189 62.0379 12.4743 62.0379 17.1471C62.0379 22.527 64.6818 25.1401 69.3546 25.1401C71.691 25.1401 73.4126 24.5253 74.4885 23.7874ZM28.4674 14.2881C28.4674 10.5375 26.5613 9.12338 22.6878 9.12338C20.2899 9.12338 18.3531 10.1379 17.2464 10.9372V14.1036C18.4146 13.1506 20.1977 12.0439 22.2574 12.0439C24.0097 12.0439 24.809 12.6587 24.809 14.3188V15.3026H24.2249C18.6298 15.3026 16.1397 17.1164 16.1397 20.3443C16.1397 23.3263 18.0457 25.0479 20.874 25.0479C23.026 25.0479 23.9482 24.3408 24.6553 23.603H24.809C24.8398 24.0026 24.9627 24.5253 25.0857 24.8327H28.6518C28.5288 23.5722 28.4674 22.3118 28.4674 21.0514V14.2881ZM35.1077 13.7347C35.784 12.9047 36.86 12.1976 38.1819 12.1976C39.4731 12.1976 40.0572 12.751 40.0572 13.9192V24.8327H43.7155V13.5503C43.7155 10.476 42.4858 9.12338 39.5038 9.12338C37.3211 9.12338 36.0299 9.92268 35.2921 10.6605H35.1077L35.0155 9.36932H31.4493V24.8327H35.1077V13.7347ZM85.7402 24.8327H89.8597L84.8179 16.8704L89.1833 9.36932H85.525L82.8812 14.0421L79.9299 9.36932H75.8105L80.4833 16.7782L75.626 24.8327H79.3458L82.4508 19.6065L85.7402 24.8327ZM53.0919 11.9517C55.0594 11.9517 56.0432 13.5195 56.0432 17.0856C56.0432 20.6825 54.9979 22.2503 52.9382 22.2503C50.94 22.2503 49.9562 20.7132 49.9562 17.2086C49.9562 13.5503 51.0014 11.9517 53.0919 11.9517ZM68.5553 11.9517C70.3691 11.9517 70.9224 13.458 70.9224 15.3948V15.7022H65.8192C65.9114 13.2428 66.803 11.9517 68.5553 11.9517ZM24.809 21.1436C24.3479 21.8199 23.4871 22.3733 22.1959 22.3733C20.6588 22.3733 19.8903 21.4818 19.8903 20.1291C19.8903 18.3461 21.1507 17.7312 24.2864 17.7312H24.809V21.1436Z",fill:"currentColor"})),b=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",d:"M.672 42.68a1.81 1.81 0 0 0 .494-.755 5.51 5.51 0 0 0 .302-1.194 18.53 18.53 0 0 0 .165-1.688c.036-.64.068-1.372.096-2.195h5.214v5.831h1.07V46H6.627l-.124-2.03H1.591L1.468 46h-1.4v-3.32h.604Zm4.679 0v-4.542H3.1c-.046 1.125-.124 2.058-.234 2.799-.1.732-.27 1.313-.507 1.742h2.99ZM9.856 41.444c.1-.466.165-1.07.192-1.81.037-.75.055-1.68.055-2.786h5.118v7.121H13.63v-5.831h-2.072a44.894 44.894 0 0 1-.11 2.497c-.055.723-.17 1.336-.343 1.839-.165.494-.407.873-.727 1.138-.311.266-.732.398-1.263.398-.073 0-.146-.004-.22-.013-.063 0-.132-.005-.205-.014V42.5c.091.018.16.028.206.028a.732.732 0 0 0 .59-.261c.155-.183.279-.458.37-.824ZM16.942 39.18c0-.384.073-.722.219-1.015a2.03 2.03 0 0 1 .604-.727c.265-.201.58-.348.947-.44.375-.1.786-.15 1.234-.15h2.648v7.121h-1.591v-2.415h-1.015L18.3 43.97h-1.784l1.962-2.758c-.494-.146-.873-.384-1.139-.713-.265-.33-.397-.769-.397-1.317Zm4.06 1.112V38.11h-.932c-.44 0-.8.083-1.084.247-.274.165-.412.44-.412.824 0 .393.124.677.37.85.257.174.618.261 1.085.261h.974ZM34.077 40.43c0 .594-.091 1.12-.274 1.577a3.28 3.28 0 0 1-.755 1.153 3.113 3.113 0 0 1-1.125.713c-.43.156-.897.233-1.4.233-.512 0-.983-.087-1.413-.26-.43-.174-.8-.435-1.111-.782a3.988 3.988 0 0 1-.741-1.318c-.174-.53-.261-1.152-.261-1.866 0-.65.027-1.244.082-1.783a7.92 7.92 0 0 1 .275-1.455c.137-.43.32-.805.549-1.125.228-.33.52-.613.878-.85.42-.266.869-.435 1.344-.508.485-.073.98-.12 1.482-.137.558-.028.979-.074 1.263-.138.283-.073.526-.164.727-.274v1.413a2.07 2.07 0 0 1-.316.165c-.11.036-.238.068-.384.096-.146.027-.316.055-.508.082-.192.018-.416.037-.672.055-.466.046-.892.092-1.276.137a2.291 2.291 0 0 0-1.03.343 2.08 2.08 0 0 0-.768.988c-.164.42-.274.933-.329 1.537.457-1.034 1.34-1.55 2.648-1.55.421 0 .819.082 1.194.246a2.8 2.8 0 0 1 1.002.687c.283.301.507.672.672 1.11.165.44.247.943.247 1.51Zm-3.554 2.345c.558 0 1.016-.187 1.372-.562.366-.384.55-.97.55-1.756 0-.787-.184-1.368-.55-1.743-.356-.384-.814-.576-1.372-.576-.549 0-1.001.187-1.358.562-.348.375-.521.952-.521 1.73 0 .804.178 1.399.535 1.783.356.375.805.562 1.344.562ZM37.012 41.815l3.293-4.967h1.565v7.121h-1.578v-4.94l-3.266 4.94h-1.592v-7.121h1.578v4.967ZM48.903 41.925c0 .384-.082.713-.247.988a1.964 1.964 0 0 1-.658.686c-.275.174-.6.302-.975.384a5.558 5.558 0 0 1-1.193.123c-.604 0-1.098-.06-1.482-.178-.384-.128-.682-.256-.892-.384V42.24c.265.174.594.316.988.426.402.1.837.15 1.303.15.485 0 .87-.073 1.153-.219.283-.146.425-.393.425-.74 0-.33-.128-.563-.384-.7-.256-.147-.654-.22-1.194-.22h-1.001v-1.208h1.029c.43 0 .759-.073.988-.22.238-.145.356-.365.356-.658 0-.32-.132-.54-.398-.658-.256-.128-.59-.192-1.001-.192a4.1 4.1 0 0 0-1.208.164 3.57 3.57 0 0 0-.946.412v-1.304c.228-.146.54-.274.933-.384.393-.119.878-.178 1.454-.178.878 0 1.546.16 2.003.48.458.32.686.787.686 1.4 0 .466-.128.832-.384 1.097-.256.256-.631.444-1.125.563 1.18.183 1.77.74 1.77 1.674ZM55.052 40.964h-3.005v3.005h-1.592v-7.121h1.592v2.827h3.005v-2.827h1.591v7.121h-1.591v-3.005ZM64.383 43.448c-.101.064-.224.137-.37.22-.147.072-.321.141-.522.205a5.288 5.288 0 0 1-1.606.233c-1.308 0-2.286-.324-2.936-.974-.64-.65-.96-1.56-.96-2.73 0-.577.087-1.093.26-1.55.174-.458.417-.842.728-1.153.31-.32.681-.563 1.111-.727.43-.174.901-.261 1.413-.261.53 0 1.007.087 1.427.26.43.174.782.435 1.057.783.274.347.462.777.562 1.29.11.512.115 1.11.014 1.797h-4.926c.064.65.28 1.139.645 1.468.366.32.938.48 1.715.48.567 0 1.038-.068 1.413-.206.385-.146.71-.297.975-.452v1.317ZM61.5 37.973c-.466 0-.86.142-1.18.425-.32.284-.53.705-.63 1.263h3.347c.018-.577-.11-1.002-.384-1.276-.275-.275-.659-.412-1.153-.412ZM69.318 44.106a4.559 4.559 0 0 1-1.55-.247 3.365 3.365 0 0 1-1.167-.727 3.264 3.264 0 0 1-.74-1.166c-.175-.458-.261-.979-.261-1.564 0-.577.086-1.093.26-1.55a3.097 3.097 0 0 1 1.921-1.88c.467-.174.988-.261 1.564-.261.494 0 .924.055 1.29.164.375.11.672.247.892.412v1.317a3.607 3.607 0 0 0-.933-.425c-.33-.1-.713-.151-1.153-.151-1.472 0-2.209.791-2.209 2.374 0 1.582.723 2.373 2.168 2.373.467 0 .865-.05 1.194-.15.338-.11.65-.248.933-.412v1.317a3.869 3.869 0 0 1-.892.412c-.357.11-.796.164-1.317.164ZM77.095 42.72c-.073.165-.173.33-.301.495-.12.164-.27.315-.453.452a2.261 2.261 0 0 1-.631.316 2.737 2.737 0 0 1-.865.123c-.31 0-.599-.045-.864-.137a1.935 1.935 0 0 1-.7-.384 1.983 1.983 0 0 1-.467-.645 2.35 2.35 0 0 1-.164-.905c0-.778.288-1.359.864-1.743.577-.393 1.39-.59 2.443-.59h1.084v-.44c0-.466-.12-.786-.357-.96-.238-.182-.631-.274-1.18-.274-.467 0-.906.069-1.317.206-.403.128-.76.279-1.07.453v-1.331a5.774 5.774 0 0 1 1.124-.44 5.379 5.379 0 0 1 1.523-.205c.915 0 1.62.192 2.114.576.503.375.754.979.754 1.811v4.007c.01.1.014.206.014.315l.027.316c.01.091.019.17.028.233h-1.468a6.274 6.274 0 0 1-.083-.535 21.053 21.053 0 0 1-.04-.617l-.015-.096Zm-1.81.151c.338 0 .617-.068.836-.205.229-.147.412-.311.55-.494.136-.192.232-.38.287-.563.055-.183.082-.31.082-.384v-.48h-.987c-.632 0-1.093.1-1.386.302a.927.927 0 0 0-.44.823c0 .31.088.558.261.74.183.175.449.261.796.261Z"})),_=e=>i.a.createElement("g",Object.assign({},e),i.a.createElement("path",{fill:"currentColor",d:"M.865 43.86v-5.93H0v-1.312h.865v-.126c0-.865.251-1.54.754-2.023.502-.493 1.172-.74 2.01-.74.232 0 .427.014.585.042.168.019.317.047.447.084v1.367a4.104 4.104 0 0 0-.377-.097 2.314 2.314 0 0 0-.53-.056c-.39 0-.703.116-.935.349-.233.232-.349.59-.349 1.074v.126h2.037v1.312H2.47v5.93H.865ZM8.627 44c-.68 0-1.294-.144-1.842-.433A3.276 3.276 0 0 1 5.5 42.283c-.307-.558-.46-1.242-.46-2.05 0-.8.153-1.48.46-2.038a3.18 3.18 0 0 1 1.284-1.27 3.8 3.8 0 0 1 1.842-.447c.679 0 1.288.15 1.828.447.549.288.981.712 1.297 1.27.317.558.475 1.237.475 2.037 0 .81-.158 1.493-.475 2.051a3.25 3.25 0 0 1-1.297 1.284c-.54.289-1.15.433-1.828.433Zm0-1.354c.558 0 1.018-.195 1.381-.586.372-.39.558-1 .558-1.828 0-.819-.186-1.423-.558-1.814-.363-.4-.823-.6-1.381-.6-.559 0-1.024.2-1.396.6-.363.39-.544.995-.544 1.814 0 .828.181 1.438.544 1.828.372.39.837.586 1.396.586ZM17.614 38.18c-.549 0-1.033.094-1.451.28a2.04 2.04 0 0 0-.95.81v4.59h-1.618v-7.242h1.48l.111 1.521h.028c.242-.484.567-.865.977-1.144.418-.289.893-.46 1.423-.517v1.703ZM21.717 33.855h1.619l-.014 4.033c.242-.438.563-.782.963-1.033.4-.251.884-.377 1.451-.377a3.1 3.1 0 0 1 1.577.419c.484.27.87.684 1.158 1.242.298.549.447 1.247.447 2.093 0 .847-.149 1.55-.447 2.107-.288.559-.679.977-1.172 1.256a3.211 3.211 0 0 1-1.59.405c-.559 0-1.043-.13-1.452-.39-.4-.261-.721-.615-.963-1.061l-.042 1.311h-1.535V33.855Zm5.54 6.377c0-.8-.181-1.4-.544-1.8-.354-.41-.814-.614-1.382-.614-.567 0-1.046.2-1.437.6-.381.4-.572 1.005-.572 1.814 0 .819.19 1.428.572 1.828.39.39.865.586 1.424.586.567 0 1.032-.2 1.395-.6.363-.4.544-1.005.544-1.814ZM34.894 42.674a2.584 2.584 0 0 1-.879.95c-.381.25-.884.376-1.507.376-.68 0-1.237-.196-1.675-.586-.427-.39-.641-.986-.641-1.786v-5.01h1.646v4.968c0 .418.116.702.35.851.232.14.515.21.85.21.447 0 .814-.094 1.103-.28.297-.195.544-.456.74-.781v-4.968h1.618v7.242h-1.48l-.097-1.186h-.028ZM40.715 44a5.233 5.233 0 0 1-1.52-.223c-.484-.15-.875-.35-1.173-.6v-1.284c.289.26.67.47 1.145.628.483.149.981.223 1.493.223.986 0 1.479-.302 1.479-.907a.675.675 0 0 0-.14-.447c-.083-.12-.242-.218-.474-.293a7.075 7.075 0 0 0-1.005-.25c-.902-.159-1.544-.4-1.926-.727-.381-.325-.572-.804-.572-1.437 0-.688.26-1.228.782-1.619.52-.39 1.246-.586 2.177-.586.437 0 .86.051 1.27.154.418.093.748.214.99.363v1.284c-.52-.363-1.251-.545-2.19-.545-.53 0-.917.07-1.159.21-.242.13-.363.34-.363.627 0 .168.037.303.112.405.074.093.223.177.447.251.232.075.58.154 1.046.238.912.167 1.558.428 1.94.781.39.344.586.833.586 1.465 0 .717-.26 1.28-.782 1.689-.52.4-1.242.6-2.163.6ZM45.803 35.697a1.03 1.03 0 0 1-.74-.28.977.977 0 0 1-.279-.697c0-.279.093-.516.28-.712.195-.195.441-.293.739-.293a.94.94 0 0 1 .712.293.969.969 0 0 1 .292.712c0 .27-.097.502-.293.698a.964.964 0 0 1-.711.279Zm-.81.92h1.62v7.243h-1.62v-7.242ZM51.972 37.818c-.465 0-.856.102-1.172.307-.307.205-.559.46-.754.767v4.968h-1.619v-7.242h1.535l.056 1.186h.028c.195-.381.488-.698.88-.949.4-.251.906-.377 1.52-.377.707 0 1.284.191 1.73.572.447.382.67.963.67 1.745v5.065h-1.618v-4.898c0-.418-.112-.711-.335-.879-.224-.177-.53-.265-.921-.265ZM60.107 44c-1.321 0-2.312-.33-2.973-.99-.66-.67-.99-1.596-.99-2.778 0-.781.153-1.451.46-2.01.307-.567.73-1 1.27-1.297.54-.298 1.154-.447 1.842-.447 1.163 0 2.019.377 2.568 1.13.558.754.74 1.778.544 3.07h-5.01c.065.661.284 1.159.656 1.494.382.325.963.488 1.744.488.866 0 1.675-.223 2.428-.67v1.34c-.707.447-1.553.67-2.54.67Zm-.391-6.238c-.474 0-.88.149-1.214.447-.326.288-.54.716-.642 1.283h3.419c.018-.558-.107-.986-.377-1.283-.27-.298-.665-.447-1.186-.447ZM66.649 44a5.232 5.232 0 0 1-1.521-.223c-.484-.15-.875-.35-1.172-.6v-1.284c.288.26.67.47 1.144.628.484.149.981.223 1.493.223.986 0 1.48-.302 1.48-.907a.675.675 0 0 0-.14-.447c-.084-.12-.242-.218-.475-.293a7.078 7.078 0 0 0-1.005-.25c-.902-.159-1.544-.4-1.925-.727-.382-.325-.573-.804-.573-1.437 0-.688.261-1.228.782-1.619.52-.39 1.247-.586 2.177-.586.437 0 .86.051 1.27.154.418.093.749.214.99.363v1.284c-.52-.363-1.25-.545-2.19-.545-.53 0-.917.07-1.159.21-.242.13-.362.34-.362.627 0 .168.037.303.111.405.075.093.224.177.447.251.232.075.581.154 1.046.238.912.167 1.559.428 1.94.781.39.344.586.833.586 1.465 0 .717-.26 1.28-.781 1.689-.521.4-1.242.6-2.163.6ZM73.326 44c-.52 0-1.028-.075-1.52-.223-.485-.15-.875-.35-1.173-.6v-1.284c.288.26.67.47 1.144.628.484.149.982.223 1.493.223.987 0 1.48-.302 1.48-.907a.675.675 0 0 0-.14-.447c-.084-.12-.242-.218-.474-.293a7.078 7.078 0 0 0-1.005-.25c-.903-.159-1.544-.4-1.926-.727-.381-.325-.572-.804-.572-1.437 0-.688.26-1.228.782-1.619.52-.39 1.246-.586 2.176-.586.438 0 .86.051 1.27.154.419.093.75.214.991.363v1.284c-.52-.363-1.251-.545-2.19-.545-.531 0-.917.07-1.16.21-.241.13-.362.34-.362.627 0 .168.037.303.112.405.074.093.223.177.446.251.233.075.582.154 1.047.238.912.167 1.558.428 1.94.781.39.344.586.833.586 1.465 0 .717-.26 1.28-.782 1.689-.52.4-1.242.6-2.163.6Z"}));t.default=(e=>{var{lang:t,isB2b:n,className:r,size:o,testId:s}=e,u=a(e,["lang","isB2b","className","size","testId"]);const O=c(t),E=n?d:l,w=Object.assign({className:r,dataTest:s,xmlns:"http://www.w3.org/2000/svg"},u);if("shortest"===o)return i.a.createElement("svg",Object.assign({width:"30",height:"30",fill:"none"},w),i.a.createElement(E,{transform:"translate(1 0)"}));if("short"===o){let e="Ru"===O?p:h;return n&&(e="Ru"===O?m:v),i.a.createElement("svg",Object.assign({width:"109",height:"30",fill:"none"},w),i.a.createElement(e,{transform:"translate(1 0)"}),i.a.createElement(E,{transform:"translate(31 0)"}),i.a.createElement(f,{transform:"translate(1 0)"}))}return"Ru"===O?i.a.createElement("svg",Object.assign({width:"170",height:"caption"===o?46:30,fill:"none"},w),i.a.createElement(g,{transform:"translate(1 0)"}),i.a.createElement(E,{transform:"translate(93 0)"}),i.a.createElement(f,{transform:"translate(62 0)"}),"caption"===o&&i.a.createElement(b,{transform:"translate(1 0)"})):i.a.createElement("svg",Object.assign({width:"173",height:"caption"===o?46:30,fill:"none"},w),i.a.createElement(y,{transform:"translate(1 0)"}),i.a.createElement(E,{transform:"translate(96 0)"}),i.a.createElement(f,{transform:"translate(65 0)"}),"caption"===o&&i.a.createElement(_,{transform:"translate(1 0)"}))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(867),a=n(481),s=n(482);t.LogoCorp=i.memo(()=>i.default.createElement(s.LogoContainer,null,i.default.createElement(a.LogoLink,{logoLink:"/"},i.default.createElement(o.YaLogo,null))))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(549),a=n(99),s=n(868);t.YaLogo=i.default.memo(()=>{const{lang:e}=i.useContext(a.HeaderContext);return i.default.createElement(o.SvgYa,{logoLang:s.getLogoLang(e)})})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogoLang=function(e){return["en","tr","az","hy","ka","ro","uz"].includes(e)?"En":"Ru"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(475));t.default=(e=>t=>i.default.createElement(e,Object.assign({getI18nFn:o.default},t)))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(479),a=n(478),s=n(476);t.withDefaultServices=function(){return e=>t=>{const{getI18nFn:n,lang:r,tld:u,links:c,currentService:l,linkFromPrefix:d=(null===l||void 0===l?void 0:l.toLocaleLowerCase()),isB2bAdmin:f,isB2bUser:p,showDocuments:h,showFan:m,hideTuning:v,theme:g,timeZone:y,calendarDay:b}=t,_=i.useCallback(e=>n(r,e),[n,r]),O=i.useMemo(()=>{const e=d?o.addFromToLink(c.Premium,d+"_header"):c.Premium;let t={};"Mail"===l&&(t={source:"tab-mail"}),"Disk"===l&&(t={from:"disk"});const n=o.addQueryParams(c.Telemost,t),s={theme:g,timeZone:y,calendarDay:b,lang:r},O={id:"Documents",title:_("documents"),href:c.Documents,icon:i.default.createElement(a.BoundHeaderIcon,Object.assign({name:"Documents"},s))},E={id:"Calendar",title:_("calendar"),href:c.Calendar,icon:i.default.createElement(a.BoundHeaderIcon,Object.assign({name:"Calendar"},s))},w={id:"Premium",title:_("premium"),href:e,icon:i.default.createElement(a.BoundHeaderIcon,Object.assign({name:"Premium"},s))},S={id:"Notes",title:_("notes"),href:c.Notes,icon:i.default.createElement(a.BoundHeaderIcon,Object.assign({name:"Notes"},s))},C={id:"Contact",title:_("contacts"),href:c.Contact,icon:i.default.createElement(a.BoundHeaderIcon,Object.assign({name:"Contact"},s))},x={id:"Messenger",title:_("messenger"),href:c.Messenger,target:"_blank",icon:i.default.createElement(a.BoundHeaderIcon,Object.assign({name:"Messenger"},s))},T={id:"Fan",title:_("fan"),href:c.Fan,icon:i.default.createElement(a.BoundHeaderIcon,Object.assign({name:"Fan"},s))},P={id:"Admin",title:_("Admin"===l?"adminkaShort":"adminka"),href:c.Admin,icon:i.default.createElement(a.BoundHeaderIcon,Object.assign({name:"Admin"},s))},k={id:"Telemost",title:_("telemost"),href:n,icon:i.default.createElement(a.BoundHeaderIcon,Object.assign({name:"Telemost"},s))},j=[{id:"Mail",title:_("mail"),href:c.Mail,icon:i.default.createElement(a.BoundHeaderIcon,Object.assign({name:"Mail"},s))},{id:"Disk",title:_("disk"),href:c.Disk,icon:i.default.createElement(a.BoundHeaderIcon,Object.assign({name:"Disk"},s))}];return h&&j.push(O),j.push(E),p||v||"ru"!==u||j.push(w),j.push(k),p&&!v&&"ru"===u&&j.push(w),j.push(S),j.push(C),j.push(x),m&&j.push(T),(f||"Admin"===l)&&j.push(P),j},[l,c,_,f,p,d,h,u,m,v,g,y,b,r]),E=i.useMemo(()=>{const e=O.slice(0,s.MAIN_SERVICES_COUNT).map(({id:e})=>e);return l&&!e.includes(l)&&(e[s.MAIN_SERVICES_COUNT-1]=l),e},[O,l]);return i.default.createElement(e,Object.assign({},t,{mainServices:E,services:O,linkFromPrefix:d}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=t.cnTooltip=void 0;var r=n(1).__importDefault(n(0)),i=n(28),o=n(31),a=n(1883);n(1885),t.cnTooltip=i.cn("Tooltip");t.Tooltip=function(e){var n=e.anchor,i=e.boundary,s=e.children,u=e.className,c=e.direction,l=e.hasTail,d=e.id,f=e.innerRef,p=e.keepMounted,h=e.mainOffset,m=e.modifiers,v=e.disableOverlay,g=e.onClick,y=e.onClose,b=e.scope,_=e.secondaryOffset,O=e.state,E=e.tailOffset,w=e.viewportOffset,S=e.visible,C=e.zIndex,x=l?0:4,T=o.useComponentRegistry(t.cnTooltip()).Popup;return r.default.createElement(T,{anchor:n,boundary:i,className:t.cnTooltip({visible:S,state:O},[u]),direction:c,disableOverlay:v,hasTail:l,innerRef:f,keepMounted:p,mainOffset:h||x,modifiers:m,onClick:g,onClose:y,scope:b,secondaryOffset:_,tailOffset:E,target:"anchor",unstable_onRenderTail:function(e){return r.default.createElement(a.TooltipBackdrop,null,l&&e)},view:"default",viewportOffset:w,visible:S,zIndex:C},r.default.createElement("div",{role:"tooltip",id:d,className:t.cnTooltip("Content")},s))},t.Tooltip.displayName="Tooltip"}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(393);n(890),t.withThemePrimary=r.withBemMod(i.cnLink(),{theme:"primary"})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(0)),a=n(393);n(892),t.withIcons=function(e){return t=>{const{icon:n,iconLeft:i,iconRight:s,children:u}=t,c=r(t,["icon","iconLeft","iconRight","children"]),l=n||i,d=l||s?(function(e){return o.isValidElement(e)?o.cloneElement(e,{className:a.cnLink("Text",null,[e.props.className])}):o.createElement("span",{className:a.cnLink("Text")},e)})(u):u;return o.createElement(e,Object.assign({},c),l&&l(a.cnLink("Icon",{side:"left"})),d,s&&s(a.cnLink("Icon",{side:"right"})))}}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1077),a=n(1078);n(1956);const s=n(28).cn("User");t.User=(({addonAfter:e,avatarUrl:t,color:n,mono:r,displayName:u,email:c,isOuter:l,position:d,department:f,className:p,innerRef:h,isOuterBadgeLabel:m,avatarAlt:v,innerProps:g={},compact:y,isTouch:b,lang:_})=>{const O=i.useMemo(()=>({email:c?[c]:[],displayName:u,avatar:t?{url:t}:r&&n?{mono:r,color:n}:null,isExternal:Boolean(l),department:f,position:d,isShared:!1}),[c,t,r,n,u,l,f,d]),E=l?i.default.createElement("div",{className:s("IsOuterBadge")},m):null,w=e?i.default.createElement("div",{className:s("AddonAfter")},e):null,S=i.default.createElement(o.Avatar,{className:s("Avatar"),size:"m",url:t,mono:r,color:n,avatarAlt:v});return i.default.createElement("div",Object.assign({className:s({compact:y},[p]),ref:h},g),b?S:i.default.createElement(a.ContactCardTooltip,{contact:O,lang:_},S),i.default.createElement("div",{className:s("Info")},y?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:s("InfoRow",{displayName:!0})},i.default.createElement("div",{className:s("InfoRowWrapper")},u||c)),w):i.default.createElement(i.default.Fragment,null,u?i.default.createElement("div",{className:s("InfoRow",{primary:!0})},i.default.createElement("div",{className:s("InfoRowWrapper")},u)):null,i.default.createElement("div",{className:s("InfoRow",{[u?"secondary":"primary"]:!0})},i.default.createElement("div",{className:s("InfoRowWrapper")},c),E))),y?null:w)})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"openVersionsDialog",(function(){return h})),n.d(t,"closeVersionsDialog",(function(){return m})),n.d(t,"fetchResourceVersions",(function(){return g})),n.d(t,"reloadVersionsDialog",(function(){return y})),n.d(t,"restoreVersion",(function(){return b})),n.d(t,"openVersion",(function(){return _})),n.d(t,"saveVersionAsCopy",(function(){return O})),n.d(t,"toggleSubversionsInfo",(function(){return E}));var r=n(40),i=n(286),o=n(520),a=n(19),s=n(42),u=n(13),c=n(20),l=n(15),d=n(39),f=n(97),p=n(91),h=function(e){return function(t){t(Object(c.openDialog)("versions",{resourcePath:e}))}},m=function(){return function(e){e(Object(c.closeDialog)("versions")),e({type:u.CLEAN_VERSIONS})}},v=function(e){var t=e.date_created;return"string"==typeof t&&19===t.length&&(t+=".000+03:00"),Object.assign({timestamp_created:Math.floor(new Date(t).getTime()/1e3)},e)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parentId,n=e.clean;return function(e,i){var a=Object(o.a)(i()),s=a.resourceId,c=a.subversions,l=a.iterationKey;e({type:u.UPDATE_VERSIONS,payload:{parentId:t,loading:!0,error:!1}});var d={resource_id:s,iteration_key:t?c[t].iterationKey:l,folded:Boolean(t)};return Object(r.a)("versions",d).then((function(r){return n&&e({type:u.CLEAN_VERSIONS}),e({type:u.UPDATE_VERSIONS,payload:{parentId:t,clean:n,data:(function(e){return{versions:(e.versions||[]).map(v),iteration_key:e.iteration_key}})(r),loading:!1,error:!1}}),r})).catch((function(){return n&&e({type:u.CLEAN_VERSIONS}),e({type:u.UPDATE_VERSIONS,payload:{parentId:t,loading:!1,error:!0}})}))}},y=function(){return function(e){e(g({clean:!0}))}},b=function(e){return function(t,n){var u=Object(o.a)(n()),c=u.resourceId,h=u.resourcePath;return Object(r.a)("do-version-restore",{resource_id:c,version_id:e},{retriesLeft:0,retryOffline:!1}).then((function(e){return t(Object(l.fetchSingleResource)(e.path)).then((function(){var r=n();Object(d.isDocsPage)(r)&&t(Object(f.addDocFromDisk)({id:e.id})),t(Object(s.notify)({operation:"restore",status:"done",dst:Object(a.getResourceData)(r,e.path),src:Object(a.getResourceData)(r,h)}))}))})).catch((function(e){var r=Object(a.getResourceData)(n(),h),o={operation:p.Operations.restore,status:p.Status.failed,dst:r,src:r};if(e&&"HTTP_423"===e.id){var u=n().user.uid,c=e.body.data,l=c.op_type,d=c.path,f=c.uid;o.reason=Object(i.getLockErrorMessage)({lockType:l,myUid:u,lockInitiatorUid:f,lockedResourcePath:d,targetResourcePath:h,onlyReason:!0})}t(Object(s.notify)(o))}))}},_=function(e){var t=e.id,n=e.timestamp_created;return function(e,r){var i=Object(o.a)(r()).resourcePath;e(Object(l.openResourceById)(i,t,n))}},O=function(e){return function(t,n){var u=Object(o.a)(n()),c=u.resourceId,h=u.resourcePath;return Object(r.a)("do-version-save",{resource_id:c,version_id:e},{retriesLeft:0,retryOffline:!1}).then((function(e){return t(Object(l.fetchSingleResource)(e.path)).then((function(){Object(d.isDocsPage)(n())&&t(Object(f.addDocFromDisk)({id:e.id}));var r=n();t(Object(s.notify)({operation:"copy",status:"done",dst:Object(a.getResourceData)(r,e.path),src:Object(a.getResourceData)(r,h)}))}))})).catch((function(e){var r=Object(a.getResourceData)(n(),h),o={operation:p.Operations.copy,status:p.Status.failed,dst:r,src:r};if(e&&"HTTP_423"===e.id){var u=n().user.uid,c=e.body.data,l=c.op_type,d=c.path,f=c.uid;o.reason=Object(i.getLockErrorMessage)({lockType:l,myUid:u,lockInitiatorUid:f,lockedResourcePath:d,targetResourcePath:h,onlyReason:!0})}t(Object(s.notify)(o))}))}},E=function(e){return function(t,n){var r=n().versions.subversions[e];t({type:u.TOGGLE_SUBVERSIONS,payload:{parentId:e}}),0===r.versions.length&&t(g({parentId:e}))}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"peopleIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.498 9.88C8.495 8.72 7.075 8 5.5 8 2.463 8 0 10.687 0 14h16v-1c0-2.21-1.79-4-4-4-.947 0-1.817.33-2.502.88zM5.5 7C4.12 7 3 5.88 3 4.5S4.12 2 5.5 2 8 3.12 8 4.5 6.88 7 5.5 7zM12 8c-1.105 0-2-.896-2-2 0-1.105.895-2 2-2s2 .895 2 2c0 1.104-.895 2-2 2z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(11)),a=n(26),s=n(560);n(2058);const u=()=>o.default()("notifier");t.default=(({className:e,type:t="default",title:n,mainButtonProps:r,secondaryButtonProps:o})=>i.default.createElement("div",{className:u().m({type:t}).mix(e)},i.default.createElement(s.ErrorCircleIcon,{className:u().e("icon")}),i.default.createElement("div",{className:u().e("content")},i.default.createElement("span",{className:u().e("title")},n),i.default.createElement("div",{className:u().e("actions")},r&&i.default.createElement(a.Button,{type:"link",target:"_blank",size:"s","data-test-id":"notifier-main-button",view:"default"===t?"default":"raised",url:null===r||void 0===r?void 0:r.url,onClick:null===r||void 0===r?void 0:r.onClick},r.text),o&&i.default.createElement(a.Button,{type:"link",target:"_blank",size:"s",view:"clear","data-test-id":"notifier-secondary-button",url:null===o||void 0===o?void 0:o.url,onClick:null===o||void 0===o?void 0:o.onClick},o.text)))))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(566),o=n(2062);var a=n(566);t.Radio=a.Radio,t.RadioProps=a.RadioProps,t.Radiobox=r.compose(r.composeU(i.withSizeS,i.withSizeM),r.composeU(i.withViewDefault,i.withViewOutline,o.withViewListTileRadio))(i.Radiobox)}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(0)),a=n(28),s=n(1132),u=n(566);n(2064),t.cnListTileRadio=a.cn("ListTileRadio"),t.ListTileRadio=(e=>{const{icon:n,value:i,onClick:a,children:c,className:l,size:d="m",leadingRadio:f}=e,p=r(e,["icon","value","onClick","children","className","size","leadingRadio"]),h=o.default.createElement(u.Radio,{className:t.cnListTileRadio("Radio"),value:i});return o.default.createElement(s.ListTile,Object.assign({alignItems:"center",className:t.cnListTileRadio({size:d},[l]),onClick:a},f?{leading:h}:{leading:n,trailing:h},p),c)})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(16),a=r(n(0)),s=i(n(155)),u=n(29),c=n(20),l=n(97),d=n(39),f=i(n(600)),p=n(26),h=n(2130),m=n(351),v=i(n(14));n(2131);const g=i(n(11)),y=()=>g.default()("Open-From-Disk"),b={update:c.updateDialog,addDocFromDisk:l.addDocFromDisk,maybeBlockAction:u.maybeBlockAction},_=o.connect(e=>({type:d.currentDocsType(e),resourcesByIds:e.resources}),b);t.default=_(e=>{const[t,n]=a.useState(!1),[r,i]=a.useState("/disk"),[o,u]=a.useState(null),{addDocFromDisk:c,resourcesByIds:l,transparentAbsolute:d,maybeBlockAction:g}=e,b=a.useCallback(()=>{g()||n(!t)},[n,t,g]),_=a.useCallback(()=>{n(!1),u(null)},[n]),O=a.useCallback(e=>{c({id:e,openOnLoad:!0}),v.default.countDocs("open doc","from disk"),_()},[c,_]),E=a.useCallback(()=>{o&&O(o)},[o,O]),w=a.useCallback(e=>{e&&O(e)},[O]),S=a.useCallback(e=>{"dir"===l[e].type?(i(e),u(null)):u(e)},[u,l]),C=a.useRef(null),x=a.useCallback(({type:e,id:t,state:n,ext:r})=>{let i=!1;const o=m.getAllAcceptedExts().some(e=>e===r);return!Boolean(n&&n.disabled)&&o||(i=!0),"dir"===e&&"/trash"!==t&&(i=!1),i},[]),T=a.useCallback(()=>a.default.createElement(f.default,{cls:y().e("Listing"),folderId:r,onSelectResource:S,onResourceOpen:w,isResourceDisabled:x,allowSelectDocument:!0,selectedResources:[o]}),[r,S,x,o,w]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Button,{className:y().e("Button").m({"Transparent-Absolute":d}),view:"raised",size:"m",iconLeft:h.diskIconProvider,onClick:b,innerRef:C},"Открыть из Диска"),a.default.createElement(s.default,{cls:y().e("Confirm-Dialog").m({touch:!1}),onSubmit:E,onClose:_,onCancel:_,visible:t,isIosSafari:!1,closeButtonAriaLabel:"Закрыть",title:a.default.createElement("div",{className:y().e("Title")},"Открыть из Диска"),submitButtonText:"Выбрать",submitDisabled:!o,cancelButtonText:"Отменить"},T()))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(2137));t.default=i.default}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(31),i=n(3),o=n(249),a=n(160),s=n(161),u=n(188),c=n(1),l=n(0),d=n.n(l),f=n(28),p=(n(1418),function(e){var t=e.closeText,n=void 0===t?"Закрыть":t,r=e.onClick;return d.a.createElement("button",{className:b("Close"),onClick:r,type:"button","aria-label":n},d.a.createElement("svg",{viewBox:"0 0 16 16"},d.a.createElement("path",{fill:"currentColor",d:"M8 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zM4.995 3.934L8 6.94l3.005-3.005 1.06 1.061L9.06 8l3.006 3.005-1.061 1.06L8 9.062l-3.005 3.005-1.06-1.061L6.938 8 3.934 4.995l1.06-1.06z"})))}),h=(n(1419),function(e){var t=e.children;return d.a.createElement("div",{className:b("Buttons")},t)}),m=(n(1417),function(e){var t=e.innerRef,n=e.tailType;return d.a.createElement("div",{ref:t,className:b("Tail")},"default"===n?d.a.createElement("svg",{viewBox:"0 0 20 20"},d.a.createElement("path",{fill:"currentColor",d:"M20 20H0c5 0 7.949-3.872 10-9 2.051 5.128 5 9 10 9z"})):d.a.createElement("svg",{viewBox:"0 0 24 24"},d.a.createElement("path",{fill:"currentColor",d:"M12 16c3 0 6 8 12 8H0c6 0 9-8 12-8z"})))}),v=(n(1414),n(1415),{"bottom-left":function(e,t){return{left:-Math.floor(e/3),bottom:-Math.floor(t/3)}},"bottom-right":function(e,t){return{right:-Math.floor(e/3),bottom:-Math.floor(t/3)}},"top-left":function(e,t){return{left:-Math.floor(e/3),top:-Math.floor(t/3)}},"top-right":function(e,t){return{right:-Math.floor(e/3),top:-Math.floor(t/3)}}}),g=function(e){var t=e.children,n=e.side,r=e.width,i=e.height;i||(i=r);var o=Object(c.__assign)({width:r,height:i},v[n](r,i));return d.a.createElement("span",{className:b("Corner"),style:o},t)},y=(n(1416),function(e){var t=e.className,n=e.align,r=void 0===n?"left":n,i=e.children,o=e.leading,a=e.trailing;return d.a.createElement("div",{className:b("TextWrap",{align:r},[t])},o&&d.a.createElement("div",{className:b("TextLeft")},o),i&&d.a.createElement("div",{className:b("Text")},i),a&&d.a.createElement("div",{className:b("TextRight")},a))}),b=Object(f.cn)("MessageBox"),_=function(e){var t=e.actions,n=e.background,r=e.children,i=e.className,o=e.corner,a=e.hasTail,s=e.innerRef,u=e.layout,l=void 0===u?"plain":u,f=e.onClose,v=e.hasClose,g=void 0===v?Boolean(f):v,y=e.opaque,_=e.tailRef,O=e.tailType,E=void 0===O?"default":O,w=Object(c.__rest)(e,["actions","background","children","className","corner","hasTail","innerRef","layout","onClose","hasClose","opaque","tailRef","tailType"]);return d.a.createElement("div",Object(c.__assign)({className:b({opaque:y,layout:l,hasClose:f&&g},[i]),ref:s},w),d.a.createElement("div",{className:b("Backdrop")},a&&d.a.createElement(m,{innerRef:_,tailType:E}),n&&d.a.createElement("div",{className:b("Background")},n)),d.a.createElement("div",{className:b("Content")},r,f&&g&&d.a.createElement(p,{onClick:f})),t&&d.a.createElement(h,null,t),o)};_.displayName="MessageBox";var O=Object(i.compose)(a.a,s.a,u.a)(o.a),E=new r.Registry({id:b()});E.set("Popup",O);var w=Object(r.withRegistry)(E)((function(e){var t=e.anchor,n=e.boundary,i=e.direction,o=e.mainOffset,a=e.modifiers,s=e.motionless,u=e.onClick,l=e.onClose,f=e.scope,p=e.secondaryOffset,h=e.tailOffset,m=e.viewportOffset,v=e.visible,g=e.zIndex,y=Object(c.__rest)(e,["anchor","boundary","direction","mainOffset","modifiers","motionless","onClick","onClose","scope","secondaryOffset","tailOffset","viewportOffset","visible","zIndex"]),O=Object(r.useComponentRegistry)(b()).Popup;return d.a.createElement(O,{anchor:t,boundary:n,direction:i,mainOffset:o,modifiers:a,motionless:s,nonvisual:!0,onClick:u,onClose:l,scope:f,secondaryOffset:p,tailOffset:h,target:"anchor",view:"default",viewportOffset:m,visible:v,zIndex:g},(function(e){var t=e.tailRef;return d.a.createElement(_,Object(c.__assign)({},y,{tailRef:t,onClose:l}))}))})),S=(n(1420),Object(i.withBemMod)(b(),{size:"l"})),C=(n(1421),Object(i.withBemMod)(b(),{size:"m"})),x=(n(1422),Object(i.withBemMod)(b(),{size:"s"})),T=(n(1423),Object(i.withBemMod)(b(),{view:"default"})),P=(n(1424),Object(i.withBemMod)(b(),{view:"inverse"})),k=(n(1425),Object(i.withBemMod)(b(),{view:"promo"})),j=n(987);n.d(t,"MessageBoxPopup",(function(){return w})),n.d(t,"withSizeL",(function(){return S})),n.d(t,"withSizeM",(function(){return C})),n.d(t,"withSizeS",(function(){return x})),n.d(t,"withViewDefault",(function(){return T})),n.d(t,"withViewInverse",(function(){return P})),n.d(t,"withViewPromo",(function(){return k})),n.d(t,"Corner",(function(){return g})),n.d(t,"Wrapper",(function(){return y})),n.d(t,"cnMessageBox",(function(){return b})),n.d(t,"MessageBox",(function(){return _})),n.d(t,"messageBoxRegistry",(function(){return j.registry}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n.n(i),a=n(28),s=(n(1350),Object(a.cn)("Spin2")),u=function(e){var t=e.className,n=e.innerRef,i=e.progress,a=(e.view,e.position,e.size,Object(r.__rest)(e,["className","innerRef","progress","view","position","size"]));return o.a.createElement("div",Object(r.__assign)({},a,{ref:n,className:s({progress:i},[t])}))};u.displayName=s();var c=n(3),l=(n(1351),Object(c.withBemMod)(s(),{position:"center"})),d=(n(1352),Object(c.withBemMod)(s(),{size:"l"})),f=(n(1353),Object(c.withBemMod)(s(),{size:"m"})),p=(n(1354),Object(c.withBemMod)(s(),{size:"s"})),h=(n(1355),Object(c.withBemMod)(s(),{size:"xs"})),m=(n(1356),Object(c.withBemMod)(s(),{size:"xxs"})),v=(n(1357),Object(c.withBemMod)(s(),{view:"default"}));n.d(t,"cnSpin",(function(){return s})),n.d(t,"Spin",(function(){return u})),n.d(t,"withPositionCenter",(function(){return l})),n.d(t,"withSizeL",(function(){return d})),n.d(t,"withSizeM",(function(){return f})),n.d(t,"withSizeS",(function(){return p})),n.d(t,"withSizeXS",(function(){return h})),n.d(t,"withSizeXXS",(function(){return m})),n.d(t,"withViewDefault",(function(){return v}))}),(function(e,t,n){"use strict";n.r(t);n(343),n(873);var r=n(60),i=n(236),o=n(237),a=(n(876),n(238)),s=(n(878),n(239)),u=(n(880),n(240)),c=(n(882),n(241)),l=(n(884),n(242)),d=(n(886),n(243));n(888);n.d(t,"withPseudo",(function(){return i.a})),n.d(t,"cnLink",(function(){return r.b})),n.d(t,"Link",(function(){return r.a})),n.d(t,"withThemeBlack",(function(){return o.a})),n.d(t,"withThemeGhost",(function(){return a.a})),n.d(t,"withThemeNormal",(function(){return s.a})),n.d(t,"withThemeOuter",(function(){return u.a})),n.d(t,"withThemePseudo",(function(){return c.a})),n.d(t,"withThemeStrong",(function(){return l.a})),n.d(t,"withViewDefault",(function(){return d.a}))}),(function(e,t,n){"use strict";n.r(t);var r,i=n(1),o=n(0),a=n.n(o),s=n(106),u=n(31),c=n(72),l=n(109),d=n(934),f=n(453),p=n(454),h=n(28),m=n(590),v=(n(1959),n(1960),n(1961),Object(h.cn)("Select2")),g=((r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerRef=Object(o.createRef)(),t.triggerRef=Object(o.createRef)(),t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.forwardRefs()},t.prototype.componentDidUpdate=function(){this.forwardRefs()},t.prototype.render=function(){var e=this,t=this.props,n=t.addonAfter,r=t.addonBefore,o=t.className,s=t.disabled,f=t.onBlur,p=t.onClick,h=t.onKeyDown,m=t.opened,g=t.size,y=t.theme,b=t.value,_=t.view,O=t.style,E=t.checkable,w=void 0===E||E,S=t.iconProps,C=t.renderTrigger,x=t.renderTriggerIcon,T=t.activeDescendant,P=!(!w||!Array.isArray(b))&&b.length>0,k=_||S&&S.glyph?void 0:"arrow",j=!_||S&&S.type?void 0:"carets-v";return a.a.createElement(u.ComponentRegistryConsumer,{id:v()},(function(t){var u=t.Trigger,E=t.Icon;return a.a.createElement(d.a,{components:[[u,C],[E,x]]},(function(t,u){return a.a.createElement("span",{ref:Object(l.a)(e.innerRef,e.props.innerRef),className:v({disabled:s},[o])},r,a.a.createElement(t,{width:"max",role:"listbox","aria-haspopup":"true",disabled:s,className:v("Button"),innerRef:e.triggerRef,style:O,size:g,theme:y,checked:P,view:_,onClick:p,onKeyDown:h,onBlur:f,pressKeys:[c.a.SPACE],iconRight:function(e){return a.a.createElement(u,Object(i.__assign)({size:g,className:e,direction:m?"top":"bottom",type:k,glyph:j},S))},"aria-activedescendant":T,"aria-expanded":m,"aria-multiselectable":Array.isArray(b)},e.getButtonText()),n)}))}))},t.prototype.forwardRefs=function(){Object(l.a)(this.props.triggerRef)(this.triggerRef.current)},t.prototype.getButtonText=function(){var e=this.props,t=e.value,n=e.options,r=e.showAlwaysPlaceholder,i=e.placeholder,o=[].concat(t).filter((function(e){return void 0!==e}));if(!r&&o.length>0){var a=this.getOptionsText(n,o);if(a.length>0)return a}return i},t.prototype.getOptionsText=function(e,t){return Object(m.a)((function(e){return e.items?e.items:e}),e).filter((function(e){return-1!==t.indexOf(e.value)})).map((function(e){return e.checkedText||e.content})).join(", ")},t})(o.PureComponent)).displayName=v(),r.defaultProps={placeholder:"—",value:""},r),y=new u.Registry({id:v()});y.set("Trigger",(function(){throw new Error('Для работы "Select" требуется установить компонент "Trigger" в реестр "'+v()+'".')})).set("Icon",(function(){throw new Error('Для работы "Select" требуется установить компонент "Icon" в реестр "'+v()+'".')})).set("Popup",(function(){throw new Error('Для работы "Select" требуется установить компонент "Popup" в реестр "'+v()+'".')})).set("Menu",(function(){throw new Error('Для работы "Select" требуется установить компонент "Menu" в реестр "'+v()+'".')}));var b,_=function e(t){return (function(e){return void 0!==e.items})(t)?a.a.createElement("optgroup",{key:t.title,label:t.title},t.items.map(e)):a.a.createElement("option",{key:t.value,value:t.value,disabled:t.disabled},t.content)},O=["bottom-start","bottom-end","top-start","top-end"],E=((b=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeDescendant:void 0},t.innerRef=Object(o.createRef)(),t.controlRef=Object(o.createRef)(),t.triggerRef=Object(o.createRef)(),t.popupRef=Object(o.createRef)(),t.preventClosable=!1,t.subscribeToEvents=function(){document.addEventListener("mousedown",t.onDocumentMouseDown,!0),window.addEventListener("resize",t.onWindowChange),window.addEventListener("orientationchange",t.onWindowChange)},t.unsubscribeFromEvents=function(){document.removeEventListener("mousedown",t.onDocumentMouseDown,!0),window.removeEventListener("resize",t.onWindowChange),window.removeEventListener("orientationchange",t.onWindowChange)},t.onDocumentMouseDown=function(e){var n=t.popupRef.current;null!==n&&n.contains(e.target)&&(t.preventClosable=!0)},t.onClosePopup=function(){void 0!==t.props.setOpened&&t.props.setOpened(!1)},t.onWindowChange=function(){void 0!==t.props.setOpened&&t.props.setOpened(!1)},t.onBlur=function(e){t.preventClosable?t.preventClosable=!1:(requestAnimationFrame((function(){var e=t.popupRef.current;t.props.setOpened&&e&&!e.contains(document.activeElement)&&t.props.setOpened(!1)})),void 0!==t.props.onBlur&&t.props.onBlur(e))},t.onClick=function(e){6!==e.nativeEvent.mozInputSource&&(void 0!==t.props.setOpened&&t.props.setOpened(!t.props.opened),void 0!==t.props.onClick&&t.props.onClick(e))},t.onKeyDown=function(e){Object(c.b)(e.keyCode,[c.a.ENTER])&&e.preventDefault(),Object(c.b)(e.keyCode,[c.a.UP,c.a.DOWN])&&(e.preventDefault(),void 0!==t.props.setOpened&&t.props.setOpened(!0)),Object(c.b)(e.keyCode,[c.a.SPACE])&&(void 0===t.props.setOpened||e.defaultPrevented||(e.preventDefault(),t.props.opened||t.props.setOpened(!0))),t.props.opened&&void 0!==t.props.onKeyDown&&t.props.onKeyDown(e)},t.onActiveItemChange=function(e){t.setState({activeDescendant:e})},t.onMenuChange=function(e){if(t.controlRef.current){var n=e.target.value;e.target=t.controlRef.current,e.target.value=n}Object(s.unstable_batchedUpdates)((function(){void 0!==t.props.onChange&&t.props.onChange(e),void 0!==t.props.setOpened&&(Array.isArray(t.props.value)||t.props.setOpened(!1))})),t.preventClosable&&(t.preventClosable=!1)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.forwardRefs()},t.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},t.prototype.componentDidUpdate=function(e){this.forwardRefs(),!e.opened&&this.props.opened?this.subscribeToEvents():e.opened&&!this.props.opened&&this.unsubscribeFromEvents()},t.prototype.render=function(){var e=this,t=this.props,n=t.addonAfter,r=(t.maxHeight,t.opened),o=t.setOpened,s=t.options,c=(t.popupRef,t.size),h=t.theme,m=t.unsafe_scope,y=void 0===m?this.innerRef:m,b=t.value,E=t.view,w=t.renderControl,S=void 0!==w&&w,C=t.renderMenu,x=Object(i.__rest)(t,["addonAfter","maxHeight","opened","setOpened","options","popupRef","size","theme","unsafe_scope","value","view","renderControl","renderMenu"]);return a.a.createElement(u.ComponentRegistryConsumer,{id:v()},(function(t){var u=t.Popup,m=t.Menu;return a.a.createElement(d.b,{component:m,render:C},(function(t){return a.a.createElement(g,Object(i.__assign)({},x,{triggerRef:e.triggerRef,activeDescendant:e.state.activeDescendant,innerRef:Object(l.a)(e.innerRef,e.props.innerRef),onBlur:e.onBlur,onClick:e.onClick,onKeyDown:e.onKeyDown,options:s,size:c,theme:h,value:b,view:E,opened:r,setOpened:o,addonAfter:a.a.createElement(a.a.Fragment,null,S&&a.a.createElement("select",Object(i.__assign)({},x,{multiple:Array.isArray(b),tabIndex:-1,value:b,ref:e.controlRef,style:{display:"none"}}),s.map(_)),a.a.createElement(u,{target:"anchor",anchor:e.triggerRef,className:v("Popup"),direction:O,view:E,theme:h,visible:r,innerRef:Object(l.a)(e.popupRef,e.props.popupRef),onClose:e.onClosePopup,scope:y,modifiers:[f.a,Object(i.__assign)(Object(i.__assign)({},p.a),{options:{maxHeight:e.props.maxHeight}})]},a.a.createElement(t,{width:"max",className:v("Menu"),focused:r,items:s,onChange:e.onMenuChange,onActiveItemChange:e.onActiveItemChange,size:c,theme:h,value:b,view:E})),n)}))}))}))},t.prototype.forwardRefs=function(){Object(l.a)(this.props.triggerRef)(this.triggerRef.current)},t})(o.PureComponent)).displayName=v()+"@desktop",b),w=Object(u.withRegistry)(y)(E),S=n(3),C=(n(1962),Object(S.withBemMod)(v(),{baseline:!0})),x=(n(1963),Object(S.withBemMod)(v(),{width:"max"})),T=n(1079);n.d(t,"Select",(function(){return w})),n.d(t,"withBaseline",(function(){return C})),n.d(t,"withWidthMax",(function(){return x})),n.d(t,"cnSelect",(function(){return v})),n.d(t,"selectRegistry",(function(){return T.selectRegistry}))}),(function(e,t,n){"use strict";n.r(t);var r,i=n(940);function o(e){return"undefined"!=typeof window&&null!=window.navigator&&e.test(window.navigator.userAgent)}function a(){return o(/iphone|ipod|ipad/i)||o(/macintosh/i)&&navigator.maxTouchPoints>1}function s(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e.style[r]);for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r]);return n}function u(e){var t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function c(e){return e===document.body||e===document.documentElement}var l=Math.random().toString(36).slice(2),d="__scrollLockState$".concat(l);function f(e){return e[d]}function p(e){var t=c(e)&&window.innerWidth-document.documentElement.clientWidth>0,n=e.scrollHeight>e.clientHeight;return t||n||(function(e){var t=getComputedStyle(e).overflowY;return/scroll/.test(t)})(e)?(function(){if("undefined"==typeof document)return 0;if(void 0===r){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.pointerEvents="none",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;n===i&&(i=t.clientWidth),document.body.removeChild(t),r=n-i}return r})():0}function h(e){var t=f(e);if(t)t.count++;else{var n=p(e),r=parseInt(getComputedStyle(e).getPropertyValue("padding-right"),10);!(function(e,t){e[d]=t})(e,{initialStyle:s(e,{paddingRight:"".concat(r+n,"px"),overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}),count:1})}}function m(e){var t=f(e);t&&(t.count--,0===t.count&&(s(e,t.initialStyle),(function(e){delete e[d]})(e)))}var v=(function(){var e=!1;if(!i.a)return!1;try{var t=function(){return null},n={get passive(){e=!0}};window.addEventListener("testPassive",t,n),window.removeEventListener("testPassive",t)}catch(e){}return e})()?{passive:!1}:void 0,g={count:0,lastX:0,lastY:0,scrollable:null,scrollX:0,scrollY:0};function y(e){if(1===e.changedTouches.length){if(g.scrollable=(function(e){for(;e&&!u(e);)e=e.parentElement;return e||document.documentElement})(e.target),c(g.scrollable))return;g.lastX=e.changedTouches[0].pageX,g.lastY=e.changedTouches[0].pageY}}function b(e){var t=g.scrollable,n=g.lastX,r=g.lastY;if(!(e.changedTouches.length>1))if(t&&!c(t)){var i=e.changedTouches[0].pageX,o=e.changedTouches[0].pageY,a=Math.abs(r-o)>Math.abs(n-i),s=t.scrollTop,u=t.scrollHeight-t.clientHeight,l=t.scrollLeft,d=t.scrollWidth-t.clientWidth;(a&&(s<=0&&o>r||s>=u&&o<r)||!a&&(l<=0&&i>n||l>=d&&i<n))&&e.preventDefault(),g.lastX=i,g.lastY=o}else e.preventDefault()}function _(){g.scrollable&&(g.scrollable=null)}function O(e){return e||document.body}function E(e){if(i.a){var t=O(e);h(t),a()&&(function(e){c(e)&&(g.count++,1===g.count&&(g.scrollX=window.pageXOffset,g.scrollY=window.pageYOffset,document.addEventListener("touchstart",y,v),document.addEventListener("touchmove",b,v),document.addEventListener("touchend",_,v)))})(t)}}function w(e){if(i.a){var t=O(e);m(t),a()&&(function(e){c(e)&&0!==g.count&&(g.count--,0===g.count&&(document.removeEventListener("touchstart",y),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",_),window.scrollTo(g.scrollX,g.scrollY)))})(t)}}n.d(t,"lock",(function(){return E})),n.d(t,"unlock",(function(){return w}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(107),a=n(1823),s=n(1),u=(n(847),function(e){var t=e.children,n=e.fetchMail,o=e.tld,a=e.showCounter,u=e.counterVariant,c=void 0===u?"number":u,l=e.colorScheme,d=Object(s.__read)(Object(r.useState)(0),2),f=d[0],p=d[1];Object(r.useEffect)((function(){n&&a&&fetch("https://mail.yandex."+o+"/api/v2/serp/counters?silent",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){return p(e.counters.unread)})).catch((function(e){}))}),[o,n]);var h=n&&f>0?Math.min(f,99):void 0,m=Boolean(n&&h&&f>h),v=h&&a?h+(m?"+":""):null,g=n||a,y=["UserID-Badge-Dot","UserID-Badge-Dot_colorScheme_"+l,"UserID-Badge-Dot_variant_"+c].join(" ");return i.a.createElement("div",{className:"UserID-Badge"},t,g&&i.a.createElement("div",{className:y},"number"===c&&v))});u.displayName="UserIDBadge";n(848);var c=function(e,t,n){return void 0===e&&(e="https://avatars.mds.yandex.net"),void 0===t&&(t="0/0-0"),e+"/get-yapic/"+t+"/"+(n?"islands-retina-middle":"islands-middle")},l=Object(o.cn)("UserID","Avatar"),d=function(e){var t=e.host,n=e.avatarId,o=e.plus,a=e.child,u=e.colorScheme,d=e.className,f=Object(s.__read)(Object(r.useState)(!1),2),p=f[0],h=f[1],m=Object(r.useMemo)((function(){return c(t,n,!1)}),[t,n]),v=m+" 1x, "+Object(r.useMemo)((function(){return c(t,n,!0)}),[t,n])+" 2x",g=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=g.current;if(window&&a&&e){var t=e.getBoundingClientRect().width;h(t<=36)}}),[a,g]),i.a.createElement("div",{className:l({child:a,plus:o,small:p,dark:"dark"===u},[d]),ref:g},i.a.createElement("img",{src:m,className:"UserID-Avatar-Image",srcSet:v}),a&&i.a.createElement("svg",{className:"UserID-Avatar-ChildStroke",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 300"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M165.9 37.9822L166.068 38.0049C166.221 38.0257 166.442 38.0562 166.726 38.0968C167.295 38.1778 168.118 38.2987 169.162 38.4618C171.249 38.7878 174.224 39.283 177.813 39.9651C184.975 41.3261 194.666 43.4461 204.678 46.4778C214.632 49.492 225.211 53.4982 233.986 58.7338C242.568 63.8543 250.611 70.8545 253.512 80.3646C262.231 108.946 272.638 153.705 267.746 188.864C263.821 217.084 243.295 239.946 214.374 255.633C185.337 271.383 152.717 277.077 132.993 274.341C113.268 271.605 83.4377 257.247 59.8001 234.191C36.2561 211.225 22.7482 183.642 26.674 155.422C33.0239 109.778 55.8032 71.8059 70.7041 51.2431C76.2121 43.6422 85.9125 39.8089 95.3615 37.7283C105.121 35.5793 116.278 34.95 126.593 35.003C136.965 35.0564 146.789 35.8036 153.998 36.5322C157.61 36.8972 160.584 37.2595 162.664 37.5319C163.704 37.6681 164.522 37.782 165.085 37.8627C165.367 37.903 165.585 37.9351 165.736 37.9575L165.9 37.9822ZM210.975 249.385C238.745 234.322 257.19 213.071 260.694 187.886C265.355 154.381 255.388 110.913 246.701 82.4364C238.203 54.5778 164.895 45.0216 164.895 45.0216C164.895 45.0216 92.1316 33.8026 76.4727 55.4113C61.8934 75.5303 39.8488 112.394 33.7267 156.401C30.2229 181.586 42.1687 207.053 64.7756 229.104C87.5594 251.328 116.05 264.812 133.973 267.298C151.895 269.784 182.987 264.566 210.975 249.385Z"})))};d.displayName="UserIDAvatar";n(846);var f=Object(o.cn)("UserID","Wrapper"),p=Object(r.forwardRef)((function(e,t){var n=e.tld,o=void 0===n?"ru":n,s=e.tabIndex,c=void 0===s?0:s,l=e.children,p=e.env,h=e.colorScheme,m=e.userData,v=e.onClick,g=e.onPointerEnter,y=e.className,b=e.fetchMail,_=e.showCounter,O=e.counterVariant,E=e.visible,w=e.ariaLabel,S=e.avatarSize,C=e.platform,x=e.beforeAvatar,T=e.afterAvatar,P=m||{},k=P.child,j=P.plus,R=P.avatarId,I=Object(r.useRef)(null);Object(a.a)(I,t);var A=w||"Ваш профиль",D=null!==S?{"--user-id-size":(S||42)+"px"}:void 0;return i.a.createElement("div",{className:f({child:k,plus:j,default:!j},[y]),style:D},i.a.createElement("button",{"aria-expanded":E,"aria-haspopup":!0,"aria-label":A,className:"UserID-Account",ref:I,role:"button",tabIndex:c,onClick:v,onPointerEnter:g},x,i.a.createElement(u,{fetchMail:b&&"test"!==p,counterVariant:O,tld:o,colorScheme:h,showCounter:"touch"!==C&&(b||!0===_)},i.a.createElement(d,{host:"test"===p?"https://avatars.mdst.yandex.net":"https://avatars.mds.yandex.net",avatarId:R,plus:j,child:k,colorScheme:h})),T),l)}));p.displayName="UserBase";var h=n(488),m=n(472),v=Object(m.a)(p,h.a);n.d(t,"UserBase",(function(){return p})),n.d(t,"User",(function(){return v}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n.n(i),a=function(e){return Object(i.memo)((function(t){var n=t.opened,a=t.setOpened,s=Object(r.__read)(Object(i.useState)(Boolean(n)),2),u=s[0],c=s[1];Object(i.useEffect)((function(){"boolean"==typeof n&&u!==n&&c(n)}),[u,n]);var l=Object(i.useCallback)((function(e){c(e),a&&a(e)}),[a]);return o.a.createElement(e,Object(r.__assign)({},t,{opened:u,setOpened:l}))}))};n.d(t,"withTogglable",(function(){return a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n.n(i),a=n(211),s=n(109),u={},c={zIndexGroupLevel:0},l=function(e){var t;return(t=(function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentZIndex=0,e.innerRef=Object(i.createRef)(),e}return Object(r.__extends)(n,t),n.prototype.componentDidMount=function(){this.props.visible&&this.updateZIndexPosition()},n.prototype.componentDidUpdate=function(e){e.visible!==this.props.visible&&this.updateZIndexPosition()},n.prototype.componentWillUnmount=function(){0!==this.currentZIndex&&this.releaseZIndex(this.props.zIndexGroupLevel,this.currentZIndex)},n.prototype.render=function(){var t=this.props,n=(t.zIndexGroupLevel,Object(r.__rest)(t,["zIndexGroupLevel"]));return o.a.createElement(e,Object(r.__assign)({},n,{innerRef:Object(s.a)(this.innerRef,this.props.innerRef)}))},n.prototype.updateZIndexPosition=function(){var e=this;requestAnimationFrame((function(){var t=e.props,n=t.visible,r=t.zIndexGroupLevel;n&&0===e.currentZIndex?e.currentZIndex=e.captureZIndex(r):n||(e.currentZIndex=e.releaseZIndex(r,e.currentZIndex)),n&&(null!==e.innerRef.current?e.innerRef.current.style.zIndex=String(e.currentZIndex):e.updateZIndexPosition())}))},n.prototype.captureZIndex=function(e){var t=u[e];void 0===t&&(t=[1e3*(e+1)],u[e]=t);var n=t[t.length-1]+1;return t.push(n),n},n.prototype.releaseZIndex=function(e,t){var n=u[e];return void 0!==n&&n.length>1&&n.splice(n.indexOf(t),1),0},n})(i.PureComponent)).displayName="withZIndex("+Object(a.a)(e)+")",t.defaultProps=c,t};n.d(t,"withZIndex",(function(){return l}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n.n(i),a=n(72),s=n(211),u=n(109),c=n(75),l="pointerdown",d="pointerup";Object(c.a)()&&(window.PointerEvent||(l="mousedown",d="mouseup",window.MouseEvent||(d="click")));var f={ignoreRefs:[]},p=function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetRef=Object(i.createRef)(),e.pointerDownEventSource=null,e.onPointerDown=function(t){e.pointerDownEventSource=t.target},e.onPointerUp=function(t){var n=Object(r.__spread)(e.props.ignoreRefs,[e.targetRef]);void 0!==e.props.onOutsideClick&&n.every((function(n){return null!==n.current&&!n.current.contains(e.pointerDownEventSource)&&!n.current.contains(t.target)}))&&e.props.onOutsideClick(t),e.pointerDownEventSource=null},e.onKeyDown=function(t){void 0!==e.props.onEscapeKeyDown&&Object(a.b)(t.keyCode,[a.a.ESC])&&e.props.onEscapeKeyDown(t)},e}return Object(r.__extends)(n,t),n.prototype.componentDidMount=function(){this.props.visible&&this.subscribeToEvents()},n.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},n.prototype.componentDidUpdate=function(e){!e.visible&&this.props.visible?this.subscribeToEvents():e.visible&&!this.props.visible&&this.unsubscribeFromEvents()},n.prototype.render=function(){var t=this.props,n=(t.ignoreRefs,Object(r.__rest)(t,["ignoreRefs"]));return o.a.createElement(e,Object(r.__assign)({},n,{targetRef:Object(u.a)(this.targetRef,this.props.targetRef)}))},n.prototype.subscribeToEvents=function(){document.addEventListener(l,this.onPointerDown),document.addEventListener(d,this.onPointerUp),document.addEventListener("keydown",this.onKeyDown)},n.prototype.unsubscribeFromEvents=function(){document.removeEventListener(l,this.onPointerDown),document.removeEventListener(d,this.onPointerUp),document.removeEventListener("keydown",this.onKeyDown)},n.displayName="withOutsideClick("+Object(s.a)(e)+")",n.defaultProps=f,n})(i.PureComponent)};n.d(t,"withOutsideClick",(function(){return p}))}),(function(e,t,n){var r={};!(function(){r.log=function(){};var e={},t=/&/g,n=/</g,i=/>/g,o=/"/g,a=/&amp;/g,s=/&lt;/g,u=/&gt;/g;function c(e){return e.replace(/&/g,"&amp;")}r.text2xml=function(e){return null==e?"":(""+e).replace(t,"&amp;").replace(n,"&lt;").replace(i,"&gt;")},r.xml2text=function(e){return null==e?"":(""+e).replace(s,"<").replace(u,">").replace(a,"&")},r.text2attr=function(e){return null==e?"":(""+e).replace(t,"&amp;").replace(o,"&quot;").replace(n,"&lt;").replace(i,"&gt;")},r.xml2attr=function(e){return null==e?"":(""+e).replace(o,"&quot;").replace(n,"&lt;").replace(i,"&gt;")},r.register=function(t,n){if(r.isRegistered(t))throw Error('Module "'+t+'" already exists');for(var i=n.imports||[],o=[n],a=0,s=i.length;a<s;a++){var u=e[i[a]];if(!u)throw Error('Module "'+i[a]+"\" doesn't exist");o=o.concat(u.imports)}n.imports=o,e[t]=n},r.isRegistered=function(t){return!!e[t]},r.run=function(t,n,r){r=r||"";var i=e[t];if(!i)throw'Module "'+t+'" is undefined';var o=new d(n);return i.a(i,0,[o.root],r,{a:{}})},r.join=function(e,t){return e.concat(t)},r.nodeValue=function(e){var t=e.data;return"object"==typeof t?"":t},r.nodeName=function(e){var t=e[0];return t?t.name:""},r.simpleScalar=function(e,t){var n=t.data;if(!n)return"";if("*"===e){for(var i in n)return r.simpleScalar(i,t);return""}var o=n[e];return"object"==typeof o?"":void 0===o?"":o},r.simpleBoolean=function(e,t){var n=t.data;if(!n)return!1;if("*"===e){for(var i in n){var o;if(o=r.simpleBoolean(i,t))return!0}return!1}return!!(o=n[e])&&(!Array.isArray(o)||o.length)},r.nodeset2scalar=function(e){if(!e.length)return"";var t=e[0].data;return"object"==typeof t?"":t},r.nodeset2boolean=function(e){return!!(e&&e.length>0)&&!!e[0].data},r.nodeset2xml=function(e){return r.scalar2xml(r.nodeset2scalar(e))},r.nodeset2attrvalue=function(e){return r.scalar2attrvalue(r.nodeset2scalar(e))},r.scalar2xml=r.text2xml,r.xml2scalar=r.xml2text,r.xml2attrvalue=r.xml2attr,r.scalar2attrvalue=r.text2attr,r.object2nodeset=function(e){return[new d(e).root]},r.array2nodeset=function(e){return[new d({item:e}).root]},r.cmpSN=function(e,t){for(var n=0,i=t.length;n<i;n++)if(e==r.nodeValue(t[n]))return!0;return!1},r.cmpNN=function(e,t){var n=t.length;if(0===n)return!1;if(1===n)return r.cmpSN(r.nodeValue(t[0]),e);for(var i=[],o=r.nodeValue(t[0]),a=0,s=e.length;a<s;a++){var u=r.nodeValue(e[a]);if(u==o)return!0;i[a]=u}for(var c=1;c<n;c++){o=r.nodeValue(t[c]);for(a=0,s=e.length;a<s;a++)if(i[a]==o)return!0}return!1},r.shortTags={br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,wbr:!0},r.closeAttrs=function(e){var t=e.s;if(t){var n="",i=e.a;for(var o in i)n+=" "+o+'="'+i[o].quote()+'"';return n+=r.shortTags[t]?"/>":">",e.s=null,n}return""},r.copyAttrs=function(e,t){for(var n in t)e[n]=t[n]},r.scalarAttr=function(e){this.s=null==e?"":""+e},r.scalarAttr.prototype.quote=function(){return r.text2attr(this.s)},r.scalarAttr.prototype.addxml=function(e){return new r.xmlAttr(c(this.s)+e)},r.scalarAttr.prototype.addscalar=function(e){return new r.scalarAttr(this.s+e)},r.xmlAttr=function(e){this.s=null==e?"":""+e},r.xmlAttr.prototype.quote=function(){return r.xml2attr(this.s)},r.xmlAttr.prototype.addscalar=function(e){return new r.xmlAttr(this.s+c(e))},r.slice=function(e,t,n){return e=""+e,n?e.slice(t,n):e.slice(t)},r.exists=function(e){return e.length>0},r.grep=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r,i)&&n.push(o)}return n},r.byIndex=function(e,t){return e.slice(t,t+1)},r.sort=function(e,t,n){for(var r=[],i=0,o=e.length;i<o;i++){var a=e[i],s=t(a,i,o);r.push({node:a,value:s})}var u=n?-1:1,c=n?1:-1,l=r.sort((function(e,t){var n=e.value,r=t.value;return n<r?c:n>r?u:0})),d=[];for(i=0,o=l.length;i<o;i++)d.push(l[i].node);return d},r.nodeset2data=function(e){var t=e.length;if(0===t)return"";if(1===t)return e[0].data;for(var n=[],r=0;r<t;r++)n.push(e[r].data);return n},r.externals={};var l=function(){};function d(e){Array.isArray(e)&&(e={item:e}),this.root={data:e,parent:null,name:"",doc:this},this._vars={},this._keys={}}l.prototype.a=function(e,t,n,r,i){var o,a="";arguments.length>5&&(o=Array.prototype.slice.call(arguments,5));for(var s=e.imports,u=0,c=n.length;u<c;u++){for(var l,d,f=n[u],p=!1,h=t,m=s.length;!p&&h<m;){var v=(l=s[h++]).matcher[r];if(v){var g=v[f.name]||v["*"];if(g)for(var y=0,b=g.length;!p&&y<b;){var _=g[y++],O=(d=l[_]).j;if(O)l.matched(O,d.a,f,u,c)&&(p=_);else for(var E=d.s,w=d.a,S=0,C=E.length;S<C;S++)if(l.matched(E[S],w[S],f,u,c)){p=_;break}}}}p&&(a+=o?d.apply(e,[e,f,u,c,i].concat(o)):d(e,f,u,c,i))}return a},l.prototype.matched=function(e,t,n,r,i){if(1===e)return!n.parent;for(var o=e.length-2;o>=0;){if(!n)return!1;switch(e[o]){case 0:var a=e[o+1];if("*"!==a&&a!==n.name)return!1;n=n.parent;break;case 2:case 4:if(!(0,e[o+1])(this,n,r,i))return!1}o-=2}return!t||!n.parent},l.prototype.s=function(e,t){return this.n(e,[t])},l.prototype.n=function(e,t){for(var n,i=t,o=i.length,a=0,s=e.length;a<s;a+=2){n=[];var u=e[a],c=e[a+1];switch(u){case 0:for(var l=0;l<o;l++)r.selectNametest(c,i[l],n);break;case 1:for(l=0;l<o;l++){for(var d=0,f=i[l];d<c&&f;)f=f.parent,d++;f&&n.push(f)}break;case 2:for(l=0;l<o;l++){c(this,f=i[l],l,o)&&n.push(f)}break;case 3:n=(f=i[c])?[f]:[];break;case 4:if(o>0)c(this,(f=i[0]).doc.root,0,1)&&(n=n.concat(i))}if(!(o=(i=n).length))return[]}return n},r.selectNametest=function(e,t,n){var i=t.data;if(!i||"object"!=typeof i)return n;if("*"===e){if(Array.isArray(i))for(var o=0,a=i.length;o<a;o++)r.selectNametest(o,t,n);else for(e in i)r.selectNametest(e,t,n);return n}if(void 0===(i=i[e]))return n;var s=t.doc;if(Array.isArray(i))for(o=0,a=i.length;o<a;o++)n.push({data:i[o],parent:t,name:e,doc:s});else n.push({data:i,parent:t,name:e,doc:s});return n},r.document=function(e){return[(e.length?new d(e[0].data):new d({})).root]},r.subnode=function(e,t,n){var r=n.doc;if(Array.isArray(t)){for(var i=[],o=0,a=t.length;o<a;o++)i.push({data:t[o],name:e,parent:n,doc:r});return i}return[{data:t,name:e,parent:n,doc:r}]},l.prototype.v=function(e,t){var n=t.doc._vars,r=n[e];if(void 0===r){var i=this.findSymbol(e);r="function"==typeof i?i(this,t,0,1):i,n[e]=r}return r},l.prototype.f=function(e,t,n,r,i){var o=this.findSymbol(e);if(arguments.length>5){var a=Array.prototype.slice.call(arguments);return a[0]=this,o.apply(this,a)}return void 0!==i?o(this,t,n,r,i):o(this,t,n,r)},l.prototype.k=function(e,t,n,i){var o=n.doc._keys,a=this.findSymbol(e),s=o[e];s||(s=this._initKey(a,e,t,n));var u=s.values,c=s.nodes,l=this;if(i){var d;if(s.xml){d="";for(var f=0,p=t.length;f<p;f++){n=t[f];d+=m(r.nodeValue(n))}}else{d=[];for(f=0,p=t.length;f<p;f++){n=t[f];d=d.concat(m(r.nodeValue(n)))}}return d}var h=u[t];return void 0===h&&(h=m(t)),h;function m(e){var t,n=c[e];if(s.xml){if(t="",n)for(var r=0,i=n.length;r<i;r++){var o=n[r];t+=a.b(l,o.c,o.i,o.l,{})}}else if(t=[],n)for(r=0,i=n.length;r<i;r++){o=n[r];t=t.concat(a.b(l,o.c,o.i,o.l))}return u[e]=t,t}},l.prototype._initKey=function(e,t,n,i){var o=i.doc._keys[t]={};o.xml="xml"===e.bt;var a=e.n(this,i),s=o.nodes={};if("nodeset"===e.ut)for(var u=0,c=a.length;u<c;u++)for(var l=a[u],d=0,f=(p=e.u(this,l,u,c)).length;d<f;d++)h(r.nodeValue(p[d]),{c:l,i:u,l:c});else for(u=0,c=a.length;u<c;u++){var p;l=a[u];h(p=e.u(this,l,u,c),{c:l,i:u,l:c})}return o.values={},o;function h(e,t){var n=s[e];n||(n=s[e]=[]),n.push(t)}},l.prototype.findSymbol=function(e){for(var t=this.imports,n=0,r=t.length;n<r;n++){var i=t[n][e];if(void 0!==i)return i}},r.Module=l})(),e.exports=r,e.exports=r}),(function(e,t){var n=function(e){return(e||"").split("/").filter(Boolean)},r=function(e){return n(e).pop()||""},i=function(e,t){return e?e.split("/").map(t).join("/"):""};e.exports={split:n,basename:r,extname:function(e,t){var n=r(e).split(".");return 1===n.length||""===n[n.length-1]?"":(t?".":"")+n[n.length-1]},normalize:function(e){return"/"+n(e).join("/")},escape:function(e){return i(e,encodeURIComponent)},unescape:function(e){return i(e,decodeURIComponent)},dirname:function(e){var t=n(e);return t.pop(),"/".concat(t.join("/"))}}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(1362)),s=i(n(1470)),u=i(n(995)),c=i(n(1474)),l=i(n(381)),d=i(n(185)),f=i(n(344)),p=n(28).cn("ShareDialog");n(1607);const h=i(n(186));t.getConfirmTexts=(e=>({title:d.default(e,"delete-link-confirm-title"),text:{file:d.default(e,"delete-link-confirm-text-file"),folder:d.default(e,"delete-link-confirm-text-folder"),album:d.default(e,"delete-link-confirm-text-album")},submit:d.default(e,"delete-link-confirm-submit"),cancel:d.default(e,"delete-link-confirm-cancel")}));t.default=(({officeAccessType:e,runChangeType:n,onAccessTypeChange:r,lang:i,linkUrl:m,resourceTitle:v,resourceId:g,resourcePath:y,resourceType:b="file",resourceMediaType:_,isResourceTypeAvailableToEdit:O,noViewOnlyTooltip:E,viewOnlyTooltipType:w,defaultExpanded:S,dialogTitle:C,onClose:x,runDeleteLink:T,onDeleteLink:P,onCopyLinkClick:k,isOverdraft:j,isVicariousDoc:R,blockActionOverdraft:I,mailOrigin:A,showDeleteLinkProgress:D,visible:M,zIndexGroupLevel:N,isUserHasRightsToModifyAccess:L,isTouch:F,isTablet:B,isAndroid:U,deselectClass:z,countMetrikaFn:V,userHasPublicSettingsFeature:H,isB2bUser:W,chooseTariffLink:$,readOnlyValue:G,availableUntilValue:q,havePasswordValue:Y,setLinkSettings:K,onChangeSecuritySettings:J,externalOrganizationIds:Z,pddOrgId:X,scope:Q,noDeleteButton:ee})=>{const[te,ne]=o.useState(!1),re=o.useCallback(()=>{ne(!0),V("clickQRCode","show")},[V]);o.useEffect(()=>{M&&ne(!1)},[M]),o.useEffect(()=>{M&&V("open")},[M,V]);const[ie,oe]=o.useState(!1),[ae,se]=o.useState(!1),ue=o.useCallback(()=>{oe(!0),V("click delete")},[V]),ce=o.useCallback(()=>{oe(!1),V("cancel unshare")},[V]),le=o.useCallback(()=>{const e=T("album"===b,"album"===b?{albumId:g}:{path:y,type:b});D?(se(!0),e.catch(()=>{}).then(()=>{se(!1),oe(!1),null===P||void 0===P||P(e),x()})):(oe(!1),null===P||void 0===P||P(e),x()),V("unshare")},[T,g,y,b,D,x,P,V]),de=o.useMemo(()=>t.getConfirmTexts(i),[i]),fe=o.useMemo(()=>{const e={file:"file-link-title",folder:"folder-link-title",album:"album-link-title"};return d.default(i,e[b])},[b,i]),pe=o.useCallback(()=>{x(),V("close")},[x,V]),he=F&&!B,me="album"!==b&&L&&!j,ve=L&&!!X&&"album"!==b,ge=Object.assign({visible:M&&!ie,title:C||fe,zIndexGroupLevel:N,onClose:pe,closeI18n:d.default(i,"close-menu"),className:p({touch:he,showQR:te},[z]),scope:Q},he?{useDrawer:!0,noCloseButton:!0}:null);if(!m)return o.default.createElement(l.default,Object.assign({},ge),o.default.createElement("div",{className:p("AccordionStub")}),me&&o.default.createElement("div",{className:p("SecuritySettingsStub",{withFeature:H})}),o.default.createElement("div",{className:p("CopyButtonStub")}));if(te)return o.default.createElement(l.default,Object.assign({},ge,{title:d.default(i,"qr-code-title")}),o.default.createElement(u.default,{linkUrl:m,countMetrikaFn:V}));const ye=Boolean(X&&Z&&parseInt(X,10)===Z[0]),be=L&&!ee;return o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,Object.assign({},ge),!H&&(G||Boolean(q)||Y||ye)?o.default.createElement("div",{className:p("OnlyDisableTip")},o.default.createElement(h.default,{name:"warningSmall",className:p("TipIcon")}),d.default(i,"security-only-disable")):null,o.default.createElement("div",{className:p("AccessAccordion")},o.default.createElement(a.default,{shouldRenderOrganizationScopeBlock:ve,isUserHasRightsToModifyAccess:L,isVicariousDoc:R,isOverdraft:j,resourcePath:y,chooseTariffLink:$,setLinkSettings:K,officeAccessType:e,externalOrganizationIds:Z,runChangeType:n,onAccessTypeChange:r,userHasPublicSettingsFeature:H,onChangeSecuritySettings:J,isResourceTypeAvailableToEdit:O,resourceType:b,noViewOnlyTooltip:E,viewOnlyTooltipType:w||b,defaultExpanded:S,pddOrgId:X,lang:i,visible:M,resourceId:g,isTouch:F,deselectClass:z,countMetrikaFn:V,isSmartphone:he,isB2b:W})),me&&o.default.createElement(c.default,{lang:i,hasFeature:H,isB2b:W,chooseTariffLink:$,resourcePath:y,resourceMediaType:_,readOnlyValue:G,externalOrganizationIds:Z,availableUntilValue:q,havePasswordValue:Y,setLinkSettings:K,onChangeSecuritySettings:J,officeAccessType:e,isDialogVisible:M,countMetrikaFn:V,deselectClass:z,isSmartphone:he,datePickerScope:Q,isAndroid:U}),o.default.createElement(s.default,{lang:i,visible:M,url:m,onCopyLinkClick:k,isOverdraft:j,blockActionOverdraft:I,mailOrigin:A,resourceTitle:v,resourceType:b,officeAccessType:e,onClickQR:re,isTouch:F,isAndroid:U,countMetrikaFn:V,shouldRenderRemoveLink:be,onDeleteConfirmOpen:ue})),o.default.createElement(f.default,{visible:ie,title:de.title,submitButtonText:de.submit,cancelButtonText:F?"":de.cancel,submitButtonProps:{progress:ae},onSubmit:le,onClose:ce,closeI18n:d.default(i,"close-menu"),className:z},de.text[b]))})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(2425);function o(e,t){var n=e.autoFocus,o=e.disabled,a=e.tabIndex;return Object(r.useEffect)((function(){n&&Object(i.a)(t.current)}),[n,t]),{focusableProps:{tabIndex:o?-1:a}}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(247);t.getDebugSearchParams=function(){const e=location.search.match(/[&?]debug=([^&]+)/);return e&&e[1]?`?debug=${e[1]}`:""};t.Logger=class{constructor(e){this.enabled=!1,this.source="",this.enabled=r.isDebugMode("promo"),this.source=e}log(e,t){this.enabled&&console[e](`[${this.source}]: `,...t)}info(...e){this.log("info",e)}warn(...e){this.log("warn",e)}error(e){this.log("error",[e]),Ya&&Ya.Rum&&Ya.Rum.enabled&&Ya.Rum.logError&&Ya.Rum.logError({message:e.message,source:this.source,level:Ya.Rum.ERROR_LEVEL.ERROR},e)}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41),i=n(180),o=n(273),a=n(102),s=n(95),u=n(330),c=n(42),l=n(20),d=n(29),f=n(91),p=n(1774),h=n(56);function*m(e){return(yield r.select(o.getAccessFolderUsers)).find(t=>t.email===e)}function*v(e,t){t&&(yield r.put(l.closeDialog("access-folder"))),yield r.put(c.notify({operation:"any",message:e}))}function*g({payload:e={}}){try{const n=yield r.select(o.getAccessFolderResource);if(!n)return;if(!(yield r.select(o.getIsCurrentFolderShared)))return;e.silent||(yield r.put(i.setUsersLoadingState({isLoading:!0,id:n.id})));const{isPDD:u}=yield r.select(a.getUser),c=yield r.select(o.isOuterContactsEnabled),l=yield r.call(s.api,"mpfs/share-users-in-group",{gid:n.meta.group.gid,isPDD:u,checkIsOuter:c});yield r.put(i.setUsers({id:n.id,users:l}))}catch(n){e.silent||(yield r.call(v,"Не удалось загрузить список пользователей общей папки",!0)),t.handleSagaError(n,"fetchUsersSaga")}}function*y({payload:e}){var n,a,l;let p;try{if(!(p=yield r.select(o.getAccessFolderResource)))return;if(yield r.put(d.maybeBlockAction({forLite:!0})))return;const h=yield r.select(o.getIsCurrentFolderShared),g=h?{gid:p.meta.group.gid}:{path:p.path},{userid:y,service:b,rights:_}=e,O=yield r.call(m,y);"email"===b&&O?yield r.put(i.updateUser({id:p.id,email:y,data:{isLoading:!0}})):yield r.put(i.setInvitingUser({id:p.id,invitingUser:!0}));const{oid:E}=yield r.call(s.api,"mpfs/share-invite-user",Object.assign(Object.assign({},g),{userid:y,service:b,rights:_})),w=yield r.getContext("rawFetchModel");for(;;){const e=yield r.call(w,"do-status-operation",{oid:E});if("DONE"===e.status)break;if("FAILED"===e.status)throw e.error;yield r.delay(1e3)}h||(yield r.call(u.fetchResourceSaga,{payload:{id:p.id}})),O||(yield r.put(i.maybeFetchAccessFolderUsers({silent:!0})))}catch(e){const i=null===(n=null===e||void 0===e?void 0:e.error)||void 0===n?void 0:n.code,o=(null===(l=null===(a=null===e||void 0===e?void 0:e.error)||void 0===a?void 0:a.body)||void 0===l?void 0:l.title)||"";if(o.includes("captcha")||o.includes("flood"))yield r.call(v,"Приглашение не отправлено. Попробуйте отправить его позднее");else switch(i){case 124:yield r.call(v,"Доступно не более 50 общих папок",!0);break;case 123:yield r.call(v,"К папке можно выдать доступ только 200 участникам");break;case 85:yield r.put(c.notify({operation:f.Operations.inviteUser,status:f.Status.failed}));break;default:yield r.call(v,"Не удалось отправить приглашение")}t.handleSagaError(e,"inviteUserSaga")}finally{p&&("email"===e.service&&(yield r.put(i.updateUser({id:p.id,email:e.userid,data:{isLoading:!1}}))),yield r.put(i.setInvitingUser({id:p.id,invitingUser:!1})))}}function*b({payload:e}){let n;try{if(!(n=yield r.select(o.getAccessFolderResource)))return;const{email:a}=e,u=yield r.call(m,a);yield r.put(i.updateUser({id:n.id,email:a,data:{isLoading:!0}})),"proposed"===u.status?yield r.call(s.api,"mpfs/share-remove-invite",{gid:n.meta.group.gid,userid:a,service:"email"}):yield r.call(s.api,"mpfs/share-kick-from-group",{uid:u.uid,gid:n.meta.group.gid}),yield r.put(i.removeUser({id:n.id,email:a}))}catch(e){yield r.call(v,"Не удалось изменить доступ, попробуйте снова"),t.handleSagaError(e,"revokeAccessSaga")}finally{n&&(yield r.put(i.updateUser({id:n.id,email:e.email,data:{isLoading:!1}})))}}function*_({payload:e}){let n;try{if(!(n=yield r.select(o.getAccessFolderResource)))return;const{rights:a,email:u}=e,c=yield r.call(m,u);if(!c)return;yield r.put(i.updateUser({id:n.id,email:u,data:{isLoading:!0}})),"proposed"===c.status?yield r.call(s.api,"mpfs/share-invite-user",{gid:n.meta.group.gid,userid:u,service:"email",rights:a}):yield r.call(s.api,"mpfs/share-change-rights",{uid:c.uid,rights:a,gid:n.meta.group.gid}),yield r.put(i.updateUser({id:n.id,email:u,data:{rights:a}}))}catch(e){yield r.call(v,"Не удалось изменить доступ, попробуйте снова"),t.handleSagaError(e,"changeRightsSaga")}finally{n&&(yield r.put(i.updateUser({id:n.id,email:e.email,data:{isLoading:!1}})))}}function*O({payload:{id:e}}){try{yield r.put(l.closeDialog("access-folder")),yield r.put(h.unshareOperation(e)),yield r.put(i.clearFolderState({id:e}))}catch(e){yield r.call(v,"Не удалось изменить доступ, попробуйте снова"),t.handleSagaError(e,"unshareFolderSaga")}}function*E({payload:e}){try{let n=[];if(e){const{isPDD:t,isB2b:i}=yield r.select(a.getUser),u=yield r.select(o.isOuterContactsEnabled);n=yield r.call(s.api,"aceventura/suggest",{query:e,isPDD:t,checkIsOuter:u,limit:i?30:10})}yield r.put(i.setSuggestions(n))}catch(e){t.handleSagaError(e,"fetchSuggestionSaga")}}t.handleSagaError=((e,t)=>{var n;console.error(e),null===(n=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===n||n.logError({message:(null===e||void 0===e?void 0:e.message)||"unknown",source:"accessFolder",sourceMethod:t,level:Ya.Rum.ERROR_LEVEL.ERROR},e)}),t.default=function*(){yield r.all([r.takeEvery(i.maybeFetchAccessFolderUsers.type,g),r.takeEvery(i.inviteUser.type,y),r.takeEvery(i.revokeAccess.type,b),r.takeEvery(i.changeRights.type,_),r.takeEvery(i.unshareFolder.type,O),r.takeEvery(i.processRemoteAction.type,p.remoteActionsSaga),r.takeLatest(i.fetchSuggestions.type,E)])}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"close4IconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(12),h=n(0),m=n.n(h);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return m.a.createElement("path",{clipRule:"evenodd",fill:"currentColor",fillRule:"evenodd",d:"M8 9.414l5.293 5.293a1 1 0 1 0 1.415-1.415L9.415 8l5.293-5.293a1 1 0 0 0-1.414-1.414L8 6.586 2.707 1.293a1 1 0 0 0-1.414 1.414L6.586 8l-5.293 5.292a1 1 0 1 0 1.415 1.415z"})}}]),n})(p.default),y=Object(p.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12),v=n(74),g=(n(1943),n(11)),y=n.n(g);function b(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var _={xs:"xs",s:"xs",m:"s",n:"xs",l:"m",head:"m","ufo-xl":"l"},O=(function(e){u()(n,e);var t=b(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContent",value:function(){return h.a.createElement(v.Spin,{view:"default",size:this.props.spinSize||_[this.props.size],progress:!0,className:y()()("spin-wrapper").m({white:this.props.white})})}}]),n})(m.default)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(44),i=n(98),o=n(32);t.getMetrikaSectionTail=(e=>{const t="photo"===r.getPage(e),n=i.getMetrikaSection(e),a=o.getCurrentAlbumType(e);return t?n:o.isPageAlbum(e)?["album",a]:["listing"]})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m})),n.d(t,"noneIconProvider",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(12);function h(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var m=(function(e){u()(n,e);var t=h(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return null}}]),n})(p.default),v=Object(p.iconProvider)(m)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"externalIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M2 4v10H0V2h5v2H2zm10 10H0v2h14v-5h-2v3zm2-10.737V8h2V0H8v2h4.435L6 8.435l1.414 1.414L14 3.262v.001z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"goToFolderIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M0 10.031h5.999v2.519l4.407-3.526L5.999 5.5v2.531H0V1h5.923L8 3h8v12H0z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"wfolioDeleteProjectIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm4.89-4.524A6 6 0 0 0 4.524 3.11l8.368 8.368Zm-1.414 1.415A6 6 0 0 1 3.11 4.524l8.368 8.367Z",clipRule:"evenodd"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"m1 0v16l14-8"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("g",{clipPath:"url(#a)"},h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8.656c1.556 0 2.723-1.66 2.723-3.593S6.219 2 4.5 2C2.781 2 1.777 3.13 1.777 5.063c0 1.934 1.167 3.593 2.723 3.593zM4.5 14c-2.317 0-3.764-.677-4.34-1.144a.474.474 0 0 1-.16-.392C0 10.989 1.775 10 4.498 10s4.502.99 4.502 2.463a.474.474 0 0 1-.158.394C8.264 13.322 6.817 14 4.5 14zm6.246-.713c2.11.142 4.146-.18 5.11-.791a.306.306 0 0 0 .141-.283c0-.93-1.427-2.09-3.997-2.09-.905 0-1.913.084-2.51.257.772.567 1.256 1.58 1.256 2.906zM12 8.761c-1.306 0-2.236-1.437-2.236-3.111 0-1.674.793-2.653 2.236-2.653 1.442 0 2.234.979 2.234 2.653S13.307 8.76 12 8.76z"})),h.a.createElement("defs",null,h.a.createElement("clipPath",{id:"a"},h.a.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"}))))}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"addExternalDropTarget",(function(){return N})),n.d(t,"removeExternalDropTarget",(function(){return L}));var r=n(33),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(0),y=n.n(g),b=n(106),_=n.n(b),O=n(951),E=n(113),w=n(414),S=n(556),C=n(364),x=n(181),T=n(45),P=n(171),k=n(11),j=n.n(k);n(2078);function R(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var I=function(){return j()()("listing")},A=j()()("listing-item").e("icon-wrapper").toString(),D=I().e("drop-target"),M=[],N=function(e){M.push(e)},L=function(e){var t=M.findIndex((function(t){return t.reactElement===e}));M.splice(t,1)};t.default=function(e){return (function(t){f()(r,t);var n=R(r);function r(e){var t;return a()(this,r),(t=n.call(this,e)).state={isDragging:!1},t._onDocumentPointerBeforeStart=t._onDocumentPointerBeforeStart.bind(l()(t)),t._onDocumentPointerStart=t._onDocumentPointerStart.bind(l()(t)),t._onDocumentPointerMove=t._onDocumentPointerMove.bind(l()(t)),t._onDocumentPointerEnd=t._onDocumentPointerEnd.bind(l()(t)),t._onWindowKeyUp=t._onWindowKeyUp.bind(l()(t)),t._setListingContainerRef=t._setListingContainerRef.bind(l()(t)),t._onTargetContainerScroll=t._onTargetContainerScroll.bind(l()(t)),t._setDraggingElementRef=t._setDraggingElementRef.bind(l()(t)),t}return u()(r,[{key:"componentDidMount",value:function(){var e=this;this._documentPointerListener=Object(S.a)({scope:this._listingContainerRef,scroll:!0,scrollBorder:{width:30,height:30},startThreshold:10,startFilter:function(t){return!t.target.closest("."+("row"===e.props.theme?T.LISTING_ITEM_CLASS:A))||t.target.closest("."+T.LISTING_PREVENT_DRAG_CLASS)},onBeforeStart:this._onDocumentPointerBeforeStart,onStart:this._onDocumentPointerStart,onMove:this._onDocumentPointerMove,onEnd:this._onDocumentPointerEnd}),window.addEventListener("keyup",this._onWindowKeyUp)}},{key:"componentDidUpdate",value:function(e){this.state.isDragging&&(Object(x.isResourcesEqual)(this.props.resources,e.resources)||this._recalculateTargetsRects(),this._toggleHighLightDropTargets(!0),0===this.props.selectedResources.length&&e.selectedResources.length>0&&this._documentPointerListener&&this._documentPointerListener.cancel())}},{key:"componentWillUnmount",value:function(){this._documentPointerListener&&this._documentPointerListener.clearListeners(),window.removeEventListener("keyup",this._onWindowKeyUp)}},{key:"_onWindowKeyUp",value:function(e){e.keyCode&&27===e.keyCode&&this.state.isDragging&&this._documentPointerListener&&this._documentPointerListener.cancel()}},{key:"_recalculateTargetsRects",value:function(){var e=this,t=this._getDraggingItemsIds(),n=t.map((function(t){return e.props.resourcesByIds[t]})).filter(Boolean);this._dropTargets=this.props.resources.filter((function(r){return!t.includes(r.id)&&e.props.filterDropTarget(r,n)})).map((function(t){var n=t.id;return{id:n,element:(e._listing.getItemInfo(n)||{}).ref,highlightClass:D,activeHighlightClass:"listing__drop-target_active"}})).concat(M.map((function(e){return Object.assign({element:e.reactElement.getDomElement()},e)})).filter((function(t){var r=e.props.resourcesByIds[t.id]||{id:t.id,type:"dir"};return e.props.filterDropTarget(r,n)}))).map((function(e){return e.rect=Object(C.b)(e.element),e}))}},{key:"_onDocumentPointerBeforeStart",value:function(e,t){var n=this,r=t.target.closest("."+T.LISTING_ITEM_CLASS);this._listing.getItemsInfo().forEach((function(e,t){e.ref===r&&(n._dragStartResourceId=t)}))}},{key:"_onDocumentPointerStart",value:function(){document.body.classList.add("is-dragging"),this.props.onSelectionChanged&&this._dragStartResourceId&&this.props.selectedResources.length&&!this.props.selectedResources.includes(this._dragStartResourceId)&&this.props.onSelectionChanged([]),this._recalculateTargetsRects(),this.setState({isDragging:!0}),this._toggleHighLightDropTargets(!0),this._toggleExternalDropTargetsScrollListeners(!0),this.props.onDragStart&&this.props.onDragStart()}},{key:"_checkIfDropIsAllowed",value:function(e){if(!this.props.dropDeniedSelector)return!0;var t=document.elementFromPoint(e.clientX,e.clientY);return null===(t?t.closest(this.props.dropDeniedSelector):null)}},{key:"_onDocumentPointerMove",value:function(e,t,n){if(this._draggingElement){"scroll"===n.type&&this._dropTargets.forEach((function(e){e.isFixed&&(e.rect=Object(C.b)(e.element))}));var r=this._checkIfDropIsAllowed(t);this._draggingElement.style.top=t.y-30+"px",this._draggingElement.style.left=t.x-30+"px";var i,o={top:t.y-30,left:t.x-30,bottom:t.y+30,right:t.x+30},a=0;r&&this._dropTargets.forEach((function(e){var t=Object(C.a)(e.rect,o);t>a&&(a=t,i=e)})),this._intersectDropTarget!==i&&(this._intersectDropTarget&&this._toggleActiveHighLightDropTarget(this._intersectDropTarget,!1),i&&r&&this._toggleActiveHighLightDropTarget(i,!0)),this._intersectDropTarget=i}}},{key:"_onDocumentPointerEnd",value:function(e,t){var n=this;if(document.body.classList.remove("is-dragging"),this._toggleHighLightDropTargets(!1),this._toggleExternalDropTargetsScrollListeners(!1),this._dropTargets.forEach((function(e){n._toggleActiveHighLightDropTarget(e,!1)})),this.setState({isDragging:!1}),document.documentElement.classList.add(T.LISTING_PREVENT_DESELECT_CLASS),setTimeout((function(){document.documentElement.classList.remove(T.LISTING_PREVENT_DESELECT_CLASS)}),0),this._intersectDropTarget&&!t&&(this._toggleActiveHighLightDropTarget(this._intersectDropTarget,!1),this.props.onDrop)){var r=this._intersectDropTarget.type||"subfolder";this.props.onDrop(this._getDraggingItemsIds(),this._intersectDropTarget.id,r)}}},{key:"_getDraggingItemsIds",value:function(){return this.props.selectedResources.length>1?this.props.selectedResources:[this._dragStartResourceId]}},{key:"_onTargetContainerScroll",value:function(e){this._dropTargets.forEach((function(t){t.scrollContainerSelector&&document.querySelector(t.scrollContainerSelector)===e.target&&(t.rect=Object(C.b)(t.element))}))}},{key:"_toggleExternalDropTargetsScrollListeners",value:function(e){var t=this;this._dropTargets.forEach((function(n){var r=n.scrollContainerSelector;if(r){var i=document.querySelector(r);e?i.addEventListener("scroll",t._onTargetContainerScroll):i.removeEventListener("scroll",t._onTargetContainerScroll)}}))}},{key:"_toggleActiveHighLightDropTarget",value:function(e,t){e.reactElement?e.reactElement.toggleActive(t):e.element.classList.toggle(e.activeHighlightClass,Boolean(t))}},{key:"_toggleHighLightDropTargets",value:function(e){this._dropTargets.forEach((function(t){var n=t.element,r=t.reactElement,i=t.highlightClass;r?r.toggleHighlight(e):n.classList.toggle(i,Boolean(e))}))}},{key:"_setDraggingElementRef",value:function(e){this._draggingElement=e}},{key:"_getDraggingElement",value:function(){var e,t=this;if(this.props.selectedResources.length>1){var n=this.props.selectedResources.length>=1e3?"thousands":this.props.selectedResources.length>=100?"hundreds":"";e=[y.a.createElement(E.default,{key:"1",size:"s",cls:I().e("dragging-element-icon")}),y.a.createElement(E.default,{key:"2",size:"s",cls:I().e("dragging-element-icon")}),y.a.createElement(E.default,{key:"3",size:"s",cls:I().e("dragging-element-icon")}),y.a.createElement("div",{key:"4",className:I().e("dragging-element-count").m({rank:n})},this.props.selectedResources.length)]}else{var r=this.props.resources.find((function(e){var n=e.id;return t._dragStartResourceId===n}));r&&(e=y.a.createElement(w.a,{resource:r,cls:I().e("dragging-element-icon").m({wfolio:this.props.isWfolio}),size:"s"}))}return this.state.isDragging&&e?_.a.createPortal(y.a.createElement("div",{className:I().e("dragging-element").m({active:!0}),ref:this._setDraggingElementRef},y.a.createElement("div",{className:I().e("dragging-element-inner").m({multi:this.props.selectedResources.length>1})},e)),document.body):null}},{key:"_setListingContainerRef",value:function(e){this._listingContainerRef=e,this.props.containerRef&&this.props.containerRef(e)}},{key:"render",value:function(){var t=this;return this._mods=Object(P.a)(this.props.mods,{"with-drag-and-drop":!0},this._mods),y.a.createElement(y.a.Fragment,null,y.a.createElement(e,i()({},this.props,{mods:this._mods,containerRef:this._setListingContainerRef,ref:function(e){t._listing=e}})),this._getDraggingElement())}}]),r})(O.a)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(1108)),u=n(125),c=n(1109),l=n(81),d=n(86),f=n(34),{I18N:p}=n(79),h=i(n(2185)),m=a.connect((e,t)=>{const{config:{links:{static:{host:n},help:{b2bFree:r},b2bAdminProducts:i}},environment:{agent:{isSmartphone:o}},user:{b2b_restriction_status:a,isConnectAdmin:s}}=e;return Object.assign({isMobile:o,isB2bFreeDialogOpened:u.isDialogOpened(e,"overdraft"),staticHost:n,helpLink:r,b2bAdminProducts:i,isDark:l.isContentDark(d.getThemeName(e)),b2b_restriction_status:a,isPddAdmin:s},t)});t.default=m(({helpLink:e,staticHost:t,b2bAdminProducts:n,isMobile:r,onClose:i,isDark:a,isB2bFreeDialogOpened:u,b2b_restriction_status:l,isPddAdmin:d})=>{const m=o.useCallback((...e)=>{let t="";t=u?d?"screen-admin":"screen-user":d?"popup-admin":"popup-user",c.countB2bFree(l,t,...e)},[u,l,d]);o.useEffect(()=>{m("show")},[m]);const v=o.useCallback(()=>{m("close"),i()},[m,i]),g=o.useCallback(()=>{m("сlick_button_help")},[m]),y=o.useCallback(()=>{m("click_go_to_files"),i()},[m,i]),b=o.useCallback(()=>{l===f.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?m("сlick_button_help"):m("click_go_to_files"),i()},[m,i,l]),_=o.useMemo(()=>d?o.default.createElement(p,{loc:"Для вашей организации сервисы Яндекс 360 переведены в режим просмотра."},r?null:o.default.createElement("br",null)):o.default.createElement(p,{loc:"Для вашей организации сервисы переведены в режим просмотра."},o.default.createElement("br",null)),[r,d]),[O,E]=o.useMemo(()=>l===f.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?d?["Для сервисов вашей организации скоро включится режим просмотра.","Выберите и оплатите тариф, чтобы сотрудники организации пользовались всеми возможностями Диска."]:["Для сервисов вашей организации скоро включится режим просмотра.","Сервисы организации, к которой подключён ваш аккаунт, перешли в режим просмотра. Чтобы восстановить все возможности, свяжитесь с администратором вашей организации."]:l===f.B2B_RESTRICTION_STATUSES.RESTRICT_NOTIFICATION||l===f.B2B_RESTRICTION_STATUSES.RESTRICT?d?[_,"Выберите платный тариф, чтобы сотрудники могли использовать возможности Диска как раньше."]:[_,"Для вашей организации сервисы переведены в режим просмотра. Свяжитесь с администратором, чтобы восстановить вcе возможности."]:["",""],[l,d,_]),{buttonAddSpaceText:w,buyButtonUrl:S,buyButtonAction:C,buttonCleanText:x,buttonCleanAction:T}=o.useMemo(()=>d?l===f.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?{buttonAddSpaceText:"Выбрать тариф",buyButtonUrl:n,buyButtonAction:()=>m("сlick_button_buy"),buttonCleanText:"Перейти к файлам",buttonCleanAction:y}:{buttonAddSpaceText:"Выбрать тариф",buyButtonUrl:n,buyButtonAction:()=>m("сlick_button_buy")}:r?{buttonAddSpaceText:"Перейти к файлам",buyButtonAction:b}:{buttonCleanText:"Перейти к файлам",buttonCleanAction:b},[d,r,n,m,b,l,y]),P=o.useMemo(()=>l===f.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?h.default.waitMobile:r?h.default.restrictMobile:h.default.restrictDesktop,[l,r]);return o.default.createElement(s.default,{isMobile:r,title:O,text:E,aboutText:"Подробнее об ограничениях",buttonAddSpaceText:w,buttonCleanText:x,overdraftType:"lite",helpLink:e,staticHost:t,imageUrl:P,buyButtonUrl:S,onClose:v,onClean:T,onAddSpace:C,onAbout:g,isDark:a})})}),(function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(2425);function a(e,t,n){return{source:n,target:e.target,currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey}}function s(e,t){if(!e)return!1;if(document.elementFromPoint){var n=document.elementFromPoint(t.clientX,t.clientY);return e.contains(n)}var r=e.getBoundingClientRect(),i=(function(e){var t=e.width/2||e.radiusX||0,n=e.height/2||e.radiusY||0;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}})(t);return!(r.left>i.right||i.left>r.right)&&!(r.top>i.bottom||i.top>r.bottom)}function u(e){var t=e.getAttribute("type");return"INPUT"===e.tagName&&("checkbox"===t||"radio"===t)}function c(e){var t=e.key,n=e.target,r=n.getAttribute("role"),i="A"===n.tagName&&n.hasAttribute("href"),o=n.getAttribute("contenteditable");return!((u(n)||"Enter"!==t)&&" "!==t&&"Spacebar"!==t||"true"===o||i&&("button"!==r||"Enter"===t)||"link"===r&&"Enter"!==t)}var l="idle",d="";function f(){return document.documentElement.style.userSelect||document.documentElement.style.webkitUserSelect}function p(e){document.documentElement.style.userSelect=e,document.documentElement.style.webkitUserSelect=e}function h(){"disabled"===l&&(l="restoring",setTimeout((function(){requestAnimationFrame((function(){"restoring"===l&&("none"===f()&&p(d),d="",l="idle")}))}),300))}function m(e,t){for(var n=e.changedTouches,r=0;r<n.length;r++){var i=n[r];if(i.identifier===t)return i}return null}function v(e){var t=e.preventFocusOnPress,n=(function(){var e=Object(i.useRef)(new Map),t=Object(i.useCallback)((function(t,n,r,i){e.current.set(r,{type:n,eventTarget:t,options:i}),t.addEventListener(n,r,i)}),[]),n=Object(i.useCallback)((function(t,n,r,i){t.removeEventListener(n,r,i),e.current.delete(r)}),[]),r=Object(i.useCallback)((function(){e.current.forEach((function(e,t){n(e.eventTarget,e.type,t,e.options)}))}),[n]);return Object(i.useEffect)((function(){return r}),[r]),{addListener:t,removeListener:n,removeAllListeners:r}})(),v=n.addListener,g=n.removeAllListeners,y=Object(r.__read)(Object(i.useState)(!1),2),b=y[0],_=y[1],O=Object(i.useRef)({currentPointerId:null,currentPointerTarget:null,isPressed:!1,isPressStarted:!1}),E=Object(i.useRef)({});E.current={disabled:e.disabled,onPressStart:e.onPressStart,onPressUp:e.onPressUp,onPressEnd:e.onPressEnd,onPress:e.onPress};var w=Object(i.useMemo)((function(){var e=O.current,n={onKeyDown:function(t){c(t.nativeEvent)&&(u(t.target)||t.preventDefault(),t.stopPropagation(),e.isPressed||t.repeat||i(a(t,t.currentTarget,"keyboard")))},onKeyUp:function(e){c(e.nativeEvent)&&!e.repeat&&(y(a(e,e.currentTarget,"keyboard")),b(a(e,e.currentTarget,"keyboard")))}},i=function(t){var n=E.current,i=n.disabled,o=n.onPressStart;i||e.isPressStarted||(_(!0),e.isPressStarted=!0,null===o||void 0===o||o(Object(r.__assign)(Object(r.__assign)({},t),{type:"pressstart"})))},y=function(e){var t=E.current,n=t.disabled,i=t.onPressUp;n||null===i||void 0===i||i(Object(r.__assign)(Object(r.__assign)({},e),{type:"pressup"}))},b=function(t,n){void 0===n&&(n=!0);var i=E.current,o=i.onPress,a=i.onPressEnd;e.isPressStarted&&(_(!1),e.isPressStarted=!1,null===a||void 0===a||a(Object(r.__assign)(Object(r.__assign)({},t),{type:"pressend"})),n&&(null===o||void 0===o||o(Object(r.__assign)(Object(r.__assign)({},t),{type:"press"}))))},w=function(t,n){e.currentPointerTarget=t,e.currentPointerId=n,e.isPressed=!0,"idle"===l&&(d=f(),p("none")),l="disabled",_(!0)},S=function(){e.isPressed&&(e.isPressed=!1,h(),_(!1),g())};if("undefined"!=typeof PointerEvent){var C=function(t){var n=t.pointerType;s(e.currentPointerTarget,t)?i(a(t,e.currentPointerTarget,n)):b(a(t,e.currentPointerTarget,n),!1)},x=function(t){if(t.pointerId===e.currentPointerId&&(S(),s(e.currentPointerTarget,t))){var n=t.pointerType;y(a(t,e.currentPointerTarget,n)),b(a(t,e.currentPointerTarget,n))}},T=function(t){if(e.isPressed){var n=t.pointerType;b(a(t,e.currentPointerTarget,n),!1)}S()};n.onPointerDown=function(n){var r=E.current.disabled;0===n.button&&(n.preventDefault(),n.stopPropagation(),e.isPressed||r||(t||Object(o.b)(n.currentTarget),w(n.currentTarget,n.pointerId),i(a(n,n.currentTarget,n.pointerType)),v(document,"pointermove",C,!1),v(document,"pointerup",x,!1),v(document,"pointercancel",T,!1)))}}else{var P=function(t){var n=m(t,e.currentPointerId);n&&(s(e.currentPointerTarget,n)?i(a(t,e.currentPointerTarget,"touch")):b(a(t,e.currentPointerTarget,"touch"),!1))},k=function(t){var n=m(t,e.currentPointerId);(null===n||void 0===n?void 0:n.identifier)===e.currentPointerId&&(S(),s(e.currentPointerTarget,n)&&(y(a(t,e.currentPointerTarget,"touch")),b(a(t,e.currentPointerTarget,"touch"))))},j=function(t){e.isPressed&&b(a(t,e.currentPointerTarget,"touch"),!1),S()};n.onTouchStart=function(n){var r=E.current.disabled;n.preventDefault(),n.stopPropagation();var s=(function(e){var t=e.targetTouches;return t.length>0?t[0]:null})(n.nativeEvent);!s||e.isPressed||r||(t||Object(o.b)(n.currentTarget),w(n.currentTarget,s.identifier),i(a(n,n.currentTarget,"touch")),v(document,"touchmove",P,!1),v(document,"touchend",k,!1),v(document,"touchcancel",j,!1))}}return n}),[v,t,g]);return Object(i.useEffect)((function(){return h}),[]),{isPressed:b,pressProps:w}}n.d(t,"a",(function(){return v}))}),(function(e,t,n){"use strict";var r,i=n(0),o=n(1360),a=n(75);function s(){return"undefined"!=typeof window&&window.navigator&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1)}function u(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e.style[r]);for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r]);return n}function c(e){var t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function l(e){return e===document.body||e===document.documentElement}var d="__scrollLockState$"+Math.random().toString(36).slice(2);function f(e){return e[d]}function p(e){var t=l(e)&&window.innerWidth-document.documentElement.clientWidth>0,n=e.scrollHeight>e.clientHeight;return t||n||(function(e){var t=getComputedStyle(e).overflowY;return/scroll/.test(t)})(e)?(function(){if("undefined"==typeof document)return 0;if(void 0===r){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.pointerEvents="none",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;n===i&&(i=t.clientWidth),document.body.removeChild(t),r=n-i}return r})():0}function h(e){var t=f(e);if(t)t.count++;else{var n=p(e);!(function(e,t){e[d]=t})(e,{initialStyle:u(e,{paddingRight:parseInt(getComputedStyle(e).getPropertyValue("padding-right"),10)+n+"px",overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}),count:1})}}function m(e){var t=f(e);t&&(t.count--,0===t.count&&(u(e,t.initialStyle),(function(e){delete e[d]})(e)))}var v=(function(){var e=!1;if(!Object(a.a)())return!1;try{var t=function(){return null},n={get passive(){e=!0}};window.addEventListener("testPassive",t,n),window.removeEventListener("testPassive",t)}catch(e){}return e})()?{passive:!1}:void 0,g={count:0,lastX:0,lastY:0,scrollable:null,scrollX:0,scrollY:0};function y(e){if(1===e.changedTouches.length){if(g.scrollable=(function(e){for(;e&&!c(e);)e=e.parentElement;return e||document.documentElement})(e.target),l(g.scrollable))return;g.lastX=e.changedTouches[0].pageX,g.lastY=e.changedTouches[0].pageY}}function b(e){var t=g.scrollable,n=g.lastX,r=g.lastY;if(!(e.changedTouches.length>1))if(t&&!l(t)){var i=e.changedTouches[0].pageX,o=e.changedTouches[0].pageY,a=Math.abs(r-o)>Math.abs(n-i),s=t.scrollTop,u=t.scrollHeight-t.clientHeight,c=t.scrollLeft,d=t.scrollWidth-t.clientWidth;(a&&(s<=0&&o>r||s>=u&&o<r)||!a&&(c<=0&&i>n||c>=d&&i<n))&&e.preventDefault(),g.lastX=i,g.lastY=o}else e.preventDefault()}function _(){g.scrollable&&(g.scrollable=null)}function O(e){return e||document.body}function E(e){if(Object(a.a)()){var t=O(e);h(t),s()&&(function(e){l(e)&&(g.count++,1===g.count&&(g.scrollX=window.pageXOffset,g.scrollY=window.pageYOffset,document.addEventListener("touchstart",y,v),document.addEventListener("touchmove",b,v),document.addEventListener("touchend",_,v)))})(t)}}function w(e){if(Object(a.a)()){var t=O(e);m(t),s()&&(function(e){l(e)&&0!==g.count&&(g.count--,0===g.count&&(document.removeEventListener("touchstart",y),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",_),window.scrollTo(g.scrollX,g.scrollY)))})(t)}}function S(e){var t=e.enabled,n=e.containerRef,r=Object(i.useRef)(null),a=Object(i.useRef)(!1);Object(o.a)((function(){var e=n?n.current:null;r.current!==e&&(t&&a.current&&(w(r.current),E(e)),r.current=e)})),Object(o.a)((function(){if(t)return a.current=!0,E(r.current),function(){a.current=!1,w(r.current)}}),[t])}n.d(t,"a",(function(){return S}))}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(16),h=n(0),m=n.n(h),v=n(39),g=n(8),y=n.n(g),b=n(85),_=n(64),O=n(51),E=n(25),w=n.n(E),S=n(12);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var x=(function(e){u()(n,e);var t=C(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getViewBox",value:function(){switch(this.props.type){case"be":case"ka":case"az":case"hy":case"ro":return"0 0 640 480";default:return null}}},{key:"getContentSVG",value:function(){switch(this.props.type){case"en":return m.a.createElement("g",null,m.a.createElement("path",{d:"M0 2h16v12H0z",fill:"#003671"}),m.a.createElement("path",{fill:"#FFF",d:"M15.982 2.01h-1.945l-3.995 2.985V2H5.959v3.01l-4.01-2.998H.02v1.456l3.372 2.536H.02V10h3.372L.02 12.535v1.457h1.929l4.01-2.998v3.01h4.083v-2.995l3.995 2.985h1.945v-1.457l-3.388-2.535h3.388V6.006h-3.388l3.388-2.536z"}),m.a.createElement("g",{fill:"#DC2F34"},m.a.createElement("path",{d:"M15.418 13.99l-5.314-3.992h1.845l4.03 3.04v.952zM.582 13.99l5.314-3.992H4.051l-4.03 3.04v.952zM5.896 6L.557 2.005H.018v.954L4.07 6zM10.1 5.995L15.438 2h.54v.954l-4.052 3.041z"}),m.a.createElement("path",{d:"M15.982 6.958h-6.94V2.001H6.917v4.957H.018v2.126h6.899V14h2.125V9.084h6.94z"})));case"ru":return m.a.createElement("g",null,m.a.createElement("path",{fill:"#FFF",d:"M0 2h16v4H0z"}),m.a.createElement("path",{fill:"#E03A3E",d:"M0 10h16v4H0z"}),m.a.createElement("path",{fill:"#00539F",d:"M0 6h16v4H0z"}));case"tr":return m.a.createElement("g",null,m.a.createElement("path",{fill:"#E62126",d:"M0 2h16v12H0z"}),m.a.createElement("g",{fill:"#FFF"},m.a.createElement("path",{d:"M7.856 9.565a2.968 2.968 0 0 1-2.518 1.389 2.96 2.96 0 0 1-2.966-2.953 2.96 2.96 0 0 1 2.966-2.954 2.97 2.97 0 0 1 2.518 1.389 2.266 2.266 0 0 0-1.634-.693 2.263 2.263 0 0 0-2.268 2.258 2.263 2.263 0 0 0 2.268 2.258 2.262 2.262 0 0 0 1.634-.693"}),m.a.createElement("path",{d:"M7.583 7.92l1.353-1.353 1.352 1.352-1.353 1.353z"})));case"uk":return m.a.createElement("g",null,m.a.createElement("path",{fill:"#FFF200",d:"M0 8h16v6H0z"}),m.a.createElement("path",{fill:"#007CC3",d:"M0 2h16v6H0z"}));case"tt":return m.a.createElement("g",null,m.a.createElement("rect",{fill:"#008000",width:"16",height:"6",y:"1"}),m.a.createElement("rect",{fill:"#FFF",width:"16",height:"2",y:"7"}),m.a.createElement("rect",{fill:"#F00",width:"16",y:"9",height:"6"}));case"be":return m.a.createElement("g",null,m.a.createElement("defs",null,m.a.createElement("clipPath",{id:"by-flag"},m.a.createElement("path",{fillOpacity:".7",d:"M0 0h682.6v512H0z"}))),m.a.createElement("g",{fillRule:"evenodd",clipPath:"url(#by-flag)",transform:"scale(.9376 .9375)"},m.a.createElement("path",{fill:"#b20000",d:"M0 0h1024v340.1H0z"}),m.a.createElement("path",{fill:"#429f00",d:"M0 340.1h1024V512H0z"}),m.a.createElement("path",{fill:"#fff",d:"M0 0h113.4v512H0z"}),m.a.createElement("g",{fill:"#b20000",strokeWidth:"1pt"},m.a.createElement("path",{d:"M5.4 8.7h5.4v8.7H5.4zm16.2 0h16.2v8.7H21.6zM27 0h5.4v8.7H27zm27 0h5.4v8.7H54zm21.6 8.7h16.2v8.7H75.6zM81 0h5.4v8.7H81zM16.2 17.4H27V26H16.2zm16.2 0h10.8V26H32.4zm37.8 0H81V26H70.2zm16.2 0h10.8V26H86.4zM10.8 26h10.8v8.7H10.8zm27 0h10.8v8.7H37.8zm27 0h10.8v8.7H64.8zm27 0h10.8v8.7H91.8zm10.8-17.3h5.4v8.7h-5.4zm-97.2 26h10.8v8.7H5.4zm37.8 0H54v8.7H43.2zm54 0H108v8.7H97.2zm-86.4 26h10.8v8.7H10.8zm5.4 8.7H27v8.7H16.2zm21.6-8.6h10.8v8.6H37.8zm-5.4 8.6h10.8v8.7H32.4zm-10.8 8.7h16.2v8.7H21.6z"}),m.a.createElement("path",{d:"M27 86.8h5.4v8.7H27zm37.8-26h10.8v8.6H64.8zm5.4 8.6H81v8.7H70.2zm21.6-8.6h10.8v8.6H91.8zm-5.4 8.6h10.8v8.7H86.4zm-10.8 8.7h16.2v8.7H75.6zm5.4 8.7h5.4v8.7H81zM54 78h5.4v8.7H54zM0 78h5.4v8.7H0zm108 0h5.4v8.7H108zm-81 43.4h5.4v8.7H27zm-5.4 8.8h16.2v8.6H21.6zm-5.4 8.6h27v8.7h-27zM81 121.5h5.4v8.7H81zm-5.4 8.7h16.2v8.6H75.6zm-5.4 8.6h27v8.7h-27zm5.4 43.4h27v8.7h-27zm-10.8-34.7h37.8v8.7H64.8zm-54 0h37.8v8.7H10.8zm5.4 43.4h16.2v8.7H16.2zm-5.4-8.7h27v8.7h-27zM86.4 165h27v8.7h-27zM81 191h16.2v8.7H81z"}),m.a.createElement("path",{d:"M21.6 199.6H27v8.7h-5.4zm64.8 0h5.4v8.7h-5.4zM0 164.9h27v8.7H0zm48.6 17.3h16.2v8.7H48.6zM54 191h5.4v8.7H54zm-16.2-26h37.8v8.7H37.8zM59.4 34.7h10.8v8.7H59.4zm-10.8 8.7h16.2v8.7H48.6zm-5.4 8.7H54v8.6H43.2zm16.2 0h10.8v8.6H59.4zM0 43.4h10.8v8.7H0zm5.4 8.7h10.8v8.6H5.4zm97.2-8.7h10.8V52h-10.8zM97.2 52H108v8.6H97.2zM0 130h5.4v8.7H0zm108 0h5.4v8.7H108zm-59.4 69.5h16.2v8.7H48.6zm-5.4 8.7H54v8.6H43.2zm16.2 0h10.8v8.6H59.4zm-21.6 8.6h10.8v8.7H37.8zm27 0h10.8v8.7H64.8zm-32.4 8.7h10.8v8.7H32.4zm37.8 0H81v8.7H70.2zM27 234.3h10.8v8.7H27zm48.6 0h10.8v8.7H75.6zM16.2 243h16.2v8.7H16.2zm64.8 0h16.2v8.7H81zm10.8-8.7h10.8v8.7H91.8zm5.4-8.7H108v8.7H97.2zm5.4-8.7h10.8v8.7h-10.8zm-91.8 17.4h10.8v8.7H10.8zm-5.4-8.7h10.8v8.7H5.4zM0 217h10.8v8.7H0zm21.6 34.8H27v8.6h-5.4zm64.8 0h5.4v8.6h-5.4zm-32.4-26h5.4v8.6H54zm-16.2 26h5.4v8.6h-5.4zm32.4 0h5.4v8.6h-5.4zm-16.2 0h5.4v8.6H54zm-54 0h5.4v8.6H0zm108 0h5.4v8.6H108zM54 130.2h5.4v8.6H54zM27 43.4h5.4v8.7H27zm54 0h5.4v8.7H81zm-32.4 60.7h16.2v8.7H48.6zm-10.8 8.7H54v8.7H37.8zm5.4 8.7h5.4v8.7h-5.4zm-10.8-17.4h10.8v8.7H32.4zm5.4-8.6H54v8.6H37.8zm5.4-8.7h5.4v8.7h-5.4zm16.2 8.7h16.2v8.6H59.4zm5.4-8.7h5.4v8.7h-5.4zm5.4 17.3H81v8.7H70.2zm-10.8 8.7h16.2v8.7H59.4zm5.4 8.7h5.4v8.7h-5.4zm21.6-17.4h10.8v8.7H86.4zm5.4-8.6H108v8.6H91.8zm10.8 8.6h10.8v8.7h-10.8zm-10.8 8.7H108v8.7H91.8zm5.4 8.7h5.4v8.7h-5.4zm0-34.7h5.4v8.7h-5.4zM0 104h10.8v8.7H0zm5.4-8.6h16.2v8.6H5.4zm10.8 8.6H27v8.7H16.2zm-10.8 8.7h16.2v8.7H5.4z"}),m.a.createElement("path",{d:"M10.8 121.5h5.4v8.7h-5.4zm0-34.7h5.4v8.7h-5.4zm-5.4 69.4H27v8.7H5.4zm27 0H54v8.7H32.4zm27 0H81v8.7H59.4zm27 0H108v8.7H86.4zm-43.2 17.4h27v8.6h-27zm-37.8 0h27v8.6h-27zm75.6 0h27v8.6H81zm27 34.7h5.4v8.6H108zm-108 0h5.4v8.6H0zm5.4 295h5.4v-8.6H5.4zm16.2 0h16.2v-8.6H21.6zM27 512h5.4v-8.7H27zm27 0h5.4v-8.7H54zm21.6-8.7h16.2v-8.7H75.6zM81 512h5.4v-8.7H81zm-64.8-17.4H27V486H16.2zm16.2 0h10.8V486H32.4zm37.8 0H81V486H70.2zm16.2 0h10.8V486H86.4zM37.8 486h10.8v-8.7H37.8zm27 0h10.8v-8.7H64.8zm27 0h10.8v-8.7H91.8zm10.8 17.3h5.4v-8.7h-5.4zm-97.2-26h10.8v-8.7H5.4zm37.8 0H54v-8.7H43.2zm54 0H108v-8.7H97.2zm-86.4-26h10.8v-8.7H10.8zm5.4-8.7H27v-8.7H16.2zm21.6 8.7h10.8v-8.7H37.8zm-5.4-8.7h10.8v-8.7H32.4zm-10.8-8.7h16.2v-8.7H21.6zm5.4-8.7h5.4v-8.6H27zm37.8 26h10.8v-8.6H64.8zm5.4-8.6H81v-8.7H70.2zm21.6 8.7h10.8v-8.7H91.8zm-5.4-8.7h10.8v-8.7H86.4zm-10.8-8.7h16.2v-8.7H75.6zm5.4-8.7h5.4v-8.6H81zM54 434h5.4v-8.7H54zm-54 0h5.4v-8.7H0zm108 0h5.4v-8.7H108zm-81-43.4h5.4v-8.7H27zm-5.4-8.8h16.2v-8.6H21.6zm-5.4-8.6h27v-8.7h-27zM81 390.5h5.4v-8.7H81z"}),m.a.createElement("path",{d:"M75.6 381.8h16.2v-8.6H75.6zm-5.4-8.6h27v-8.7h-27zm5.4-43.4h27V321h-27zm-10.8 34.7h37.8v-8.7H64.8zm-54 0h37.8v-8.7H10.8zm5.4-43.4h16.2v-8.7H16.2zm-5.4 8.7h27V321h-27zM86.4 347h27v-8.7h-27zM81 321h16.2v-8.7H81zM0 347h27v-8.7H0zm48.6-17.3h16.2V321H48.6zM54 321h5.4v-8.7H54zm-16.2 26h37.8v-8.7H37.8zm21.6 130.2h10.8v-8.7H59.4zm-10.8-8.7h16.2V460H48.6zm-5.4-8.7H54v-8.7H43.2zm16.2 0h10.8v-8.7H59.4zM0 468.6h10.8V460H0zm5.4-8.7h10.8v-8.6H5.4zm97.2 8.7h10.8V460h-10.8zm-5.4-8.7H108v-8.6H97.2zM0 382h5.4v-8.7H0zm108 0h5.4v-8.7H108zm-64.8-78.2H54v-8.6H43.2zm16.2 0h10.8v-8.6H59.4zm-21.6-8.6h10.8v-8.7H37.8zm27 0h10.8v-8.7H64.8zm-32.4-8.7h10.8v-8.7H32.4zm37.8 0H81v-8.7H70.2zM27 277.7h10.8V269H27zm48.6 0h10.8V269H75.6zM16.2 269h16.2v-8.7H16.2zm64.8 0h16.2v-8.7H81zm10.8 8.7h10.8V269H91.8zm5.4 8.7H108v-8.7H97.2zm5.4 8.7h10.8v-8.7h-10.8zm-91.8-17.4h10.8V269H10.8zm-5.4 8.7h10.8v-8.7H5.4zM0 295h10.8v-8.7H0zm21.6-34.8H27v-8.6h-5.4zm32.4 26h5.4v-8.6H54zm0 95.5h5.4v-8.6H54zm-27 86.8h5.4V460H27zm54 0h5.4V460H81zM48.6 408h16.2v-8.7H48.6zm-10.8-8.7H54v-8.7H37.8zm5.4-8.7h5.4v-8.7h-5.4zM32.4 408h10.8v-8.7H32.4zm5.4 8.5H54V408H37.8zm5.4 8.7h5.4v-8.6h-5.4zm16.2-8.7h16.2V408H59.4zm5.4 8.7h5.4v-8.6h-5.4zm5.4-17.3H81v-8.7H70.2zm-10.8-8.7h16.2v-8.7H59.4zm5.4-8.7h5.4v-8.7h-5.4zM86.4 408h10.8v-8.7H86.4zm5.4 8.5H108V408H91.8zm10.8-8.6h10.8v-8.7h-10.8zm-10.8-8.7H108v-8.7H91.8zm5.4-8.7h5.4v-8.7h-5.4zm0 34.7h5.4v-8.6h-5.4zM0 408h10.8v-8.7H0zm5.4 8.5h16.2V408H5.4z"}),m.a.createElement("path",{d:"M16.2 407.9H27v-8.7H16.2zm-10.8-8.7h16.2v-8.7H5.4zm5.4-8.7h5.4v-8.7h-5.4zm0 34.7h5.4v-8.6h-5.4zm-5.4-69.4H27v-8.7H5.4zm27 0H54v-8.7H32.4zm27 0H81v-8.7H59.4zm27 0H108v-8.7H86.4zm-43.2-17.4h27v-8.6h-27zm-37.8 0h27v-8.6h-27zm75.6 0h27v-8.6H81zm27-34.6h5.4V295H108zm-108 0h5.4V295H0zm48.6-43.5H54v8.7h-5.4zm10.8 0h5.4v8.7h-5.4zm0-17.3h5.4v8.7h-5.4zm-10.8 0H54v8.7h-5.4zM10.8 477.3h10.8v8.7H10.8zm75.6-164.9h5.4v-8.7h-5.4zm-64.8 0H27v-8.7h-5.4zm27-8.7h16.2v8.7H48.6z"}))));case"ka":return m.a.createElement("g",null,m.a.createElement("path",{fill:"#fff",d:"M0 0h640v480H0z"}),m.a.createElement("path",{fill:"red",d:"M272 0h96v480h-96z"}),m.a.createElement("path",{fill:"red",d:"M0 192h640v96H0z"}),m.a.createElement("path",{fill:"red",fillRule:"evenodd",d:"M146.8 373.1c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.2c-16.9-1-31.2-4-31.2-4s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.2c16.9 1 31.2 4 31.2 4s-1-9.8-1-14.8c0-4.9 1-14.8 1-14.8s-14.3 3-31.1 4zm368-288c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.1c-16.9-1-31.2-3.9-31.2-3.9s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.1c16.9 1 31.2 4 31.2 4s-1-10-1-14.9 1-14.8 1-14.8-14.3 3-31.2 4zm-368 0c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.2c-16.9-1-31.2-4-31.2-4s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.2c16.9 1 31.2 4 31.2 4s-1-9.8-1-14.8c0-4.9 1-14.8 1-14.8s-14.3 3-31.1 4zm368 288c1-16.8 4-31.1 4-31.1s-9.8 1-14.8 1c-4.9 0-14.8-1-14.8-1s3 14.3 4 31.2c-16.9-1-31.2-4-31.2-4s1 7.4 1 14.8-1 14.8-1 14.8 14.3-3 31.2-4c-1 16.9-4 31.2-4 31.2s7.4-1 14.8-1 14.8 1 14.8 1-3-14.3-4-31.2c16.9 1 31.2 4 31.2 4s-1-9.8-1-14.8c0-4.9 1-14.8 1-14.8s-14.3 3-31.2 4z"}));case"az":return m.a.createElement("g",null,m.a.createElement("path",{fill:"#3f9c35",d:"M.1 0h640v480H.1z"}),m.a.createElement("path",{fill:"#ed2939",d:"M.1 0h640v320H.1z"}),m.a.createElement("path",{fill:"#00b9e4",d:"M.1 0h640v160H.1z"}),m.a.createElement("circle",{cx:"304",cy:"240",r:"72",fill:"#fff"}),m.a.createElement("circle",{cx:"320",cy:"240",r:"60",fill:"#ed2939"}),m.a.createElement("path",{fill:"#fff",d:"M384 200l7.7 21.5 20.6-9.8-9.8 20.7L424 240l-21.5 7.7 9.8 20.6-20.6-9.8L384 280l-7.7-21.5-20.6 9.8 9.8-20.6L344 240l21.5-7.7-9.8-20.6 20.6 9.8L384 200z"}));case"uz":return m.a.createElement(m.a.Fragment,null,m.a.createElement("g",{clipPath:"url(#flag_uz)"},m.a.createElement("path",{fill:"#fff",d:"M0 2h16v12H0V2Z"}),m.a.createElement("path",{fill:"#0099B5",d:"M0 2h16v4H0V2Z"}),m.a.createElement("path",{fill:"#1EB53A",d:"M0 10h16v4H0v-4Z"}),m.a.createElement("path",{fill:"#fff",d:"M0 6h16v4H0V6Z"}),m.a.createElement("path",{fill:"#CE1126",d:"M0 5.75h16v.5H0v-.5Zm0 4h16v.5H0v-.5Z"}),m.a.createElement("path",{fill:"#fff",d:"M2.875 5.353a1.503 1.503 0 0 1-1.722-2.114 1.5 1.5 0 0 1 1.722-.792 1.5 1.5 0 0 0 0 2.906Z"})),m.a.createElement("defs",null,m.a.createElement("clipPath",{id:"flag_uz"},m.a.createElement("path",{fill:"#fff",d:"M0 2h16v12H0z"}))));case"hy":return m.a.createElement("g",null,m.a.createElement("path",{fill:"red",d:"M0 0h640v160H0z"}),m.a.createElement("path",{fill:"#00f",d:"M0 160h640v160H0z"}),m.a.createElement("path",{fill:"orange",d:"M0 320h640v160H0z"}));case"ro":return m.a.createElement("g",{fillRule:"evenodd",strokeWidth:"1pt"},m.a.createElement("path",{fill:"#00319c",d:"M0 0h213.3v480H0z"}),m.a.createElement("path",{fill:"#ffde00",d:"M213.3 0h213.4v480H213.3z"}),m.a.createElement("path",{fill:"#de2110",d:"M426.7 0H640v480H426.7z"}));case"kk":return m.a.createElement(m.a.Fragment,null,m.a.createElement("g",{clipPath:"url(#flag_kz)"},m.a.createElement("path",{fill:"#03D5E0",d:"M0 2h16v12H0V2Z"}),m.a.createElement("path",{fill:"#FFF000",d:"M2 3h1v1H2V3Zm0 2h1v1H2V5ZM1 4h1v1H1V4Zm0 2h1v1H1V6Zm1 1h1v1H2V7ZM1 8h1v1H1V8Zm1 1h1v1H2V9Zm-1 1h1v1H1v-1Zm1 1h1v1H2v-1Zm-1 1h1v1H1v-1Z"}),m.a.createElement("path",{fill:"#FF0",d:"M8.5 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"}),m.a.createElement("path",{fill:"#FF0",d:"M4.45 6.95h1a3 3 0 0 0 6 0h1a4 4 0 0 1-8 0Z"})),m.a.createElement("defs",null,m.a.createElement("clipPath",{id:"flag_kz"},m.a.createElement("path",{fill:"#fff",d:"M0 2h16v12H0z"}))));default:return null}}}]),n})(S.default);x.propTypes=Object.assign({type:w.a.oneOf(["en","ru","tr","uk","be","ka","az","uz","hy","ro","kk","tt"])},S.default.propTypes);var T=x,P=n(11),k=n.n(P);n(1931);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var R=function(){return k()()("lang-select")},I=(function(e){u()(n,e);var t=j(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={popupVisible:!1},r._togglePopup=r._togglePopup.bind(y()(r)),r._closePopup=r._closePopup.bind(y()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(y()(r)),r._toggler=m.a.createRef(),r}return a()(n,[{key:"_togglePopup",value:function(){this.state.popupVisible||this.props.onOpen(),this.setState({popupVisible:!this.state.popupVisible})}},{key:"_closePopup",value:function(){this.setState({popupVisible:!1})}},{key:"_getTuneLink",value:function(e){var t=this.props,n=t.yandexLink,r=t.sk,i=t.retpath;return"".concat(n,"/portal/set/lang/?intl=").concat(e,"&sk=").concat(r,"&retpath=").concat(encodeURIComponent(i))}},{key:"_onMenuItemClick",value:function(e){var t=e.target.value;this.props.onLangClick&&this.props.onLangClick.bind(t)}},{key:"_getItems",value:function(){var e=this;return this.props.langs.filter((function(t){return e.props.current!==t})).map((function(t){return m.a.createElement(_.Item,{key:t,value:t,url:e._getTuneLink(t),icon:function(e){return m.a.createElement(T,{type:t,cls:e})}},t.toUpperCase())}))}},{key:"render",value:function(){var e=this,t=this._getItems();return m.a.createElement("span",{className:R().mix(this.props.cls)},m.a.createElement(O.Link,{disabled:!t.length||this.props.disabled,innerRef:this._toggler,onClick:this._togglePopup,pseudo:!0,theme:"ghost",role:"button",tabIndex:0,iconLeft:function(t){return m.a.createElement(T,{cls:t,type:e.props.current})}},m.a.createElement("span",{className:R().e("text")},this.props.current.toUpperCase())),m.a.createElement(b.Popup,{anchor:this._toggler,direction:["top","top-start"],onClose:this._closePopup,target:"anchor",view:"default",visible:this.state.popupVisible},m.a.createElement(_.Menu,{className:R().e("menu"),size:"s",view:"default",wide:!0,onChange:this._onMenuItemClick,type:"navigation"},t)))}}]),n})(h.Component);I.defaultProps={onOpen:function(){}};var A=I,D=(n(1932),function(){return k()()("footer")}),M=function(e){return m.a.createElement("footer",{className:D().mix(e.cls)},m.a.createElement("div",{className:D().e("left")},e.links.map((function(e,t){return m.a.createElement(O.Link,{key:t,className:D().e("link").mix(e.clsMix),href:e.url,target:"_blank",theme:"ghost",onClick:e.onClick},e.text)}))),m.a.createElement("div",{className:D().e("right")},m.a.createElement("span",{className:D().e("copyright")},e.copyright),e.noLangSelect?null:m.a.createElement(A,{cls:D().e("language-switcher"),langs:e.langs,current:e.currentLang,sk:e.sk,yandexLink:e.yandexLink,retpath:e.retpath,onOpen:e.onLangSelectOpen,onLangClick:e.onLangClick,disabled:e.languageSwitcherDisabled})))};function N(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var L=(function(e){u()(n,e);var t=N(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getHelpLinks",value:function(){var e=this.props,t=e.isWS,n=e.links,r=e.isYandexStaff,i=n.help.disk,o=[{text:"Справка и поддержка",url:t&&!r?n.help.connect:i}];return r&&o.push({text:"Обратная связь",url:n.feedback.disk4Yandex}),o}},{key:"_getLinks",value:function(){var e=this.props,t=e.isWS,n=e.links,r=e.tld,i=e.countryTld,o=this._getHelpLinks();return"ru"===r&&o.push({text:"Блог",url:n.blog}),o.push({text:"Разработчикам",url:n.api}),"ru"!==i||t||o.push({text:"Вакансии",url:n.vacancies}),o.push({text:"Условия использования",url:t?n.connectTermsOfUse:n.termsOfUse}),"ru"===r&&o.push({text:"Правила рекомендаций",url:n.recommendationRules}),"ru"===r&&o.push({text:"Участие в исследованиях",url:n.usabilityReseach}),o}},{key:"_getDocsLinks",value:function(){var e=this.props.links;return[{text:"Справка и поддержка",url:e.docs.help},{text:"Условия использования",url:e.docs.termsOfUse},{text:"Участие в исследованиях",url:e.usabilityReseach}]}},{key:"_getCopyright",value:function(){return m.a.createElement("span",null,"© 2012—",this.props.year,"  «",m.a.createElement(O.Link,{target:"_blank",theme:"ghost",className:"footer__link",href:this.props.urlsBase.morda},"Яндекс"),"»")}},{key:"render",value:function(){return m.a.createElement(M,{cls:this.props.className,links:this.props.isDocsPage?this._getDocsLinks():this._getLinks(),copyright:this._getCopyright(),langs:this.props.langs,currentLang:this.props.locale,sk:this.props.skExternal,yandexLink:this.props.urlsBase.www,retpath:this.props.currentUrl})}}]),n})(h.Component);t.default=Object(p.connect)((function(e){var t=e.page.currentUrl,n=e.user,r=n.isWS,i=n.isYandexStaff,o=e.config,a=o.links,s=o.languagesAvailable,u=o.urlsBase,c=o.skExternal,l=e.environment.session,d=l.tld,f=l.locale,p=l.serverTime,h=l.region.country_tld;return{currentUrl:t,isWS:r,isYandexStaff:i,links:a,urlsBase:u,tld:d,locale:f,langs:s,skExternal:c,isDocsPage:Object(v.isDocsPage)(e),countryTld:h,year:new Date(p).getFullYear()}}))(L)}),(function(e,t,n){"use strict";n.r(t);var r=n(22),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=(n(2005),n(16)),y=n(0),b=n.n(y),_=n(33),O=n.n(_),E=n(284),w=n(147),S=n(85),C=n(26),x=n(191),T=n(45),P=n(11),k=n.n(P);n(2006);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var R=function(){return k()()("resources-info-dropdown")},I=(function(e){f()(n,e);var t=j(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onTogglePopup=r._onTogglePopup.bind(l()(r)),r._popupAnchor=b.a.createRef(),r._containerRef=b.a.createRef(),r}return u()(n,[{key:"_onTogglePopup",value:function(){this.props.visible?this.props.onClose():this.props.onOpen()}},{key:"_getButton",value:function(){return b.a.createElement(C.Button,{innerRef:this._popupAnchor,onClick:this._onTogglePopup,view:"clear-inverse","aria-label":this.props.buttonName,size:"m",icon:function(e){return b.a.createElement(E.a,{cls:R().e("icon").mix(e)})}})}},{key:"_getButtonWithTooltip",value:function(){return b.a.createElement("div",{className:R().e("icon-wrap")},b.a.createElement(x.default,{text:this.props.buttonName,direction:["bottom","right"],disabled:this.props.isMobile||!this.props.buttonName||this.props.visible},this._getButton()))}},{key:"render",value:function(){return b.a.createElement("div",{className:R(),ref:this._containerRef},this.props.name&&this._getButtonWithTooltip()||this._getButton(),this.props.isMobile?b.a.createElement(w.Drawer,{className:T.LISTING_PREVENT_DESELECT_CLASS,onClose:this.props.onClose,view:"default",visible:this.props.visible},this.props.children):b.a.createElement(S.Popup,{view:"default",className:T.LISTING_PREVENT_DESELECT_CLASS,visible:this.props.visible,target:"anchor",anchor:this._popupAnchor,onClose:this.props.onClose,direction:this.props.direction,scope:this._containerRef},b.a.createElement("div",{className:R().e("popup")},this.props.children)),this.props.name&&b.a.createElement("div",{className:R().e("text-wrap")},b.a.createElement(x.default,{text:this.props.fullName,direction:["bottom","right"],disabled:this.props.isMobile},b.a.createElement("span",{className:R().e("name")},this.props.name))))}}]),n})(y.PureComponent),A=(function(e){f()(n,e);var t=j(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={visible:!1},r._onOpen=r._onOpen.bind(l()(r)),r._onClose=r._onClose.bind(l()(r)),r.maybeClose=r.maybeClose.bind(l()(r)),r}return u()(n,[{key:"_onOpen",value:function(){this.setState({visible:!0}),this.props.onOpen()}},{key:"_onClose",value:function(){this.setState({visible:!1}),this.props.onClose()}},{key:"maybeClose",value:function(){this.state.visible&&this._onClose()}},{key:"render",value:function(){return b.a.createElement(I,O()({},this.props,{visible:this.state.visible,onOpen:this._onOpen,onClose:this._onClose}))}}]),n})(y.PureComponent);I.Content=A.Content=function(e){var t=e.cls,n=e.content,r=(Array.isArray(n)?n:[n]).filter(Boolean).map((function(e,t){return b.a.createElement("div",{key:t,className:R().e("row")},e)}));return b.a.createElement("div",{className:R().e("content").mix(t)},r)},I.Footer=A.Footer=function(e){var t=e.cls,n=e.children;return b.a.createElement("div",{className:R().e("footer").mix(t)},n)},A.defaultProps={name:"",onClose:function(){},onOpen:function(){}};var D=n(285),M=n(503),N=n(74),L=n(51),F=n(1083);n(2007);function B(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var U=function(){return k()()("shared-folder-participants")},z=(function(e){f()(n,e);var t=B(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props.gid;this.props.fetchSharedFolderUsers(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.gid===e.gid&&this.props.resourceId===e.resourceId||this.props.fetchSharedFolderUsers(e.gid)}},{key:"_getUsers",value:function(){var e=this.props.users.map((function(e){return b.a.createElement("div",{className:U().e("user"),key:e.email},b.a.createElement(L.Link,{view:"default",href:"mailto:".concat(e.email),title:"Написать письмо"},e.displayName||e.email))}));return b.a.createElement("div",{className:U().e("users")},e)}},{key:"render",value:function(){return b.a.createElement("div",{className:U()},b.a.createElement("div",{className:U().e("title")},"Участники:"),this.props.isLoading?b.a.createElement(N.Spin,{view:"default",progress:!0,size:"xs"}):this._getUsers())}}]),n})(y.Component),V={fetchSharedFolderUsers:F.a},H=Object(g.connect)((function(e,t){var n=e.sharedFoldersUsers[t.gid]||{};return{isLoading:n.isLoading,users:n.users||[]}}),V)(z),W=n(115),$=n(14),G=n(111),q=n.n(G),Y=n(262),K=n.n(Y),J=n(35),Z=n(30),X=n(15);function Q(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}n.d(t,"UfoResourceInfoDropdown",(function(){return ne}));var ee=function(){return k()()("ufo-resource-info-dropdown")},te=n(23),ne=(function(e){f()(n,e);var t=Q(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={visible:!1},r._onOpen=r._onOpen.bind(l()(r)),r._onClose=r._onClose.bind(l()(r)),r._onGoToLinkClick=r._onGoToLinkClick.bind(l()(r)),r._onOriginalParentNameClick=r._onOriginalParentNameClick.bind(l()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){this._toggleDropdownForVirusOrBlocked({}),this.props.createRef&&this.props.createRef(this)}},{key:"componentDidUpdate",value:function(e){this._toggleDropdownForVirusOrBlocked(e)}},{key:"closeDropdown",value:function(){this.state.visible&&this.setState({visible:!1})}},{key:"_toggleDropdownForVirusOrBlocked",value:function(e){var t=this,n=this.props.resource,r=e.resource||{};if(n&&n.id!==r.id){this._showTimerId&&clearTimeout(this._showTimerId);var i=2===n.meta.drweb||n.meta.blocked;!this.state.visible&&i?this._showTimerId=setTimeout((function(){t.setState({visible:!0})}),300):this.state.visible&&!i&&this.setState({visible:!1})}}},{key:"_onOpen",value:function(){this.props.onVisible&&this.props.onVisible(),this.setState({visible:!0});var e=["interface elements"].concat(i()(this.props.metrikaContext));"/recent"===this.props.idContext&&e.push("recent files"),$.default.count.apply($.default,i()(e).concat(["show info"],i()(this.props.metrikaTail)))}},{key:"_onClose",value:function(){this.setState({visible:!1})}},{key:"_getSharedFolderInfo",value:function(){var e,t=this.props.savedResource,n=t.meta.group;return e=n.is_owned?"Я владелец":b.a.createElement("div",{className:ee().e("owner-info")},"".concat("Владелец","  — "),b.a.createElement(L.Link,{view:"default",href:"mailto:".concat(n.owner.email),title:"Написать письмо"},n.owner.username)),b.a.createElement("div",{className:ee().e("shared-folder-info")},e,!n.is_owned&&n.readonly?"Папка доступна только на просмотр.":null,b.a.createElement(H,{resourceId:t.id,gid:n.gid}))}},{key:"_getVirusInfo",value:function(){return b.a.createElement("div",{className:ee().e("warning")},"Файл заражён вирусом.")}},{key:"_getBlockedInfo",value:function(){return b.a.createElement("div",{className:ee().e("warning")},"Файл заблокирован за нарушение условий размещения пользовательского контента на сервисах Яндекса."," ",b.a.createElement(L.Link,{view:"default",href:this.props.blockedInfoLink,target:"_blank"},"Подробности"))}},{key:"_getNDAInfo",value:function(){return b.a.createElement(b.a.Fragment,null,"Рабочая папка для сотрудников Яндекса. Публичные ссылки доступны только из внутренней сети.",b.a.createElement("br",null),b.a.createElement(L.Link,{view:"default",href:this.props.yateamNDALink},"Подробнее читайте на Вики"))}},{key:"_onOriginalParentNameClick",value:function(){this.setState({visible:!1})}},{key:"_getOriginalParentName",value:function(){var e=this.props.originalParent;return b.a.createElement("div",{className:ee().e("original-parent-name-wrapper")},"Удален из папки ",b.a.createElement(L.Link,{href:te.getFolderUrl(e.id),view:"default",onClick:this._onOriginalParentNameClick,className:ee().e("original-parent-name")},te.filename(e.name)))}},{key:"_getContentRow",value:function(e){var t=e.title,n=e.value,r=e.cls;return b.a.createElement("div",{className:r},b.a.createElement("span",{className:ee().e("title")},t),b.a.createElement("span",{className:ee().e("value")},n))}},{key:"_getContent",value:function(){var e=[],t=this.props.savedResource;return e.push(b.a.createElement("span",{className:ee().e("header")},"dir"===this.props.savedResource.type?"Информация о папке":"Информация о файле")),e.push(this._getContentRow({cls:ee().e("name"),title:"".concat("Имя",": "),value:t.name})),isFinite(t.meta.size)&&e.push(this._getContentRow({cls:ee().e("size"),title:"Размер: ",value:q.a.format(t.meta.size)})),isFinite(t.meta.files_count)&&e.push(this._getContentRow({title:"Количество файлов: ",value:t.meta.files_count})),t.mtime&&e.push(this._getContentRow({title:"Изменён: ",value:K.a.timestampToDate(t.mtime,"DD.MM.YYYY HH:mm")})),J.default.isYateamNDA(t.id,this.props.defaultFolders)&&e.push(this._getNDAInfo()),2===t.meta.drweb&&e.push(this._getVirusInfo()),t.meta.blocked&&e.push(this._getBlockedInfo()),this.props.originalParent&&e.push(this._getOriginalParentName()),t.meta.group&&t.meta.group.is_root&&e.push(this._getSharedFolderInfo()),t.meta.public&&(e.push(this._getContentRow({cls:ee().e("views"),title:"Просмотров: ",value:t.meta.views_counter||0})),e.push(this._getContentRow({cls:ee().e("downloads"),title:"Скачиваний: ",value:t.meta.download_counter||0}))),e}},{key:"_onGoToLinkClick",value:function(){this.props.goToResource(this.props.resource.id),this.setState({visible:!1})}},{key:"_getFooter",value:function(){var e,t=this.props,n=t.canGoToFile,r=t.canGoToFolder;if(n)e=Object(Z.getTitle)(Z.GO_TO_FILE);else{if(!r)return null;e=Object(Z.getTitle)(Z.GO_TO_FOLDER)}return b.a.createElement(I.Footer,null,b.a.createElement(L.Link,{className:ee().e("go-to-link").m({"mobile-pane":this.props.isMobile}),view:"default",onClick:this._onGoToLinkClick,pseudo:!0},e))}},{key:"render",value:function(){return b.a.createElement(I,{theme:this.props.theme,name:this.props.iconOnly?null:b.a.createElement(D.default,{text:this.props.savedResource.name,font:'18px "YS Text"',width:183}),fullName:this.props.savedResource.name,buttonName:"Информация",visible:this.state.visible,onOpen:this._onOpen,onClose:this._onClose,isIosSafari:this.props.isIosSafari,isMobile:this.props.isMobile,direction:["bottom-start","bottom","bottom-end"]},b.a.createElement(I.Content,{cls:ee().m({"mobile-pane":this.props.isMobile}),content:this._getContent()}),this._getFooter())}}]),n})(y.Component);ne.defaultProps={metrikaTail:[]};var re=Object(M.default)(ne,"resource",(function(e){return e.resource})),ie={goToResource:X.goToResource};t.default=Object(g.connect)((function(e,t){var n,r=t.resource,i=e.page.idContext,o=e.resources,a=e.config.links,s=a.termsOfUse,u=a.help.yateamnda,c=e.environment.agent.isMobile,l=e.defaultFolders.folders,d=e.space;if(r&&r.isInTrash){var f=te.normalize(r.meta.original_parent_id),p=o[f="/lnarod"===f?"/narod":f];p&&!p.name||(n={id:f,name:p?p.name:te.filename(f)})}return{idContext:i,resource:r,originalParent:n,blockedInfoLink:s,yateamNDALink:u,isIosSafari:Object(W.isIosSafariSelector)(e),isMobile:c,defaultFolders:l,space:d,canGoToFile:Object(Z.can)(Z.GO_TO_FILE,r,e),canGoToFolder:Object(Z.can)(Z.GO_TO_FOLDER,r,e)}}),ie)(re)}),(function(e,t,n){"use strict";var r=n(1);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];try{for(var a=Object(r.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;"function"==typeof u&&u.apply(void 0,Object(r.__spreadArray)([],Object(r.__read)(i)))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}}function o(e){return"function"==typeof e}function a(){for(var e,t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var s={};try{for(var u=Object(r.__values)(n),c=u.next();!c.done;c=u.next()){var l=c.value;for(var d in s)if(/^on[A-Z]/.test(d)&&o(l[d])&&o(s[d]))s[d]=i(s[d],l[d]);else if("aria-labelledby"===d&&l[d]&&s[d]){var f=s[d].split(" ");f.includes(l[d])||f.push(l[d]),s[d]=f.join(" ")}else s[d]=void 0!==l[d]?l[d]:s[d];for(var d in l)void 0===s[d]&&(s[d]=l[d])}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return s}n.d(t,"a",(function(){return a}))}),(function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(1360);function a(e,t){var n=Object(i.useRef)(function(e){var t={state:e,setState:function(e){t.state=e,t.setters.forEach((function(e){return e(t.state)}))},setters:[]};return function(){var e=Object(r.__read)(Object(i.useState)(t.state),2),n=e[0],a=e[1];return Object(i.useEffect)((function(){return function(){t.setters=t.setters.filter((function(e){return e!==a}))}}),[]),Object(o.a)((function(){-1===t.setters.indexOf(a)&&t.setters.push(a)})),[n,t.setState]}}([e,t])).current,a=Object(r.__read)(n(),2)[1],s=Object(i.useRef)((function(e){var t=Object(r.__read)(n(),1)[0],o=Object(r.__read)(t||[],2),a=o[0],s=o[1];return void 0===t||void 0===s?Object(i.createElement)(a,e):s(e,a)})).current;return Object(i.useEffect)((function(){a([e,t])}),[a,e,t]),s}n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var s=function(e){return(0,e.children)(a(e.component,e.render))};s.displayName="RenderOverrideProvider";var u=function(e){var t=e.children,n=e.components.map((function(e){var t=Object(r.__read)(e,2);return a(t[0],t[1])}));return t.apply(void 0,Object(r.__spread)(n))};u.displayName="MultiRenderOverrideProvider"}),(function(e,t,n){"use strict";var r=n(1),i=n(0),o=function(e,t){var n=Object(i.useRef)(!0),r=Object(i.useRef)(e);r.current=e,Object(i.useEffect)((function(){if(!n.current)return r.current();n.current=!1}),t)};function a(e){var t=e.hint,n=Object(r.__read)(Object(i.useState)(t),2),a=n[0],s=n[1],u=Object(r.__read)(Object(i.useState)(!1),2),c=u[0],l=u[1],d=Object(i.useRef)(t);return o((function(){t&&s(t),l(Boolean(d.current&&!t)),d.current=t}),[t]),{hint:a,hintProps:{leave:c,onAnimationEnd:Object(i.useCallback)((function(){t||(s(""),l(!1))}),[t])}}}n.d(t,"a",(function(){return a}))}),(function(e,t,n){"use strict";(function(e,r){var i,o=n(1140);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n(110),n(1323)(e))}),(function(e,t,n){var r=n(63),i=e.exports={parseUrl:function(e){e=r.mergeSlashes(e);var t,i,o,a,s=n(620).parse(e,!0),u=(s.pathname||"").split("/").filter(Boolean).map((function(e){try{e=decodeURIComponent(e)}catch(e){}return e})),c=u.shift();if(-1!==["d","i"].indexOf(c||"")){if(t=u.shift(),u.length)i="/"+u.join("/");else{var l=/^(.+)_(x{0,3}[sl]|m)\.(?:jpg|jpeg|png|gif)$/i.exec(t||"");l&&(t=l[1],a=l[2].toUpperCase())}if(/[^0-9A-Za-z_-]/.test(t||""))return}else if(-1!==["public","mail"].indexOf(c||"")){u.length&&(c=[c].concat(u).join("/"));var d=s.query.hash.split(":");o=d.shift(),(u=d.join(":").split("/").filter(Boolean)).length&&(i="/"+u.join("/"))}return"a"!==c&&"client"!==c||("albums"===u[0]&&(c+="/"+u.shift()),u.length>1?(i=u.pop(),t=u.pop()):t=u.pop()),{prefix:c,hashShort:t,hashLong:o,pathResource:i,sizeImage:a}},parseId:function(e){var t=e.indexOf(":"),n=(/^\/(\w+)\//.exec(e)||[""])[0].length,r={};return r.hashLong=e.slice(n),t>-1&&(r.hashLong=e.slice(n,t),r.pathResource=e.slice(t+1)),r.hashLong=i.decodeHash(r.hashLong),r},formatIdRoot:function(e){return"/"+o(e.prefix)+"/"+i.encodeHash(e.hashLong)},formatIdContext:function(e){return i.formatIdRoot(e)+(e.pathResource?":"+e.pathResource:"")},formatIdResource:function(e){return i.formatIdRoot(e)+":"+e.pathResource},formatPrivateHash:function(e){var t=i.parseId(e);return t.hashLong+(t.pathResource?":"+t.pathResource:"")},formatUrl:function(e){var t=!e.hashShort,n=e.hashShort||e.hashLong,r=o(e.prefix);return"public"===r&&(e.pathResource&&(t&&(n+=":"),n+=e.pathResource),n=t?"?hash="+encodeURIComponent(n):n.split("/").map(encodeURIComponent).join("/")),"album"===r&&e.pathResource&&(n+="/"+e.pathResource),"/"+e.prefix+"/"+n},encodeHash:function(e){return e.replace(/\//g,"_").replace(/\+/g,"-")},decodeHash:function(e){return e.replace(/_/g,"/").replace(/-/g,"+")}};function o(e){return-1!==["d","i","public","public/nda","mail"].indexOf(e)?"public":"a"===e||"client/albums"===e?"album":void 0}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_DIR_SIZE_FOR_DOWNLOAD_DEFAULT=53687091200;t.canDownloadFolder=(({ua:{BrowserName:e,OSFamily:n},resourceStats:{size:r,filesCount:i},forceDefaults:o=!1})=>{const a=o||"Firefox"===e||!["Windows","MacOS"].includes(n);return r>=(a?t.MAX_DIR_SIZE_FOR_DOWNLOAD_DEFAULT:5368709120)||i>=(a?1e4:500)})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(11)),s=i(n(1186)),u=n(74),c=n(949);n(2014);const l=()=>a.default()("selection-info");t.default=(({onCheckboxChange:e,withSpin:t=!1,text:n})=>{const{visible:r,onClose:i}=o.useContext(c.ResourcesActionBarContext),a=o.useCallback(()=>{e?e():r&&i()},[r,i,e]);return o.default.createElement("div",{className:l()},t?o.default.createElement(u.Spin,{view:"default",className:l().e("spin"),size:"xs",progress:!0}):o.default.createElement(s.default,{cls:l().e("checkbox"),checked:r,onChange:a}),o.default.createElement("div",{className:l().e("text")},n))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2338);t.FamilyFolderCreationDialog=r.default;var i=n(2344);t.FamilyAlbumAccessDialog=i.default}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n.n(r),o=n(22),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(2),y=n.n(g),b=n(0),_=n.n(b),O=n(16),E=n(130),w=n(365),S=n(14);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(function(n){h()(o,n);var r=C(o);function o(e,t){var n;return u()(this,o),(n=r.call(this,e,t)).state={position:null},n._onContextMenu=n._onContextMenu.bind(f()(n)),n._closeContextMenu=n._closeContextMenu.bind(f()(n)),n._onClose=n._onClose.bind(f()(n)),n}return l()(o,[{key:"componentDidMount",value:function(){t.closeOnScrollElementSelector&&(this._scrollingElement=document.querySelector(t.closeOnScrollElementSelector),this._scrollingElement&&this._scrollingElement.addEventListener("scroll",this._closeContextMenu)),t.closeOnWindowResize&&window.addEventListener("resize",this._closeContextMenu),t.closeOnWindowScroll&&window.addEventListener("scroll",this._closeContextMenu)}},{key:"componentWillUnmount",value:function(){this._scrollingElement&&this._scrollingElement.removeEventListener("scroll",this._closeContextMenu),t.closeOnWindowResize&&window.removeEventListener("resize",this._closeContextMenu),t.closeOnWindowScroll&&window.removeEventListener("scroll",this._closeContextMenu)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.resources&&this._contextMenuIds&&this.props.resources.length!==e.resources.length){var t=e.resources.reduce((function(e,t){return e[t.id]=1,e}),{});this._contextMenuIds.some((function(e){return!t[e]}))&&this._onClose()}}},{key:"_onContextMenu",value:function(e,t,n){t&&t.target&&t.target.dispatchEvent(new Event("click",{bubbles:!1})),this._contextMenuIds=e;var r={x:t.pageX,y:t.pageY};n&&(this.props.setSelection([]),this.props.setHighlighted(n)),this.setState({position:r}),S.default.count.apply(S.default,a()(this._getContextMenuMetrikaPath(e)).concat(["show"],a()(this.props.metrikaTail)))}},{key:"_onClose",value:function(){this.setState({position:null}),this.props.setHighlighted([])}},{key:"_closeContextMenu",value:function(){this.state.position&&(this._onClose(),this.props.closeContextMenu&&this.props.closeContextMenu())}},{key:"_getContextMenuMetrikaPath",value:function(e){var t=["context menu"];if(e&&1===e.length){var n=this.props.resourcesByIds[e[0]];t.push("dir"===(n||{}).type?"folder":"file")}else e&&e.length>1&&t.push("group");return t}},{key:"_getSelectedResources",value:function(){var e=this,t=this.props,n=t.selected,r=t.highlighted,i=r&&r.length?r:n;return i&&i.map((function(t){return e.props.resourcesByIds[t]})).filter(E.isSelectableResource)}},{key:"render",value:function(){return _.a.createElement(_.a.Fragment,null,_.a.createElement(e,i()({},this.props,{onContextMenu:this._onContextMenu,closeContextMenu:this._closeContextMenu})),_.a.createElement(w.default,{visible:Boolean(this.state.position),position:this.state.position,onClose:this._onClose,metrikaPath:this._getContextMenuMetrikaPath(),metrikaTail:this.props.metrikaTail,isAndroid:!1,resources:this._getSelectedResources(),direction:t.direction}))}}]),o})(b.PureComponent);return Object(O.connect)((function(e){return{resourcesByIds:e.resources}}))(n)}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(2073)),a={tile:"Крупная плитка",icons:"Плитка",list:"Список",wow:"Умная плитка"};t.default=(e=>i.default.createElement(o.default,Object.assign({typesNames:a,title:"Вид"},e)))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g}));var r,i=[],o=!1,a=0,s=0,u=0,c=Date.now(),l=0,d=function(e){s=o?u:window.pageYOffset,o&&window.scrollTo(0,u);var t=Date.now();a=(s-l)/(t-c),l=s,c=t,i.forEach((function(t){t(Object.assign({scrollTop:s,scrollSpeed:a,isManual:o},e))})),o=!1},f=function(e){d(e),r=requestAnimationFrame((function(){d(Object.assign({isLast:!0},e))}))},p=function(e){cancelAnimationFrame(r),e.throttle?r=requestAnimationFrame((function(){f(e)})):f(e)},h=function(){o||p({throttle:!0})},m=function(e){i.length||window.addEventListener("scroll",h),i.includes(e)||i.push(e)},v=function(e){(i=i.filter((function(t){return t!==e}))).length||window.removeEventListener("scroll",h)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o=!0,u=e,p(t)}}),(function(e,t,n){"use strict";var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(10),v=n.n(m),g=n(16),y=n(0),b=n.n(y),_=n(189),O=n(26),E=n(45),w=n(64),S=n(33),C=n.n(S),x=n(85),T=n(147),P=(n(2061),n(11)),k=n.n(P);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var R=function(){return k()()("popup-with-transitions")},I=function(e){return b.a.createElement("div",{className:R().e("pane").m({active:e.active}),ref:e.setRef},e.children)},A=(function(e){l()(n,e);var t=j(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={wrapperSize:{width:"auto",height:"auto"}},r._panesRefs={},r._setPaneRef=r._setPaneRef.bind(u()(r)),r}return a()(n,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.visible&&e.activePane!==this.props.activePane&&this._changeActivePane(this.props.activePane,e.activePane),!this.props.visible&&e.visible&&(this._hideTimeout=setTimeout((function(){t.props.onChangeActivePane(t._firstPaneId),t.setState({wrapperSize:{width:"auto",height:"auto"}})}),200))}},{key:"componentWillUnmount",value:function(){this._hideTimeout&&clearTimeout(this._hideTimeout)}},{key:"updateSize",value:function(){this._changeActivePane(this.props.activePane,this.props.activePane)}},{key:"_setPaneRef",value:function(e,t){this._panesRefs[e]=t}},{key:"_changeActivePane",value:function(e,t){var n=this,r=this._panesRefs[t].getBoundingClientRect(),i=r.width,o=r.height;this.setState({wrapperSize:{width:i+"px",height:o+"px"}},(function(){var t,r=n._panesRefs[e].getBoundingClientRect();t=n.props.isMobile?"auto":n.props.keepWidth?i+"px":r.width+"px";var o=r.height+"px";n.setState({wrapperSize:{width:t,height:o}})}))}},{key:"render",value:function(){var e=this,t=this.props.isMobile?T.Drawer:x.Popup;return b.a.createElement(t,this.props.popupProps,b.a.createElement("div",{className:R().e("wrapper"),style:this.state.wrapperSize},b.a.Children.map(this.props.children,(function(t,n){return t&&"function"==typeof t.type&&t.type===I?(0===n&&(e._firstPaneId=t.props.id),b.a.createElement(I,C()({active:t.props.id===e.props.activePane,setRef:e._setPaneRef.bind(e,t.props.id)},t.props))):null}))))}}]),n})(y.Component),D=n(336),M=n(280),N=n(561),L=n(582),F=n(12);function B(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var U,z,V,H=(function(e){l()(n,e);var t=B(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return b.a.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 1h-11A1.5 1.5 0 0 0 1 2.5v11A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-11A1.5 1.5 0 0 0 13.5 1zM5.224 9.867L3 12.833V3h10v7.214l-2.569-2.752a.5.5 0 0 0-.781.064l-1.88 2.82a.5.5 0 0 1-.682.147l-1.199-.75a.5.5 0 0 0-.665.124zM7.5 6a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z",fill:"currentColor"}))}}]),n})(F.default),W=Object(F.iconProvider)(H),$=n(362),G=n(213),q=n(348),Y=(n(897),n(898),n(38)),K=n(926),J=n(32),Z=n(125),X=n(347),Q=n.n(X),ee=(n(2065),n(36)),te=n(74),ne=n(65),re=n(52),ie=n(44),oe=n(40),ae=n(42),se=n(48),ue=n(13),ce=n(29),le=n(67),de=function(e){return function(t){t(Object(se.f)(se.a.REMOVE,se.b.MERGE_ALBUMS)),t(Object(le.updateAlbum)({id:e,hidden:!1})),t(Object(ae.notify)({operation:"mergeAlbums",status:"failed"}))}},fe=function(e,t,n){return function(r){return Object(se.d)(e).then((function(){r(function(e,t){return function(n,r){var i=r();n(Object(se.f)(se.a.REMOVE,se.b.MERGE_ALBUMS)),n(Object(ae.notify)({operation:"mergeAlbums",status:"done"})),n({type:ue.REMOVE_ALBUM,payload:{id:e,albumType:"faces"}}),n(Object(ne.cleanAlbum)(t));var o=Object(J.getAlbumById)(r(),e),a=!Object(J.getAlbumById)(r(),t).title&&o.title;a&&n(Object(le.updateAlbum)({id:t,title:a})),"album"===Object(ie.getPage)(i)&&n(Object(ce.goToUrl)("/client/albums/".concat(t),"replace"))}}(t,n))})).catch((function(){r(de(t))}))}},pe=n(18),he=n(58),me=function(e){return[null,"personal"].includes(e)},ve=function(e){return"faces"===e},ge=function(e){return"family"===e},ye=(U={},v()(U,"add-items",(function(e){return ge(e.album_type)?Object(he.hasFamilyAlbumFeature)(Object(pe.default)().getState()):"geo"!==e.album_type&&!ve(e.album_type)})),v()(U,"access-album",(function(e){return ge(e.album_type)})),v()(U,"merge-album",(function(e){return Object(J.getAlbumsListing)(Object(pe.default)().getState(),"faces").length>1&&ve(e.album_type)})),v()(U,"publish-album",(function(e){return me(e.album_type)||ge(e.album_type)})),v()(U,"unpublish-album",(function(e){return e.is_public})),v()(U,"set-view",(function(e){return e.clusters&&0!==e.clusters.length})),v()(U,"rename-album",(function(e){return!ge(e.album_type)&&(me(e.album_type)||ve(e.album_type))})),v()(U,"delete-album",(function(e){return!ge(e.album_type)&&(me(e.album_type)||ve(e.album_type))})),v()(U,"download-album",(function(e){return"geo"!==e.album_type})),U),be=(z={},v()(z,"merge-album","Объединить с альбомом"),v()(z,"add-items","Добавить фото"),v()(z,"publish-album","Поделиться"),v()(z,"unpublish-album","Удалить ссылку"),v()(z,"set-view","Изменить вид"),v()(z,"rename-album",(function(e){return e.title?"Переименовать":"Указать имя"})),v()(z,"delete-album","Удалить"),v()(z,"download-album","Скачать"),v()(z,"access-album","Доступ к альбому"),z),_e=function(e,t){return ye[e](t)},Oe=n(574),Ee=n(14),we=n(149),Se=n(96);function Ce(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var xe=function(){return k()()("album-actions-dropdown")},Te=[{id:"merge-album",icon:function(){return W}},{id:"add-items",icon:function(){return D.addToAlbumIconProvider}},{id:"access-album",icon:function(){return function(e){return b.a.createElement(K.default,{cls:e})}}},{id:"publish-album",icon:function(e){var t=e.isAndroid;return function(e){return b.a.createElement(M.default,{cls:e,isAndroid:t})}}},{id:"set-view",icon:function(){return L.displayWowIconProvider}},{id:"rename-album",icon:function(){return $.renameIconProvider}},{id:"download-album",icon:function(){return q.downloadIconProvider}},{id:"delete-album",icon:function(){return G.trashIconProvider}}],Pe={ACTIONS:"actions",VIEW:"view"},ke=(V={},v()(V,"add-items","addToCurrentAlbum"),v()(V,"publish-album","publishAlbum"),v()(V,"rename-album","renameAlbum"),v()(V,"download-album","downloadAlbum"),v()(V,"delete-album","deleteAlbum"),v()(V,"merge-album","mergeAlbums"),v()(V,"access-album","showFamilyAlbumAccessDialog"),V),je=(function(e){l()(n,e);var t=Ce(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={popupVisible:!1,activePane:Pe.ACTIONS,isShareDialogVisible:!1,isPublic:void 0},r._onChangePhotoView=r._onChangePhotoView.bind(u()(r)),r._onMorePopupClose=r._onMorePopupClose.bind(u()(r)),r._onMoreButtonClick=r._onMoreButtonClick.bind(u()(r)),r._onChangeActivePane=r._onChangeActivePane.bind(u()(r)),r._closeShareDialog=r._closeShareDialog.bind(u()(r)),r._onAlbumActionClick=r._onAlbumActionClick.bind(u()(r)),r._moreButtonRef=b.a.createRef(),r._popupRef=b.a.createRef(),r}return a()(n,[{key:"componentDidUpdate",value:function(e,t){this.state.activePane===Pe.ACTIONS&&!e.isPublic&&this.props.isPublic&&t.popupVisible&&this.setState({isShareDialogVisible:!0}),this.props.isOverdraftDialogOpened&&!e.isOverdraftDialogOpened&&this._togglePopupVisible(!1)}},{key:"_closeShareDialog",value:function(){this.setState({isShareDialogVisible:!1})}},{key:"_countMetrika",value:function(){for(var e=Object(we.getAlbumType)(this.props.album),t=this.props.isPageAlbum?Object(we.getAlbumType)(this.props.album):"faces"===e?"faces meta-album":e+" albums listing",n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Ee.default.count.apply(Ee.default,["album",t,"actions dropdown"].concat(r))}},{key:"_onChangePhotoView",value:function(e){var t="string"==typeof e?e:e.target.value;this.props.setAlbumPhotoView(this.props.album.id,t),this._togglePopupVisible(!1),this._countMetrika("set-view",t)}},{key:"_onMorePopupClose",value:function(){this._togglePopupVisible(!1)}},{key:"_onMoreButtonClick",value:function(){this._togglePopupVisible()}},{key:"_togglePopupVisible",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.popupVisible;this.setState({popupVisible:e}),e&&this._countMetrika("show")}},{key:"_onAlbumActionClick",value:function(e){var t=e.target.value;"set-view"===t?this.setState({activePane:Pe.VIEW}):"publish-album"===t&&(this.props.isPublic||this.props.isAddressAccessEnabled)?(this.setState({isShareDialogVisible:!0}),this._togglePopupVisible(!1)):(this.props[ke[t]](this.props.album.id),"publish-album"!==t&&this._togglePopupVisible(!1));var n=t;"rename-album"!==t||"faces"!==this.props.album.album_type||this.props.album.title||(n="set-name-album"),this._countMetrika(n)}},{key:"_onChangeActivePane",value:function(e){this.setState({activePane:e})}},{key:"render",value:function(){var e=this,t={className:xe().e().mix(E.LISTING_PREVENT_DESELECT_CLASS),view:"default",visible:this.state.popupVisible,onClose:this._onMorePopupClose};Object.assign(t,{anchor:this._moreButtonRef,target:"anchor",direction:["bottom-end"]});var n=this.props.moreButtonView||"clear";return b.a.createElement(b.a.Fragment,null,b.a.createElement(O.Button,{size:"s",view:n,className:xe().e("more-button"),"aria-label":"Ещё",onClick:this._onMoreButtonClick,innerRef:this._moreButtonRef,icon:_.moreIconProvider}),b.a.createElement(A,{ref:this._popupRef,activePane:this.state.activePane,keepWidth:!0,isMobile:this.props.isMobile,visible:this.state.popupVisible,onChangeActivePane:this._onChangeActivePane,popupProps:t},b.a.createElement(I,{id:Pe.ACTIONS},b.a.createElement(w.Menu,{view:"default",size:"m",wide:!0,onChange:this._onAlbumActionClick},Te.filter((function(t){return _e(t.id,e.props.album)&&!(!e.props.isPageAlbum&&"set-view"===t.id)})).map((function(t){var n=(function(e,t){return"function"==typeof be[e]?be[e](t):be[e]})(t.id,e.props.album);if("publish-album"===t.id){var r=e.props.isPublishing&&"publish-album"===t.id&&!e.props.isPublishingReverse;n=b.a.createElement("span",{className:xe().e("spin-wrapper")},n,b.a.createElement(te.Spin,{view:"default",className:xe().e("spin"),size:"xxs",progress:r}))}var i=Object.assign({},e.props);return b.a.createElement(w.Item,{key:t.id,className:xe().e("action").m({type:t.id}),value:t.id,icon:t.icon(i)},n)})))),this.props.isPageAlbum?b.a.createElement(I,{id:Pe.VIEW},b.a.createElement(w.Menu,{size:"m",view:"default",className:xe().e("radiobox"),rightGlyph:!0,wide:!0,value:Object(Oe.a)(this.props.album.layout),onChange:this._onChangePhotoView},b.a.createElement(w.Item,{value:Y.PHOTO_GRID_TYPES.TILE,icon:N.displayTilesIconProvider},"Обычный"),b.a.createElement(w.Item,{value:Y.PHOTO_GRID_TYPES.WOW,icon:L.displayWowIconProvider},"Умная плитка"))):null),_e("publish-album",this.props.album)?b.a.createElement(Q.a,{visible:this.state.isShareDialogVisible,objectIds:[this.props.album.id],onClose:this._closeShareDialog,metrikaPath:this.props.metrikaPath.concat("publish-album"),metrikaTail:["album"]}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isPublic!==t.isPublic?{popupVisible:!1,isPublic:e.isPublic}:null}}]),n})(y.Component),Re={publishAlbum:ne.publishAlbum,unpublishAlbum:ne.unpublishAlbum,setAlbumPhotoView:ne.setAlbumPhotoView,addToCurrentAlbum:ne.addToCurrentAlbum,deleteAlbum:ne.deleteAlbum,downloadAlbum:ne.downloadAlbum,renameAlbum:ne.renameAlbum,mergeAlbums:function(e){return function(t,n){t(Object(ce.maybeBlockAction)())||t(Object(re.add)("select-album",{dialogParams:{albumType:"faces",excludeAlbumsIds:[e],action:"merge"},onSubmit:function(r){var i=r.albumId;return t(Object(se.f)(se.a.ADD,se.b.MERGE_ALBUMS,{srcContextId:n().page.idContext})),t(Object(le.updateAlbum)({id:e,hidden:!0})),Object(oe.a)("do-merge-albums",{srcAlbumId:e,dstAlbumId:i}).then((function(n){return t(fe(n.oid,e,i))})).catch((function(){t(de(e))}))},onReject:function(){}}))}},showFamilyAlbumAccessDialog:ce.showFamilyAlbumAccessDialog};t.a=Object(g.connect)((function(e,t){var n=t.album,r=e.environment.agent,i=r.OSFamily,o=r.isMobile;return Object.assign({isPageAlbum:Object(J.isPageAlbum)(e),isMobile:o,isAndroid:"Android"===i,isOverdraftDialogOpened:Object(Z.isDialogOpened)(e,"overdraft"),isAddressAccessEnabled:Object(Se.isAddressAccessShareDialogExp)(e)},Object(ee.getPublishObjectData)(e,[n.id]))}),Re)(je)}),(function(e,t,n){var r=n(1634);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}}),(function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(191)),s=n(26),u=n(210),c=n(2011),l=n(45),d=i(n(11)),f=()=>d.default()("resources-action-bar");n(2012),t.ResourcesActionBarContext=o.createContext({visible:!1,onClose:()=>{}}),t.ResourcesActionBar=(({visible:e,fixed:n,delay:r,theme:i,innerRef:d,onTransitionEnd:p=(()=>{}),onClose:h=(()=>{}),closeButtonText:m,isMobile:v,className:g,children:y})=>{const b=o.default.Children.toArray(y).filter(Boolean),_=o.useRef("undefined"!=typeof document?document.body:null);c.useOverlay({visible:e,onClose:h,essentialRefs:[_],unsafe_strategy:"pressup"});const O=o.default.createElement(s.Button,{className:f().e("close"),onClick:h,"aria-label":m,size:"m",view:"clear-inverse",icon:u.close2IconProvider});return o.default.createElement(t.ResourcesActionBarContext.Provider,{value:{visible:e,onClose:h}},o.default.createElement("div",{ref:d,className:f().m({visible:e,fixed:n,delay:r,theme:i}).mix(l.LISTING_PREVENT_DESELECT_CLASS).mix(g),"aria-hidden":!e,onTransitionEnd:p},e?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:f().e("body")},b),v?O:o.default.createElement(a.default,{text:m,direction:"left"},O)):null))}),t.ResourcesActionBarLeft=(({children:e})=>o.default.createElement("div",{className:f().e("side-left")},e)),t.ResourcesActionBarRight=(({children:e})=>o.default.createElement("div",{className:f().e("side-right")},e))}),(function(e,t,n){"use strict";var r=n(33),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(0),y=n.n(g),b=n(45),_=n(68);function O(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var E=function(){};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(function(n){f()(o,n);var r=O(o);function o(e){var n;return a()(this,o),(n=r.call(this,e))._ignoreClicksSelector=[t,n.props.ignoreClicksSelector].filter(Boolean).join(","),n._wrappedComponentRef=null,n._setWrappedComponentRef=n._setWrappedComponentRef.bind(l()(n)),n._handleLongTouch=n._handleLongTouch.bind(l()(n)),n._onContextMenu=n._onContextMenu.bind(l()(n)),n._onDoubleClick=n._onDoubleClick.bind(l()(n)),n._onTouchStart=n._onTouchStart.bind(l()(n)),n._onTouchMove=n._onTouchMove.bind(l()(n)),n._onTouchEnd=n._onTouchEnd.bind(l()(n)),n._onClick=n._onClick.bind(l()(n)),n._onKeyDown=n._onKeyDown.bind(l()(n)),n}return u()(o,[{key:"_setWrappedComponentRef",value:function(e){this._wrappedComponentRef=e}},{key:"_getId",value:function(){return this._wrappedComponentRef&&this._wrappedComponentRef.getSelectionId?this._wrappedComponentRef.getSelectionId():this.props.id}},{key:"_handleLongTouch",value:function(e){e.cancelable&&e.preventDefault(),e.stopPropagation(),this.props.onContextMenu&&this.props.touchContextMenu?this.props.onContextMenu(this._getId(),e):this.props.onSelect(this._getId(),this.props.selectOnClick,e)}},{key:"_onTouchStart",value:function(e){var t=this;document.body.classList.add("no-user-select"),e.persist();var n=e.touches[0],r=n.pageX,i=n.pageY;this._touchStartPosition={pageX:r,pageY:i},this._touchStartTime=Date.now(),this._touchTimer=setTimeout((function(){t._handleLongTouch(e)}),300)}},{key:"_onTouchMove",value:function(e){if(this._touchStartPosition){var t=e.touches[0],n=t.pageX,r=t.pageY,i=n-this._touchStartPosition.pageX,o=r-this._touchStartPosition.pageY;Math.sqrt(i*i+o*o)>8&&(this._touchTimer&&clearTimeout(this._touchTimer),this._isSwipe=!0)}}},{key:"_onTouchEnd",value:function(e){document.body.classList.remove("no-user-select");var t=this._isSwipe;this._touchTimer&&clearTimeout(this._touchTimer),this._isSwipe=!1,this._ignoreClicksSelector&&e.target.closest(this._ignoreClicksSelector)||(e.preventDefault(),this._touchStartTime&&Date.now()-this._touchStartTime<300&&!t&&(this.props.selectOnClick?this.props.onSelect(this._getId(),!0,e):this.props.onOpen(this._getId(),e)))}},{key:"_onClick",value:function(e){if(!(this._ignoreClicksSelector&&e.target&&e.target.closest(this._ignoreClicksSelector)||2===e.button||e.ctrlKey&&this.props.isMacSafari)){var t=e.detail<2;this.props.openOnSingleClick?this.props.onOpen(this._getId(),e):!t&&this.props.supportDoubleClick||this.props.onSelect(this._getId(),this.props.selectOnClick,e)}}},{key:"_onDoubleClick",value:function(e){e.target.closest(".".concat(b.LISTING_PREVENT_DOUBLE_CLICK))||2!==e.button&&this.props.onOpen(this._getId(),e)}},{key:"_onContextMenu",value:function(e){var t;this.props.onContextMenu&&(t=this.props.onContextMenu(this._getId(),e)),t&&t.noPreventDefault&&!this.props.touchContextMenu||e.preventDefault()}},{key:"_onKeyDown",value:function(e){e.target===e.currentTarget&&(e.keyCode===_.Keys.ENTER?(e.preventDefault(),this.props.onOpen(this._getId(),e)):e.keyCode===_.Keys.SPACE&&(e.preventDefault(),this.props.onSelect(this._getId(),!0,{ctrlKey:!0}))),this.props.onKeyDown&&this.props.onKeyDown(e)}},{key:"render",value:function(){return y.a.createElement(e,i()({},this.props,{ref:this._setWrappedComponentRef,onClick:this._onClick,onDoubleClick:this.props.supportDoubleClick?this._onDoubleClick:void 0,onTouchEnd:this._onTouchEnd,onTouchMove:this._onTouchMove,onTouchStart:this._onTouchStart,onContextMenu:this._onContextMenu,onKeyDown:this._onKeyDown,tabIndex:this.props.tabIndex||0}))}}]),o})(g.Component);return n.defaultProps={selectOnClick:!1,onOpen:E,onSelect:E,onContextMenu:E,openOnSingleClick:!1,supportDoubleClick:!0},n}}),(function(e,t,n){"use strict";var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0);function h(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var m=(function(e){u()(n,e);var t=h(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._listing=null,r}return a()(n,[{key:"getItemInfo",value:function(e){return this._listing.getItemInfo(e)}},{key:"getItemsInfo",value:function(){return this._listing.getItemsInfo()}},{key:"updateItemsInfo",value:function(){this._listing.updateItemsInfo()}}]),n})(p.Component);t.a=m}),,,,(function(e,t,n){"use strict";var r=n(292),i=n(615),o=n(1242),a=n(957),s=n(616),u=n(960),c=n(293),l=n(968),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return a(!i(o.f,e,t),e[t])}}),(function(e,t,n){"use strict";var r=n(263);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))}),(function(e,t,n){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}}),(function(e,t,n){"use strict";var r=n(959),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}}),(function(e,t,n){"use strict";e.exports=function(e){return null===e||void 0===e}}),(function(e,t,n){"use strict";var r=n(1245),i=n(962);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}}),(function(e,t,n){"use strict";var r="object"==typeof document&&document.all,i=void 0===r&&void 0!==r;e.exports={all:r,IS_HTMLDDA:i}}),(function(e,t,n){"use strict";var r=n(963),i=n(199),o=n(1246),a=n(964),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}}),(function(e,t,n){"use strict";var r=n(175),i=n(199);e.exports=function(e,t){return arguments.length<2?(function(e){return i(e)?e:void 0})(r[e]):r[e]&&r[e][t]}}),(function(e,t,n){"use strict";var r=n(965);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}),(function(e,t,n){"use strict";var r=n(1247),i=n(263),o=n(175).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))}),(function(e,t,n){"use strict";var r=n(1254),i=n(617);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.32.0",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),(function(e,t,n){"use strict";var r=n(218),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}}),(function(e,t,n){"use strict";var r=n(292),i=n(263),o=n(1256);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))}),(function(e,t,n){"use strict";var r=n(292),i=n(619),o=n(957);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}}),(function(e,t,n){"use strict";var r=n(420),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}}),(function(e,t,n){"use strict";e.exports={}}),(function(e,t,n){"use strict";var r=n(1271);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}}),(function(e,t,n){var r=r||n(568);r.Parser=function(e,t){this._rules=e,this._tokens=t||{}},r.Parser.prototype.start=function(e,t){this.input=e,this.p=0,this.s=e;var n=this.parse(t);return this.s&&this.error("End of string expected"),n},r.Parser.prototype.parse=function(e,t){var n=this._rules[e],r=this.p,i=n.call(this,t);return i._start=r,i._end=this.p,i._input=this.input,i},r.Parser.prototype.test=function(e){var t=this._tokens[e];if(t){var n=t.exec(this.s);return n&&n[0]}if(this.la(e.length)===e)return e},r.Parser.prototype.match=function(e){var t=this.test(e);return t||this.error("Token "+e+" expected"),this.move(t.length),t},r.Parser.prototype.la=function(e){return this.s.substr(0,e||1)},r.Parser.prototype.move=function(e){e||(e=1),this.s=this.s.substr(e),this.p+=e},r.Parser.prototype.skip=function(){var e=/^\s+/.exec(this.s);e&&this.move(e[0].length)},r.Parser.prototype.error=function(e){throw Error(e+" at "+this.p+": "+this.s)}}),(function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(974);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports={defaultDomain:"ru",defaultAvailableLangs:["ru","en","uk","tr","kk","uz"],defaultMarketCode:"RU",domains:{am:{domain:"com.am"},az:{domain:"az"},by:{domain:"by"},ee:{domain:"ee"},com:{domain:"com",availableLangs:["en","ru","uk","tr","kk","uz"],marketCode:"COM"},fr:{domain:"fr",availableLangs:["en","ru","uk","tr","kk","uz"],marketCode:"COM"},ge:{domain:"com.ge"},il:{domain:"co.il",availableLangs:["en","tr"],marketCode:"COM"},kg:{domain:"kg"},kz:{domain:"kz",availableLangs:["kk","ru","en","uk","tr","uz"]},lt:{domain:"lt"},lv:{domain:"lv"},md:{domain:"md"},ru:{domain:"ru"},tj:{domain:"tj"},tm:{domain:"tm"},tr:{domain:"com.tr",availableLangs:["tr","en"],marketCode:"TR"},ua:{domain:"ua",availableLangs:["uk","ru","en","tr","kk","uz"],marketCode:"UK"},uz:{domain:"uz",availableLangs:["uz","ru","en","uk","tr","kk"]}}}}),(function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(9),a=n.n(o),s=n(117),u=n.n(s),c=n(23),l=n.n(c),d=n(63),f=n.n(d),p=n(937),h=n.n(p),m=n(54),v=n.n(m),g=n(165),y=n(18),b=n(19),_=["idContext","scopeSearch"];ns.log.error=function(e,t){(ns.DEBUG||no.de)&&console.error("ns.log.error",e,t)},ns.log.exception=function(e,t){(ns.DEBUG||no.de||"development"===u.a.environment)&&console.error("ns.log.exception",e,no.de?t.stack:t)},ns.todo=function(e,t){if((ns.DEBUG||no.de||"development"===u.a.environment)&&!t)throw new Error(e||"Unimplemented")},ns.View.prototype.hasErrorFatalModels=function(e){Array.isArray(e)||(e=[e]);var t=!1;return e.forEach((function(e){var n=e.getData().error;if(n&&n.id&&0===n.id.indexOf("HTTP_50"))return t=!0,!0})),t},ns.View.prototype.getViewChild=function(e){if(this.views)return a.a.find(this.views,{params:e})},ns.View.prototype.updateView=function(){this.invalidate(),this.isVisible()&&v.a.update()},ns.View.prototype.subscribeUpdateResource=function(e,t){var n=this,r=Object(y.default)(),o={};for(var a in t)o=Object.assign({},o,i()({},a,Object(b.getResourceData)(r.getState(),e,a)));return r.subscribe((function(){if(n.isValid())for(var a in t){var s=Object(b.getResourceData)(r.getState(),e,a);o[a]!==s&&(t[a](o[a],s),o=Object.assign({},o,i()({},a,s)))}}))},ns.Model.prototype.retryOffline=function(){return!1},ns.Model.prototype.shouldRetryFails=function(){return!this.isDo()},ns.Model.prototype.fetch=function(){return n(1344),ns.Model.get("queueSync").push(this)},ns.Model.prototype.updateData=function(e){this.setData(a.a.merge({},this.getData(),e||{}))},ns.Model.prototype.setDataDefault=function(){var e=this.info.defaults;return e="function"==typeof e?e.call(this):e,this.setData(a.a.merge({},e||{}))},ns.Model.prototype.subscribeUpdateResource=function(e,t,n){var r=this,o=Object(y.default)(),a={};for(var s in t)a=Object.assign({},a,i()({},s,Object(b.getResourceData)(o.getState(),e,s)));return o.subscribe((function(){if(r.isValid()){var s=o.getState();if(Object(b.isExistsResource)(s,e))for(var u in t){var c=Object(b.getResourceData)(o.getState(),e,u);a[u]!==c&&(t[u](a[u],c),a=Object.assign({},a,i()({},u,c)))}else n()}}))},ns.page.getCurrentUrl=function(){return f.a.mergeSlashes(window.location.pathname)+window.location.search};var O=ns.router.generateUrl;if(ns.router.generateUrl=function(e,t){var n=t.idContext?l.a.getIdApp(t.idContext):"client",r=h.a.parseUrl(ns.page.currentUrl);return-1!==["album","public"].indexOf(n)?h.a.formatUrl(a.a.extend({prefix:r&&r.prefix},t)):O.call(this,e,t)},ns.Update.prototype.perf=function(e){g.a.collectNSTimings(e)},ns.router.encodeParamValue=function(e,t){return _.indexOf(t)>-1?l.a.escape(e):encodeURIComponent(e)},ns.router.decodeParamValue=function(e,t){return _.indexOf(t)>-1?l.a.unescape(e):decodeURIComponent(e)},ns.history){var E=ns.history._onAnchorClick;ns.history._onAnchorClick=function(e){return!!e.isDefaultPrevented()||(!!e.target.dataset.external||E.call(this,e))}}ns.page.go=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns.page.DEFAULT_HISTORY_ACTION;!0===n&&(n="replace"),"function"==typeof(null===(t=window.HOST_API)||void 0===t?void 0:t.onChangeUrl)&&e&&window.HOST_API.onChangeUrl(location.origin+e),e=e||ns.page.getCurrentUrl();var r=ns.router(e);return ns.R.NOT_FOUND===r.page?ns.page.redirect("/client/disk"):"notes"===r.page?Vow.fulfill():(ns.events.trigger("ns-page-before-load",[ns.page.current,r],e),"push"===n&&e===ns.page.currentUrl&&(n="preserve"),ns.page._setCurrent(r,e),ns.page._fillHistory(e,n),r.page===ns.R.REDIRECT?ns.page.redirect(r.redirect):(ns.page.title(),ns.events.trigger("ns-page-after-load",r.params,e),Vow.fulfill()))},ns.Update.prototype.applyTemplate=function(e){return ns.renderString(e,null,"common")},n(1345).extendRouterRegs(ns)}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.radioboxRegistry=void 0;var r=n(31),i=n(452),o=n(1379);t.radioboxRegistry=new r.Registry({id:i.cnRadiobox()}),t.radioboxRegistry.set("Radio",o.RadioboxRadio)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRadioGroup=t.RadioGroupProvider=void 0;var r=n(0),i=r.createContext({});i.displayName="RadioGroup",t.RadioGroupProvider=i.Provider;t.useRadioGroup=function(){return r.useContext(i)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioboxRadio=void 0;var r=n(1).__importDefault(n(0)),i=n(733),o=n(202),a=n(982),s=n(1380),u=n(1382),c=n(452),l=n(980);n(1384),t.RadioboxRadio=i.withControl((function(e){var t=e.autoFocus,n=e.checked,i=e.children,d=e.className,f=e.controlRef,p=e.disabled,h=e.focused,m=e.innerRef,v=e.name,g=e.onBlur,y=e.onChange,b=e.onClick,_=e.onFocus,O=e.onMouseEnter,E=e.onMouseLeave,w=e.pressed,S=e.value,C=l.useRadioGroup(),x=C.value?C.value===S:n,T=C.disabled||p,P="label-"+(a.IS_TESTING?"0":o.useUniqId("radio"));return r.default.createElement("label",{className:c.cnRadiobox("Radio",{checked:x,disabled:T,focused:h,pressed:w},[d]),onBlur:g,onClick:b,onFocus:_,onMouseEnter:O,onMouseLeave:E,ref:m},r.default.createElement(s.RadioboxBox,null,r.default.createElement(u.RadioboxControl,{autoFocus:t,checked:x,controlRef:f,disabled:T,labelledBy:P,name:C.name||v,onChange:C.onChange||y,value:S})),r.default.createElement("span",{"aria-hidden":"true",className:c.cnRadiobox("Text"),id:P},i))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_PRODUCTION=t.IS_TESTING=void 0,t.IS_TESTING=!1,t.IS_PRODUCTION=!0}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withControl=void 0;var r=n(1),i=r.__importStar(n(0)),o=n(734);t.withControl=function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hovered:e.props.hovered},e.onMouseEnter=function(t){e.setState({hovered:!0}),void 0!==e.props.onMouseEnter&&e.props.onMouseEnter(t)},e.onMouseLeave=function(t){e.setState({hovered:!1}),void 0!==e.props.onMouseLeave&&e.props.onMouseLeave(t)},e}return r.__extends(n,t),n.prototype.render=function(){var t=this.props.disabled,n=!t&&Boolean(this.state.hovered||this.props.hovered),o=e;return i.default.createElement(o,r.__assign({},this.props,{hovered:t?void 0:n,onMouseEnter:t?void 0:this.onMouseEnter,onMouseLeave:t?void 0:this.onMouseLeave}))},n.displayName="WithControl@desktop("+o.getDisplayName(e)+")",n})(i.PureComponent)}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(185)),a=r(n(186)),s=n(28),u=n(735),c=s.cn("ShareDialogAccessType");var l;n(1411),(function(e){e.Overdraft="overdraft",e.SecurityWithPassword="security-with-password",e.ReadOnlyRights="read-only-rights",e.VicariousDoc="vicarious-doc"})(l=t.AccessStubType||(t.AccessStubType={}));const d={disabled:{titleKey:"access-type-title_view",subtitleKey:"access-type-subtitle_view",iconName:"eye"},all:{titleKey:"access-type-title_edit",subtitleKey:"access-type-subtitle_edit",iconName:"pen"}},f={disabled:Object.assign(Object.assign({},d.disabled),{subtitleKey:"access-type-org-subtitle_view"}),all:Object.assign(Object.assign({},d.all),{subtitleKey:"access-type-org-subtitle_edit"})},p={[l.Overdraft]:{file:{titleKey:"access-type-title-file_overdraft",subtitleKey:"access-type-subtitle_overdraft",iconName:"warning"},folder:{titleKey:"access-type-title-folder_overdraft",subtitleKey:"access-type-subtitle_overdraft",iconName:"warning"},album:{titleKey:"access-type-title-album_overdraft",subtitleKey:"access-type-subtitle_overdraft",iconName:"warning"}},[l.SecurityWithPassword]:{titleKey:"security-title",subtitleKey:"security-desc-with-password",iconName:"shield"},[l.ReadOnlyRights]:{titleKey:"access-type-title_no-edit-rights",subtitleKey:"access-type-subtitle_no-edit-rights",iconName:"warningGrey"},[l.VicariousDoc]:{titleKey:"access-type-title-vicarious-doc",subtitleKey:"access-type-subtitle-vicarious-doc",iconName:"warningGrey"}};t.default=(({lang:e,value:t,className:n,addonAfter:r,stubType:s,onClick:l,resourceType:h,isB2bSharingOn:m})=>{const v=m?f:d;let g;if(s){const e=p[s];g=e[h]||e}else g=v[t];const{titleKey:y,subtitleKey:b,iconName:_}=g;return i.default.createElement("div",{className:u.classnames(c(),n),onClick:l},i.default.createElement("div",{className:c("TypeIcon")},i.default.createElement(a.default,{name:_,className:c("Icon")})),i.default.createElement("div",{className:c("Text")},i.default.createElement("span",{className:c("Title")},o.default(e,y)),i.default.createElement("span",{className:c("Subtitle")},o.default(e,b))),r&&i.default.createElement("div",{className:c("AddonAfter")},r))})}),(function(e,t){e.exports='<svg width="14" height="14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.666.919a.4.4 0 0 1 .566 0l.848.848a.4.4 0 0 1 0 .566L8.413 7l4.667 4.667a.4.4 0 0 1 0 .566l-.765.765a.4.4 0 0 1-.566 0L7.082 8.331l-4.75 4.75a.4.4 0 0 1-.566 0l-.848-.848a.4.4 0 0 1 0-.566l4.75-4.75L1.001 2.25a.4.4 0 0 1 0-.566L1.766.92a.4.4 0 0 1 .566 0L7 5.586 11.666.919z" fill="currentColor"></path></svg>'}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(903);t.Wrapper=i.Wrapper;const o=r.compose(r.composeU(i.withViewDefault,i.withViewInverse),r.composeU(i.withSizeS,i.withSizeM))(i.MessageBoxPopup);t.default=o}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registry=void 0;var r=n(31),i=n(3),o=n(988),a=n(743),s=n(744),u=n(989),c=n(321),l=i.compose(a.withViewDefault,s.withTargetAnchor,u.withNonvisual)(o.Popup);t.registry=new r.Registry({id:c.cnMessageBox()}),t.registry.set("Popup",l)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=void 0;var r=n(1),i=n(31),o=n(177),a=n(380);r.__exportStar(n(177),t),t.Popup=i.withRegistry(a.popupRegistry)(o.Popup)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withNonvisual=void 0;var r=n(3),i=n(177);n(1428),t.withNonvisual=r.withBemMod(i.cnPopup(),{nonvisual:!0})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1445);t.default=r.default}),(function(e,t,n){"use strict";n(1446)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerRegistry=void 0;var r=n(31),i=n(993),o=n(143);t.DrawerRegistry=new r.Registry({id:o.cnDrawer()}),t.DrawerRegistry.set("Popup",i.Popup)}),(function(e,t,n){"use strict";n.r(t);var r=n(1136);n.d(t,"cnPopup",(function(){return r.b})),n.d(t,"Popup",(function(){return r.a}));var i=n(188);n.d(t,"withNonvisual",(function(){return i.a}));var o=n(161);n.d(t,"withTargetAnchor",(function(){return o.a}));var a=n(221);n.d(t,"withThemeClear",(function(){return a.a}));var s=n(222);n.d(t,"withThemeNormal",(function(){return s.a}));var u=n(160);n.d(t,"withViewDefault",(function(){return u.a}));var c=n(151);n.d(t,"directions",(function(){return c.directions}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=r(n(986)),s=i(n(123)),u=i(n(185)),c=n(28).cn("NoFeatureStub");n(1465);t.default=(({lang:e,isB2b:t,visible:n,anchor:r,containerRef:i,chooseTariffLink:l,onGoToTariffs:d,onClose:f})=>{const p=o.useCallback(e=>{var t;null!==(t=null===i||void 0===i?void 0:i.current)&&void 0!==t&&t.contains(e.target)||f()},[i,f]),h=o.useCallback(()=>{d(),f()},[f,d]);return o.default.createElement(a.default,{"data-test":"no-feature-stub",onClose:p,view:"default",visible:n,anchor:r,direction:"right",size:"m",hasTail:!0,opaque:!0},o.default.createElement(a.Wrapper,{align:"left"},o.default.createElement("span",null,u.default(e,t?"security-b2b-tooltip":"security-b2c-tooltip")),o.default.createElement("div",null,o.default.createElement(s.default,{size:"s",view:t?"link":"premium",type:"link",target:"_blank",url:l,onClick:h,className:c("TooltipButton",{b2c:!t})},u.default(e,"choose-tariff")))))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(123)),s=n(28).cn("QR");n(1473);const u=(e,t)=>"//disk.yandex.net/qr/?text="+encodeURIComponent(e)+(t?"&download=1&format="+t:"");t.default=(({linkUrl:e,countMetrikaFn:t})=>{const n=o.useCallback(e=>{t("clickQRCode",e)},[t]),r=o.useMemo(()=>["png","svg","eps","pdf"].map(t=>o.default.createElement(a.default,{key:t,view:"default",size:"m",type:"link",url:u(e,t),target:"_blank",className:s("Button"),onClick:()=>n(t)},t.toUpperCase())),[e,n]);return o.default.createElement("div",{className:s()},o.default.createElement("div",{className:s("Image-Wrapper")},o.default.createElement("div",{className:s("Image"),style:{backgroundImage:`url(${u(e)})`}})),o.default.createElement("div",{className:s("Buttons")},r))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(3),s=i(n(123)),u=i(n(750)),c=n(179),l=n(1e3),d=i(n(186)),f=i(n(1512)),p=i(n(539)),h=i(n(267)),m=i(n(138)),v=i(n(185)),g=n(28).cn("AvailableUntilDropdown");n(1547);const y=a.compose(l.withGlyphTypeArrow360)(c.Icon),b=e=>{const t=e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}$/)?e+":00.000Z":e,n=new Date(t),r=6e4*n.getTimezoneOffset(),i=n.getTime();return new Date(i+r)},_=(e,t)=>{const n=e.getFullYear()===(new Date).getFullYear();return m.default(e,`D mmmm${n?"":" YYYY"} HH:mm`,void 0,v.default(t,"months_genitive").split("|"))};var O;!(function(e){e.Unlimited="unlimited",e.Day="day",e.Week="week",e.Month="month",e.Custom="custom"})(O||(O={}));const E=({initialValue:e,onChange:t,isAndroid:n})=>{const[r,i]=o.useState(""),a=o.useCallback(e=>{e.target.value&&(n?t(b(e.target.value)):i(e.target.value))},[t,n]),s=o.useCallback(()=>{r&&t(b(r))},[r,t]);return o.default.createElement("input",{className:g("DateTimeInput"),type:"datetime-local",value:e,onChange:a,onBlur:s})},w=(e,t,n)=>o.default.createElement("div",{className:g("MenuItem",{[n]:!0})},o.default.createElement("div",{className:g("MenuItem_Left")},e),t?o.default.createElement("div",{className:g("MenuItem_Right")},t):null),S=({lang:e,initialDateTime:t,onChoose:n,hasFeature:r,isSmartphone:i,isAndroid:a})=>{const{items:s,dateHash:c}=o.useMemo(()=>{const s={},u=new Date(t);u.setDate(u.getDate()+1),s[O.Day]=u;const c=new Date(t);c.setDate(c.getDate()+7),s[O.Week]=c;const l=new Date(t);return l.setDate(l.getDate()+30),s[O.Month]=l,{items:[{value:O.Unlimited,content:w(v.default(e,"link-expire-no"),void 0,"unlim")},{value:O.Day,content:w(v.default(e,"link-expire-day"),v.default(e,"link-expire-addition",{datetime:_(u,e)}),"day"),disabled:!r},{value:O.Week,content:w(v.default(e,"link-expire-week"),v.default(e,"link-expire-addition",{datetime:_(c,e)}),"week"),disabled:!r},{value:O.Month,content:w(v.default(e,"link-expire-month"),v.default(e,"link-expire-addition",{datetime:_(l,e)}),"month"),disabled:!r},{items:[{value:O.Custom,content:w(o.default.createElement("div",{className:g("MenuItem_Custom")},o.default.createElement(d.default,{name:"calendar",className:g("MenuItem_Icon")}),v.default(e,"link-expire-choose"),i?o.default.createElement(E,{isAndroid:a,initialValue:t.toISOString(),onChange:e=>{n(O.Custom,e)}}):null),void 0,"custom"),disabled:!r}]}],dateHash:s}},[i,t,e,r,n,a]),l=o.useCallback(e=>{e.target.value===O.Custom&&i||n(e.target.value,c[e.target.value]||null)},[n,c,i]);return o.default.createElement(u.default,{size:"m",view:"default",items:s,onChange:l})};t.default=(({lang:e,availableUntilDate:t,onChange:n,disabled:r,hasFeature:i,readOnlyValue:a,externalOrganizationId:u,countSecuritySettings:c,deselectClass:l,isSmartphone:m,isAndroid:b,selectArrowIcon:E,scope:w})=>{const[C,x]=o.useState(!1),[T,P]=o.useState(new Date),k=o.useRef(null),[j,R]=o.useState(!1),I=o.useCallback((e,t)=>{R(!1),e!==O.Custom?(n(t),c("available until","choose",e)):m?(n(t),c("available until","choose",e)):(x(!0),c("available until","calendar","open"))},[n,c,m]);o.useEffect(()=>{R(!1)},[a,u]);const A=o.useCallback(e=>{n(e),x(!1),c("available until","choose",O.Custom)},[n,c]),D=o.useCallback(()=>{x(!1)},[]),M=o.useCallback(()=>{const e=!j;if(e){const e=new Date;e.setSeconds(0),e.setMilliseconds(0),P(e)}R(e),e&&c("available until","expand")},[j,c]),N=o.useCallback(()=>{R(!1)},[]),L=o.useMemo(()=>e=>o.default.createElement(y,{className:e,glyph:"type-arrow-360",direction:j?"top":"bottom"}),[j]),F=o.default.createElement(s.default,{view:"clear",size:"s",className:g("Button",{Expanded:j}),addonAfter:E?null:o.default.createElement(d.default,{name:"arrowShort",className:g("Arrow")}),iconRight:E?L:void 0,innerRef:k,onClick:M,disabled:r},o.default.createElement("span",{className:g("DateText")},t?v.default(e,"link-expire-addition",{datetime:_(t,e)}):v.default(e,"link-expire-no")));return o.default.createElement(o.default.Fragment,null,m?F:o.default.createElement(h.default,{disabled:r,tooltipContent:v.default(e,"link-expire-tooltip"),direction:"right",hasTail:!0,size:"m",align:"left",dataTest:"link-expire-tooltip"},F),o.default.createElement(p.default,{view:"default",target:"anchor",anchor:k,direction:["bottom-end","top-end"],visible:j,onClose:N,className:l,scope:w},o.default.createElement(S,{lang:e,onChoose:I,initialDateTime:T,hasFeature:i,isSmartphone:m,isAndroid:b})),o.default.createElement(f.default,{lang:e,visible:C,defaultDateTime:t||void 0,onChoose:A,onClose:D,approveI18n:v.default(e,"apply"),anchor:k,direction:["bottom-end","top-end"],mainOffset:-100,scope:"inplace",minDate:new Date}))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.menuRegistry=void 0;var r=n(31),i=n(382),o=n(1487),a=n(1488),s=n(1490),u=n(1491),c=n(383),l=n(1493);t.menuRegistry=new r.Registry({id:i.cnMenu()}),t.menuRegistry.set("Group",o.MenuGroup).set("Item",a.MenuItem).set("Text",s.MenuText).set("Title",u.MenuTitle).set("Icon",l.withGlyphTypeCheck(c.Icon))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;t.flatMap=function(e,t){return t.reduce((function(t,n){return t.concat(e(n))}),[])}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(0)),a=n(3),s=n(179),u=i(n(1510));n(1511),t.withGlyphTypeArrow360=a.withBemMod(s.cnIcon(),{glyph:"type-arrow-360"},e=>t=>{var{className:n}=t,i=r(t,["className"]);return o.default.createElement(e,Object.assign({},i,{className:s.cnIcon({hasGlyph:!0},[n])}),o.default.createElement(u.default,null))})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n.n(r),o=n(592),a=function(e){var t=e.locale,n=e.children;return i.a.createElement(o.a.Provider,{value:t},n)}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(408),o=new Map;function a(e){var t=Object(i.a)().locale,n=Object(r.useMemo)((function(){return (function(e,t){var n="";void 0!==t&&(n=Object.keys(t).map((function(e){return[e,t[e]]})).sort((function(e,t){return e[0]<t[0]?-1:1})).join());return e+n})(t,e)}),[t,e]),a=o.get(n);if(a)return a;var s=new Intl.DateTimeFormat(t,e);return o.set(n,s),s}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(408),i={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AT:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function o(){var e=Object(r.a)().region;return i[e]||0}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(915),o=n(929),a=n(933),s=n(411);function u(e,t){var n=e.onChange,u=e.readOnly,c=e.state,l=Object(r.__rest)(e,["onChange","readOnly","state"]),d=Object(i.a)(e,t).focusableProps,f=Object(o.a)(e);return{isPressed:f.isPressed,rootProps:f.pressProps,inputProps:Object(a.a)(l,d,{"aria-checked":e.checked,"aria-invalid":"invalid"===c||void 0,"aria-readonly":u||void 0,autoComplete:Object(s.a)()?"off":void 0,onChange:u?void 0:n,type:"checkbox"})}}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=400,o=70;function a(e){var t=e.value,n=void 0===t?NaN:t,a=e.min,s=void 0===a?NaN:a,u=e.max,c=void 0===u?NaN:u,l=e.textValue,d=void 0===l?Number.isFinite(n)?n.toString():"":l,f=e.disabled,p=e.readOnly,h=e.required,m=e.onIncrement,v=e.onExtraIncrement,g=e.onDecrement,y=e.onExtraDecrement,b=e.onDecrementToMin,_=e.onIncrementToMax,O=!(p||f),E=Object(r.useRef)(),w=Object(r.useCallback)((function(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){var t={ArrowUp:m,PageUp:null!==v&&void 0!==v?v:m,ArrowDown:g,PageDown:null!==y&&void 0!==y?y:g,End:_,Home:b}[e.key];t&&(e.preventDefault(),t())}}),[m,v,_,g,y,b]),S=Object(r.useCallback)((function(){return clearTimeout(E.current)}),[]),C=Object(r.useCallback)((function(e){!(function t(n){null===e||void 0===e||e(),E.current=window.setTimeout(t,n,o)})(i)}),[]),x=Object(r.useCallback)((function(){C(m)}),[C,m]),T=Object(r.useCallback)((function(){C(g)}),[C,g]);Object(r.useEffect)((function(){return S}),[S]);var P={role:"spinbutton","aria-valuenow":Number.isFinite(n)?n:void 0,"aria-valuetext":""===d?"Empty":d,"aria-valuemin":Number.isFinite(s)?s:void 0,"aria-valuemax":Number.isFinite(c)?c:void 0,"aria-disabled":f||void 0,"aria-readonly":p||void 0,"aria-required":h||void 0};return O&&(P.onKeyDown=w),{spinButtonProps:P,incrementButtonProps:{disabled:!O,onPressStart:x,onPressEnd:S},decrementButtonProps:{disabled:!O,onPressStart:T,onPressEnd:S}}}}),(function(e,t,n){"use strict";n.r(t);var r=n(1005);n.d(t,"useSpinButton",(function(){return r.a}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1549),o=n(182),a=r.compose(r.composeU(o.withViewDefault,i.withViewShareMenu),r.composeU(o.withSizeS,o.withSizeM))(o.Textinput);t.default=a}),(function(e,t,n){"use strict";n.r(t);var r=n(935);n.d(t,"useTextFieldHint",(function(){return r.a}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Textinput=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(3),a=n(31),s=n(983),u=n(1563),c=n(93),l=n(540);r.__exportStar(n(93),t),t.Textinput=o.compose(a.withRegistry(l.textinputRegistry),s.withControl,u.withAutoFocus)((function(e){var t=e.className,n=e.hovered,o=r.__rest(e,["className","hovered"]);return i.default.createElement(c.Textinput,r.__assign({},o,{className:c.cnTextinput({hovered:n},[t])}))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withBaseline=void 0;var r=n(3),i=n(93);n(1564),t.withBaseline=r.createClassNameModifier(i.cnTextinput(),{baseline:!0})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withHasClear=void 0;var r=n(1),i=n(3),o=n(31),a=n(1565),s=n(1012);r.__exportStar(n(1012),t),t.withHasClear=i.compose(o.withRegistry(a.textinputRegistry),s.withHasClear)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withHasClear=void 0;var r=n(1),i=r.__importStar(n(0)),o=n(3),a=n(31),s=n(219),u=n(93);t.withHasClear=o.withBemMod(u.cnTextinput(),{hasClear:!0},(function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlRef=i.createRef(),e.onMouseDown=function(e){e.preventDefault()},e.onClick=function(t){if(null!==e.controlRef.current&&!t.isDefaultPrevented()&&(e.controlRef.current.focus(),void 0!==e.props.onChange)){var n=e.controlRef.current.value,r=Object.create(t);r.target=e.controlRef.current,r.currentTarget=e.controlRef.current,e.controlRef.current.value="",e.props.onChange(r),e.controlRef.current.value=n}void 0!==e.props.onClearClick&&e.props.onClearClick(t)},e}return r.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,o=n.addonBefore,c=(n.onClearClick,n.hasClear,n.controlRef),l=(n.clearIcon,r.__rest(n,["addonBefore","onClearClick","hasClear","controlRef","clearIcon"]));return i.default.createElement(a.ComponentRegistryConsumer,{id:u.cnTextinput()},(function(n){var a=n.Clear;return i.default.createElement(e,r.__assign({},l,{controlRef:s.mergeAllRefs(t.controlRef,c),addonBefore:i.default.createElement(i.default.Fragment,null,i.default.createElement(a,{onClick:t.onClick,onMouseDown:t.onMouseDown,size:t.props.size,theme:t.props.theme,view:t.props.view,icon:t.props.clearIcon,visible:Boolean(t.props.value)}),o)}))}))},n})(i.PureComponent)}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickBrick=void 0;var r=n(3),i=n(93);n(1574),t.withPinBrickBrick=r.withBemMod(i.cnTextinput(),{pin:"brick-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickClear=void 0;var r=n(3),i=n(93);n(1575),t.withPinBrickClear=r.withBemMod(i.cnTextinput(),{pin:"brick-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinBrickRound=void 0;var r=n(3),i=n(93);n(1576),t.withPinBrickRound=r.withBemMod(i.cnTextinput(),{pin:"brick-round"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearBrick=void 0;var r=n(3),i=n(93);n(1577),t.withPinClearBrick=r.withBemMod(i.cnTextinput(),{pin:"clear-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearClear=void 0;var r=n(3),i=n(93);n(1578),t.withPinClearClear=r.withBemMod(i.cnTextinput(),{pin:"clear-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinClearRound=void 0;var r=n(3),i=n(93);n(1579),t.withPinClearRound=r.withBemMod(i.cnTextinput(),{pin:"clear-round"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinRoundBrick=void 0;var r=n(3),i=n(93);n(1580),t.withPinRoundBrick=r.withBemMod(i.cnTextinput(),{pin:"round-brick"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinRoundClear=void 0;var r=n(3),i=n(93);n(1581),t.withPinRoundClear=r.withBemMod(i.cnTextinput(),{pin:"round-clear"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withPinRoundRound=void 0;var r=n(3),i=n(93);t.withPinRoundRound=r.withBemMod(i.cnTextinput(),{pin:"round-round"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withSizeM=void 0;var r=n(3),i=n(93);n(1584),t.withSizeM=r.withBemMod(i.cnTextinput(),{size:"m"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withSizeS=void 0;var r=n(3),i=n(93);n(1585),t.withSizeS=r.withBemMod(i.cnTextinput(),{size:"s"})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(1586),t),n(1588)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(1589),t),n(1591)}),(function(e,t,n){"use strict";n.r(t);n(1592);var r=n(1027);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(1594),t),n(1596)}),(function(e,t,n){"use strict";n.r(t);n(1597);var r=n(1029);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(1599),r.__exportStar(n(1600),t)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkPasswordForSymbols=(e=>/^[А-яёЁ!-~]*$/.test(e))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoSelector=void 0;const i=n(1616),o=n(1642),a=n(1035),s=n(1650),u=n(1675),c=n(755);t.PromoSelector=class{constructor(e){this.params=e,this.getNow=e.getNow,this.plugins=(e.plugins||[]).reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t}),{}),this.webApiUrl=e.webApiUrl,this.uid=e.uid,this.hasWebpSupport=u.hasWebpSupport(),this.logger=new s.SelectorLogger({logger:this.params.logger,uid:this.uid,webApiUrl:this.webApiUrl,ApiLogClient:e.ApiLogClient}),this.promos=c.getPromosWithFormat(e.config)}loadData(e=!0){return r(this,void 0,void 0,(function*(){try{const[t]=yield Promise.all([a.getService(this.params.dsClient,e)]);return{settingsService:t}}catch(e){return{}}}))}getSelectPromoArgs(e,t,n){return r(this,void 0,void 0,(function*(){const{settingsService:r}=yield this.loadData(t.cacheService);return{commonConfig:this.params.config.common,queue:n||[],settingsService:r,project:this.params.project,now:this.getNow(),lang:this.params.lang,hasWebpSupport:this.hasWebpSupport,userInfo:e,plugins:this.plugins,onLegacyCheck:this.params.onLegacyCheck,legacyPromoNames:this.params.legacyPromoNames,stage:t.stage,logger:this.logger,promos:this.promos,getBillingData:this.params.getBillingData,customQuery:this.params.customQuery}}))}selectPromo(e,t={}){return r(this,void 0,void 0,(function*(){const n=yield this.getSelectPromoArgs(e,t,this.params.config.queues[this.params.project]);return yield i.selectPromo(n)}))}selectAllActivePromos(e,t={}){var n;return r(this,void 0,void 0,(function*(){const r=yield this.getSelectPromoArgs(e,t,this.params.config.persistentQueues[this.params.project]);return yield o.selectAllActivePromos(r,null!==(n=this.webApiUrl)&&void 0!==n?n:"")}))}}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CHECKERS=void 0;const a=n(1617),s=n(1618),u=n(1619),c=n(1620),l=n(1621),d=n(1622),f=n(1623),p=n(1624),h=n(1625),m=n(1626),v=n(1627),g=n(1628),y=o(n(1629)),b=o(n(1639)),_=n(1641);t.CHECKERS=[y.auth,y.stage,y.promoEnabled,v.showFrequency,g.showPeriod,y.segment,y.langs,y.subscription,y.familyAdmin,y.userFamily,c.isYandexStaff,y.tld,y.testids,a.anchor,u.alreadyShownPromos,m.relatedPromos,h.projectSettings,s.billingPromoKey,_.webpSupport,f.productFamily,p.promoCodeActivation,l.legacy,d.plugin,b.showSegments,b.hideSegments]}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.getVisiblePromoAnchorElement=t.TooltipAnchor=void 0,(function(e){e.User="user",e.ServiceMail="serviceMailButton",e.ServiceDisk="serviceDiskButton",e.ServiceTelemost="serviceTelemostButton",e.ServiceDocuments="serviceDocumentsButton",e.ServiceCalendar="serviceCalendarButton",e.ServicePremium="servicePremiumButton",e.SettingsButton="settingsButton",e.CalendarLayerSettings="calendarLayerSettings"})(r=t.TooltipAnchor||(t.TooltipAnchor={}));const i=[r.ServiceMail,r.ServiceDisk,r.ServiceTelemost,r.ServiceDocuments,r.ServiceCalendar];t.getVisiblePromoAnchorElement=(e=>{let t=`.promozavr-anchor-${e}`;-1!==i.indexOf(e)&&(t=".PSHeader-Center "+t);const n=document.querySelector(t);return n&&(function(e){return Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length)})(n)?n:null})}),(function(e,t,n){var r=n(184),i=n(129);e.exports=function(e){return i(e)&&r(e)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getService=void 0;const r=n(1643);let i=null;t.getService=((e,t)=>{if(e)return i&&t||(i=e.getAll(r.schema).then(t=>new r.PsPromoDatasyncService(e,t))),i})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapSnapshotTypes=t.mapTypes=void 0;t.mapTypes=function(e,t){return e.reduce((function(e,n){if(t[n.id]){var r=n.id;e[r]=t[r].decode(n.value)}return e}),{})};t.mapSnapshotTypes=function(e,n){return(0,t.mapTypes)(e.map((function(e){return{id:e.record_id,value:e.fields[0].value.string}})),n)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldEnum=t.FieldNullable=t.FieldTuple=t.FieldArray=t.FieldDate=t.FieldBoolean=t.FieldNumber=t.FieldString=t.FieldJson=void 0;t.FieldJson=function(e){return{encode:function(t){return e.stringify(t)},decode:function(t){return e.parse(t)}}};t.FieldString=function(){return{encode:function(e){return e},decode:function(e){return e}}};t.FieldNumber=function(){return{encode:function(e){return String(e)},decode:function(e){return Number(e)}}};t.FieldBoolean=function(){return{encode:function(e){return e?"true":""},decode:function(e){return["on","true","1","yes","enabled"].includes(e)}}};t.FieldDate=function(){return{encode:function(e){return"".concat(e.getTime())},decode:function(e){return new Date(/^\d+$/.test(e)?Number(e):e)}}};t.FieldArray=function(e,t){return void 0===t&&(t=","),{encode:function(n){return n.map((function(t){return e.encode(t)})).join(t)},decode:function(n){return n?n.split(t).map((function(t){return e.decode(t)})):[]}}};t.FieldTuple=function(e,t){return void 0===t&&(t=","),{encode:function(n){return e.map((function(e,t){return e.encode(n[t])})).join(t)},decode:function(n){var r=n?n.split(t):[];return e.map((function(e,t){return e.decode(r[t]||"")}))}}};t.FieldNullable=function(e){return{encode:function(t){return null===t?"":e.encode(t)},decode:function(t){return t?e.decode(t):null}}};t.FieldEnum=function(e,t,n){return{encode:function(n){if(!t.includes(n))throw Error("Expected one of [".concat(t.join(", "),"], received ").concat(n));return e.encode(n)},decode:function(r){if(!r)return n;var i=e.decode(r);return t.includes(i)?i:n}}}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonSerializer=t.JsonEnum=t.JsonNullable=t.JsonDate=t.JsonMappers=void 0;var o=n(1647);Object.defineProperty(t,"JsonMappers",{enumerable:!0,get:function(){return o.JsonMappers}}),i(n(1039),t);t.JsonDate=function(e){return new o.DateMapper(e)};t.JsonNullable=function(e){return new o.NullableMapper(e)};t.JsonEnum=function(e,t){return new o.EnumMapper(e,t)};t.JsonSerializer=function(e,t){return void 0===t&&(t=o.JsonMappers),{stringify:function(n){var r=t.toJson(n,e);return JSON.stringify(r)},parse:function(n){var r=n?JSON.parse(n):void 0;return t.fromJson(r,e)}}}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.realType=t.JsonType=void 0,(function(e){e.Null="null",e.String="string",e.Boolean="boolean",e.Number="number",e.Array="array",e.Object="object",e.Unsupported="never"})(r=t.JsonType||(t.JsonType={})),t.realType=function(e){return null===e?r.Null:Array.isArray(e)?r.Array:"boolean"==typeof e?r.Boolean:"number"==typeof e?r.Number:"string"==typeof e?r.String:"object"==typeof e&&e.constructor&&e.constructor===Object?r.Object:r.Unsupported}}),(function(e,t,n){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.setCkey=t.getCkey=void 0;t.getCkey=(()=>r);t.setCkey=(e=>r=e)}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createWebApiClient=t.makeRetryOnCkeyUpdateInterceptor=void 0;const i=n(1651),o=n(1652),a=n(1660);t.makeRetryOnCkeyUpdateInterceptor=(e=>i.makeRetryInterceptor((e,t)=>!!t.isModelRejected(e.result)&&"ckey"===e.result.error,{},t=>r(void 0,void 0,void 0,(function*(){t.ckey&&e(t.ckey)})))),t.createWebApiClient=function({webApiUrl:e,uid:n,getCkey:i,setCkey:s,additional:u,skipCkey:c}){return r(this,void 0,void 0,(function*(){const l=[t.makeRetryOnCkeyUpdateInterceptor(s),o.passportAuthRedirectInterceptor,o.logModelsErrorInterceptor],d=(null===u||void 0===u?void 0:u.getBodyFields)||(()=>({_ckey:i()})),f=(null===u||void 0===u?void 0:u.getHeaders)||(()=>({})),p=a.createApiClient({webApiUrl:e,uid:n,getAdditionalHeaders:f,getAdditionalBodyFields:d,interceptors:l});return c||(yield (function(e,t,n){return r(this,void 0,void 0,(function*(){if(t())return;const r=yield e.request([{name:"get-ckey/v1",params:{}}]);if(e.isModelResolved(r[0])&&n(r[0].data.ckey),e.isModelRejected(r[0])){const e=r[0];"renewCkey"in e&&e.renewCkey&&n(e.renewCkey)}}))})(p,i,s)),p}))}}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(t){var n=e.call(this,t.statusText)||this;return n.name="ResponseError",n.status=t.status,n}return r(t,e),t})(Error);t.ResponseError=i}),(function(e,t,n){var r=n(1667),i=n(545)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i}),(function(e,t,n){var r=n(1670),i=n(1671);e.exports=function(e,t){return null!=e&&i(e,t,r)}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromozavrConfig=void 0;const o=i(n(529)),a=n(1041),s=n(1040);t.PromozavrConfig=class{constructor(e,t,n){const i="string"==typeof e?e:e.webApiUrl,u="string"==typeof e?t:e.uid,c="string"==typeof e?n:e.logger;this.dataPromise=a.createWebApiClient({webApiUrl:i,uid:u,getCkey:s.getCkey,setCkey:s.setCkey}).then(e=>r(this,void 0,void 0,(function*(){const t=yield e.request([{name:"promozavr-config",params:{}},{name:"promozavr-user-config",params:{uid:u}}]),n=t[0];if(e.isModelRejected(n)||o.default(n.data)||o.default(n.data.config)||o.default(n.data.translations)){const e=new Error("Cannot load promozavr config from bunker");if(!c)throw e;return void c.error(e)}const r=n.data,i=t[1];if(e.isModelRejected(i)){const e=new Error('model "promozavr-user-config" was rejected');c&&c.error(e)}else r.userConfig=i.data;return r})))}fetchData(){return r(this,void 0,void 0,(function*(){return yield this.dataPromise}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;const r=n(3),i=n(1137),o=n(745);t.Modal=r.compose(o.withZIndex,i.withThemeNormal)(i.Modal)}),(function(e,t,n){"use strict";n.r(t);n(526);var r=n(446);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsContext=t.MetricsLogger=void 0;const i=r(n(0)),o=r(n(142)),a=n(541);var s;!(function(e){e.Promozavr="Promozavr",e.Show="Show",e.Click="Click",e.Free="Free",e.Paid="Paid",e.ActionButton="Action button",e.CancelButton="Cancel button",e.SecondaryButton="Secondary button",e.CloseButton="Close button",e.OtherClose="Outside click or ESC keypress",e.Close="Close"})(s||(s={}));class u{constructor(e,t,n,r){this.sendMetric=((...i)=>{this.ifExists(null===r||void 0===r?void 0:r.hasSubscription,e=>i.push(e?s.Paid:s.Free)),e(s.Promozavr,t,n,...i)})}ifExists(e,t){if(null!==e&&void 0!==e)return t(e)}logPromoShow(){this.sendMetric(s.Show)}logPromoActionButtonClick(){this.sendMetric(s.ActionButton,s.Click)}logPromoCancelButtonClick(){this.sendMetric(s.CancelButton,s.Click)}logPromoSecondarylButtonClick(){this.sendMetric(s.SecondaryButton,s.Click)}logPromoCloseButtonClick(){this.sendMetric(s.CloseButton,s.Click)}logPromoOtherCloseEvent(){this.sendMetric(s.OtherClose)}logPromoCloseEvent(){this.sendMetric(s.Close)}logPromoClickEvent(){this.sendMetric(s.Click)}}t.MetricsLogger=u,t.MetricsContext=i.default.createContext(new u(o.default,a.PromoFormat.popup,"")),t.MetricsContext.displayName="MetricsContext"}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginContext=void 0;const i=r(n(0));t.PluginContext=i.default.createContext(void 0)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fallbacks=t.getPromoTranslations=t.getPromoTranslationKeys=t.getTranslation=void 0;const r=n(224);t.getTranslation=((e,t,n)=>{var r,i;return(null===(i=null===(r=null===e||void 0===e?void 0:e[n])||void 0===r?void 0:r.translations[t])||void 0===i?void 0:i.form)||""});t.getPromoTranslationKeys=((e,t)=>{var n,r,i;return null===(i=(null===(n=e.keysets)||void 0===n?void 0:n[t])||(null===(r=e.keysets)||void 0===r?void 0:r[`promo_${t}`]))||void 0===i?void 0:i.keys});t.getPromoTranslations=((e,n,r)=>{const i=t.getPromoTranslationKeys(e,r);return{titleText:t.getTranslation(i,n,"Title"),descriptionText:t.getTranslation(i,n,"Description"),actionButtonText:t.getTranslation(i,n,"ActionButton"),cancelButtonText:t.getTranslation(i,n,"CancelButton")}}),t.fallbacks={[r.Lang.ru]:null,[r.Lang.en]:r.Lang.ru,[r.Lang.az]:r.Lang.ru,[r.Lang.be]:r.Lang.ru,[r.Lang.hy]:r.Lang.ru,[r.Lang.ka]:r.Lang.ru,[r.Lang.kk]:r.Lang.ru,[r.Lang.ro]:r.Lang.en,[r.Lang.tr]:r.Lang.en,[r.Lang.tt]:r.Lang.ru,[r.Lang.uk]:r.Lang.ru,[r.Lang.uz]:r.Lang.ru}}),(function(e,t,n){var r=n(607),i=n(1730),o=n(608),a=1,s=2;e.exports=function(e,t,n,u,c,l){var d=n&a,f=e.length,p=t.length;if(f!=p&&!(d&&p>f))return!1;var h=l.get(e),m=l.get(t);if(h&&m)return h==t&&m==e;var v=-1,g=!0,y=n&s?new r:void 0;for(l.set(e,t),l.set(t,e);++v<f;){var b=e[v],_=t[v];if(u)var O=d?u(_,b,v,t,e,l):u(b,_,v,e,t,l);if(void 0!==O){if(O)continue;g=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(b===e||c(b,e,n,u,l)))return y.push(t)}))){g=!1;break}}else if(b!==_&&!c(b,_,n,u,l)){g=!1;break}}return l.delete(e),l.delete(t),g}}),(function(e,t,n){var r=n(128);e.exports=function(e){return e==e&&!r(e)}}),(function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSrcsForImage=void 0;const i=r(n(205));t.getSrcsForImage=function(e){const t=e["3x"]||e["2x"]||e["1.5x"]||e["1x"];if(!t)return;const n=i.default(e,"color");return{src:t,srcSet:Object.entries(n).map(([e,t])=>t?`${t} ${e}`:void 0).filter(Boolean).join(", ")}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProcessingNotifications=(e=>e.notifications.itemsProcessing),t.getNotifications=(e=>e.notifications.queue)}),(function(e,t,n){"use strict";var r=n(620),i=n(1789),o=n(63),a=n(1790).filterAvailableLangs;function s(e){return"docs.yandex.ru"===e||/^docs(\d?)\.ds[pt]\.yandex\.ru$/.test(e)||/^(?:pr|rc)-\d+\.docs\.regtests\.dsp\.yandex\.ru$/.test(e)||/\.docs-dev\.dsd\.yandex\.ru$/.test(e)}e.exports={prepare:function(e){var t=e.data,n=e.urlsBase,a=t.tld,u=n.www,c=n.disk,l=n.yandex360+"/disk/download?referer=webinterface",d=n.support+"/disk/troubleshooting.html",f=n.support+"/disk/",p=n.support+"/docs/",h=n.support+"/disk-mobile/",m=n.passport,v=n.pass,g="https://"+t.host+t.path,y=x(g,{uid:null,login:null});t.tld!==t.tldOrigin&&(y=c+"/auth/retpath"+t.pathOrigin,e.tldFinal=t.tld);var b="&retpath="+encodeURIComponent(y),_=b;t.source&&!/[&?]source=\w/.test(y)&&(_="&retpath="+encodeURIComponent(y+(y.indexOf("?")>-1?"&":"?")+"source="+encodeURIComponent(t.source)));var O=t.locale||"ru",E="&origin="+(s(t.host)?"docs_web":i.getParamOrigin(t.source,O)),w=x(g,{force_show:1});"/auth-stub"===t.path&&(w=w.replace("/auth-stub",""));var S={development:"S6UGX23D2F",prestable:"5C684NZ5BH",production:"64FXFTVQXK"}[e.environment],C={current:g,diskQR:o.replaceTld(c,"net")+"/qr/",statbox:"//clck.yandex.ru/click",disk:c,diskRoot:c+"/client/disk",langSwitch:u+"/portal/set/lang/",blog:"https://yandex.ru/blog/disk",twitterDisk:"https://twitter.com/yandexdisk",feedback:{disk:d,blocked:f+"blocked.html",abuse:n.support+"/abuse/troubleshooting/disk/list.html",disk4Yandex:"ru"===a?f+"zout_yandex.html":d,newDisk:"ru"===O?f:d},usabilityReseach:"https://forms.yandex.ru/surveys/13481004.f46e9b24430a9ee1004b4e0bf927a58da6d4f104/",termsOfUse:n.legal+"/disk_termsofuse/",connectTermsOfUse:n.legal+"/connect_software_agreement/",promoCodesTermsOfUse:n.legal+"/disk_promocode/",recommendationRules:"https://yandex.ru/legal/recommendations/#index__disk",tariffs:c+"/pay/tariffs/",drweb:"http://www.drweb.com",photo:c+"/photo/?from=main",downloadMailApp:"https://redirect.appmetrica.yandex.com/serve/964096712639555893",downloadApp:{win:l,mac:l,linux:l,ios:"https://appmetrica.yandex.ru/serve/17589353581187627129?action=click&app_id=ru.yandex.disk",android:"https://appmetrica.yandex.ru/serve/8634663676703474913?action=click&app_id=ru.yandex.disk",winphone:"https://appmetrica.yandex.ru/serve/12056877220594364778"},deepLink:"https://redirect.appmetrica.yandex.com/serve/96639634120940843",downloadMobileApp:{welcomeScreen:{ios:"https://redirect.appmetrica.yandex.com/serve/9563509207267024590",android:"https://redirect.appmetrica.yandex.com/serve/932489569810911545"}},agreement:n.legal+"/desktop_software_agreement/",blocked:n.legal+"/ugc_takedown/",passport:{origin:m,home:m,resign:m+"/auth/update/?"+b.slice(1),init:v+"/?"+b.slice(1)+E,nocookiesupport:m+"?mode=error&error=nocki",register:m+"/passport?mode=register&from=cloud"+_+E,qrcode:m+"/auth?mode=qr&from=cloud"+b,auth:m+"/auth?from=cloud"+E+b,addUser:m+"/auth?mode=add-user&origin=disk.desktop"+b,login:m+"/auth?from=cloud"+E,restore:m+"/passport?mode=restore&from=cloud"+b+E,userapprove:m+"/passport?mode=userapprove&from=cloud"+b,postregistration:m+"/passport?mode=postregistration&from=cloud&create_login=1&create_password=1"+_,light2full:m+"/profile/upgrade?"+(_+E).slice(1)},help:{disk:f,diskMobile:h,correctionSearch:n.support+"/search/how-to-search/request-correction.html#misspell",yateamnda:n.yateamWiki+"/disk/nda/",versionControl:f+"version-control.html",diskPro:f+"enlarge/buy-space.html",overdraft:f+"enlarge/disk-space.html",b2bFree:n.support+"/business/payment/disable-free-version.html",connect:o.replaceTldByLang(n.support+"/connect-disk/",t.locale,["ru","com"]),uploader:f+"uploading.html#cant-upload-folder"},videoPlayerIframeApi:t.videoPlayerVersion?n.externalStatic+"/yandex-video-player-iframe-api/js/player-api-loader.js":"https://frontend.vh.yandex.ru/stable/player_version_lts/player.js",updateBrowser:{firefox:u+"/firefox?from=link_disk___|",opera:u+"/opera?from=link_disk___|",forceShow:w},static:{host:n.static,hostExternal:n.externalStatic},extChrome:"https://chrome.google.com/webstore/detail/cbhneibcbgciicaihkefieefieeldnil",mail:n.mail,api:n.tech,downloadBrowser:n.browser,b2bDiskAdminPage:"https://business.yandex.ru/disk/promo?utm_campaign=tunning_page&utm_medium=teaser&utm_source=disk",telemost:n.telemost,b2bAdminProducts:n.admin+"/products/plans",docs:{help:p,mobileHelp:n.support+"/docs-mobile/",termsOfUse:"https://yandex.ru/legal/docs_termsofuse/"},tuningDiskLanding:n.yandex360+"/disk/",tuningWfolio:"".concat(n.yandex360,"/premium-plans?dialog=promo&promo=").concat(S,"&silent=1"),vacancies:"https://yandex.ru/jobs/services/360?from=disk_footer",wfolioSettings:"ru"===a?"https://wfolio.ru/my/disk":"https://wfolio.com/my/disk",wfolioAuth:"ru"===a?"https://wfolio.ru/yandex/login":"https://wfolio.com/yandex/login"};return C.updateBrowser.yandex=n.browser+"/?from=link_disk___|&banerid=0468000000","com"===a?(delete C.updateBrowser.firefox,delete C.updateBrowser.opera):"tr"===a&&delete C.updateBrowser.firefox,C.avatarDefault=e.urlAvatar+"0/0-0/islands-middle",e.links=C,e.tld=a,e.yandexuid=t.yandexuid,e.isDocsHost=s(t.host),e.isDocsView=e.isDocsHost&&t.path.startsWith("/docs/view?"),e.videoPlayerVersion=t.videoPlayerVersion,e.sourcesDownloadApp={saveTime:"Yandex.Greeting.SaveTime",welcome:"Yandex.Greeting.Welcome",upload:"Yandex.UploadDialog"},e;function x(e,t){var n;try{n=r.parse(e,!0)}catch(t){return e}for(var i in t)t.hasOwnProperty(i)&&(null===t[i]?delete n.query[i]:n.query[i]=t[i]);return n.search="",r.format(n)}},getLanguagesSupported:function(e){return a({availableLangs:(e.domains[e.tld]||e.domains.ru).langs,unsupported:e.unsupported||[]})}}}),(function(e,t){ns.Model.define("do-resource-create-folder",{params:{id:null,force:0}})}),(function(e,t){ns.Model.define("do-resource-move",{params:{src:null,dst:null,force:0}})}),(function(e,t,n){
/*! For license information please see index.js.LICENSE.txt */
e.exports=(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="//yastatic.net/s3/psf/general-themes/",n(n.s=107)})([(function(e,t,n){const r=n(22),i=n(25),o=n(28),a=n(31),s=n(34),u=n(37),c=n(40);e.exports=Object.assign({},r,i,o,a,s,u,c)}),(function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(46),i=n(47),o=n(10),a=n(48);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonSerializer=t.JsonEnum=t.JsonNullable=t.JsonDate=t.JsonMappers=void 0;var o=n(55);Object.defineProperty(t,"JsonMappers",{enumerable:!0,get:function(){return o.JsonMappers}}),i(n(14),t),t.JsonDate=function(e){return new o.DateMapper(e)},t.JsonNullable=function(e){return new o.NullableMapper(e)},t.JsonEnum=function(e,t){return new o.EnumMapper(e,t)},t.JsonSerializer=function(e,t){return void 0===t&&(t=o.JsonMappers),{stringify:function(n){var r=t.toJson(n,e);return JSON.stringify(r)},parse:function(n){var r=n?JSON.parse(n):void 0;return t.fromJson(r,e)}}}}),(function(e,t,n){var r=n(52)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldEnum=t.FieldNullable=t.FieldTuple=t.FieldArray=t.FieldDate=t.FieldBoolean=t.FieldNumber=t.FieldString=t.FieldJson=void 0,t.FieldJson=function(e){return{encode:function(t){return e.stringify(t)},decode:function(t){return e.parse(t)}}},t.FieldString=function(){return{encode:function(e){return e},decode:function(e){return e}}},t.FieldNumber=function(){return{encode:function(e){return String(e)},decode:function(e){return Number(e)}}},t.FieldBoolean=function(){return{encode:function(e){return e?"true":""},decode:function(e){return["on","true","1","yes","enabled"].includes(e)}}},t.FieldDate=function(){return{encode:function(e){return"".concat(e.getTime())},decode:function(e){return new Date(/^\d+$/.test(e)?Number(e):e)}}},t.FieldArray=function(e,t){return void 0===t&&(t=","),{encode:function(n){return n.map((function(t){return e.encode(t)})).join(t)},decode:function(n){return n?n.split(t).map((function(t){return e.decode(t)})):[]}}},t.FieldTuple=function(e,t){return void 0===t&&(t=","),{encode:function(n){return e.map((function(e,t){return e.encode(n[t])})).join(t)},decode:function(n){var r=n?n.split(t):[];return e.map((function(e,t){return e.decode(r[t]||"")}))}}},t.FieldNullable=function(e){return{encode:function(t){return null===t?"":e.encode(t)},decode:function(t){return t?e.decode(t):null}}},t.FieldEnum=function(e,t,n){return{encode:function(n){if(!t.includes(n))throw Error("Expected one of [".concat(t.join(", "),"], received ").concat(n));return e.encode(n)},decode:function(r){if(!r)return n;var i=e.decode(r);return t.includes(i)?i:n}}}}),(function(e,t,n){var r=n(43),i=n(44),o=n(10),a=n(45);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(9);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(108),t)}),(function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapSnapshotTypes=t.mapTypes=void 0,t.mapTypes=function(e,t){return e.reduce((function(e,n){if(t[n.id]){var r=n.id;e[r]=t[r].decode(n.value)}return e}),{})},t.mapSnapshotTypes=function(e,n){return(0,t.mapTypes)(e.map((function(e){return{id:e.record_id,value:e.fields[0].value.string}})),n)}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.realType=t.JsonType=void 0,(function(e){e.Null="null",e.String="string",e.Boolean="boolean",e.Number="number",e.Array="array",e.Object="object",e.Unsupported="never"})(r=t.JsonType||(t.JsonType={})),t.realType=function(e){return null===e?r.Null:Array.isArray(e)?r.Array:"boolean"==typeof e?r.Boolean:"number"==typeof e?r.Number:"string"==typeof e?r.String:"object"==typeof e&&e.constructor&&e.constructor===Object?r.Object:r.Unsupported}}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"1536-72aca2144183d2847dd06bec20abbdfb.jpg"}),(function(e,t,n){"use strict";e.exports=n(49)}),(function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(50);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(12).default,i=n(51);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DatasyncService=t.mapSnapshotTypes=t.FieldEnum=t.FieldNullable=t.FieldJson=t.FieldTuple=t.FieldArray=t.FieldDate=t.FieldBoolean=t.FieldString=t.FieldNumber=t.NoopDatasyncClient=t.DatasyncClient=void 0;var o=n(53);Object.defineProperty(t,"DatasyncClient",{enumerable:!0,get:function(){return o.DatasyncClient}}),Object.defineProperty(t,"NoopDatasyncClient",{enumerable:!0,get:function(){return o.NoopDatasyncClient}});var a=n(5);Object.defineProperty(t,"FieldNumber",{enumerable:!0,get:function(){return a.FieldNumber}}),Object.defineProperty(t,"FieldString",{enumerable:!0,get:function(){return a.FieldString}}),Object.defineProperty(t,"FieldBoolean",{enumerable:!0,get:function(){return a.FieldBoolean}}),Object.defineProperty(t,"FieldDate",{enumerable:!0,get:function(){return a.FieldDate}}),Object.defineProperty(t,"FieldArray",{enumerable:!0,get:function(){return a.FieldArray}}),Object.defineProperty(t,"FieldTuple",{enumerable:!0,get:function(){return a.FieldTuple}}),Object.defineProperty(t,"FieldJson",{enumerable:!0,get:function(){return a.FieldJson}}),Object.defineProperty(t,"FieldNullable",{enumerable:!0,get:function(){return a.FieldNullable}}),Object.defineProperty(t,"FieldEnum",{enumerable:!0,get:function(){return a.FieldEnum}});var s=n(13);Object.defineProperty(t,"mapSnapshotTypes",{enumerable:!0,get:function(){return s.mapSnapshotTypes}});var u=n(54);Object.defineProperty(t,"DatasyncService",{enumerable:!0,get:function(){return u.DatasyncService}}),i(n(3),t)}),(function(e,t,n){n(23),n(24),t.MG_DARK={root:"mg-dark",color:"mg-dark"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(26),n(27),t.MG_LIGHT={root:"mg-light",color:"mg-light"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(29),n(30),t.PS_DARK={root:"ps-dark",color:"ps-dark"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(32),n(33),t.PS_LIGHT={root:"ps-light",color:"ps-light"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(35),n(36),t.PS_DARK_TRANSPARENT={root:"ps-dark-transparent",color:"ps-dark-transparent"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(38),n(39),t.PS_SUPERDARK_TRANSPARENT={root:"ps-superdark-transparent",color:"ps-superdark-transparent"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){n(41),n(42),t.PS_LIGHT_TRANSPARENT={root:"ps-light-transparent",color:"ps-light-transparent"}}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){var r=n(9);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";function r(e){function t(t,i,o,a){var s=i?n+t+e.e+i:n+t,u=s;if(o){var c=" "+u+e.m;for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];!0===d?u+=c+l:d&&(u+=c+l+r+d)}}if(void 0!==a)for(var f=0,p=a.length;f<p;f++){var h=a[f];if(h&&"string"==typeof h.valueOf())for(var m=h.valueOf().split(" "),v=0;v<m.length;v++){var g=m[v];g!==s&&(u+=" "+g)}}return u}var n=e.n||"",r=e.v||e.m;return function(e,n){return function(r,i,o){return"string"==typeof r?Array.isArray(i)?t(e,r,void 0,i):t(e,r,i,o):t(e,n,r,i)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=r({e:"-",m:"_"});t.cn=i,t.withNaming=r}),(function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){var r=n(12).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=(function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}})(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p={};function h(){}function m(){}function v(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(T([])));b&&b!==n&&o.call(b,s)&&(g=b);var _=v.prototype=h.prototype=Object.create(g);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,s,u){var c=f(e[i],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;this._invoke=function(e,r){function o(){return new t(function(t,i){n(e,r,t,i)})}return i=i?i.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=v,l(_,"constructor",v),l(v,"constructor",m),m.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},O(E.prototype),l(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(_),l(_,c,"Generator"),l(_,s,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NoopDatasyncClient=t.DatasyncClient=void 0;var o=n(13),a=(function(){function e(e){this.api=e.api,this.db=e.db,this.collection=e.collection,this.uid=String(e.uid),this.errorHandler=e.errorHandler}return e.prototype.logError=function(e){this.errorHandler&&this.errorHandler(e)},Object.defineProperty(e.prototype,"dbUrl",{get:function(){return"/".concat("web_interfaces_360","/v1/personality/profile/").concat(this.db,"/").concat(this.collection)},enumerable:!1,configurable:!0}),e.prototype.getKeyUrl=function(e){return"".concat(this.dbUrl,"/").concat(e)},e.prototype.isNotFoundError=function(e){return 404===e.status},e.prototype.getRequestOptions=function(e){return void 0===e&&(e={}),Object.assign({headers:{"X-Uid":this.uid}},e)},e.prototype.getValue=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.api.get(this.getKeyUrl(e),this.getRequestOptions())];case 1:return[2,n.sent().value];case 2:if(t=n.sent(),!this.isNotFoundError(t))throw this.logError(t),t;return[3,3];case 3:return[2]}}))}))},e.prototype.setValue=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.api.put(this.getKeyUrl(e),{value:t},this.getRequestOptions({maxAttempts:1}))];case 1:return r.sent(),[3,3];case 2:throw n=r.sent(),this.logError(n),n;case 3:return[2]}}))}))},e.prototype.deleteKey=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.api.delete(this.getKeyUrl(e),this.getRequestOptions())];case 1:return n.sent(),[2,!0];case 2:if(t=n.sent(),this.isNotFoundError(t))return[2,!1];throw this.logError(t),t;case 3:return[2]}}))}))},e.prototype.getAll=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.api.get(this.dbUrl,this.getRequestOptions())];case 1:return t=r.sent().items,[2,(0,o.mapTypes)(t,e)];case 2:throw n=r.sent(),this.logError(n),n;case 3:return[2]}}))}))},e})();t.DatasyncClient=a;var s=(function(){function e(){}return e.prototype.getValue=function(){return Promise.resolve(void 0)},e.prototype.setValue=function(){return Promise.resolve()},e.prototype.deleteKey=function(){return Promise.resolve(!1)},e.prototype.getAll=function(){return Promise.resolve({})},e})();t.NoopDatasyncClient=s}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DatasyncService=void 0;var o=(function(){function e(e,t){void 0===t&&(t={}),this.client=e,this.data=t}return e.prototype.setValue=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){return this.data[e]=t,[2,this.client.setValue(String(e),this.schema[e].encode(t))]}))}))},e.prototype.getValue=function(e){return this.data[e]},e})();t.DatasyncService=o}),(function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DateMapper=t.NullableMapper=t.JsonMappers=t.UnsupportedMapper=t.ObjectMapper=t.EnumMapper=t.SimpleMapper=void 0;var i=n(56),o=n(14);function a(e){switch((0,o.realType)(e)){case o.JsonType.Array:return e.map(a);case o.JsonType.Object:return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=a(r),e}),{});default:return e}}var s=(function(){function e(e){this.schema=e,this.schemaType=(0,o.realType)(this.schema)}return e.prototype.toJson=function(e,t){var n=(0,o.realType)(e);if(this.schemaType!==n)throw new i.JsonSerializerTypeMismatchError(this.schemaType,n,t);return e},e.prototype.fromJson=function(e){var t=(0,o.realType)(e);return this.schemaType===t?e:a(this.schema)},e})();t.SimpleMapper=s;var u=(function(){function e(e,t){this.values=e,this.fallback=t}return e.prototype.isValid=function(e){return this.values.includes(e)},e.prototype.toJson=function(e,t){if(!this.isValid(e))throw new i.JsonSerializerTypeMismatchError("one of [".concat(this.values.join(", "),"]"),'"'.concat(e,'"'),t);return e},e.prototype.fromJson=function(e){return this.isValid(e)?e:this.fallback},e})();t.EnumMapper=u;var c=(function(){function e(e){this.schema=e}return e.prototype.toJson=function(e,n){var a=this,s=(0,o.realType)(e);if(s!==o.JsonType.Object)throw new i.JsonSerializerTypeMismatchError(o.JsonType.Object,s,n);for(var u=Object.keys(this.schema),c=new Set(Object.keys(e)),l=0,d=u;l<d.length;l++){var f=d[l];if(!(f in e))throw new i.JsonSerializerMissingKeyError(r(r([],n,!0),[f],!1));c.delete(f)}return c.size>0&&c.forEach((function(e){throw new i.JsonSerializerExtraKeyError(r(r([],n,!0),[e],!1))})),u.reduce((function(i,o){var s=t.JsonMappers.toJson(e[o],a.schema[o],r(r([],n,!0),[String(o)],!1));return i[o]=s,i}),{})},e.prototype.fromJson=function(e){var n=this,r=new Set(Object.keys(this.schema)),i=Object.keys(e||{}).filter((function(e){return r.has(e)})).reduce((function(r,i){return r[i]=t.JsonMappers.fromJson(e[i],n.schema[i]),r}),{});return r.forEach((function(e){if(!(e in i)){var r=t.JsonMappers.selectMapperBySchema(n.schema[e]);i[e]=r.fromJson(void 0)}})),i},e})();t.ObjectMapper=c;var l=(function(){function e(e){this.schema=e,this.expectedType=(0,o.realType)(this.schema)}return e.prototype.toJson=function(e,t){var n="constructor"in e?"class ".concat(e.constructor.name):"unknown";throw new i.JsonSerializerTypeMismatchError(this.expectedType,n,t)},e.prototype.fromJson=function(e){return t.JsonMappers.selectMapperBySchema(this.schema).fromJson(e)},e})();t.UnsupportedMapper=l,t.JsonMappers={isJsonMapper:function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.toJson&&"function"==typeof e.fromJson},selectMapper:function(e,n){return t.JsonMappers.isJsonMapper(e)?e:(0,o.realType)(n)===o.JsonType.Unsupported?new l(e):t.JsonMappers.selectMapperBySchema(e)},selectMapperBySchema:function(e){return t.JsonMappers.isJsonMapper(e)?e:(0,o.realType)(e)===o.JsonType.Object?new c(e):new s(e)},toJson:function(e,n,r){return void 0===r&&(r=["$"]),t.JsonMappers.selectMapper(n,e).toJson(e,r)},fromJson:function(e,n){return t.JsonMappers.selectMapper(n,e).fromJson(e)}};var d=(function(){function e(e){this.schema=e}return e.prototype.toJson=function(e,n){return null===e?null:t.JsonMappers.selectMapper(this.schema,e).toJson(e,n)},e.prototype.fromJson=function(e){return null==e?null:t.JsonMappers.selectMapper(this.schema,e).fromJson(e)},e})();t.NullableMapper=d;var f=(function(){function e(e){this.defaultValue=e}return e.prototype.toJson=function(e,t){if(!(e instanceof Date))throw new i.JsonSerializerTypeMismatchError("Date",(0,o.realType)(e),t);return e.getTime()},e.prototype.fromJson=function(e){return(0,o.realType)(e)!==o.JsonType.Number?new Date(this.defaultValue):new Date(e)},e})();t.DateMapper=f}),(function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.JsonSerializerExtraKeyError=t.JsonSerializerMissingKeyError=t.JsonSerializerTypeMismatchError=t.JsonSerializerError=void 0;var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="JsonSerializerError",t}return i(t,e),t})(Error);t.JsonSerializerError=o;var a=(function(e){function t(t,n,r){var i=e.call(this)||this;return i.message="Expected ".concat(t,", received ").concat(n," at path ").concat(r.join(".")),i.name="JsonSerializerTypeMismatchError",i}return i(t,e),t})(o);t.JsonSerializerTypeMismatchError=a;var s=(function(e){function t(t){var n=e.call(this)||this;return n.message="Missing key at path ".concat(t.join(".")),n.name="JsonSerializerMissingKeyError",n}return i(t,e),t})(o);t.JsonSerializerMissingKeyError=s;var u=(function(e){function t(t){var n=e.call(this)||this;return n.message="Extra key at path ".concat(t.join(".")),n.name="JsonSerializerExtraKeyError",n}return i(t,e),t})(o);t.JsonSerializerExtraKeyError=u}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-thumb-5bf31af49e2596b6259f6c8c3b427f7c.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-thumb-7c50847f9b8a87388d9bd216f3866b5b.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1920-6ef92d2aa2aa617a49dba4a4161ae13f.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1920-91efb29b9ee664458488609ce99e8e60.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1536-4d1053e030ee283191fa9ca5061116da.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1536-e81a6738e2823fe74f2c4c3046dcc626.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1366-36ea1a41d20c41a621e5f2bf465dd19c.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1366-f7d1513ca14f1011b0abdbd5d772afc2.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1280-f2ab67e02f956a3f62698460eb415320.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-1280-72b396dc4228cc7f545b53528bf8a782.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-b24dc3a13753ca710c43ce2136374322.mp4"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"flow-fe58fa3952f0059fe76c5e1de224449e.webm"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-thumb-7f656a3af1cb4b5be207baaab5329e02.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-thumb-50901bceadf59373e40bd947ba3fb8e2.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1920-8eb0b64173599566bd035d6ee9f6d3d3.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1920-b84cce28addb3cd74e22ad0d38971f30.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1920-543511a562ceff8814a8ef57452133e9.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1536-7b4df3c0ab86b2a6c550f917ef10bf68.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1536-2dd7f3bc3a1423aabcc3684f9228b92a.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1536-f97f1a1fddf897aed2792b67e0cc173b.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1366-2bb82eaf1533bdcd048936996c2c035c.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1366-83a08c7c36bbbc1a58f3b30c8975a682.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1366-14e91e3a74ca5eb6c89c8d9418cf3136.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1280-751f41d5621f9d8e8429ad569ae3eb25.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1280-16936469be8a3ff3a807d6faa4edda22.png"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-1280-0e435c6f029ef1b6484d2be372529a57.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-b787e76a464195fe04fc8f82b6471266.mp4"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"grass-a7a4a50d26c99f07476d4b7096bcbd88.webm"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-thumb-4be49d8ff52cad05d7a391af9953d18e.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-thumb-7b4b8b933e5b8f967ffb08d8ece1c7a8.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1920-7d5623bb42514c0f14e16bec90161c8f.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1920-ed6e57ec7856edf00fe1cd7fccad584d.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1536-a7e53ebfd64a82a126773db166d30c1b.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1536-1590a35762d9d9aa526dad74577e9a8b.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1366-36d62b2138e2c4f9bf3054bc4d11a8cd.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1366-b82fff2b2be835286ac7653c2af35195.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1280-27193bdda6055363859fd6614b87fe4c.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1280-d606f37db4a9559c9fe85d84038b6e7f.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-85498c55c1c952fe96c54f5e8be6f1ca.mp4"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"darkflow-1c98f1b6485fe79a311cc8d101318d46.webm"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"thumb-70c5eeadf1fa461eb8b5a82d24f89cd0.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"thumb-f52a78951b8f9b5be6875934f068a477.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"1920-1cf2de0de99d4f93b3e6dff115972261.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"1920-e0454b9544779f83ddd45daf040bdd2a.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"1536-ffe7be50b9a8350ba076a79572e956b5.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"1366-147669456868b0a8b7098d6ee76e9272.jpg"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"1366-31313e0c9b73c27ab04e82fea678d0b0.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"1280-6e344192876ff48a38817d5e31fb08c0.webp"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"video-91c6accf3a303ffe8b3b4f389947cd6f.mp4"}),(function(e,t,n){"use strict";n.r(t),t.default=n.p+"video-86d52ad7c854d23b59ddd89353b61998.webm"}),(function(e,t,n){"use strict";n.r(t),n.d(t,"isDarkTheme",(function(){return G})),n.d(t,"themes",(function(){return q}));var r,i=n(1),o=n.n(i);!(function(e){e.GeneralDefault="general-default",e.GeneralDarkDefault="general-dark-default",e.GeneralFlow="general-flow",e.GeneralGrass="general-grass",e.GeneralDarkflow="general-darkflow",e.GeneralNewYear2024="general-new-year-2024",e.Void=""})(r||(r={}));var a=n(0),s=n(6),u=n.n(s),c=n(2),l=n.n(c),d=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([.0-9]+)\s*)?\)$/,f=/^hsla?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+)\s*)?\)$/,p=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?$/,h=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?$/;function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return String(isNaN(Number(e))?t[n]:e)}}function v(e){var t=l()(e,3),n=t[0],r=t[1],i=t[2],o=(1-Math.abs(2*i-1))*r,a=n/60,s=o*(1-Math.abs(a%2-1)),u=[0,0,0];isNaN(n)?u=[0,0,0]:a<=1?u=[o,s,0]:a<=2?u=[s,o,0]:a<=3?u=[0,o,s]:a<=4?u=[0,s,o]:a<=5?u=[s,0,o]:a<=6&&(u=[o,0,s]);var c=i-.5*o;return[Math.round(255*(u[0]+c)%256),Math.round(255*(u[1]+c)%256),Math.round(255*(u[2]+c)%256)]}function g(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];1===(n=(e=[]).concat.apply(e,u()(n))).length&&(n=g.parse(n[0]));var i=n,o=l()(i,4),a=o[0],s=o[1],c=o[2],d=o[3];return"rgba(".concat(a,",").concat(s,",").concat(c,",").concat(void 0===d?1:d,")")}function y(e){return g.parse(e).slice(0,3).join(", ")}function b(e,t,n){return Object.keys(n).reduce((function(r,i){return n[i].reduce((function(n,r){return Object.assign(n,o()({},"".concat(e,"-darken").concat(r),y(function(e,t){var n=g.parse(e),r=l()(n,4),i=r[0],o=r[1],a=r[2],s=r[3],c=(function(e){var t=l()(e,3),n=t[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o=Math.max(n,r,i),a=Math.min(n,r,i),s=o-a,u=0;0===s?u=0:o===n?u=(r-i)/s%6:o===r?u=(i-n)/s+2:o===i&&(u=(n-r)/s+4);var c=(a+o)/2;return[60*u,0===s?0:s/(1-Math.abs(2*c-1)),c]})([i,o,a]),d=l()(c,3),f=d[0],p=d[1],h=d[2];return h*=1-t/100,g.apply(void 0,u()(v([f,p,h])).concat([s]))}(t,r))))}),r)}),o()({},e,y(t)))}g.parse=function(e){e=(function(e){switch(!0){case/^#/.test(e):return (function(e){var t=function(t){return t.exec(e).slice(1).map((function(e){return(String(e)+e).slice(0,2)})).map((function(e){return parseInt(e,16)})).map(m(255,255,255,1)).join(",")};switch(e.length){case 4:case 5:return"rgba(".concat(t(h),")");case 7:case 9:return"rgba(".concat(t(p),")");default:throw new TypeError("Unexpected hex color format in ".concat(e))}})(e);case/^hsla?\(/.test(e):return (function(e){var t=f.exec(e).slice(1).map(Number),n=l()(t,4),r=n[0],i=n[1],o=n[2],a=n[3],s=v([r,i,o]),u=l()(s,3),c=u[0],d=u[1],p=u[2];return"rgba(".concat([c,d,p,a].map(m(255,255,255,1)).join(","),")")})(e);case/^rgba?\(/.test(e):return e;default:throw new TypeError("Unexpected color format in ".concat(e))}})(e);var t=d.exec(e).slice(1).map(Number),n=l()(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return[r,i,o,void 0===a?1:a]},n(11);var _=n(7),O=(n.n(_),n(17)),E=(n.n(O),n(18)),w=(n.n(E),n(19)),S=(n.n(w),n(20)),C=(n.n(S),n(8)),x=(n.n(C),n(4)),T=(n.n(x),n(21)),P=n(5),k=n(3),j={theme:Object(k.JsonNullable)(Object(k.JsonEnum)(Object.values(r),r.GeneralFlow)),settings:{isVideoEnabled:!0,isNewYear2024ThemeEnabled:!1}};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o()({},"generalThemes",Object(P.FieldJson)(Object(k.JsonSerializer)(j)));var A,D={customEnable:function(e){return I(I({},e),{},{isNewYear2024ThemeEnabled:!0})},customDisable:function(e){return I(I({},e),{},{isNewYear2024ThemeEnabled:!1})},isEnabled:function(e){return e.isNewYear2024ThemeEnabled},isAvailable:function(e){var t=e||new Date,n=new Date("12/18/2023"),r=new Date("01/09/2024");return t>=n&&t<r}};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r.GeneralNewYear2024,o()({},r.GeneralNewYear2024,D),Object.values(r),T.DatasyncService,(function(e){e.BREAK_1920="1920",e.BREAK_1536="1536",e.BREAK_1366="1366",e.BREAK_1280="1280"})(A||(A={}));var L={name:r.GeneralFlow,thumbnail:{jpeg:n(57).default,webp:n(58).default},page:{base:a.PS_LIGHT_TRANSPARENT,override:N(N({},b("--accent-color","#ffd04d",{darken:[10,20]})),{},{"--bg-color":y("#ffd0b0"),"--main-text-color":y("#000"),"--sub-text-color":y("#000"),"--accent-text-color":y("#000")})},aside:{base:a.PS_LIGHT_TRANSPARENT},content:{base:a.PS_LIGHT,override:{"--bg-color":y("#fff")}},layers:{cover:{imageUrl:{1920:{jpeg:n(59).default,webp:n(60).default},1536:{jpeg:n(61).default,webp:n(62).default},1366:{jpeg:n(63).default,webp:n(64).default},1280:{jpeg:n(65).default,webp:n(66).default}},videoUrl:{mpeg:n(67).default,webm:n(68).default}}}},F={name:r.GeneralGrass,thumbnail:{jpeg:n(69).default,webp:n(70).default},page:{base:a.PS_DARK_TRANSPARENT,override:{"--bg-color":y("#758c00")}},aside:{base:a.PS_DARK_TRANSPARENT},content:{base:a.PS_LIGHT,override:{"--bg-color":y("#fff")}},layers:{cover:{imageUrl:{1920:{jpeg:n(71).default,png:n(72).default,webp:n(73).default},1536:{jpeg:n(74).default,png:n(75).default,webp:n(76).default},1366:{jpeg:n(77).default,png:n(78).default,webp:n(79).default},1280:{jpeg:n(80).default,png:n(81).default,webp:n(82).default}},videoUrl:{mpeg:n(83).default,webm:n(84).default}}}},B={name:r.GeneralDarkflow,thumbnail:{jpeg:n(85).default,webp:n(86).default},page:{base:a.PS_SUPERDARK_TRANSPARENT,override:{"--bg-color":y("#303035"),"--accent-color":"247, 247, 255, 0.92","--accent-color-hover":"250, 250, 255, 0.92","--accent-color-active":"255, 255, 255, 0.92","--direct-line-bg":y("#1E1E21")}},aside:{base:a.PS_SUPERDARK_TRANSPARENT},content:{base:a.PS_DARK,override:{"--bg-color":y("#1E1E21")}},layers:{cover:{imageUrl:{1920:{jpeg:n(87).default,webp:n(88).default},1536:{jpeg:n(89).default,webp:n(90).default},1366:{jpeg:n(91).default,webp:n(92).default},1280:{jpeg:n(93).default,webp:n(94).default}},videoUrl:{mpeg:n(95).default,webm:n(96).default}}}},U={name:r.GeneralDarkDefault,page:{base:a.PS_SUPERDARK_TRANSPARENT,override:{"--bg-color":y("#303035"),"--accent-color":"247, 247, 255, 0.92","--accent-color-hover":"250, 250, 255, 0.92","--accent-color-active":"255, 255, 255, 0.92","--direct-line-bg":y("#1E1E21")}},aside:{base:a.PS_SUPERDARK_TRANSPARENT},content:{base:a.PS_DARK}},z={name:r.GeneralNewYear2024,thumbnail:{jpeg:n(97).default,webp:n(98).default},page:{base:a.PS_SUPERDARK_TRANSPARENT,override:{"--bg-color":y("#303035"),"--accent-color":"247, 247, 255, 0.92","--accent-color-hover":"250, 250, 255, 0.92","--accent-color-active":"255, 255, 255, 0.92","--direct-line-bg":y("#1E1E21")}},aside:{base:a.PS_SUPERDARK_TRANSPARENT},content:{base:a.PS_DARK,override:{"--bg-color":y("#1E1E21")}},layers:{cover:{imageUrl:{1920:{jpeg:n(99).default,webp:n(100).default},1536:{jpeg:n(15).default,webp:n(101).default},1366:{jpeg:n(102).default,webp:n(103).default},1280:{jpeg:n(15).default,webp:n(104).default}},videoUrl:{mpeg:n(105).default,webm:n(106).default}}}};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W,$={name:r.GeneralDefault,page:{base:a.PS_LIGHT_TRANSPARENT,override:H(H({},b("--accent-color","#ffd04d",{darken:[10,20]})),{},{"--bg-color":y("#EBF0FF"),"--main-text-color":y("#000"),"--sub-text-color":y("#000"),"--accent-text-color":y("#000")})},aside:{base:a.PS_LIGHT_TRANSPARENT},content:{base:a.PS_LIGHT,override:{"--bg-color":y("#fff")}}};function G(e){return[a.MG_DARK.color,a.PS_DARK.color,a.PS_DARK_TRANSPARENT.color,a.PS_SUPERDARK_TRANSPARENT.color].includes(e.color)}var q=(W={},o()(W,r.GeneralDefault,$),o()(W,r.GeneralDarkDefault,U),o()(W,r.GeneralNewYear2024,z),o()(W,r.GeneralGrass,F),o()(W,r.GeneralFlow,L),o()(W,r.GeneralDarkflow,B),W)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"cnTheme",(function(){return o})),n.d(t,"configureRootTheme",(function(){return s}));var r=n(16),i=function(){return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement},o=Object(r.cn)("Theme"),a="",s=function(e){var t=e.theme,n=e.root,r=void 0===n?i()?document.body:null:n;if(i()){if(!r)throw new Error("Значение в root не является DOM-элементом, невозможно установить глобальную тему.");var s=r.className.replace(a,"");a=o(t),r.className=s+" "+a}}})])}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(1803),n(1804);var r={color:"ps-dark",root:"ps-dark"}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTheme=t.isThemeCustom=t.isThemeEnabled=t.isThemeAvailable=t.isValidThemeName=void 0;var r=n(235),i=n(1062),o=Object.values(r.ThemeName);t.isValidThemeName=function(e){return o.some((function(t){return e===t}))},t.isThemeAvailable=function(e,t){var n=i.THEMES_CUSTOMIZATIONS[e];return!n||!n.isAvailable||n.isAvailable(t)},t.isThemeEnabled=function(e,t){var n=i.THEMES_CUSTOMIZATIONS[e];return!n||!n.isEnabled||n.isEnabled(t)},t.isThemeCustom=function(e){return null!=i.THEMES_CUSTOMIZATIONS[e]},t.getCurrentTheme=function(e,t){return (function(e,t){for(var n,r=0,o=i.CUSTOM_THEMES_ORDER;r<o.length;r++){var a=o[r],s=i.THEMES_CUSTOMIZATIONS[a];if(null===(n=null===s||void 0===s?void 0:s.isEnabled)||void 0===n?void 0:n.call(s,e.settings))return s.isAvailable?s.isAvailable(t)?a:null:a}return null})(e,t)||e.theme||r.ThemeName.Void}}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.THEMES_CUSTOMIZATIONS=t.CUSTOM_THEMES_ORDER=void 0;var i=n(235),o=n(1814);t.CUSTOM_THEMES_ORDER=[i.ThemeName.GeneralNewYear2024],t.THEMES_CUSTOMIZATIONS=((r={})[i.ThemeName.GeneralNewYear2024]=o.NewYear2024ThemeCustomization,r)}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleVideoBgTooltip=t.toggleVideoBgLabel=t.generalThemesInfoTooltip=void 0,t.generalThemesInfoTooltip="Единая тема для Почты, \nДиска и Телемоста",t.toggleVideoBgLabel="Проигрывать видеофоны",t.toggleVideoBgTooltip="Если отключить, вместо видеофонов \nбудут статичные изображения"}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1875);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useGeneralThemesDatasync=void 0;var r=n(1878);Object.defineProperty(t,"useGeneralThemesDatasync",{enumerable:!0,get:function(){return r.useGeneralThemesDatasync}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipStateful=void 0;var r=n(1880);Object.defineProperty(t,"TooltipStateful",{enumerable:!0,get:function(){return r.TooltipStateful}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipStateful=void 0;var r=n(1),i=r.__importStar(n(0)),o=n(219),a=n(1882),s=n(202),u=n(872),c=n(1886);t.TooltipStateful=function(e){var t,n=e.children,l=e.content,d=e.defaultVisible,f=void 0!==d&&d,p=e.id,h=e.trigger,m=void 0===h?"hover":h,v=e.openDelay,g=e.closeDelay,y=r.__rest(e,["children","content","defaultVisible","id","trigger","openDelay","closeDelay"]),b=s.useUniqId("tooltip"),_=p||b,O=c.useTooltipState({openDelay:v,closeDelay:g,defaultVisible:f}),E=O.visible,w=O.open,S=O.close,C=O.toggle,x=i.useRef(null),T=i.Children.only(n),P=(Array.isArray(m)?m:[m]).reduce((function(e,t){switch(t){case"click":e.onClick=a.forkFn(T.props.onClick,(function(){return C()}));break;case"focus":e.onFocus=a.forkFn(T.props.onFocus,(function(){return w()})),e.onBlur=a.forkFn(T.props.onBlur,(function(){return S()}));break;case"hover":e.onMouseEnter=a.forkFn(T.props.onMouseEnter,(function(){return w()})),e.onMouseLeave=a.forkFn(T.props.onMouseLeave,(function(){return S()}))}return e}),{}),k="string"==typeof T.type?"ref":"innerRef",j=void 0===T.props[k]?x:o.mergeRefs(T.props[k],x);return i.default.createElement(i.default.Fragment,null,i.cloneElement(T,r.__assign(r.__assign({},P),((t={})[k]=j,t["aria-describedby"]=_,t))),i.default.createElement(u.Tooltip,r.__assign({},y,{id:_,visible:E,anchor:x,onClose:S}),l))}}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withDefaultDelay=void 0;var a=o(n(0));t.withDefaultDelay=function(e){return function(t){return (function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return r(o,n),o.prototype.render=function(){var n=i({openDelay:e},this.props);return a.default.createElement(t,i({},n))},o})(a.default.PureComponent)}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"enableTheme",(function(){return u})),n.d(t,"enableVideoBg",(function(){return c})),n.d(t,"disableVideoBg",(function(){return l}));var r=n(10),i=n.n(r),o=n(59);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return function(t,n){var r=n().settings,i=s(s({},r),{},{generalThemes:s(s({},r.generalThemes),{},{theme:e.theme,settings:e.settings})});t(Object(o.updateSettings)(i))}},c=function(){return function(e,t){var n=t().settings,r=s(s({},n),{},{generalThemes:s(s({},n.generalThemes),{},{settings:s(s({},n.generalThemes.settings),{},{isVideoEnabled:!0})})});e(Object(o.updateSettings)(r))}},l=function(){return function(e,t){var n=t().settings,r=s(s({},n),{},{generalThemes:s(s({},n.generalThemes),{},{settings:s(s({},n.generalThemes.settings),{},{isVideoEnabled:!1})})});e(Object(o.updateSettings)(r))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1895),i=n(778),o=n(544),a=n(148),s=n(46);t.getDatasyncService=s.createSelector(e=>{const{environment:{session:{serverTime:t}},user:{uid:n},settings:{generalThemes:s},config:{urlsBase:u}}=e,c=o.mapTypes([{id:"generalThemes",value:JSON.stringify(s)}],r.GeneralThemesSettingsDatasyncSchema),l=new o.TransportAdapter({transport:new i.Api(u["cloud-api"]),uid:n,db:"ps",collection:"settings"}),d=new o.DatasyncClient({transport:l,errorHandler:e=>{a.log({error:null===e||void 0===e?void 0:e.message},"datasync_client_init_error")}});return new r.GeneralThemesSettingsDatasyncService(d,c,{getNow:()=>new Date(t)})},e=>e)}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncSchema=void 0;var i=n(1037),o=n(1038),a=n(235),s={theme:(0,o.JsonNullable)((0,o.JsonEnum)(Object.values(a.ThemeName),a.ThemeName.GeneralFlow)),settings:{isVideoEnabled:!0,isNewYear2024ThemeEnabled:!1}};t.GeneralThemesSettingsDatasyncSchema=((r={})[a.DATASYNC_KEY_NAME]=(0,i.FieldJson)((0,o.JsonSerializer)(s)),r)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1901);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registry=void 0;var r=n(31),i=n(3),o=n(988),a=n(743),s=n(744),u=n(872),c=i.compose(a.withViewDefault,s.withTargetAnchor)(o.Popup);t.registry=new r.Registry({id:u.cnTooltip()}),t.registry.set("Popup",c)}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(0)),s=n(31),u=o(n(285));n(1945),t.ContentWithNamesContext=a.createContext({width:null});const c=a.createContext({});t.ResourceName=(({text:e})=>{const{width:n}=a.useContext(c),{font:r}=a.useContext(t.ContentWithNamesContext);return a.default.createElement(u.default,{font:r,text:e,numberOfRows:1,width:n})}),t.ContentWithNames=(e=>{var{children:n}=e,i=r(e,["children"]);const o=a.useRef(null),{width:u}=a.useContext(t.ContentWithNamesContext),{I18N:l}=s.useRegistry("I18N"),[d,f]=a.useState();return a.useEffect(()=>{if(o.current&&"number"==typeof u){const{width:e}=o.current.getBoundingClientRect();if(e<=u)return;const t=Array.from(o.current.querySelectorAll(".clamped-text")).map(e=>e.getBoundingClientRect()),n=e-t.reduce((e,{width:t})=>e+t,0),{maxWidth:r}=t.sort((e,t)=>e.width>t.width?1:-1).reduce((e,{width:n},r)=>{const i=e.budget/(t.length-r);return{budget:e.budget-Math.min(n,i),maxWidth:Math.max(i,e.maxWidth)}},{budget:u-n,maxWidth:0}),i=Math.min(r,u-20);f(Math.floor(i))}},[u]),a.default.createElement(c.Provider,{value:{width:d}},a.default.createElement(l,Object.assign({},i,{className:"content-with-names",innerRef:o}),n))})}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(0)),a=n(2414),s=n(2403),u=n(1950),c=n(893),l=n(1077),d=n(1957),f=n(1078),p=n(28).cn("ContactPicker");var h;n(1958),(function(e){e.User="user",e.Group="group",e.Department="department"})(h=t.ContactType||(t.ContactType={})),t.ContactPicker=(e=>{var{ariaLabels:t,isTouch:n,lang:i}=e,m=r(e,["ariaLabels","isTouch","lang"]);const v=n?s.Multisuggest:a.Multisuggest,g=o.useCallback(e=>o.default.createElement(u.Suggestion,Object.assign({picked:!1},e),o.default.createElement(c.User,{className:p("SuggestUser"),email:e.suggestion.email,isOuter:e.suggestion.isOuter,department:e.suggestion.department,position:e.suggestion.position,displayName:e.suggestion.displayName,avatarUrl:e.suggestion.avatarUrl,color:e.suggestion.color,mono:e.suggestion.mono,isOuterBadgeLabel:t.isOuterBadgeLabel,avatarAlt:t.avatarAlt,lang:i})),[t,i]),y=o.useCallback(e=>{var n;const r=Boolean((null===(n=e.picked.avatar)||void 0===n?void 0:n.url)||e.picked.mono),a={email:e.picked.email?[e.picked.email]:[],displayName:e.picked.displayName,avatar:e.picked.avatarUrl?{url:e.picked.avatarUrl}:{mono:e.picked.mono,color:e.picked.color},isExternal:e.picked.isOuter,department:e.picked.department,position:e.picked.position,isShared:!1};return o.default.createElement(u.PickedItem,Object.assign({},e,{key:e.picked.email,className:p("PickedItem",{focused:e.focused,isOuter:e.picked.isOuter,error:e.picked.isError,hasAvatar:r}),contentClassName:p("PickedItemContent")}),o.default.createElement(f.ContactCardTooltip,{lang:i,contact:a},r?o.default.createElement(l.Avatar,{className:p("PickedItemAvatar"),size:"s",url:e.picked.avatarUrl,mono:e.picked.mono,color:e.picked.color,avatarAlt:t.avatarAlt}):null,o.default.createElement("div",{className:p("PickedItemDisplayName")},e.picked.displayName||e.picked.email)))},[t,i]),b=o.useCallback(e=>e,[]),_=o.useCallback(e=>d.isEmail(e)?{id:-1,email:e,isDirectoryEntry:!1,entryType:h.User,fromSuggest:!1}:void 0,[]);return o.default.createElement(v,Object.assign({view:"default",size:"m",debounceTimeout:200,onSuggestionSelect:b,renderSuggestion:g,renderPicked:y,isEqual:(e,t)=>e.email===t.email,setValueFromInput:_,ariaLabels:t},m))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));n(1951);const o=n(28).cn("Avatar");t.Avatar=(({className:e,mono:t,color:n,url:r,size:a,avatarAlt:s})=>{let u=null;return r?u=i.default.createElement("img",{className:o("Avatar"),src:r,alt:s}):t&&(u=i.default.createElement("div",{style:{background:n},className:o("Mono"),role:"none"},t)),i.default.createElement("div",{className:o({size:a},[e])},u)})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(2393),a=r(n(267)),s=n(536),u=n(28);n(1955);const c=u.cn("ContactCardTooltip");t.ContactCardTooltip=(({contact:e,lang:t,children:n})=>i.default.createElement(a.default,{messageBoxClassName:c("HoverTooltip"),messageBoxView:"inverse",tooltipContent:i.default.createElement(o.ContactSummary,{locale:t===s.SupportedLangs.uk?s.SupportedLangs.ru:t,contact:e}),direction:["left"],align:"left",size:"m",hasTail:!0,tailType:"rounded"},n))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectRegistry=void 0;var r=n(31),i=n(1964);t.selectRegistry=new r.Registry({id:i.cnSelect()}),t.selectRegistry.set("Trigger",(function(){throw new Error('Для работы "Select" требуется установить компонент "Trigger" в реестр "'+i.cnSelect()+'".')})).set("Icon",(function(){throw new Error('Для работы "Select" требуется установить компонент "Icon" в реестр "'+i.cnSelect()+'".')})).set("Popup",(function(){throw new Error('Для работы "Select" требуется установить компонент "Popup" в реестр "'+i.cnSelect()+'".')})).set("Menu",(function(){throw new Error('Для работы "Select" требуется установить компонент "Menu" в реестр "'+i.cnSelect()+'".')}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(1132);n(1971);const a=n(28).cn("ListTileIcon");t.ListTileIcon=(({Icon:e,children:t})=>i.default.createElement(o.ListTile,{className:a(),alignItems:"start",leftSpace:"s",leading:i.default.createElement("span",{className:a("Icon")},i.default.createElement(e,null))},t))}),(function(e,t,n){"use strict";var r="",i={};e.exports={setTankerProjectId:function(e){return r=e},getKey:function(e,t,n,r){return i[e][t][n](r)},addTranslation:function(e,t){return i[e]=t[r]}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(234),o=n(558),a=n(274),s=n(392),u=n(16),c=n(245),l=n(548);t.usePublicAccess=(()=>{const{resourcePath:e,resourceId:t,resourceType:n,linkUrl:d,pddOrgId:f,hasAddressAccess:p}=r.useContext(a.ShareDialogContext),h="album"===n?t:e,m=Boolean(d),{publicSettings:v,availablePublicSettings:g}=s.useSelectors(h),y=u.useDispatch(),b=r.useMemo(()=>"album"===n?m?{macros:[i.Macros.All],rights:[i.Permission.Read]}:void 0:null===v||void 0===v?void 0:v.accesses.find(e=>{var t;return Boolean(null===(t=e.macros)||void 0===t?void 0:t[0])}),[v,n,m]),_=r.useCallback(e=>{const t=l.getAccessFromReach((null===v||void 0===v?void 0:v.accesses)||[]).find(l.isCommonPublicSettings);return t?[Object.assign(Object.assign({},t),e)]:[]},[v]);return{commonSettings:b,onPublicAccessChange:r.useCallback(r=>{var a,s,u,l,d,h;const m={id:"album"===n?t:e,type:n,pddOrgId:f};if(p||r!==o.AccessTypeValue.Revoke)if(v){if([o.AccessTypeValue.Read,o.AccessTypeValue.Write].includes(r)){const e=_({rights:[o.mapAccessTypeValueToPermission(r)]});e.length||e.push({macros:[(null===(h=null===(d=null===(l=null===g||void 0===g?void 0:g.default)||void 0===l?void 0:l[0])||void 0===d?void 0:d.macros)||void 0===h?void 0:h[0])||i.Macros.All],rights:[o.mapAccessTypeValueToPermission(r)]}),y(c.updatePublicSettings(Object.assign(Object.assign({},m),{settings:{accesses:e}})))}else if(r===o.AccessTypeValue.Revoke){const e=_({rights:[]});y(c.updatePublicSettings(Object.assign(Object.assign({},m),{settings:{accesses:e,available_until:null}})))}}else{const e=[{macros:[(null===(u=null===(s=null===(a=null===g||void 0===g?void 0:g.default)||void 0===a?void 0:a[0])||void 0===s?void 0:s.macros)||void 0===u?void 0:u[0])||i.Macros.All],rights:[o.mapAccessTypeValueToPermission(r)]}];y(c.setPublic(Object.assign(Object.assign({},m),{settings:{accesses:e}})))}else y(c.setPrivate(m))},[p,v,g,_,e,t,n,f,y]),getNewPublicSettings:_}})}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(95),i=n(13),o=n(102),a=function(e,t){return{type:i.UPDATE_SHARED_FOLDERS_USERS_LOADING_STATE,payload:{gid:e,isLoading:t}}},s=function(e){return function(t,n){var s=n().sharedFoldersUsers,u=Object(o.getUser)(n()).isPDD;s[e]||(t(a(e,!0)),Object(r.api)("mpfs/share-users-in-group",{gid:e,isPDD:u}).then((function(n){t(function(e,t){return{type:i.UPDATE_SHARED_FOLDERS_USERS,payload:{gid:e,users:t}}}(e,Array.isArray(n)?n.slice(1):[])),t(a(e,!1))})))}}}),(function(e,t,n){"use strict";n(1085);var r=n(0),i=n.n(r),o=n(414),a=n(603),s=n(171),u=n(11),c=n.n(u),l={row:40,m:80,l:145,default:40},d={row:"m",tile:"m"};t.a=function(e){var t=e.id,n=e.defaultPreview,r=e.iconType,u=e.onImageLoadError,f=e.onImageLoadSuccess,p=e.previewLoadFailed,h=e.theme,m=e.useRealDevicePixelRatio,v=e.previewRumId,g=e.elementTiming,y=e.size||d[h],b=Boolean(n&&!r),_={theme:h,size:y,img:b},O=c()()("resource-icon-preview").m(_).mix(e.cls);return b&&!p?i.a.createElement(a.a,{id:t,cls:O,onError:u,onLoad:f,src:(function(e,t,n,r){var i=r&&window.devicePixelRatio||1,o=l[n]||l[t]||l.default;o=Math.floor(o*i);var a="".concat(e,"&size=").concat(o,"x").concat(o);return Object(s.b)(n)&&(a+="&crop=1"),a})(n,y,h,m),rumId:v,elementTiming:g}):i.a.createElement(o.a,{cls:O,size:y,resource:e})}}),(function(e,t,n){}),(function(e,t,n){var r=n(794);e.exports=function(e,t){return r(e,t)}}),(function(e,t,n){var r=n(1192),i=n(128),o="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=r(n(11)),s=r(n(896)),u=n(58),c=r(n(63)),{I18N:l}=n(79);t.default=o.connect(e=>{const{page:{idContext:t},config:{urlsBase:{yandex360:n}}}=e;return{idContext:t,yandex360:n,isUserFamilyAdmin:u.isFamilyAdmin(e),familyAdmin:u.getFamilyAdmin(e)}})(({familyAdmin:e,idContext:t,isUserFamilyAdmin:n,yandex360:r})=>{const o=c.default.addParams(`${r}/premium-plans/family/`,{from:"inactive_album_family"}),u=i.default.createElement(i.default.Fragment,null,t.startsWith("/family")?"Вы больше не используете семейный тариф. Функции временно недоступны.":"Нельзя добавлять в альбом новые фото, потому что закончился Семейный Премиум.",!n&&e&&i.default.createElement(i.default.Fragment,null,i.default.createElement(i.default.Fragment,null," "),i.default.createElement(l,{loc:"Сообщите "+yr.externals.entityify(l.$1)+"."},i.default.createElement("span",{className:a.default()("family-plan-expired-block").e("admin-name")},(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.email)))));return i.default.createElement(s.default,{title:u,mainButtonProps:{url:o,text:"Подключить тариф"}})})}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=(n(2069),n(0)),v=n.n(m),g=n(51),y=n(11),b=n.n(y);function _(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var O=function(){return b()()("tabs")},E=(function(e){l()(n,e);var t=_(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onTabClick=r._onTabClick.bind(u()(r)),r}return a()(n,[{key:"_onTabClick",value:function(e){this.props.onChange(e)}},{key:"_renderTab",value:function(e){var t=e.title,n=e.link,r=e.id,i=r===this.props.current;return v.a.createElement(g.Link,{key:r,className:O().e("item").m({current:i}),href:n,title:t,theme:"primary",onClick:this.props.onChange&&this._onTabClick.bind(this,r),role:"tab","aria-selected":i},t)}},{key:"render",value:function(){return v.a.createElement("div",{role:"tablist",className:O().m({empty:0===this.props.items.length}).mix(this.props.className)},this.props.items.map(this._renderTab,this))}}]),n})(m.Component);t.default=E}),(function(e,t,n){"use strict";var r,i=n(4),o=n.n(i),a=n(5),s=n.n(a),u=n(8),c=n.n(u),l=n(6),d=n.n(l),f=n(7),p=n.n(f),h=n(2),m=n.n(h),v=n(10),g=n.n(v),y=(n(2070),n(16)),b=n(0),_=n.n(b),O=n(26),E=n(365),w=n(189),S=n(30),C=n(24),x=n(81),T=n(86),P=n(45),k=n(11),j=n.n(k);function R(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var I=n(23),A=function(){return j()()("listing-heading")},D=(r={"/shared":"Общий доступ"},g()(r,C.VIRTUAL_DISKS_ROOT,"Общий доступ"),g()(r,"/published","Общий доступ"),g()(r,"/attach","Архив"),g()(r,"/narod","Архив"),g()(r,"/attach/yaruarchive","Архив"),g()(r,"/attach/YaFotki","Архив"),g()(r,"/family/album","Семья"),r),M=A().e("button"),N=(function(e){d()(n,e);var t=R(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={popupVisible:!1},r._onClick=r._onClick.bind(c()(r)),r._onPopupClose=r._onPopupClose.bind(c()(r)),r._actionsPopupAnchor=_.a.createRef(),r}return s()(n,[{key:"componentDidUpdate",value:function(e){this.props.resource.id!==e.resource.id&&this.state.popupVisible&&this.setState({popupVisible:!1})}},{key:"_onClick",value:function(){this.setState({popupVisible:!this.state.popupVisible})}},{key:"_onPopupClose",value:function(e){var t;null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.classList.contains(String(M))||this.setState({popupVisible:!1})}},{key:"render",value:function(){var e=this.props,t=e.resource,n=e.hasActionsButton,r=e.title,i=e.isDarkTheme;return _.a.createElement("div",{className:A().mix(P.LISTING_PREVENT_MOUSE_SELECTION_CLASS)},_.a.createElement("h1",{className:A().e("title").m({interactive:n,wfolio:this.props.isWfolio}),title:r,ref:this._actionsPopupAnchor},this.props.isWfolio&&_.a.createElement("div",{className:A().e("title-wfolio-icon").m({dark:i})}),_.a.createElement("div",{className:A().e("title-inner"),onClick:n?this._onClick:void 0,"aria-hidden":!0},r)),n?_.a.createElement(_.a.Fragment,null,_.a.createElement(O.Button,{view:"clear","aria-label":"Действия",className:M,onClick:this._onClick,size:"s",icon:w.moreIconProvider}),_.a.createElement(E.default,{visible:this.state.popupVisible,target:"anchor",anchor:this._actionsPopupAnchor,resources:[t],onClose:this._onPopupClose,metrikaPath:["context menu","current folder"],isAndroid:this.props.isAndroid})):null)}}]),n})(b.PureComponent);t.a=Object(y.connect)((function(e,t){var n=t.hideActionsButton,r=e.resources,i=e.page.idContext,o=e.environment.agent.OSFamily,a=r[i]||{};if(i.startsWith("/search/")||Object(C.isVirtualDiskSearchPath)(i))return{hasActionsButton:!1,title:"Результаты поиска",resource:a};var s=!1;if(a.id&&!n){var u=Object(S.getAvailableActions)([a],e);s="/trash"!==i&&!Object(C.isRootOfVirtualDisk)(i)&&!Object(C.isVirtualDiskTrash)(i)&&E.ACTIONS.some((function(e){return u.includes(e.id)}))}return{isAndroid:"Android"===o,hasActionsButton:s,title:D[i]||a.name||I.basename(i),isWfolio:"/wfolio"===i,isDarkTheme:Object(x.isContentDark)(Object(T.getThemeName)(e)),resource:a}}))(N)}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(191)),s=(i(n(1092)),i(n(2071)));n(2072);const u=i(n(11)),c=()=>u.default()("ReadonlyFolderNotification");t.default=(({className:e,withoutBackground:t})=>{const n=o.useMemo(()=>o.default.createElement("div",{className:c().m({withoutBackground:t})},o.default.createElement(s.default,{className:c().e("Icon")}),o.default.createElement("div",{className:c().e("Text")},"Только просмотр")),[t]);return o.default.createElement("div",{className:e},o.default.createElement(a.default,{tooltipCls:c().e("Tooltip"),text:"Можно просматривать файлы и папки, копировать их на доступные Диски или скачивать.",direction:["bottom"],showDelay:0},n))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(500);t.default=(({tooltipText:e,tooltipClassName:t,children:n,ancorClassName:r})=>{const a=i.useRef(null),[s,u]=i.useState(!1),c=i.useRef(null),l=i.useCallback(()=>{u(!0),c.current=setTimeout(()=>{u(!1)},3e3)},[]);return i.useEffect(()=>()=>{c.current&&clearTimeout(c.current)},[]),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{ref:a,onClick:l,className:r},n),i.default.createElement(o.Tooltip,{anchor:a,view:"default",state:"warning",hasTail:!0,className:t,direction:["bottom"],visible:s},e))})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayListIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M5 1h11v2H5V1zm0 6h11v2H5V7zm0 6h11v2H5v-2zM0 1h3v2H0V1zm0 6h3v2H0V7zm0 6h3v2H0v-2z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"displayIconsIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M0 0h4v4H0V0zm0 6h4v4H0V6zm0 6h4v4H0v-4zM6 0h4v4H6V0zm0 6h4v4H6V6zm0 6h4v4H6v-4zm6-12h4v4h-4V0zm0 6h4v4h-4V6zm0 6h4v4h-4v-4z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(106),v=n.n(m),g=n(205),y=n.n(g),b=n(927),_=n(11),O=n.n(_);function E(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var w=function(){return O()()("drop-target")};t.default=function(e){return (function(t){u()(r,t);var n=E(r);function r(e){var t;return i()(this,r),(t=n.call(this,e)).state={highlighted:!1,active:!1},t._elementRef=h.a.createRef(),t}return a()(r,[{key:"componentDidMount",value:function(){this._addSelf()}},{key:"componentWillUnmount",value:function(){this._removeSelf()}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&(this._removeSelf(),this._addSelf())}},{key:"_addSelf",value:function(){Object(b.addExternalDropTarget)({id:this.props.id,type:this.props.type,isFixed:this.props.isFixed,scrollContainerSelector:this.props.scrollContainerSelector,reactElement:this})}},{key:"_removeSelf",value:function(){Object(b.removeExternalDropTarget)(this)}},{key:"getDomElement",value:function(){return this._elementRef.current||v.a.findDOMNode(this._ref)}},{key:"toggleHighlight",value:function(e){this.setState({highlighted:e})}},{key:"toggleActive",value:function(e){this.setState({active:e})}},{key:"render",value:function(){var t=this,n=y()(this.props,["scrollContainerSelector","isFixed","type"]);return this.props.cls?(n.cls=w().m(this.state).mix(this.props.cls),n.ref=function(e){t._ref=e}):(n.innerRef=this._elementRef,n.className=w().m(this.state).mix(this.props.className)),h.a.createElement(e,n)}}]),r})(p.Component)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(11));n(2088);const s=()=>a.default()("family-members-list");t.FamilyMembersList=(({members:e,urlAvatar:t})=>o.default.createElement("div",{className:s()},e.map(e=>o.default.createElement(o.Fragment,{key:e.uid},o.default.createElement("div",{className:s().e("member")},o.default.createElement("img",{src:`${t}${e.avatar}/islands-middle`,className:s().e("image")}),o.default.createElement("div",{className:s().e("name")},o.default.createElement("span",null,e.name),o.default.createElement("span",null,e.login))),o.default.createElement("div",{className:s().e("separator")})))))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=n(162),s=r(n(2119)),u=r(n(2157)),c=o.connect(e=>({isScansPage:a.isScansPage(e)}));t.default=c(e=>e.isScansPage?i.default.createElement(u.default,null):i.default.createElement(s.default,null))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(374)),u=i(n(2120)),c=(i(n(2121)),i(n(1101)),i(n(2141))),l=i(n(900)),d=i(n(899)),f=i(n(1100)),p=i(n(2143)),h=n(2144),m=n(2145),v=n(2146),g=n(39),y=n(162),b=n(29),_=n(26),O=i(n(14));n(2147);const E=i(n(11)),w=()=>E.default()("Docs-Header"),S={openEditor:b.openEditor,maybeBlockAction:b.maybeBlockAction},C=a.connect(e=>{const{user:{isOfficeAllowed:t}}=e;return{type:g.currentDocsType(e),isOfficeAllowed:t,isScansPage:y.isScansPage(e)}},S),x={docx:"Недавние документы",xlsx:"Недавние таблицы",pptx:"Недавние презентации"},T={docx:"Новый документ",xlsx:"Новая таблица",pptx:"Новая презентация"},P={docx:h.documentIconProvider,xlsx:v.tableIconProvider,pptx:m.presentationIconProvider};t.default=C(({type:e,openEditor:t,isOfficeAllowed:n,isScansPage:r,maybeBlockAction:i})=>{const a=o.useRef(),[h,m]=o.useState(!1),v=o.useCallback(()=>{m(!h)},[h,m]),g=o.useCallback(()=>{m(!1)},[m]),y=o.useCallback(()=>{i()||(t(e,"/disk"),O.default.countDocs("create doc",e,"toolbar"))},[e,t,i]),b=r?"Сканы":x[e],E=o.default.createElement(p.default,{cls:w().e("Sort-Icon"),size:"m"});return o.default.createElement(s.default,{title:b,titleRef:a,titleRightIcon:E,onTitleClick:v},r?o.default.createElement(o.default.Fragment,null,o.default.createElement(u.default,null),o.default.createElement(c.default,{popupVisible:h,titleRef:a,onSortPopupClose:g})):o.default.createElement("div",{className:w().e("Controls-Wrapper")},n&&o.default.createElement(_.Button,{onClick:y,className:w().e("New-Doc"),size:"m",view:"raised",iconLeft:P[e]},T[e]),o.default.createElement(d.default,null),o.default.createElement(c.default,{popupVisible:h,titleRef:a,onSortPopupClose:g}),o.default.createElement(l.default,null),o.default.createElement(u.default,null),o.default.createElement(f.default,null)))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(16),a=n(39),s=n(97),u=n(376),c=n(15),l=n(162),d=r(n(14)),f={[u.SortOrder.ASC]:"По возрастанию",[u.SortOrder.DESC]:"По убыванию"},p={setSortingType:s.setSortingType,changeResourcesSort:c.changeResourcesSort},h=o.connect(e=>({sortingType:a.sortingType(e),isScansPage:l.isScansPage(e)}),p),m=(e,t,n)=>{let r=n;"order"===t&&(r="1"===n?"asc":"desc"),d.default.countDocs(`change ${e?"scans":"docs"} sort`,t,r)};t.default=h(({setSortingType:e,sortingType:t,isScansPage:n,changeResourcesSort:r,render:o})=>{const a=i.useCallback(i=>{n?r({sort:t.sort,order:i}):e({sort:t.sort,order:i}),m(n,"order",i)},[t.sort,e,n,r]),s=i.useCallback(i=>{n?r({order:t.order,sort:i}):e({order:t.order,sort:i}),m(n,"sort",i)},[t.order,e,n,r]),c={[u.SortBy.NAME]:"По названию",[u.SortBy.SIZE]:"По размеру"};return n?c[u.SortBy.MTIME]="По дате изменения":c[u.SortBy.DATE_LAST_VIEW]="По дате просмотра",o({sortMap:c,sortOrderMap:f,sortOrgerList:[u.SortOrder.ASC,u.SortOrder.DESC],setSortOrder:a,setSortBy:s,activeSortingType:t})})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(2124));t.FILTER_MAP=i.FILTER_MAP,t.default=i.default}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(26),u=n(85),c=(n(147),n(64)),l=n(281),d=i(n(899)),f=n(2132),p=n(2133),h=n(2134),m=n(2135),v=n(2136),g=i(n(900)),y=n(29),b=i(n(14)),_=n(39),O=n(102);n(2140);const E=i(n(11)),w=n(81),S=n(86),C=()=>E.default()("Docs-Create-Dropdown"),x={openEditor:y.openEditor,maybeBlockAction:y.maybeBlockAction},T=a.connect(e=>{const{user:{isOfficeAllowed:t}}=e;return{isOfficeAllowed:t,isDocsView:_.isDocsView(e),isUserCanHaveDisk:O.isUserCanHaveDisk(e),getLoginOrUpgradeUrlForRetpath:t=>O.getLoginOrUpgradeUrl(e,t),isDark:w.isContentDark(S.getThemeName(e))}},x),P={docx:"Документ",xlsx:"Таблицу",pptx:"Презентацию"},k={docx:f.docxIconProvider,xlsx:p.xlsxIconProvider,pptx:h.pptxIconProvider};t.default=T(({openEditor:e,maybeBlockAction:t,isOfficeAllowed:n,isDocsView:r,isUserCanHaveDisk:i,getLoginOrUpgradeUrlForRetpath:a})=>{const[f,p]=o.useState(!1),h=o.useCallback(()=>{t()||p(!f)},[f,t]),y=o.useRef(null),_=o.useCallback(()=>{p(!1)},[]),O=t=>{if(t.target.value){const n=t.target.value,r=`/docs?type=${n}&create=1`;i?e(n,"/disk"):window.location.assign(a(r)),b.default.countDocs("create doc",n,"sidebar")}p(!1)},E=o.useMemo(()=>Object.keys(P).map(e=>o.default.createElement(c.Item,{key:e,value:e,icon:k[e],className:C().e("Type").m({[e]:!0})},P[e])),[]),w=o.useMemo(()=>i?[o.default.createElement(c.Item,{key:"open",icon:m.openIconProvider,className:C().e("Type").m({open:!0})},"Открыть",o.default.createElement(d.default,{transparentAbsolute:!0})),o.default.createElement(c.Item,{icon:v.uploadIconProvider,key:"upload",className:C().e("Type").m({upload:!0})},"Загрузить",o.default.createElement(g.default,{transparentAbsolute:!0}))]:[],[i]),S=n||!i;return o.default.createElement(o.default.Fragment,null,o.default.createElement(s.Button,{className:C().e("Button"),size:"m",view:r?"raised":"action",theme:r?void 0:"raised",width:"max",onClick:h,iconLeft:l.plusIconProvider,innerRef:y},"Создать"),o.default.createElement(u.Popup,{className:C().e("Popup"),view:"default",target:"anchor",anchor:y,visible:f,onClose:_,direction:"bottom",onClick:_},(e=>o.default.createElement(c.Menu,{className:C().e("Menu").m({touch:!1}),view:"default",size:"m",onChange:O,wide:!0,paddingless:!0},e?[S?o.default.createElement(c.Group,{key:"create"},E):null,w.length?o.default.createElement(c.Group,{key:"add"},w):null]:[...S?E:[],...w]))(!0)))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(398)),s=i(n(943)).default((e=>t=>{const{onContextMenu:n}=t,r=o.useCallback((e,t)=>{n([e],t,[e])},[n]);return o.default.createElement(e,Object.assign({},t,{onResourceContextMenu:r}))})(a.default));t.default=s}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(9)),u=i(n(347)),c=n(15),l=i(n(2150)),d=n(157),f=i(n(111)),p=i(n(138)),h=i(n(1104)),m=i(n(2152)),v=n(162),g=n(398),y=n(136),b=n(39);n(2156),n(1200);const _=i(n(11)),O=[],E={maybePublishResource:c.maybePublishResource,setHighlighted:y.setHighlighted},w=a.connect(e=>{const{statesContext:{highlighted:t},environment:{agent:{OSFamily:n}},resources:r}=e;return{resourcesByIds:r,OSFamily:n,highlighted:t,isScansPage:v.isScansPage(e),listingType:b.listingType(e)}},E);t.default=((e,t)=>{const n=[t,"share dialog"];return w(({maybePublishResource:r,highlighted:i,setHighlighted:a,listingType:c,isScansPage:v,OSFamily:y,resourcesByIds:b})=>{const[E,w]=o.useState(null),S=o.useRef(null),C=o.useCallback(()=>{w(null),S.current=null},[]),x=o.useCallback((e,t)=>{if(E)return C();w(e),S.current=t},[E,C]),[T,P]=o.useState(!1),[k,j]=o.useState(null),[R,I]=o.useState(!1),A=o.useCallback(()=>{P(!1),I(!1),setTimeout(()=>{j(null)},200)},[]),D=o.useCallback(e=>{j(e),r(e).then(e=>{e&&I(!0)}),P(!0)},[r]),M=o.useMemo(()=>i.concat(E||[]),[i,E]),N=o.useCallback(e=>{const{id:t,meta:n,openInEditorTimestamp:r,mtime:i}=e,a=v?i:r;let s;if(a){const[e,t]=p.default(1e3*a,"DD.MM.YYYY HH:mm").split(" "),[n]=p.default(Number(new Date),"DD.MM.YYYY HH:mm").split(" "),r=e===n;s={type:r?"time":"date",themes:["row"],content:r?t:e}}return[s||void 0,{type:"size",themes:["row"],content:f.default.formatSpace(n.size)},{type:"actions",position:d.POSITIONS.ALWAYS_RIGHT,content:o.default.createElement(m.default,{resourceId:e.id,onMoreClick:x,onShareClick:D})},{type:"more",themes:["tile"],position:d.POSITIONS.TOP_RIGHT,content:o.default.createElement(h.default,{resourceId:t,onClick:x})}].filter(Boolean)},[v,x,D]),L={listingProps:Object.assign(Object.assign({},g.getListingViewProps(c)),{cls:_.default()("Docs").e("Listing").m({Touch:!1}).mix("client-listing"),titleOverflow:"clamp",isTouch:!1,useRealDevicePixelRatio:!0,isSelectable:!1,openOnSingleClick:!0,supportDoubleClick:!1,ignoreClicksSelector:g.ignoreClicksSelectorBase,saveScrollAfterUpdate:!0,touchContextMenu:!1,selectedResources:O,selected:O,setSelection:s.default.noop,metrikaTail:t,highlightedResources:M,highlighted:i,getAdditionalFields:N,OSFamily:y,setHighlighted:a}),resourcesByIds:b};return o.default.createElement(o.default.Fragment,null,o.default.createElement(e,Object.assign({},L)),o.default.createElement(l.default,{resourceId:E,anchor:S,onClose:C}),k?o.default.createElement(u.default,{visible:T,objectIds:[k],onClose:A,metrikaPath:n,defaultExpanded:R}):null)})})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(26),s=i(n(189)),u=i(n(11));n(2151);t.default=(({resourceId:e,className:t,onClick:n})=>{const r=o.useRef(null),i=o.useCallback(()=>{r.current&&n(e,r.current)},[e,n]),c=o.useCallback(e=>{i(),e.stopPropagation(),e.preventDefault()},[i]);return o.default.createElement(a.Button,{view:"clear",size:"xxs","aria-label":"Ещё",className:u.default()("ResourceActionsButton").mix(t),onClick:i,onContextMenu:c,icon:e=>o.default.createElement(s.default,{cls:e,iconSize:"s"}),innerRef:r})})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(42),s=n(15),u=n(16),c=i(n(63)),l=i(n(14)),d=n(97),f=n(29),p=n(351),h=i(n(2169)),m=n(74),v=i(n(931)),g=i(n(347)),y=i(n(9));n(2171);const b=i(n(11)),_=n(39),O=n(86),E=n(81),w=()=>b.default()("Docs-View"),S=["docs view","share dialog"],C={addDocFromDisk:d.addDocFromDisk,maybeBlockActionOverdraft:f.maybeBlockActionOverdraft,fetchSingleResource:s.fetchSingleResource,notify:a.notify,openDocsCopyConfirmation:s.openDocsCopyConfirmation},x=u.connect(e=>{var t,n;const{config:{domain:r,environment:i,urlsBase:{docviewer:o},links:{passport:{auth:a}}},page:{currentUrl:s},resources:u,user:c}=e,{ext:l,protocol:d,fileId:f}=_.getViewFileDetails(e);return{isUnAuth:!c.uid,domain:r,metaResourceId:null===(n=null===(t=u[f])||void 0===t?void 0:t.meta)||void 0===n?void 0:n.resource_id,isTestingOrDev:["testing","development"].includes(i),docviewer:o,currentUrl:s,ext:l,protocol:d,fileId:f,authUrl:c.uid?void 0:a,isCoverLayerEnabled:O.isCoverLayerEnabled(e),isDark:E.isContentDark(O.getThemeName(e))}},C);var T;!(function(e){e.bodyClick="body-click",e.documentLoad="document-load",e.documentError="document-error",e.sendDocState="send-doc-state",e.scrollHeaderFixed="scroll-header-fixed",e.scrollNavigationFixed="scroll-navigation-fixed",e.scrollFooterFixed="scroll-footer-fixed",e.savedToDisk="saved-to-disk",e.blockActionOverdraft="block-action-overdraft",e.shareDocument="share-document",e.openDocument="open-document",e.downloadError="download-error",e.fullScreenMode="fullscreen-mode",e.redirect="redirect",e.openDocCopyConfirm="open-doc-Copy-confirm"})(T||(T={}));const P=()=>{document.body.dispatchEvent(new Event("mousedown"))},k=()=>{const e=new Event("click",{bubbles:!0});document.body.dispatchEvent(e)},j=y.default.once((e,t,n)=>{l.default.count("docs view",e,t,n)});t.default=x(({isUnAuth:e,domain:t,isTestingOrDev:n,fetchSingleResource:r,docviewer:i,currentUrl:a,getRootRef:s,authUrl:u,ext:l,protocol:d,fileId:f,metaResourceId:y,maybeBlockActionOverdraft:b,notify:_,addDocFromDisk:O,isCoverLayerEnabled:E,isDark:C,openDocsCopyConfirmation:x})=>{const[R,I]=o.useState(!1),[A,D]=o.useState(null),[M,N]=o.useState(null),[L,F]=o.useState(!1),B=o.useCallback(()=>{I(!1)},[]),U=o.useRef(null),z=o.useMemo(()=>{const e=c.default.getSearch(a);let t=i+e;return t=c.default.replaceParam(t,"uid",void 0,!0),t=c.default.addParams(t,{embed:"docs",nosw:"1",hideLoaders:"1"}),u&&(t=c.default.addParams(t,{authUrl:u})),E&&(t=c.default.addParams(t,{coverLayer:1})),C&&(t=c.default.addParams(t,{dark:1})),t},[i,a,u,E,C]);o.useEffect(()=>(document.documentElement.classList.add("no-scroll"),()=>{document.documentElement.classList.remove("no-scroll")}),[]),o.useEffect(()=>(document.documentElement.classList.remove("touch-dv-in-docs"),()=>{document.documentElement.classList.remove("touch-dv-in-docs")}),[]),o.useEffect(()=>()=>{var e;null===(e=s())||void 0===e||e.classList.remove("docs-view-hide-header")},[s]),o.useEffect(()=>{e||"ya-disk:"!==d||r(f)},[r,f,e,d]),o.useEffect(()=>{y&&[p.DocsExt.docx,p.DocsExt.xlsx,p.DocsExt.pptx].includes(l)&&O({id:f})},[O,y,l,f]);const V=o.useMemo(()=>new RegExp("^https://"+(n?".+\\.(?:dst|dv-dev\\.dsd)\\.yandex\\.":"(?:docviewer|.+\\.dsp)\\.yandex\\.")+t.replace(".","\\.")+"$"),[t,n]),[H,W]=o.useState(null),[$,G]=o.useState(""),[q,Y]=o.useState(!0),K=o.useCallback(e=>{var t,n,r,i,o,a;try{if(!V.test(e.origin))return;const{type:u,data:c}=JSON.parse(e.data);switch(u){case T.scrollHeaderFixed:if(c){null===(t=s())||void 0===t||t.classList.add("docs-view-hide-header"),k();const e=document.querySelector(".PSHeader-MorePopup");(null===e||void 0===e?void 0:e.classList.contains("Popup2_visible"))&&P()}else null===(n=s())||void 0===n||n.classList.remove("docs-view-hide-header");break;case T.scrollNavigationFixed:c?null===(r=s())||void 0===r||r.classList.add("docs-view-hide-mobile-navigation-header"):null===(i=s())||void 0===i||i.classList.remove("docs-view-hide-mobile-navigation-header");break;case T.scrollFooterFixed:F(!c);break;case T.bodyClick:P(),k(),null===(o=U.current)||void 0===o||o.focus();break;case T.savedToDisk:{const{status:e,folderUrl:t}=c;W(e),G(t||"");break}case T.blockActionOverdraft:b({forLite:!0});break;case T.shareDocument:{const{url:e,error:t}=c;t?_({operation:"docsError",message:t}):(N(e),D(f),I(!0));break}case T.openDocument:location.assign(c.fileUrl);break;case T.documentLoad:Y(!1),j(l,d,"success"),Ya.Rum.sendDelta("doc.view",Math.round(null===window||void 0===window?void 0:window.performance.now()));break;case T.documentError:Y(!1),F(!0),j(l,d,"error");break;case T.downloadError:_({operation:"docsError",message:"Не удалось скачать файл. Попробуйте позже."});break;case T.fullScreenMode:null===(a=s())||void 0===a||a.classList.toggle("docs-view-full-screen-mode",c);break;case T.redirect:location.assign(c.url);break;case T.openDocCopyConfirm:{const{toExtension:e,url:t}=c;x({toExtension:e,url:t});break}}}catch(e){}},[V,s,_,f,F,Y,b,l,d,x]);o.useEffect(()=>{var e,t;return window.addEventListener("message",K),null===(t=null===(e=U.current)||void 0===e?void 0:e.contentWindow)||void 0===t||t.postMessage(JSON.stringify({type:T.sendDocState}),i),()=>{window.removeEventListener("message",K)}},[K,U,i]);const J=o.useCallback(()=>{W(null)},[]);return o.default.createElement(o.default.Fragment,null,q?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:w().e("Placeholder")}),o.default.createElement("div",{className:w().e("Loading")},o.default.createElement(m.Spin,{className:w().e("LoadingSpin"),view:"default",progress:!0,size:"l"}))):null,o.default.createElement("iframe",{src:z,className:w().e("Frame").m({TouchLoading:!1}),allowFullScreen:!0,ref:U}),L?null:o.default.createElement(v.default,{className:w().e("Footer")}),o.default.createElement(h.default,{status:H,folderUrl:$,onClose:J}),A?o.default.createElement(g.default,{publicShareUrl:y?null:M,visible:R,objectIds:[A],onClose:B,metrikaPath:S,showDeleteLinkProgress:!0}):null)})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2174),i=n(2175);t.UXFeedbackIframeController=class{constructor(e={}){this.params=e,this.messageListener=(e=>{const t=e.data;"string"==typeof t.type&&t.type.startsWith("uxfb/")&&this.handleIncomingMessage(t)}),this.resizeListener=(()=>{const e=window.innerHeight||document.documentElement.clientHeight;this.sendMessage({type:i.UXFeedbackMessageType.CLIENT_HEIGHT,payload:e})}),this.messageQueue=[]}start(e,t){this.iframe=e,this.dispatch=t,window.addEventListener("message",this.messageListener),this.initIframe()}stop(){window.removeEventListener("message",this.messageListener),window.removeEventListener("resize",this.resizeListener)}sendEvent(e){this.sendMessage({type:i.UXFeedbackMessageType.EVENT,payload:{event:e}})}sendProperties(e){this.sendMessage({type:i.UXFeedbackMessageType.PROPERTIES,payload:e})}initIframe(){const e=r.getYaIdFromCookies();this.sendMessage({type:i.UXFeedbackMessageType.INFO,payload:{url:document.location.href,yaId:e,devicePixelRatio:window.devicePixelRatio,scrollTop:document.documentElement.scrollTop,scrollHeight:document.documentElement.scrollHeight,cookies:r.objectToCookies(this.params.cookies||{})}}),this.resizeListener(),window.addEventListener("resize",this.resizeListener)}handleIncomingMessage(e){switch(e.type){case i.UXFeedbackMessageType.CLASS:return this.onClassMessage(e.payload);case i.UXFeedbackMessageType.STYLE:return this.onStyleMessage(e.payload);case i.UXFeedbackMessageType.POSITION:return this.onPositionMessage(e.payload);case i.UXFeedbackMessageType.OPACITY:return this.onOpacityMessage(e.payload);case i.UXFeedbackMessageType.SIZE:return this.onSizeMessage(e.payload);case i.UXFeedbackMessageType.IMAGE:return this.onImageMessage(e.payload)}}onImageMessage(e){this.addStyle({width:e.width,height:e.height}),this.sendMessage({type:i.UXFeedbackMessageType.SHOW_WIDGET_ICON,payload:null}),this.addStyle({opacity:"1"})}onSizeMessage(e){this.addStyle({width:e.width,height:e.height})}onOpacityMessage(e){this.addStyle({opacity:String(e)})}onPositionMessage({height:e}){const t=Number(e),n=window.innerHeight||document.documentElement.clientHeight,r=t>=n?0:(n-t)/2;this.removeStyle(["transform","left","right"]),this.addStyle({top:`${r}px`})}onStyleMessage(e){const t=/([\w-]*)\s*:\s*([^;]*)/g,n={};let r=t.exec(e);for(;r;)n[r[1]]=r[2].trim(),r=t.exec(e);this.addStyle(n)}onClassMessage(e){this.addClass(e)}addClass(e){var t;null===(t=this.dispatch)||void 0===t||t.call(this,{type:"set-class",className:e})}addStyle(e){var t;null===(t=this.dispatch)||void 0===t||t.call(this,{type:"set-style",style:e})}removeStyle(e){var t;null===(t=this.dispatch)||void 0===t||t.call(this,{type:"remove-style",keys:e})}sendMessage(e){if(this.iframe&&this.iframe.contentWindow){for(;this.messageQueue.length;)this.iframe.contentWindow.postMessage(this.messageQueue.shift(),"*");this.iframe.contentWindow.postMessage(e,"*")}else this.messageQueue.push(e)}}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(111)),u=i(n(1108)),c=n(44),l=n(57),d=n(125),f=n(34),p=i(n(63)),h=i(n(14)),m=i(n(138)),v=n(81),g=n(86),y=a.connect((e,t)=>{const{config:{links:{static:{host:n},help:{overdraft:r}}},environment:{agent:{isSmartphone:i}}}=e;return{isMobile:i,overdraftType:l.getOverdraftType(e),blockOverdraftDate:l.getBlockOverdraftDate(e),isOverdraftDialogOpened:d.isDialogOpened(e,"overdraft"),overdraftValue:s.default.formatSpace(l.getSpaceOverdraftValue(e)),staticHost:n,helpLink:r+"#end",buyButtonUrl:p.default.addParams(c.getBuyButtonUrl(e),{from:t.from}),onClose:t.onClose,isDark:v.isContentDark(g.getThemeName(e))}});t.default=y(({overdraftType:e,blockOverdraftDate:t,isOverdraftDialogOpened:n,overdraftValue:r,helpLink:i,staticHost:a,buyButtonUrl:s,isMobile:c,onClose:l,isDark:d})=>{const p=o.useCallback((...t)=>{h.default.count("interface elements","overdrafts",e,n?"overdraft_dialog":"overdraft_block",...t)},[e,n]);o.useEffect(()=>{p("show")},[p]);const v=o.useCallback(()=>{p("close"),l()},[l,p]),g=o.useCallback(()=>{p("buy_button")},[p]),y=o.useCallback(()=>{p("more")},[p]),b=o.useCallback(()=>{p("select_and_delete"),l()},[l,p]),_=t&&m.default(t,"D mmmm",["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]);let O=e===f.OVERDRAFT_TYPES.LITE?"Ваш Диск переполнен на "+yr.externals.entityify(r):"Ваш Диск будет заблокирован "+yr.externals.entityify(_)+", а спустя полгода файлы удалятся навсегда",E=e===f.OVERDRAFT_TYPES.LITE?"Файлы еще доступны, но уже нельзя загружать новые и делиться ссылками. А "+yr.externals.entityify(_)+" Диск заблокируется насовсем.":"Файлы занимают на "+yr.externals.entityify(r)+" больше, чем у вас есть. Удалите лишнее или добавьте место.";return c&&(O=e===f.OVERDRAFT_TYPES.LITE?"Ваш Диск переполнен":"Ваши файлы будут удалены. Диск будет заблокирован "+yr.externals.entityify(_)+".",E=e===f.OVERDRAFT_TYPES.LITE?"Файлы по-прежнему доступны. Но нельзя загружать новые, делиться ссылками и создавать общие папки.":"Файлы занимают больше места, чем у вас есть."),o.default.createElement(u.default,{isMobile:c,title:O,text:E,aboutText:"Подробнее об ограничениях",buttonAddSpaceText:"Добавить место",buttonCleanText:"Выбрать и удалить лишнее",overdraftType:e,helpLink:i,staticHost:a,buyButtonUrl:s,onClose:v,onClean:b,onAddSpace:g,onAbout:y,isDark:d})})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(26),a=r(n(210)),s=r(n(11)),u=()=>s.default()("overdraft-content"),c=r(n(2177));n(2181);const l=()=>{};t.default=i.default.memo(({isMobile:e,title:t,text:n,aboutText:r="",buttonAddSpaceText:s="",buttonCleanText:d="",overdraftType:f,staticHost:p,imageUrl:h,helpLink:m="",buyButtonUrl:v,buyButtonTarget:g="_blank",onClose:y=l,onClean:b=l,onAddSpace:_=l,onAbout:O=l,withoutClose:E=!1,isDark:w})=>{const S="hard"===f&&w?c.default.hardDark:c.default[f];return i.default.createElement("div",{className:u().m({mobile:e,[f]:!0})},E?null:i.default.createElement(o.Button,{className:u().e("close"),onClick:y,size:e?"xs":"m",view:"clear",icon:t=>i.default.createElement(a.default,{cls:t,iconSize:e?"l":"m"})}),i.default.createElement("div",{className:u().e("content")},i.default.createElement("div",{className:u().e("title")},t),i.default.createElement("div",{className:u().e("text")},n,e?" ":i.default.createElement("br",null),r?i.default.createElement(o.Button,{className:u().e("about"),size:"m",view:"clear",type:"link",url:m,target:"_blank",onClick:O},r):null),i.default.createElement("div",{className:u().e("image-wrapper")},i.default.createElement("img",{className:u().e("image"),src:`${p||""}${h||S}`})),s||d?i.default.createElement("div",{className:u().e("buttons-wrapper")},s?i.default.createElement(o.Button,{className:u().e("button-add-space"),size:"m",view:"action",onClick:_,type:v?"link":void 0,url:v,target:g},s):null,d?i.default.createElement(o.Button,{className:u().e("button-clean"),size:"m",view:e?"clear":"default",onClick:b},d):null):null))})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"countB2bFreeBase",(function(){return o})),n.d(t,"countB2bFree",(function(){return a}));var r=n(14),i=n(34),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.count.apply(void 0,["interface elements","b2b-free"].concat(t))},a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e===i.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION&&o.apply(void 0,["grace-period"].concat(n)),e===i.B2B_RESTRICTION_STATUSES.RESTRICT_NOTIFICATION&&o.apply(void 0,["grace-notify"].concat(n)),e===i.B2B_RESTRICTION_STATUSES.RESTRICT&&o.apply(void 0,["disabling-free"].concat(n))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zip=t.prop=void 0,t.prop=function(e,t,n){var r,i="";switch(Array.isArray(t)&&(t=(r=t)[0],i=r[1]),!0){case void 0!==t:return e+": "+t+i+";";case void 0!==n:return e+": "+n+";";default:return"/* "+e+": "+t+i+"; */"}},t.zip=function(e){return e.replace(/\n+|\t+|\s{2,}/g," ")}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useHashed=void 0;var r=n(0),i=1;function o(e){return Object.keys(e).reduce((function(t,n){var r;return Object.assign(t,((r={})[n]=e[n]+"__"+(function(e){return Math.abs((1e4*e+e+42)*(1e4*e-e-42)).toString(36).slice(0,8)})(i),r))}),{})}t.useHashed=function(e){return r.useState((function(){return o(e)}))[0]}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerPromoRenderer=t.PromoRenderer=void 0;const a=n(2201);Object.defineProperty(t,"PromoRenderer",{enumerable:!0,get:function(){return a.PromoRenderer}});const s=o(n(2203));i(n(1045),t),i(n(1031),t);const u=s.default(a.PromoRenderer,{isActive:!0});t.ServerPromoRenderer=u,t.default=u}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CrossIcon=t.CrossIcon24=void 0;const i=n(2212),o=r(n(2215)),a=r(n(2216));t.CrossIcon24=i.withGenericIcon(o.default),t.CrossIcon=i.withGenericIcon(a.default)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxPopup=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(31),a=n(321);t.MessageBoxPopup=function(e){var t=e.anchor,n=e.boundary,s=e.direction,u=e.mainOffset,c=e.modifiers,l=e.motionless,d=e.onClick,f=e.onClose,p=e.scope,h=e.secondaryOffset,m=e.tailOffset,v=e.viewportOffset,g=e.visible,y=e.zIndex,b=r.__rest(e,["anchor","boundary","direction","mainOffset","modifiers","motionless","onClick","onClose","scope","secondaryOffset","tailOffset","viewportOffset","visible","zIndex"]),_=o.useComponentRegistry(a.cnMessageBox()).Popup;return i.default.createElement(_,{anchor:t,boundary:n,direction:s,mainOffset:u,modifiers:c,motionless:l,nonvisual:!0,onClick:d,onClose:f,scope:p,secondaryOffset:h,tailOffset:m,target:"anchor",view:"default",viewportOffset:v,visible:g,zIndex:y},(function(e){var t=e.tailRef;return i.default.createElement(a.MessageBox,r.__assign({},b,{tailRef:t,onClose:f}))}))}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2241),t)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zM7 3v4H3v2h4v4h2V9h4V7H9V3H7z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t){e.exports=function(e){var t=!1;return{promise:new Promise(function(n,r){e.then((function(e){return t?r({isCanceled:!0}):n(e)}),(function(e){return r(t?{isCanceled:!0}:e)}))}),cancel:function(){t=!0}}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(123)),a=n(407),s=n(918);n(2339);const u=r(n(11)),c=()=>u.default()("family-modal");t.FamilyModal=(e=>i.default.createElement(a.Modal,{className:c(),visible:e.visible,theme:"normal",onClose:e.onClose},i.default.createElement(o.default,{view:"clear",size:"s",className:c().e("close"),"aria-label":"Закрыть",onClick:e.onClose,icon:s.close4IconProvider}),i.default.createElement("div",{className:c().e("content-wrapper")},e.children)))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(2340)),s=i(n(2342));n(2343);const u=i(n(11)),c=()=>u.default()("family-members");var l;!(function(e){e.DEFAULT="default",e.FULL="full"})(l||(l={}));t.default=(({members:e,initialVisibleMembersCount:t=4})=>{const[n,r]=o.useState(l.DEFAULT),i=o.useMemo(()=>n===l.DEFAULT?e.slice(0,t):e,[n,e,t]),u=o.useCallback(()=>r(l.FULL),[r]),d=n===l.DEFAULT&&e.length>t,f=e.length-t;return o.default.createElement("div",{className:c()},i.map((e,t)=>o.default.createElement("div",{key:t,className:c().e("item")},o.default.createElement(a.default,Object.assign({},e)))),d&&o.default.createElement("div",{className:c().e("item")},o.default.createElement(a.default,{label:`ещё ${f}`,onClick:u,rightIcon:o.default.createElement(s.default,null)})))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(12));t.default=class extends o.default{getContentSVG(){return i.default.createElement("path",{fill:"#FFD21F",fillRule:"evenodd",d:"M8 2.91c.303 0 .575.187.681.471l1.455 3.88 2.62-1.36a.727.727 0 0 1 1.033.85l-1.715 5.818a.727.727 0 0 1-.697.522H4.623a.727.727 0 0 1-.697-.522L2.212 6.751a.727.727 0 0 1 1.032-.85l2.62 1.36 1.455-3.88A.727.727 0 0 1 8 2.909Z",clipRule:"evenodd"})}}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(31),s=n(906),u=n(26),c=n(85),l=n(179),d=n(3),f=n(64),p=n(909),h=n(1123),m=n(2354),v=i(n(9));n(2355);const g=i(n(11));var y;!(function(e){e.read="read",e.write="write",e.retry="retry",e.revoke="revoke"})(y=t.AccessType||(t.AccessType={})),t.ACCESS_TYPE_NAMES={[y.read]:"Просмотр",[y.write]:"Редактирование"};t.mapAccessTypeToRights=(e=>e===y.write?660:640);const b=d.compose(l.withGlyphTypeArrow)(l.Icon),_=new a.Registry({id:s.cnSelect()});_.set("Trigger",u.Button).set("Popup",e=>o.default.createElement(c.Popup,Object.assign({},e,{direction:["bottom-end","top-end"],scope:void 0}))).set("Menu",f.Menu).set("Icon",b);const O=d.compose(p.withTogglable,a.withRegistry(_))(s.Select);t.AccessTypeSelect=(({user:e,onChange:n})=>{const r=o.useCallback(t=>{const n="proposed"===e.status?"Отправлено":t.children;return o.default.createElement(u.Button,Object.assign({},t,{view:"clear","aria-label":n}),n)},[e]),i=o.useCallback((e,t)=>o.default.createElement(t,Object.assign({},v.default.omit(e,["items"])),e.items.map(({items:e},t)=>o.default.createElement(f.Group,{key:t},e.map(({content:e,value:t,icon:n})=>o.default.createElement(f.Item,{className:g.default()("AccessTypeSelect").e("MenuItem").m({withIcon:Boolean(n)}),key:t,value:t,icon:n},e))))),[]);return o.default.createElement(O,{size:"m",view:"default",iconProps:{glyph:"type-arrow"},renderTrigger:r,renderMenu:i,value:(e=>{switch(e.rights){case 640:return y.read;case 660:return y.write}})(e),onChange:n.bind(null,e),disabled:e.isLoading,options:[{items:[{value:y.read,content:t.ACCESS_TYPE_NAMES[y.read]},{value:y.write,content:t.ACCESS_TYPE_NAMES[y.write]}]},{items:[..."proposed"===e.status?[{value:y.retry,content:"Отправить заново",icon:m.retryIconProvider}]:[],{value:y.revoke,content:"Закрыть доступ",icon:h.lockIconProvider}]}]})})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(12));class a extends o.default{getContentSVG(){return i.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M2 8.5A1.5 1.5 0 0 1 3.5 7H4V5a4 4 0 1 1 8 0v2h.5A1.5 1.5 0 0 1 14 8.5v6a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-6ZM8 3a2 2 0 0 0-2 2v1.997h4V5a2 2 0 0 0-2-2Zm4 11V9H4v5h8Z"})}}t.default=a,t.lockIconProvider=(e=>i.default.createElement(a,{cls:e}))}),,(function(e,t,n){"use strict";n.r(t);n(343);var r=n(28),i=Object(r.cn)("Calendar"),o=n(1),a=n(0),s=n.n(a),u=n(78),c=n(368),l=n(53),d=n(71),f=n(43),p=n(287);function h(e,t){var n,r,i,o,a,s,u,h;Object(f.a)(1,arguments);var m=Object(p.a)(),v=Object(d.a)(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t?void 0:null===(a=t.locale)||void 0===a?void 0:null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:m.firstWeekContainsDate)&&void 0!==r?r:null===(u=m.locale)||void 0===u?void 0:null===(h=u.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==n?n:1),g=(function(e,t){var n,r,i,o,a,s,u,h;Object(f.a)(1,arguments);var m=Object(l.a)(e),v=m.getFullYear(),g=Object(p.a)(),y=Object(d.a)(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t?void 0:null===(a=t.locale)||void 0===a?void 0:null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:g.firstWeekContainsDate)&&void 0!==r?r:null===(u=g.locale)||void 0===u?void 0:null===(h=u.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==n?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setFullYear(v+1,0,y),b.setHours(0,0,0,0);var _=Object(c.a)(b,t),O=new Date(0);O.setFullYear(v,0,y),O.setHours(0,0,0,0);var E=Object(c.a)(O,t);return m.getTime()>=_.getTime()?v+1:m.getTime()>=E.getTime()?v:v-1})(e,t),y=new Date(0);return y.setFullYear(g,0,v),y.setHours(0,0,0,0),Object(c.a)(y,t)}var m=6048e5;var v=n(934),g=(n(1522),function(e){var t=e.innerRef,n=(e.state,e.className),r=e.children,a=(e.value,e.viewDate,e.today),u=e.weekend,c=e.outside,l=e.focused,d=e.disabled,f=e.hidden,p=e.selected,h=e.rangeSelected,m=e.rangePreview,v=e.rangePreviewStart,g=e.rangePreviewEnd,y=e.selectionStart,b=e.selectionEnd,_=Object(o.__rest)(e,["innerRef","state","className","children","value","viewDate","today","weekend","outside","focused","disabled","hidden","selected","rangeSelected","rangePreview","rangePreviewStart","rangePreviewEnd","selectionStart","selectionEnd"]);return s.a.createElement("span",Object(o.__assign)({ref:t,className:i("DateButton",{today:a,weekend:u,outside:c,focused:l,disabled:d,hidden:f,selected:p,rangeSelected:h,rangePreview:m,rangePreviewStart:v,rangePreviewEnd:g,selectionStart:y,selectionEnd:b},[n])},_),r)}),y=(n(1521),Object(a.forwardRef)((function(e,t){var n=e.className,r=e.children,a=Object(o.__rest)(e,["className","children"]);return s.a.createElement("span",Object(o.__assign)({ref:t,className:i("GridCell",null,[n])},a),r)}))),b={day:{day:"numeric"},month:{month:"short"},year:{year:"numeric"}},_=function(e){var t=e.showOutsideDays,n=e.state,r=e.value,i=e.viewDate,c=e.renderCell,l=n.activeView,d=Object(a.useRef)(null),f=Object(u.useDateFormatter)(b[l]),p=Object(v.c)(g,c),h=Object(u.useCalendarCell)(e,n,d),m=h.cellState,_=h.cellProps,O=h.buttonProps,E=m.isFocused,w=m.isSelected,S=m.isToday,C=m.isWeekend,x=m.isSameView,T=m.isDisabled,P=m.isRangeSelected,k=m.isRangePreview,j=m.isSelectionStart,R=m.isSelectionEnd,I=m.isRangePreviewStart,A=m.isRangePreviewEnd,D=f.format(r);return s.a.createElement(y,Object(o.__assign)({className:"Calendar-DateCell"},_),s.a.createElement(p,Object(o.__assign)({innerRef:d},O,{state:n,value:r,viewDate:i,today:S&&"day"===n.activeView,weekend:C,outside:!x,focused:n.isCalendarFocused&&E,disabled:T,hidden:!t&&!x,selected:w,rangeSelected:P,rangePreview:k,rangePreviewStart:I,rangePreviewEnd:A,selectionStart:j,selectionEnd:R}),s.a.createElement("span",{className:"Calendar-Date"},D)))},O=n(2452),E=(n(1518),Object(a.forwardRef)((function(e,t){var n=e.className,r=e.children,a=Object(o.__rest)(e,["className","children"]);return s.a.createElement("div",Object(o.__assign)({ref:t,className:i("Grid",null,[n])},a),r)}))),w=(n(1519),Object(a.forwardRef)((function(e,t){var n=e.type,r=e.className,a=e.children,u=Object(o.__rest)(e,["type","className","children"]);return s.a.createElement("div",Object(o.__assign)({ref:t,className:i("GridSection",{type:n},[r])},u),a)}))),S=(n(1520),Object(a.forwardRef)((function(e,t){var n=e.className,r=e.children,a=Object(o.__rest)(e,["className","children"]);return s.a.createElement("div",Object(o.__assign)({ref:t,className:i("GridRow",null,[n])},a),r)}))),C={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:1,whiteSpace:"nowrap"},x=function(e){var t=e.showWeekNumbers,n=e.daysOfWeek,r=Object(u.useDateFormatter)({weekday:"short"}),o=Object(u.useDateFormatter)({weekday:"long"});return s.a.createElement(E,{className:i("DaysOfWeek")},t&&s.a.createElement(w,{type:"aside"},s.a.createElement(S,null,s.a.createElement(y,null))),s.a.createElement(w,{type:"body"},s.a.createElement(S,null,n.map((function(e,t){return s.a.createElement(y,{key:t},s.a.createElement("span",{style:C},o.format(e)),s.a.createElement("span",{className:i("DayOfWeek",{weekend:Object(O.a)(e)}),"aria-hidden":!0},r.format(e)))})))))},T=Object(a.forwardRef)((function(e,t){var n=e.className,r=e.size,i=void 0===r?24:r,a=Object(o.__rest)(e,["className","size"]);return s.a.createElement("svg",Object(o.__assign)({width:i,height:i,viewBox:"0 0 24 24",fill:"none"},a,{focusable:"false","aria-hidden":"true",className:"SvgIcon"+(n?" "+n:""),ref:t}),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.407 13.058a1.495 1.495 0 0 1 0-2.116L8.04 5.3c.39-.39 1.03-.39 1.42 0 .39.39.39 1.02 0 1.41L6.744 9.427a9.992 9.992 0 0 1-1.768 1.406l-.342.214.208.207A10 10 0 0 1 7.082 11h13.92a1 1 0 1 1 0 2H7.083a10 10 0 0 1-2.24-.254l-.208.207.342.214c.641.4 1.233.872 1.768 1.406L9.46 17.29c.39.39.39 1.02 0 1.41-.39.39-1.03.39-1.42 0l-5.633-5.642z",fill:"currentColor"}))})),P=Object(a.forwardRef)((function(e,t){var n=e.className,r=e.size,i=void 0===r?24:r,a=Object(o.__rest)(e,["className","size"]);return s.a.createElement("svg",Object(o.__assign)({width:i,height:i,viewBox:"0 0 24 24",fill:"none"},a,{focusable:"false","aria-hidden":"true",className:"SvgIcon"+(n?" "+n:""),ref:t}),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.596 13.058a1.495 1.495 0 0 0 0-2.116A39833.83 39833.83 0 0 0 15.963 5.3c-.39-.39-1.03-.39-1.42 0a.996.996 0 0 0 0 1.41l2.716 2.717a9.994 9.994 0 0 0 1.768 1.406l.342.214-.208.207a10 10 0 0 0-2.24-.254H3a1 1 0 1 0 0 2h13.922a10 10 0 0 0 2.24-.254l.207.207-.342.214c-.641.4-1.233.872-1.768 1.406l-2.716 2.717a.996.996 0 0 0 0 1.41c.39.39 1.03.39 1.42 0l5.633-5.642z",fill:"currentColor"}))})),k=(n(1517),function(e){var t,n=e.state,r=e.viewRange,o=e.prevHidden,c=e.nextHidden,l=n.activeView,d=n.baseDate,f=n.moveView,p=n.setView,h=n.moveDate,m=n.canNavigateTo,v=n.navigateTo,g=(function(e){return e[0].toUpperCase()+e.slice(1)})(Object(u.useDateFormatter)({month:"long"}).format(r.start)),y=r.start.getFullYear(),b=r.end.getFullYear(),_=h(d,u.CalendarNavigationAction.PrevView),O=h(d,u.CalendarNavigationAction.NextView),E=!m(_),w=!m(O),S=Object(a.useCallback)((function(){E||v(_)}),[_,v,E]),C=Object(a.useCallback)((function(){w||v(O)}),[O,v,w]),x=f(l,1),k=x===l,j=Object(a.useCallback)((function(){p(x)}),[x,p]);t="day"===l?g+" "+y:"month"===l?y:y+" – "+b;var R=n.views.length>1?1:0;return s.a.createElement("div",{className:i("Navigation")},s.a.createElement("button",{className:i("NavigationAction",{disabled:E,hidden:o}),tabIndex:R,onClick:S,disabled:E},s.a.createElement(T,null)),s.a.createElement("div",{className:i("NavigationTitle")},s.a.createElement("button",{className:i("NavigationTitleButton",{disabled:k}),tabIndex:R,onClick:j,disabled:k},t)),s.a.createElement("button",{className:i("NavigationAction",{disabled:w,hidden:c}),tabIndex:R,onClick:C,disabled:w},s.a.createElement(P,null)))});n(1516);var j=function(e){var t=e.showDaysOfWeek,n=void 0===t||t,r=e.showOutsideDays,d=e.showWeekNumbers,p=e.showQuarters,v=e.viewDate,g=e.viewRange,b=e.data,O=e.state,C=e.index,T=e.viewsCount,P=void 0===T?1:T,j=e.renderCell,I=O.activeView,A=Object(u.useCalendar)(e,O).gridProps,D=Object(u.useFirstDayOfWeek)(),M=void 0!==e.firstDayOfWeek?e.firstDayOfWeek:D,N=Object(a.useMemo)((function(){return (function(e,t,n){if("month"===e)return R;if("day"===e)return t.map((function(e){return (function(e,t){Object(f.a)(1,arguments);var n=Object(l.a)(e),r=Object(c.a)(n,t).getTime()-h(n,t).getTime();return Math.round(r/m)+1})(e[0],{weekStartsOn:n})}));return[]})(I,b,M)}),[I,b,M]),L="day"===I&&d||"month"===I&&p;return s.a.createElement("div",{className:i("View",{type:I})},s.a.createElement("div",{className:i("Header")},s.a.createElement(k,{state:O,viewRange:g,prevHidden:C>0,nextHidden:C<P-1}),n&&"day"===I&&s.a.createElement(x,{showWeekNumbers:d,daysOfWeek:b[0]})),s.a.createElement("div",{className:i("Body")},s.a.createElement(E,Object(o.__assign)({},A),L&&s.a.createElement(w,{type:"aside"},N.map((function(e,t){return s.a.createElement(S,{key:t},s.a.createElement(y,null,e))}))),s.a.createElement(w,{type:"body"},b.map((function(e,t){return s.a.createElement(S,{key:t,role:"row"},e.map((function(e,n){return s.a.createElement(_,{key:t+"-"+n,state:O,value:e,viewDate:v,showOutsideDays:r,renderCell:j})})))}))))))};var R=["Q1","Q2","Q3","Q4"];n(1515);var I=function(e){var t=e.state,n=e.className,r=Object(o.__rest)(e,["state","className"]),a=t.views;return s.a.createElement("div",{className:i(null,[n])},a.map((function(e,n){return s.a.createElement(j,Object(o.__assign)({key:n},e,r,{index:n,state:t}))})))},A=function(e){var t=Object(u.useSingleCalendarState)(e);return s.a.createElement(I,Object(o.__assign)({},e,{state:t}))},D=function(e){var t=Object(u.useMultipleCalendarState)(e);return s.a.createElement(I,Object(o.__assign)({},e,{state:t}))},M=function(e){var t=Object(u.useRangeCalendarState)(e);return s.a.createElement(I,Object(o.__assign)({},e,{state:t}))},N=n(3),L=(n(1523),Object(N.createClassNameModifier)("Calendar",{size:"s"})),F=(n(1524),Object(N.createClassNameModifier)("Calendar",{size:"m"})),B=(n(1525),Object(N.createClassNameModifier)("Calendar",{size:"l"})),U=(n(1526),Object(N.createClassNameModifier)("Calendar",{view:"default"})),z=(n(1527),Object(N.createClassNameModifier)("Calendar",{view:"brand"}));n.d(t,"cnCalendar",(function(){return i})),n.d(t,"Calendar",(function(){return A})),n.d(t,"MultipleCalendar",(function(){return D})),n.d(t,"RangeCalendar",(function(){return M})),n.d(t,"withSizeS",(function(){return L})),n.d(t,"withSizeM",(function(){return F})),n.d(t,"withSizeL",(function(){return B})),n.d(t,"withViewDefault",(function(){return U})),n.d(t,"withViewBrand",(function(){return z}))}),(function(e,t,n){"use strict";var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(0),v=n.n(m),g=n(16),y=n(45),b=n(33),_=n.n(b),O=n(17),E=n(26),w=n(279),S=n(501),C=n(12);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var T=(function(e){l()(n,e);var t=x(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return v.a.createElement("path",{fill:"currentColor",d:"M7.094 18.32A8 8 0 0 0 18.32 7.094L7.094 18.32zM5.68 16.906L16.906 5.68A8 8 0 0 0 5.68 16.906zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z"})}}]),n})(C.default),P=Object(C.iconProvider)(T),k=n(83),j=n(212),R=n(14);function I(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var A=(function(e){l()(n,e);var t=I(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onHideButtonClick=r._onHideButtonClick.bind(u()(r)),r._onButtonClick=r._onButtonClick.bind(u()(r)),r}return a()(n,[{key:"_onButtonClick",value:function(e){var t=this.props,n=t.opened,r=t.openUploader,i=t.onCancelAllUploads;"cancel_all_uploads"===e&&(n||(R.default.count("actions","uploading","cancel all uploads"),r()),i())}},{key:"_onHideButtonClick",value:function(){R.default.count("actions","uploading","close uploader"),this.props.hideUploader()}},{key:"render",value:function(){var e=this.props,t=e.uploadingStatus,n=e.opened,r=e.isMobile,i=e.isIosSafari,o=e.hasCancelableUploads,a=[];return a.push(v.a.createElement("div",{key:"state-label",className:z().e("opened-state-label")},n?"Свернуть":"Развернуть")),t===O.UPLOAD_STATUSES.DONE?a.push(v.a.createElement(E.Button,{key:"hide",view:"clear-inverse",size:"m","aria-label":"Закрыть",onClick:this._onHideButtonClick,className:z().e("close-button"),icon:w.close3IconProvider})):a.push(v.a.createElement(S.default,{key:"groupable-buttons-uploader",view:"clear-inverse",buttons:[{id:"cancel_all_uploads",text:"Отменить загрузки",icon:P,hidden:!0,disabled:!o}],isIosSafari:i,isMobile:r,useMobilePane:r,moreButtonsText:"Ещё",moreButtonsPopupDirections:[n?"bottom-end":"top-end"],moreButtonsHoverTooltipText:[n?"bottom":"top"],onButtonClick:this._onButtonClick,popupScope:this.props.popupScope})),v.a.createElement("div",{className:z().e("controls")},a)}}]),n})(m.Component),D={hideUploader:k.h,openUploader:k.j},M=Object(g.connect)((function(e){var t=e.environment.agent,n=t.isMobile,r=t.OSFamily,i=t.BrowserBase,o=e.uploader;return{opened:o.opened,uploadingStatus:o.uploadingStatus,hasCancelableUploads:Object(j.c)(e),isMobile:n,isIosSafari:"iOS"===r&&"Safari"===i}}),D)(A),N=n(11),L=n.n(N);n(2043);function F(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var B,U,z=function(){return L()()("uploader-progress")},V=(function(e){l()(n,e);var t=F(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onProgressClick=r._onProgressClick.bind(u()(r)),r._uploadProgressIsIncreasing=!0,r}return a()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._uploadProgressIsIncreasing=e.uploadingPercentage>this.props.uploadingPercentage}},{key:"_formatPercentage",value:function(e){var t=e.toFixed(1);return 100!==e&&0!==e||(t=String(e)),t.replace(".",",")}},{key:"_getUploadingPrimaryInfo",value:function(){var e,t=this.props,n=t.uploadingStatus,r=t.uploadingPercentage,i=t.focusElementRef;switch(n){case O.UPLOAD_STATUSES.ERROR:e="Загрузка остановлена";break;case O.UPLOAD_STATUSES.UPLOADING:e="Загрузка "+yr.externals.entityify(this._formatPercentage(r))+"%";break;case O.UPLOAD_STATUSES.DONE:e="Все файлы загружены"}return v.a.createElement(v.a.Fragment,null,v.a.createElement("h3",_()({className:z().e("a11y-title")},n===O.UPLOAD_STATUSES.UPLOADING?{role:"status","aria-live":"off"}:{role:"alert","aria-live":"assertive"},{tabIndex:0,"aria-label":e,ref:i}),e),v.a.createElement("h3",{className:z().e("progress-primary")},e))}},{key:"_getUploadingSecondaryInfo",value:function(){var e,t=this.props,n=t.uploadingTimeRemaining,r=t.uploadingPercentage,i=t.uploadingStatus;return i===O.UPLOAD_STATUSES.ERROR?e="Загрузка "+yr.externals.entityify(this._formatPercentage(r))+"%":i===O.UPLOAD_STATUSES.UPLOADING&&n&&(e="Осталось "+yr.externals.entityify(n)),e?v.a.createElement("span",{className:z().e("progress-secondary")},e):null}},{key:"_onProgressClick",value:function(e){var t=e.target;t.closest(".Button2")||t.closest(".Popup2")||t.closest(".modal")||(this.props.opened?(R.default.count("actions","uploading","hide upload dialog"),this.props.closeUploader()):(R.default.count("actions","uploading","reopen upload dialog"),this.props.openUploader()))}},{key:"render",value:function(){var e=this.props,t=e.uploadingPercentage,n=e.uploadingStatus;return v.a.createElement("div",{className:z(),onClick:this._onProgressClick},v.a.createElement("div",{className:z().e("progress-bar").m({error:n===O.UPLOAD_STATUSES.ERROR,"with-animation":this._uploadProgressIsIncreasing}),style:{width:t+"%"}}),v.a.createElement("div",{className:z().e("progress-info")},this._getUploadingPrimaryInfo(),this._getUploadingSecondaryInfo()),v.a.createElement(M,{onCancelAllUploads:this.props.onCancelAllUploads,popupScope:this.props.popupScope}))}}]),n})(m.Component),H={openUploader:k.j,closeUploader:k.c},W=Object(g.connect)((function(e){var t=e.uploader,n=t.opened,r=t.uploadingStatus,i=Object(j.a)(e);return{uploadingTimeRemaining:i.uploadingTimeRemaining,uploadingPercentage:i.uploadingPercentage,uploadingStatus:r,opened:n}}),H)(V),$=n(398),G=n(157),q=n(10),Y=n.n(q),K=n(210),J=function(){return L()()("upload-item-state")},Z=Object(g.connect)((function(e,t){var n=t.resourceId,r=e.uploader.uploadingStatesByIds[n];return{total:r.total,loaded:r.loaded}}))((function(e){var t=e.loaded,n=e.total,r=n?t/n*100:0;return v.a.createElement("div",{className:J().m({uploading:!0})},v.a.createElement("div",{className:J().e("progress-bar"),style:{width:"".concat(r,"%")}}))}));n(2051);function X(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Q=function(){return L()()("upload-item-state")},ee=(B={},Y()(B,O.UPLOAD_ERRORS.INSUFFICIENT_STORAGE,"Недостаточно места"),Y()(B,O.UPLOAD_ERRORS.OWNER_INSUFFICIENT_STORAGE,"В общей папке нет места"),Y()(B,O.UPLOAD_ERRORS.UNKNOWN,"Не удалось загрузить"),Y()(B,O.UPLOAD_ERRORS.LOCKED,"Не удалось загрузить"),Y()(B,O.UPLOAD_ERRORS.FOLDER_NOT_CREATED,"Не удалось загрузить"),Y()(B,O.UPLOAD_ERRORS.SUBRESOURCE,"Не удалось загрузить"),Y()(B,O.UPLOAD_ERRORS.FILE_TOO_BIG,"Нельзя загрузить файл больше 50 ГБ\n на Яндекс Диск"),Y()(B,O.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE,"Загружено не всё"),B),te=(U={},Y()(U,O.UPLOAD_STATUSES.ENQUEUED,(function(){return v.a.createElement("span",{className:Q().m({enqueued:!0})},"В очереди")})),Y()(U,O.UPLOAD_STATUSES.UPLOADING,(function(e){var t=e.resourceId;return v.a.createElement(Z,{resourceId:t})})),Y()(U,O.UPLOAD_STATUSES.ERROR,(function(e){var t=e.error,n=e.limitUploadSize,r=e.isInsideVirtualDisk;return v.a.createElement("span",{className:Q().m({error:!0})},t===O.UPLOAD_ERRORS.FILE_SIZE_OVER_LIMIT?r?"Нельзя загрузить файл больше "+yr.externals.entityify(n)+" \n без Яндекс 360 для бизнеса":"Нельзя загрузить файл больше "+yr.externals.entityify(n)+"\n без Яндекс 360 Премиум":ee[t])})),Y()(U,O.UPLOAD_STATUSES.CONFLICT,(function(){return v.a.createElement("span",{className:Q().m({error:!0})},"Уже есть в папке")})),U),ne=(function(e){l()(n,e);var t=X(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._cancelUpload=r._cancelUpload.bind(u()(r)),r._onRetryButtonClick=r._onRetryButtonClick.bind(u()(r)),r}return a()(n,[{key:"_cancelUpload",value:function(){R.default.count("actions","uploading","cancel upload",this.props.resourceType),this.props.cancelUpload(this.props.resourceId)}},{key:"_onRetryButtonClick",value:function(){R.default.count("actions","uploading","retry upload",this.props.resourceType),this.props.retryUploadOnError(this.props.resourceId)}},{key:"_maybeRenderHoverButton",value:function(){var e=this.props,t=e.error,n=e.helpLink,r=Q().e("hover-button");return t===O.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE?v.a.createElement(E.Button,{view:"raised",size:"s",className:r,type:"link",target:"_blank",url:n},"Подробнее"):Object(O.canRetryUpload)(t)?v.a.createElement(E.Button,{view:"raised",size:"s",className:r,onClick:this._onRetryButtonClick},"Повторить"):null}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.renderKey,r=e.resourceId,i=e.error,o=e.limitUploadSize,a=e.isInsideVirtualDisk;return te[n]?v.a.createElement("div",{className:Q().e("wrapper")},te[n]({resourceId:r,error:i,limitUploadSize:o,isInsideVirtualDisk:a}),n!==O.UPLOAD_STATUSES.ERROR?null:this._maybeRenderHoverButton(),v.a.createElement(E.Button,{view:"clear",className:Q().e("cancel-upload-button").m({hidden:!Object(O.canCancelUpload)(t)}),"aria-label":"Закрыть",onClick:this._cancelUpload,icon:function(e){return v.a.createElement(K.default,{iconSize:"m",cls:e})}})):null}}]),n})(m.PureComponent),re=n(557),ie=n(111),oe=n.n(ie),ae=n(197),se=n(15),ue=n(39),ce=n(57),le=n(30),de=n(24),fe=n(34);function pe(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var he=function(){return L()()("upload-listing-item")},me=(function(e){l()(n,e);var t=pe(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onOpen=r._onOpen.bind(u()(r)),r._onContextMenu=r._onContextMenu.bind(u()(r)),r._onPublish=r._onPublish.bind(u()(r)),r._setTitleNodeRef=r._setTitleNodeRef.bind(u()(r)),r.state={titleWidth:r.props.titleWidth},r}return a()(n,[{key:"_setTitleNodeRef",value:function(e){this._titleNode=e,this.props.titleNodeRef&&this.props.titleNodeRef(e)}},{key:"componentDidUpdate",value:function(e){this.props.status===e.status&&this.props.titleWidth===e.titleWidth||this._updateTitleWidth()}},{key:"_updateTitleWidth",value:function(){if(this._titleNode){var e=this._titleNode.getBoundingClientRect().width;e!==this.state.titleWidth&&this.setState({titleWidth:e})}}},{key:"_onPublish",value:function(){R.default.count("actions","with resources","public links","publish","upload dialog",this.props.type)}},{key:"_getSizeText",value:function(){var e=this.props,t=e.resourceSize,n=e.type,r=e.files,i=e.total,o=e.status;return"dir"===n?[O.UPLOAD_STATUSES.ENQUEUED,O.UPLOAD_STATUSES.CREATING_FOLDER].includes(o)?"Размер считается":__i18n__.i18n.convert(["1 файл",yr.externals.entityify(r)+" файл",yr.externals.entityify(r)+" файла",yr.externals.entityify(r)+" файлов"],yr.externals.entityify(r))+" • "+oe.a.formatSpace(i):oe.a.formatSpace(t)}},{key:"_getUploadingItemState",value:function(){var e=this.props,t=e.id,n=e.status,r=e.error,i=e.limitUploadSize,o=e.type,a=e.helpLink,s=e.cancelUpload,u=e.retryUploadOnError,c=e.isInsideVirtualDisk,l=Object(O.isUploadInProgress)(n)?O.UPLOAD_STATUSES.UPLOADING:n;return v.a.createElement(ne,{renderKey:l,resourceId:t,status:n,error:r,limitUploadSize:oe.a.formatSpace(i),helpLink:a,cancelUpload:s,retryUploadOnError:u,resourceType:o,isInsideVirtualDisk:c})}},{key:"_getPublishDropdown",value:function(){var e=this.props.id;return v.a.createElement(re.a,{buttonProps:{className:he().e("publish-button-with-text"),view:"raised",size:"s"},onlyIconButtonProps:{className:"hidden",view:"raised",size:"s"},metrikaContext:["uploading"],onPublish:this._onPublish,noIcon:!0,objectIds:[e],checkButton:!1})}},{key:"_getAdditionalFields",value:function(){var e=this.props,t=e.status,n=e.canPublish,r=Object(O.isUploadInProgress)(t)?O.UPLOAD_STATUSES.UPLOADING:t,i=[],o=t===O.UPLOAD_STATUSES.DONE&&n;return i.push({type:"size",content:this._getSizeText()}),o?i.push({type:"publish-button",position:G.POSITIONS.ALWAYS_RIGHT,content:this._getPublishDropdown()}):te[r]&&i.push({type:"state",position:G.POSITIONS.ALWAYS_RIGHT,content:this._getUploadingItemState()}),i}},{key:"_onOpen",value:function(){var e=this.props,t=e.status,n=e.disabled,r=e.part,i=e.highlightedIds,o=e.type,a=e.isDocsPage;t!==O.UPLOAD_STATUSES.DONE||i.length||r||n||(R.default.count("actions","uploading","go to",o),a&&R.default.countDocs("open doc","from uploader"),this.props.closeUploader(),this.props.isDocsPage?this.props.openOrEditResource(this.props.id):this.props.goToResource(this.props.id))}},{key:"_onContextMenu",value:function(e,t){if(t.target.closest(".".concat(fe.PREVENT_CUSTOM_CONTEXT_MENU_CLASS,", .Popup2, .Modal")))return{noPreventDefault:!0};this.props.status===O.UPLOAD_STATUSES.DONE&&this.props.onContextMenu(e,t)}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.error,r={cls:he().m({uploaded:t===O.UPLOAD_STATUSES.DONE,uploading:Object(O.isUploadInProgress)(t),error:t===O.UPLOAD_STATUSES.ERROR,"has-hover-button":(function(e){var t=e.error;return e.status===O.UPLOAD_STATUSES.ERROR&&(Object(O.canRetryUpload)(t)||t===O.UPLOAD_ERRORS.FOLDER_UPLOAD_INCOMPLETE)})({status:t,error:n})}),onOpen:this._onOpen,additionalFields:this._getAdditionalFields(),titleNodeRef:this._setTitleNodeRef,titleWidth:this.state.titleWidth};return r.onContextMenu=this._onContextMenu,v.a.createElement(G.default,_()({},this.props,r))}}]),n})(m.Component),ve={cancelUpload:k.b,retryUploadOnError:ae.j,closeUploader:k.c,goToResource:se.goToResource,openOrEditResource:se.openOrEditResource},ge=Object(g.connect)((function(e,t){var n=t.id,r=e.resources,i=e.uploader,o=i.highlighted,a=i.uploadingStatesByIds,s=e.config.links.help.uploader,u=r[n],c=u.name,l=u.type,d=u.meta,f=u.defaultPreview,p=u.iconType,h=u.canPlayVideo,m=u.state,v=(m=void 0===m?{}:m).part,g=m.disabled,y=a[n],b=y.status,_=y.files,E=y.total,w=y.error;return{name:c,meta:d,defaultPreview:b===O.UPLOAD_STATUSES.DONE?f:void 0,iconType:p,canPlayVideo:h,state:u.state,type:l,resourceSize:d&&d.size,limitUploadSize:Object(ce.getLimitUploadSize)(e),status:b,files:_,total:E,error:w,part:v,disabled:g,highlightedIds:o,helpLink:s,isDocsPage:Object(ue.isDocsPage)(e),canPublish:Object(le.can)(le.PUBLISH,u,e),isInsideVirtualDisk:Object(de.isPathInsideVirtualDiskFiles)(n)}}),ve)(me);n(2052);function ye(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var be,_e=function(){return L()()("upload-listing")},Oe=(function(e){l()(n,e);var t=ye(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onResourceContextMenu=r._onResourceContextMenu.bind(u()(r)),r}return a()(n,[{key:"componentDidUpdate",value:function(e){e.resources&&this.props.resources&&e.resources.length!==this.props.resources.length&&(this.props.onCountUpdate&&this.props.onCountUpdate(),e.resources.length&&!this.props.resources.length&&this.props.hideUploader())}},{key:"_onResourceContextMenu",value:function(e,t){this.props.onContextMenu([e],t,[e])}},{key:"_renderItem",value:function(e){return v.a.createElement(ge,_()({key:e.id},e))}},{key:"render",value:function(){var e=this.props,t=e.OSFamily,n=e.resources,r=e.highlighted,i=e.onContextMenu;return v.a.createElement($.Listing,{cls:_e().mix(y.LISTING_PREVENT_DOUBLE_CLICK),isTouch:!1,OSFamily:t,titleOverflow:"clamp",isSelectable:!1,isMultiSelectable:!1,useRealDevicePixelRatio:!0,resources:n,onContextMenu:i,onResourceContextMenu:this._onResourceContextMenu,highlightedResources:r,openOnSingleClick:!0,ignoreClicksSelector:".Button2, .Popup2, .Modal, .Drawer",supportDoubleClick:!1,renderItem:this._renderItem})}}]),n})(m.Component);be=(0,n(943).default)(Oe,{closeOnScrollElementSelector:".".concat(_e().toString()),closeOnWindowResize:!0,closeOnWindowScroll:!0,direction:["top-start","top-end"]});var Ee=[],we=function(){},Se={setHighlighted:k.k,hideUploader:k.h},Ce=Object(g.connect)((function(e){var t=e.uploader.highlighted;return{OSFamily:e.environment.agent.OSFamily,highlighted:t,resources:Object(j.b)(e),selected:Ee,setSelection:we,metrikaTail:["uploader"]}}),Se)(be),xe=n(350);n(2054);function Te(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Pe=function(){return L()()("upload-confirmation")},ke=(function(e){l()(n,e);var t=Te(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getContent",value:function(){return v.a.createElement("div",{className:Pe()},v.a.createElement("span",{className:Pe().e("title")},"Отменить все текущие загрузки?"),v.a.createElement("span",{className:Pe().e("text")},"Уже загруженные файлы останутся на Диске."),v.a.createElement("div",{className:Pe().e("button-group")},v.a.createElement(E.Button,{view:"raised",size:"m",onClick:this.props.onConfirm},"Отменить"),v.a.createElement(E.Button,{view:"raised",size:"m",onClick:this.props.onCancel},"Не отменять")))}},{key:"render",value:function(){return this.props.isVisible?this._getContent():null}}]),n})(m.Component),je=function(e){var t=v.a.useRef(null);return Object(xe.useFocusTrap)({enabled:e.isVisible,scopeRef:t,autoFocus:!0,restoreFocus:!0}),v.a.createElement("div",{ref:t},v.a.createElement(ke,e))},Re=n(285);n(2055);function Ie(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Ae=n(79).I18N,De=function(){return L()()("upload-notification")},Me=(function(e){l()(n,e);var t=Ie(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getButtons",value:function(){return this.props.actions.map((function(e){var t=e.title,n=e.action,r=e.link,i=e.onAction,o={className:De().e("button").m({action:n}),onClick:i};return r&&Object.assign(o,{url:r,type:"link",target:"blank"}),v.a.createElement(E.Button,_()({key:n,view:"raised",size:"s"},o),t)}))}},{key:"_getText",value:function(){var e;switch(this.props.reason){case O.UPLOAD_ERRORS.CONFLICT:e=yr.externals.entityify(Ae.$1)+" уже есть в этой папке. Заменить его загружаемым файлом?";break;case O.UPLOAD_ERRORS.INSUFFICIENT_STORAGE:e="Недостаточно места на Яндекс.Диске для загрузки "+yr.externals.entityify(Ae.$1);break;default:return null}return v.a.createElement(Ae,{loc:e},v.a.createElement(Re.default,{text:this.props.resourceName,font:'bold 13px "YS Text"',width:this.props.containerWidth-100}))}},{key:"render",value:function(){var e=this.props,t=e.renderContent,n=e.icon,r=e.closeAction;return t?t():v.a.createElement("div",{className:De().m({closable:!!r})},r?v.a.createElement(E.Button,{className:De().e("close-button"),view:"clear","aria-label":"Закрыть",onClick:r,icon:w.close3IconProvider}):null,v.a.createElement("div",{className:De().e("left-column")},n),v.a.createElement("div",{className:De().e("right-column")},v.a.createElement("div",{className:De().e("text")},this._getText()),v.a.createElement("div",{className:De().e("button-group")},this._getButtons())))}}]),n})(m.Component),Ne=n(414),Le=n(63),Fe=n.n(Le),Be=n(44);function Ue(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var ze=(function(e){l()(n,e);var t=Ue(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onBuy=r._onBuy.bind(u()(r)),r._setContainerRef=r._setContainerRef.bind(u()(r)),r._updateContainerWidth=r._updateContainerWidth.bind(u()(r)),r._onCancelUpload=r._onCancelUpload.bind(u()(r)),r._onForceUpload=r._onForceUpload.bind(u()(r)),r._onCloseInsufficientStorageNotification=r._onCloseInsufficientStorageNotification.bind(u()(r)),r.state={containerWidth:0},r}return a()(n,[{key:"componentDidMount",value:function(){this._updateContainerWidth(),window.addEventListener("resize",this._updateContainerWidth),this.props.onMount()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateContainerWidth)}},{key:"_updateContainerWidth",value:function(){this._containerRef&&this.setState({containerWidth:this._containerRef.getBoundingClientRect().width})}},{key:"_getNotification",value:function(){var e=this.props.notifications;return e.length&&e[e.length-1]}},{key:"_renderNotification",value:function(){var e=this._getNotification();if(!e)return null;var t=e.id,n=e.type,r=e.data,i=(r=void 0===r?{}:r).resourceId,o=r.reason;switch(n){case O.UPLOAD_NOTIFICATION_TYPES.SERVICE:var a=this.props.resourcesByIds[i];return a?v.a.createElement(Me,{key:t,actions:this._getServiceNotificationActions(t,o),resourceName:a.name,reason:o,icon:v.a.createElement(Ne.a,{resource:a,size:"m"}),containerWidth:this.state.containerWidth,closeAction:this._getServiceNotificationCloseAction(o)}):null;default:return null}}},{key:"_getServiceNotificationActions",value:function(e,t){switch(t){case O.UPLOAD_ERRORS.CONFLICT:return[{action:"replace",onAction:this._onForceUpload,title:"Заменить"},{action:"do-not-upload",onAction:this._onCancelUpload,title:"Не загружать"}];case O.UPLOAD_ERRORS.INSUFFICIENT_STORAGE:return this.props.shouldShowBuyButton?[{action:"buy",link:this.props.buyButtonUrl,onAction:this._onBuy,title:"Купить место"}]:[];default:return[]}}},{key:"_getServiceNotificationCloseAction",value:function(e){if(e===O.UPLOAD_ERRORS.INSUFFICIENT_STORAGE)return this._onCloseInsufficientStorageNotification}},{key:"_onCancelUpload",value:function(){var e=this._getNotification();if(e){var t=this.props.resourcesByIds[e.id].type;R.default.count("actions","uploading","cancel upload",t),this.props.cancelUpload(e.id)}}},{key:"_onCloseInsufficientStorageNotification",value:function(){this.props.hideUploadNotificationByReason(O.UPLOAD_ERRORS.INSUFFICIENT_STORAGE)}},{key:"_onForceUpload",value:function(){R.default.count("actions","uploading","change file");var e=this._getNotification();e&&this.props.forceUpload(e.id)}},{key:"_setContainerRef",value:function(e){this._containerRef=e}},{key:"_onBuy",value:function(){R.default.count("interface elements","upload dialog","buy space")}},{key:"render",value:function(){return v.a.createElement("div",{className:L()()("uploader-notifications"),ref:this._setContainerRef},this._renderNotification())}}]),n})(m.Component),Ve={cancelUpload:k.b,hideUploadNotificationByReason:k.g,forceUpload:k.e},He=Object(g.connect)((function(e){return{notifications:e.uploader.notifications,resourcesByIds:e.resources,buyButtonUrl:Fe.a.addParams(Object(Be.getBuyButtonUrl)(e),{from:"disk_loader"}),shouldShowBuyButton:Object(Be.shouldShowBuyButton)(e)}}),Ve)(ze);n(2056);function We(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}n.d(t,"a",(function(){return $e}));var $e="uploader",Ge=(function(e){l()(n,e);var t=We(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={dialogVisible:!1},r._onCancelAllUploads=r._onCancelAllUploads.bind(u()(r)),r._onCancelAllUploadsCancel=r._onCancelAllUploadsCancel.bind(u()(r)),r._onCancelAllUploadsConfirm=r._onCancelAllUploadsConfirm.bind(u()(r)),r._onBeforeUnload=r._onBeforeUnload.bind(u()(r)),r._setFocused=r._setFocused.bind(u()(r)),r._containerRef=v.a.createRef(),r._asideFocusElementRef=v.a.createRef(),r}return a()(n,[{key:"_setFocused",value:function(){this._asideFocusElementRef.current&&this._asideFocusElementRef.current.focus()}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this._onBeforeUnload),this._setFocused()}},{key:"componentDidUpdate",value:function(e){0}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this._onBeforeUnload)}},{key:"_onBeforeUnload",value:function(e){this.props.uploadingStatus===O.UPLOAD_STATUSES.UPLOADING&&(e.preventDefault(),e.returnValue="")}},{key:"_setDialogVisible",value:function(e){this.setState({dialogVisible:e})}},{key:"_onCancelAllUploads",value:function(){R.default.count("actions","uploading","cancel all uploads"),this._setDialogVisible(!0)}},{key:"_onCancelAllUploadsConfirm",value:function(){R.default.count("actions","uploading","cancel all uploads","confirm"),this._setDialogVisible(!1),this.props.cancelAllUploads()}},{key:"_onCancelAllUploadsCancel",value:function(){R.default.count("actions","uploading","cancel all uploads","cancel"),this._setDialogVisible(!1)}},{key:"render",value:function(){var e=this.props.opened;return v.a.createElement("div",{className:L()()($e).m({opened:e}).mix(y.LISTING_PREVENT_DESELECT_CLASS),ref:this._containerRef},v.a.createElement(W,{onCancelAllUploads:this._onCancelAllUploads,popupScope:this._containerRef,focusElementRef:this._asideFocusElementRef}),v.a.createElement(He,{key:"uploader-notifications",onMount:this._setFocused}),v.a.createElement(Ce,{key:"uploader-listing",onCountUpdate:this._setFocused}),v.a.createElement(je,{isVisible:this.state.dialogVisible,isIosSafari:this.props.isIosSafari,onConfirm:this._onCancelAllUploadsConfirm,onCancel:this._onCancelAllUploadsCancel}))}}]),n})(m.Component),qe={cancelAllUploads:k.a};t.b=Object(g.connect)((function(e){var t=e.uploader,n=t.opened,r=t.uploadingStatus,i=e.environment.agent,o=i.OSFamily,a=i.BrowserBase;return{opened:n,uploadingStatus:r,isIosSafari:"iOS"===o&&"Safari"===a}}),qe)(Ge)}),(function(e,t,n){"use strict";n.r(t);var r=n(992),i=n(31),o=n(1),a=n(0),s=n.n(a),u=n(930),c=function(){},l=n(1142),d=n(75),f=n(1360),p=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},h=n(143);var m=function(e){var t=e.dragDisabled,n=e.visible,r=e.onClose,i=void 0===r?c:r,u=e.onCloseEnd,l=void 0===u?c:u,d=e.springValue,f=e.direction,p=void 0===f?"bottom":f,m=e.maxSize,v=e.titleComponent,g=e.children,y=e.setSpringDisabled,b=e.setProgress,_=e.autoFocus,O=void 0!==_&&_,E=Object(a.useRef)(null),w=Object(o.__read)(Object(a.useState)(!1),2),S=w[0],C=w[1],x="bottom"===p?"y":"x",T="left"===p?-1:1,P=Math.max(d,0),k=(function(e){var t=e.axis,n=e.springValue,r=e.inverted;return 1===n?null:"x"===t?"translate3d("+100*(1-n)*r+"%,0,0)":"translate3d(0,"+100*(1-n)*r+"%,0)"})({axis:x,springValue:d,inverted:T}),j=Object(a.useRef)(null);Object(a.useEffect)((function(){var e;if(n&&O&&1===d){var t=(null===j||void 0===j?void 0:j.current)&&(function(e){var t,n,r,i=Array.from(e.querySelectorAll("a[href], button, input, select, textarea"));try{for(var a=Object(o.__values)(i),s=a.next();!s.done;s=a.next()){var u=s.value,c=window.getComputedStyle(u),l="true"===u.getAttribute("aria-hidden")||"none"===(null===c||void 0===c?void 0:c.display),d=null!==u.closest('[aria-hidden="true"]'),f=null!==u.closest('[style*="display: none"]'),p=d||f,h=""!==(null===(r=null===u||void 0===u?void 0:u.textContent)||void 0===r?void 0:r.trim());if(!l&&!p&&(h||"BUTTON"===(null===u||void 0===u?void 0:u.tagName)))return u}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}})(j.current);t?(t.focus(),document.body.classList.remove("utilityfocus"),document.body.classList.add("pointerfocus")):null===(e=j.current)||void 0===e||e.focus()}}),[n,d]);var R=Object(a.useMemo)((function(){var e;return Object(o.__assign)(Object(o.__assign)({},k?{transform:k}:{}),m&&((e={})["x"===x?"maxWidth":"maxHeight"]=m,e))}),[k,m,x]);Object(a.useEffect)((function(){S&&0===d&&(l(),C(!1))}),[S,d,l]);var I=Object(a.useCallback)((function(){C(!0),i()}),[i]),A=(function(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useCallback)((function(e){if(e.currentTarget.contains(e.target)){var i=r.current||c,o=n.current,a=Array.from(e.changedTouches).find((function(e){return e.identifier===t.current}));o||"touchstart"!==e.type||1!==e.changedTouches.length||(a=e.changedTouches[0],t.current=a.identifier,n.current=o={first:!0,last:!1,startTime:e.timeStamp,initialPosition:{x:a.clientX,y:a.clientY},data:{}}),o&&a&&(o.event=e,"touchmove"===e.type&&(o.first=!1,o.previousPosition=o.currentPosition),"touchstart"!==e.type&&"touchmove"!==e.type||(o.currentPosition={x:a.clientX,y:a.clientY},o.movement={x:o.currentPosition.x-o.initialPosition.x,y:o.currentPosition.y-o.initialPosition.y},o.delta={x:o.currentPosition.x-(o.previousPosition||o.initialPosition).x,y:o.currentPosition.y-(o.previousPosition||o.initialPosition).y},o.velocity={x:o.delta.x/(e.timeStamp-o.startTime-o.elapsedTime)||0,y:o.delta.y/(e.timeStamp-o.startTime-o.elapsedTime)||0},o.elapsedTime=e.timeStamp-o.startTime),"touchend"!==e.type&&"touchcancel"!==e.type||(o.first=!1,o.last=!0,n.current=void 0,t.current=void 0),i(o))}}),[]);return r.current=e,{dragProps:{onTouchStart:i,onTouchMove:i,onTouchEnd:i,onTouchCancel:i}}})((function(e){if(n&&E.current){var r=e.velocity,i=r.x,o=r.y,a=e.movement,s=a.x,u=a.y,c=e.first,l=e.last,d=e.data,f=e.event,p="x"===x?E.current.clientWidth:E.current.clientHeight,h=T*("x"===x?s:u),m=T*("x"===x?i:o);if(c?(d.isTargetUnderContent=E.current.contains(f.target),d.initialScrollPosition=E.current.scrollTop,d.isScrolled=0!==d.initialScrollPosition):d.isScrolled=d.isScrolled||d.initialScrollPosition-E.current.scrollTop<0,!(t||d.isTargetUnderContent&&d.isScrolled)){if(l)return y(!1),Math.abs(m)>=.1?m>0?I():b(1):h/p>=.3?I():b(1);if(h>0){y(!0);var v=Math.max(0,1-h/p);return 0===v?I():b(v)}}}})).dragProps;return s.a.createElement("div",Object(o.__assign)({className:h.cnDrawerDragObserver},A),s.a.createElement("div",{className:h.cnDrawerOverlay,style:{opacity:P},onClick:function(){return I()}}),s.a.createElement("div",{className:h.cnDrawerCurtain,style:R,ref:j,tabIndex:-1,role:"dialog","aria-modal":1===d},s.a.createElement("div",{className:h.cnDrawerHandle,style:{opacity:P}}),v&&s.a.createElement("div",{className:h.cnDrawerTitle},v),s.a.createElement("div",{className:h.cnDrawerContent,ref:E},g)))},v=(n(1451),{dragImmediate:!1,disabled:!1,tension:230,friction:24}),g=function(e){var t=Object(i.useComponentRegistry)(Object(h.cnDrawer)()).Popup,n=e.onOpenEnd,r=void 0===n?c:n,g=e.className,y=e.visible,b=e.nested,_=e.direction,O=void 0===_?"bottom":_,E=e.innerRef,w=e.preventScrollDisabled,S=e.preventScrollOnClose,C=e.animation,x=void 0===C?v:C,T=e.ariaHidden,P=e.initSpringDisabled,k=void 0!==P&&P,j=Object(o.__read)(Object(a.useState)(k?1:0),2),R=j[0],I=j[1],A=Object(o.__read)(Object(a.useState)(!1),2),D=A[0],M=A[1],N=x.dragImmediate&&D||x.disabled,L=(function(e,t,n,r){var i=Object(o.__read)(Object(a.useState)(null),2),s=i[0],u=i[1],c=Object(o.__read)(Object(a.useState)(e),2),d=c[0],f=c[1],p=Object(a.useMemo)((function(){return{onSpringUpdate:function(e){var t=e.getCurrentValue();f(t)}}}),[]),h=Object(a.useCallback)((function(){s&&(s.removeListener(p),u(null))}),[s,p]);return Object(a.useEffect)((function(){if(r)h();else if(!s){var i=(new l.SpringSystem).createSpring(t,n);i.setCurrentValue(e),u(i),f(e),i.addListener(p)}return h}),[t,n,r,s,p,h]),Object(a.useEffect)((function(){s&&s.setEndValue(e)}),[s,e]),r?e:d})(R,x.tension,x.friction,N),F=L>0;Object(a.useEffect)((function(){1===L&&r()}),[L]);var B=(function(){var e=Object(o.__read)(Object(a.useState)(Object(d.a)()?p():void 0),2),t=e[0],n=e[1],r=Object(a.useCallback)((function(){return n(p())}),[]);return Object(f.a)((function(){return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[r]),t})(),U=Object(a.useMemo)((function(){return{height:B&&B+"px"}}),[B]),z=s.a.useMemo((function(){return!w&&(S?F:y)}),[w,S,F,y]);return Object(u.a)({enabled:z}),Object(a.useEffect)((function(){M(!1),I(y?1:0)}),[y,x]),s.a.createElement(t,{className:Object(h.cnDrawer)({visible:F,direction:O,nested:b},[g]),visible:F,innerRef:E,style:U,keepMounted:e.keepMounted,zIndex:e.zIndex,scope:e.scope,"aria-hidden":T},s.a.createElement(m,Object(o.__assign)({},e,{springValue:L,setProgress:I,setSpringDisabled:M})))};g.displayName=Object(h.cnDrawer)();var y=n(1136),b=new i.Registry({id:Object(h.cnDrawer)()});b.set("Popup",y.a);var _=Object(i.withRegistry)(b)(g),O=n(3),E=(n(1452),Object(O.withBemMod)(Object(h.cnDrawer)(),{view:"default"}));n.d(t,"drawerRegistry",(function(){return r.DrawerRegistry})),n.d(t,"Drawer",(function(){return _})),n.d(t,"withViewDefault",(function(){return E}))}),(function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(33),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(2),y=n.n(g),b=n(0),_=n.n(b),O=n(16),E=n(585),w=n(12);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var C=(function(e){h()(n,e);var t=S(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},_.a.createElement("path",{fillRule:"evenodd",d:"M15.185 4a1 1 0 01.896.555L16.798 6H21a1 1 0 011 1v12a1 1 0 01-1 1H3a1 1 0 01-1-1V7a1 1 0 011-1h4.202l.718-1.445A1 1 0 018.815 4h6.37zM12 8a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6zm7-2a1 1 0 100 2 1 1 0 000-2z"}))}}]),n})(w.default);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var T=(function(e){h()(n,e);var t=x(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},_.a.createElement("path",{fillRule:"evenodd",d:"M21.5 5a.5.5 0 01.5.5v13a.5.5 0 01-.5.5h-19a.5.5 0 01-.5-.5v-13a.5.5 0 01.5-.5h19zM10.2 9a.2.2 0 00-.2.2v5.353a.2.2 0 00.29.179l5.352-2.677a.2.2 0 000-.357L10.29 9.02A.2.2 0 0010.2 9z"}))}}]),n})(w.default);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var k=(function(e){h()(n,e);var t=P(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},_.a.createElement("path",{fillRule:"evenodd",d:"M14.894 2.258c.98-.982 2.216-1.665 2.937-.982l-2.937 7.858 7.831-2.947c.68.723 0 1.964-.979 2.947-.489.49-7.83 3.929-7.83 3.929l-.98 2.947.998 1c.96.964 1.45 3.42-.019 4.893 0 0-2.447 2.456-4.876.018-1.976-1.982.471-4.438.471-4.438 1.122-1.204 2.448-2.456.98-3.93-1.47-1.472-2.937 0-3.916.983 0 0-2.447 2.456-4.666.23-2.186-2.193.26-4.65.26-4.65 1.47-1.473 3.916-.982 4.895 0l.98.982 2.936-.982s3.426-7.367 3.915-7.858zm-4.65 18.908c.735.737 2.005.445 2.716-.268.71-.714.71-2.187-.024-2.924-.734-.737-1.614-.344-2.424.468-.81.812-1.002 1.988-.267 2.724zM2.904 13.8c.734.737 1.905.544 2.715-.268.81-.813 1.2-1.696.466-2.433-.734-.736-2.202-.736-2.913-.023-.711.713-1.002 1.988-.268 2.724z"}))}}]),n})(w.default);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var R=(function(e){h()(n,e);var t=j(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"7 7 37 37"},_.a.createElement("defs",null,_.a.createElement("linearGradient",{id:"f",x1:"3987.841%",x2:"7346.719%",y1:"18533.556%",y2:"23630.34%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"aa",x1:"50%",x2:"50%",y1:"-14.432%",y2:"95.098%"},_.a.createElement("stop",{offset:"0%",stopColor:"#FCEE21"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFB12B"})),_.a.createElement("linearGradient",{id:"c",x1:"28.042%",x2:"108.49%",y1:"30.902%",y2:"100.819%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"d",x1:"41118.844%",x2:"44314.688%",y1:"10701.815%",y2:"13728.041%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"e",x1:"112707.119%",x2:"118377.897%",y1:"-59579.06%",y2:"-45497.442%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F15A24"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"b",x1:"66.83%",x2:"27.804%",y1:"10.462%",y2:"86.806%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F15A24"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"g",x1:"11978.923%",x2:"13803.326%",y1:"16977.028%",y2:"20041.194%"},_.a.createElement("stop",{offset:"11%",stopColor:"#FFF"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFF",stopOpacity:".5"})),_.a.createElement("linearGradient",{id:"h",x1:"49.996%",x2:"49.996%",y1:"16.231%",y2:"95.361%"},_.a.createElement("stop",{offset:"5%",stopColor:"#422214"}),_.a.createElement("stop",{offset:"100%",stopColor:"#8C1C1C"})),_.a.createElement("linearGradient",{id:"i",x1:"20.27%",x2:"79.729%",y1:"43.352%",y2:"56.646%"},_.a.createElement("stop",{offset:"0%",stopColor:"#852828"}),_.a.createElement("stop",{offset:"100%",stopColor:"#5B2F1B"})),_.a.createElement("linearGradient",{id:"j",x1:"-2.639%",x2:"102.728%",y1:"44.299%",y2:"55.416%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5B2F1B"}),_.a.createElement("stop",{offset:"100%",stopColor:"#852828"})),_.a.createElement("linearGradient",{id:"k",x1:"49.913%",x2:"50.121%",y1:"44.178%",y2:"59.17%"},_.a.createElement("stop",{offset:"0%",stopColor:"#ED1C24"}),_.a.createElement("stop",{offset:"100%",stopColor:"#F15A24"}))),_.a.createElement("g",{fill:"none",fillRule:"evenodd"},_.a.createElement("path",{fill:"url(#aa)",fillRule:"nonzero",d:"M17.904 35.808c9.888 0 17.904-8.016 17.904-17.904S27.792 0 17.904 0 0 8.016 0 17.904s8.016 17.904 17.904 17.904z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"#FFD23D",fillRule:"nonzero",d:"M28.04 41.675c-6.171.808-7.66-8.572-3.577-6.738 1.57.71 3.414.628 5.14-.81 3.322-2.764 3.933 6.829-1.562 7.548z"}),_.a.createElement("path",{fill:"url(#b)",fillRule:"nonzero",d:"M32.316 11.59a4.427 4.427 0 00-2.65-.315 4.396 4.396 0 00-2.344 1.264 4.297 4.297 0 00-.757-2.887 4.381 4.381 0 00-2.464-1.719 4.426 4.426 0 00-3.004.263 4.356 4.356 0 00-2.12 2.12c-2.231 4.818 2.322 11.647 3.65 12.249 1.33.602 9.559-.281 11.85-5.23a4.29 4.29 0 00.122-3.315 4.354 4.354 0 00-2.283-2.43z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#c)",fillRule:"nonzero",d:"M22.73 12.28c1.153-.434 1.81-1.545 1.466-2.48-.343-.936-1.556-1.342-2.71-.907-1.153.435-1.81 1.546-1.467 2.481.343.936 1.557 1.341 2.71.907z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#d)",fillRule:"nonzero",d:"M30.336 14.518c.824-.29 1.293-1.03 1.048-1.654-.245-.623-1.112-.894-1.936-.604-.823.29-1.293 1.03-1.048 1.654.245.624 1.112.894 1.936.604z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#e)",fillRule:"nonzero",d:"M10.943 11.432a3.833 3.833 0 00-1.858 1.41 3.785 3.785 0 00-.688 2.217 3.841 3.841 0 00-2.26-1.367 3.863 3.863 0 00-2.614.41 3.815 3.815 0 00-1.724 1.993 3.778 3.778 0 00-.013 2.626c1.578 4.386 8.655 5.925 9.861 5.498 1.206-.427 5.825-5.974 4.203-10.479a3.8 3.8 0 00-.768-1.276 3.835 3.835 0 00-2.656-1.25 3.864 3.864 0 00-1.483.218z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#f)",fillRule:"nonzero",d:"M5.677 17.687c.482-1.045.213-2.213-.6-2.609-.815-.396-1.865.13-2.347 1.175s-.213 2.213.601 2.61c.814.395 1.864-.13 2.346-1.176z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#g)",fillRule:"nonzero",d:"M11.908 14.444c.403-.703.277-1.535-.281-1.86-.558-.324-1.336-.018-1.739.685-.402.702-.276 1.535.281 1.859.558.324 1.337.018 1.74-.684z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#h)",fillRule:"nonzero",d:"M21.16 25.811c-1.728 1.527-3.32 1.224-4.931.53-3.924-1.687-2.624 7.767 3.783 6.558 5.717-1.077 4.472-10.028 1.147-7.088z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#i)",d:"M9.002 6.201a.816.816 0 01-.548.999c-.736.21-1.449.741-2.028 1.48-.577.737-.982 1.63-1.134 2.487a.786.786 0 01-.913.652.81.81 0 01-.63-.945c.203-1.143.729-2.285 1.46-3.217.729-.93 1.702-1.701 2.828-2.023a.782.782 0 01.965.567z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#j)",d:"M23.666 4.166a.774.774 0 01.807-.74c2.69.129 4.664 1.732 5.658 3.874a.78.78 0 01-.372 1.034.769.769 0 01-1.026-.375c-.78-1.681-2.28-2.88-4.334-2.98a.775.775 0 01-.733-.813z",transform:"translate(8.162 8.096)"}),_.a.createElement("path",{fill:"url(#k)",fillRule:"nonzero",d:"M22.725 31.018c-1.61 2.134-5.959 2.4-7.779-.19.257-1.6 3.017-2.389 3.985-.278 1.255-2.373 3.932-.851 3.794.468z",transform:"translate(8.162 8.096)"})))}}]),n})(w.default);function I(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var A=(function(e){h()(n,e);var t=I(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"32",height:"32",viewBox:"0 0 52 52"},_.a.createElement("defs",null,_.a.createElement("linearGradient",{id:"clean-copy-9_svg__j",x1:"26.616%",x2:"56.059%",y1:"20.63%",y2:"87.254%"},_.a.createElement("stop",{offset:"0%",stopColor:"#FDE323"}),_.a.createElement("stop",{offset:"99.308%",stopColor:"#FFB42B"}),_.a.createElement("stop",{offset:"100%",stopColor:"#FFB12B"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__a",x1:"44.813%",x2:"58.51%",y1:"7.83%",y2:"71.607%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F05024"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__d",x1:"31.293%",x2:"67.287%",y1:"9.867%",y2:"110.444%"},_.a.createElement("stop",{offset:"0%",stopColor:"#04D1FE"}),_.a.createElement("stop",{offset:"78.579%",stopColor:"#0176B1"}),_.a.createElement("stop",{offset:"100%",stopColor:"#0062A0"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__o",x1:"49.996%",x2:"49.996%",y1:"20.188%",y2:"95.361%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5E2E1C"}),_.a.createElement("stop",{offset:"100%",stopColor:"#832827"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__f",x1:"49.996%",x2:"49.996%",y1:"0%",y2:"100%"},_.a.createElement("stop",{offset:"0%",stopColor:"#09576A",stopOpacity:".915"}),_.a.createElement("stop",{offset:"100%",stopColor:"#022027"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__g",x1:"49.996%",x2:"49.996%",y1:"0%",y2:"100%"},_.a.createElement("stop",{offset:"0%",stopColor:"#09576A",stopOpacity:".915"}),_.a.createElement("stop",{offset:"100%",stopColor:"#022027"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__h",x1:"49.996%",x2:"49.996%",y1:"0%",y2:"100%"},_.a.createElement("stop",{offset:"0%",stopColor:"#09576A",stopOpacity:".915"}),_.a.createElement("stop",{offset:"100%",stopColor:"#022027"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__b",x1:"39.479%",x2:"29.128%",y1:"82.713%",y2:"13.327%"},_.a.createElement("stop",{offset:"0%",stopColor:"#F05024"}),_.a.createElement("stop",{offset:"100%",stopColor:"#ED1C24"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__n",x1:"49.996%",x2:"49.996%",y1:"20.188%",y2:"95.361%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5E2E1C"}),_.a.createElement("stop",{offset:"100%",stopColor:"#832827"})),_.a.createElement("linearGradient",{id:"clean-copy-9_svg__p",x1:"49.996%",x2:"49.996%",y1:"20.188%",y2:"95.361%"},_.a.createElement("stop",{offset:"0%",stopColor:"#5E2E1C"}),_.a.createElement("stop",{offset:"100%",stopColor:"#832827"})),_.a.createElement("filter",{id:"clean-copy-9_svg__k",width:"248.9%",height:"138.9%",x:"-74.4%",y:"-19.5%",filterUnits:"objectBoundingBox"},_.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1.247"})),_.a.createElement("filter",{id:"clean-copy-9_svg__m",width:"130.8%",height:"113%",x:"-15.4%",y:"-6.5%",filterUnits:"objectBoundingBox"},_.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:".558"})),_.a.createElement("path",{id:"clean-copy-9_svg__i",d:"M12.995 29.964c4.787 1.023 12.995-10.172 12.995-22.72 0-.265 0-.522-.002-.77-.076-11.462-1.991-4.214-12.993-4.214C1.756 2.26 0-5.304 0 7.244s8.284 23.134 12.995 22.72z"}),_.a.createElement("path",{id:"clean-copy-9_svg__c",d:"M32.206 41.585c4.466.182 12.25-7.912 12.25-20.421s-1.768-4.968-13.085-4.968c-11.316 0-13.084-7.54-13.084 4.968 0 12.509 10.313 21.381 13.919 20.42z"})),_.a.createElement("g",{fill:"none",fillRule:"evenodd"},_.a.createElement("g",{transform:"rotate(15 9.734 52.615)"},_.a.createElement("path",{fill:"url(#clean-copy-9_svg__a)",d:"M32.206 18.303c3.699-2.82 5.466-5.336 5.302-7.55-.345-4.654-2.146-6.342-3.702-7.76a30.332 30.332 0 013.333 2.319A10.71 10.71 0 0035.218.076c2.681 1.756 6.138 4.985 6.61 10.39.205 2.354-.602 4.967-2.422 7.837h-7.2z"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__b)",d:"M4.517 22.058c1.482 1.323 2.464 2.487 2.945 3.492.983 2.052 1.467 2.683 1.416 4.246-.143 4.386-2.995 8.39.745 12.103.472.47 1.699 1.486 3.756 2.562.81.424 2.314 1.084 4.511 1.98-1.51-.818-2.632-1.583-3.364-2.296-.733-.713-1.102-1.53-1.11-2.453 2.704.56 4.707.887 6.009.98 1.302.094 3.22.068 5.752-.077-3.805-.145-6.035-.303-6.69-.474-9.328-2.438-6.218-7.658-6.225-10.925.513-8.709-2.069-11.755-7.745-9.138z",transform:"rotate(-26 14.847 33.796)"}),_.a.createElement("mask",{id:"clean-copy-9_svg__e",fill:"#fff"},_.a.createElement("use",{xlinkHref:"#clean-copy-9_svg__c"})),_.a.createElement("use",{fill:"url(#clean-copy-9_svg__d)",xlinkHref:"#clean-copy-9_svg__c"}),_.a.createElement("g",{fillRule:"nonzero",mask:"url(#clean-copy-9_svg__e)"},_.a.createElement("path",{fill:"url(#clean-copy-9_svg__f)",d:"M15.68 4.885c2.383 0 3.312 3.45 3.312 1.299 0-2.151-2.093-4.354-4.476-4.354-2.382 0-4.47 2.209-4.152 4.354.19 1.276 1.528-1.768 5.316-1.3z",transform:"rotate(170 19.705 15.254)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__g)",d:"M5.168 8.232c2.382 0 3.945 2.358 3.954 1.53 0-2.15-2.093-4.354-4.475-4.354-2.383 0-4.756 2.23-4.153 4.354.457 1.609 1.744-2.08 4.674-1.53z",transform:"scale(1 -1) rotate(-6 -289.274 -316.378)"})),_.a.createElement("path",{fill:"#03A0D4",fillRule:"nonzero",d:"M32.125 36.323c-3.76-.14-5.565-2.018-5.62-3.703 0-.283.013-.732.657-.766.645-.034 2.404 1.113 5.336.51 2.932-.604 4.196-1.965 5.22-1.174 1.356 1.696-1.834 5.275-5.593 5.133z",mask:"url(#clean-copy-9_svg__e)",transform:"rotate(-180 32.27 33.638)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__h)",fillRule:"nonzero",d:"M32.112 35.723c-3.759-.141-5.62-2.906-5.62-3.703 0-.283.014-.733.658-.767.644-.033 2.404 1.113 5.336.51 2.932-.604 4.195-1.965 5.22-1.174.888.687-1.835 5.275-5.594 5.134z",mask:"url(#clean-copy-9_svg__e)",transform:"rotate(-180 32.183 33.037)"})),_.a.createElement("g",{transform:"rotate(-15 54.552 -18.401)"},_.a.createElement("mask",{id:"clean-copy-9_svg__l",fill:"#fff"},_.a.createElement("use",{xlinkHref:"#clean-copy-9_svg__i"})),_.a.createElement("use",{fill:"url(#clean-copy-9_svg__j)",xlinkHref:"#clean-copy-9_svg__i"}),_.a.createElement("path",{fill:"#FFF",d:"M.58 17.567c1.585 0-.602-3.671-.605-8.25-.003-4.578 1.745-10.99.16-10.99-1.584-.002-4.01 6.533-4.006 11.112.003 4.578 2.867 8.127 4.452 8.128z",filter:"url(#clean-copy-9_svg__k)",mask:"url(#clean-copy-9_svg__l)",style:{mixBlendMode:"overlay"},transform:"rotate(-3 -1.357 7.947)"}),_.a.createElement("path",{fill:"#19CFF9",d:"M27.352 35.419c2.013-.014-4.24-9.256-4.116-16.52.125-7.266 3.612-9.276 1.6-9.263-2.013.013-7.921 4.082-7.95 8.494-.03 4.412 8.453 17.302 10.466 17.289z",filter:"url(#clean-copy-9_svg__m)",mask:"url(#clean-copy-9_svg__l)",opacity:".3",style:{mixBlendMode:"overlay"},transform:"rotate(-140 22.318 22.527)"}),_.a.createElement("path",{fill:"#FFD23D",fillRule:"nonzero",d:"M13.442 25.517c-5.62-.121-7.449-5.253-7.449-6.443 0-.422.123-.175.965-.225.841-.05 3.14 1.66 6.972.76 3.832-.9 5.34-3.924 6.678-2.744 1.162 1.024-1.545 8.773-7.166 8.652z",mask:"url(#clean-copy-9_svg__l)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__n)",fillRule:"nonzero",d:"M13.303 24.529c-4.913-.21-7.345-4.335-7.345-5.525 0-.422.018-1.093.86-1.143.842-.05 3.141 1.66 6.973.76 3.831-.901 5.483-2.931 6.821-1.751 1.162 1.024-2.397 7.87-7.31 7.659z",mask:"url(#clean-copy-9_svg__l)"})),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__o)",fillRule:"nonzero",d:"M27.598 20.601c2.383 0 3.089 2.472 3.089.322 0-2.151-2.093-4.354-4.476-4.354s-4.755 2.23-4.152 4.354c.456 1.608 3.887-.322 5.54-.322z",transform:"rotate(-27 24.66 17.605)"}),_.a.createElement("path",{fill:"url(#clean-copy-9_svg__p)",fillRule:"nonzero",d:"M17.17 24.658c2.165 0 2.845 1.968 2.845.045s-1.902-3.893-4.067-3.893-4.32 1.995-3.773 3.893c.415 1.439 3.494-.045 4.995-.045z",transform:"scale(-1 1) rotate(11 4.554 -146.776)"})))}}]),n})(w.default);function D(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var M=(function(e){h()(n,e);var t=D(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_.a.createElement("mask",{id:"mask0",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"40",height:"40"},_.a.createElement("path",{fill:"white",d:"M19.994 39.281c10.649 0 19.281-8.633 19.281-19.281C39.275 9.35 30.643.718 19.994.718S.712 9.351.712 20c0 10.648 8.633 19.281 19.282 19.281z"})),_.a.createElement("g",{mask:"url(#mask0)"},_.a.createElement("path",{d:"M19.994 39.281c10.649 0 19.281-8.633 19.281-19.281C39.275 9.35 30.643.718 19.994.718S.712 9.351.712 20c0 10.648 8.633 19.281 19.282 19.281z",fill:"url(#paint1_linear)"}),_.a.createElement("path",{d:"M19.054 25.034c-1.16-1.52-1.115-2.94-4.02-5.57-1.476-1.335-2.162-1.322-5.71-.612-2.533 0-3.268.608-4.054 1.216-1.047.81-.912 1.013-1.723 2.027-.64.8-.135 1.163-1.214 2.672-.305.426-2.99 5.816 4.635 8.058 11.734 4.574 6.869 10.302 8.066 12.063 3.643 5.358 1.447.399 3.668-2.774.758-1.084.328-3.067.96-4.411.913-1.216 2.25-1.686 1.878-2.887a9.222 9.222 0 00-.53-1.37c-.19-.386.081-.81.173-1.216.167-.745 2.51-1.943 2.715-2.383.479-1.03-2.176-.663-2.76-1.638-.624-1.043-1.436-2.325-2.084-3.175z",fill:"url(#paint2_linear)"}),_.a.createElement("path",{d:"M7.272 29.85c.734.714 1.953 1.38 1.525 1.82-.428.441-2.249.04-2.983-.674-.735-.714-.858-2.147-.43-2.587.428-.441 1.153.727 1.888 1.44z",fill:"#59A4FF"}),_.a.createElement("path",{opacity:".2",fillRule:"evenodd",clipRule:"evenodd",d:"M18.393.74A27.403 27.403 0 0011 19.5c0 7.767 3.22 14.781 8.397 19.782h-.116C8.633 39.282 0 30.65 0 20.002 0 9.65 8.156 1.203 18.393.74z",fill:"#fff"}),_.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.776 18.32c.351-.22.817-.513 1.432-.786.112-.05.382 0 .701.057.535.097 1.207.219 1.508-.057.286-.262.199-.595.116-.913-.08-.305-.156-.595.107-.795.262-.198.773.223 1.162.545.205.168.375.309.46.32l.604.683.05.078c.12.182.21.319.36.386 1.029.461.66-.385.34-1.118-.069-.155-.134-.305-.184-.437l.046-.457c.396-.25 1.31.681 1.909 1.293.174.178.322.329.422.415 2.375 2.04 1.014 3.128-.1 2.722l1.52 1.839v-.203c0-.168.136-.304.303-.304.652.739 1.227 1.66 1.782 2.549 1.044 1.672 2.016 3.228 3.286 3.228 1.08-.141 5.215-2.129 2.838-3.75-.23-.344-.549-.37-.879-.398-.253-.022-.513-.044-.743-.21l-.5-1.214c-.074-.245-.143-.447-.21-.509-.202-1.824 1.92-1.665 3.195-1.028.872.436 1.663.825 2.368 1.17 1.89.928 3.154 1.549 3.683 1.964.606.476 1.022.935 1.434 1.39.616.682 1.226 1.355 2.456 2.068 1.1.637.772-.59.364-2.114-.352-1.32-.765-2.861-.364-3.613.333-.624.441-1.184.529-1.636.14-.724.228-1.174 1.092-1.174.368 0 .676.067.943.125.752.163 1.172.253 1.65-1.421.519-1.816-1.513-9.113-2.593-12.534l-10.05-6.268L24.573.266c-.065 1.344-2.251 3.114-4.754 4.705-.07.044-.213.217-.41.453-.59.709-1.655 1.99-2.616 2.082-.77.074-1.549-.07-2.24-.2-.654-.122-1.23-.23-1.65-.124-.54-.155-1.295.422-1.883.872-.235.18-.444.34-.602.425-.456.244-2.205 4.412 0 2.809 2.377-1.729 4.106-.648 3.782 0-.324.648-2.293 1.796-4.43 1.729a3.925 3.925 0 00-1.155.138c-.36.097-.452.589-.544 1.077-.075.398-.15.794-.369.971-.54.437-1.062 1.016-1.317 1.488-.273.503-.662 1.602-.507 1.857.128.255.394.088.9-.229zm16.57-2.847c-.031.268-.064.543.182.908.076.112.155.224.233.336.541.77 1.039 1.477.076 1.484-.648.004-1.623-1.854-1.753-2.319-.26-.93.43-2.227 1.115-1.215.208.307.178.553.148.806z",fill:"url(#paint3_linear)"})),_.a.createElement("defs",null,_.a.createElement("linearGradient",{id:"paint1_linear",x1:"19.994",y1:"1",x2:"19.994",y2:"39",gradientUnits:"userSpaceOnUse"},_.a.createElement("stop",{stopColor:"#7FB9FF"}),_.a.createElement("stop",{offset:"1",stopColor:"#0073FF"})),_.a.createElement("linearGradient",{id:"paint2_linear",x1:"10.759",y1:"43.265",x2:"-4.265",y2:"24.899",gradientUnits:"userSpaceOnUse"},_.a.createElement("stop",{stopColor:"#85BCFF"}),_.a.createElement("stop",{offset:"1",stopColor:"#DEEDFF"})),_.a.createElement("linearGradient",{id:"paint3_linear",x1:"36.709",y1:"21.766",x2:"21.481",y2:"-.668",gradientUnits:"userSpaceOnUse"},_.a.createElement("stop",{stopColor:"#85BCFF"}),_.a.createElement("stop",{offset:"1",stopColor:"#DEEDFF"}))))}}]),n})(w.default),N=n(596),L=n(946),F=n(562);function B(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var U=(function(e){h()(n,e);var t=B(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},_.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm-1.29-4.297c0-.746.567-1.283 1.282-1.283.731 0 1.298.537 1.298 1.283A1.27 1.27 0 0 1 7.992 13c-.715 0-1.282-.552-1.282-1.297ZM7.26 3H8.74c.329 0 .587.281.56.61l-.42 5.046a.375.375 0 0 1-.374.343h-1.01a.375.375 0 0 1-.374-.343l-.42-5.047A.563.563 0 0 1 7.26 3Z",clipRule:"evenodd"}))}}]),n})(w.default),z=n(9),V=n.n(z),H={ru:"ru-RU",en:"en-US",tr:"tr-TR",uk:"uk-UA"},W=V.a.memoize((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ru-RU";return"undefined"!=typeof Intl?new Intl.NumberFormat(H[e]).format:function(e){return String(e)}})),$=n(14),G=n(38),q=n.n(G);function Y(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var K=(function(e){h()(n,e);var t=Y(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContent",value:function(){return _.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_.a.createElement("rect",{width:"24",height:"24",rx:"12",fill:"url(#paint0_linear_1795_206725)"}),_.a.createElement("rect",{width:"24",height:"24",rx:"12",fill:"url(#paint1_radial_1795_206725)"}),_.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.25 10.125C7.42157 10.125 6.75 10.7966 6.75 11.625V16.5C6.75 17.3284 7.42157 18 8.25 18H15.75C16.5784 18 17.25 17.3284 17.25 16.5V11.625C17.25 10.7966 16.5784 10.125 15.75 10.125H15.5V8.375C15.5 6.442 13.933 4.875 12 4.875C10.067 4.875 8.5 6.442 8.5 8.375V10.125H8.25ZM10.25 8.375C10.25 7.4085 11.0335 6.625 12 6.625C12.9665 6.625 13.75 7.4085 13.75 8.375V10.1226H10.25V8.375Z",fill:"#F7F7FF",fillOpacity:"0.9"}),_.a.createElement("defs",null,_.a.createElement("linearGradient",{id:"paint0_linear_1795_206725",x1:"-1.77796e-08",y1:"12.2125",x2:"23.9675",y2:"12.2125",gradientUnits:"userSpaceOnUse"},_.a.createElement("stop",{stopColor:"#EB1C3F"}),_.a.createElement("stop",{offset:"1",stopColor:"#F4248E"})),_.a.createElement("radialGradient",{id:"paint1_radial_1795_206725",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(11.9311 21.3333) rotate(90) scale(23 24.4584)"},_.a.createElement("stop",{offset:"0.321815",stopColor:"#FF7142"}),_.a.createElement("stop",{offset:"0.824568",stopColor:"#FF5525",stopOpacity:"0"}))))}}]),n})(w.default),J=n(96),Z=n(11),X=n.n(Z);function Q(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var ee=n(79).I18N,te=function(){return X()()("albums2")},ne=(function(e){h()(n,e);var t=Q(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._onClick=r._onClick.bind(f()(r)),r._onAlbumKeyPress=r._onAlbumKeyPress.bind(f()(r)),r._formatNumber=W(r.props.locale),r}return l()(n,[{key:"_getPreviewSize",value:function(){return this.props.isMobile?{width:150,height:104}:{width:330,height:208}}},{key:"_getIcon",value:function(e){switch(e){case"beautiful":return _.a.createElement(R,null);case"unbeautiful":return _.a.createElement(A,null);case"camera":return _.a.createElement(C,null);case"videos":return _.a.createElement(T,null);case"screenshots":return _.a.createElement(k,null);case"geo":return _.a.createElement(M,null);case"favorites":return _.a.createElement(N.a,null)}}},{key:"_getActions",value:function(){return this.props.readonly||![null,"personal","faces"].includes(this.props.album.album_type)?null:_.a.createElement("div",{className:te().e("actions")},_.a.createElement(L.a,{moreButtonView:"clear-inverse",album:this.props.album,metrikaPath:["albums listing"]}))}},{key:"_onClick",value:function(e){if(!(e&&e.target&&(e.target.closest(".album-actions-dropdown__more-button")||e.target.closest(".ShareDialog")||e.target.closest(".ShareDialog2")||e.target.closest(".Popup2")||e.target.closest(".ConfirmDialog")||e.target.closest(".Dialog")))){var t=this.props,n=t.id,r=t.album;"geo"===r.album_type?$.default.count("actions","with geo meta-album","open","click on geo album"):"faces"===r.album_type?$.default.count("actions","with faces meta-album","open","click on face album"):"family"===r.album_type?$.default.count("actions","with albums","open","click on family album"):$.default.count("actions","with albums","open","click on album"),this.props.onOpen(n)}}},{key:"_onAlbumKeyPress",value:function(e){e.charCode===q.a.KEYS.ENTER&&this._onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.album,r=e.preview,o=e.modifiers,s=o||{},u=n.title||n.name,c=u;"geo"===t?(s.geo=!0,u="Места и поездки",c=_.a.createElement(ee,{loc:"Места"+yr.externals.entityify(ee.$1)+"и поездки"}," ")):"faces"===t?(s.faces=!0,u="Люди на фото",c=_.a.createElement(ee,{loc:"Люди"+yr.externals.entityify(ee.$1)+"на фото"}," ")):"favorites"===t?s.favorites=!0:[t,n.album_type].includes("family")&&(s.family=!0);var l=V.a.pick(n.cover||{},["face_bottom","face_top","face_left","face_right","width","height"]),d=Object.keys(l).length?{left:l.face_left,right:l.face_right,bottom:l.face_bottom,top:l.face_top}:null,f={width:l.width,height:l.height},p="family"===n.album_type||"family"===t,h=p&&s["warning-icon"]?_.a.createElement(U,null):this._getIcon(t),m=this.props.imagePreviewTelemetryExp?"imagePreview.show.albums":void 0;return _.a.createElement("div",{key:t,className:te().e("item").m(s),onClick:this._onClick,onKeyPress:this._onAlbumKeyPress,title:u,tabIndex:0},r&&_.a.createElement(E.a,a()({elementTiming:m,previewBaseUrl:r,previewFragment:d,previewSize:f},this._getPreviewSize(),{className:te().e("item-preview"),crop:!0,cover:!0})),_.a.createElement("span",{className:te().e("title-bar").m({family:p,iconed:Boolean(h),locked:Boolean(o.locked)})},h?_.a.createElement("span",{className:te().e("item-icon").m(i()({},p?"family":t,!0))},h):null,_.a.createElement("span",{className:te().e("item-title")},c),Number.isInteger(n.count)&&_.a.createElement("span",{className:te().e("item-count")},this._formatNumber(n.count)),o.locked&&_.a.createElement("span",{className:te().e("item-lock")},_.a.createElement(K,null))),n.is_public?_.a.createElement(F.a,null):null,this._getActions())}}]),n})(b.PureComponent);t.a=Object(O.connect)((function(e){return{imagePreviewTelemetryExp:Object(J.isImagePreviewTelemetryExp)(e)}}))(ne)}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n.n(i),a=n(28),s=n(72),u=n(109),c=n(367),l=(n(1459),function(e){var t=e.disabled,n=e.htmlFor,r=e.id,i=e.onClick,a=e.children;return o.a.createElement("label",{"aria-hidden":"true",htmlFor:t?void 0:n,id:r,onClick:i,className:m("Label")},a)}),d=(n(1460),function(e){var t=e.checked,n=e.children,r=e.innerRef,i=e.labelledBy,a=e.onBlur,s=e.onClick,u=e.onFocus,c=e.onKeyDown,l=e.tabIndex,d=e.required;return o.a.createElement("button",{"aria-required":d,"aria-labelledby":i,"aria-pressed":t,className:m("Button"),onBlur:a,onClick:s,onFocus:u,onKeyDown:c,ref:r,tabIndex:l,type:"button"},n)}),f=function(e){var t=e.id,n=e.innerRef,r=e.checked,i=e.name,a=e.onChange,s=e.required;return o.a.createElement("input",{id:t,hidden:!0,ref:n,className:m("Control"),name:i,checked:r,value:String(r),type:"checkbox",autoComplete:"off",onChange:a,required:s})},p=(n(1458),[s.a.RIGHT,s.a.UP]),h=[s.a.LEFT,s.a.DOWN],m=Object(a.cn)("Tumbler"),v=function(e){var t=e.checked,n=e.className,a=e.controlRef,v=e.disabled,g=e.id,y=void 0===g?Object(c.a)():g,b=e.innerRef,_=e.labelAfter,O=e.labelBefore,E=e.name,w=e.onBlur,S=e.onChange,C=e.onClick,x=e.onFocus,T=e.onKeyDown,P=e.onKeyUp,k=e.tabIndex,j=e.title,R=e.autoFocus,I=e.required,A=Object(i.useRef)(null),D=Object(i.useRef)(null),M="control-"+y,N="before-label-"+y,L="after-label-"+y;Object(i.useEffect)((function(){R&&null!==A.current&&A.current.focus()}),[]);var F=Object(i.useMemo)((function(){return O&&_?t?N:L:O?N:_?L:void 0}),[t,O,_,N,L]),B=Object(i.useCallback)((function(e){null!==D.current&&D.current.click(),null!==A.current&&A.current.focus(),void 0!==C&&C(e)}),[C]),U=Object(i.useCallback)((function(){null!==A.current&&A.current.focus()}),[]),z=Object(i.useCallback)((function(e){Object(s.b)(e.keyCode,Object(r.__spread)([s.a.ENTER],h,p))&&e.preventDefault(),(t&&Object(s.b)(e.keyCode,h)||!t&&Object(s.b)(e.keyCode,p))&&null!==D.current&&D.current.click(),void 0!==T&&T(e)}),[t,T]);return o.a.createElement("span",{ref:b,className:m(null,[n]),id:y,title:j,"aria-disabled":v},O&&o.a.createElement(l,{disabled:Boolean(!t&&O&&_),htmlFor:M,id:N,onClick:U},O),o.a.createElement(d,{tabIndex:v?-1:k,innerRef:A,checked:t,onKeyDown:z,onKeyUp:P,onBlur:w,onFocus:x,onClick:B,labelledBy:F,required:I}),o.a.createElement(f,{id:M,name:E,checked:t,innerRef:Object(u.b)(D,a),onChange:S,required:I}),_&&o.a.createElement(l,{disabled:Boolean(t&&O&&_),htmlFor:M,id:L,onClick:U},_))};v.displayName="Tumbler";var g=n(3),y=(n(1461),Object(g.withBemMod)(m(),{size:"l"})),b=(n(1462),Object(g.withBemMod)(m(),{size:"m"})),_=(n(1463),Object(g.withBemMod)(m(),{size:"s"})),O=(n(1464),Object(g.withBemMod)(m(),{view:"default"}));n.d(t,"CHECKED_KEYS",(function(){return p})),n.d(t,"UNCHECKED_KEYS",(function(){return h})),n.d(t,"cnTumbler",(function(){return m})),n.d(t,"Tumbler",(function(){return v})),n.d(t,"withSizeL",(function(){return y})),n.d(t,"withSizeM",(function(){return b})),n.d(t,"withSizeS",(function(){return _})),n.d(t,"withViewDefault",(function(){return O}))}),(function(e,t,n){"use strict";n.r(t);var r=n(31),i=n(3),o=n(249),a=n(160),s=n(161),u=n(124),c=Object(i.compose)(a.a,s.a)(o.a),l=new r.Registry({id:Object(u.b)()});l.set("Popup",c);var d=n(1),f=n(0),p=n.n(f),h=n(109),m=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];void 0!==e&&e.apply(void 0,Object(d.__spread)(n)),t.apply(void 0,Object(d.__spread)(n))}},v=n(367);var g=Object(r.withRegistry)(l)(u.a),y=Object(r.withRegistry)(l)((function(e){var t,n=e.children,r=e.content,i=e.defaultVisible,o=void 0!==i&&i,a=e.id,s=e.trigger,c=void 0===s?"hover":s,l=e.openDelay,g=e.closeDelay,y=Object(d.__rest)(e,["children","content","defaultVisible","id","trigger","openDelay","closeDelay"]),b=Object(v.a)("tooltip"),_=a||b,O=(function(e){var t=e.defaultVisible,n=void 0!==t&&t,r=e.openDelay,i=void 0===r?0:r,o=e.closeDelay,a=void 0===o?0:o,s=Object(d.__read)(Object(f.useState)(n),2),u=s[0],c=s[1],l=Object(f.useRef)(),p=Object(f.useRef)(),h=Object(f.useCallback)((function(e){var t=e?p:l,n=e?l:p,r=e?i:a;t.current&&(clearTimeout(t.current),t.current=void 0),r>0?n.current||(n.current=window.setTimeout((function(){n.current=void 0,c(e)}),r)):c(e)}),[i,a]),m=Object(f.useCallback)((function(){return h(!0)}),[h]),v=Object(f.useCallback)((function(){return h(!1)}),[h]),g=Object(f.useCallback)((function(){return h(!u)}),[u,h]);return Object(f.useEffect)((function(){return function(){clearTimeout(l.current),clearTimeout(p.current)}}),[]),{visible:u,open:m,close:v,toggle:g}})({openDelay:l,closeDelay:g,defaultVisible:o}),E=O.visible,w=O.open,S=O.close,C=O.toggle,x=Object(f.useRef)(null),T=f.Children.only(n),P=(Array.isArray(c)?c:[c]).reduce((function(e,t){switch(t){case"click":e.onClick=m(T.props.onClick,(function(){return C()}));break;case"focus":e.onFocus=m(T.props.onFocus,(function(){return w()})),e.onBlur=m(T.props.onBlur,(function(){return S()}));break;case"hover":e.onMouseEnter=m(T.props.onMouseEnter,(function(){return w()})),e.onMouseLeave=m(T.props.onMouseLeave,(function(){return S()}))}return e}),{}),k="string"==typeof T.type?"ref":"innerRef",j=void 0===T.props[k]?x:Object(h.b)(T.props[k],x);return p.a.createElement(p.a.Fragment,null,Object(f.cloneElement)(T,Object(d.__assign)(Object(d.__assign)({},P),((t={})[k]=j,t["aria-describedby"]=_,t))),p.a.createElement(u.a,Object(d.__assign)({},y,{id:_,visible:E,anchor:x,onClose:S}),r))})),b=n(551),_=n(552),O=n(553),E=n(554),w=n(1074);n.d(t,"Tooltip",(function(){return g})),n.d(t,"TooltipStateful",(function(){return y})),n.d(t,"withSizeL",(function(){return b.a})),n.d(t,"withSizeM",(function(){return _.a})),n.d(t,"withSizeS",(function(){return O.a})),n.d(t,"withViewDefault",(function(){return E.a})),n.d(t,"cnTooltip",(function(){return u.b})),n.d(t,"tooltipRegistry",(function(){return w.registry}))}),(function(e,t,n){"use strict";n.r(t);n(991);var r=n(394),i=n(537);n(1449);n.d(t,"cnModal",(function(){return r.b})),n.d(t,"Modal",(function(){return r.a})),n.d(t,"withThemeNormal",(function(){return i.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(28),a=(n(1970),Object(o.cn)("ListTile")),s=a("Leading"),u=a("Trailing"),c=function(e){var t=e.children,n=e.leading,r=e.trailing,o=e.className,c=e.inline,l=e.alignItems,d=e.leftSpace,f=e.rightSpace,p=e.onClick;return i.a.createElement("div",{onClick:p,className:a({inline:c,alignItems:l},[o])},n&&i.a.createElement("div",{className:s},n),i.a.createElement("div",{className:a("Wrapper",{leftSpace:d,rightSpace:f})},t),r&&i.a.createElement("div",{className:u},r))};c.displayName=a(),n.d(t,"cnListTile",(function(){return a})),n.d(t,"ListTile",(function(){return c}))}),(function(e,t,n){"use strict";n.r(t);var r=n(400),i=n.n(r),o=n(18),a=n(13),s=n(1056).prepare,u=n(9),c=n(69).modelDefaults;i.a.define("config",{methods:{getData:function(){return Object(o.default)().getState().config},setData:function(e){Object(o.default)().dispatch(function(e){return s(e),{type:a.UPDATE_CONFIG,payload:e}}(e))},get:function(e){return e.startsWith(".")&&(e=e.substring(1)),u.get(Object(o.default)().getState().config,e)},set:function(){}},defaults:c})}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(0),y=n.n(g),b=n(51),_=n(288);var O=n(11),E=n.n(O);n(2077);function w(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var S=function(){return E()()("crumbs2")},C=(function(e){f()(n,e);var t=w(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={isShrunk:!1,isHoverDropdownVisible:!1},r._shrinkIfNeeded=(function(e,t){var n;return function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}})(r._shrinkIfNeeded,100).bind(l()(r)),r._onHoverDropdownOpen=r._onHoverDropdownOpen.bind(l()(r)),r._onHoverDropdownClose=r._onHoverDropdownClose.bind(l()(r)),r._defaultTooltipBoundary="undefined"!=typeof document?{current:document.documentElement}:void 0,r}return u()(n,[{key:"componentDidMount",value:function(){this.props.full&&(window.addEventListener("resize",this._shrinkIfNeeded),this._shrinkIfNeeded())}},{key:"componentDidUpdate",value:function(){this.props.full&&this._shrinkIfNeeded()}},{key:"componentWillUnmount",value:function(){this.props.full&&window.removeEventListener("resize",this._shrinkIfNeeded)}},{key:"_getItems",value:function(){var e=this.props,t=e.root,n=e.items;return t?[Object.assign({},n[0],t)].concat(n.slice(1)):n}},{key:"_shrinkIfNeeded",value:function(){if(this._tail&&this._wrapper){var e=this._tail.getBoundingClientRect().width>this._wrapper.getBoundingClientRect().width;this.state.isShrunk!==e&&this.setState({isShrunk:e})}}},{key:"_getHeadCrumb",value:function(){var e=this._getItems();return this._getCrumb(e[0],0,e)}},{key:"_getTailCrumbs",value:function(){var e=this;return this.props.items.slice(1).map((function(t,n,r){return e._getCrumb(t,n,r)}),this)}},{key:"_getAllCrumbs",value:function(){return this._getItems().map(this._getCrumb,this)}},{key:"_onCrumbClick",value:function(e){this._onHoverDropdownClose(),this.props.onItemClick(e)}},{key:"_getCrumb",value:function(e,t,n){var r,o,a=t===n.length-1;if("string"==typeof e)o=e,r=y.a.createElement("span",{className:S().e("item-inner")},e);else{o=e.id;var s={theme:"normal",className:S().e("item-inner"),onClick:this._onCrumbClick.bind(this,e.id),children:e.name};r=this.props.getCrumbsItem?this.props.getCrumbsItem(e,s):y.a.createElement(b.Link,i()({},s,{theme:"normal"}))}return y.a.createElement("div",{key:o,className:S().e("item").m({last:a})},r)}},{key:"_onHoverDropdownOpen",value:function(){!this.state.isShrunk&&this.props.full||this.setState({isHoverDropdownVisible:!0})}},{key:"_onHoverDropdownClose",value:function(){this.setState({isHoverDropdownVisible:!1})}},{key:"_getHoverDropdown",value:function(e){return y.a.createElement(_.a,{className:S().e("hover-dropdown"),showDelay:500,onOpen:this._onHoverDropdownOpen,onClose:this._onHoverDropdownClose,visible:this.state.isHoverDropdownVisible},y.a.createElement(_.a.Anchor,null,e),y.a.createElement(_.a.Tooltip,{view:"default",className:S().e("tooltip"),direction:this.props.tooltipDirections,boundary:this.props.tooltipBoundary||this._defaultTooltipBoundary,hasTail:!0},y.a.createElement("div",{className:S().e("tooltip-crumbs")},this._getAllCrumbs())))}},{key:"render",value:function(){var e,t=this;if(this.props.full)e=[y.a.createElement("div",{key:"head",className:S().e("head")},this._getHeadCrumb()),y.a.createElement("div",{key:"crumbs",className:S().e("crumbs-wrapper"),ref:function(e){t._wrapper=e}},this._getHoverDropdown(y.a.createElement("div",{className:S().e("fade")})),y.a.createElement("div",{className:S().e("crumbs-tail"),ref:function(e){t._tail=e}},this._getTailCrumbs()))];else{var n=this._getItems();n.length>2&&(n=[n[0],"...",n[n.length-1]]),e=this._getHoverDropdown(y.a.createElement("div",{className:S().e("short-wrapper")},n.map(this._getCrumb,this)))}return y.a.createElement("div",{className:S().m({shrunk:this.state.isShrunk,full:this.props.full}).mix(this.props.cls)},e)}}]),n})(g.Component);C.defaultProps={tooltipDirections:["bottom-start"]};t.default=C}),(function(e,t,n){"use strict";var r=n(3),i=n(61);n(1603);n.d(t,"a",(function(){return o}));const o=Object(r.withBemMod)(Object(i.b)(),{view:"filled"})}),(function(e,t,n){"use strict";var r=n(31),i=n(49),o=n(358),a=new r.Registry({id:Object(i.b)()});a.set("Tail",o.a),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i.b}));var s=Object(r.withRegistry)(a)(i.a)}),(function(e,t,n){"use strict";n.r(t);n(991);var r=n(394),i=n(537);n.d(t,"cnModal",(function(){return r.b})),n.d(t,"Modal",(function(){return r.a})),n.d(t,"withThemeNormal",(function(){return i.a}))}),(function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2014 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/master/LICENSE
 */!(function(e,t){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){var e,t=Array.prototype,n=Object.prototype,r=Function.prototype,i=String.prototype,o=Number.prototype,a=t.slice,s=t.splice,u=t.push,c=t.unshift,l=r.call,d=n.toString,f=function(e){return"[object Function]"===d.call(e)},p=function(e){return"[object Array]"===d.call(e)},h=function(e){return"[object String]"===d.call(e)},m=function(e){var t=d.call(e),n="[object Arguments]"===t;return n||(n=!p(e)&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&f(e.callee)),n};e=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}})()?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)};var v=function(t,r,i){for(var o in r)n.hasOwnProperty.call(r,o)&&e(t,o,r[o],i)};function g(e){var t=+e;return t!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function y(e){var t=typeof e;return null===e||"undefined"===t||"boolean"===t||"number"===t||"string"===t}var b={ToObject:function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)},ToUint32:function(e){return e>>>0}},_=function(){};v(r,{bind:function(e){var t=this;if(!f(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,r=a.call(arguments,1),i=Math.max(0,t.length-r.length),o=[],s=0;s<i;s++)o.push("$"+s);return n=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")((function(){if(this instanceof n){var i=t.apply(this,r.concat(a.call(arguments)));return Object(i)===i?i:this}return t.apply(e,r.concat(a.call(arguments)))})),t.prototype&&(_.prototype=t.prototype,n.prototype=new _,_.prototype=null),n}});var O=l.bind(n.hasOwnProperty),E=(function(){var e=[1,2],t=e.splice();return 2===e.length&&p(t)&&0===t.length})();v(t,{splice:function(e,t){return 0===arguments.length?[]:s.apply(this,arguments)}},E);var w=(function(){var e={};return t.splice.call(e,0,0,1),1===e.length})();v(t,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=Math.max(g(this.length),0),arguments.length>0&&"number"!=typeof t&&((n=a.call(arguments)).length<2?n.push(this.length-e):n[1]=g(t)),s.apply(this,n)}},!w);var S=1!==[].unshift(0);v(t,{unshift:function(){return c.apply(this,arguments),this.length}},S),v(Array,{isArray:p});var C=Object("a"),x="a"!==C[0]||!(0 in C),T=function(e){var t=!0,n=!0;return e&&(e.call("foo",(function(e,n,r){"object"!=typeof r&&(t=!1)})),e.call([1],(function(){n="string"==typeof this}),"x")),!!e&&t&&n};v(t,{forEach:function(e){var t=b.ToObject(this),n=x&&h(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if(!f(e))throw new TypeError;for(;++i<o;)i in n&&e.call(r,n[i],i,t)}},!T(t.forEach)),v(t,{map:function(e){var t=b.ToObject(this),n=x&&h(this)?this.split(""):t,r=n.length>>>0,i=Array(r),o=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in n&&(i[a]=e.call(o,n[a],a,t));return i}},!T(t.map)),v(t,{filter:function(e){var t,n=b.ToObject(this),r=x&&h(this)?this.split(""):n,i=r.length>>>0,o=[],a=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var s=0;s<i;s++)s in r&&(t=r[s],e.call(a,t,s,n)&&o.push(t));return o}},!T(t.filter)),v(t,{every:function(e){var t=b.ToObject(this),n=x&&h(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&!e.call(i,n[o],o,t))return!1;return!0}},!T(t.every)),v(t,{some:function(e){var t=b.ToObject(this),n=x&&h(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&e.call(i,n[o],o,t))return!0;return!1}},!T(t.some));var P=!1;t.reduce&&(P="object"==typeof t.reduce.call("es5",(function(e,t,n,r){return r})));v(t,{reduce:function(e){var t=b.ToObject(this),n=x&&h(this)?this.split(""):t,r=n.length>>>0;if(!f(e))throw new TypeError(e+" is not a function");if(!r&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}for(;o<r;o++)o in n&&(i=e.call(void 0,i,n[o],o,t));return i}},!P);var k=!1;t.reduceRight&&(k="object"==typeof t.reduceRight.call("es5",(function(e,t,n,r){return r})));v(t,{reduceRight:function(e){var t=b.ToObject(this),n=x&&h(this)?this.split(""):t,r=n.length>>>0;if(!f(e))throw new TypeError(e+" is not a function");if(!r&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}if(o<0)return i;do{o in n&&(i=e.call(void 0,i,n[o],o,t))}while(o--);return i}},!k);var j=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);v(t,{indexOf:function(e){var t=x&&h(this)?this.split(""):b.ToObject(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=g(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}},j);var R=Array.prototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);v(t,{lastIndexOf:function(e){var t=x&&h(this)?this.split(""):b.ToObject(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,g(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}},R);var I=!{toString:null}.propertyIsEnumerable("toString"),A=function(){}.propertyIsEnumerable("prototype"),D=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],M=D.length;v(Object,{keys:function(e){var t=f(e),n=m(e),r=null!==e&&"object"==typeof e,i=r&&h(e);if(!r&&!t&&!n)throw new TypeError("Object.keys called on a non-object");var o=[],a=A&&t;if(i||n)for(var s=0;s<e.length;++s)o.push(String(s));else for(var u in e)a&&"prototype"===u||!O(e,u)||o.push(String(u));if(I)for(var c=e.constructor,l=c&&c.prototype===e,d=0;d<M;d++){var p=D[d];l&&"constructor"===p||!O(e,p)||o.push(p)}return o}});var N=Object.keys&&(function(){return 2===Object.keys(arguments).length})(1,2),L=Object.keys;v(Object,{keys:function(e){return m(e)?L(t.slice.call(e)):L(e)}},!N);var F=Date.prototype.toISOString&&-1===new Date(-621987552e5).toISOString().indexOf("-000001");v(Date.prototype,{toISOString:function(){var e,t,n,r,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(r=this.getUTCFullYear(),i=this.getUTCMonth(),r+=Math.floor(i/12),e=[(i=(i%12+12)%12)+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(r<0?"-":r>9999?"+":"")+("00000"+Math.abs(r)).slice(0<=r&&r<=9999?-4:-6),t=e.length;t--;)(n=e[t])<10&&(e[t]="0"+n);return r+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},F);var B=!1;try{B=Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(-621987552e5).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){}B||(Date.prototype.toJSON=function(e){var t,n=Object(this),r=(function(e){var t,n,r;if(y(e))return e;if(n=e.valueOf,f(n)&&y(t=n.call(e)))return t;if(r=e.toString,f(r)&&y(t=r.call(e)))return t;throw new TypeError})(n);if("number"==typeof r&&!isFinite(r))return null;if("function"!=typeof(t=n.toISOString))throw new TypeError("toISOString property is not callable");return t.call(n)});var U=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),z=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z")),V=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));Date.parse&&!V&&!z&&U||(Date=(function(e){function t(n,r,i,o,a,s,u){var c=arguments.length;if(this instanceof e){var l=1===c&&String(n)===n?new e(t.parse(n)):c>=7?new e(n,r,i,o,a,s,u):c>=6?new e(n,r,i,o,a,s):c>=5?new e(n,r,i,o,a):c>=4?new e(n,r,i,o):c>=3?new e(n,r,i):c>=2?new e(n,r):c>=1?new e(n):new e;return l.constructor=t,l}return e.apply(this,arguments)}var n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),r=[0,31,59,90,120,151,181,212,243,273,304,334,365];function i(e,t){var n=t>1?1:0;return r[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)}for(var o in e)t[o]=e[o];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(t){var r=n.exec(t);if(r){var o,a=Number(r[1]),s=Number(r[2]||1)-1,u=Number(r[3]||1)-1,c=Number(r[4]||0),l=Number(r[5]||0),d=Number(r[6]||0),f=Math.floor(1e3*Number(r[7]||0)),p=Boolean(r[4]&&!r[8]),h="-"===r[9]?1:-1,m=Number(r[10]||0),v=Number(r[11]||0);return c<(l>0||d>0||f>0?24:25)&&l<60&&d<60&&f<1e3&&s>-1&&s<12&&m<24&&v<60&&u>-1&&u<i(a,s+1)-i(a,s)&&(o=1e3*(60*((o=60*(24*(i(a,s)+u)+c+m*h))+l+v*h)+d)+f,p&&(o=(function(t){return Number(new e(1970,0,1,0,0,0,t))})(o)),-864e13<=o&&o<=864e13)?o:NaN}return e.parse.apply(this,arguments)},t})(Date));Date.now||(Date.now=function(){return(new Date).getTime()});var H=o.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),W={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1;++n<W.size;)t+=e*W.data[n],W.data[n]=t%W.base,t=Math.floor(t/W.base)},divide:function(e){for(var t=W.size,n=0;--t>=0;)n+=W.data[t],W.data[t]=Math.floor(n/e),n=n%e*W.base},numToString:function(){for(var e=W.size,t="";--e>=0;)if(""!==t||0===e||0!==W.data[e]){var n=String(W.data[e]);""===t?t=n:t+="0000000".slice(0,7-n.length)+n}return t},pow:function e(t,n,r){return 0===n?r:n%2==1?e(t,n-1,r*t):e(t*t,n/2,r)},log:function(e){for(var t=0;e>=4096;)t+=12,e/=4096;for(;e>=2;)t+=1,e/=2;return t}};v(o,{toFixed:function(e){var t,n,r,i,o,a,s,u;if((t=(t=Number(e))!=t?0:Math.floor(t))<0||t>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if((n=Number(this))!=n)return"NaN";if(n<=-1e21||n>=1e21)return String(n);if(r="",n<0&&(r="-",n=-n),i="0",n>1e-21)if(o=W.log(n*W.pow(2,69,1))-69,a=o<0?n*W.pow(2,-o,1):n/W.pow(2,o,1),a*=4503599627370496,(o=52-o)>0){for(W.multiply(0,a),s=t;s>=7;)W.multiply(1e7,0),s-=7;for(W.multiply(W.pow(10,s,1),0),s=o-1;s>=23;)W.divide(1<<23),s-=23;W.divide(1<<s),W.multiply(1,1),W.divide(2),i=W.numToString()}else W.multiply(0,a),W.multiply(1<<-o,0),i=W.numToString()+"0.00000000000000000000".slice(2,2+t);return t>0?(u=i.length,i=u<=t?r+"0.0000000000000000000".slice(0,t-u+2)+i:r+i.slice(0,u-t)+"."+i.slice(u-t)):i=r+i,i}},H);var $=i.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var e=void 0===/()??/.exec("")[1];i.split=function(t,n){var r=this;if(void 0===t&&0===n)return[];if("[object RegExp]"!==d.call(t))return $.call(this,t,n);var i,o,a,s,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),f=0;for(t=new RegExp(t.source,l+"g"),r+="",e||(i=new RegExp("^"+t.source+"$(?!\\s)",l)),n=void 0===n?-1>>>0:b.ToUint32(n);(o=t.exec(r))&&!((a=o.index+o[0].length)>f&&(c.push(r.slice(f,o.index)),!e&&o.length>1&&o[0].replace(i,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)})),o.length>1&&o.index<r.length&&u.apply(c,o.slice(1)),s=o[0].length,f=a,c.length>=n));)t.lastIndex===o.index&&t.lastIndex++;return f===r.length?!s&&t.test("")||c.push(""):c.push(r.slice(f)),c.length>n?c.slice(0,n):c}})():"0".split(void 0,0).length&&(i.split=function(e,t){return void 0===e&&0===t?[]:$.call(this,e,t)});var G=i.replace;(function(){var e=[];return"x".replace(/x(.)?/g,(function(t,n){e.push(n)})),1===e.length&&void 0===e[0]})()||(i.replace=function(e,t){var n=f(t),r=(function(e){return"[object RegExp]"===d.call(e)})(e)&&/\)[*?]/.test(e.source);if(n&&r){return G.call(this,e,(function(n){var r=arguments.length,i=e.lastIndex;e.lastIndex=0;var o=e.exec(n)||[];return e.lastIndex=i,o.push(arguments[r-2],arguments[r-1]),t.apply(this,o)}))}return G.call(this,e,t)});var q=i.substr,Y="".substr&&"b"!=="0b".substr(-1);v(i,{substr:function(e,t){return q.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},Y);var K="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",J="["+K+"]",Z=new RegExp("^"+J+J+"*"),X=new RegExp(J+J+"*$"),Q=i.trim&&(K.trim()||!"​".trim());v(i,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(Z,"").replace(X,"")}},Q),(8!==parseInt(K+"08")||22!==parseInt(K+"0x16"))&&(parseInt=(function(e){var t=/^0[xX]/;return function(n,r){return n=String(n).trim(),Number(r)||(r=t.test(n)?16:10),e(n,r)}})(parseInt))})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)})(),
/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(e,t){"$:nomunge";var n,r=e.jQuery||e.Cowboy||(e.Cowboy={});r.throttle=n=function(e,n,i,o){var a,s=0;function u(){var r=this,u=+new Date-s,c=arguments;function l(){s=+new Date,i.apply(r,c)}o&&!a&&l(),a&&clearTimeout(a),o===t&&u>e?l():!0!==n&&(a=setTimeout(o?function(){a=t}:l,o===t?e-u:e))}return"boolean"!=typeof n&&(o=i,i=n,n=t),r.guid&&(u.guid=i.guid=i.guid||r.guid++),u},r.debounce=function(e,r,i){return i===t?n(e,r,!1):n(e,i,!1!==r)}})(this);var nb={};nb.IE_LT9=Boolean(document.documentMode&&document.documentMode<9),nb.inherit=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},nb.extend=function(e){for(var t=[].slice.call(arguments,1),n=0,r=t.length;n<r;n++){var i=t[n];for(var o in i)e[o]=i[o]}return e};var nb=nb||{};!(function(){nb.node={},nb.node.data=function(node,key,value){if(!key){for(var data={},attrs=node.attributes,r,i=0,l=attrs.length;i<l;i++){var attr=attrs[i];(r=/^data-nb-(.+)/.exec(attr.name))&&(data[r[1]]=parseValue(attr.value))}return data}if(void 0===value)return parseValue(node.getAttribute("data-nb-"+key)||"");function parseValue(value){var ch=value.charAt(0);return"["===ch||"{"===ch?eval("("+value+")"):value}node.setAttribute("data-nb-"+key,value)},nb.node.getMod=function(e,t){return nb.node.setMod(e,t)};var modCache={};nb.node.setMod=function(e,t,n){var r=modCache[t]||(modCache[t]=RegExp("(?:^|\\s+)"+t+"(?:_([\\w-]+))?(?:$|\\s+)")),i=e.className;if(void 0===n){var o=r.exec(i);return o?void 0===o[1]||o[1]:""}i=i.replace(r," ").trim(),!1!==n&&""!==n&&(i+=" "+t+(!0===n?"":"_"+n)),e.className=i},nb.node.delMod=function(e,t){nb.node.setMod(e,t,!1)}})(),(function(){var e={},t={},n=new RegExp("^("+["click","dblclick","mouseup","mousedown","keydown","keypress","keyup","input","change","blur","mouseover","mouseout","focusin","focusout"].join("|")+")\\b\\s*(.*)?$"),r=0,i={},o=function(e){var t=e.getAttribute("data-nb");return t?t.trim().replace(/\s+/g," "):t},a=function(e){return e.split(/\s+/)},s=function(){};s.prototype.__init=function(e){this.node=e,this.__handlers={},this.__bindEvents(),this.trigger("init"),c&&nb.trigger("inited:"+this.id,this)},s.prototype.__bindEvents=function(){for(var e=this,t=u.get(this.name).events,n=0,r=t.length;n<r;n++){var i=t[n].custom,o=t[n].local;for(var a in i)!(function(t){e.__bindCustomEvent(a,(function(n,r){for(var i=t.length;i--;){var o=t[i].call(e,n,r);if(!1===o||null===o)return o}}))})(i[a]);for(var a in o)for(var s in o[a]){var c=(s||"").length?" "+s:"",l=a+c,d=o[a][s];for(n=0;n<d.length;n++)!(function(t){e.on(l,(function(){t.apply(e,arguments)}))})(d[n])}}},s.prototype.destroy=function(){this.trigger("nb-destroyed",this),this.nbdestroy()},s.prototype.nbdestroy=function(){for(var e=u.get(this.name).events,t=0,n=e.length;t<n;t++){for(var r in e[t].custom)this.off(r);for(var r in e[t].local)this.off(r)}i[this.id]=null},s.prototype.__getHandlers=function(e){var t=this.__handlers;return t[e]||(t[e]=[])},s.prototype.on=function(e,t){var r=n.exec(e);return r?$(this.node).on(r[1],r[2]||"",t):this.__bindCustomEvent(e,t),t},s.prototype.__bindCustomEvent=function(e,t){this.__getHandlers(e).push(t)},s.prototype.off=function(e,t){var r=n.exec(e);if(r)$(this.node).off(r[1],r[2]||"",t);else if(t){var i=this.__getHandlers(e),o=i.indexOf(t);-1!==o&&i.splice(o,1)}else this.__handlers[e]=null},s.prototype.trigger=function(e){for(var t=this.__getHandlers(arguments[0]).slice(),n=0,r=t.length;n<r;n++)t[n].apply(this,arguments)},s.prototype.nbdata=function(e,t){return nb.node.data(this.node,e,t)},s.prototype.show=function(){$(this.node).removeClass("nb-is-hidden"),this.trigger("show")},s.prototype.hide=function(){$(this.node).addClass("nb-is-hidden"),this.trigger("hide")},s.prototype.getMod=function(e){return nb.node.setMod(this.node,e)},s.prototype.setMod=function(e,t){nb.node.setMod(this.node,e,t)},s.prototype.delMod=function(e){nb.node.setMod(this.node,e,!1)},s.prototype.children=function(){for(var e=[],t=$(this.node).find("[data-nb]"),n=0,r=t.length;n<r;n++)e=e.concat(nb.blocks(t[n]));return e},s.prototype.getYateModuleName=function(){return"main"},nb.Block=s;var u=function(e,t,n){this.name=e,t.prototype.name=e,this.ctor=t,this.events=this._prepareEvents(n)};u.prototype._prepareEvents=function(e){e=e||{};var r=this.ctor.prototype,i={},o={},a={};for(var s in e){var c,l,d=n.exec(s);if(d)c="blur"===(p=d[1])?a[p]||(a[p]={}):i[p]||(i[p]={}),l=d[2]||"";else c=o,l=s;var f=e[s];"string"==typeof f&&(f=r[f]),null===f?c[l]=null:(c=c[l]||(c[l]=[])).push(f)}for(var p in i)t[p]||($(document).on(p,(function(e){if(!e.button||"click"!==e.type)return u._onevent(e)})),t[p]=!0);return[{dom:i,custom:o,local:a}]},u.prototype.create=function(e,t){var n=e.getAttribute("id");if(n||(n="nb-"+r++,e.setAttribute("id",n)),i[n]||(i[n]={},null===o(e)&&e.setAttribute("data-nb",this.name)),!i[n][this.name]){var a=new this.ctor;if(a.id=n,a.__init(e),t)for(var s in t)a.on(s,t[s]);i[n][this.name]=a}return i[n][this.name]},u.prototype._extendEvents=function(e){var t=this.events[0].dom,n=e.events[0].dom;for(var r in n)i(t[r]||(t[r]={}),n[r]);function i(e,t){for(var n in t){var r=t[n],i=e[n];e[n]=null===i?[]:r.concat(i||[])}}i(this.events[0].custom,e.events[0].custom)},u._onevent=function(e){var t,n,r,i,s,c,l=e.type,d=e.target,f="mouseover"===l||"mouseout"===l,p=e.relatedTarget,h=d;for(r=[],n=(t=[]).length;E();){for(var m=a(s),v=!0,g=0;g<m.length;g++){var y=m[g];if(c=u.get(y))for(var b=c.events,_=0,O=b.length;_<O;_++)!1===w(y,b[_].dom[l])&&(v=!1)}if(!v)return!1;if(p)return;t.push(h),r.push($(h)),n=t.length,h=h.parentNode}function E(){var e;for(i=null;e=h.parentNode;){if(s=o(h)){i=h;break}t.push(h),h=e}if(i)return f&&p&&(t=d===i?[]:[d]),n=t.length,!0}function w(e,o){if(o){for(var a,s,u,c=0;c<n;c++){for(var l in s=t[c],u=r[c]||(r[c]=$(s)),o)if(l&&u.is(l)&&!(f&&p&&$.contains(s,p))){var d=S(s,e,o[l]);!1===d&&(a=d)}if(!1===a)return a}var h=o[""];return!h||f&&p&&$.contains(i,p)?void 0:S(i,e,h)}}function S(t,n,r){for(var o=c.create(i),a=r.length;a--;){var s=r[a].call(o,e,t);if(!1===s)return!1;if(null===s)break}}},u.get=function(t){return e[t]},nb.hasBlock=function(e,t){var n=e.getAttribute("id");return!(!n||!i[n]||t&&!i[n][t])},nb.block=function(e,t,n){return o(e)?n?u.get(n).create(e,t):nb.blocks(e,t)[0]:null},nb.blocks=function(e,t){var n=o(e);if(!n)return[];for(var r=a(n),i=[],s=0;s<r.length;s++)i.push(u.get(r[s]).create(e,t));return i},nb.find=function(e){var t=document.getElementById(e);if(t)return nb.block(t)},nb.define=function(t,n,i){"string"!=typeof t&&(i=n,n=t,t="nb-"+r++),i&&(i=u.get(i));var o=n.events;delete n.events;var a=function(){};nb.inherit(a,i?i.ctor:s),nb.extend(a.prototype,n);var c=new u(t,a,o);return i&&c._extendEvents(i),e[t]=c,c},nb.init=function(e){e=e||document;for(var t=$(e).find("._init").addBack().filter("._init"),n=0,r=t.length;n<r;n++)nb.block(t[n])},nb.destroy=function(e){e=e||document;for(var t=$(e).find("._init").addBack().filter("._init"),n=0,r=t.length;n<r;n++){var o=t[n].getAttribute("id"),a=i[o];if(a)for(var s in a)a[s].destroy()}};var c=nb.define({events:{click:function(e){nb.trigger("space:click",e.target)}}}).create(document.getElementsByTagName("html")[0]);nb.on=function(e,t){return c.on(e,t)},nb.off=function(e,t){c.off(e,t)},nb.trigger=function(e,t){c.trigger(e,t)}})(),nb.define("arrow",{oninit:function(){}},"base"),nb.define("base",{events:{init:"_oninit"},_oninit:function(){this.$node=$(this.node),this.oninit&&this.oninit()},
/*!
     * @returns {String} type of block
     */
getType:function(){return this.$node.attr("data-nb")}}),nb.define("button",{events:{},oninit:function(){this.$node.button({disabled:this.$node.prop("disabled")}),this.trigger("nb-inited",this)},setContent:function(e){return this.$node&&this.$node.data("uiButton")&&(this.$node.find("._nb-button-content").html(e),this.trigger("nb-text-set",this)),this},getContent:function(){return this.$node.find("._nb-button-content").html()},setUrl:function(e){return this.$node.attr("href",e),this.trigger("nb-url-set",this),this},getUrl:function(){return this.$node.attr("href")},disable:function(){return this.$node&&this.$node.data("uiButton")&&(this.$node.button("disable"),this._tabindex=this.$node.attr("tabindex"),this.$node.attr("tabindex","-1"),this.$node.addClass("_nb-is-disabled"),this.trigger("nb-disabled",this)),this},enable:function(){return this.$node&&this.$node.data("uiButton")&&(this.$node.button("enable"),this.$node.attr("tabindex",this._tabindex||"0"),this.$node.removeClass("_nb-is-disabled"),this.trigger("nb-enabled",this)),this},isEnabled:function(){return!this.$node.prop("disabled")},focus:function(){return this.isEnabled()&&this.$node.focus(),this.trigger("nb-focused",this),this},blur:function(){return this.isEnabled()&&this.$node.blur(),this.trigger("nb-blured",this),this},destroy:function(){this.$node&&this.$node.data("uiButton")&&this.$node.button("destroy"),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),nb.define("tooltip-jq-toggler",{oninit:function(){this.onmouseenter=this.onmouseenter.bind(this),this.$node.tooltip(this._getParams()),this.$node.on("mouseenter",this.onmouseenter)},destroy:function(){this.$node.tooltip("destroy"),this.$node.off("mouseenter",this.onmouseenter),this.nbdestroy()},onmouseenter:function(){if(this.$node.hasClass("_nb-is-disabled"))return!0;this.$node.tooltip("open")},_getParams:function(){var e=this.nbdata()[this.name]||{},t={tooltipClass:"nb-tooltip nb-island _nb-small-fly-island"};return e.class&&(e.tooltipClass+=" "+e.class),e.content&&(t.content=e.content),e.position&&(t.position=e.position),t}},"base"),
/*!
 * @class nb.block.Checkbox
 * @augments nb.block.Base
 */
nb.define("checkbox",{events:{"change input":"onchange"},_onCheckboxChecked:function(e,t){t.name==this.getName()&&t.nb.$node.attr("id")!=this.$node.attr("id")&&this.uncheck()},onchange:function(){this.$control.prop("checked")?this.check():this.uncheck()},oninit:function(){if(this.$control=this.$node.find("input[type]"),this._isChecked=this.$control.prop("checked"),this.$control.on("click.nb-checkbox",(function(e){e.stopPropagation()})),document.documentMode&&document.documentMode<9){var e=this;this.$control.on("propertychange.nb-checkbox",(function(t){"checked"===t.originalEvent.propertyName&&e.onchange()}))}"radio"===this.getType()&&nb.on("checkbox:checked",$.proxy(this._onCheckboxChecked,this)),this.trigger("nb-inited",this)},getType:function(){return this.$control.attr("type")},isChecked:function(){return this._isChecked},check:function(){if(!this.isEnabled())return this;"radio"===this.getType()&&nb.trigger("checkbox:checked",{name:this.getName(),nb:this});var e=this.isChecked();return this.$control.prop({indeterminate:!1,checked:!0}),this._isChecked=!0,this.trigger("nb-checked",this),e||this.trigger("nb-changed",this),this},uncheck:function(){if(!this.isEnabled())return this;var e=this.isChecked();return this.$control.prop({indeterminate:!1,checked:!1}),this._isChecked=!1,this.trigger("nb-unchecked",this),e&&this.trigger("nb-changed",this),this},toggle:function(){return this.isEnabled()?(this.trigger("nb-change",this),this.isChecked()?this.uncheck():this.check(),this):this},isIndeterminate:function(){return this.$control.prop("indeterminate")},setIndeterminate:function(){return this.isEnabled()&&(this.$control.prop("indeterminate",!0),this.trigger("nb-indeterminated",this)),this},setDeterminate:function(){return this.isEnabled()&&(this.$control.prop("indeterminate",!1),this.trigger("nb-determinated",this)),this},isEnabled:function(){return!this.$control.prop("disabled")},enable:function(){return this.isEnabled()||(this.$node.removeClass("_nb-is-disabled"),this.$control.removeAttr("disabled"),this.trigger("nb-enabled",this)),this},disable:function(){return this.isEnabled()&&(this.blur(),this.$node.addClass("_nb-is-disabled"),this.$control.attr("disabled","disabled"),this.trigger("nb-disabled",this)),this},focus:function(){return this.$control.focus(),this.trigger("nb-focused",this),this},blur:function(){return this.$control.blur(),this.trigger("nb-blured",this),this},setLabel:function(e){return this.$node.find("._nb-checkbox-label").html(e),this.trigger("nb-label-set",this),this},getLabel:function(){return this.$node.find("._nb-checkbox-label").html()},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.attr("name",e),this.trigger("nb-name-set",this),this},getValue:function(){var e=this.$control.attr("value");return"string"==typeof e?e:"on"},setValue:function(e){return this.$control.attr("value",e),this.trigger("nb-value-set",this),this},destroy:function(){this.$control.off(".nb-checkbox"),"radio"===this.getType()&&nb.off("checkbox:checked",$.proxy(this._onCheckboxChecked,this)),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),
/*!
 * @class nb.block.Select
 * @augments nb.block.Base
 */
nb.define("select",{events:{mousedown:"_onclick"},oninit:function(){if(this.isOpen=!1,this.$control=this.$node.find("select"),this.data=this.nbdata(),this.$dropdown=this.$node.children(".nb-select-dropdown").appendTo(this.data.appendto||"body"),this._updateFromSelect(),nb.IE_LT9){var e=this;this.$control.on("change",(function(t){e.setState({value:t.target.value})}))}else this.controlPrepare();this.trigger("nb-inited",this)},controlPrepare:function(){var e=this,t={collision:"flip"};e.data.within&&(t.within=e.data.within),"top"==e.data.direction?(t.my="left bottom",t.at="left top"):(t.my="left top",t.at="left bottom"),e._returnOptItem=function(e){var t=$(e),n=t.data("icon"),r=t.data("class"),i={};return t.attr("separator")?i={separator:!0,option:e}:(i={label:t.text(),value:t.val(),option:e},n&&(i.icon=n),r&&(i.className=r)),i},e.$node.autocomplete({disabled:e.$node.hasClass("_nb-is-disabled"),delay:0,minLength:0,autoFocus:!1,position:t,appendTo:e.$dropdown,source:function(t,n){n(e.$control.children(["option","optgroup"]).map((function(){var t=$(this);return"OPTGROUP"==this.tagName?{type:"group",label:t.attr("label"),option:this,group:t.children("option").map((function(){return e._returnOptItem(this)}))}:e._returnOptItem(this)})))},select:function(t,n){"group"!=n.item.type&&(n.item.option.selected=!0,e.$jUI._trigger("selected",t,{item:n.item.option}))},open:function(){e.$jUI._on(e.$jUI.document,{mousedown:function(t){1!=t.which||$.contains(e.$jUI.element.get(0),t.target)||$.contains(e.$dropdown[0],t.target)||this.close()}}),e.trigger("nb-opened",e)},close:function(){e.$jUI._off(e.$jUI.document,"mousedown"),e.trigger("nb-closed",e)}}).addClass("ui-widget ui-widget-content"),e.$jUI=e.$node.data("uiAutocomplete"),e.$node.on("autocompleteopen",(function(){e.isOpen=!0})),e.$node.on("autocompleteclose",(function(){e.isOpen=!1})),e.$jUI._renderItem=function(t,n){var r=$('<li class="_nb-select-item"></li>');if(n.className&&r.addClass(n.className),n.option.selected&&r.addClass("is-selected"),"group"==n.type){r.addClass("_nb-select-group-item");var i=$("<ul></ul>");n.group.each((function(t,n){e.$jUI._renderItem(i,n)})),r.append(i)}if(n.separator)r.addClass("_nb-select-seperator-item");else{r.data("ui-autocomplete-item",n);var o=$('<a class="_nb-select-a"></a>');"group"==n.type?o.html('<span class="_nb-select-text">'+n.label+"</span>"):o.text(n.label).appendTo(o),n.icon&&o.prepend('<img class="nb-icon nb-s-'+n.icon+'-icon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">'),r.append(o)}return r.appendTo(t),r},e.$jUI.valueMethod=function(t){if("string"==typeof t){var n=e.$control.find('option[value="'+t+'"]').text();e.setState({value:t,text:n})}return e.$selected.val()},e.$jUI.__resizeMenu=e.$jUI._resizeMenu,e.$jUI._resizeMenu=function(){e.data.maxheight&&e._setMaxHeight(e.data.maxheight),this.__resizeMenu()},e.$jUI.menu.element.on("click",(function(e){e.stopPropagation()}))},
/*!
         * Save value and text from <select> node.
         * @private
         */
_updateFromSelect:function(){this.$selected=this.$control.find(":selected"),this.value=this.$selected.val(),this.text=this.$selected.text(),this.icon=this.$selected.data("icon"),this._setText({text:this.text,icon:this.icon})},_onclick:function(e){this.$node&&this.$node.data("uiAutocomplete")&&(e.preventDefault(),this.isOpen?this.close():this.isEnabled()&&(this.open(),this.$node.focus()))},_setText:function(e){var t=this.$node.find("._nb-button-content");e.text||e.icon?(t.text(e.text),e.icon&&(this.$node.addClass("_nb-with-icon"),e.text||this.$node.addClass("_nb-with-only-button"),t.prepend('<img class="nb-icon nb-s-'+e.icon+'-icon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">'))):this.$node.find("._nb-button-content").html("&nbsp;")},_setMaxHeight:function(e){var t;if(/^\d+$/.test(e)){var n=this.$jUI.menu.element.find("._nb-select-item").first();t=parseInt(n.height())*e}else t=e;this.$jUI.menu.element.css({"max-height":t,"overflow-y":"auto","overflow-x":"hidden"})},render:function(){return this.isEnabled()?(this.$node.autocomplete("search",""),this.trigger("nb-rendered",this),this):this},open:function(){return this.$node&&this.$node.data("uiAutocomplete")&&this.isEnabled()&&this.render(),this},close:function(){return this.$node&&this.$node.data("uiAutocomplete")&&(this.$node.autocomplete("close"),this.trigger("nb-closed",this)),this},setState:function(e){var t;(e=e||{},this.value!==e.value)&&(0!==(t=e.value?this.$control.find('option[value="'+e.value+'"]').first():this.$control.find("option:contains("+e.text+")").first()).length&&(this.$selected.prop("selected",!1),this.$selected=t,this.$selected.prop("selected",!0),this.value=this.$selected.val(),this.text=this.$selected.text(),this.icon=this.$selected.data("icon"),this._setText({text:this.text,icon:this.icon}),this.trigger("nb-changed",this),this.$control.val(e.value)));return this},getState:function(){return{value:this.value,text:this.text}},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.prop("name",e),this.trigger("nb-name-set",this),this},disable:function(){return this.isEnabled()&&(this.$node.addClass("_nb-is-disabled"),this._tabindex=this.$node.attr("tabindex"),this.$node.attr("tabindex","-1"),this.$node.attr("_nb-is-disabled"),nb.IE_LT9||this.$node.autocomplete("disable"),this.$control.attr("disabled","disabled"),this.trigger("nb-disabled",this)),this},enable:function(){return this.isEnabled()||(this.$node.attr("tabindex",this._tabindex||"0"),this.$node.removeClass("_nb-is-disabled"),nb.IE_LT9||this.$node.autocomplete("enable"),this.$control.removeAttr("disabled"),this.trigger("nb-enabled",this)),this},isEnabled:function(){return!this.$node.hasClass("_nb-is-disabled")},setSource:function(e){if(!e)return this;e instanceof Array||(e=[e]);var t=[];e.forEach((function(e){e.selected&&t.push(e)})),t.slice(0,-1).forEach((function(e){e.selected=!1}));var n=yr.run(this.getYateModuleName(),{items:e},"nb-select-options");return this.$control.empty().append(n),this._updateFromSelect(),this.trigger("nb-source-changed",this),this},getSource:function(){return $.map(this.$control.children("option"),(function(e){var t=$(e);return{text:t.text(),value:t.val(),selected:t.prop("selected")}}))},addToSource:function(e,t){var n=this.getSource();e instanceof Array||(e=[e]);var r=null,i=e.filter((function(e){return!(-1!==n.indexOf(e))&&(e.selected&&(r=e.value),!0)}),this);return isNaN(t)&&(t=n.length),i.forEach((function(e,r){n.splice(t+r,0,e)}),this),this.setSource(n),r&&this.setState({value:r}),this.trigger("nb-source-changed",this),this},removeFromSource:function(e){var t,n=this.getSource();return"number"==typeof e||"string"==typeof e?t=parseInt(e):e instanceof Array||(e=[e]),t||0===t?n.splice(t,1):e.forEach((function(e){n=n.filter((function(t){return t.text!=e.text&&t.value!=e.value}))}),this),this.setSource(n),this.trigger("nb-source-changed",this),this},focus:function(){return this.isEnabled()&&this.$node.focus(),this.trigger("nb-focused",this),this},blur:function(){return this.isEnabled()&&this.$node.blur(),this.trigger("nb-blured",this),this},setOption:function(e){return this.$node.autocomplete("option",e),this.trigger("nb-option-set",this),this},getOption:function(e){return this.$node.autocomplete("option",e)},destroy:function(){this.$node&&this.$node.data("uiAutocomplete")&&(this.$node.autocomplete("destroy"),this.$dropdown.empty().appendTo(this.$node)),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),
/*!
 * @class nb.block.Slider
 * @augments nb.block.Base
 */
nb.define("slider",{oninit:function(){var e=this;return this.data=this.nbdata(),this.$control=this.$node.find("._nb-slider-fallback"),this.$body=this.$node.children("._nb-slider-body"),this.$body.show(),this.$body.slider({range:"min",disabled:this.$node.hasClass("_nb-is-disabled"),value:parseFloat(this.data.value),change:function(e,t){this.$control.val(t.value)}.bind(this)}),this.$body.on("slidestop",(function(t,n){e.trigger("nb-slider_slidestop",n.value)})),this.$body.on("slidestart",(function(t,n){e.trigger("nb-slider_slidestart",n.value)})),this.$body.on("slide",(function(t,n){e.trigger("nb-slider_slide",n.value)})),this.trigger("nb-inited",this),this},setValue:function(e){return this.$body.slider("option","disabled")?this:(this.$body.slider("value",e),this.trigger("nb-value-set",this),this)},getValue:function(){return this.$body.slider("option","value")},setName:function(e){return this.$control.prop("name",e),this.trigger("nb-name-set",this),this},getName:function(){return this.$control.prop("name")},disable:function(){return this.$node.addClass("_nb-is-disabled"),this.$body.slider("disable"),this.trigger("nb-disabled",this),this},enable:function(){return this.$node.removeClass("_nb-is-disabled"),this.$body.slider("enable"),this.trigger("nb-enabled",this),this},isEnabled:function(){return!this.$body.slider("option","disabled")},destroy:function(){this.$body&&this.$body.data("uiSlider")&&this.$body.slider("destroy"),this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),
/*!
 * ### jQuery UI Depends
 *
 * - jquery.ui.dialog.js
 * - jquery.ui.core.js
 * - jquery.ui.widget.js
 * - jquery.ui.button.js
 * - jquery.ui.draggable.js
 * - jquery.ui.mouse.js
 * - jquery.ui.position.js
 */
(function(){$.nb={};function e(e,t){return Math.min(Math.max(e,t[0]),t[1])}function t(e){return[{x:Math.round(e.left),y:Math.round(e.top)},{x:Math.round(e.left+e.width),y:Math.round(e.top+e.height)}]}
/*!
     *  Функция возвращает строку с модификаторами
     *  для обертки попапа, которую добавляет jquery ui,
     *  в соответсвии с модификаторами самого попапа
     *
     *  Например, для попапа заданы классы-модификаторы nb-popup_mod и nb-popup_another-mod,
     *  функция вернет строку 'nb-popup-outer_mod nb-popup-outer_another-mod'
     *
     */
function n(e){var t=e.split(" ")||[],n=/[^_]_(?!_)/;return $.map(t,(function(e){var t=e.split(n),r=t.length,i=t.pop(),o="";return r>1&&(o="nb-popup-outer_"+i),o})).join(" ")}$.widget("nb.baseDialog",$.ui.dialog,{options:{height:"auto",minHeight:"auto",width:"auto"},open:function(){this._super();var e=this;this.options.autoclose&&(this.options.modal?(this._onmousedown=function(t){2!==t.which&&3!==t.which&&(e.options.closedByOuterClick=!0,e.close())},this.overlay.click(this._onmousedown)):(this._onmousedown=function(t){var n=$(e.uiDialog[0]).find(".nb-popup").attr("id"),r=$(t.target).parents().addBack().filter('[data-nb="popup-toggler"]');2!==t.which&&3!==t.which&&($.contains(e.uiDialog[0],t.target)||r.length&&nb.find(r.attr("id"))&&nb.find(r.attr("id")).nbdata()["popup-toggler"].id==n||t.clientX>window.screen.width-18||(e.options.closedByOuterClick=!0,e.close()))},this.document.on("mousedown",this._onmousedown),this.document.on("touchstart",this._onmousedown))),this._onresize=$.throttle(1e3/60,this._position.bind(this)),this.window.on("resize",this._onresize),this._onpopupclose=nb.on("popup-close",(function(){e.options.autoclose&&e.close()}))},close:function(e){this._super(),e&&27===e.keyCode&&this.options.modal&&(this.nbBlock=this.nbBlock||nb.find($(this.uiDialog[0]).find(".nb-popup").attr("id")),this.nbBlock.trigger("nb-closed",this.nbBlock)),this.options.autoclose&&(this.document.off("mousedown",this._onmousedown),this.document.off("touchstart",this._onmousedown),this.document.off("click",this._onmousedown)),this._onresize&&this.window.off("resize",this._onresize),nb.off("popup-close",this._onpopupclose)},_focusTabbable:function(){this.options.autofocus&&this._super()},_keepFocus:$.noop,_create:function(){this._super(),this.element[0].widget=this},_destroy:function(){this._super(),delete this.element[0].widget},_position:function(){var e=this,t=this.options.position.using;this.options.position.using=function(n,r){var i,o,a=$.extend({},n);return $(r.element.element[0]).css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),"bottom"==r.vertical&&(o=e.window.height(),a.bottom=o-(a.top+r.element.height),a.top="auto"),"right"==r.horizontal&&(i=e.window.width(),a.right=i-(a.left+r.element.width),a.left="auto"),t.call(r.element.element[0],a,r)},this._super(),this.options.position.using=t},_createTitlebar:function(){this.uiDialogTitlebarClose=$()}}),$.widget("nb.contextDialog",$.nb.baseDialog,{tailOffset:13,options:{show:{effect:"nb",duration:150},hide:{effect:"nb",duration:150},draggable:!1,resizable:!1,position:{my:"center top",at:"center bottom",collision:"fit flip"}},_create:function(){this._super(),this.options.withoutTail||(this.$tail=$('<div class="_nb-popup-tail"><i/></div>'),this.$tail.prependTo(this.uiDialog))},_position:function(){var n=this,r=this.options.position.using,i={top:"",left:"",right:"",bottom:""};this.options.position.using=function(o,a){var s,u,c=a.element.element,l=c[0],d=(function(e,n){var r=t(n),i=t(e);if(r[0].y<=i[0].y&&r[1].y<=i[0].y)return"bottom";if(r[0].x>=i[1].x&&r[1].x>=i[1].x)return"left";if(r[0].y>=i[1].y&&r[1].y>=i[1].y)return"top";return"right"})(a.target,a.element),f=(function(e){return{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}})(a.target);return nb.node.setMod(l,"_nb-popup_to",(function(e){return{top:"bottom",bottom:"top",left:"right",right:"left"}[e]})(d)),c.data("nb-tail-dir",d),n.options.withoutTail||(!(function(e){return"top"===e||"bottom"===e})(d)?(u=[n.tailOffset,a.element.height-n.tailOffset],s=e(Math.abs(f.y-a.element.top),u),n.$tail.css($.extend(i,{top:s+"px"}))):(u=[n.tailOffset,a.element.width-n.tailOffset],s=e(Math.abs(f.x-a.element.left),u),n.$tail.css($.extend(i,{left:s+"px"}))),o[d]+=n.tailOffset),r.call(l,o,a)},this._super(),this.options.position.using=r}}),jQuery.effects.effect.nb=function(e,t){var n=$(this),r=nb.block(n.find(".nb-popup").get(0)),i="hide"===$.effects.setMode(n,e.mode||"hide"),o=n.data("nb-tail-dir"),a=$.nb.contextDialog.prototype.tailOffset,s={};s.opacity=i?0:1,s[o]=(i?"+=":"-=")+a,r.animationInProgress=!1,r.animationInProgress?t():(i||(r.hasAnimation&&n.css(o,"+="+a),n.show()),r.animationInProgress=!0,r.hasAnimation?n.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){i?(n.hide(),r.animationInProgress=!1,r.trigger("nb-closed",r),t()):(r.animationInProgress=!1,r.trigger("nb-opened",r),t())}}):(n.css({opacity:"1"}),i?(n.hide(),r.trigger("nb-closed",r),t()):(r.trigger("nb-opened",r),t()),r.animationInProgress=!1))},nb.define("popup",{events:{"click ._nb-popup-close":"close",position:"onposition"},oninit:function(){"modal"in this.nbdata()&&(this.modal=!0),this._initPopupMenu()},_initPopupMenu:function(){if(this.$menu=this.$node.find("._nb-popup-menu").eq(0),this.$menu.length){var e=this;this.$menu.menu({select:function(t,n){e.trigger("nb-select",{event:t,ui:n})},focus:function(t,n){e.trigger("nb-focused",{event:t,ui:n})},blur:function(t,n){e.trigger("nb-blured",{event:t,ui:n})}})}},onposition:function(e,t){var n=t.where,r=t.how;this._move(n,r,t)},open:function(e){if(!e&&!this.modal)return console.warn("Trying to call popup.open() without params;"),this;var t=e||{},n=t.where,r=t.how;return this.where?(n!==this.where||n instanceof Array&&(n[0]!==this.where[0]||n[1]!==this.where[1]))&&this._move(n,r):(t.where||this.modal)&&(this.$node.removeClass("_nb-is-hidden"),this._move(n,r,t),this.modal?this.trigger("nb-opened"):this.trigger("nb-open-started")),this},close:function(){return this.where=null,this.isOpen()&&(this.node.widget.close(),this.modal?this.trigger("nb-closed"):this.trigger("nb-close-started")),this.node&&this.node.widget&&this.node.widget.options.closedByOuterClick&&(this.modal?this.trigger("nb-closed"):this.trigger("nb-close-started"),this.node.widget.options.closedByOuterClick=!1),this},setContent:function(e){return this.$menu.length?(this.$menu.menu("destroy"),this.$menu.replaceWith(e),this._initPopupMenu()):this.$node.find("._nb-popup-content").html(e),this.trigger("nb-content-set"),this},getContent:function(){return this.$node.find("._nb-popup-content").html()},isOpen:function(){return this.node&&this.node.widget&&this.node.widget.isOpen()},destroy:function(){this.node&&this.node.widget&&(this.node.widget.destroy(),this.$node.addClass("_nb-is-hidden")),this.trigger("nb-destroyed",this),this.nbdestroy()},_move:function(e,t,r){this.where=e;var i=this,o=(r=r||{},t=t||{},this.nbdata());"fixed"!==t&&"fixed"!==o.how||(t={fixed:!0});var a=!1;t.fixed&&(a=!0);var s=function(e){$(this).css(e)},u=!0;void 0!==t.autoclose&&(u=t.autoclose),void 0!==r.autoclose&&(u=r.autoclose);var c=!0;if(void 0!==t.autofocus&&(c=t.autofocus),void 0!==r.autofocus&&(c=r.autofocus),this.hasAnimation=!0,void 0!==t.animation&&(this.hasAnimation=t.animation),void 0!==r.animation&&(this.hasAnimation=r.animation),this.modal){var l=r.class||"_nb-popup-outer ui-dialog-fixed ";return l+=n(this.$node.attr("class")),void $(this.node).baseDialog({height:r.height||o.height,minHeight:r.minHeight||o.minheight,maxHeight:r.maxHeight||o.maxheight,width:r.width||o.width,show:"fade",hide:"fade",modal:!0,resizable:!1,draggable:!1,dialogClass:l,close:function(){i.close()},appendTo:r.appendTo,position:{using:s},autoclose:u,autofocus:c})}if(!this.animationInProgress){l="_nb-popup-outer ui-dialog-no-close ";r.class&&(l+=r.class),a&&(l+=" ui-dialog-fixed"),l+=n(this.$node.attr("class")),this.$node.hide().contextDialog({height:r.height||o.height||"auto",minHeight:r.minHeight||o.minheight||"auto",maxHeight:r.maxHeight||o.maxheight||"auto",width:r.width||o.width||"auto",dialogClass:l,position:{at:t.at?t.at:"center bottom",my:t.my?t.my:"center top",fixed:a,of:$(this.where),collision:t.collision?t.collision:"fit flip",using:t.using||s,within:t.within},close:function(){i.close()},appendTo:r.appendTo||t.appendTo,autoclose:u,autofocus:c,withoutTail:r.withoutTail||o.withouttail||!1})}}},"base")})(),nb.define("popup-toggler",{events:{click:"toggle"},oninit:function(){var e=this;this.data=this.nbdata()["popup-toggler"],this.popup=nb.find(this.data.id),this.popup&&(this.popup.on("nb-closed",(function(){e.trigger("nb-closed",e)})),this.popup.on("nb-opened",(function(){e.trigger("nb-opened",e)}))),this.options={where:this.data.where||this.node,how:this.data.how,withoutTail:this.data.withoutTail,autoclose:this.data.autoclose,autofocus:this.data.autofocus,appendTo:this.data.appendTo},this.trigger("nb-inited",this)},toggle:function(e){return e&&e.preventDefault(),this.popup&&this.popup.isOpen()?this.close(e):this.open(e),this},open:function(e){return e&&e.preventDefault(),this.isEnabled()&&this.popup&&!this.popup.isOpen()&&(this.popup.open(this.options),this.trigger("nb-open-started",this)),this},close:function(){return this.isEnabled()&&this.popup&&this.popup.isOpen()&&(this.popup.close(),this.trigger("nb-close-started",this)),this},getPopup:function(){return this.popup},setPopup:function(e){if("string"==typeof e){var t={};t.popup=e,e=t}if(1===arguments.length&&"object"==typeof e&&e.popup){var n=e.popup;delete e.popup,e.where&&(this.options=e),this.popup="string"==typeof n?nb.find(n):n,this.trigger("nb-popup-set",this)}return this},getOptions:function(){return this.options},setOptions:function(e){return 1===arguments.length&&"object"==typeof e&&(this.options=e,this.trigger("nb-options-set",this)),this},disable:function(){return this._tabindex=this.$node.attr("tabindex"),this.$node.attr("tabindex","-1"),this.$node.addClass("_nb-is-disabled"),this.trigger("nb-disabled",this),this},enable:function(){return this.$node.attr("tabindex",this._tabindex||"0"),this.$node.removeClass("_nb-is-disabled"),this.trigger("nb-enabled",this),this},isEnabled:function(){return!this.$node.hasClass("_nb-is-disabled")},destroy:function(){this.nbdestroy()}},"base"),(function(){var e=function(e,t){e.$control.get(0).attachEvent?e.$control.get(0).attachEvent("onpropertychange",(function(e){"value"===e.propertyName&&t(e)})):e.$control.on("input",t)};
/*!
     * @class nb.block.Input
     * @augments nb.block.Base
     */nb.define("input",{events:{click:"focus","mousedown ._nb-input-reset":"reset"},oninit:function(){var t=this;this.data=this.nbdata(),"simple"==this.data.type?this.$control=this.$node:this.$control=this.$node.find("._nb-input-controller"),this.focused=!1,this.disabled=this.$control.prop("disabled"),this.value=this.getValue(),this.$reset=this.$node.find("._nb-input-reset"),this.$hint=this.$node.find("._nb-input-hint"),this.$control.on("focusin",(function(e){t.focused||t._onfocus(e)})),this.$control.on("focusout",(function(e){t.focused&&t._onblur(e)})),this.$control.on("change",(function(e){t.trigger("nb-changed",t,e)})),e(this,(function(e){t.value=t.getValue(),""!==t.value&&t.$reset.length?t.$reset.css("visibility","visible"):t.$reset.css("visibility","hidden"),t.trigger("nb-input",this,e)})),this.$hint.length&&this._inithint(),this.data.ghost&&this.$node.on("mouseover mouseout",(function(){t.$node.toggleClass("_nb-is-ghost")})),this.data.error&&(this.error=nb.find(this.data.error.id)),""===this.value&&this.$reset.length&&this.$reset.css("visibility","hidden"),this._onmousedown=function(e){$.contains(this.$node.get(0),e.target)||this._onblur(e)}.bind(this),$(document).on("mousedown",this._onmousedown),$(document).on("touchstart",this._onmousedown),this.trigger("nb-inited",this)},_inithint:function(){var t=this;this.$control.removeAttr("placeholder"),this.$hintGhost=this.$hint.find("._nb-input-hint-ghost"),this.$hintGhost.length?(this.$hintGhost.html(t.getValue()),e(this,(function(){t.$hintGhost.html(t.getValue())}))):(t.$hint.css("visibility","visible"),e(this,(function(){""===t.getValue()?t.$hint.css("visibility","inherit"):t.$hint.css("visibility","hidden")})))},_onfocus:function(e){this.$node.addClass("_nb-is-focused"),this.focused=!0,e||this.$control.focus(),this.$hintGhost&&this.$hintGhost.length&&this.$hint.css("visibility","hidden"),this.data.ghost&&this.$node.removeClass("_nb-is-ghost")},_onblur:function(e){this.$node.removeClass("_nb-is-focused"),this.focused=!1,e||this.$control.blur(),this.$hintGhost&&this.$hintGhost.length&&this.$hint.css("visibility","inherit"),this.data.ghost&&this.$node.addClass("_nb-is-ghost")},showError:function(e){var t=this.focused;e=e||{};if(this.data.error){this.$node.addClass("_nb-is-wrong");var n={collision:"flip flip"};this.data.error.direction&&"left"==this.data.error.direction?(n.at="left",n.my="right"):(n.at="right",n.my="left"),"string"==typeof e&&this.setErrorContent(e),e.content&&this.setErrorContent(e.content),this.error.isOpen()||(this.error.open({autoclose:e.autoclose||!1,autofocus:!1,where:e.where||this.node,how:e.how||n,appendTo:e.appendTo||!1,class:e.class||!1}),t&&this._onfocus())}return this},hideError:function(){var e=this.focused;return this.data.error&&(this.$node.removeClass("_nb-is-wrong"),this.error.close(),e&&this._onfocus()),this},setErrorContent:function(e){return this.data.error&&(this.error.$node.find("._nb-popup-content").html(e),this.trigger("nb-error-content-set",this)),this},focus:function(){return!this.focused&&this.isEnabled()&&(nb.trigger("nb-focusout"),this._onfocus(),this.trigger("nb-focused",this)),this},blur:function(){return this.focused&&this.isEnabled()&&(this._onblur(),this.trigger("nb-blured",this)),this},disable:function(){return this.$node.addClass("_nb-is-disabled"),this.$control.prop("disabled",!0),this.trigger("nb-disabled",this),this},enable:function(){return this.$node.removeClass("_nb-is-disabled"),this.$control.prop("disabled",!1),this.trigger("nb-enabled",this),this},setValue:function(e){return this.value!=e&&(this.value=e,this.$control.val(e),this.$control.trigger("input"),this.trigger("nb-value-set",this),this.trigger("nb-changed",this)),this},getValue:function(){return this.$control.val()},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.attr("name",e),this.trigger("nb-name-set",this),this},isEnabled:function(){return!this.$control.prop("disabled")},reset:function(e){return e&&e.preventDefault&&e.preventDefault(),this.setValue(""),this},setHint:function(e){return this.$hint.length&&(this.$hintGhost.length?this.$hint.find("._nb-input-hint-content").html(e):this.$hint.find("._nb-input-hint-inner").html(e),this.trigger("nb-hint-set",this)),this},getHint:function(){var e="";return this.$hint.length&&(e=this.$hintGhost.length?this.$hint.find("._nb-input-hint-content").html():this.$hint.find("._nb-input-hint-inner").html()),e},destroy:function(){this.trigger("nb-destroyed",this),this.error&&(this.error.nbdestroy(),this.error.$node.remove()),$(document).off("mousedown",this._onmousedown),$(document).off("touchstart",this._onmousedown),this.nbdestroy()}},"base")})(),nb.define("input-group",{events:{click:"oninit",disable:"onDisable",enable:"onEnable"},oninit:function(){var e=this;e.disabled=this.nbdata().disabled,$(this.children()).each((function(){this.$node.hasClass("nb-input")?e.input=this:e.button=this}))},
/*!
     * Disables the input-group
     */
onDisable:function(){this.input.trigger("disable"),this.button.disable(),this.disabled=!0},
/*!
     * Enables the input-group
     */
onEnable:function(){this.input.trigger("enable"),this.button.enable(),this.disabled=!1}},"base"),nb.define("progress",{oninit:function(){var e=this.nbdata();e&&e.type&&(this.type=e.type),this.$title=this.$node.find(".js-title"),this.$control=this.$node.find("input"),this.$bar=this.$node.find(".js-bar")},setValue:function(e){var t=parseFloat(e);return this.$control.val(t),this.$bar.css({width:t+"%"}),"percentage"==this.type&&this.$title.html(t+"%"),this.trigger("nb-value-set",this),this},getValue:function(){return this.$control.val()},tick:function(){var e=parseFloat(this.getValue());return e<100&&e++,this.setValue(e),this.trigger("nb-changed",this),this}},"base"),nb.define("tabs",{oninit:function(){this.$node.tabs()}},"base"),nb.define("header",{events:{"click .nb-header-button":"togglePress"},
/*!
     * Toggles pressed state of button
     */
togglePress:function(e){var t=$(e.target);t.closest(".nb-header-button").toggleClass("nb-header-pressed-button"),t.hasClass("nb-services-icon")&&nb.trigger("services-click"),t.hasClass("nb-settings-icon")&&nb.trigger("settings-click")}},"base"),(function(){$.widget("ui.suggest",$.ui.autocomplete,{options:{
/*!
         * Истоник данных
         * @description См. http://api.jqueryui.com/autocomplete/#option-source
         *
         * @type {(String|Array|Function)}
         */
source:null,
/*!
         * Количество элеметов, при котором в выпадающем списке появляется скролл
         *
         * @type {Number}
         */
countMax:10,
/*!
         * Тип саджеста
         * @description
         *     Указывает из какого шаблона брать верстку для элемента выпадающего списка.
         *     См. файл suggest.yate: match /[.type].item nb-suggest
         *
         * @type {String}
         */
type:"default",
/*!
         * Включение или отключение выделения жирным начертанием результатов
         * матчинга в выпадающем списке.
         *
         * @type {Boolean}
         */
highlight:!1,
/*!
         * Размер блока.
         * @description Применятся на размер элементов в выпадающем списке.
         *
         * @type {String}
         */
size:"s",
/*!
         * Количесвто введенных символов, после которого начинать поиск слов
         */
minLength:2},_resizeMenu:function(){this.menu.element.width($(this.options.position.of).outerWidth())},_renderMenu:function(e,t){var n=this,r="";$.each(t,(function(e,t){r+=n._renderItem(t)})),$(r).appendTo(e),e.children("li").each((function(e){$(this).data("ui-autocomplete-item",t[e])}))},_renderItem:function(t){var n=$.extend({},t);this.options.highlight&&("function"==typeof e[this.options.type]?e[this.options.type](n,this._value()):"function"==typeof this.options.highlight&&this.options.highlight(n,this._value())),n.labelContent=n.label,delete n.label;var r={item:n,type:this.options.type,size:this.options.size};return $.isFunction(this.options.renderItem)?this.options.renderItem(r):'<li><a href="#">'+n.labelContent+"</a></li>"},_suggest:function(e){this._super(e),this.options.countMax&&!this._heightMax&&(this._heightMax=this.menu.element.children().eq(0).height()*this.options.countMax,this.menu.element.css({"max-height":this._heightMax,"overflow-y":"auto","overflow-x":"hidden"}))},_value:function(e){if(!e)return this._super.apply(this,arguments);this._trigger("_setvalue",null,e)},search:function(e,t){return this._trigger("_search"),this._super(e,t)}});var e={default:function(e,t){var n=new RegExp("("+$.ui.autocomplete.escapeRegex(t)+")","i");e.label=e.label.replace(n,"<b>$1</b>")},username:function(e,t){var n=new RegExp("("+$.ui.autocomplete.escapeRegex(t)+")","ig");e.usernameHighlighted=e.username.replace(n,'<span class="_nb-suggest-hl">$1</span>'),"string"==typeof e.email&&(e.emailHighlighted=e.email.replace(n,'<span class="_nb-suggest-hl">$1</span>'))}};
/*!
     * @class nb.block.Suggest
     * @augments nb.block.Base
     */nb.define("suggest",{oninit:function(){var e=this,t=this.$node[0].tagName.toLowerCase();"input"===t||"textarea"===t?this.$control=this.$node:(this.$control=this.$node.find("input"),this.input=nb.block(this.$node.find(".nb-input").get(0)));var n=this.$node.data("source");this.$control.on("keydown.nb-suggest",function(e){var t=$.ui.keyCode;-1!==$.inArray(e.keyCode,[t.ENTER,t.NUMPAD_ENTER])&&(this.$jUI.data().uiSuggest.menu.active||this.trigger("nb-keypress-enter",this,this.getValue()))}.bind(this)),this.$jUI=this.$control.suggest({source:n,position:{of:this.$node.get(0)},countMax:this.$node.data("countMax"),type:this.$node.data("type"),size:this.$node.data("size"),highlight:this.$node.data("highlight"),minLength:this.$node.data("minLength"),renderItem:function(t){return yr.run(e.getYateModuleName(),t,"nb-suggest")},search:this.onBeforeStartSearch.bind(this)}),this.$suggest=this.$jUI.data().uiSuggest.menu.element,this.$suggest.addClass(this.$node.data("class-suggest")),this.$jUI.on("suggest_search.nb-suggest",function(){this.trigger("nb-type",this,this.getValue())}.bind(this)),this.$jUI.on("suggest_setvalue.nb-suggest",this.onSetValueToInput.bind(this)),this.$jUI.on("suggestselect.nb-suggest",this.onSelectValue.bind(this)),this.trigger("nb-inited",this)},onBeforeStartSearch:function(e){var t=this.getSelected();t&&this.getValue()===t.value&&e.preventDefault()},onSelectValue:function(e,t){this.$selected=t.item,this.trigger("nb-select",this,t.item)},onSetValueToInput:function(e,t){this.input?this.input.setValue(t):this.$control.val(t)},getSelected:function(){return this.$selected},setOption:function(e){return this.$jUI.suggest("option",e),this.trigger("nb-option-set",this),this},getOption:function(e){return this.$jUI.suggest("option",e)},setSource:function(e){return this.setOption({source:e}),this.trigger("nb-source-set",this),this},getSource:function(){return this.getOption("source")},close:function(){return this.$jUI.suggest("close"),this.trigger("nb-closed",this),this},disable:function(){return this.isEnabled()&&(this.input?this.input.disable():this.$control.prop("disabled",!0),this.$node.addClass("_nb-is-disabled"),this.$jUI.suggest("disable"),this.trigger("nb-disabled",this)),this},enable:function(){return this.isEnabled()||(this.input?this.input.enable():this.$control.prop("disabled",!1),this.$node.removeClass("_nb-is-disabled"),this.$jUI.suggest("enable"),this.trigger("nb-enabled",this)),this},isEnabled:function(){return!this.$node.hasClass("_nb-is-disabled")},focus:function(){return this.isEnabled()&&(this.input?this.input.focus():this.$control.focus()),this.trigger("nb-focused",this),this},getName:function(){return this.$control.prop("name")},setName:function(e){return this.$control.prop("name",e),this.trigger("nb-name-set",this),this},blur:function(){return this.isEnabled()&&(this.input?this.input.blur():this.$control.blur()),this.trigger("nb-blured",this),this},getValue:function(){return this.$control.val()},setValue:function(e){return this.isEnabled()&&(this.$control.val(e),this.trigger("nb-value-set",this)),this},search:function(e){return this.$jUI.suggest("search",e),this},destroy:function(){if(this.$control&&this.$jUI){var e=this.$jUI.data();this.$control.off(".nb-suggest"),this.$jUI.off(".nb-suggest"),e&&e.uiSuggest&&this.$jUI.suggest("destroy")}this.trigger("nb-destroyed",this),this.nbdestroy()}},"base")})(),nb.define("toggler",{events:{click:"toggle"},
/*!
     * Init the toggler
     * @fires 'nb-inited'
     */
oninit:function(){return this.$control=this.$node.find("._nb-toggler-checkbox"),this.trigger("nb-inited",this),this},setValue:function(e){return this.$control.attr("value",e),this.trigger("nb-value-set",this),this},getValue:function(){return this.$control.prop("value")},toggle:function(){return this.isEnabled()&&(this.isChecked()?this.uncheck():this.check(),this.trigger("nb-changed",this)),this},getName:function(){return this.$control.attr("name")},setName:function(e){return this.$control.attr("name",e),this.trigger("nb-name-set",this),this},disable:function(){return this.$control.prop("disabled",!0),this.$node.addClass("_nb-is-disabled"),this.trigger("nb-disabled",this),this},enable:function(){return this.$control.prop("disabled",!1),this.$node.removeClass("_nb-is-disabled"),this.trigger("nb-enabled",this),this},isEnabled:function(){return!this.$control.prop("disabled")},focus:function(){return this.isEnabled()&&(this.$node.hasClass("_nb-is-focused")||(this.$node.addClass("_nb-is-focused").focus(),this.focused=!0,this.$control.focus(),this.trigger("nb-focused",this))),this},blur:function(){return this.$node.removeClass("_nb-is-focused").blur(),this.focused=!1,this.trigger("nb-blured",this),this},isChecked:function(){return this.$control.prop("checked")},check:function(){return this.isEnabled()&&!this.isChecked()&&(this.$control.prop({checked:!0}),this.$node.addClass("_nb-is-checked"),this.trigger("nb-checked",this)),this},uncheck:function(){return this.isEnabled()&&this.isChecked()&&(this.$control.prop({checked:!1}),this.$node.removeClass("_nb-is-checked"),this.trigger("nb-unchecked",this)),this},destroy:function(){this.trigger("nb-destroyed",this),this.nbdestroy()}},"base"),module.exports=nb}),(function(e,t,n){(function(r,i){var o;!(function(a){var s=function(e){this._res=e,this._isFulfilled=!!arguments.length,this._isRejected=!1,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[]};s.prototype={valueOf:function(){return this._res},isFulfilled:function(){return this._isFulfilled},isRejected:function(){return this._isRejected},isResolved:function(){return this._isFulfilled||this._isRejected},fulfill:function(e){this.isResolved()||(this._isFulfilled=!0,this._res=e,this._callCallbacks(this._fulfilledCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=void 0)},reject:function(e){this.isResolved()||(this._isRejected=!0,this._res=e,this._callCallbacks(this._rejectedCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=void 0)},notify:function(e){this.isResolved()||this._callCallbacks(this._progressCallbacks,e)},then:function(e,t,n,r){t&&!d(t)?(r=t,t=void 0):n&&!d(n)&&(r=n,n=void 0);var i,o=new s;return this._isRejected||(i={promise:o,fn:d(e)?e:void 0,ctx:r},this._isFulfilled?this._callCallbacks([i],this._res):this._fulfilledCallbacks.push(i)),this._isFulfilled||(i={promise:o,fn:t,ctx:r},this._isRejected?this._callCallbacks([i],this._res):this._rejectedCallbacks.push(i)),this.isResolved()||this._progressCallbacks.push({promise:o,fn:n,ctx:r}),o},fail:function(e,t){return this.then(void 0,e,t)},always:function(e,t){var n=this,r=function(){return e.call(this,n)};return this.then(r,r,t)},progress:function(e,t){return this.then(void 0,void 0,e,t)},spread:function(e,t,n){return this.then((function(t){return e.apply(this,t)}),t,n)},done:function(e,t,n,r){this.then(e,t,n,r).fail(l)},delay:function(e){var t,n=this.then((function(n){var r=new s;return t=setTimeout((function(){r.fulfill(n)}),e),r}));return n.always((function(){clearTimeout(t)})),n},timeout:function(e){var t=new s,n=setTimeout((function(){t.reject(Error("timed out"))}),e);return t.sync(this),t.always((function(){clearTimeout(n)})),t},sync:function(e){e.then(this.fulfill,this.reject,this.notify,this)},_callCallbacks:function(e,t){var n=e.length;if(n){var r=this.isResolved(),i=this.isFulfilled();c((function(){for(var o,a,s,c=0;c<n;)if(a=(o=e[c++]).promise,s=o.fn){var l,d=o.ctx;try{l=d?s.call(d,t):s(t)}catch(e){a.reject(e);continue}r?u.isPromise(l)?(function(e){l.then((function(t){e.fulfill(t)}),(function(t){e.reject(t)}),(function(t){e.notify(t)}))})(a):a.fulfill(l):a.notify(l)}else r?i?a.fulfill(t):a.reject(t):a.notify(t)}))}}};var u={Promise:s,promise:function(e){return arguments.length?u.isPromise(e)?e:new s(e):new s},when:function(e,t,n,r,i){return u.promise(e).then(t,n,r,i)},fail:function(e,t,n){return u.when(e,void 0,t,n)},always:function(e,t,n){return u.promise(e).always(t,n)},progress:function(e,t,n){return u.promise(e).progress(t,n)},spread:function(e,t,n,r){return u.promise(e).spread(t,n,r)},done:function(e,t,n,r,i){u.promise(e).done(t,n,r,i)},isPromise:function(e){return e&&d(e.then)},valueOf:function(e){return u.isPromise(e)?e.valueOf():e},isFulfilled:function(e){return!u.isPromise(e)||e.isFulfilled()},isRejected:function(e){return!!u.isPromise(e)&&e.isRejected()},isResolved:function(e){return!u.isPromise(e)||e.isResolved()},fulfill:function(e){return u.when(e,void 0,(function(e){return e}))},reject:function(e){return u.when(e,(function(e){var t=new s;return t.reject(e),t}))},resolve:function(e){return u.isPromise(e)?e:u.when(e)},invoke:function(e){try{return u.promise(e.apply(a,f.call(arguments,1)))}catch(e){return u.reject(e)}},forEach:function(e,t,n,r){for(var i=r?r.length:e.length,o=0;o<i;)u.when(e[r?r[o]:o],t,n),++o},all:function(e){var t=new s,n=h(e),r=n?m(e):v(e),i=r.length,o=n?[]:{};if(!i)return t.fulfill(o),t;var a=i;return u.forEach(e,(function(){if(!--a){for(var n=0;n<i;)o[r[n]]=u.valueOf(e[r[n++]]);t.fulfill(o)}}),(function(e){t.reject(e)}),r),t},allResolved:function(e){var t=new s,n=h(e),r=n?m(e):v(e),i=r.length,o=n?[]:{};if(!i)return t.fulfill(o),t;var a=function(){--i||t.fulfill(e)};return u.forEach(e,a,a,r),t},allPatiently:function(e){return u.allResolved(e).then((function(){var t,n,r,i,o=h(e),a=o?m(e):v(e),s=a.length,c=0;if(!s)return o?[]:{};for(;c<s;)r=a[c++],i=e[r],u.isRejected(i)?(t||(t=o?[]:{}),o?t.push(i.valueOf()):t[r]=i.valueOf()):t||((n||(n=o?[]:{}))[r]=u.valueOf(i));if(t)throw t;return n}))},any:function(e){var t=new s,n=e.length;if(!n)return t.reject(Error()),t;var r,i=0;return u.forEach(e,(function(e){t.fulfill(e)}),(function(e){i||(r=e),++i===n&&t.reject(r)})),t},delay:function(e,t){return u.promise(e).delay(t)},timeout:function(e,t){return u.promise(e).timeout(t)}},c=(function(){var e=[],t=function(t){return 1===e.push(t)},n=function(){var t=e,n=0,r=e.length;for(e=[];n<r;)t[n++]()};if("function"==typeof r)return function(e){t(e)&&r(n)};if("object"==typeof i&&i.nextTick)return function(e){t(e)&&i.nextTick(n)};if(a.postMessage){var o=!0;if(a.attachEvent){var s=function(){o=!1};a.attachEvent("onmessage",s),a.postMessage("__checkAsync","*"),a.detachEvent("onmessage",s)}if(o){var u="__promise"+ +new Date,c=function(e){e.data===u&&(e.stopPropagation&&e.stopPropagation(),n())};return a.addEventListener?a.addEventListener("message",c,!0):a.attachEvent("onmessage",c),function(e){t(e)&&a.postMessage(u,"*")}}}var l=a.document;if("onreadystatechange"in l.createElement("script")){return function(e){t(e)&&(function(){var e=l.createElement("script");e.onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,n()},(l.documentElement||l.body).appendChild(e)})()}}return function(e){t(e)&&setTimeout(n,0)}})(),l=function(e){c((function(){throw e}))},d=function(e){return"function"==typeof e},f=Array.prototype.slice,p=Object.prototype.toString,h=Array.isArray||function(e){return"[object Array]"===p.call(e)},m=function(e){for(var t=[],n=0,r=e.length;n<r;)t.push(n++);return t},v=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};e.exports=u,"object"==typeof modules&&modules.define("vow",(function(e){e(u)})),void 0===(o=function(e,t,n){n.exports=u}.call(t,n,t,e))||(e.exports=o),!1&&(a.Vow=u)})(this)}).call(this,n(524).setImmediate,n(294))}),(function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))}),(function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(110))}),(function(e,t,n){(function(t,n){e.exports=(function(){"use strict";var e=void 0;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e||void 0===t||"node"!==t.title||(e=n);var r=e=e||function(e){window.setTimeout(e,1e3/60)},i=Array.prototype.concat,o=Array.prototype.slice;function a(e){return r(e)}function s(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var u={};function c(e){if(u[e])return u[e];var t=e.replace("#","");3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=t.match(/.{2}/g);if(!n||n.length<3)throw new Error("Expected a color string of format #rrggbb");var r={r:parseInt(n[0],16),g:parseInt(n[1],16),b:parseInt(n[2],16)};return u[e]=r,r}function l(e,t,n){var r=e.toString(16),i=t.toString(16),o=n.toString(16);return r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,o=o.length<2?"0"+o:o,"#"+r+i+o}var d=Object.freeze({bind:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return function(){for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];e.apply(t,i.call(r,o.call(a)))}},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},onFrame:a,removeFirst:s,hexToRGB:c,rgbToHex:l});function f(e,t,n,r,i){var o=n-t,a=i-r,s=(e-t)/o;return r+s*a}var p=Object.freeze({mapValueInRange:f,interpolateColor:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments[5],a=c(t),s=c(n),u=Math.floor(f(e,r,i,a.r,s.r)),d=Math.floor(f(e,r,i,a.g,s.g)),p=Math.floor(f(e,r,i,a.b,s.b));return o?"rgb("+u+","+d+","+p+")":l(u,d,p)},degreesToRadians:function(e){return e*Math.PI/180},radiansToDegrees:function(e){return 180*e/Math.PI}});function h(e){return 3.62*(e-30)+194}function m(e){return 3*(e-8)+25}var v=Object.freeze({tensionFromOrigamiValue:h,origamiValueFromTension:function(e){return(e-194)/3.62+30},frictionFromOrigamiValue:m,origamiFromFriction:function(e){return(e-25)/3+8}}),g=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=(function(){function e(){g(this,e),this.springSystem=null}return e.prototype.run=function(){var e=E.call(this);a((function(){e.loop(Date.now())}))},e})(),_=(function(){function e(t){g(this,e),this.springSystem=null,this.time=0,this.running=!1,this.timestep=t||16.667}return e.prototype.run=function(){var e=E.call(this);if(!this.running){for(this.running=!0;!e.getIsIdle();)e.loop(this.time+=this.timestep);this.running=!1}},e})(),O=(function(){function e(){g(this,e),this.springSystem=null,this.time=0,this.running=!1}return e.prototype.run=function(){},e.prototype.step=function(e){var t=E.call(this);t.loop(this.time+=e)},e})();function E(){if(null==this.springSystem)throw new Error("cannot run looper without a springSystem");return this.springSystem}var w=Object.freeze({AnimationLooper:b,SimulationLooper:_,SteppingSimulationLooper:O}),S=(function(){function e(t,n){g(this,e),this.bounciness=t,this.speed=n;var r=this.normalize(t/1.7,0,20);r=this.projectNormal(r,0,.8);var i=this.normalize(n/1.7,0,20);this.bouncyTension=this.projectNormal(i,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(r,this.b3Nobounce(this.bouncyTension),.01)}return e.prototype.normalize=function(e,t,n){return(e-t)/(n-t)},e.prototype.projectNormal=function(e,t,n){return t+e*(n-t)},e.prototype.linearInterpolation=function(e,t,n){return e*n+(1-e)*t},e.prototype.quadraticOutInterpolation=function(e,t,n){return this.linearInterpolation(2*e-e*e,t,n)},e.prototype.b3Friction1=function(e){return 7e-4*Math.pow(e,3)-.031*Math.pow(e,2)+.64*e+1.28},e.prototype.b3Friction2=function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2},e.prototype.b3Friction3=function(e){return 4.5e-7*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84},e.prototype.b3Nobounce=function(e){return e<=18?this.b3Friction1(e):e>18&&e<=44?this.b3Friction2(e):this.b3Friction3(e)},e})(),C=(function(){function e(t,n){g(this,e),this.tension=t,this.friction=n}return e.fromOrigamiTensionAndFriction=function(t,n){return new e(h(t),m(n))},e.fromBouncinessAndSpeed=function(t,n){var r=new S(t,n);return e.fromOrigamiTensionAndFriction(r.bouncyTension,r.bouncyFriction)},e.coastingConfigWithOrigamiFriction=function(t){return new e(0,m(t))},e})();C.DEFAULT_ORIGAMI_SPRING_CONFIG=C.fromOrigamiTensionAndFriction(40,7);var x=function e(){g(this,e),this.position=0,this.velocity=0},T=(function(){function e(t){g(this,e),this.listeners=[],this._startValue=0,this._currentState=new x,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new x,this._restSpeedThreshold=.001,this._tempState=new x,this._timeAccumulator=0,this._wasAtRest=!0,this._id="s"+e._ID++,this._springSystem=t}return e.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},e.prototype.getId=function(){return this._id},e.prototype.setSpringConfig=function(e){return this._springConfig=e,this},e.prototype.getSpringConfig=function(){return this._springConfig},e.prototype.setCurrentValue=function(e,t){return this._startValue=e,this._currentState.position=e,t||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},e.prototype.getStartValue=function(){return this._startValue},e.prototype.getCurrentValue=function(){return this._currentState.position},e.prototype.getCurrentDisplacementDistance=function(){return this.getDisplacementDistanceForState(this._currentState)},e.prototype.getDisplacementDistanceForState=function(e){return Math.abs(this._endValue-e.position)},e.prototype.setEndValue=function(e){if(this._endValue===e&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=e,this._springSystem.activateSpring(this.getId());for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t],i=r.onSpringEndStateChange;i&&i(this)}return this},e.prototype.getEndValue=function(){return this._endValue},e.prototype.setVelocity=function(e){return e===this._currentState.velocity?this:(this._currentState.velocity=e,this._springSystem.activateSpring(this.getId()),this)},e.prototype.getVelocity=function(){return this._currentState.velocity},e.prototype.setRestSpeedThreshold=function(e){return this._restSpeedThreshold=e,this},e.prototype.getRestSpeedThreshold=function(){return this._restSpeedThreshold},e.prototype.setRestDisplacementThreshold=function(e){this._displacementFromRestThreshold=e},e.prototype.getRestDisplacementThreshold=function(){return this._displacementFromRestThreshold},e.prototype.setOvershootClampingEnabled=function(e){return this._overshootClampingEnabled=e,this},e.prototype.isOvershootClampingEnabled=function(){return this._overshootClampingEnabled},e.prototype.isOvershooting=function(){var e=this._startValue,t=this._endValue;return this._springConfig.tension>0&&(e<t&&this.getCurrentValue()>t||e>t&&this.getCurrentValue()<t)},e.prototype.advance=function(t,n){var r=this.isAtRest();if(!r||!this._wasAtRest){var i=n;n>e.MAX_DELTA_TIME_SEC&&(i=e.MAX_DELTA_TIME_SEC),this._timeAccumulator+=i;for(var o=this._springConfig.tension,a=this._springConfig.friction,s=this._currentState.position,u=this._currentState.velocity,c=this._tempState.position,l=this._tempState.velocity,d=void 0,f=void 0,p=void 0,h=void 0,m=void 0,v=void 0,g=void 0,y=void 0,b=void 0;this._timeAccumulator>=e.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=e.SOLVER_TIMESTEP_SEC,this._timeAccumulator<e.SOLVER_TIMESTEP_SEC&&(this._previousState.position=s,this._previousState.velocity=u),d=u,f=o*(this._endValue-c)-a*u,c=s+d*e.SOLVER_TIMESTEP_SEC*.5,l=u+f*e.SOLVER_TIMESTEP_SEC*.5,p=l,h=o*(this._endValue-c)-a*l,c=s+p*e.SOLVER_TIMESTEP_SEC*.5,l=u+h*e.SOLVER_TIMESTEP_SEC*.5,m=l,v=o*(this._endValue-c)-a*l,c=s+m*e.SOLVER_TIMESTEP_SEC,l=u+v*e.SOLVER_TIMESTEP_SEC,g=l,y=o*(this._endValue-c)-a*l,b=1/6*(f+2*(h+v)+y),s+=1/6*(d+2*(p+m)+g)*e.SOLVER_TIMESTEP_SEC,u+=b*e.SOLVER_TIMESTEP_SEC;this._tempState.position=c,this._tempState.velocity=l,this._currentState.position=s,this._currentState.velocity=u,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/e.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),r=!0);var _=!1;this._wasAtRest&&(this._wasAtRest=!1,_=!0);var O=!1;r&&(this._wasAtRest=!0,O=!0),this.notifyPositionUpdated(_,O)}},e.prototype.notifyPositionUpdated=function(e,t){for(var n=0,r=this.listeners.length;n<r;n++){var i=this.listeners[n];e&&i.onSpringActivate&&i.onSpringActivate(this),i.onSpringUpdate&&i.onSpringUpdate(this),t&&i.onSpringAtRest&&i.onSpringAtRest(this)}},e.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},e.prototype.wasAtRest=function(){return this._wasAtRest},e.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},e.prototype.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},e.prototype._interpolate=function(e){this._currentState.position=this._currentState.position*e+this._previousState.position*(1-e),this._currentState.velocity=this._currentState.velocity*e+this._previousState.velocity*(1-e)},e.prototype.getListeners=function(){return this.listeners},e.prototype.addListener=function(e){return this.listeners.push(e),this},e.prototype.removeListener=function(e){return s(this.listeners,e),this},e.prototype.removeAllListeners=function(){return this.listeners=[],this},e.prototype.currentValueIsApproximately=function(e){return Math.abs(this.getCurrentValue()-e)<=this.getRestDisplacementThreshold()},e})();T._ID=0,T.MAX_DELTA_TIME_SEC=.064,T.SOLVER_TIMESTEP_SEC=.001;var P=(function(){function e(t){g(this,e),this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={},this.looper=t||new b,this.looper.springSystem=this}return e.prototype.setLooper=function(e){this.looper=e,e.springSystem=this},e.prototype.createSpring=function(e,t){var n=void 0;return n=void 0===e||void 0===t?C.DEFAULT_ORIGAMI_SPRING_CONFIG:C.fromOrigamiTensionAndFriction(e,t),this.createSpringWithConfig(n)},e.prototype.createSpringWithBouncinessAndSpeed=function(e,t){var n=void 0;return n=void 0===e||void 0===t?C.DEFAULT_ORIGAMI_SPRING_CONFIG:C.fromBouncinessAndSpeed(e,t),this.createSpringWithConfig(n)},e.prototype.createSpringWithConfig=function(e){var t=new T(this);return this.registerSpring(t),t.setSpringConfig(e),t},e.prototype.getIsIdle=function(){return this._isIdle},e.prototype.getSpringById=function(e){return this._springRegistry[e]},e.prototype.getAllSprings=function(){var e=[];for(var t in this._springRegistry)this._springRegistry.hasOwnProperty(t)&&e.push(this._springRegistry[t]);return e},e.prototype.registerSpring=function(e){this._springRegistry[e.getId()]=e},e.prototype.deregisterSpring=function(e){s(this._activeSprings,e),delete this._springRegistry[e.getId()]},e.prototype.advance=function(e,t){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var n=0,r=this._activeSprings.length;n<r;n++){var i=this._activeSprings[n];i.systemShouldAdvance()?i.advance(e/1e3,t/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(i))}for(;this._idleSpringIndices.length>0;){var o=this._idleSpringIndices.pop();o>=0&&this._activeSprings.splice(o,1)}},e.prototype.loop=function(e){var t=void 0;-1===this._lastTimeMillis&&(this._lastTimeMillis=e-1);var n=e-this._lastTimeMillis;this._lastTimeMillis=e;var r=0,i=this.listeners.length;for(r=0;r<i;r++)(t=this.listeners[r]).onBeforeIntegrate&&t.onBeforeIntegrate(this);for(this.advance(e,n),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),r=0;r<i;r++)(t=this.listeners[r]).onAfterIntegrate&&t.onAfterIntegrate(this);this._isIdle||this.looper.run()},e.prototype.activateSpring=function(e){var t=this._springRegistry[e];-1===this._activeSprings.indexOf(t)&&this._activeSprings.push(t),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){s(this.listeners,e)},e.prototype.removeAllListeners=function(){this.listeners=[]},e})();return y({},w,{OrigamiValueConverter:v,MathUtil:p,Spring:T,SpringConfig:C,SpringSystem:P,util:y({},d,p)})})()}).call(this,n(294),n(524).setImmediate)}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(53),i=n(43);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=t.getFullYear(),o=t.getMonth(),a=new Date(0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}}),(function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(493),a=n(97),s=n(1610),u=r(n(14)),c=n(148),l=r(n(9)),d=n(59),f=n(13),p=n(95),h=r(n(35)),m=r(n(54)),v=n(39),g=n(15),y=n(376),b=n(29),_=n(42),O=n(17),E=n(15),w=n(351),S=n(15),C=r(n(23)),x=100,T=40;function*P(e){const{config:{urlsBase:{hostCloudAPI:t},idClient:n}}=yield i.select();return yield i.call(s.openDatabase,{apiHost:t,databaseId:`.ext.yadisk@docs_${e}`,session:n})}const k=e=>o.eventChannel(t=>{const n=e=>{t(e)};return e.on("update",n),()=>{e.off("update",n)}},o.buffers.expanding()),j=e=>{const t=[];return e.forEach("docs",e=>{t.push(l.default.pick(s.processRecord(e),"resource_id","ts","office_online_sharing_url","pinned","recordId"))}),t};function*R(e,t){var n;if(t.length)try{const r=yield i.call(P,e),o=[];r.forEach("docs",e=>{t.includes(e.getRecordId())&&o.push(e)}),yield r.createTransaction().deleteRecords(o).push()}catch(r){console.error("Delete missing failed:",r),null===(n=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===n||n.logError({message:(null===r||void 0===r?void 0:r.message)||"unknown",source:"docs",sourceMethod:"delete_missing_failed",level:Ya.Rum.ERROR_LEVEL.WARN,additional:{type:e,recordIds:t}},r)}}function*I(e,t){const n=l.default.chunk(e,x).map(e=>i.call(p.api,"mpfs/docs-resources",{docs:e})),r=l.default.flatten(yield i.all(n)),o=yield i.select(),a={},s=(yield i.call(h.default.preprocessResources,r,o)).filter(e=>{var t;const n=!(null===(t=e.state)||void 0===t?void 0:t.hidden);return a[e.recordId]=!0,n}),u=e.reduce((e,t)=>{const n=t.resource_id||t.office_online_sharing_url;return n&&(e[n]=t),e},{}),d={},f={},m=e=>{const t=f[e.meta.resource_id]||[];t.some(t=>t.openInEditorTimestamp===e.openInEditorTimestamp)||(f[e.meta.resource_id]=[...t,e])};s.forEach(e=>{const t=e.isVicariousDoc?e.meta.office_online_sharing_url:e.meta.resource_id,n=u[t];e.openInEditorTimestamp=n.ts,e.pinned=n.pinned,e.recordId=n.recordId,d[t]=!0,m(e)});const{docs:{lists:v},resources:g}=o;v[t].items.forEach(e=>{m(g[e])});const y=e.filter(e=>{const t=e.resource_id||e.office_online_sharing_url;return t&&!d[t]}),b=y.map(e=>e.recordId),_=[],O=[];return Object.values(f).forEach(e=>{e.length>1&&e.sort((e,t)=>t.openInEditorTimestamp-e.openInEditorTimestamp).slice(1).forEach(({recordId:e,id:t})=>{_.push(e),O.push(t)})}),(y.length||O.length)&&c.log({event:"removeDocs",missing:y.map(e=>e.resource_id||e.office_online_sharing_url).join(),duplicated:O.join()}),yield i.call(R,t,l.default.uniq([...b,..._])),{resources:s,duplicatedResourcesIds:O,filteredRecords:a}}function*A({type:e,ids:t,resources:n,docs:r}){yield i.put(a.updateList({type:e,ids:t,resources:n,totalItems:r.length,totalMyItems:r.filter(e=>Boolean(e.resource_id)).length,totalOtherItems:r.filter(e=>!e.resource_id).length}))}function*D(){const e=yield i.select(v.currentDocsType),t=yield i.call(P,e),n=yield i.call(k,t);for(;;){yield i.take(n);const{resources:r,docs:{lists:o}}=yield i.select(),a=o[e].items,s=[],u={},c=j(t),l=c.reduce((e,t)=>(e[t.recordId]=t,e),{});a.forEach(e=>{const t=r[e],n=t.isVicariousDoc?t.meta.office_online_sharing_url:t.meta.resource_id;u[n]=!0,l[t.recordId]&&s.push(Object.assign(Object.assign({},t),{pinned:l[t.recordId].pinned,openInEditorTimestamp:l[t.recordId].ts}))});const d=c.filter(({resource_id:e,office_online_sharing_url:t})=>{const n=e||t;return n&&!u[n]});let f=[...a],p=[],h=[],m={};if(d.length){const t=yield i.call(I,d,e);p=t.resources,h=t.duplicatedResourcesIds;const n=p.map(e=>e.id);f.push(...n),m=t.filteredRecords}f=f.filter(e=>!h.includes(e)),yield i.call(A,{type:e,ids:f,resources:[...p,...s],docs:c.filter(({recordId:e})=>!m[e])})}}function*M({initial:e=!1}={}){var t;const n=yield i.select(v.currentDocsType),r=yield i.select(v.isPortionsSupported);try{const{items:o}=yield i.select(v.docsList),s=yield i.select(v.docsListIsComplete),u=yield i.select(v.docsListIsLoading);if(s||u&&!e)return;yield i.put(a.setIsLoading({type:n,isLoading:!0}));const c=yield i.call(P,n),l=j(c),{order:d}=yield i.select(v.sortingType);let f=[];if(r){const e=l.filter(e=>e.pinned).sort((e,t)=>Number(e.pinned)-Number(t.pinned)),t=l.filter(e=>!e.pinned).sort((e,t)=>{const n=Number(null===e||void 0===e?void 0:e.ts)-Number(null===t||void 0===t?void 0:t.ts);return d===y.SortOrder.ASC?isNaN(n)?-1:n:isNaN(n)?1:-n});f=[...e,...t].slice(o.length,o.length+T)}else f=l;const{resources:p,duplicatedResourcesIds:h}=yield i.call(I,f,n),g=p.map(e=>e.id).filter(e=>!h.includes(e));yield i.call(A,{type:n,ids:r?[...o,...g]:g,resources:p,docs:l})}catch(o){yield i.call(m.default.go,"/client/error","preserve",{reason:"docs_fetch_next_error",error:o}),null===(t=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===t||t.logError({message:(null===o||void 0===o?void 0:o.message)||"unknown",source:"docs",sourceMethod:"docs_fetch_next_error",level:Ya.Rum.ERROR_LEVEL.ERROR,additional:{loadByPortions:r,initial:e,type:n}},o)}}function*N(){var e;try{yield i.call(M,{initial:!0}),yield i.spawn(D)}catch(t){yield i.call(m.default.go,"/client/error","preserve",{reason:"docs_fetch_error",error:t}),null===(e=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===e||e.logError({message:(null===t||void 0===t?void 0:t.message)||"unknown",source:"docs",sourceMethod:"docs_fetch_error",level:Ya.Rum.ERROR_LEVEL.ERROR},t)}}function*L(){(yield i.select(v.isPortionsSupported))||(yield i.call(M))}function*F({payload:e}){yield i.put(d.saveSettings({key:"docsView",value:e}))}function*B(e){yield i.put(_.notify({operation:"docsError",message:e}))}function*U({payload:e}){const{resources:t}=yield i.select();let n,r;try{const o=yield i.select(v.currentDocsType),a=yield i.call(P,o);a.forEach("docs",i=>{const o=s.processRecord(i);n||o.recordId!==t[e].recordId||(n=i,r=o.pinned)}),r||u.default.countDocs("pin doc");const c=r?0:Number(new Date);yield i.put(S.updateResources([{id:e,pinned:c}]));const l=a.createTransaction();n&&l.updateRecordFields(n,{pinned:c}),yield l.push()}catch(t){console.error(t),r?yield i.call(B,"Не удалось открепить файл"):yield i.call(B,"Не удалось закрепить файл"),yield i.put(S.updateResources([{id:e,pinned:r}]))}}function*z({payload:{id:e,status:t}}){const n=yield i.select(),r=v.isDocsPage(n),o=t===O.UPLOAD_STATUSES.DONE||t===O.UPLOAD_STATUSES.CANCELED;if(r&&o)try{const{resources:t}=yield i.select(),{meta:n,ext:r}=t[e];let o=n.resource_id;if(!o)for(yield i.put(E.fetchSingleResource(e));;){const{payload:{resources:t}}=yield i.take(f.UPDATE_RESOURCES),n=t.find(t=>{var n;return t.id===e&&(null===(n=t.meta)||void 0===n?void 0:n.resource_id)});if(n){o=n.meta.resource_id;break}}const a=w.getDocsTypeByExt(r);a&&(yield i.call(p.api,"cloud/add-to-docs",{resource_id:o,type:a}))}catch(e){console.error(e)}}function*V({payload:e}){const t=yield i.select(v.currentDocsType),n=yield i.select(v.isDocsView),r=w.getDocsTypeByExt(e);r&&(n||r!==t)&&(yield i.put(b.goToUrl(`/docs?type=${r}`)))}function*H({payload:e}){const t=yield i.select();if(!v.isDocsPage(t)||!e)return;const n={};if(e.forEach(e=>{const t=w.getExtByFileName(e.name);if(t){const e=w.getDocsTypeByExt(t);e&&(n[e]=!0)}}),1===Object.keys(n).length){const t=w.getExtByFileName(e[0].name);t&&(yield i.call(V,{payload:t,type:""}))}}function*W(){yield i.call(B,"Загружать можно только документы.")}function*$({payload:{id:e,openOnLoad:t}}){const n=yield i.select(v.currentDocsType),{resources:r}=yield i.select();try{const o=r[e],{name:s,meta:{resource_id:u}}=o,c=C.default.extname(s);let l;if(c&&(l=w.getDocsTypeByExt(c)),u&&(t&&(yield i.put(g.openOrEditResource(e))),l)){yield i.call(p.api,"cloud/add-to-docs",{resource_id:u,type:l});const e=yield i.select(v.isDocsView);n===l||e||(yield i.put(a.changeDocsPageType(l)))}}catch(e){console.error(e),yield i.call(B,"Не удалось загрузить файл")}}function*G({payload:e}){yield i.put(b.goToUrl(`/docs?type=${e}`))}function*q({payload:e}){const{resources:t}=yield i.select(),n=yield i.select(v.currentDocsType);yield i.put(a.removeItem({id:e,type:n})),yield i.call(R,n,[t[e].recordId])}function*Y({payload:{resources:e}}){yield i.put(a.moveClonedResources(e))}function*K({payload:{src:e,dst:t}}){yield i.put(a.moveClonedResources([{src:t,dst:e}]))}function*J({payload:{id:e,data:t}}){if(t.recordId){const n=yield i.select(),r=v.getResourceType(e,n);r&&(yield i.put(a.removeItem({id:e,type:r})),yield i.call(R,r,[t.recordId]))}}t.default=function*(){yield i.all([i.takeLatest(a.maybeFetchDocs,N),i.takeLatest(a.fetchNextDocs,M),i.takeEvery(a.setSortingType,L),i.takeEvery(a.setListingType,F),i.takeEvery(a.remoteTogglePinDoc,U),i.takeEvery(f.UPDATE_UPLOADING_STATE,z),i.takeEvery(a.goToDocsPageByExt,V),i.takeEvery(a.showNotAllowedExtNotification,W),i.takeEvery(a.addDocFromDisk,$),i.takeEvery(a.removeFromDocs,q),i.takeEvery(f.MOVE_CLONED_RESOURCES,Y),i.takeEvery(f.CANCEL_MOVE_CLONED_RESOURCE,K),i.takeEvery(f.DESTROY_RESOURCE,J),i.takeEvery(a.redirectToDocsPageOnLoadFiles,H),i.takeEvery(a.changeDocsPageType,G)])}}),(function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof t&&(i=t,t={}),t=t||{},i=i||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&(function(e,t){for(var n in t)e.setAttribute(n,t[n])})(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?n:r)(a,i),a.onload||n(a,i),o.appendChild(a)}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(9)),o=n(13),a=n(58),s=n(44),u=n(576),c=n(493),l=n(41),d=r(n(54));function*f(){(yield l.select(a.shouldShowFamilySlice))&&(yield l.put({type:o.UPDATE_DEFAULT_FOLDERS,payload:{familyFolders:!0}}))}function*p(){if(yield l.select(a.shouldCheckFamilySlice)){const e=yield l.getContext("rawFetchModel");try{const t=yield l.call(e,"getFamilySlice",{},{retryOffline:!0});(yield l.select(a.isFamilySliceVisible)!==t)&&(t||"/family"!==(yield l.select(s.getIdContext))||(yield l.call(d.default.go,"/client/shared","replace")),yield l.put({type:o.UPDATE_DEFAULT_FOLDERS,payload:{familyFolders:t}}))}catch(e){console.error(e)}}}const h=c.channel();function*m(){const{addEventListener:e}=n(611);e(e=>{h.put(e)})}function*v(e){const t=i.default.get(e,["root","tag"]),n=i.default.get(e,["root","parameters","type"]),r=i.default.get(e,["root","parameters","oid"]);try{if("operation"===t&&"created"===n){const e=ns.Model.get("queueRequest"),t=yield l.call([e,e.push],{id:"do-status-operation",params:{oid:r}}),n=i.default.get(t,["data","type"]),o=i.default.get(t,["data","status"]),a=i.default.get(t,["data","params","path"]);"shared_invites"===n&&"DONE"===o&&(yield l.call(g,{payload:a}))}}catch(e){console.error(e)}}function*g({payload:e}){try{const t=yield l.getContext("dispatch"),n=yield l.getContext("getState"),r=u.watchFamilyFolder(e);yield l.call(r,t,n)}catch(e){console.error(e)}}function*y(){yield l.take("*"),yield l.call(m)}t.default=function*(){yield l.fork(y),yield l.all([l.takeEvery(h,v),l.takeEvery([o.CREATE_RESOURCES,o.UPDATE_INVITES_TO_FOLDERS,o.UPDATE_INVITE_TO_FOLDER],f),l.takeLatest([o.DESTROY_RESOURCE,o.UPDATE_INVITES_TO_FOLDERS,o.UPDATE_INVITE_TO_FOLDER,o.REMOVE_INVITE_TO_FOLDER],p)])}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(9)),o=n(493),a=n(13),s=n(295),u=n(102),c=n(41),l=n(95),d=n(275),f=r(n(54)),p=n(190),h=n(44),m=n(753),v=n(405);function*g(){const e=yield c.select(m.getJournalId),t=yield c.select(u.getUser),n=yield c.select(m.getJournalFilterUntilDate),{pddOrgId:r}=t;return{org_id:r,vd_hash:e===d.personalJournalId?null:e,page_load_date:new Date(n).toISOString()}}function*y(e,t){const n=yield c.call(g),r=yield c.select(m.getJournalFilterEventType),i=yield c.select(m.getJournalFilterFolder),o=yield c.select(m.getJournalFilterText),a=yield c.select(m.getJournalFilterPlatform);return Object.assign(Object.assign({},n),{offset:e,text:o,folder:i,platform:a,limit:d.portionSize,event_type:r.join(","),limit_per_group:d.eventsSize,counters_date:t?(new Date).toISOString():void 0,tz_offset:60*(new Date).getTimezoneOffset()*1e3})}function*b(e){const t=yield c.call(g);return Object.assign(Object.assign({},t),{limit:d.eventsSize,offset:e.events.length,end_date:e.group.min_date,start_date:e.group.max_date,event_group_key:e.group.event_group_key})}function*_(e){const t=yield c.select(m.getJournalState);t!==s.JournalState.failed&&t!==s.JournalState.initial||(yield c.put(v.initJournal({id:e,filters:p.getFiltersFromUrl(new URL(yield c.select(i.default.property("page.currentUrl"))))})))}const O=new Map,E=new Map,w=new Map;function*S(e){const{payload:{id:t,groupId:n}}=e,r=yield c.select(m.getJournal),i=p.getGroupById(r.journal,n);try{const e=yield c.call(b,i),r=yield c.call(l.api,"cloud/virtual-disk-journal-group",e);yield c.put(v.appendJournalGroup({id:t,groupId:n,events:r}))}catch(e){yield c.put(v.fetchJournalGroupFailed({id:t,groupId:n}))}finally{w.delete(i.group.id)}}function*C(e,t){const{payload:{id:n,append:r}}=t;if(r)O.has(n)||E.set(n,yield c.fork(T,t));else{const t=O.get(n),r=E.get(n);t&&(yield c.cancel(t)),r&&(yield c.cancel(r));for(const e of Array.from(w.values()))yield c.cancel(e);O.set(n,yield c.fork(x,n,e))}}function*x(e,t){const n=yield c.call(y,0,t);try{const r=[c.call(l.api,"cloud/virtual-disk-journal",n)].concat(t?c.call(l.api,"cloud/virtual-disk-journal-counters",n):[]),i=yield c.all(r),[o]=i;if(yield c.put(v.setJournal({id:e,journal:o})),t){const[,{eventTypes:t,platforms:n}]=i;yield c.put(v.setJournalCounters({id:e,eventTypes:Object.keys(t),platforms:Object.keys(n)}))}}catch(e){yield c.call(f.default.go,"/client/error","preserve",{reason:"vd_journal_fetch_error",error:e}),e instanceof Error&&setTimeout(()=>{throw e},0)}finally{O.delete(e)}}function*T({payload:{id:e}}){const t=yield c.select(m.getJournalLoadedEventsCount),n=yield c.call(y,t);try{const t=yield c.call(l.api,"cloud/virtual-disk-journal",n);yield c.put(v.appendJournal({id:e,journal:t}))}catch(e){}finally{E.delete(e)}}function*P(e,t,n){if(t.payload.idContext!==(null===n||void 0===n?void 0:n.payload.idContext)){const t=yield c.select(m.getJournalState),n=p.getFiltersFromUrl(new URL(yield c.select(i.default.property("page.currentUrl")))),r=yield c.select(m.getJournalFilters),o=p.areFiltersEqual(n,r);if(t===s.JournalState.created)yield c.put(v.fetchJournal({id:e}));else if(t!==s.JournalState.created){const t=Boolean(Object.keys(n));t||o?t&&o?yield c.put(v.fetchJournal({id:e})):t&&!o&&(yield c.put(v.setJournalFilter({id:e,filters:n,reset:!0}))):yield c.put(v.setJournalFilter({id:e,filters:{},reset:!0}))}}}function*k(e,t,n){if(t.payload.idContext===(null===n||void 0===n?void 0:n.payload.idContext)){const t=p.getFiltersFromUrl(new URL(yield c.select(i.default.property("page.currentUrl")))),n=yield c.select(m.getJournalFilters);p.areFiltersEqual(t,n)||(yield c.put(v.setJournalFilter({id:e,filters:t,reset:!0})))}}function*j(){f.default.go(p.generateUrl(yield c.select(m.getUrlFilters)),"push")}function*R(e,t){if(yield c.select(m.shouldFetchJournal)){const n=yield c.select(m.getJournalId),r=e.take();yield c.call(_,n),yield c.call(P,n,t,r),yield c.call(k,n,t,r)}e.put(t)}function*I(){let e=!1;const t=o.buffers.sliding(1);for(;;)if(e){const e=yield c.take(a.UPDATE_PAGE);yield c.call(R,t,e)}else{yield c.take(v.journalMounted.type);const n={type:"PAGE_UPDATE",payload:{idContext:yield c.select(h.getIdContext)}};e=!0,yield c.call(R,t,n)}}t.updateGroupEvents=function*(e){const{payload:{groupId:t}}=e;w.has(t)||w.set(t,yield c.fork(S,e))},t.fetchGroupEvents=S,t.updateJournal=C,t.fetchJournal=x,t.appendJournal=T,t.maybeFetchJournal=P,t.maybeUpdateFiltersFromUrl=k,t.updateUrlFilters=j,t.checkJournalUpdates=R,t.watchNavigation=I,t.default=function*(){yield c.all([c.takeEvery(v.fetchJournal,C,!0),c.takeEvery(v.setJournalFilter,C,!1),c.takeEvery(v.setJournalFilter,j),c.takeEvery(v.fetchJournalGroup,S)]),yield c.fork(I)}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=n(41),a=n(1615),s=n(1031),u=i(n(1676)),c=n(224),l=n(490),d=n(577),f=n(786);t.getPromozavrData=function*(){if(!(yield o.select(l.shouldShowPromozavr)))return;const e=yield o.select(e=>e.user.uid),t=f.getLogger(),n=yield o.select(l.getPromozavrConfig);try{const i=yield o.call(a.getConfig,n),p=l.getProject(),h=yield o.select(l.getServerDate),m=l.makeGetNow(h),v=yield o.select(l.getBillingProducts),g=()=>r(this,void 0,void 0,(function*(){return v.product_sets})),y=yield o.select(l.getPlugins),b=yield o.select(l.getLang),_=yield o.select(l.getWebApiUrl),O=yield o.select(e=>e.config.urlsBase["cloud-api"]),E=f.getDsClient(O,e),w=new s.PromoSelector({project:p,lang:b,getNow:m,config:i.config,dsClient:E,logger:t,plugins:y,getBillingData:g,uid:e,webApiUrl:_}),S=yield o.select(l.getUserInfo,i.userConfig),C=yield o.call([w,w.selectPromo],S,{stage:c.Stage["page-init"]}),x=yield o.select(e=>e.page.originalNSParams.promozavr||e.page.originalNSParams.promo),T=u.getActualKeysetsByQueues(i,[c.Project.diskDesktop,c.Project.diskTouch],x,!1);yield o.put(d.setCurrentPromo(C)),yield o.put(d.setTranslations({keysets:T})),yield o.put(d.setImages(i.images)),yield o.put(d.setFetchCompleted())}catch(e){t.error(e)}},t.default=function*(){"undefined"!=typeof window&&(yield o.spawn(t.getPromozavrData))}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=r(n(9)),a=n(144),s=n(34),u=r(n(14)),c=n(42),l=n(1055),d=n(39),f=n(91);function p(e,t){var n;console.error(e),null===(n=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===n||n.logError({message:(null===e||void 0===e?void 0:e.message)||"unknown",source:"notifications",sourceMethod:t,level:Ya.Rum.ERROR_LEVEL.ERROR},e)}const h=(e,t)=>{if(e.recordId)return!0;const{docs:{lists:n}}=t;return Object.keys(n).some(t=>n[t].items.includes(e.id))};function m(e,t){var n;const r=o.default.cloneDeep(t);return(null===(n=e.src)||void 0===n?void 0:n.type)!==r.typeResources&&(r.typeResources="mix"),r.count=(r.count||1)+1,r}function*v(){const e=yield i.select(l.getProcessingNotifications);if("1"!==(yield i.select(e=>e.environment.agent.isHermione))&&e.length===s.NOTIFICATIONS.LIMIT)return;const t=yield i.select(l.getNotifications);if(!t.length)return;const n=t[0];if(n.operation){let e=n.operation;n.reverse&&(e=`un${a.capitalize(e)}`),u.default.count("notifications",`operation ${e}`,n.status)}yield i.put(c.processNotification(n))}function*g({payload:e}){var t;try{const n=yield i.select();if(!(function(e,t){if(t.operation===f.Operations.publish&&t.status===f.Status.done&&!t.reverse)return!1;if(!d.isDocsPage(e)||t.operation===f.Operations.docsError)return!0;const{src:n,dst:r,operation:i}=t;return!(!d.isDocsView(e)||t.operation!==f.Operations.publish||d.getViewFileDetails(e).fileId!==(null===n||void 0===n?void 0:n.id))||i&&f.OPERATIONS_ALLOWED_IN_DOCS.includes(f.Operations[i])&&(n&&h(n,e)||r&&h(r,e))})(n,e))return;e.id||(e.id=o.default.uniqueId());const r=d.isDocsPage(n)?n.config.urlsBase.disk:"";if(e.linksHost=r,e.gid){const t=t=>e.gid===t.gid&&e.status===t.status,r=n.notifications.queue.find(t);if(r)return void(yield i.put(c.updateNotification({changedNotify:m(e,r),type:"queue"})));const o=n.notifications.itemsProcessing.find(t);if(o)return void(yield i.put(c.updateNotification({changedNotify:m(e,o),type:"itemsProcessing"})))}e.typeResources||(e.typeResources=null===(t=e.src)||void 0===t?void 0:t.type),yield i.put(c.addToQueue(e)),yield v()}catch(e){p(e,"addNotification")}}function*y({payload:e}){try{yield i.put(c.shiftNotification(e)),yield v()}catch(e){p(e,"removeNotificationSaga")}}t.default=function*(){yield i.takeEvery(c.notify.type,g),yield i.takeEvery(c.removeNotification.type,y)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41),i=n(209);function*o(){const e=Date.now();try{const{response:t}=yield r.race({cancel:r.take(i.sliderFirstPreviewStarted),response:r.take(i.sliderFirstPreviewFinished)});if(t){const{payload:{timing:n}}=t;Ya.Rum.sendDelta("image.show",n-e)}}catch(e){}}function*a(){const e=Date.now();try{const{response:t}=yield r.race({cancel:r.take(i.diskSearchStarted),response:r.take(i.diskSearchFinished)});if(t){const{payload:{timing:n}}=t;Ya.Rum.sendDelta("disk.search",n-e)}}catch(e){}}function*s(){const e=Date.now();try{const{response:t}=yield r.race({cancel:r.take(i.shareLinkStarted),response:r.take(i.shareLinkFinished)});if(t){const{payload:{timing:n}}=t;Ya.Rum.sendDelta("file.share",n-e)}}catch(e){}}t.default=function*(){yield r.all([r.takeEvery(i.sliderFirstPreviewStarted,o),r.takeEvery(i.diskSearchStarted,a),r.takeEvery(i.shareLinkStarted,s)])}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=r(n(1788)),a=n(245),s=n(42),u=n(91),c=n(19),l=n(102),d=r(n(35)),f=n(67),p=n(15),h=r(n(9)),m=n(32),v=n(273),g=(e,t)=>{var n;console.error(t),null===(n=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===n||n.logError({source:"shareDialog",sourceMethod:e,level:Ya.Rum.ERROR_LEVEL.ERROR},t)};function*y({payload:{id:e,type:t,response:n}}){if("album"===t){const t=n;(null===t||void 0===t?void 0:t.public)&&(t.public.short_url=d.default.fixShortUrl(t.public.short_url),yield i.put(f.updateAlbum(Object.assign({id:e},h.default.pick(n,"public","is_public"))))),yield i.put(s.notify({operation:u.Operations.publishAlbum,status:u.Status.done,src:t}))}else yield i.put(p.setPublishResource(e,n))}function*b({payload:{id:e,type:t}}){if("album"===t){const t=yield i.select(m.getAlbumById,e);yield i.put(s.notify({operation:u.Operations.publishAlbum,status:u.Status.failed,src:t}))}else{const t=yield i.select(c.getResourceData,e);yield i.put(s.notify({operation:u.Operations.publish,status:u.Status.failed,src:t}))}}function*_({payload:{id:e,type:t,response:n}}){"album"===t?(yield i.put(f.updateAlbum({id:e,is_public:!1})),yield i.put(s.notify({operation:u.Operations.publishAlbum,status:u.Status.done,reverse:!0,src:n}))):yield i.put(p.unsetPublishResource(e))}function*O({payload:{id:e,type:t}}){if("album"===t){const t=yield i.select(m.getAlbumById,e);yield i.put(s.notify({operation:u.Operations.publishAlbum,status:u.Status.failed,reverse:!0,src:t}))}else{const t=yield i.select(c.getResourceData,e);yield i.put(s.notify({operation:u.Operations.publish,status:u.Status.failed,src:t,reverse:!0}))}}function*E(){yield i.put(s.notify({operation:u.Operations.changePublicLinkSettings,status:u.Status.failed}))}function*w(){yield i.put(s.notify({operation:u.Operations.getPublicLinkSettings,status:u.Status.failed}))}t.default=function*(){const{pddOrgId:e}=yield i.select(l.getUser),t=yield i.select(v.isOuterContactsEnabled);yield i.setContext({handleError:g,userSettings:{checkIsOuter:t,pddOrgId:e}}),yield i.all([i.spawn(o.default),i.takeEvery(a.setPublicSuccess,y),i.takeEvery(a.setPublicFail,b),i.takeEvery(a.setPrivateSuccess,_),i.takeEvery(a.setPrivateFail,O),i.takeEvery(a.updatePublicSettingsFail,E),i.takeEvery(a.fetchPublicSettingsFail,w)])}}),(function(e,t,n){var r=n(117),i=n(14),o=n(148).log,a=n(18).default,s=n(29).checkVersion,u=n(69).getPreloadedData,c=n(404).safeReload,l=n(1791).default;n(1792),n(1793);var d={_init:function(){ns.request.requestParams.idClient=r.idClient,ns.request.URL=r.modelsRoute+"/",ns.request.requestParams.sk=r.sk,ns.request.canProcessResponse=function(e){if(e.error)return!1;var t=a();return e.uid!==t.getState().user.uid?(c(),!1):(t.dispatch(s(e.version)),ns.request.requestParams.sk!==e.sk&&(ns.request.requestParams.sk=r.sk=e.sk),!0)},ns.page.title=function(){var e=u("environment");u("config").isDocsHost?"view"===ns.page.current.params.idPage?document.title=ns.page.current.params.name+" - Яндекс Документы":document.title="Яндекс Документы":e.agent.isInMobileApp?document.title="Диск":document.title="Яндекс Диск"};var e=ns.history.pushState;ns.history.pushState=function(t,n){var r=window.location.href;e.call(ns.history,t,n),i.hit(t,n,r,null),l(window.location.origin+t)};var t=ns.history.onpopstate;ns.history.onpopstate=function(){var e=window.location.href,n=window.location.origin+ns.page.currentUrl,r=ns.page.title(e);i.hit(e,r,n,null),t.call(ns.history),l(n)},ns.action.init(),ns.router.init(),ns.history.init()},initApp:function(){var e=u("environment");d._init(),e.session.loadingFailed?(ns.page.go("/client/error?reason=init_app_error","preserve"),o({event:"errorPage",context:ns.page.current.params.idContext,reason:"init_app_error",requestId:e.session.requestId})):ns.page.go(ns.page.getCurrentUrl(),"preserve")}};e.exports=d}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(247),u=n(96),c=n(81),l=n(86),d=i(n(63)),f=n(29);let p,h;n(1822),p=n(2400).default;h=n(1915).useSupportChatWidget;const m={goToUrl:f.goToUrl},v=a.connect((e,{setHideWidget:t})=>{const{environment:{agent:n,session:{experiment:r,experimentBoxes:i}},user:{uid:o,login:a,ip:s},page:{currentUrl:d}}=e,f={uid:o,login:a,ip_address:s,smartLinks:{diskSupport:`https://disk-support.yandex-team.ru/${a}`},browser:n,experiments:{features:Object.keys(r),ids:i},entrypoint:"disk_web"};return{isSupportChatExp:u.supportChatExperimentSelector(e),isDarkTheme:c.isContentDark(l.getThemeName(e)),supportUserEnv:f,currentUrl:d,setHideWidget:t}},m);t.default=v(({isSupportChatExp:e,isDarkTheme:t,supportUserEnv:n,currentUrl:r,setHideWidget:i,goToUrl:a})=>{const u=e,{showWidget:c,hideWidget:l,unreadCount:f}=h({enabled:u,serviceId:93,workspaceId:"supportDisk",botGuid:"f749ea09-184f-9928-470d-11ecef088e4a",lang:"ru",isMobile:!1,isDarkTheme:t,supportUserEnv:n,debug:s.isDebugMode("supportChat")?"*":void 0});return o.useEffect(()=>{i(l)},[i,l]),o.useEffect(()=>{if(d.default.getQueryParam(r,"openSupport")){null===c||void 0===c||c();const e=d.default.replaceParam(d.default.getPath(r)+(d.default.getSearch(r)||""),"openSupport","",!0);a(e)}},[c,r,a]),o.default.createElement(p,{showWidget:u?c:void 0,unreadCount:u?f:void 0})})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(28).cn("WithSlidingSearch");n(1824);t.default=(e=>(class extends i.default.Component{constructor(e){super(e),this.state={isCenterHidden:!1,searchOpened:!1},this._onTransitionEnd=this._onTransitionEnd.bind(this)}_onTransitionEnd(e){this.state.isCenterHidden&&!this.props.searchOpened&&this.setState({isCenterHidden:!1}),this.props.onTransitionEnd&&this.props.onTransitionEnd(e)}_getLeftContent(){const{searchOpened:e}=this.props,t=o({searchOpened:this.state.searchOpened},[this.props.leftContentClassName]);return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:t,onTransitionEnd:this._onTransitionEnd},this.props.leftContent),!e&&this.props.leftAdditionalContent)}componentDidUpdate(){this.props.searchOpened&&!this.state.isCenterHidden&&this.setState({isCenterHidden:!0}),this.props.searchOpened!==this.state.searchOpened&&this.setState({searchOpened:this.props.searchOpened})}componentDidMount(){this.props.searchOpened!==this.state.searchOpened&&this.setState({searchOpened:this.props.searchOpened})}render(){return i.default.createElement(e,Object.assign({},this.props,{hideCenter:this.state.isCenterHidden,leftContent:this._getLeftContent()}))}}))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=r(n(1860)),s=n(102);t.default=o.connect(e=>({isUserCanHaveDisk:s.isUserCanHaveDisk(e)}))(e=>{const{isUserCanHaveDisk:t}=e;return t?i.default.createElement(a.default,null):null})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e=>{const{src:t,retries:n=2,retryDelay:i=500}=e;let o;return new Promise((e,n)=>{(o=document.createElement("script")).type="text/javascript",o.onload=e,o.onerror=n,o.async=!0,o.src=t,document.head.appendChild(o)}).catch(t=>n>0?(document.head.removeChild(o),new Promise(e=>setTimeout(e,i)).then(()=>r(Object.assign(Object.assign({},e),{retries:n-1})))):Promise.reject(t))};t.default=r}),(function(e,t,n){"use strict";var r=n(1947).DebounceInput;r.DebounceInput=r,e.exports=r}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(74),s=i(n(11));n(2009);const u=()=>s.default()("Slider-Iframe"),c="archive-load";t.default=(({isMobile:e,dvUrl:t})=>{const[n,r]=o.useState(!0),i=o.useRef(null),s=o.useCallback(e=>{try{const{type:t}=JSON.parse(e.data);switch(t){case c:r(!1)}}catch(e){}},[r]);return o.useEffect(()=>(window.addEventListener("message",s),()=>{window.removeEventListener("message",s)}),[s,i]),o.default.createElement(o.default.Fragment,null,n?o.default.createElement("div",{className:u().e("Loading")},o.default.createElement(a.Spin,{className:u().e("LoadingSpin"),view:"default",progress:!0,size:"l"})):null,o.default.createElement("iframe",{tabIndex:0,className:u().e("Frame").m({Mobile:e,Loading:n}),src:t,ref:i}))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(2010);const o=n(16),a=r(n(0)),s=n(130),u=n(920),c=n(44),l=n(115),d=n(949),f=i(n(503)),p=i(n(1191)),h=i(n(501)),m=i(n(932)),v=i(n(504)),g=i(n(280)),y=i(n(919)),b=n(348),_=n(609),O=n(360),E=n(359),w=n(362),S=n(361),C=n(213),x=n(259),T=n(580),P=n(508),k=n(505),j=n(923),R=n(506),I=n(895),A=n(336),D=n(921),M=n(922),N=n(507),L=n(485),F=n(924),B=n(363),U=n(136),z=n(15),V=n(36),H=i(n(14)),W=n(30),$=i(n(34)),G=i(n(11)),q=n(32),Y=n(92),K=n(484),J=i(n(2017)),Z=n(26),X=()=>G.default()("ufo-resources-action-bar"),Q=J.default(Z.Button,3e4),ee={[W.VIEW]:()=>_.eyeIconProvider,[W.ADD_TO_ALBUM]:()=>A.addToAlbumIconProvider,[W.EDIT]:()=>O.editIconProvider,[W.DOWNLOAD]:()=>b.downloadIconProvider,[W.PUBLISH]:({isAndroid:e,isPublishing:t})=>n=>t?a.default.createElement(y.default,{white:!0,spinSize:"xxs",cls:n}):a.default.createElement(g.default,{cls:n,isAndroid:e}),[W.CLEAN_TRASH]:()=>T.trash3IconProvider,[W.RESTORE]:()=>P.restoreIconProvider,[W.DELETE_FROM_TRASH]:()=>T.trash3IconProvider,[W.SHARE_ACCESS]:()=>I.peopleIconProvider,[W.RENAME]:()=>w.renameIconProvider,[W.MOVE]:()=>S.moveIconProvider,[W.DELETE]:()=>C.trashIconProvider,[W.COPY]:()=>E.copy2IconProvider,[W.GO_TO_FOLDER]:()=>j.goToFolderIconProvider,[W.GO_TO_FILE]:()=>k.goToFileIconProvider,[W.EXCLUDE_FROM_ALBUM]:()=>x.unseenIconProvider,[W.EXCLUDE_FROM_GEO_ALBUM]:()=>x.unseenIconProvider,[W.EXCLUDE_FROM_PERSONAL_ALBUM]:()=>x.unseenIconProvider,[W.VERSIONS]:()=>R.historyIconProvider,[W.SET_AS_COVER]:()=>N.coverIconProvider,[W.SHOW_FULLSIZE]:()=>M.externalIconProvider,[W.FOTKI_INFO]:()=>D.noneIconProvider,[W.WFOLIO_CREATE_PROJECT]:()=>L.wfolioProjectIconProvider,[W.WFOLIO_SET_PROJECT_SETTINGS]:()=>L.wfolioProjectIconProvider,[W.WFOLIO_COPY_PROJECT_URL]:()=>B.linkIconProvider,[W.WFOLIO_DELETE_PROJECT]:()=>F.wfolioDeleteProjectIconProvider},te=({isPersonalAlbum:e,isWfolio:t})=>[...[],...e?[{id:W.EXCLUDE_FROM_PERSONAL_ALBUM,hidePriority:4}]:[{id:W.ADD_TO_ALBUM,hidePriority:4}],{id:W.EDIT},{id:W.DOWNLOAD,hidePriority:3},{id:W.PUBLISH,hidePriority:2},{id:W.CLEAN_TRASH},{id:W.RESTORE},{id:W.DELETE_FROM_TRASH},{id:W.SHARE_ACCESS},{id:W.RENAME,group:1,hidden:!0},{id:W.MOVE,group:1,hidden:!0},...t?[]:[{id:W.DELETE,hidePriority:1}],...t?[{id:W.WFOLIO_DELETE_PROJECT,hidePriority:1}]:[],{id:W.COPY,group:1,hidden:!0},{id:W.GO_TO_FOLDER,group:2,hidden:!0},{id:W.GO_TO_FILE,group:2,hidden:!0},{id:W.EXCLUDE_FROM_ALBUM,group:2,hidden:!0},{id:W.EXCLUDE_FROM_GEO_ALBUM,group:2,hidden:!0},...e?[]:[{id:W.EXCLUDE_FROM_PERSONAL_ALBUM,group:2,hidden:!0}],{id:W.VERSIONS,group:5,hidden:!0},{id:W.SET_AS_COVER,group:3,hidden:!0},{id:W.SHOW_FULLSIZE,group:3,hidden:!0},...e?[{id:W.ADD_TO_ALBUM,group:2,hidden:!0}]:[],{id:W.FOTKI_INFO,group:10,hidden:!0},...[]].map(e=>Object.assign({icon:ee[e.id],text:W.titles[e.id],iconOnly:!1},e)),ne=5e3,re={deselectAllStatesContext:U.deselectAllStatesContext,getDirSize:z.getDirSize,openShareDialog:K.openShareDialog},ie=o.connect(e=>{const{photoslice:t,environment:{agent:n},page:{dialog:r,action:i,idContext:o}}=e,a=l.isIosSafariSelector(e),d="photo"===c.getPage(e),f=q.isCurrentAlbumPersonal(e),{isSelectingPhotos:p}=e.personalAlbums,h=s.getSelectedResources(e);let m;return h&&h.length&&(m=V.getPublishObjectData(e,h.map(e=>e.id))),{action:i,isPhotoslice:d,isPersonalAlbum:f,isSelectingPhotos:p,isMobile:n.isMobile,isIosSafari:a,isAndroid:"Android"===n.OSFamily,sliderOpened:"slider"===r,totalSelectedCount:d&&t&&t.totalSelected||0,missingSelectedCount:d&&t&&t.missingSelected||0,isReadOnly:Y.isCurrentContextReadonlyVdResource(e),isPublishing:null===m||void 0===m?void 0:m.isPublishing,metrikaTail:u.getMetrikaSectionTail(e),isPageAlbum:q.isPageAlbum(e),isWfolio:"/wfolio"===o}},re);class oe extends a.Component{constructor(e){super(e),this._dropdownRefs={},this._ref=a.default.createRef(),this._groupableButtonRenderBeforeRef=a.default.createRef(),this._onClose=this._onClose.bind(this),this._onButtonClick=this._onButtonClick.bind(this),this._onMoreButtonClick=this._onMoreButtonClick.bind(this),this._closeAllDropdowns=this._closeAllDropdowns.bind(this),this._updateOutdatedDirStats=this._updateOutdatedDirStats.bind(this)}_onClose(){this.props.deselectAllStatesContext()}shouldComponentUpdate(e){return this._isVisible(e)||this._isVisible(this.props)&&!this._isVisible(e)}componentDidUpdate(e){this._updateDirStats(e),this._isVisible(this.props)!==this._isVisible(e)&&this._closeAllDropdowns()}componentDidMount(){this._updateDirStats(),this.props.isIosSafari&&window.addEventListener("orientationchange",this._closeAllDropdowns)}componentWillUnmount(){this.props.isIosSafari&&window.removeEventListener("orientationchange",this._closeAllDropdowns)}_updateDirStats(e,t=!1){const{savedResources:n,getDirSize:r}=this.props;if(1===n.length&&"dir"===n[0].type){const i=n[0],o=!e||1!==e.savedResources.length||1!==e.resources.length||e.savedResources[0].id!==i.id,a=void 0===i.meta.size||!isFinite(i.meta.size),s=t&&(!i.meta.lastSizeUpdatedTS||Date.now()-i.meta.lastSizeUpdatedTS>ne);(o&&a||s)&&r(n[0].id)}}_updateOutdatedDirStats(){this._updateDirStats(void 0,!0)}_getSelectedCount(e){return e.isPhotoslice?e.savedTotalSelectedCount:e.savedResources.length}_getResourcesInfo(){const{savedResources:e,isIosSafari:t,isPhotoslice:n,isPageAlbum:r,missingSelectedCount:i,isSelectingPhotos:o,metrikaTail:s}=this.props,u=this._getSelectedCount(this.props);return 1===e.length?a.default.createElement(m.default,{theme:"clear-inverse",resource:e[0],metrikaContext:["topbar"],metrikaTail:s,isIosSafari:t,createRef:this._setDropdownRef.bind(this,"info"),onVisible:this._updateOutdatedDirStats}):a.default.createElement(p.default,{visible:this._isVisible(this.props),selectedCount:u,isPhotoslice:n,isPageAlbum:r,isSelectingPhotos:o,missingSelectedCount:i,actionBarRef:this._ref})}_onButtonClick(e){H.default.count("interface elements","topbar",e,...this.props.metrikaTail),this.props.onAction(e)}_onMoreButtonClick(){H.default.count("interface elements","topbar","actions dropdown","show")}_areButtonsDisabled(){const{isPhotoslice:e,isPageAlbum:t,totalSelectedCount:n,missingSelectedCount:r,isSelectingPhotos:i}=this.props;return Boolean(i||n>$.default.MAX_ACTIONABLE_SELECTION||e&&r||t&&this._getSelectedCount(this.props)>$.default.MAX_ACTIONABLE_SELECTION)}_getButtons(){const{isPersonalAlbum:e,isWfolio:t,actions:n,resources:r,isReadOnly:i,isIosSafari:o,isMobile:s}=this.props,u=this._areButtonsDisabled(),c=[],l=te({isPersonalAlbum:e,isWfolio:t}).filter(e=>!!n[e.id]).map(e=>{const t=e.id===W.DOWNLOAD&&(r.length>1||"dir"===r[0].type);return Object.assign({},e,n[e.id],n[e.id].text?null:{text:W.getTitle(e.id,r)},{icon:e.icon(this.props)},t?{Component:Q,key:`${r.length}-${r[0].id}`}:null)});if(l.length){let e;i&&(e=a.default.createElement("div",{ref:this._groupableButtonRenderBeforeRef,className:X().e("read-only")},"Просмотр")),c.push(a.default.createElement(h.default,{view:"clear-inverse",buttons:l,disabled:u,collapsible:l.filter(e=>!e.hidden).length>0,isIosSafari:o,isMobile:s,useMobilePane:s,key:"groupable-buttons",moreButtonsText:"Ещё",onMoreOpen:this._onMoreButtonClick,onButtonClick:this._onButtonClick,ref:this._setDropdownRef.bind(this,"groupable"),renderBefore:e,renderBeforeRef:this._groupableButtonRenderBeforeRef}))}return c}_setDropdownRef(e,t){this._dropdownRefs[e]=t}_closeAllDropdowns(){Object.keys(this._dropdownRefs).forEach(e=>this._dropdownRefs[e]&&this._dropdownRefs[e].closeDropdown())}_isVisible(e){return e.resources.length>0&&!e.sliderOpened&&!e.action}_shouldRenderControls(){return this._isVisible(this.props)||this.props.savedResources.length>0}_setRef(e){this._ref={current:e}}render(){const e=this.props.savedResources.some(e=>2===e.meta.drweb);return a.default.createElement(d.ResourcesActionBar,{innerRef:this._ref,className:X().m({warning:e}),theme:"black",fixed:!0,delay:1===this.props.resources.length,visible:this._isVisible(this.props),onClose:this._onClose,closeButtonText:"Отменить выделение",isMobile:this.props.isMobile},a.default.createElement(d.ResourcesActionBarLeft,null,this._shouldRenderControls()?this._getResourcesInfo():null),a.default.createElement(d.ResourcesActionBarRight,null,this._shouldRenderControls()?this._getButtons():null))}}t.UfoResourcesActionBar=oe;const ae=f.default(oe,["resources","totalSelectedCount"],e=>e.resources.length,[[],0]);t.default=v.default(ie(ae),s.getSelectedResources,!0)}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(11)),u=n(45),c=i(n(2022)),l=n(1055),d=n(159);n(2041);t.default=(()=>{const[e,t]=o.useState(null),n=a.useSelector(l.getProcessingNotifications);return o.default.createElement(d.ContentWithNamesContext.Provider,{value:{width:e,font:'13px/22px "YS Text", sans-serif'}},o.default.createElement("div",{className:s.default()("notifications").mix(u.LISTING_PREVENT_DESELECT_CLASS)},n.map((n,r)=>o.default.createElement(c.default,{key:n.id,isFirstInQueue:0===r,data:n,width:e,setWidth:t}))))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(516),a=n(26);n(2057);const s=r(n(11)),u=()=>s.default()("read-only-notification");t.default=(({type:e,isMobile:t,url:n})=>{const r=e===o.Type.TECH,s=r?"Технические работы. Сейчас можно только просматривать и скачивать файлы.":"Загрузка файлов недоступна, можно только просматривать и скачивать. Вы достигли ограничения по загрузке файлов.";return i.default.createElement("div",{className:u().m({mobile:t})},i.default.createElement("span",{className:u().e("icon")}),i.default.createElement("div",{className:u().e("text-block")},s,!r&&n&&i.default.createElement(i.default.Fragment,null,t&&" ",i.default.createElement(a.Button,{className:u().e("link"),url:n,target:"_blank",type:"link",view:t?"clear":"default"},"Узнать больше"))))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(896)),u=n(152),c=i(n(14));t.default=a.connect(e=>{const{links:t}=e.config,{page:{idContext:n}}=e;return{idContext:n,wfolioPlansUrl:t.tuningWfolio,shouldShow:u.isWfolioDisabledSelector(e)&&"/wfolio"===n}})(({wfolioPlansUrl:e,shouldShow:t})=>{const n=o.useCallback(()=>{c.default.count("interface elements","read only notification","button")},[]);return t?o.default.createElement(s.default,{title:"Чтобы снова работать с проектами, подключите тариф «Wfolio Премиум».",mainButtonProps:{url:e,text:"Смотреть тарифы",onClick:n}}):null})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(11)),a=n(16),s=r(n(1183)),u=r(n(1194)),c=r(n(354)),l=r(n(1195)),d=n(58),f=n(126);n(2109);const p={openFamilyAlbumOnboarding:f.openFamilyAlbumOnboarding};t.default=a.connect(e=>{const{settings:{isShownFamilyAlbumOnboarding:t},albums:{albums:n},personalAlbums:{familyAlbumId:r,albumsByIds:i}}=e,o=e.albums.albums.family.personalAlbumId||r;return{isShownFamilyAlbumOnboarding:t,familyAlbum:o?[Object.assign(Object.assign({},n.family),i[o])]:void 0,hasFamilyFeature:d.hasFamilyAlbumFeature(e)}},p)(({familyAlbum:e,hasFamilyFeature:t,isShownFamilyAlbumOnboarding:n,openFamilyAlbumOnboarding:r})=>{let a;return t&&"0"===n&&(a=r),i.default.createElement("div",{className:o.default()("albums2_family")},i.default.createElement(u.default,null),i.default.createElement(s.default,{displayListingType:!1,hideActionsButton:!0}),i.default.createElement(c.default,{albumType:"family",albums:e,onAlbumClick:a}),i.default.createElement(l.default,null))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(9)),a=r(n(11)),s=r(n(14)),u=r(n(54)),c=r(n(23)),l=i(n(0)),d=r(n(2110)),f=r(n(2113)),p=r(n(374)),h=r(n(2405)),m=n(735),v=n(26),g=n(74),y=n(491),b=n(16),_=n(115),O=n(599),E=n(295),w=n(405),S=n(59),C=n(15),x=r(n(2116)),T=n(52),P=r(n(1134)),k=n(275),j=n(753);n(2117);const R=()=>a.default()("journal"),I={[E.Platform.ios]:"iPhone или iPad",[E.Platform.andr]:"Устройство на Android",[E.Platform.wp]:"Windows Phone",[E.Platform.mac]:"MacBook или iMac",[E.Platform.win]:"Компьютер на Windows",[E.Platform.web]:"Веб-интерфейс",[E.Platform.lnx]:"Компьютер на Linux",[E.Platform.rest]:"Другое устройство"},A={[E.JournalEventType.mkdir]:"Создание папки",[E.JournalEventType.copy]:"Копирование",[E.JournalEventType.move]:"Перемещение",[E.JournalEventType.rename]:"Переименование",[E.JournalEventType.rm]:"Удаление навсегда",[E.JournalEventType.appendTrash]:"Удаление в Корзину",[E.JournalEventType.dropTrash]:"Удаление из Корзины",[E.JournalEventType.dropAllTrash]:"Очистка Корзины",[E.JournalEventType.restoreTrash]:"Восстановление из Корзины",[E.JournalEventType.store]:"Загрузка",[E.JournalEventType.storeUpdate]:"Изменение файла",[E.JournalEventType.storeDownload]:"Сохранение на Диск",[E.JournalEventType.photostreamStore]:"Автозагрузка",[E.JournalEventType.photounlimStore]:"Автозагрузка",[E.JournalEventType.setPublic]:"Создание публичной ссылки",[E.JournalEventType.setPrivate]:"Удаление публичной ссылки",[E.JournalEventType.aviary]:"Редактирование в фоторедакторе",[E.JournalEventType.importSocial]:"Импорт фото из соцсети",[E.JournalEventType.promoEnlarge]:"Увеличение места",[E.JournalEventType.promoReduce]:"Уменьшение места",[E.JournalEventType.productReduce]:"Оповещение о завершении периода оплаты",[E.JournalEventType.createAlbum]:"Создание альбома",[E.JournalEventType.removeAlbum]:"Удаление альбома",[E.JournalEventType.createAlbumItem]:"Создание альбома",[E.JournalEventType.appendAlbumItems]:"Добавление фото, видео в альбом",[E.JournalEventType.removeAlbumItems]:"Удаление фото, видео из альбома",[E.JournalEventType.changeAlbumPulicity]:"Изменение настроек приватности альбома",[E.JournalEventType.changeAlbumCover]:"Изменение обложки",[E.JournalEventType.changeAlbumTitle]:"Переименование альбома",[E.JournalEventType.sentInvite]:"Отправка приглашения",[E.JournalEventType.activateInvite]:"Принятие приглашения",[E.JournalEventType.addComment]:"Новые комментарии",[E.JournalEventType.likeComment]:"Новые отметки «Нравится»",[E.JournalEventType.dislikeComment]:"Новые отметки «Не нравится»",[E.JournalEventType.buy]:"Проведение единоразового платежа",[E.JournalEventType.prolong]:"Проведение повторяемого платежа",[E.JournalEventType.prolongError]:"Оповещение о неудачной оплате",[E.JournalEventType.subscribe]:"Подключение автоматического платежа",[E.JournalEventType.unsubscribe]:"Отказ от повторяемых платежей",[E.JournalEventType.inviteUser]:"Предоставление общего доступа",[E.JournalEventType.changeRights]:"Изменение уровня общего доступа",[E.JournalEventType.kickFromGroup]:"Закрытие общего доступа",[E.JournalEventType.activateShare]:"Принятие приглашения",[E.JournalEventType.rejectInvite]:"Отказ от приглашения",[E.JournalEventType.removeInvite]:"Отмена приглашения",[E.JournalEventType.changeInviteRights]:"Изменение уровня доступа для приглашения",[E.JournalEventType.leaveGroup]:"Отказ от доступа к общей папке",[E.JournalEventType.unshareFolderUser]:"Закрытие общего доступа для всех"},D=b.connect(e=>({id:j.getJournalId(e),locale:_.getLocale(e),diskPath:j.getDiskPath(e),rootPath:j.getRootPath(e),state:j.getJournalState(e),trashPath:j.getTrashPath(e),text:j.getJournalFilterText(e),metrika:j.getMetrikaRoot(e),clusters:j.getJournalClusters(e),filterPlatforms:j.getJournalFilterPlatforms(e),isPersonal:j.isPersonalJournal(e),filterFolder:j.getJournalFilterFolder(e),filterPlatform:j.getJournalFilterPlatform(e),hasMore:j.hasJournalMoreEventToLoad(e),areFiltersApplied:j.areJournalFiltersResettable(e),filterUntil:j.getJournalFilterUntilDate(e),filterEventType:j.getJournalFilterEventType(e),filterEventTypes:j.getJournalFilterEventTypes(e),crumbsItems:O.getCrumbsItems(e)}),{add:T.add,goToFolder:C.goToFolder,fetchJournal:w.fetchJournal,journalMounted:w.journalMounted,updateSettings:S.updateSettings,setJournalFilter:w.setJournalFilter,fetchJournalGroup:w.fetchJournalGroup}),M=()=>l.default.createElement("div",{className:R().e("spin")},l.default.createElement(g.Spin,{view:"default",size:"l",progress:!0})),N=({onTrigger:e})=>{const t=l.useRef(null),n=l.useCallback(([t])=>{(null===t||void 0===t?void 0:t.isIntersecting)&&e()},[e]);return l.useEffect(()=>{const e=t.current,r=new IntersectionObserver(n,{root:null,threshold:1,rootMargin:"0px"});return e&&r.observe(e),()=>{e&&r.unobserve(e)}},[t,n]),l.default.createElement("div",{ref:t,className:R().e("load-trigger")})},L=({id:e,state:t,hasMore:n,fetchJournal:r})=>{const i=l.useCallback(()=>{e&&r({id:e,append:!0})},[e,r]);if(n){if(t===E.JournalState.fetched)return l.default.createElement(N,{onTrigger:i});if(t===E.JournalState.appending)return l.default.createElement(M,null)}return null},F=({onClear:e,isTextSearch:t,areFiltersApplied:n})=>{const r=l.useCallback(t=>{t.preventDefault(),t.stopPropagation(),e()},[e]),i=l.useMemo(()=>n?"Ничего не найдено по заданным параметрам":"История",[n]),o=l.useMemo(()=>n?"Измените условия поиска или сбросьте фильтры.":"Здесь собраны все изменения в вашем Диске.",[n]);return t?l.default.createElement(f.default,null):l.default.createElement("div",{className:R().e("empty")},l.default.createElement("div",{className:R().e("empty-header")},i),l.default.createElement("div",{className:R().e("empty-text")},o),n?l.default.createElement(v.Button,{view:"raised",size:"m",theme:"raised",onClick:r},"Сбросить фильтры"):null)},B=o.default.once(e=>{var t;null===(t=null===Ya||void 0===Ya?void 0:Ya.Rum)||void 0===t||t.logError({message:"unknown_journal_events",source:"journal",level:Ya.Rum.ERROR_LEVEL.WARN,additional:{events:e.join()}})}),U=({state:e,isPersonal:t,filterFolder:n,filterPlatform:r,filterUntil:i,filterEventType:a,isResettable:s,showStub:u,isTextSearch:d,eventTypes:f,platforms:p,onClear:g,onChangeUntil:b,onChangeEventType:_,onClickFolderSelect:O,onChangeEventPlatform:w})=>{const S=l.useCallback(e=>l.default.createElement(v.Button,Object.assign({},o.default.omit(e,"checked"),{view:"raised"})),[]),C=f.filter(e=>A[e]);if(C.length!==f.length){const e=o.default.difference(f,C).sort();B(e)}return l.default.createElement("div",{className:R().e("controls")},l.default.createElement(v.Button,{view:"clear",size:"m",onClick:g,className:m.classnames(R().e("filter-item").m({hidden:!s||u&&!d}),R().e("reset-filters"))},"Сбросить"),l.default.createElement("div",{className:m.classnames(R().e("filter-item"),R().e("calendar-wrapper"))},l.default.createElement("span",null,"До"),l.default.createElement(h.default,{disabled:e!==E.JournalState.fetched,cls:m.classnames(R().e("calendar"),R().e("filter-item")),dateFormat:"DD.MM.YYYY",timestamp:i,onChange:b})),l.default.createElement(v.Button,{type:"checked",view:"raised",size:"m",checked:Boolean(n),disabled:e!==E.JournalState.fetched,onClick:O,className:m.classnames(R().e("filter-item"),R().e("folders-filter"))},n?c.default.basename(n):"Все папки"),l.default.createElement(y.Select,{className:m.classnames(R().e("select"),R().e("filter-item"),R().e("events-filter")),disabled:e!==E.JournalState.fetched||0===C.length,view:"default",size:"m",value:a,placeholder:(null===a||void 0===a?void 0:a.length)>1?__i18n__.i18n.convert(["1 событие",yr.externals.entityify(null===a||void 0===a?void 0:a.length)+" событие",yr.externals.entityify(null===a||void 0===a?void 0:a.length)+" события",yr.externals.entityify(null===a||void 0===a?void 0:a.length)+" событий"],yr.externals.entityify(null===a||void 0===a?void 0:a.length)):"Все события",onChange:_,renderTrigger:S,options:C.map(e=>({content:A[e],value:e})),showAlwaysPlaceholder:1!==(null===a||void 0===a?void 0:a.length)}),t?l.default.createElement(y.Select,{className:m.classnames(R().e("select"),R().e("filter-item"),R().e("platforms-filter")),disabled:e!==E.JournalState.fetched||0===p.length,view:"default",size:"m",value:r,placeholder:"Все устройства",onChange:w,renderTrigger:S,options:p.map(e=>({content:I[e],value:e}))}):null)};t.default=D(e=>{const{id:t,add:n,text:r,state:i,locale:o,metrika:a,diskPath:u,rootPath:f,trashPath:h,clusters:m,filterFolder:g,filterPlatform:y,filterUntil:b,filterEventType:_,filterEventTypes:O,isPersonal:w,crumbsItems:S,areFiltersApplied:C,fetchJournal:x,setJournalFilter:T,filterPlatforms:j,fetchJournalGroup:I,updateSettings:A,journalMounted:D,goToFolder:N}=e,B=l.useMemo(()=>r.trim(),[r]),z=i===E.JournalState.fetched&&0===m.length,V=null===B||void 0===B?void 0:B.trim().length,H=l.useCallback(()=>{t&&x({id:t})},[t,x]),W=l.useCallback(e=>{t&&I({id:t,groupId:e})},[t,I]),$=l.useCallback((...e)=>{s.default.count(...a,...e)},[a]),G=l.useCallback(e=>{const{target:{value:n}}=e;t&&($(...k.eventTypeFilterMetrika,n),T({id:t,filters:{eventType:n}}))},[t,T,$]),q=l.useCallback(e=>{if(t){const{target:{value:n}}=e;s.default.count(...k.platformFilterMetrika,n),T({id:t,filters:{platform:n}})}},[t,T]),Y=l.useCallback(e=>{t&&($(...k.dateFilterMetrika),T({id:t,filters:{untilDateTimestamp:e}}))},[t,T,$]),K=l.useCallback(()=>{t&&n("select-folder",{dialogParams:{type:"journal-filter",title:"Выберите папку"},onSubmit:({folderId:e})=>{s.default.count(...k.folderFilterMetrika),T({id:t,filters:{folder:c.default.normalize(e).replace(f||"","")}})}})},[t,n,T,f]),J=l.useCallback(e=>{A({videoAutoPlayId:e})},[A]),Z=l.useCallback(()=>{t&&($(...k.clearFiltersMetrika),T({id:t,filters:{},reset:!0}))},[t,T,$]),X=l.useCallback(e=>{N(e)},[N]);if(l.useEffect(()=>{$()},[t,$]),l.useEffect(()=>{D()},[D]),i===E.JournalState.failed)return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:R().e("error-title")},"Не удалось загрузить историю."),l.default.createElement(v.Button,{view:"raised",size:"m",theme:"raised",onClick:H},"Попробовать снова"));const Q=l.default.createElement(U,{state:i,isPersonal:w,onClickFolderSelect:K,onClear:Z,onChangeUntil:Y,onChangeEventType:G,onChangeEventPlatform:q,eventTypes:O,platforms:j,filterUntil:b,filterEventType:_,filterFolder:g,filterPlatform:y,isResettable:C,isTextSearch:V,showStub:z});return l.default.createElement("div",null,w?null:l.default.createElement("div",{className:R().e("crumbs-settings")},l.default.createElement("div",{className:R().e("crumbs-wrapper")},l.default.createElement(P.default,{onItemClick:X,tooltipDirections:["top-start","bottom-end"],items:S,full:!0})),Q),l.default.createElement(p.default,{cls:R().e("header"),title:"История",backUrl:w?void 0:`/client${u}`},w?Q:null),[E.JournalState.fetching,E.JournalState.initial,E.JournalState.created].includes(i)?l.default.createElement(M,null):null,m.map(e=>l.default.createElement(d.default,{onSetVideoAutoplay:J,key:e.id,locale:o,isPersonal:w,cluster:e,diskPath:u||"/disk",rootPath:f||"",trashPath:h||"/trash",countMetrika:$,fetchGroup:W})),z?l.default.createElement(F,{areFiltersApplied:C,isTextSearch:V,onClear:Z}):null,i===E.JournalState.appending||i===E.JournalState.fetched?l.default.createElement(L,Object.assign({},e)):null)}),u.default.setOnBeforeFirstRenderCallback(x.default)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(141));t.default=o.default({loader:()=>Promise.resolve().then(()=>i(n(1097))),webpack:()=>[1097],modules:["./rootDocs"]})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(141));t.default=o.default({loader:()=>Promise.resolve().then(()=>i(n(1105))),webpack:()=>[1105],modules:["./docs-view"]})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(39),u=n(44),c=n(96),l=n(490),d=n(34),f=i(n(14)),p=n(2172),h=new(n(1106).UXFeedbackIframeController);t.default=a.connect(e=>{let t=null,n=null;const r=e.environment.session.locale,i=s.isDocsPage(e),o=s.isDocsView(e),a=c.isDiskWebNpsExp(e),f=c.isDiskWebNpsSecurityExp(e),p=c.isDiskViewerNpsExp(e),h=l.getMaybeShowPromozavr(e),m=u.getPage(e),{config:{yandexuid:v},user:{isYandexStaff:g,isB2b:y}}=e;return"ru"!==r||g||(i?p&&o&&(t=d.DOCS_UXFEEDBACK_ACCOUNT_ID,n=d.DOCS_UXFEEDBACK_EVENT):"photo"===m||"albums"===m||y||(a?(t=d.DISK_UXFEEDBACK_ACCOUNT_ID,n=d.DISK_UXFEEDBACK_EVENT_DEFAULT):f&&(t=d.DISK_UXFEEDBACK_ACCOUNT_ID,n=d.DISK_UXFEEDBACK_EVENT_SECURITY))),{accountId:t,eventMessage:n,yandexuid:v,shouldShowUXFeedback:h}})(({accountId:e,eventMessage:t,yandexuid:n,shouldShowUXFeedback:r})=>{o.useEffect(()=>{t&&(h.sendEvent(t),h.sendProperties({yandexuid:n}))},[t,n]),o.useEffect(()=>{e&&f.default.count("uxfeedback","render")},[e]);const i=o.useCallback(()=>{f.default.count("uxfeedback","save user info fail")},[]);return o.useMemo(()=>e&&r?o.default.createElement(p.UXFeedbackComponent,{accountId:e,uxfbController:h,onSaveUserInfoFail:i,defer:!0}):null,[e,r,i])})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(16),a=r(n(0)),s=i(n(1107)),u=i(n(14)),c=i(n(63)),l=n(29),d=n(57),f=n(26),p=n(51),h=i(n(279)),m=n(59),v=n(44),g=n(57);n(2182);const y=i(n(11)),b=i(n(2183)),_=()=>y.default()("overdraft-screen"),O={updateSettings:m.updateSettings,goToUrl:l.goToUrl},E=o.connect(e=>({isMobile:e.environment.agent.isSmartphone,buttonText:d.getTuningButtonInfo(e).text,helpLink:e.config.links.help.diskPro+"#end",buyButtonUrl:c.default.addParams(v.getBuyButtonUrl(e),{from:"disk_overdraft_screen"}),overdraftType:g.getOverdraftType(e)}),O);t.default=E(({isMobile:e,buttonText:t,helpLink:n,buyButtonUrl:r,overdraftType:i,updateSettings:o,goToUrl:c})=>{a.useEffect(()=>{i||u.default.count("interface elements","overdraft_block","show")},[i]);const l=a.useCallback(()=>{u.default.count("interface elements","overdraft_block","more")},[]),d=a.useCallback(()=>{u.default.count("interface elements","overdraft_block","remove-excess"),o({closedOverdraftScreen:!0}),c("/client/disk")},[o,c]),m=a.useCallback(()=>{i||u.default.count("interface elements","overdraft_block","close"),o({closedOverdraftScreen:!0})},[o,i]),v=a.useCallback(()=>{u.default.count("interface elements","overdraft_block","buy")},[]);return i?a.default.createElement("div",{className:e?"overdraft-screen-new-mobile":"overdraft-screen-new"},a.default.createElement(s.default,{from:"disk_overdraft-screen",onClose:m})):a.default.createElement("div",{className:_()},a.default.createElement("header",{className:_().e("header")},a.default.createElement(b.default,{cls:_().e("logo")}),a.default.createElement(f.Button,{className:_().e("close-button"),onClick:m,size:"m",view:"clear","aria-label":"Закрыть",icon:e=>a.default.createElement(h.default,{iconSize:"xl",cls:e})})),a.default.createElement("main",{className:_().e("main")},a.default.createElement("div",{className:_().e("image")}),a.default.createElement("div",{className:_().e("title")},"Доступ к диску ограничен."),a.default.createElement("div",{className:_().e("text")},"Файлы занимают больше места, чем у вас есть.\nУдалите лишнее или увеличьте объём диска."),a.default.createElement(f.Button,{className:_().e("tuning-button"),size:"l",view:"action",onClick:v,type:"link",url:r,target:"_blank"},t),a.default.createElement(p.Link,{className:_().e("delete-link"),onClick:d,theme:"primary"},"Удалить лишнее")),a.default.createElement("footer",{className:_().e("footer")},a.default.createElement(p.Link,{className:_().e("help-link"),href:n,target:"_blank",theme:"ghost",onClick:l},"Подробнее об ограничениях")))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=n(2190),s=n(86);n(2196);const u=r(n(11)),c=n(81),l=o.connect(e=>({themeName:s.getThemeName(e),settings:s.getThemeSettings(e)}));t.default=l(({themeName:e,settings:t})=>{const n=c.getCover(e);if(!e||!n)return null;const{imageUrl:r,videoUrl:o}=n,s=Object.assign({imageUrl:r},(null===t||void 0===t?void 0:t.isVideoEnabled)?{videoUrl:o}:{});return i.default.createElement(a.CoverLayer,Object.assign({className:u.default()("CoverLayer")},s))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=n(86),s=n(81),u=n(96),c=o.connect(e=>({themeName:a.getThemeName(e),expDefaultBg:u.getExpDefaultBackground(e)}));t.default=c(({themeName:e,expDefaultBg:t})=>{const n=s.getPageOverrides(e,t);return e&&n?i.default.createElement("style",null,`body { background: rgb(${n["--bg-color"]})!important; }`):null})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0));t.Promozavr=o.default.lazy(()=>Promise.resolve().then(()=>i(n(2199))))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(9)),u=n(20),c=n(45),l=i(n(510)),d=n(115),f=n(39),p=i(n(14)),h=r(n(35)),m=i(n(11)),v={docx:"Новый документ",xlsx:"Новая таблица",pptx:"Новая презентация"},g={docx:"Укажите название документа",xlsx:"Укажите название таблицы",pptx:"Укажите название презентации"},y=e=>v[e],b=(e,t)=>{e?p.default.countDocs("name dialog",t):p.default.count("interface elements","name dialog",t)},_=a.connect((e,{dialog:t})=>{const n=d.isIosSafariSelector(e);return t&&t.data?{visible:t.state===u.STATE.OPENED,isIosSafari:n,isDocs:f.isDocsPage(e),onClose:t.data.onClose,onSubmit:t.data.onSubmit,extension:t.data.extension}:{visible:!1,isIosSafari:n,isDocs:f.isDocsPage(e),onClose:()=>{},onSubmit:()=>{},extension:"docx"}})(({visible:e,isIosSafari:t,isDocs:n,onClose:r,onSubmit:i,extension:a})=>{const[u,d]=o.useState(y(a)),[f,p]=o.useState(null),v=o.useRef(!1),_=o.useCallback(e=>{const t=h.default.validateName(e);p(t?s.default.get(h.resourceNameValidationResultI18n,[t,"file"]):null)},[]);o.useEffect(()=>{if(e&&!v.current){const e=y(a);d(e),_(e),b(n,"show")}v.current=e},[n,e,a,_]);const O=o.useCallback(e=>{d(e),_(e)},[_]),E=o.useCallback(()=>{i(u),b(n,"create")},[n,u,i]);return o.default.createElement(l.default,{cls:m.default()("Document-Title-Dialog").mix(c.LISTING_PREVENT_DESELECT_CLASS),visible:e,title:g[a],renameText:u,submitButtonText:"Создать",submitDisabled:Boolean(f)||!Boolean(u),closeButtonAriaLabel:"Закрыть",errorText:f,onClose:r,onSubmit:E,onTextChange:O,isIosSafari:t})});_.dialogName="document-name",t.default=_}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(164)),u=i(n(1107)),c=i(n(928)),l=n(20),d=i(n(11));n(2328);const f={closeDialog:l.closeDialog},p=a.connect((e,t)=>({visible:t.dialog.state===l.STATE.OPENED,type:e.dialogs.overdraft.data.type}),f)(({visible:e,closeDialog:t,type:n})=>{const r=o.useCallback(()=>{t("overdraft")},[t]),i=o.useMemo(()=>"overdraft"===n?o.default.createElement(u.default,{from:"disk_overdraft-dialog",onClose:r}):o.default.createElement(c.default,{onClose:r}),[n,r]);return o.default.createElement(s.default,{visible:e,onClose:r,cls:d.default()("overdraft"),hasCloseButton:!1},i)});p.dialogName="overdraft",t.default=p}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(2329)),u=n(20),c=n(57),l=i(n(63)),d=n(14),f=n(24),p=i(n(111)),h={closeDialog:u.closeDialog},m=a.connect((e,t)=>{const{config:{urlsBase:{yandex360:n}},environment:{agent:{isMobile:r,isTablet:i}},page:{idContext:o}}=e;return{yandex360:n,isMobile:r,isTablet:i,limitSize:c.getLimitUploadSize(e),files:t.dialog.data.files,visible:t.dialog.state===u.STATE.OPENED,isInsideVirtualDisk:f.isPathInsideVirtualDiskFiles(o)}},h)(({isMobile:e,isTablet:t,limitSize:n,files:r,visible:i,closeDialog:a,isInsideVirtualDisk:u,yandex360:c})=>{const f=o.useCallback(()=>{const e=u?`${c}/business/tariff`:`${c}/premium-plans`;window.open(l.default.addParams(e,{from:"disk_limit_upload_dialog"}),"_blank")},[u,c]),h=o.useCallback(()=>{a("limit-upload")},[a]),m=o.useCallback((...e)=>{d.count("interface elements","limit upload dialog",...e)},[]);return o.default.createElement(s.default,{lang:"ru",visible:i,limitSize:n,files:r,onClose:h,onBuy:f,countMetrikaFn:m,useDrawer:e&&!t,dialogText:u?"Чтобы загружать файлы больше "+yr.externals.entityify(p.default.formatSpace(n))+", ваша организация должна быть подключена к платному тарифу Яндекс 360 для бизнеса. Свяжитесь с администратором организации.":void 0})});m.dialogName="limit-upload",t.default=m}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(347)),u=n(20),c=n(15),l=n(36),d={closeDialog:u.closeDialog,saveShareEditMenuExpanded:c.saveShareEditMenuExpanded},f=a.connect((e,t)=>{var n;const{metrikaContext:r,metrikaTail:i,objectIds:o,shareDialogScope:a,justPublished:s}=null===(n=e.dialogs["share-dialog"])||void 0===n?void 0:n.data,c=l.getPublishObjectData(e,o),{settings:{shareEditMenuExpandedShowed:d}}=e;return{publishObjectData:c,visible:t.dialog.state===u.STATE.OPENED,metrikaContext:r,metrikaTail:i,objectIds:o,shareDialogScope:a,justPublished:s,shouldShowExpandedMenu:"1"!==d}},d)(({visible:e,closeDialog:t,saveShareEditMenuExpanded:n,publishObjectData:r,metrikaContext:i,metrikaTail:a,objectIds:u,shareDialogScope:c,justPublished:l,shouldShowExpandedMenu:d})=>{const[f,p]=o.useState(!1),h=o.useCallback(()=>{t("share-dialog",{justPublished:!1})},[t]);return o.useEffect(()=>{r.isEditable&&!f&&(d||r.shortUrl&&l)&&(d&&n(),p(!0))},[d,r,n,f,l]),o.useEffect(()=>{e||p(!1)},[e]),o.default.createElement(s.default,{visible:e,objectIds:u,onClose:h,metrikaPath:["interface elements",...i,u.length>1?"album share link":"share link"],metrikaTail:a,defaultExpanded:f,scope:c})});f.dialogName="share-dialog",t.default=f}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=r(n(2348)),s=n(45),u=r(n(14)),c=n(20),l=o.connect((e,{dialog:t})=>({visible:t.state===c.STATE.OPENED,onClose:t.data.onClose,onSubmit:t.data.onSubmit,toExtension:t.data.toExtension}))(({visible:e,onClose:t,onSubmit:n,toExtension:r})=>{if(!e)return null;return i.default.createElement(a.default,{lang:"ru",useDrawer:!1,toExtension:r,onClose:t,visible:e,onSubmit:n,countMetrikaFn:(...e)=>{u.default.count("interface elements","docs copy confirm dialog",...e)},className:s.LISTING_PREVENT_DESELECT_CLASS})});l.dialogName="docs-copy-confirmation",t.default=l}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(273),u=n(2353),c=n(2357),l=n(2359);n(2361);const d=i(n(11)),f=()=>d.default()("AccessFolderContent");t.default=(()=>{const e=a.useSelector(s.getAccessFolderResource),[t,n]=o.useState(),r=o.useCallback(e=>{n(e.email)},[]),i=o.useCallback(e=>{n(e)},[]);return o.default.createElement("div",{className:f()},o.default.createElement("div",{className:f().e("Header")},"Общий доступ к папке «"+yr.externals.entityify(e.name)+"»"),o.default.createElement(u.AccessFolderInviteForm,{onAddAlreadyAddedUser:r}),o.default.createElement(c.AccessFolderUsersList,{highlighted:t,onChangeHighlighted:i}),o.default.createElement(l.AccessFolderFooter,null))})}),,,,,(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(33),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(2),y=n.n(g),b=(n(2068),n(16)),_=n(0),O=n.n(_),E=n(195),w=n(26),S=n(51),C=n(152),x=n(1089),T=Object(b.connect)(C.getTabsItems)(x.default),P=n(573),k=n(15),j=n(130),R=n(599),I=n(92),A=n(112),D=n(1090),M=n(1091),N=n.n(M),L=n(30),F=n(24),B=n(11),U=n.n(B);function z(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var V,H,W,$,G,q=function(){return U()()("listing-head")};V=n(944).default,H=n(2406).default,W=n(1134).default;var Y=n(1095).default;$=Y(w.Button),G=Y(S.Link);var K=["/trash","/shared","/family","/family/album",F.VIRTUAL_DISKS_ROOT,"/published","/attach","/narod","/attach/yaruarchive","/attach/YaFotki"],J=(function(e){h()(n,e);var t=z(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._onDisplayTypeChange=r._onDisplayTypeChange.bind(f()(r)),r._onCrumbsItemClick=r._onCrumbsItemClick.bind(f()(r)),r._onBackClick=r._onBackClick.bind(f()(r)),r._getCrumbsItem=r._getCrumbsItem.bind(f()(r)),r}return l()(n,[{key:"_getResourceById",value:function(e){return this.props.resourcesByIds[e]||{id:e,type:"dir"}}},{key:"_onDisplayTypeChange",value:function(e){this.props.setViewStatesContext(e)}},{key:"_onCrumbsItemClick",value:function(e){this.props.goToFolder(e)}},{key:"_getCrumbsItem",value:function(e,t){var n=this._getResourceById(e.id);return this.props.canMoveInto(n)?O.a.createElement(G,a()({id:e.id,type:n.type},t)):O.a.createElement(S.Link,t)}},{key:"_getParentFolderId",value:function(){return this.props.items[this.props.items.length-1].id}},{key:"_onBackClick",value:function(){this.props.goToFolder(this._getParentFolderId())}},{key:"_getAdditionalActions",value:function(){var e=this.props.additionalActions;return e&&O.a.createElement("div",{className:q().e("additional-actions")},e)}},{key:"_getListingDesktopSettings",value:function(e){var t=this.props,n=t.view,r=t.sortable,o=t.displayListingType,a=this._getAdditionalActions(),s=q().e("listing-settings");return e&&(s=s.m(i()({},e,!0))),O.a.createElement("div",{className:s},a,r?O.a.createElement(H,{cls:q().e("sort")}):null,o?O.a.createElement(V,{values:["tile","icons","list"],value:n,onChange:this._onDisplayTypeChange}):null)}},{key:"_getBackButton",value:function(){var e,t={view:"clear",size:"s",className:q().e("back"),onClick:this._onBackClick,icon:E.backArrowIconProvider};return this.props.canMoveInto(this._getResourceById(this._getParentFolderId()))?(t.id=this._getParentFolderId(),t.type="back",e=$):e=w.Button,O.a.createElement(e,a()({},t,{"aria-label":"Назад"}))}},{key:"_getReadonlyNotification",value:function(){return this.props.isReadOnlyVdResource?O.a.createElement(N.a,{className:q().e("readonly-notification").m({touch:!1})}):null}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.page.idContext,r=e.current,i=e.hideActionsButton,o=(e.isReadOnlyVdResource,e.hasTabs),a=t.length>0&&!K.includes(n),s=!a&&o,u=Object(F.isVirtualDiskJournal)(n);return O.a.createElement("div",{className:q().m({"with-crumbs":a,"with-tabs":s})},a?O.a.createElement("div",{className:q().e("crumbs-and-settings")},O.a.createElement(W,{cls:q().e("crumbs"),onItemClick:this._onCrumbsItemClick,getCrumbsItem:this._getCrumbsItem,items:t,root:r&&{name:r.name,id:r.idContext},tooltipDirections:["top-start","bottom-end"],full:!0}),this._getListingDesktopSettings()):null,O.a.createElement("div",{className:q().e("heading-wrapper")},a?this._getBackButton():null,O.a.createElement(D.a,{hideActionsButton:i}),!1),s?O.a.createElement(T,{className:q().e("tabs")}):null,O.a.createElement(O.a.Fragment,null,this._getReadonlyNotification(),!u&&this._getListingDesktopSettings("bottom")))}}]),n})(_.Component);J.defaultProps={displayListingType:!0};var Z={setViewStatesContext:P.a,goToFolder:k.goToFolder};t.default=Object(b.connect)((function(e){var t=e.page,n=e.resources;return{view:Object(j.getView)(e),items:Object(R.getCrumbsItems)(e),hasTabs:Object(C.hasTabs)(e),current:Object(R.getCurrentCrumbItem)(e),resourcesByIds:n,page:t,canMoveInto:function(t){return Object(L.can)(L.MOVE_INTO,t,e)},isReadOnlyVdResource:Object(I.isReadOnlyVdResource)(t.idContext,e),restrict:Object(A.shouldRestrict)(e,{forLite:!0})}}),Z)(J)}),(function(e,t,n){"use strict";var r=n(33),i=n.n(r),o=n(10),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(2),y=n.n(g),b=(n(2197),n(3)),_=n(89),O=n(16),E=n(29),w=n(0),S=n.n(w),C=n(26),x=n(509),T=n(281),P=n(366),k=n(56),j=n(36),R=n(57),I=n(112),A=n(44),D=n(115),M=n(96),N=n(32),L=n(65),F=n(14),B=n(58),U=n(11),z=n.n(U);function V(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var H=function(){return z()()("listing-stub")},W=Object(b.compose)(_.withViewPremium)(C.Button),$={screenshots:function(e){return{caption:"Скриншоты",descs:["win","mac"].includes(e.osId)?["В этой папке могут храниться скриншоты с компьютера. Но сейчас их здесь нет.","Чтобы они появились, установите программу Яндекс Диск. В ней вы сможете сделать скриншот, отредактировать его и поделиться."]:["В этой папке могут храниться скриншоты из программы Яндекс Диск. Программа доступна для Windows и Mac."]}},downloads:{caption:"Загрузки",descs:["В папке «Загрузки» хранятся файлы, которые вы сохранили на Диск по публичной ссылке или из Почты."]},published:{caption:"Публичные ссылки",descs:["Любым файлом в Диске легко поделиться. Выберите файл или папку и сделайте ссылку."]},shared:function(e){return{caption:"Общие папки для совместной работы",descs:[e.agent.isMobile?"В общих папках могут вместе просматривать, добавлять и редактировать файлы несколько человек":"Пригласите несколько человек в общую папку, чтобы вместе просматривать, добавлять и редактировать файлы."]}},family:function(e){var t=e.agent.isMobile,n=e.isFamilyCreationAllowed,r=e.shouldShowFamilyPromo,i=e.isFamilyAlbumExp;return!t&&r?i?{caption:S.a.createElement(S.a.Fragment,null,"Соберите до 8 близких и оцените выгоду",S.a.createElement("br",null),"от тарифа Яндекс 360 Премиум Семейный"),descs:[S.a.createElement(S.a.Fragment,null,"Получите +1 ТБ на Диске для каждого в тарифе",S.a.createElement("br",null),"и делитесь с близкими файлами",S.a.createElement("br",null),"в семейных папках и альбоме")]}:{caption:S.a.createElement(S.a.Fragment,null,"Подключите семейный тариф",S.a.createElement("br",null),"и поделитесь файлами с близкими"),descs:[S.a.createElement(S.a.Fragment,null,"Вы сможете хранить общие файлы в семейных папках",S.a.createElement("br",null),"и быстро делиться ими с родственниками.")]}:{caption:"Семейных папок пока нет",descs:n?["Вы можете хранить в семейных папках общие файлы и быстро делиться ими с близкими."]:[]}},photo:function(e){return{caption:"Все фотографии",descs:[e.agent.isMobile?"Здесь будут ваши загруженные фото и видео":"Загружайте свои фотографии любым удобным способом, можно даже перетащить в окно браузера."]}},photo_filter:{caption:"Пустой альбом",descs:["В альбоме ничего нет"]},recent:{caption:"Последние файлы",descs:["В этом разделе Яндекс Диск показывает файлы, загруженные последними."]},albums:{caption:"Альбомы",descs:["У вас пока нет ни одного альбома. Загрузите фото, чтобы создать альбом."]},album:function(e){return e.isFamilyAlbum?{caption:"Пустой альбом",descs:["В этом альбоме пока нет ни одной фотографии."]}:{caption:"Пустой альбом",descs:["В альбоме ничего нет"]}},trash:function(){return{caption:"Корзина пуста",descs:[]}},wfolio_empty:{caption:"Здесь появятся ваши проекты",descs:["Создайте проект прямо на Диске — в Wfolio он тоже появится. Управлять проектом сможете там, где удобно."]},wfolio_need_auth:{caption:"Войдите в аккаунт Wfolio",descs:["Он свяжется с вашим Яндекс ID, и вы сможете начать работу с проектами."]},wfolio_need_subscribe:{caption:"Больше возможностей с Wfolio Премиум",descs:["Подключите любой тариф Яндекс 360 Wfolio Премиум, чтобы работать на Диске с проектами Wfolio."]}},G=(function(e){h()(n,e);var t=V(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._onUploadButtonChange=r._onUploadButtonChange.bind(f()(r)),r._onUploadButtonClick=r._onUploadButtonClick.bind(f()(r)),r._onFamilyBottonClick=r._onFamilyBottonClick.bind(f()(r)),r}return l()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.stubId,n=e.shouldShowFamilyPromo;"family"===t&&n&&F.default.count("family promo","stub","show",this.props.stubViewerMetrikaKey)}},{key:"_onUploadButtonChange",value:function(e,t){this.props.upload(e).then(t,t)}},{key:"_onUploadButtonClick",value:function(){this.props.maybeBlockAction({forLite:!0})}},{key:"_onFamilyBottonClick",value:function(){this.props.shouldShowFamilyPromo?(window.open(this.props.familyButtonLink,"_blank"),F.default.count("family promo","stub","click",this.props.stubViewerMetrikaKey)):(F.default.count("interface elements","create new","family folder","stub",{role:this.props.familyRoleMetrikaKey,feature:this.props.hasFamilyFeature}),this.props.createFolder(!0))}},{key:"_getButtonProps",value:function(){var e=this,t=this.props,n=t.albumId,r=t.stubId,i=t.familyButtonLink,o=t.isFamilyCreationAllowed,a=t.isFamilyAlbum,s=t.shouldShowFamilyPromo,u=t.hasFamilyAlbumFeature,c=t.agent.isMobile,l=t.wfolioCreateProjectOperation,d=t.osId;switch(r){case"screenshots":var f=null;switch(d){case"win":f="Скачать Диск для Windows";break;case"mac":f="Скачать Диск для Mac"}return f?Object.assign({children:f,url:this.props.links.downloadApp[d]},{target:"_blank",type:"link"}):null;case"shared":return!c&&{onClick:this.props.createSharedFolder,children:"Создать общую папку"};case"family":return c||!o&&!s?null:s?{children:"Подключить",onClick:this._onFamilyBottonClick,url:i,view:"premium",type:"link",target:"blank"}:{children:"Создать семейную папку",onClick:this._onFamilyBottonClick,view:"raised"};case"album":if(a&&u){return!c&&{onClick:function(){return e.props.addToCurrentAlbum(n)},children:"Добавить фото",iconLeft:function(e){return S.a.createElement(T.default,{iconSize:"m",className:e})}}}return null;case"wfolio_empty":return{onClick:function(){l([]),F.default.count("interface elements","wfolio","stub","create project")},children:"Создать проект",iconLeft:function(e){return S.a.createElement(T.default,{iconSize:"m",className:e})}};case"wfolio_need_auth":return{url:this.props.links.wfolioAuth,type:"link",target:"blank",onClick:function(){F.default.count("interface elements","wfolio","stub","need auth")},children:"Войти",iconRight:function(e){return S.a.createElement(P.b,{iconSize:"xl",className:e})}};case"wfolio_need_subscribe":return{url:this.props.links.tuningWfolio,type:"link",target:"blank",onClick:function(){F.default.count("interface elements","wfolio","stub","need subscribe")},children:"Выбрать тариф",iconRight:function(e){return S.a.createElement(P.b,{iconSize:"xl",className:e})}}}}},{key:"_getContent",value:function(){var e=this.props.stubId;return"function"==typeof $[e]?$[e](this.props):$[e]}},{key:"render",value:function(){var e,t=this.props,n=t.stubId,r=t.disableUploadButton,o=t.isFooterHidden,s=t.restrict,u=t.withHeading;if(!n)return null;var c=this._getButtonProps(),l=this._getContent(),d=l.caption,f=l.descs;return S.a.createElement("div",{className:H().m((e={withHeading:u},a()(e,n,!0),a()(e,"footer-hidden",o),e))},S.a.createElement("div",{className:H().e("wrapper")},S.a.createElement("div",{className:H().e("icon")}),S.a.createElement("h1",{className:H().e("title")},this.props.caption?this.props.caption:d),f.map((function(e,t){return S.a.createElement("p",{className:H().e("desc"),key:t},e)})),S.a.createElement("div",{className:H().e("button-wrap")},c?S.a.createElement(W,i()({view:"raised",size:"m",theme:"raised"},c)):null,"recent"===n?S.a.createElement(x.default,{theme:"raised",disabled:r,text:"Загрузить",title:"Загрузить файлы",onChange:this._onUploadButtonChange,onClick:this._onUploadButtonClick,withoutInput:s}):null,["albums","photo"].includes(n)?S.a.createElement(x.default,{theme:"raised",disabled:r,action:!1,text:"Загрузить фото",title:"Загрузить фото",onChange:this._onUploadButtonChange,onClick:this._onUploadButtonClick,withoutInput:s}):null)))}}]),n})(w.Component),q={addToCurrentAlbum:L.addToCurrentAlbum,createSharedFolder:E.createSharedFolder,createFolder:E.createFolder,upload:E.upload,maybeBlockAction:E.maybeBlockAction,wfolioCreateProjectOperation:k.wfolioCreateProjectOperation};t.a=Object(O.connect)((function(e){var t=e.config,n=t.links,r=t.urlsBase.yandex360,i=e.page.filter,o=e.environment.agent,a=e.user.wfolio_state,s=Object(R.getOverdraftType)(e),u="".concat(r,"/premium-plans/family/?from=disk_family");return{osId:Object(D.getOsId)(e),stubId:Object(j.getListingStubId)(e),isFooterHidden:Object(A.isFooterHidden)(e),links:n,agent:o,filter:i,familyButtonLink:u,disableUploadButton:Object(R.shouldNotifyOverdraft)(e)&&!s,shouldShowFamilyPromo:Object(B.shouldShowPromoStub)(e),isFamilyCreationAllowed:Object(B.isFamilyCreationAllowed)(e),restrict:Object(I.shouldRestrict)(e,{forLite:!0}),familyRoleMetrikaKey:Object(B.getFamilyRoleMetrikaKey)(e),stubViewerMetrikaKey:Object(B.getPromoStubViewerMetrikaKey)(e),hasFamilyFeature:Object(B.hasFamilyFeature)(e),hasFamilyAlbumFeature:Object(B.hasFamilyAlbumFeature)(e),isFamilyAlbumExp:Object(M.isFamilyAlbumExp)(e),isFamilyAlbum:Object(N.isCurrentAlbumFamily)(e),albumId:Object(N.getCurrentAlbumId)(e),wfolioState:a}}),q)(G)}),(function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(11),v=n.n(m);n(2013);function g(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(){return v()()("lite-checkbox")},b=(function(e){u()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.checked,n=e.onChange,r=e.cls;return h.a.createElement("label",{className:y().mix(r)},h.a.createElement("input",{className:y().e("control"),type:"checkbox",onChange:n,checked:t}),h.a.createElement("div",{className:y().e("box")}))}}]),n})(p.PureComponent);b.defaultProps={checked:!1},t.default=b}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"xxxl"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"M4 13.308C4 10.376 6.35 8 9.25 8h14a6.975 6.975 0 0 1 5.6 2.83L32 15.078h22.75c2.9 0 5.25 2.376 5.25 5.308v28.307C60 51.624 57.65 54 54.75 54H9.25C6.35 54 4 51.624 4 48.692V13.308Z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"xxxl"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M25.875 47.75C13.794 47.75 4 37.956 4 25.875S13.794 4 25.875 4 47.75 13.794 47.75 25.875c0 4.777-1.532 9.197-4.13 12.795l13.605 13.605a3.5 3.5 0 0 1-4.95 4.95L38.67 43.62a21.776 21.776 0 0 1-12.795 4.13Zm0-7c8.215 0 14.875-6.66 14.875-14.875S34.09 11 25.875 11 11 17.66 11 25.875 17.66 40.75 25.875 40.75Z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"xxxl"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M18 14.5C18 8.701 22.701 4 28.5 4h7C41.299 4 46 8.701 46 14.5h7a3.5 3.5 0 1 1 0 7h-2.288l-2.59 33.653A5.25 5.25 0 0 1 42.889 60H21.112a5.25 5.25 0 0 1-5.235-4.847L13.29 21.5H11a3.5 3.5 0 1 1 0-7h7Zm5.55 10.328a2.8 2.8 0 0 0-2.576 3.008l1.49 19.266a2.8 2.8 0 0 0 5.583-.432l-1.49-19.266a2.8 2.8 0 0 0-3.008-2.576Zm13.892 2.594a2.8 2.8 0 1 1 5.583.432l-1.487 19.225a2.8 2.8 0 0 1-5.583-.432l1.487-19.225ZM28.5 11a3.5 3.5 0 0 0-3.5 3.5h14a3.5 3.5 0 0 0-3.5-3.5h-7Z"})}}]),n})(n(12).default)}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(0),v=n.n(m),g=n(34),y=n.n(g),b=n(144),_=n.n(b),O=n(941),E=n.n(O),w=n(257),S=n(284),C=(n(2016),n(11)),x=n.n(C);function T(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var P=(function(e){l()(n,e);var t=T(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={tooltipClosed:!1},r._onTooltipClose=r._onTooltipClose.bind(u()(r)),r}return a()(n,[{key:"componentDidUpdate",value:function(e){(this.props.selectedCount<=y.a.MAX_ACTIONABLE_SELECTION&&e.selectedCount>y.a.MAX_ACTIONABLE_SELECTION||this.props.visible&&!e.visible)&&(this._tooltipWasShown=!1,this.state.tooltipClosed&&this.setState({tooltipClosed:!1}))}},{key:"_onTooltipClose",value:function(){this.setState({tooltipClosed:!0})}},{key:"_getTooltip",value:function(){return v.a.createElement(w.MessageBoxPopup,{className:x()()("selection-info").e("tooltip"),view:"default",size:"m",anchor:this.props.actionBarRef,scope:this.props.actionBarRef,direction:"bottom-start",visible:!0,onClose:this._onTooltipClose,secondaryOffset:0},v.a.createElement(w.Wrapper,{align:"left",leading:v.a.createElement(S.a,null)},"Выбрано слишком много фото.\n Действия доступны только для 500 фото"))}},{key:"render",value:function(){var e,t=this.props,n=t.isPhotoslice,r=t.isPageAlbum,i=t.missingSelectedCount,o=t.selectedCount,a=t.isSelectingPhotos;e=(n||r)&&o>y.a.MAX_ACTIONABLE_SELECTION?"Слишком много фото":_.a.capitalize(__i18n__.i18n.convert(["1 файл",yr.externals.entityify(o)+" файл",yr.externals.entityify(o)+" файла",yr.externals.entityify(o)+" файлов"],yr.externals.entityify(o)));var s=n&&i>0&&o<y.a.PHOTOSLICE_MAX_FETCHING_SELECTION,u=(n||r)&&o>y.a.MAX_ACTIONABLE_SELECTION;return s||a||u?(s||a||(this._tooltipWasShown=!0),v.a.createElement(v.a.Fragment,null,v.a.createElement(E.a,{key:"info",text:s||a?"":e,withSpin:s||a,onCheckboxChange:this.props.onCheckboxChange}),!this.props.visible||this.state.tooltipClosed||(s||a)&&!this._tooltipWasShown?null:this._getTooltip())):v.a.createElement(E.a,{text:e,onCheckboxChange:this.props.onCheckboxChange})}}]),n})(m.Component);t.default=P}),(function(e,t,n){var r=n(128),i=n(2045),o=n(2046),a="Expected a function",s=Math.max,u=Math.min;e.exports=function(e,t,n){var c,l,d,f,p,h,m=0,v=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=c,r=l;return c=l=void 0,m=t,f=e.apply(r,n)}function _(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-m>=d}function O(){var e=i();if(_(e))return E(e);p=setTimeout(O,(function(e){var n=t-(e-h);return g?u(n,d-(e-m)):n})(e))}function E(e){return p=void 0,y&&c?b(e):(c=l=void 0,f)}function w(){var e=i(),n=_(e);if(c=arguments,l=this,h=e,n){if(void 0===p)return (function(e){return m=e,p=setTimeout(O,t),v?b(e):f})(h);if(g)return clearTimeout(p),p=setTimeout(O,t),b(h)}return void 0===p&&(p=setTimeout(O,t)),f}return t=o(t)||0,r(n)&&(v=!!n.leading,d=(g="maxWait"in n)?s(o(n.maxWait)||0,t):d,y="trailing"in n?!!n.trailing:y),w.cancel=function(){void 0!==p&&clearTimeout(p),m=0,c=h=l=p=void 0},w.flush=function(){return void 0===p?f:E(i())},w}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(26),s=n(491),u=n(64),c=i(n(205));n(2074);const l=i(n(11));t.default=(e=>{const{title:t,value:n,menuClassName:r}=e,i=o.useCallback(r=>{const i=e.options.find(e=>e.value===n);return o.default.createElement(a.Button,Object.assign({},c.default(r,["width"]),{view:"raised","aria-label":`${t} ${null===i||void 0===i?void 0:i.content}`,iconLeft:null===i||void 0===i?void 0:i.icon})," ")},[t,n,e.options]),d=o.useCallback((e,n)=>o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:l.default()("SelectWithTitle").e("Title")},t),o.default.createElement(n,Object.assign({},c.default(e,["items"]),{rightGlyph:!0,wide:!0,className:r}),e.items.map(({content:e,value:t,icon:n})=>o.default.createElement(u.Item,{key:t,value:t,icon:n},e)))),[t,r]);return o.default.createElement(s.Select,Object.assign({renderMenu:d,renderTrigger:i},e))})}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=(n(2079),n(16)),h=n(0),m=n.n(h),v=n(214),g=n(570),y=n(26),b=n(210),_=n(111),O=n.n(_),E=n(11),w=n.n(E);function S(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var C=n(79).I18N,x=function(){return w()()("listing-invites-to-folders")},T=(function(e){u()(n,e);var t=S(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_onAcceptButtonClick",value:function(e){this.props.acceptInviteToFolder(e)}},{key:"_onRejectButtonClick",value:function(e){this.props.rejectInviteToFolder(e)}},{key:"_onCloseButtonClick",value:function(e){this.props.hideInviteToFolder(e)}},{key:"_getInvite",value:function(e){var t=e.hash,n=e.folder_name,r=e.size,i=e.owner_name,o=O.a.formatSpace(r);return m.a.createElement("div",{className:x().e("item"),key:t},m.a.createElement("div",{className:x().e("text"),title:"Приглашение в папку «"+yr.externals.entityify(n)+"» ("+yr.externals.entityify(o)+"), владелец — "+yr.externals.entityify(i)},m.a.createElement(C,{loc:"Приглашение в папку «"+yr.externals.entityify(C.$1)+"» ("+yr.externals.entityify(C.$2)+"), владелец — "+yr.externals.entityify(C.$3)},n,o,m.a.createElement("span",{className:x().e("username")},i))),m.a.createElement("div",{className:x().e("buttons")},m.a.createElement(y.Button,{className:x().e("button"),view:"link",size:"s",onClick:this._onAcceptButtonClick.bind(this,t)},"Принять приглашение"),m.a.createElement(y.Button,{className:x().e("button"),view:"pseudo-inverse",size:"s",onClick:this._onRejectButtonClick.bind(this,t)},"Отклонить")),m.a.createElement("div",{className:x().e("close")},m.a.createElement(y.Button,{view:"clear-inverse",size:"s","aria-label":"Закрыть",onClick:this._onCloseButtonClick.bind(this,t),icon:b.close2IconProvider})))}},{key:"componentDidMount",value:function(){this.props.fetchInvitesToFolders()}},{key:"render",value:function(){return m.a.createElement("div",{className:x()},this.props.items.map(this._getInvite,this))}}]),n})(h.Component),P={acceptInviteToFolder:v.acceptInviteToFolder,rejectInviteToFolder:v.rejectInviteToFolder,hideInviteToFolder:v.hideInviteToFolder,fetchInvitesToFolders:v.fetchInvitesToFolders};t.default=Object(p.connect)((function(e){return{items:Object(g.getInvitesList)(e)}}),P)(T)}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(2080)),u=i(n(2082)),c=i(n(2085)),l=i(n(1198)),d=n(67),f=n(59),p=n(58),h=n(65),m={closePopup:d.closeFamilyAlbumOnboarding,saveSettings:f.saveSettings,addToCurrentAlbum:h.addToCurrentAlbum};t.default=a.connect(e=>({isOpened:e.albums.isOpenFamilyAlbumOnboarding,familyAlbum:e.albums.albums.family,members:p.getFamilyMembers(e)}),m)(({addToCurrentAlbum:e,closePopup:t,isOpened:n,saveSettings:r,members:i,familyAlbum:a})=>{o.useEffect(()=>{n&&r({key:"isShownFamilyAlbumOnboarding",value:"1"})},[n,r]);const d=o.useCallback(()=>{(null===a||void 0===a?void 0:a.personalAlbumId)&&e(a.personalAlbumId)},[null===a||void 0===a?void 0:a.personalAlbumId,e]),f=o.useMemo(()=>{const e=[{id:"album",content:e=>o.default.createElement(s.default,Object.assign({},e)),hasSkipButton:!1,hasCloseButton:!0}];return i.length?e.push({id:"list",content:e=>o.default.createElement(c.default,Object.assign({},e)),hasSkipButton:!1,hasCloseButton:!0}):e.push({id:"empty",content:e=>o.default.createElement(u.default,Object.assign({},e)),hasSkipButton:!1,hasCloseButton:!0}),e},[null===i||void 0===i?void 0:i.length]);return o.default.createElement(l.default,{steps:f,isOpened:n,onFinish:d,closePopup:t,premiumStepsIds:["album","empty"],onboardingId:"family album onboarding"})})}),(function(e,t){e.exports="/s3/disk/_/_1ZBWL9L1w6V2DwFdsrNw6HIApMl.png"}),(function(e,t){e.exports="/s3/disk/_/_bcVaCwUswf6u2CuosDqzT320Tk-.png"}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(2089),u=n(2107),c=n(81),l=n(86),d=i(n(14)),f=i(n(11));n(2108);t.default=a.connect(e=>({isDark:c.isContentDark(l.getThemeName(e))}))(({steps:e,initialStepIndex:t,onClose:n,onNextStep:r,onFinish:i,closePopup:a,isOpened:c,isDark:l,premiumStepsIds:p,onboardingId:h})=>{const{currentStepIndex:m,currentStep:v,toggleNextStep:g,togglePreviousStep:y,isLastStep:b,toggleStepByIndex:_}=u.useMultiStepState(e,t);o.useEffect(()=>{c&&d.default.count(h,v.id,"show")},[h,v,c]);const O=o.useCallback(()=>{d.default.count(h,v.id,"submit click"),b?(d.default.count(h,v.id,"finish"),i&&i(),a(),_(0)):(r&&r(m+1),g())},[b,i,a,r,g,m,_,v,h]),E=o.useCallback(()=>{d.default.count(h,v.id,"close"),n&&n(),_(0),a()},[a,n,_,v,h]);return e?o.default.createElement(s.MultiStepPopup,{stepsTotal:e.length,currentStep:v,currentStepIndex:m,visible:c,className:f.default()("multi-step-onboarding").m({dark:l,premium:p.includes(v.id),touch:!1}),onClose:E,isTouch:!1,onSkip:O,contentVerticalAlign:"middle"},o.default.createElement(v.content,{id:v.id,stepIndex:m,toggleNextStep:O,togglePreviousStep:y,isTouch:!1,isLastStep:b})):null})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(35)),o=n(15),a=n(24);t.updateVirtualDiskInfo=(e=>(t,n)=>{const r=`${a.VIRTUAL_DISKS_ROOT}/${e.vd_fields.vd_hash}/disk`,{vd_name:s}=e.vd_fields,u=e.space,c=a.getCurrentVirtualDiskTrash(r),{settings:l,config:d,defaultFolders:{folders:f}}=n(),p=i.default.preprocess({id:r,name:s,type:"vd",space:u,vd_fields:e.vd_fields},l,d,f),h=c&&i.default.preprocess(a.getVirtualDiskTrashInitialState(c,[{id:r,name:s}],u.trash||0),l,d,f);t(o.updateResources([p,h]))})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=r(n(2158)),s=r(n(11));n(2159);const u=n(26),c=r(n(2160)),l=()=>s.default()("listing-scans-stub"),d=o.connect(e=>{const{isMobile:t,isInMobileApp:n}=e.environment.agent;return{links:e.config.links,isMobile:t,isInMobileApp:n}});t.default=d(({isMobile:e,isInMobileApp:t,links:n})=>{return i.default.createElement("div",{className:l().m({desktop:!e})},i.default.createElement("div",{className:l().e("title")},t?"Сканируйте в приложении любые бумажные документы":e?"Сканируйте в приложении Почты любые бумажные документы":"Сканов пока нет. Сканируйте документы в приложениях Яндекс 360:"),e?i.default.createElement("div",{className:l().e("image-wrapper")},i.default.createElement("img",{className:l().e("image"),src:n.static.host+a.default}),!e&&i.default.createElement("div",{className:l().e("qr-wrapper")},i.default.createElement("div",{className:l().e("qr-code-old")}),i.default.createElement("div",{className:l().e("qr-text")},"Cкачать",i.default.createElement("div",{className:l().e("qr-text-mail")},"Яндекс Почту")))):i.default.createElement("div",{className:l().e("content")},e?i.default.createElement("img",{className:l().e("image"),src:n.static.host+a.default}):i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{staticHost:n.static.host,service:"mail",className:l().e("qr-code")}),i.default.createElement(c.default,{staticHost:n.static.host,service:"disk",className:l().e("qr-code")}))),e&&!t&&i.default.createElement(u.Button,{className:l().e("install-button"),view:"action",size:"xxl",type:"link",url:n.downloadMailApp},"Установить Яндекс Почту"))})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"trash4IconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 3a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3h2a1 1 0 1 1 0 2h-.654l-.74 9.615A1.5 1.5 0 0 1 11.111 16H4.889a1.5 1.5 0 0 1-1.496-1.385L2.653 5H2a1 1 0 0 1 0-2h2zm1.586 2.95a.8.8 0 0 0-.736.86l.425 5.505a.8.8 0 0 0 1.596-.123l-.426-5.505a.8.8 0 0 0-.86-.736zm3.969.742a.8.8 0 0 1 1.595.123l-.425 5.493a.8.8 0 1 1-1.595-.123l.425-5.493zM7 2a1 1 0 0 0-1 1h4a1 1 0 0 0-1-1H7z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"closeIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(12),h=n(0),m=n.n(h);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return m.a.createElement("path",{d:"M2 2 14 14M2 14 14 2",stroke:"currentColor"})}}]),n})(p.default),y=Object(p.iconProvider)(g)}),(function(e,t,n){var r=n(9);function i(e){var t=e.rect,n=e.fnGetRectEl(e.el,e.indexEl);return n.top>=t.bottom||n.left>=t.right?1:n.bottom<=t.top||n.right<=t.left?-1:0}function o(e){for(var t=e.positionEl,n={from:t,to:t},i=e.elements.length;--t>=0&&a(r.extend(e,{el:e.elements[t],indexEl:t}));)n.from--;for(t=e.positionEl;++t<i&&a(r.extend(e,{el:e.elements[t],indexEl:t}));)n.to++;return n}function a(e){return 0===i(e)}e.exports={findInRect:function(e){for(var t,n,a=0,s=e.elements.length;a<s;)if(t=(a+s)/2|0,(n=i(r.extend(e,{el:e.elements[t],indexEl:t})))<0)a=t+1;else{if(!(n>0))return o(r.extend(e,{positionEl:t}));s=t}},findElSiblingsInRect:o,isElInRect:a,getRect:function(e){if(e===window||e===window.document){var t=$(window),n=t.scrollTop()||0,r=t.scrollLeft()||0;return{top:n,bottom:n+(t.height()||0),left:r,right:r+(t.width()||0)}}var i=e.getBoundingClientRect();return{top:i.top+window.pageYOffset,bottom:i.bottom+window.pageYOffset,left:i.left+window.pageXOffset,right:i.right+window.pageXOffset}}}}),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(function(e,t,n){var r;!(function(){return function e(t,n,i){function o(s,u){if(!n[s]){if(!t[s]){if(!u&&"function"==typeof r&&r)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){return o(t[s][1][e]||e)}),l,l.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}})()({1:[function(e,t,n){e(276),e(212),e(214),e(213),e(216),e(218),e(223),e(217),e(215),e(225),e(224),e(220),e(221),e(219),e(211),e(222),e(226),e(227),e(178),e(180),e(179),e(229),e(228),e(199),e(209),e(210),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(182),e(183),e(184),e(185),e(186),e(187),e(188),e(189),e(190),e(191),e(192),e(193),e(194),e(195),e(196),e(197),e(198),e(263),e(268),e(275),e(266),e(258),e(259),e(264),e(269),e(271),e(254),e(255),e(256),e(257),e(260),e(261),e(262),e(265),e(267),e(270),e(272),e(273),e(274),e(173),e(175),e(174),e(177),e(176),e(161),e(159),e(166),e(163),e(169),e(171),e(158),e(165),e(155),e(170),e(153),e(168),e(167),e(160),e(164),e(152),e(154),e(157),e(156),e(172),e(162),e(245),e(246),e(252),e(247),e(248),e(249),e(250),e(251),e(230),e(181),e(253),e(288),e(289),e(277),e(278),e(283),e(286),e(287),e(281),e(284),e(282),e(285),e(279),e(280),e(231),e(232),e(233),e(234),e(235),e(238),e(236),e(237),e(239),e(240),e(241),e(242),e(244),e(243),t.exports=e(50)},{152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,50:50}],2:[function(e,t,n){e(290),t.exports=e(50).Array.flatMap},{290:290,50:50}],3:[function(e,t,n){e(291),t.exports=e(50).Array.includes},{291:291,50:50}],4:[function(e,t,n){e(292),t.exports=e(50).Object.entries},{292:292,50:50}],5:[function(e,t,n){e(293),t.exports=e(50).Object.getOwnPropertyDescriptors},{293:293,50:50}],6:[function(e,t,n){e(294),t.exports=e(50).Object.values},{294:294,50:50}],7:[function(e,t,n){"use strict";e(230),e(295),t.exports=e(50).Promise.finally},{230:230,295:295,50:50}],8:[function(e,t,n){e(296),t.exports=e(50).String.padEnd},{296:296,50:50}],9:[function(e,t,n){e(297),t.exports=e(50).String.padStart},{297:297,50:50}],10:[function(e,t,n){e(299),t.exports=e(50).String.trimRight},{299:299,50:50}],11:[function(e,t,n){e(298),t.exports=e(50).String.trimLeft},{298:298,50:50}],12:[function(e,t,n){e(300),t.exports=e(149).f("asyncIterator")},{149:149,300:300}],13:[function(e,t,n){e(30),t.exports=e(16).global},{16:16,30:30}],14:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],15:[function(e,t,n){var r=e(26);t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{26:26}],16:[function(e,t,n){var r=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},{}],17:[function(e,t,n){var r=e(14);t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{14:14}],18:[function(e,t,n){t.exports=!e(21)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{21:21}],19:[function(e,t,n){var r=e(26),i=e(22).document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{22:22,26:26}],20:[function(e,t,n){var r=e(22),i=e(16),o=e(17),a=e(24),s=e(23),u=function(e,t,n){var c,l,d,f=e&u.F,p=e&u.G,h=e&u.S,m=e&u.P,v=e&u.B,g=e&u.W,y=p?i:i[t]||(i[t]={}),b=y.prototype,_=p?r:h?r[t]:(r[t]||{}).prototype;for(c in p&&(n=t),n)(l=!f&&_&&void 0!==_[c])&&s(y,c)||(d=l?_[c]:n[c],y[c]=p&&"function"!=typeof _[c]?n[c]:v&&l?o(d,r):g&&_[c]==d?(function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t})(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[c]=d,e&u.R&&b&&!b[c]&&a(b,c,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{16:16,17:17,22:22,23:23,24:24}],21:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],22:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],23:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],24:[function(e,t,n){var r=e(27),i=e(28);t.exports=e(18)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{18:18,27:27,28:28}],25:[function(e,t,n){t.exports=!e(18)&&!e(21)((function(){return 7!=Object.defineProperty(e(19)("div"),"a",{get:function(){return 7}}).a}))},{18:18,19:19,21:21}],26:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],27:[function(e,t,n){var r=e(15),i=e(25),o=e(29),a=Object.defineProperty;n.f=e(18)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{15:15,18:18,25:25,29:29}],28:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],29:[function(e,t,n){var r=e(26);t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{26:26}],30:[function(e,t,n){var r=e(20);r(r.G,{global:e(22)})},{20:20,22:22}],31:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{14:14}],32:[function(e,t,n){var r=e(46);t.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},{46:46}],33:[function(e,t,n){var r=e(150)("unscopables"),i=Array.prototype;void 0==i[r]&&e(70)(i,r,{}),t.exports=function(e){i[r][e]=!0}},{150:150,70:70}],34:[function(e,t,n){"use strict";var r=e(127)(!0);t.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},{127:127}],35:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],36:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{15:15,79:79}],37:[function(e,t,n){"use strict";var r=e(140),i=e(135),o=e(139);t.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),d=1;for(u<s&&s<u+l&&(d=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=d,u+=d;return n}},{135:135,139:139,140:140}],38:[function(e,t,n){"use strict";var r=e(140),i=e(135),o=e(139);t.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},{135:135,139:139,140:140}],39:[function(e,t,n){var r=e(138),i=e(139),o=e(135);t.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},{135:135,138:138,139:139}],40:[function(e,t,n){var r=e(52),i=e(75),o=e(140),a=e(139),s=e(43);t.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,d=6==e,f=5==e||d,p=t||s;return function(t,s,h){for(var m,v,g=o(t),y=i(g),b=r(s,h,3),_=a(y.length),O=0,E=n?p(t,_):u?p(t,0):void 0;_>O;O++)if((f||O in y)&&(v=b(m=y[O],O,g),e))if(n)E[O]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return O;case 2:E.push(m)}else if(l)return!1;return d?-1:c||l?l:E}}},{139:139,140:140,43:43,52:52,75:75}],41:[function(e,t,n){var r=e(31),i=e(140),o=e(75),a=e(139);t.exports=function(e,t,n,s,u){r(t);var c=i(e),l=o(c),d=a(c.length),f=u?d-1:0,p=u?-1:1;if(n<2)for(;;){if(f in l){s=l[f],f+=p;break}if(f+=p,u?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:d>f;f+=p)f in l&&(s=t(s,l[f],f,c));return s}},{139:139,140:140,31:31,75:75}],42:[function(e,t,n){var r=e(79),i=e(77),o=e(150)("species");t.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},{150:150,77:77,79:79}],43:[function(e,t,n){var r=e(42);t.exports=function(e,t){return new(r(e))(t)}},{42:42}],44:[function(e,t,n){"use strict";var r=e(31),i=e(79),o=e(74),a=[].slice,s={};t.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?(function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)})(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(u.prototype=t.prototype),u}},{31:31,74:74,79:79}],45:[function(e,t,n){var r=e(46),i=e(150)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(function(e,t){try{return e[t]}catch(e){}})(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},{150:150,46:46}],46:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],47:[function(e,t,n){"use strict";var r=e(97).f,i=e(96),o=e(115),a=e(52),s=e(35),u=e(66),c=e(83),l=e(85),d=e(121),f=e(56),p=e(92).fastKey,h=e(147),m=f?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&u(r,n,e[c],e)}));return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(h(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return h(this,t)[m]}}),l},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))}),n?"entries":"values",!n,!0),d(t)}}},{115:115,121:121,147:147,35:35,52:52,56:56,66:66,83:83,85:85,92:92,96:96,97:97}],48:[function(e,t,n){"use strict";var r=e(115),i=e(92).getWeak,o=e(36),a=e(79),s=e(35),u=e(66),c=e(40),l=e(69),d=e(147),f=c(5),p=c(6),h=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},g=function(e,t){return f(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,n,o){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)}));return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(d(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(d(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},{115:115,147:147,35:35,36:36,40:40,66:66,69:69,79:79,92:92}],49:[function(e,t,n){"use strict";var r=e(68),i=e(60),o=e(116),a=e(115),s=e(92),u=e(66),c=e(35),l=e(79),d=e(62),f=e(84),p=e(122),h=e(73);t.exports=function(e,t,n,m,v,g){var y=r[e],b=y,_=v?"set":"add",O=b&&b.prototype,E={},w=function(e){var t=O[e];o(O,e,"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(g||O.forEach&&!d((function(){(new b).entries().next()})))){var S=new b,C=S[_](g?{}:-0,1)!=S,x=d((function(){S.has(1)})),T=f((function(e){new b(e)})),P=!g&&d((function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)}));T||((b=t((function(t,n){c(t,b,e);var r=h(new y,t,b);return void 0!=n&&u(n,v,r[_],r),r}))).prototype=O,O.constructor=b),(x||P)&&(w("delete"),w("has"),v&&w("get")),(P||C)&&w(_),g&&O.clear&&delete O.clear}else b=m.getConstructor(t,e,v,_),a(b.prototype,n),s.NEED=!0;return p(b,e),E[e]=b,i(i.G+i.W+i.F*(b!=y),E),g||m.setStrong(b,e,v),b}},{115:115,116:116,122:122,35:35,60:60,62:62,66:66,68:68,73:73,79:79,84:84,92:92}],50:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{16:16}],51:[function(e,t,n){"use strict";var r=e(97),i=e(114);t.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},{114:114,97:97}],52:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{17:17,31:31}],53:[function(e,t,n){"use strict";var r=e(62),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},{62:62}],54:[function(e,t,n){"use strict";var r=e(36),i=e(141);t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},{141:141,36:36}],55:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],56:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{18:18,62:62}],57:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{19:19,68:68,79:79}],58:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],59:[function(e,t,n){var r=e(105),i=e(102),o=e(106);t.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},{102:102,105:105,106:106}],60:[function(e,t,n){var r=e(68),i=e(50),o=e(70),a=e(116),s=e(52),u=function(e,t,n){var c,l,d,f,p=e&u.F,h=e&u.G,m=e&u.S,v=e&u.P,g=e&u.B,y=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),_=b.prototype||(b.prototype={});for(c in h&&(n=t),n)d=((l=!p&&y&&void 0!==y[c])?y:n)[c],f=g&&l?s(d,r):v&&"function"==typeof d?s(Function.call,d):d,y&&a(y,c,d,e&u.U),b[c]!=d&&o(b,c,f),v&&_[c]!=d&&(_[c]=d)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{116:116,50:50,52:52,68:68,70:70}],61:[function(e,t,n){var r=e(150)("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},{150:150}],62:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21}],63:[function(e,t,n){"use strict";e(246);var r=e(116),i=e(70),o=e(62),a=e(55),s=e(150),u=e(118),c=s("species"),l=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]})();t.exports=function(e,t,n){var f=s(e),p=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=p?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!t})):void 0;if(!p||!h||"replace"===e&&!l||"split"===e&&!d){var m=/./[f],v=n(a,f,""[e],(function(e,t,n,r,i){return t.exec===u?p&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=v[0],y=v[1];r(String.prototype,e,g),i(RegExp.prototype,f,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},{116:116,118:118,150:150,246:246,55:55,62:62,70:70}],64:[function(e,t,n){"use strict";var r=e(36);t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{36:36}],65:[function(e,t,n){"use strict";var r=e(77),i=e(79),o=e(139),a=e(52),s=e(150)("isConcatSpreadable");t.exports=function e(t,n,u,c,l,d,f,p){for(var h,m,v=l,g=0,y=!!f&&a(f,p,3);g<c;){if(g in u){if(h=y?y(u[g],g,n):u[g],m=!1,i(h)&&(m=void 0!==(m=h[s])?!!m:r(h)),m&&d>0)v=e(t,n,h,o(h.length),v,d-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=h}v++}g++}return v}},{139:139,150:150,52:52,77:77,79:79}],66:[function(e,t,n){var r=e(52),i=e(81),o=e(76),a=e(36),s=e(139),u=e(151),c={},l={};(n=t.exports=function(e,t,n,d,f){var p,h,m,v,g=f?function(){return e}:u(e),y=r(n,d,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=s(e.length);p>b;b++)if((v=t?y(a(h=e[b])[0],h[1]):y(e[b]))===c||v===l)return v}else for(m=g.call(e);!(h=m.next()).done;)if((v=i(m,y,h.value,t))===c||v===l)return v}).BREAK=c,n.RETURN=l},{139:139,151:151,36:36,52:52,76:76,81:81}],67:[function(e,t,n){t.exports=e(124)("native-function-to-string",Function.toString)},{124:124}],68:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{22:22}],69:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{23:23}],70:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{114:114,24:24,56:56,97:97}],71:[function(e,t,n){var r=e(68).document;t.exports=r&&r.documentElement},{68:68}],72:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{25:25,56:56,57:57,62:62}],73:[function(e,t,n){var r=e(79),i=e(120).set;t.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},{120:120,79:79}],74:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],75:[function(e,t,n){var r=e(46);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{46:46}],76:[function(e,t,n){var r=e(86),i=e(150)("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{150:150,86:86}],77:[function(e,t,n){var r=e(46);t.exports=Array.isArray||function(e){return"Array"==r(e)}},{46:46}],78:[function(e,t,n){var r=e(79),i=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},{79:79}],79:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{26:26}],80:[function(e,t,n){var r=e(79),i=e(46),o=e(150)("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},{150:150,46:46,79:79}],81:[function(e,t,n){var r=e(36);t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},{36:36}],82:[function(e,t,n){"use strict";var r=e(96),i=e(114),o=e(122),a={};e(70)(a,e(150)("iterator"),(function(){return this})),t.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},{114:114,122:122,150:150,70:70,96:96}],83:[function(e,t,n){"use strict";var r=e(87),i=e(60),o=e(116),a=e(70),s=e(86),u=e(82),c=e(122),l=e(103),d=e(150)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(e,t,n,h,m,v,g){u(n,t,h);var y,b,_,O=function(e){if(!f&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",w="values"==m,S=!1,C=e.prototype,x=C[d]||C["@@iterator"]||m&&C[m],T=x||O(m),P=m?w?O("entries"):T:void 0,k="Array"==t&&C.entries||x;if(k&&(_=l(k.call(new e)))!==Object.prototype&&_.next&&(c(_,E,!0),r||"function"==typeof _[d]||a(_,d,p)),w&&x&&"values"!==x.name&&(S=!0,T=function(){return x.call(this)}),r&&!g||!f&&!S&&C[d]||a(C,d,T),s[t]=T,s[E]=p,m)if(y={values:w?T:O("values"),keys:v?T:O("keys"),entries:P},g)for(b in y)b in C||o(C,b,y[b]);else i(i.P+i.F*(f||S),t,y);return y}},{103:103,116:116,122:122,150:150,60:60,70:70,82:82,86:86,87:87}],84:[function(e,t,n){var r=e(150)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},{150:150}],85:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],86:[function(e,t,n){t.exports={}},{}],87:[function(e,t,n){t.exports=!1},{}],88:[function(e,t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},{}],89:[function(e,t,n){var r=e(91),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*(function(e){return e+1/o-1/o})(i/u/a)*u*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?c*(1/0):c*n}},{91:91}],90:[function(e,t,n){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],91:[function(e,t,n){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],92:[function(e,t,n){var r=e(145)("meta"),i=e(79),o=e(69),a=e(97).f,s=0,u=Object.isExtensible||function(){return!0},c=!e(62)((function(){return u(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&u(e)&&!o(e,r)&&l(e),e}}},{145:145,62:62,69:69,79:79,97:97}],93:[function(e,t,n){var r=e(68),i=e(134).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==e(46)(a);t.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var d=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},{134:134,46:46,68:68}],94:[function(e,t,n){"use strict";var r=e(31);t.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},{31:31}],95:[function(e,t,n){"use strict";var r=e(56),i=e(105),o=e(102),a=e(106),s=e(140),u=e(75),c=Object.assign;t.exports=!c||e(62)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,l=1,d=o.f,f=a.f;c>l;)for(var p,h=u(arguments[l++]),m=d?i(h).concat(d(h)):i(h),v=m.length,g=0;v>g;)p=m[g++],r&&!f.call(h,p)||(n[p]=h[p]);return n}:c},{102:102,105:105,106:106,140:140,56:56,62:62,75:75}],96:[function(e,t,n){var r=e(36),i=e(98),o=e(58),a=e(123)("IE_PROTO"),s=function(){},u=function(){var t,n=e(57)("iframe"),r=o.length;for(n.style.display="none",e(71).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},{123:123,36:36,57:57,58:58,71:71,98:98}],97:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{141:141,27:27,36:36,56:56,72:72}],98:[function(e,t,n){var r=e(97),i=e(36),o=e(105);t.exports=e(56)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},{105:105,36:36,56:56,97:97}],99:[function(e,t,n){var r=e(106),i=e(114),o=e(138),a=e(141),s=e(69),u=e(72),c=Object.getOwnPropertyDescriptor;n.f=e(56)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},{106:106,114:114,138:138,141:141,56:56,69:69,72:72}],100:[function(e,t,n){var r=e(138),i=e(101).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==o.call(e)?(function(e){try{return i(e)}catch(e){return a.slice()}})(e):i(r(e))}},{101:101,138:138}],101:[function(e,t,n){var r=e(104),i=e(58).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},{104:104,58:58}],102:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],103:[function(e,t,n){var r=e(69),i=e(140),o=e(123)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{123:123,140:140,69:69}],104:[function(e,t,n){var r=e(69),i=e(138),o=e(39)(!1),a=e(123)("IE_PROTO");t.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},{123:123,138:138,39:39,69:69}],105:[function(e,t,n){var r=e(104),i=e(58);t.exports=Object.keys||function(e){return r(e,i)}},{104:104,58:58}],106:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],107:[function(e,t,n){var r=e(60),i=e(50),o=e(62);t.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},{50:50,60:60,62:62}],108:[function(e,t,n){var r=e(56),i=e(105),o=e(138),a=e(106).f;t.exports=function(e){return function(t){for(var n,s=o(t),u=i(s),c=u.length,l=0,d=[];c>l;)n=u[l++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},{105:105,106:106,138:138,56:56}],109:[function(e,t,n){var r=e(101),i=e(102),o=e(36),a=e(68).Reflect;t.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},{101:101,102:102,36:36,68:68}],110:[function(e,t,n){var r=e(68).parseFloat,i=e(132).trim;t.exports=1/r(e(133)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},{132:132,133:133,68:68}],111:[function(e,t,n){var r=e(68).parseInt,i=e(132).trim,o=e(133),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},{132:132,133:133,68:68}],112:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],113:[function(e,t,n){var r=e(36),i=e(79),o=e(94);t.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},{36:36,79:79,94:94}],114:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{28:28}],115:[function(e,t,n){var r=e(116);t.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},{116:116}],116:[function(e,t,n){var r=e(68),i=e(70),o=e(69),a=e(145)("src"),s=e(67),u=(""+s).split("toString");e(50).inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},{145:145,50:50,67:67,68:68,69:69,70:70}],117:[function(e,t,n){"use strict";var r=e(45),i=RegExp.prototype.exec;t.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},{45:45}],118:[function(e,t,n){"use strict";var r=e(64),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=(function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex})(),u=void 0!==/()??/.exec("")[1];(s||u)&&(a=function(e){var t,n,a,c,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),s&&(t=l.lastIndex),a=i.call(l,e),s&&a&&(l.lastIndex=l.global?a.index+a[0].length:t),u&&a&&a.length>1&&o.call(a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a}),t.exports=a},{64:64}],119:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],120:[function(e,t,n){var r=e(79),i=e(36),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?(function(t,n,r){try{(r=e(52)(Function.call,e(99).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}})({},!1):void 0),check:o}},{36:36,52:52,79:79,99:99}],121:[function(e,t,n){"use strict";var r=e(68),i=e(97),o=e(56),a=e(150)("species");t.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},{150:150,56:56,68:68,97:97}],122:[function(e,t,n){var r=e(97).f,i=e(69),o=e(150)("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{150:150,69:69,97:97}],123:[function(e,t,n){var r=e(124)("keys"),i=e(145);t.exports=function(e){return r[e]||(r[e]=i(e))}},{124:124,145:145}],124:[function(e,t,n){var r=e(50),i=e(68),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e(87)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{50:50,68:68,87:87}],125:[function(e,t,n){var r=e(36),i=e(31),o=e(150)("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},{150:150,31:31,36:36}],126:[function(e,t,n){"use strict";var r=e(62);t.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},{62:62}],127:[function(e,t,n){var r=e(137),i=e(55);t.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},{137:137,55:55}],128:[function(e,t,n){var r=e(80),i=e(55);t.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},{55:55,80:80}],129:[function(e,t,n){var r=e(60),i=e(62),o=e(55),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};t.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},{55:55,60:60,62:62}],130:[function(e,t,n){var r=e(139),i=e(131),o=e(55);t.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);if(l<=u||""==c)return s;var d=l-u,f=i.call(c,Math.ceil(d/c.length));return f.length>d&&(f=f.slice(0,d)),a?f+s:s+f}},{131:131,139:139,55:55}],131:[function(e,t,n){"use strict";var r=e(137),i=e(55);t.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},{137:137,55:55}],132:[function(e,t,n){var r=e(60),i=e(55),o=e(62),a=e(133),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e,t,n){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),u=i[e]=s?t(d):a[e];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},d=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};t.exports=l},{133:133,55:55,60:60,62:62}],133:[function(e,t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],134:[function(e,t,n){var r,i,o,a=e(52),s=e(74),u=e(71),c=e(57),l=e(68),d=l.process,f=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete g[e]},"process"==e(46)(d)?r=function(e){d.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),t.exports={set:f,clear:p}},{46:46,52:52,57:57,68:68,71:71,74:74}],135:[function(e,t,n){var r=e(137),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},{137:137}],136:[function(e,t,n){var r=e(137),i=e(139);t.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},{137:137,139:139}],137:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],138:[function(e,t,n){var r=e(75),i=e(55);t.exports=function(e){return r(i(e))}},{55:55,75:75}],139:[function(e,t,n){var r=e(137),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{137:137}],140:[function(e,t,n){var r=e(55);t.exports=function(e){return Object(r(e))}},{55:55}],141:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{29:29,79:79}],142:[function(e,t,n){"use strict";if(e(56)){var r=e(87),i=e(68),o=e(62),a=e(60),s=e(144),u=e(143),c=e(52),l=e(35),d=e(114),f=e(70),p=e(115),h=e(137),m=e(139),v=e(136),g=e(135),y=e(141),b=e(69),_=e(45),O=e(79),E=e(140),w=e(76),S=e(96),C=e(103),x=e(101).f,T=e(151),P=e(145),k=e(150),j=e(40),R=e(39),I=e(125),A=e(162),D=e(86),M=e(84),N=e(121),L=e(38),F=e(37),B=e(97),U=e(99),z=B.f,V=U.f,H=i.RangeError,W=i.TypeError,$=i.Uint8Array,G=Array.prototype,q=u.ArrayBuffer,Y=u.DataView,K=j(0),J=j(2),Z=j(3),X=j(4),Q=j(5),ee=j(6),te=R(!0),ne=R(!1),re=A.values,ie=A.keys,oe=A.entries,ae=G.lastIndexOf,se=G.reduce,ue=G.reduceRight,ce=G.join,le=G.sort,de=G.slice,fe=G.toString,pe=G.toLocaleString,he=k("iterator"),me=k("toStringTag"),ve=P("typed_constructor"),ge=P("def_constructor"),ye=s.CONSTR,be=s.TYPED,_e=s.VIEW,Oe=j(1,(function(e,t){return xe(I(e,e[ge]),t)})),Ee=o((function(){return 1===new $(new Uint16Array([1]).buffer)[0]})),we=!!$&&!!$.prototype.set&&o((function(){new $(1).set({})})),Se=function(e,t){var n=h(e);if(n<0||n%t)throw H("Wrong offset!");return n},Ce=function(e){if(O(e)&&be in e)return e;throw W(e+" is not a typed array!")},xe=function(e,t){if(!(O(e)&&ve in e))throw W("It is not a typed array constructor!");return new e(t)},Te=function(e,t){return Pe(I(e,e[ge]),t)},Pe=function(e,t){for(var n=0,r=t.length,i=xe(e,r);r>n;)i[n]=t[n++];return i},ke=function(e,t,n){z(e,t,{get:function(){return this._d[n]}})},je=function(e){var t,n,r,i,o,a,s=E(e),u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,f=T(s);if(void 0!=f&&!w(f)){for(a=f.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(d&&u>2&&(l=c(l,arguments[2],2)),t=0,n=m(s.length),i=xe(this,n);n>t;t++)i[t]=d?l(s[t],t):s[t];return i},Re=function(){for(var e=0,t=arguments.length,n=xe(this,t);t>e;)n[e]=arguments[e++];return n},Ie=!!$&&o((function(){pe.call(new $(1))})),Ae=function(){return pe.apply(Ie?de.call(Ce(this)):Ce(this),arguments)},De={copyWithin:function(e,t){return F.call(Ce(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return X(Ce(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return L.apply(Ce(this),arguments)},filter:function(e){return Te(this,J(Ce(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(Ce(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ce(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(Ce(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ce(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ce(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Ce(this),arguments)},lastIndexOf:function(e){return ae.apply(Ce(this),arguments)},map:function(e){return Oe(Ce(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ce(this),arguments)},reduceRight:function(e){return ue.apply(Ce(this),arguments)},reverse:function(){for(var e,t=Ce(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return Z(Ce(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Ce(this),e)},subarray:function(e,t){var n=Ce(this),r=n.length,i=g(e,r);return new(I(n,n[ge]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:g(t,r))-i))}},Me=function(e,t){return Te(this,de.call(Ce(this),e,t))},Ne=function(e){Ce(this);var t=Se(arguments[1],1),n=this.length,r=E(e),i=m(r.length),o=0;if(i+t>n)throw H("Wrong length!");for(;o<i;)this[t+o]=r[o++]},Le={entries:function(){return oe.call(Ce(this))},keys:function(){return ie.call(Ce(this))},values:function(){return re.call(Ce(this))}},Fe=function(e,t){return O(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Be=function(e,t){return Fe(e,t=y(t,!0))?d(2,e[t]):V(e,t)},Ue=function(e,t,n){return!(Fe(e,t=y(t,!0))&&O(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?z(e,t,n):(e[t]=n.value,e)};ye||(U.f=Be,B.f=Ue),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Be,defineProperty:Ue}),o((function(){fe.call({})}))&&(fe=pe=function(){return ce.call(this)});var ze=p({},De);p(ze,Le),f(ze,he,Le.values),p(ze,{slice:Me,set:Ne,constructor:function(){},toString:fe,toLocaleString:Ae}),ke(ze,"buffer","b"),ke(ze,"byteOffset","o"),ke(ze,"byteLength","l"),ke(ze,"length","e"),z(ze,me,{get:function(){return this[be]}}),t.exports=function(e,t,n,u){var c=e+((u=!!u)?"Clamped":"")+"Array",d="get"+e,p="set"+e,h=i[c],g=h||{},y=h&&C(h),b=!h||!s.ABV,E={},w=h&&h.prototype,T=function(e,n){z(e,n,{get:function(){return (function(e,n){var r=e._d;return r.v[d](n*t+r.o,Ee)})(this,n)},set:function(e){return (function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,Ee)})(this,n,e)},enumerable:!0})};b?(h=n((function(e,n,r,i){l(e,h,c,"_d");var o,a,s,u,d=0,p=0;if(O(n)){if(!(n instanceof q||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return be in n?Pe(h,n):je.call(h,n);o=n,p=Se(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw H("Wrong length!");if((a=g-p)<0)throw H("Wrong length!")}else if((a=m(i)*t)+p>g)throw H("Wrong length!");s=a/t}else s=v(n),o=new q(a=s*t);for(f(e,"_d",{b:o,o:p,l:a,e:s,v:new Y(o)});d<s;)T(e,d++)})),w=h.prototype=S(ze),f(w,"constructor",h)):o((function(){h(1)}))&&o((function(){new h(-1)}))&&M((function(e){new h,new h(null),new h(1.5),new h(e)}),!0)||(h=n((function(e,n,r,i){var o;return l(e,h,c),O(n)?n instanceof q||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==i?new g(n,Se(r,t),i):void 0!==r?new g(n,Se(r,t)):new g(n):be in n?Pe(h,n):je.call(h,n):new g(v(n))})),K(y!==Function.prototype?x(g).concat(x(y)):x(g),(function(e){e in h||f(h,e,g[e])})),h.prototype=w,r||(w.constructor=h));var P=w[he],k=!!P&&("values"==P.name||void 0==P.name),j=Le.values;f(h,ve,!0),f(w,be,c),f(w,_e,!0),f(w,ge,h),(u?new h(1)[me]==c:me in w)||z(w,me,{get:function(){return c}}),E[c]=h,a(a.G+a.W+a.F*(h!=g),E),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){g.of.call(h,1)})),c,{from:je,of:Re}),"BYTES_PER_ELEMENT"in w||f(w,"BYTES_PER_ELEMENT",t),a(a.P,c,De),N(c),a(a.P+a.F*we,c,{set:Ne}),a(a.P+a.F*!k,c,Le),r||w.toString==fe||(w.toString=fe),a(a.P+a.F*o((function(){new h(1).slice()})),c,{slice:Me}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!o((function(){w.toLocaleString.call([1,2])}))),c,{toLocaleString:Ae}),D[c]=k?P:j,r||k||f(w,he,j)}}else t.exports=function(){}},{101:101,103:103,114:114,115:115,121:121,125:125,135:135,136:136,137:137,139:139,140:140,141:141,143:143,144:144,145:145,150:150,151:151,162:162,35:35,37:37,38:38,39:39,40:40,45:45,52:52,56:56,60:60,62:62,68:68,69:69,70:70,76:76,79:79,84:84,86:86,87:87,96:96,97:97,99:99}],143:[function(e,t,n){"use strict";var r=e(68),i=e(56),o=e(87),a=e(144),s=e(70),u=e(115),c=e(62),l=e(35),d=e(137),f=e(139),p=e(136),h=e(101).f,m=e(97).f,v=e(38),g=e(122),y="prototype",b="Wrong index!",_=r.ArrayBuffer,O=r.DataView,E=r.Math,w=r.RangeError,S=r.Infinity,C=_,x=E.abs,T=E.pow,P=E.floor,k=E.log,j=E.LN2,R=i?"_b":"buffer",I=i?"_l":"byteLength",A=i?"_o":"byteOffset";function D(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?T(2,-24)-T(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for((e=x(e))!=e||e===S?(i=e!=e?1:0,r=u):(r=P(k(e)/j),e*(o=T(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?l/o:l*T(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*o-1)*T(2,t),r+=c):(i=e*T(2,c-1)*T(2,t),r=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*f,a}function M(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-S:S;r+=T(2,t),l-=a}return(c?-1:1)*r*T(2,l-t)}function N(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function L(e){return[255&e]}function F(e){return[255&e,e>>8&255]}function B(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return D(e,52,8)}function z(e){return D(e,23,4)}function V(e,t,n){m(e[y],t,{get:function(){return this[n]}})}function H(e,t,n,r){var i=p(+n);if(i+t>e[I])throw w(b);var o=e[R]._b,a=i+e[A],s=o.slice(a,a+t);return r?s:s.reverse()}function W(e,t,n,r,i,o){var a=p(+n);if(a+t>e[I])throw w(b);for(var s=e[R]._b,u=a+e[A],c=r(+i),l=0;l<t;l++)s[u+l]=c[o?l:t-l-1]}if(a.ABV){if(!c((function(){_(1)}))||!c((function(){new _(-1)}))||c((function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name}))){for(var $,G=(_=function(e){return l(this,_),new C(p(e))})[y]=C[y],q=h(C),Y=0;q.length>Y;)($=q[Y++])in _||s(_,$,C[$]);o||(G.constructor=_)}var K=new O(new _(2)),J=O[y].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||u(O[y],{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},!0)}else _=function(e){l(this,_,"ArrayBuffer");var t=p(e);this._b=v.call(new Array(t),0),this[I]=t},O=function(e,t,n){l(this,O,"DataView"),l(e,_,"DataView");var r=e[I],i=d(t);if(i<0||i>r)throw w("Wrong offset!");if(i+(n=void 0===n?r-i:f(n))>r)throw w("Wrong length!");this[R]=e,this[A]=i,this[I]=n},i&&(V(_,"byteLength","_l"),V(O,"buffer","_b"),V(O,"byteLength","_l"),V(O,"byteOffset","_o")),u(O[y],{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return N(H(this,4,e,arguments[1]))},getUint32:function(e){return N(H(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return M(H(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return M(H(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){W(this,1,e,L,t)},setUint8:function(e,t){W(this,1,e,L,t)},setInt16:function(e,t){W(this,2,e,F,t,arguments[2])},setUint16:function(e,t){W(this,2,e,F,t,arguments[2])},setInt32:function(e,t){W(this,4,e,B,t,arguments[2])},setUint32:function(e,t){W(this,4,e,B,t,arguments[2])},setFloat32:function(e,t){W(this,4,e,z,t,arguments[2])},setFloat64:function(e,t){W(this,8,e,U,t,arguments[2])}});g(_,"ArrayBuffer"),g(O,"DataView"),s(O[y],a.VIEW,!0),n.ArrayBuffer=_,n.DataView=O},{101:101,115:115,122:122,136:136,137:137,139:139,144:144,35:35,38:38,56:56,62:62,68:68,70:70,87:87,97:97}],144:[function(e,t,n){for(var r,i=e(68),o=e(70),a=e(145),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=i[f[d++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},{145:145,68:68,70:70}],145:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],146:[function(e,t,n){var r=e(68).navigator;t.exports=r&&r.userAgent||""},{68:68}],147:[function(e,t,n){var r=e(79);t.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{79:79}],148:[function(e,t,n){var r=e(68),i=e(50),o=e(87),a=e(149),s=e(97).f;t.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{149:149,50:50,68:68,87:87,97:97}],149:[function(e,t,n){n.f=e(150)},{150:150}],150:[function(e,t,n){var r=e(124)("wks"),i=e(145),o=e(68).Symbol,a="function"==typeof o;(t.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},{124:124,145:145,68:68}],151:[function(e,t,n){var r=e(45),i=e(150)("iterator"),o=e(86);t.exports=e(50).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},{150:150,45:45,50:50,86:86}],152:[function(e,t,n){var r=e(60);r(r.P,"Array",{copyWithin:e(37)}),e(33)("copyWithin")},{33:33,37:37,60:60}],153:[function(e,t,n){"use strict";var r=e(60),i=e(40)(4);r(r.P+r.F*!e(126)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],154:[function(e,t,n){var r=e(60);r(r.P,"Array",{fill:e(38)}),e(33)("fill")},{33:33,38:38,60:60}],155:[function(e,t,n){"use strict";var r=e(60),i=e(40)(2);r(r.P+r.F*!e(126)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],156:[function(e,t,n){"use strict";var r=e(60),i=e(40)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e(33)(o)},{33:33,40:40,60:60}],157:[function(e,t,n){"use strict";var r=e(60),i=e(40)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e(33)("find")},{33:33,40:40,60:60}],158:[function(e,t,n){"use strict";var r=e(60),i=e(40)(0),o=e(126)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],159:[function(e,t,n){"use strict";var r=e(52),i=e(60),o=e(140),a=e(81),s=e(76),u=e(139),c=e(51),l=e(151);i(i.S+i.F*!e(84)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,d,f=o(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,g=0,y=l(f);if(v&&(m=r(m,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(n=new p(t=u(f.length));t>g;g++)c(n,g,v?m(f[g],g):f[g]);else for(d=y.call(f),n=new p;!(i=d.next()).done;g++)c(n,g,v?a(d,m,[i.value,g],!0):i.value);return n.length=g,n}})},{139:139,140:140,151:151,51:51,52:52,60:60,76:76,81:81,84:84}],160:[function(e,t,n){"use strict";var r=e(60),i=e(39)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!e(126)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},{126:126,39:39,60:60}],161:[function(e,t,n){var r=e(60);r(r.S,"Array",{isArray:e(77)})},{60:60,77:77}],162:[function(e,t,n){"use strict";var r=e(33),i=e(85),o=e(86),a=e(138);t.exports=e(83)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{138:138,33:33,83:83,85:85,86:86}],163:[function(e,t,n){"use strict";var r=e(60),i=e(138),o=[].join;r(r.P+r.F*(e(75)!=Object||!e(126)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},{126:126,138:138,60:60,75:75}],164:[function(e,t,n){"use strict";var r=e(60),i=e(138),o=e(137),a=e(139),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!e(126)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},{126:126,137:137,138:138,139:139,60:60}],165:[function(e,t,n){"use strict";var r=e(60),i=e(40)(1);r(r.P+r.F*!e(126)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],166:[function(e,t,n){"use strict";var r=e(60),i=e(51);r(r.S+r.F*e(62)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},{51:51,60:60,62:62}],167:[function(e,t,n){"use strict";var r=e(60),i=e(41);r(r.P+r.F*!e(126)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},{126:126,41:41,60:60}],168:[function(e,t,n){"use strict";var r=e(60),i=e(41);r(r.P+r.F*!e(126)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},{126:126,41:41,60:60}],169:[function(e,t,n){"use strict";var r=e(60),i=e(71),o=e(46),a=e(135),s=e(139),u=[].slice;r(r.P+r.F*e(62)((function(){i&&u.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),c=a(t,n),l=s(c-i),d=new Array(l),f=0;f<l;f++)d[f]="String"==r?this.charAt(i+f):this[i+f];return d}})},{135:135,139:139,46:46,60:60,62:62,71:71}],170:[function(e,t,n){"use strict";var r=e(60),i=e(40)(3);r(r.P+r.F*!e(126)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},{126:126,40:40,60:60}],171:[function(e,t,n){"use strict";var r=e(60),i=e(31),o=e(140),a=e(62),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!e(126)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},{126:126,140:140,31:31,60:60,62:62}],172:[function(e,t,n){e(121)("Array")},{121:121}],173:[function(e,t,n){var r=e(60);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},{60:60}],174:[function(e,t,n){var r=e(60),i=e(53);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},{53:53,60:60}],175:[function(e,t,n){"use strict";var r=e(60),i=e(140),o=e(141);r(r.P+r.F*e(62)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},{140:140,141:141,60:60,62:62}],176:[function(e,t,n){var r=e(150)("toPrimitive"),i=Date.prototype;r in i||e(70)(i,r,e(54))},{150:150,54:54,70:70}],177:[function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&e(116)(r,"toString",(function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"}))},{116:116}],178:[function(e,t,n){var r=e(60);r(r.P,"Function",{bind:e(44)})},{44:44,60:60}],179:[function(e,t,n){"use strict";var r=e(79),i=e(103),o=e(150)("hasInstance"),a=Function.prototype;o in a||e(97).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},{103:103,150:150,79:79,97:97}],180:[function(e,t,n){var r=e(97).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||e(56)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},{56:56,97:97}],181:[function(e,t,n){"use strict";var r=e(47),i=e(147);t.exports=e(49)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},{147:147,47:47,49:49}],182:[function(e,t,n){var r=e(60),i=e(90),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},{60:60,90:90}],183:[function(e,t,n){var r=e(60),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{60:60}],184:[function(e,t,n){var r=e(60),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{60:60}],185:[function(e,t,n){var r=e(60),i=e(91);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},{60:60,91:91}],186:[function(e,t,n){var r=e(60);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{60:60}],187:[function(e,t,n){var r=e(60),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},{60:60}],188:[function(e,t,n){var r=e(60),i=e(88);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},{60:60,88:88}],189:[function(e,t,n){var r=e(60);r(r.S,"Math",{fround:e(89)})},{60:60,89:89}],190:[function(e,t,n){var r=e(60),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},{60:60}],191:[function(e,t,n){var r=e(60),i=Math.imul;r(r.S+r.F*e(62)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},{60:60,62:62}],192:[function(e,t,n){var r=e(60);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{60:60}],193:[function(e,t,n){var r=e(60);r(r.S,"Math",{log1p:e(90)})},{60:60,90:90}],194:[function(e,t,n){var r=e(60);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{60:60}],195:[function(e,t,n){var r=e(60);r(r.S,"Math",{sign:e(91)})},{60:60,91:91}],196:[function(e,t,n){var r=e(60),i=e(88),o=Math.exp;r(r.S+r.F*e(62)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},{60:60,62:62,88:88}],197:[function(e,t,n){var r=e(60),i=e(88),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},{60:60,88:88}],198:[function(e,t,n){var r=e(60);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{60:60}],199:[function(e,t,n){"use strict";var r=e(68),i=e(69),o=e(46),a=e(73),s=e(141),u=e(62),c=e(101).f,l=e(99).f,d=e(97).f,f=e(132).trim,p=r.Number,h=p,m=p.prototype,v="Number"==o(e(96)(m)),g="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=g?t.trim():f(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?u((function(){m.valueOf.call(n)})):"Number"!=o(n))?a(new h(y(t)),n,p):y(t)};for(var b,_=e(56)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;_.length>O;O++)i(h,b=_[O])&&!i(p,b)&&d(p,b,l(h,b));p.prototype=m,m.constructor=p,e(116)(r,"Number",p)}},{101:101,116:116,132:132,141:141,46:46,56:56,62:62,68:68,69:69,73:73,96:96,97:97,99:99}],200:[function(e,t,n){var r=e(60);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},{60:60}],201:[function(e,t,n){var r=e(60),i=e(68).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},{60:60,68:68}],202:[function(e,t,n){var r=e(60);r(r.S,"Number",{isInteger:e(78)})},{60:60,78:78}],203:[function(e,t,n){var r=e(60);r(r.S,"Number",{isNaN:function(e){return e!=e}})},{60:60}],204:[function(e,t,n){var r=e(60),i=e(78),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},{60:60,78:78}],205:[function(e,t,n){var r=e(60);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{60:60}],206:[function(e,t,n){var r=e(60);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{60:60}],207:[function(e,t,n){var r=e(60),i=e(110);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},{110:110,60:60}],208:[function(e,t,n){var r=e(60),i=e(111);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},{111:111,60:60}],209:[function(e,t,n){"use strict";var r=e(60),i=e(137),o=e(32),a=e(131),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",d=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=u(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(62)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,l),c=i(e),m="",v="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(n=(t=(function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t})(u*h(2,69,1))-69)<0?u*h(2,-t,1):u/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),r=c;r>=7;)d(1e7,0),r-=7;for(d(h(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),d(1,1),f(2),v=p()}else d(0,n),d(1<<-t,0),v=p()+a.call("0",c);return v=c>0?m+((s=v.length)<=c?"0."+a.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c)):m+v}})},{131:131,137:137,32:32,60:60,62:62}],210:[function(e,t,n){"use strict";var r=e(60),i=e(62),o=e(32),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},{32:32,60:60,62:62}],211:[function(e,t,n){var r=e(60);r(r.S+r.F,"Object",{assign:e(95)})},{60:60,95:95}],212:[function(e,t,n){var r=e(60);r(r.S,"Object",{create:e(96)})},{60:60,96:96}],213:[function(e,t,n){var r=e(60);r(r.S+r.F*!e(56),"Object",{defineProperties:e(98)})},{56:56,60:60,98:98}],214:[function(e,t,n){var r=e(60);r(r.S+r.F*!e(56),"Object",{defineProperty:e(97).f})},{56:56,60:60,97:97}],215:[function(e,t,n){var r=e(79),i=e(92).onFreeze;e(107)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},{107:107,79:79,92:92}],216:[function(e,t,n){var r=e(138),i=e(99).f;e(107)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},{107:107,138:138,99:99}],217:[function(e,t,n){e(107)("getOwnPropertyNames",(function(){return e(100).f}))},{100:100,107:107}],218:[function(e,t,n){var r=e(140),i=e(103);e(107)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},{103:103,107:107,140:140}],219:[function(e,t,n){var r=e(79);e(107)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},{107:107,79:79}],220:[function(e,t,n){var r=e(79);e(107)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},{107:107,79:79}],221:[function(e,t,n){var r=e(79);e(107)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},{107:107,79:79}],222:[function(e,t,n){var r=e(60);r(r.S,"Object",{is:e(119)})},{119:119,60:60}],223:[function(e,t,n){var r=e(140),i=e(105);e(107)("keys",(function(){return function(e){return i(r(e))}}))},{105:105,107:107,140:140}],224:[function(e,t,n){var r=e(79),i=e(92).onFreeze;e(107)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},{107:107,79:79,92:92}],225:[function(e,t,n){var r=e(79),i=e(92).onFreeze;e(107)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},{107:107,79:79,92:92}],226:[function(e,t,n){var r=e(60);r(r.S,"Object",{setPrototypeOf:e(120).set})},{120:120,60:60}],227:[function(e,t,n){"use strict";var r=e(45),i={};i[e(150)("toStringTag")]="z",i+""!="[object z]"&&e(116)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},{116:116,150:150,45:45}],228:[function(e,t,n){var r=e(60),i=e(110);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},{110:110,60:60}],229:[function(e,t,n){var r=e(60),i=e(111);r(r.G+r.F*(parseInt!=i),{parseInt:i})},{111:111,60:60}],230:[function(e,t,n){"use strict";var r,i,o,a,s=e(87),u=e(68),c=e(52),l=e(45),d=e(60),f=e(79),p=e(31),h=e(35),m=e(66),v=e(125),g=e(134).set,y=e(93)(),b=e(94),_=e(112),O=e(146),E=e(113),w=u.TypeError,S=u.process,C=S&&S.versions,x=C&&C.v8||"",T=u.Promise,P="process"==l(S),k=function(){},j=i=b.f,R=!!(function(){try{var t=T.resolve(1),n=(t.constructor={})[e(150)("species")]=function(e){e(k,k)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof n&&0!==x.indexOf("6.6")&&-1===O.indexOf("Chrome/66")}catch(e){}})(),I=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(i||(2==e._h&&N(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?c(w("Promise-chain cycle")):(o=I(n))?o.call(n,u,c):u(n)):c(r)}catch(e){l&&!a&&l.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&D(e)}))}},D=function(e){g.call(u,(function(){var t,n,r,i=e._v,o=M(e);if(o&&(t=_((function(){P?S.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=P||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){g.call(u,(function(){var t;P?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=I(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(F,r,1),c(L,r,1))}catch(e){L.call(r,e)}})):(n._v=e,n._s=1,A(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};R||(T=function(e){h(this,T,"Promise","_h"),p(e),r.call(this);try{e(c(F,this,1),c(L,this,1))}catch(e){L.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(115)(T.prototype,{then:function(e,t){var n=j(v(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=P?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(L,e,1)},b.f=j=function(e){return e===T||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!R,{Promise:T}),e(122)(T,"Promise"),e(121)("Promise"),a=e(50).Promise,d(d.S+d.F*!R,"Promise",{reject:function(e){var t=j(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!R),"Promise",{resolve:function(e){return E(s&&this===a?T:this,e)}}),d(d.S+d.F*!(R&&e(84)((function(e){T.all(e).catch(k)}))),"Promise",{all:function(e){var t=this,n=j(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=j(t),r=n.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},{112:112,113:113,115:115,121:121,122:122,125:125,134:134,146:146,150:150,31:31,35:35,45:45,50:50,52:52,60:60,66:66,68:68,79:79,84:84,87:87,93:93,94:94}],231:[function(e,t,n){var r=e(60),i=e(31),o=e(36),a=(e(68).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!e(62)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},{31:31,36:36,60:60,62:62,68:68}],232:[function(e,t,n){var r=e(60),i=e(96),o=e(31),a=e(36),s=e(79),u=e(62),c=e(44),l=(e(68).Reflect||{}).construct,d=u((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),f=!u((function(){l((function(){}))}));r(r.S+r.F*(d||f),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!d)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},{31:31,36:36,44:44,60:60,62:62,68:68,79:79,96:96}],233:[function(e,t,n){var r=e(97),i=e(60),o=e(36),a=e(141);i(i.S+i.F*e(62)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},{141:141,36:36,60:60,62:62,97:97}],234:[function(e,t,n){var r=e(60),i=e(99).f,o=e(36);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},{36:36,60:60,99:99}],235:[function(e,t,n){"use strict";var r=e(60),i=e(36),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};e(82)(o,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},{36:36,60:60,82:82}],236:[function(e,t,n){var r=e(99),i=e(60),o=e(36);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},{36:36,60:60,99:99}],237:[function(e,t,n){var r=e(60),i=e(103),o=e(36);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},{103:103,36:36,60:60}],238:[function(e,t,n){var r=e(99),i=e(103),o=e(69),a=e(60),s=e(79),u=e(36);a(a.S,"Reflect",{get:function e(t,n){var a,c,l=arguments.length<3?t:arguments[2];return u(t)===l?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=i(t))?e(c,n,l):void 0}})},{103:103,36:36,60:60,69:69,79:79,99:99}],239:[function(e,t,n){var r=e(60);r(r.S,"Reflect",{has:function(e,t){return t in e}})},{60:60}],240:[function(e,t,n){var r=e(60),i=e(36),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},{36:36,60:60}],241:[function(e,t,n){var r=e(60);r(r.S,"Reflect",{ownKeys:e(109)})},{109:109,60:60}],242:[function(e,t,n){var r=e(60),i=e(36),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},{36:36,60:60}],243:[function(e,t,n){var r=e(60),i=e(120);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},{120:120,60:60}],244:[function(e,t,n){var r=e(97),i=e(99),o=e(103),a=e(69),s=e(60),u=e(114),c=e(36),l=e(79);s(s.S,"Reflect",{set:function e(t,n,s){var d,f,p=arguments.length<4?t:arguments[3],h=i.f(c(t),n);if(!h){if(l(f=o(t)))return e(f,n,s,p);h=u(0)}if(a(h,"value")){if(!1===h.writable||!l(p))return!1;if(d=i.f(p,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,r.f(p,n,d)}else r.f(p,n,u(0,s));return!0}return void 0!==h.set&&(h.set.call(p,s),!0)}})},{103:103,114:114,36:36,60:60,69:69,79:79,97:97,99:99}],245:[function(e,t,n){var r=e(68),i=e(73),o=e(97).f,a=e(101).f,s=e(80),u=e(64),c=r.RegExp,l=c,d=c.prototype,f=/a/g,p=/a/g,h=new c(f)!==f;if(e(56)&&(!h||e(62)((function(){return p[e(150)("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")})))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(h?new l(r&&!o?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&o?u.call(e):t),n?this:d,c)};for(var m=function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},v=a(l),g=0;v.length>g;)m(v[g++]);d.constructor=c,c.prototype=d,e(116)(r,"RegExp",c)}e(121)("RegExp")},{101:101,116:116,121:121,150:150,56:56,62:62,64:64,68:68,73:73,80:80,97:97}],246:[function(e,t,n){"use strict";var r=e(118);e(60)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},{118:118,60:60}],247:[function(e,t,n){e(56)&&"g"!=/./g.flags&&e(97).f(RegExp.prototype,"flags",{configurable:!0,get:e(64)})},{56:56,64:64,97:97}],248:[function(e,t,n){"use strict";var r=e(36),i=e(139),o=e(34),a=e(117);e(63)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;for(var d,f=[],p=0;null!==(d=a(u,c));){var h=String(d[0]);f[p]=h,""===h&&(u.lastIndex=o(c,i(u.lastIndex),l)),p++}return 0===p?null:f}]}))},{117:117,139:139,34:34,36:36,63:63}],249:[function(e,t,n){"use strict";var r=e(36),i=e(140),o=e(139),a=e(137),s=e(34),u=e(117),c=Math.max,l=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};e(63)("replace",2,(function(e,t,n,m){return[function(r,i){var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=m(n,e,this,t);if(i.done)return i.value;var d=r(e),f=String(this),p="function"==typeof t;p||(t=String(t));var g=d.global;if(g){var y=d.unicode;d.lastIndex=0}for(var b=[];;){var _=u(d,f);if(null===_)break;if(b.push(_),!g)break;""===String(_[0])&&(d.lastIndex=s(f,o(d.lastIndex),y))}for(var O="",E=0,w=0;w<b.length;w++){_=b[w];for(var S=String(_[0]),C=c(l(a(_.index),f.length),0),x=[],T=1;T<_.length;T++)x.push(h(_[T]));var P=_.groups;if(p){var k=[S].concat(x,C,f);void 0!==P&&k.push(P);var j=String(t.apply(void 0,k))}else j=v(S,f,C,x,P,t);C>=E&&(O+=f.slice(E,C)+j,E=C+S.length)}return O+f.slice(E)}];function v(e,t,r,o,a,s){var u=r+e.length,c=o.length,l=p;return void 0!==a&&(a=i(a),l=f),n.call(s,l,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>c){var f=d(l/10);return 0===f?n:f<=c?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}s=o[l-1]}return void 0===s?"":s}))}}))},{117:117,137:137,139:139,140:140,34:34,36:36,63:63}],250:[function(e,t,n){"use strict";var r=e(36),i=e(119),o=e(117);e(63)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),u=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var l=o(s,u);return i(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]}))},{117:117,119:119,36:36,63:63}],251:[function(e,t,n){"use strict";var r=e(80),i=e(36),o=e(125),a=e(34),s=e(139),u=e(117),c=e(118),l=e(62),d=Math.min,f=[].push,p=!l((function(){RegExp(4294967295,"y")}));e(63)("split",2,(function(e,t,n,l){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,l+"g");(o=c.call(h,i))&&!((a=h.lastIndex)>d&&(u.push(i.slice(d,o.index)),o.length>1&&o.index<i.length&&f.apply(u,o.slice(1)),s=o[0].length,d=a,u.length>=p));)h.lastIndex===o.index&&h.lastIndex++;return d===i.length?!s&&h.test("")||u.push(""):u.push(i.slice(d)),u.length>p?u.slice(0,p):u}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,r):h.call(String(i),n,r)},function(e,t){var r=l(h,e,this,t,h!==n);if(r.done)return r.value;var c=i(e),f=String(this),m=o(c,RegExp),v=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),y=new m(p?c:"^(?:"+c.source+")",g),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===f.length)return null===u(y,f)?[f]:[];for(var _=0,O=0,E=[];O<f.length;){y.lastIndex=p?O:0;var w,S=u(y,p?f:f.slice(O));if(null===S||(w=d(s(y.lastIndex+(p?0:O)),f.length))===_)O=a(f,O,v);else{if(E.push(f.slice(_,O)),E.length===b)return E;for(var C=1;C<=S.length-1;C++)if(E.push(S[C]),E.length===b)return E;O=_=w}}return E.push(f.slice(_)),E}]}))},{117:117,118:118,125:125,139:139,34:34,36:36,62:62,63:63,80:80}],252:[function(e,t,n){"use strict";e(247);var r=e(36),i=e(64),o=e(56),a=/./.toString,s=function(t){e(116)(RegExp.prototype,"toString",t,!0)};e(62)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},{116:116,247:247,36:36,56:56,62:62,64:64}],253:[function(e,t,n){"use strict";var r=e(47),i=e(147);t.exports=e(49)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},{147:147,47:47,49:49}],254:[function(e,t,n){"use strict";e(129)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},{129:129}],255:[function(e,t,n){"use strict";e(129)("big",(function(e){return function(){return e(this,"big","","")}}))},{129:129}],256:[function(e,t,n){"use strict";e(129)("blink",(function(e){return function(){return e(this,"blink","","")}}))},{129:129}],257:[function(e,t,n){"use strict";e(129)("bold",(function(e){return function(){return e(this,"b","","")}}))},{129:129}],258:[function(e,t,n){"use strict";var r=e(60),i=e(127)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},{127:127,60:60}],259:[function(e,t,n){"use strict";var r=e(60),i=e(139),o=e(128),a="".endsWith;r(r.P+r.F*e(61)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},{128:128,139:139,60:60,61:61}],260:[function(e,t,n){"use strict";e(129)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},{129:129}],261:[function(e,t,n){"use strict";e(129)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},{129:129}],262:[function(e,t,n){"use strict";e(129)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},{129:129}],263:[function(e,t,n){var r=e(60),i=e(135),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},{135:135,60:60}],264:[function(e,t,n){"use strict";var r=e(60),i=e(128);r(r.P+r.F*e(61)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{128:128,60:60,61:61}],265:[function(e,t,n){"use strict";e(129)("italics",(function(e){return function(){return e(this,"i","","")}}))},{129:129}],266:[function(e,t,n){"use strict";var r=e(127)(!0);e(83)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},{127:127,83:83}],267:[function(e,t,n){"use strict";e(129)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},{129:129}],268:[function(e,t,n){var r=e(60),i=e(138),o=e(139);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},{138:138,139:139,60:60}],269:[function(e,t,n){var r=e(60);r(r.P,"String",{repeat:e(131)})},{131:131,60:60}],270:[function(e,t,n){"use strict";e(129)("small",(function(e){return function(){return e(this,"small","","")}}))},{129:129}],271:[function(e,t,n){"use strict";var r=e(60),i=e(139),o=e(128),a="".startsWith;r(r.P+r.F*e(61)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},{128:128,139:139,60:60,61:61}],272:[function(e,t,n){"use strict";e(129)("strike",(function(e){return function(){return e(this,"strike","","")}}))},{129:129}],273:[function(e,t,n){"use strict";e(129)("sub",(function(e){return function(){return e(this,"sub","","")}}))},{129:129}],274:[function(e,t,n){"use strict";e(129)("sup",(function(e){return function(){return e(this,"sup","","")}}))},{129:129}],275:[function(e,t,n){"use strict";e(132)("trim",(function(e){return function(){return e(this,3)}}))},{132:132}],276:[function(e,t,n){"use strict";var r=e(68),i=e(69),o=e(56),a=e(60),s=e(116),u=e(92).KEY,c=e(62),l=e(124),d=e(122),f=e(145),p=e(150),h=e(149),m=e(148),v=e(59),g=e(77),y=e(36),b=e(79),_=e(140),O=e(138),E=e(141),w=e(114),S=e(96),C=e(100),x=e(99),T=e(102),P=e(97),k=e(105),j=x.f,R=P.f,I=C.f,A=r.Symbol,D=r.JSON,M=D&&D.stringify,N=p("_hidden"),L=p("toPrimitive"),F={}.propertyIsEnumerable,B=l("symbol-registry"),U=l("symbols"),z=l("op-symbols"),V=Object.prototype,H="function"==typeof A&&!!T.f,W=r.QObject,$=!W||!W.prototype||!W.prototype.findChild,G=o&&c((function(){return 7!=S(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=j(V,t);r&&delete V[t],R(e,t,n),r&&e!==V&&R(V,t,r)}:R,q=function(e){var t=U[e]=S(A.prototype);return t._k=e,t},Y=H&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},K=function(e,t,n){return e===V&&K(z,t,n),y(e),t=E(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=S(n,{enumerable:w(0,!1)})):(i(e,N)||R(e,N,w(1,{})),e[N][t]=!0),G(e,t,n)):R(e,t,n)},J=function(e,t){y(e);for(var n,r=v(t=O(t)),i=0,o=r.length;o>i;)K(e,n=r[i++],t[n]);return e},Z=function(e){var t=F.call(this,e=E(e,!0));return!(this===V&&i(U,e)&&!i(z,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,N)&&this[N][e])||t)},X=function(e,t){if(e=O(e),t=E(t,!0),e!==V||!i(U,t)||i(z,t)){var n=j(e,t);return!n||!i(U,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=I(O(e)),r=[],o=0;n.length>o;)i(U,t=n[o++])||t==N||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===V,r=I(n?z:O(e)),o=[],a=0;r.length>a;)!i(U,t=r[a++])||n&&!i(V,t)||o.push(U[t]);return o};H||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(z,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),G(this,e,w(1,n))};return o&&$&&G(V,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",(function(){return this._k})),x.f=X,P.f=K,e(101).f=C.f=Q,e(106).f=Z,T.f=ee,o&&!e(87)&&s(V,"propertyIsEnumerable",Z,!0),h.f=function(e){return q(p(e))}),a(a.G+a.W+a.F*!H,{Symbol:A});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=k(p.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=A(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){$=!0},useSimple:function(){$=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?S(e):J(S(e),t)},defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var oe=c((function(){T.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return T.f(_(e))}}),D&&a(a.S+a.F*(!H||c((function(){var e=A();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,M.apply(D,r)}}),A.prototype[L]||e(70)(A.prototype,L,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},{100:100,101:101,102:102,105:105,106:106,114:114,116:116,122:122,124:124,138:138,140:140,141:141,145:145,148:148,149:149,150:150,36:36,56:56,59:59,60:60,62:62,68:68,69:69,70:70,77:77,79:79,87:87,92:92,96:96,97:97,99:99}],277:[function(e,t,n){"use strict";var r=e(60),i=e(144),o=e(143),a=e(36),s=e(135),u=e(139),c=e(79),l=e(68).ArrayBuffer,d=e(125),f=o.ArrayBuffer,p=o.DataView,h=i.ABV&&l.isView,m=f.prototype.slice,v=i.VIEW;r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||c(e)&&v in e}}),r(r.P+r.U+r.F*e(62)((function(){return!new f(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(d(this,f))(u(i-r)),c=new p(this),l=new p(o),h=0;r<i;)l.setUint8(h++,c.getUint8(r++));return o}}),e(121)("ArrayBuffer")},{121:121,125:125,135:135,139:139,143:143,144:144,36:36,60:60,62:62,68:68,79:79}],278:[function(e,t,n){var r=e(60);r(r.G+r.W+r.F*!e(144).ABV,{DataView:e(143).DataView})},{143:143,144:144,60:60}],279:[function(e,t,n){e(142)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],280:[function(e,t,n){e(142)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],281:[function(e,t,n){e(142)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],282:[function(e,t,n){e(142)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],283:[function(e,t,n){e(142)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],284:[function(e,t,n){e(142)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],285:[function(e,t,n){e(142)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],286:[function(e,t,n){e(142)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{142:142}],287:[function(e,t,n){e(142)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},{142:142}],288:[function(e,t,n){"use strict";var r,i=e(68),o=e(40)(0),a=e(116),s=e(92),u=e(95),c=e(48),l=e(79),d=e(147),f=e(147),p=!i.ActiveXObject&&"ActiveXObject"in i,h=s.getWeak,m=Object.isExtensible,v=c.ufstore,g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(l(e)){var t=h(e);return!0===t?v(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(d(this,"WeakMap"),e,t)}},b=t.exports=e(49)("WeakMap",g,y,c,!0,!0);f&&p&&(u((r=c.getConstructor(g,"WeakMap")).prototype,y),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=b.prototype,n=t[e];a(t,e,(function(t,i){if(l(t)&&!m(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},{116:116,147:147,40:40,48:48,49:49,68:68,79:79,92:92,95:95}],289:[function(e,t,n){"use strict";var r=e(48),i=e(147);e(49)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},{147:147,48:48,49:49}],290:[function(e,t,n){"use strict";var r=e(60),i=e(65),o=e(140),a=e(139),s=e(31),u=e(43);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),e(33)("flatMap")},{139:139,140:140,31:31,33:33,43:43,60:60,65:65}],291:[function(e,t,n){"use strict";var r=e(60),i=e(39)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e(33)("includes")},{33:33,39:39,60:60}],292:[function(e,t,n){var r=e(60),i=e(108)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},{108:108,60:60}],293:[function(e,t,n){var r=e(60),i=e(109),o=e(138),a=e(99),s=e(51);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,c=i(r),l={},d=0;c.length>d;)void 0!==(n=u(r,t=c[d++]))&&s(l,t,n);return l}})},{109:109,138:138,51:51,60:60,99:99}],294:[function(e,t,n){var r=e(60),i=e(108)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},{108:108,60:60}],295:[function(e,t,n){"use strict";var r=e(60),i=e(50),o=e(68),a=e(125),s=e(113);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},{113:113,125:125,50:50,60:60,68:68}],296:[function(e,t,n){"use strict";var r=e(60),i=e(130),o=e(146),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{130:130,146:146,60:60}],297:[function(e,t,n){"use strict";var r=e(60),i=e(130),o=e(146),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{130:130,146:146,60:60}],298:[function(e,t,n){"use strict";e(132)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},{132:132}],299:[function(e,t,n){"use strict";e(132)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},{132:132}],300:[function(e,t,n){e(148)("asyncIterator")},{148:148}],301:[function(e,t,n){for(var r=e(162),i=e(105),o=e(116),a=e(68),s=e(70),u=e(86),c=e(150),l=c("iterator"),d=c("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),m=0;m<h.length;m++){var v,g=h[m],y=p[g],b=a[g],_=b&&b.prototype;if(_&&(_[l]||s(_,l,f),_[d]||s(_,d,g),u[g]=f,y))for(v in r)_[v]||o(_,v,r[v],!0)}},{105:105,116:116,150:150,162:162,68:68,70:70,86:86}],302:[function(e,t,n){var r=e(60),i=e(134);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},{134:134,60:60}],303:[function(e,t,n){var r=e(68),i=e(60),o=e(146),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},{146:146,60:60,68:68}],304:[function(e,t,n){e(303),e(302),e(301),t.exports=e(50)},{301:301,302:302,303:303,50:50}],305:[function(e,t,n){var r=(function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=(function(e,t,n){var r=l;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}})(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l="suspendedStart",d="suspendedYield",f="executing",p="completed",h={};function m(){}function v(){}function g(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(P([])));_&&_!==n&&r.call(_,o)&&(y=_);var O=g.prototype=m.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e,t){var n;this._invoke=function(i,o){function a(){return new t(function(n,a){!(function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)})(i,o,n,a)})}return n=n?n.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:k}}function k(){return{value:t,done:!0}}return v.prototype=O.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},E(w.prototype),w.prototype[a]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(O),O[s]="Generator",O[o]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e})("object"==typeof t?t.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},{}],306:[function(e,t,n){"use strict";e(307);var r=(function(e){return e&&e.__esModule?e:{default:e}})(e(13));r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},{13:13,307:307}],307:[function(e,t,n){"use strict";e(1),e(3),e(2),e(9),e(8),e(11),e(10),e(12),e(5),e(6),e(4),e(7),e(304),e(305)},{1:1,10:10,11:11,12:12,2:2,3:3,304:304,305:305,4:4,5:5,6:6,7:7,8:8,9:9}]},{},[306])}),(function(e,t,n){"use strict";n(1240),e.exports=n(175)}),(function(e,t,n){"use strict";var r=n(1241),i=n(175);r({global:!0,forced:i.globalThis!==i},{globalThis:i})}),(function(e,t,n){"use strict";var r=n(175),i=n(955).f,o=n(969),a=n(1258),s=n(618),u=n(1265),c=n(1276);e.exports=function(e,t){var n,l,d,f,p,h=e.target,m=e.global,v=e.stat;if(n=m?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(f=t[l],d=e.dontCallGetSet?(p=i(n,l))&&p.value:n[l],!c(m?l:h+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(n,l,f,e)}}}),(function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r}),(function(e,t,n){"use strict";var r=n(218),i=n(263),o=n(1244),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a}),(function(e,t,n){"use strict";var r=n(218),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}}),(function(e,t,n){"use strict";var r=n(615),i=n(420),o=n(962),a=n(1249),s=n(1252),u=n(1253),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,u=a(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}}),(function(e,t,n){"use strict";var r=n(218);e.exports=r({}.isPrototypeOf)}),(function(e,t,n){"use strict";var r,i,o=n(175),a=n(1248),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i}),(function(e,t,n){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""}),(function(e,t,n){"use strict";var r=n(1250),i=n(959);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}}),(function(e,t,n){"use strict";var r=n(199),i=n(1251),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}}),(function(e,t,n){"use strict";var r=String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}}),(function(e,t,n){"use strict";var r=n(615),i=n(199),o=n(420),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}}),(function(e,t,n){"use strict";var r=n(175),i=n(966),o=n(293),a=n(967),s=n(965),u=n(964),c=r.Symbol,l=i("wks"),d=u?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(l[e]=s&&o(c,e)?c[e]:d("Symbol."+e)),l[e]}}),(function(e,t,n){"use strict";e.exports=!1}),(function(e,t,n){"use strict";var r=n(958),i=Object;e.exports=function(e){return i(r(e))}}),(function(e,t,n){"use strict";var r=n(175),i=n(420),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}}),(function(e,t,n){"use strict";var r=n(292),i=n(263);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))}),(function(e,t,n){"use strict";var r=n(199),i=n(619),o=n(1259),a=n(618);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&o(n,c,s),s.global)u?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}}),(function(e,t,n){"use strict";var r=n(218),i=n(263),o=n(199),a=n(293),s=n(292),u=n(1260).CONFIGURABLE,c=n(1261),l=n(1262),d=l.enforce,f=l.get,p=String,h=Object.defineProperty,m=r("".slice),v=r("".replace),g=r([].join),y=s&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),b=String(String).split("String"),_=e.exports=function(e,t,n){"Symbol("===m(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||u&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return a(r,"source")||(r.source=g(b,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return o(this)&&f(this).source||c(this)}),"toString")}),(function(e,t,n){"use strict";var r=n(292),i=n(293),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}}),(function(e,t,n){"use strict";var r=n(218),i=n(199),o=n(617),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource}),(function(e,t,n){"use strict";var r,i,o,a=n(1263),s=n(175),u=n(420),c=n(969),l=n(293),d=n(617),f=n(1264),p=n(971),h=s.TypeError,m=s.WeakMap;if(a||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw h("Object already initialized");return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},o=function(e){return v.has(e)}}else{var g=f("state");p[g]=!0,r=function(e,t){if(l(e,g))throw h("Object already initialized");return t.facade=e,c(e,g,t),t},i=function(e){return l(e,g)?e[g]:{}},o=function(e){return l(e,g)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return n}}}}),(function(e,t,n){"use strict";var r=n(175),i=n(199),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))}),(function(e,t,n){"use strict";var r=n(966),i=n(967),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}}),(function(e,t,n){"use strict";var r=n(293),i=n(1266),o=n(955),a=n(619);e.exports=function(e,t,n){for(var s=i(t),u=a.f,c=o.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||u(e,d,c(t,d))}}}),(function(e,t,n){"use strict";var r=n(963),i=n(218),o=n(1267),a=n(1275),s=n(970),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?u(t,n(e)):t}}),(function(e,t,n){"use strict";var r=n(1268),i=n(1274).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}}),(function(e,t,n){"use strict";var r=n(218),i=n(293),o=n(616),a=n(1269).indexOf,s=n(971),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~a(l,n)||u(l,n));return l}}),(function(e,t,n){"use strict";var r=n(616),i=n(1270),o=n(1272),a=function(e){return function(t,n,a){var s,u=r(t),c=o(u),l=i(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}}),(function(e,t,n){"use strict";var r=n(972),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}}),(function(e,t,n){"use strict";var r=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?i:r)(t)}}),(function(e,t,n){"use strict";var r=n(1273);e.exports=function(e){return r(e.length)}}),(function(e,t,n){"use strict";var r=n(972),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}}),(function(e,t,n){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),(function(e,t,n){"use strict";t.f=Object.getOwnPropertySymbols}),(function(e,t,n){"use strict";var r=n(263),i=n(199),o=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a}),(function(e,t){
/*! jQuery UI - v1.11.4 - 2015-06-04
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
!(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})((function(e){function t(t,r){var i,o,a,s=t.nodeName.toLowerCase();return"area"===s?(o=(i=t.parentNode).name,!(!t.href||!o||"map"!==i.nodeName.toLowerCase())&&(!!(a=e("img[usemap='#"+o+"']")[0])&&n(a))):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s&&t.href||r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}
/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var t=e(this);return(!r||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:(function(){var e=0;return function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++e)}))}})(),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(t,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function a(t,n,i,o){return e.each(r,(function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)})),n}e.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each((function(){e(this).css(i,a(this,t)+"px")}))},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?o["outer"+n].call(this,t):this.each((function(){e(this).css(i,a(this,t,!0,r)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}})(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:(function(t){return function(n,r){return"number"==typeof n?this.each((function(){var t=this;setTimeout((function(){e(t).focus(),r&&r.call(t)}),n)})):t.apply(this,arguments)}})(e.fn.focus),disableSelection:(function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",(function(e){e.preventDefault()}))}})(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(("absolute"===(n=i.css("position"))||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}};
/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var r=0,i=Array.prototype.slice;e.cleanData=(function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{(r=e._data(i,"events"))&&r.remove&&e(i).triggerHandler("remove")}catch(e){}t(n)}})(e.cleanData),e.widget=function(t,n,r){var i,o,a,s,u={},c=t.split(".")[0];return t=t.split(".")[1],i=c+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(r,(function(t,r){e.isFunction(r)?u[t]=(function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}})():u[t]=r})),a.prototype=e.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},u,{constructor:a,namespace:c,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,(function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)})),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,r,o=i.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])r=o[a][n],o[a].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=i.call(arguments,1),u=this;return a?this.each((function(){var n,i=e.data(this,r);return"instance"===o?(u=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,s))!==i&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")})):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each((function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new n(o,this))}))),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(r=t.split(".")).shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,(function(r,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var u=r.match(/^([\w:-]*)\s*(.*)$/),c=u[1]+o.eventNamespace,l=u[2];l?i.delegate(l,c,s):n.bind(c,s)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?!0===i||"number"==typeof i?n:i.effect||n:t;"number"==typeof(i=i||{})&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue((function(n){e(this)[t](),o&&o.call(r[0]),n()}))}}));e.widget;
/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */var o=!1;e(document).mouseup((function(){o=!1}));e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),o=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});
/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!(function(){e.ui=e.ui||{};var t,n,r=Math.max,i=Math.abs,o=Math.round,a=/left|center|right/,s=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,d=e.fn.position;function f(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var n,r,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return e("body").append(i),n=o.offsetWidth,i.css("overflow","scroll"),n===(r=o.offsetWidth)&&(r=i[0].clientWidth),i.remove(),t=n-r},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:r,isDocument:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r||i?n.width():n.outerWidth(),height:r||i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return d.apply(this,arguments);t=e.extend({},t);var l,h,m,v,g,y,b=e(t.of),_=e.position.getWithinInfo(t.within),O=e.position.getScrollInfo(_),E=(t.collision||"flip").split(" "),w={};return y=(function(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}})(b),b[0].preventDefault&&(t.at="left top"),h=y.width,m=y.height,v=y.offset,g=e.extend({},v),e.each(["my","at"],(function(){var e,n,r=(t[this]||"").split(" ");1===r.length&&(r=a.test(r[0])?r.concat(["center"]):s.test(r[0])?["center"].concat(r):["center","center"]),r[0]=a.test(r[0])?r[0]:"center",r[1]=s.test(r[1])?r[1]:"center",e=u.exec(r[0]),n=u.exec(r[1]),w[this]=[e?e[0]:0,n?n[0]:0],t[this]=[c.exec(r[0])[0],c.exec(r[1])[0]]})),1===E.length&&(E[1]=E[0]),"right"===t.at[0]?g.left+=h:"center"===t.at[0]&&(g.left+=h/2),"bottom"===t.at[1]?g.top+=m:"center"===t.at[1]&&(g.top+=m/2),l=f(w.at,h,m),g.left+=l[0],g.top+=l[1],this.each((function(){var a,s,u=e(this),c=u.outerWidth(),d=u.outerHeight(),y=p(this,"marginLeft"),S=p(this,"marginTop"),C=c+y+p(this,"marginRight")+O.width,x=d+S+p(this,"marginBottom")+O.height,T=e.extend({},g),P=f(w.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?T.left-=c:"center"===t.my[0]&&(T.left-=c/2),"bottom"===t.my[1]?T.top-=d:"center"===t.my[1]&&(T.top-=d/2),T.left+=P[0],T.top+=P[1],n||(T.left=o(T.left),T.top=o(T.top)),a={marginLeft:y,marginTop:S},e.each(["left","top"],(function(n,r){e.ui.position[E[n]]&&e.ui.position[E[n]][r](T,{targetWidth:h,targetHeight:m,elemWidth:c,elemHeight:d,collisionPosition:a,collisionWidth:C,collisionHeight:x,offset:[l[0]+P[0],l[1]+P[1]],my:t.my,at:t.at,within:_,elem:u})})),t.using&&(s=function(e){var n=v.left-T.left,o=n+h-c,a=v.top-T.top,s=a+m-d,l={target:{element:b,left:v.left,top:v.top,width:h,height:m},element:{element:u,left:T.left,top:T.top,width:c,height:d},horizontal:o<0?"left":n>0?"right":"center",vertical:s<0?"top":a>0?"bottom":"middle"};h<c&&i(n+o)<h&&(l.horizontal="center"),m<d&&i(a+s)<m&&(l.vertical="middle"),r(i(n),i(o))>r(i(a),i(s))?l.important="horizontal":l.important="vertical",t.using.call(this,e,l)}),u.offset(e.extend(T,{using:s}))}))},e.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=e.left-t.collisionPosition.marginLeft,u=o-s,c=s+t.collisionWidth-a-o;t.collisionWidth>a?u>0&&c<=0?(n=e.left+u+t.collisionWidth-a-o,e.left+=u-n):e.left=c>0&&u<=0?o:u>c?o+a-t.collisionWidth:o:u>0?e.left+=u:c>0?e.left-=c:e.left=r(e.left-s,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,u=o-s,c=s+t.collisionHeight-a-o;t.collisionHeight>a?u>0&&c<=0?(n=e.top+u+t.collisionHeight-a-o,e.top+=u-n):e.top=c>0&&u<=0?o:u>c?o+a-t.collisionHeight:o:u>0?e.top+=u:c>0?e.top-=c:e.top=r(e.top-s,e.top)}},flip:{left:function(e,t){var n,r,o=t.within,a=o.offset.left+o.scrollLeft,s=o.width,u=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,l=c-u,d=c+t.collisionWidth-s-u,f="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];l<0?((n=e.left+f+p+h+t.collisionWidth-s-a)<0||n<i(l))&&(e.left+=f+p+h):d>0&&((r=e.left-t.collisionPosition.marginLeft+f+p+h-u)>0||i(r)<d)&&(e.left+=f+p+h)},top:function(e,t){var n,r,o=t.within,a=o.offset.top+o.scrollTop,s=o.height,u=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,l=c-u,d=c+t.collisionHeight-s-u,f="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,h=-2*t.offset[1];l<0?((r=e.top+f+p+h+t.collisionHeight-s-a)<0||r<i(l))&&(e.top+=f+p+h):d>0&&((n=e.top-t.collisionPosition.marginTop+f+p+h-u)>0||i(n)<d)&&(e.top+=f+p+h)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},(function(){var t,r,i,o,a,s=document.getElementsByTagName("body")[0],u=document.createElement("div");for(a in t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)t.style[a]=i[a];t.appendChild(u),(r=s||document.documentElement).insertBefore(t,r.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",o=e(u).offset().left,n=o>10&&o<11,t.innerHTML="",r.removeChild(t)})()})();e.ui.position;
/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(e){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(r=(n=e(i.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=i.containment:this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),u=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(i=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-a.grid[1]:i+a.grid[1]:i,o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(u=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each((function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))}))},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,(function(){this.isOver?(this.isOver=0,r.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,i))}))},drag:function(t,n,r){e.each(r.sortables,(function(){var i=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,e.each(r.sortables,(function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(i=!1),i}))),i?(o.isOver||(o.isOver=1,r._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",t),r.dropped=o.element,e.each(r.sortables,(function(){this.refreshPositions()})),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,o=!1,a=r.scrollParentNotHidden[0],s=r.document[0];a!==s&&"HTML"!==a.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+a.offsetHeight-t.pageY<i.scrollSensitivity?a.scrollTop=o=a.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+a.offsetWidth-t.pageX<i.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(s).scrollTop()<i.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<i.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(s).scrollLeft()<i.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<i.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+i.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each((function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,n,r){var i,o,a,s,u,c,l,d,f,p,h=r.options,m=h.snapTolerance,v=n.offset.left,g=v+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(f=r.snapElements.length-1;f>=0;f--)c=(u=r.snapElements[f].left-r.margins.left)+r.snapElements[f].width,d=(l=r.snapElements[f].top-r.margins.top)+r.snapElements[f].height,g<u-m||v>c+m||b<l-m||y>d+m||!e.contains(r.snapElements[f].item.ownerDocument,r.snapElements[f].item)?(r.snapElements[f].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=!1):("inner"!==h.snapMode&&(i=Math.abs(l-b)<=m,o=Math.abs(d-y)<=m,a=Math.abs(u-g)<=m,s=Math.abs(c-v)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:d,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u-r.helperProportions.width}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left)),p=i||o||a||s,"outer"!==h.snapMode&&(i=Math.abs(l-y)<=m,o=Math.abs(d-b)<=m,a=Math.abs(u-v)<=m,s=Math.abs(c-g)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:d-r.helperProportions.height,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left)),!r.snapElements[f].snapping&&(i||o||a||s||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=i||o||a||s||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,o=r.options,a=e.makeArray(e(o.stack)).sort((function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)}));a.length&&(i=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each((function(t){e(this).css("zIndex",i+t)})),this.css("zIndex",i+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}});e.ui.draggable;
/*!
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t))return i=!0,!1})),!i&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=(function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,r,i){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,s=o+t.helperProportions.width,u=a+t.helperProportions.height,c=n.offset.left,l=n.offset.top,d=c+n.proportions().width,f=l+n.proportions().height;switch(r){case"fit":return c<=o&&s<=d&&l<=a&&u<=f;case"intersect":return c<o+t.helperProportions.width/2&&s-t.helperProportions.width/2<d&&l<a+t.helperProportions.height/2&&u-t.helperProportions.height/2<f;case"pointer":return e(i.pageY,l,n.proportions().height)&&e(i.pageX,c,n.proportions().width);case"touch":return(a>=l&&a<=f||u>=l&&u<=f||a<l&&u>f)&&(o>=c&&o<=d||s>=c&&s<=d||o<c&&s>d);default:return!1}}})(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var r,i,o=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<o.length;r++)if(!(o[r].options.disabled||t&&!o[r].accept.call(o[r].element[0],t.currentItem||t.element))){for(i=0;i<s.length;i++)if(s[i]===o[r].element[0]){o[r].proportions().height=0;continue e}o[r].visible="none"!==o[r].element.css("display"),o[r].visible&&("mousedown"===a&&o[r]._activate.call(o[r],n),o[r].offset=o[r].element.offset(),o[r].proportions({width:o[r].element[0].offsetWidth,height:o[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}))},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,o,a=e.ui.intersect(t,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(i=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter((function(){return e(this).droppable("instance").options.scope===i}))).length&&((r=e(o[0]).droppable("instance")).greedyChild="isover"===s)),r&&"isover"===s&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),r&&"isout"===s&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}}))},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}};e.ui.droppable;
/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r,i=n&&"left"===n?"scrollLeft":"scrollTop";return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n,r,i,o=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)r=e.trim(t[n]),(i=e("<div class='ui-resizable-handle "+("ui-resizable-"+r)+"'></div>")).css({zIndex:a.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,a;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[n],this.element),a=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover((function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")})),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter((function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())})).mouseleave((function(){a.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)((r=e(this.handles[n])[0])===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,r+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,o=this.axis,a=t.pageX-i.left||0,s=t.pageY-i.top||0,u=this._change[o];return this._updatePrevProperties(),!!u&&(n=u.apply(this,[t,a,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,r,i,o,a,s,u,c=this.options;return this._helper&&(i=(r=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=r?0:this.sizeDiff.width,a={width:this.helper.width()-o,height:this.helper.height()-i},s=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,u=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:u,left:s})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,i=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),n<o.maxWidth&&(o.maxWidth=n),i<o.maxHeight&&(o.maxHeight=i)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(n),l=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),o&&c&&(e.left=s-t.minWidth),r&&c&&(e.left=s-t.maxWidth),a&&l&&(e.top=u-t.minHeight),i&&l&&(e.top=u-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseInt(r[t],10)||0,n[t]+=parseInt(i[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize;return{top:this.originalPosition.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),a=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,u={width:n.size.width-s,height:n.size.height-a},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,l=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(u,l&&c?{top:l,left:c}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,o,a,s,u=e(this).resizable("instance"),c=u.options,l=u.element,d=c.containment,f=d instanceof e?d.get(0):/parent/.test(d)?l.parent().get(0):d;f&&(u.containerElement=e(f),/document/.test(d)||d===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(f),n=[],e(["Top","Right","Left","Bottom"]).each((function(e,r){n[e]=u._num(t.css("padding"+r))})),u.containerOffset=t.offset(),u.containerPosition=t.position(),u.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=u.containerOffset,i=u.containerSize.height,o=u.containerSize.width,a=u._hasScroll(f,"left")?f.scrollWidth:o,s=u._hasScroll(f)?f.scrollHeight:i,u.parentData={element:f,left:r.left,top:r.top,width:a,height:s}))},resize:function(t){var n,r,i,o,a=e(this).resizable("instance"),s=a.options,u=a.containerOffset,c=a.position,l=a._aspectRatio||t.shiftKey,d={top:0,left:0},f=a.containerElement,p=!0;f[0]!==document&&/static/.test(f.css("position"))&&(d=u),c.left<(a._helper?u.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-u.left:a.position.left-d.left),l&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?u.left:0),c.top<(a._helper?u.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-u.top:a.position.top),l&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?u.top:0),i=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),i&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-u.left)),r=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-u.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,l&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),r+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-r,l&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),u=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-i.left-r.left,width:u,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-i.left-r.left,width:u,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})}))},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,o=r.originalSize,a=r.originalPosition,s={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-a.top||0,left:r.position.left-a.left||0};e(i.alsoResize).each((function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),i={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,(function(e,t){var n=(r[t]||0)+(s[t]||0);n&&n>=0&&(i[t]=n||null)})),t.css(i)}))},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,u="number"==typeof r.grid?[r.grid,r.grid]:r.grid,c=u[0]||1,l=u[1]||1,d=Math.round((i.width-o.width)/c)*c,f=Math.round((i.height-o.height)/l)*l,p=o.width+d,h=o.height+f,m=r.maxWidth&&r.maxWidth<p,v=r.maxHeight&&r.maxHeight<h,g=r.minWidth&&r.minWidth>p,y=r.minHeight&&r.minHeight>h;r.grid=u,g&&(p+=c),y&&(h+=l),m&&(p-=c),v&&(h-=l),/^(se|s|e)$/.test(s)?(n.size.width=p,n.size.height=h):/^(ne)$/.test(s)?(n.size.width=p,n.size.height=h,n.position.top=a.top-f):/^(sw)$/.test(s)?(n.size.width=p,n.size.height=h,n.position.left=a.left-d):((h-l<=0||p-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),h-l>0?(n.size.height=h,n.position.top=a.top-f):(h=l-t.height,n.size.height=h,n.position.top=a.top+o.height-h),p-c>0?(n.size.width=p,n.position.left=a.left-d):(p=c-t.width,n.size.width=p,n.position.left=a.left+o.width-p))}});e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(n.options.filter,n.element[0])).addClass("ui-selectee"),t.each((function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))})),e(t.target).parents().addBack().each((function(){var r,i=e.data(this,"selectable-item");if(i)return r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,r=this,i=this.options,o=this.opos[0],a=this.opos[1],s=t.pageX,u=t.pageY;return o>s&&(n=s,s=o,o=n),a>u&&(n=u,u=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:u-a}),this.selectees.each((function(){var n=e.data(this,"selectable-item"),c=!1;n&&n.element!==r.element[0]&&("touch"===i.tolerance?c=!(n.left>s||n.right<o||n.top>u||n.bottom<a):"fit"===i.tolerance&&(c=n.left>o&&n.right<s&&n.top>a&&n.bottom<u),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),r._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))))})),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})})),e(".ui-selecting",this.element[0]).each((function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})})),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,(function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")}))},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,o.widgetName+"-item")===o)return r=e(this),!1})),e.data(t.target,o.widgetName+"-item")===o&&(r=e(t.target)),!!r&&(!(this.options.handle&&!n&&(e(this.options.handle,r).find("*").addBack().each((function(){this===t.target&&(i=!0)})),!i))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,r){var i,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=(r=this.items[n]).item[0],(o=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||e.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){r._clear(t)}))}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each((function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))})),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each((function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")})),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,u=s+e.height,c=this.offset.click.top,l=this.offset.click.left,d="x"===this.options.axis||r+c>s&&r+c<u,f="y"===this.options.axis||t+l>o&&t+l<a,p=d&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<u},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!r&&(this.floating?o&&"right"===o||"down"===i?2:1:i&&("down"===i?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,o,a=[],s=[],u=this._connectWith();if(u&&t)for(n=u.length-1;n>=0;n--)for(r=(i=e(u[n],this.document[0])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function c(){a.push(this)}for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(c);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,o,a,s,u,c,l=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=(i=e(f[n],this.document[0])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(a=d[n][1],r=0,c=(s=d[n][0]).length;r<c;r++)(u=e(s[r])).data(this.widgetName+"-item",a),l.push({item:u,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,r,i,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(r=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),o=i.offset(),r.left=o.left,r.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,r=(t=t||this).options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(i)):"tr"===r?t._createTrPlaceholder(t.currentItem,i):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){n&&!r.forcePlaceholderSize||(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var r=this;t.children().each((function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(t){var n,r,i,o,a,s,u,c,l,d,f=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&e.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(i=1e4,o=null,a=(l=f.floating||this._isFloating(this.currentItem))?"left":"top",s=l?"width":"height",d=l?"clientX":"clientY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[p].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(u=this.items[r].item.offset()[a],c=!1,t[d]-u>this.items[r][s]/2&&(c=!0),Math.abs(t[d]-u)<i&&(i=Math.abs(t[d]-u),o=this.items[r],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!n.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!n.forceHelperSize||r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,u=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():u?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():u?0:s.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay((function(){i===this.counter&&this.refreshPositions(!r)}))},_clear:function(e,t){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function i(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}for(this.fromOutside&&!t&&r.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(r.push((function(e){this._trigger("remove",e,this._uiHash())})),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,r,i,o,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,r=this.previousFilter||"",i=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),i===r?o=!0:i=r+i,n=this._filterMenuItems(i),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(i=String.fromCharCode(t.keyCode),n=this._filterMenuItems(i)),n.length?(this.focus(t,n),this.previousFilter=i,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n=this,r=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),n=t.parent(),i=e("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))})),(t=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")})),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,o,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.outerHeight(),i<0?this.activeMenu.scrollTop(o+i):i+s>a&&this.activeMenu.scrollTop(o+i-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay((function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]()),this.focus(n,r)},nextPage:function(t){var n,r,i;this.active?this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-r-i<0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var n,r,i;this.active?this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-r+i>0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return r.test(e.trim(e(this).text()))}))}})
/*!
 * jQuery UI Selectable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 */;
/*!
 * jQuery UI Autocomplete 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */
e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),o="textarea"===i,a="input"===i;this.isMultiLine=!!o||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return t=!0,r=!0,void(n=!0);t=!1,r=!1,n=!1;var o=e.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",i);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case o.UP:t=!0,this._keyEvent("previous",i);break;case o.DOWN:t=!0,this._keyEvent("next",i);break;case o.ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case o.TAB:this.menu.active&&this.menu.select(i);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||r.preventDefault());if(!n){var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}}},input:function(e){if(r)return r=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(r){r.target===t.element[0]||r.target===n||e.contains(n,r.target)||t.close()}))}))},menufocus:function(t,n){var r,i;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));i=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),(r=n.item.attr("aria-label")||i.value)&&e.trim(r).length&&(this.liveRegion.children().hide(),e("<div>").text(r).appendTo(this.liveRegion))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay((function(){this.previous=r,this.selectedItem=n}))),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||r)||(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,(function(e,n){r._renderItemData(t,n)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,(function(e){return r.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}});e.ui.autocomplete;
/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */var a,s="ui-button ui-widget ui-state-default ui-corner-all",u="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",c=function(){var t=e(this);setTimeout((function(){t.find(":ui-button").button("refresh")}),1)},l=function(t){var n=t.name,r=t.form,i=e([]);return n&&(n=n.replace(/'/g,"\\'"),i=r?e(r).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter((function(){return!this.form}))),i};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,c),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,r="checkbox"===this.type||"radio"===this.type,i=r?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){n.disabled||this===a&&e(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){n.disabled||e(this).removeClass(i)})).bind("click"+this.eventNamespace,(function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())})),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,(function(){t.refresh()})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(n.disabled)return!1})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var r=t.element[0];l(r).not(r).map((function(){return e(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),a=this,t.document.one("mouseup",(function(){a=null}))})).bind("mouseup"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(t){if(n.disabled)return!1;t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active")})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){e(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()}))),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" ui-state-active "+u).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){if(this._super(e,t),"disabled"===e)return this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?l(this.element[0]).each((function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(u),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,o=[];r.primary||r.secondary?(this.options.text&&o.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(o.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),r=n.filter(":ui-button");n.not(":ui-button").button(),r.button("refresh"),this.buttons=n.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var d;
/*!
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */e.ui.button;function f(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=p(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function p(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).delegate(n,"mouseover",h)}function h(){e.datepicker._isDisabledDatepicker(d.inline?d.dpDiv.parent()[0]:d.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function m(t,n){for(var r in e.extend(t,n),n)null==n[r]&&(t[r]=n[r]);return t}e.extend(e.ui,{datepicker:{version:"1.11.4"}}),e.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return m(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,o;i="div"===(r=t.nodeName.toLowerCase())||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(e(t),i)).settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,o):i&&this._inlineDatepicker(t,o)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?p(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,i,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(r=this._get(n,"showOn"))&&"both"!==r||t.focus(this._showDatepicker),"button"!==r&&"both"!==r||(i=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:i,title:i}):i)),t[s?"before":"after"](n.trigger),n.trigger.click((function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(n=0,r=0,i=0;i<e.length;i++)e[i].length>n&&(n=e[i].length,r=i);return r},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,i,o){var a,s,u,c,l,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",d)),m(d.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(s=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+c,u/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var n,r=e(t),i=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(i.append.remove(),i.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||r.removeClass(this.markerClassName).empty(),d===i&&(d=null))},_enableDatepicker:function(t){var n,r,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,o.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((r=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var n,r,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,o.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((r=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,r){var i,o,a,s,u=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null;i=n||{},"string"==typeof n&&((i={})[n]=r),u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(u,"min"),s=this._getMinMaxDate(u,"max"),m(u.settings,i),null!==a&&void 0!==i.dateFormat&&void 0===i.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==s&&void 0!==i.dateFormat&&void 0===i.maxDate&&(u.settings.maxDate=this._formatDate(u,s)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,o=e.datepicker._getInst(t.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv))[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,i[0]),(n=e.datepicker._get(o,"onSelect"))?(r=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[r,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);if(e.datepicker._get(i,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!n||n.indexOf(r)>-1},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var n,r,i,o,a,s,u;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(i=(r=e.datepicker._get(n,"beforeShow"))?r.apply(t,[t,n]):{})&&(m(n.settings,i),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each((function(){return!(o|="fixed"===e(this).css("position"))})),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),a=e.datepicker._checkOffset(n,a,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(s=e.datepicker._get(n,"showAnim"),u=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",(function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0})(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[s]?n.dpDiv.show(s,e.datepicker._get(n,"showOptions"),u):n.dpDiv[s||"show"](s?u:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,d=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,r=this._getNumberOfMonths(t),i=r[1],o=t.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&h.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout((function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-a:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>u&&u>i?Math.abs(n.left+i-u):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+s):0),n},_findPos:function(t){for(var n,r=this._getInst(t),i=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,r,i,o,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),r=this._get(a,"duration"),i=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[n]||e.effects[n])?a.dpDiv.hide(n,e.datepicker._get(a,"showOptions"),r,i):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===r)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,n+("M"===r?this._get(o,"showCurrentAtPos"):0),r),this._updateDatepicker(o))},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),o=this._getInst(i[0]);o["selected"+("M"===r?"Month":"Year")]=o["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(t,n,r,i){var o,a=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=e("a",i).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=r,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),o=this._getInst(i[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(r=this._get(o,"onSelect"))?r.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(o).each((function(){e(this).val(i)})))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var i,o,a,s,u=0,c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,f=(r?r.dayNames:null)||this._defaults.dayNames,p=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,h=(r?r.monthNames:null)||this._defaults.monthNames,m=-1,v=-1,g=-1,y=-1,b=!1,_=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},O=function(e){var t=_(e),r="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i=new RegExp("^\\d{"+("y"===e?r:1)+","+r+"}"),o=n.substring(u).match(i);if(!o)throw"Missing number at position "+u;return u+=o[0].length,parseInt(o[0],10)},E=function(t,r,i){var o=-1,a=e.map(_(t)?i:r,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(a,(function(e,t){var r=t[1];if(n.substr(u,r.length).toLowerCase()===r.toLowerCase())return o=t[0],u+=r.length,!1})),-1!==o)return o+1;throw"Unknown name at position "+u},w=function(){if(n.charAt(u)!==t.charAt(i))throw"Unexpected literal at position "+u;u++};for(i=0;i<t.length;i++)if(b)"'"!==t.charAt(i)||_("'")?w():b=!1;else switch(t.charAt(i)){case"d":g=O("d");break;case"D":E("D",d,f);break;case"o":y=O("o");break;case"m":v=O("m");break;case"M":v=E("M",p,h);break;case"y":m=O("y");break;case"@":m=(s=new Date(O("@"))).getFullYear(),v=s.getMonth()+1,g=s.getDate();break;case"!":m=(s=new Date((O("!")-this._ticksTo1970)/1e4)).getFullYear(),v=s.getMonth()+1,g=s.getDate();break;case"'":_("'")?w():b=!0;break;default:w()}if(u<n.length&&(a=n.substr(u),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=l?0:-100)),y>-1)for(v=1,g=y;;){if(g<=(o=this._getDaysInMonth(m,v-1)))break;v++,g-=o}if((s=this._daylightSavingAdjust(new Date(m,v-1,g))).getFullYear()!==m||s.getMonth()+1!==v||s.getDate()!==g)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,u=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},c=function(e,t,n){var r=""+t;if(u(e))for(;r.length<n;)r="0"+r;return r},l=function(e,t,n,r){return u(e)?r[t]:n[t]},d="",f=!1;if(t)for(r=0;r<e.length;r++)if(f)"'"!==e.charAt(r)||u("'")?d+=e.charAt(r):f=!1;else switch(e.charAt(r)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=l("D",t.getDay(),i,o);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=l("M",t.getMonth(),a,s);break;case"y":d+=u("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":u("'")?d+="'":f=!0;break;default:d+=e.charAt(r)}return d},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=t+1<e.length&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;t<e.length;t++)if(r)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),o=i,a=this._getFormatConfig(e);try{o=this.parseDate(n,r,a)||i}catch(e){r=t?"":r}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=r?o.getDate():0,e.currentMonth=r?o.getMonth():0,e.currentYear=r?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=null==n||""===n?r:"string"==typeof n?(function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,i=r.getFullYear(),o=r.getMonth(),a=r.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(n);u;){switch(u[2]||"d"){case"d":case"D":a+=parseInt(u[1],10);break;case"w":case"W":a+=7*parseInt(u[1],10);break;case"m":case"M":o+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(i,o));break;case"y":case"Y":i+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(i,o))}u=s.exec(n)}return new Date(i,o,a)})(n):"number"==typeof n?isNaN(n)?r:(function(e){var t=new Date;return t.setDate(t.getDate()+e),t})(n):new Date(n.getTime());return(i=i&&"Invalid Date"===i.toString()?r:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),i===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,n,r,i,o,a,s,u,c,l,d,f,p,h,m,v,g,y,b,_,O,E,w,S,C,x,T,P,k,j,R,I,A,D,M,N,L,F,B,U=new Date,z=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),V=this._get(e,"isRTL"),H=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),$=this._get(e,"navigationAsDateFormat"),G=this._getNumberOfMonths(e),q=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),K=1!==G[0]||1!==G[1],J=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(e,"min"),X=this._getMinMaxDate(e,"max"),Q=e.drawMonth-q,ee=e.drawYear;if(Q<0&&(Q+=12,ee--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-G[0]*G[1]+1,X.getDate())),t=Z&&t<Z?Z:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)--Q<0&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,n=this._get(e,"prevText"),n=$?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Q-Y,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=$?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Q+Y,1)),this._getFormatConfig(e)):i,o=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+i+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?J:z,a=$?this.formatDate(a,s,this._getFormatConfig(e)):a,u=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?u:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(V?"":u)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,d=this._get(e,"showWeek"),f=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),h=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),v=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",E=0;E<G[0];E++){for(w="",this.maxRows=4,S=0;S<G[1];S++){if(C=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),x=" ui-corner-all",T="",K){if(T+="<div class='ui-datepicker-group",G[1]>1)switch(S){case 0:T+=" ui-datepicker-group-first",x=" ui-corner-"+(V?"right":"left");break;case G[1]-1:T+=" ui-datepicker-group-last",x=" ui-corner-"+(V?"left":"right");break;default:T+=" ui-datepicker-group-middle",x=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===E?V?o:r:"")+(/all|right/.test(x)&&0===E?V?r:o:"")+this._generateMonthYearHeader(e,Q,ee,Z,X,E>0||S>0,h,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",O=0;O<7;O++)k=(O+l)%7,P+="<th scope='col'"+((O+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[k]+"'>"+p[k]+"</span></th>";for(T+=P+"</tr></thead><tbody>",j=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,j)),R=(this._getFirstDayOfMonth(ee,Q)-l+7)%7,I=Math.ceil((R+j)/7),A=K&&this.maxRows>I?this.maxRows:I,this.maxRows=A,D=this._daylightSavingAdjust(new Date(ee,Q,1-R)),M=0;M<A;M++){for(T+="<tr>",N=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(D)+"</td>":"",O=0;O<7;O++)L=v?v.apply(e.input?e.input[0]:null,[D]):[!0,""],B=(F=D.getMonth()!==Q)&&!y||!L[0]||Z&&D<Z||X&&D>X,N+="<td class='"+((O+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(D.getTime()===C.getTime()&&Q===e.selectedMonth&&e._keyEvent||b.getTime()===D.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+L[1]+(D.getTime()===J.getTime()?" "+this._currentClass:"")+(D.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(F&&!g||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+D.getMonth()+"' data-year='"+D.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":B?"<span class='ui-state-default'>"+D.getDate()+"</span>":"<a class='ui-state-default"+(D.getTime()===z.getTime()?" ui-state-highlight":"")+(D.getTime()===J.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+D.getDate()+"</a>")+"</td>",D.setDate(D.getDate()+1),D=this._daylightSavingAdjust(D);T+=N+"</tr>"}++Q>11&&(Q=0,ee++),w+=T+="</tbody></table>"+(K?"</div>"+(G[0]>0&&S===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=w}return _+=c,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,r,i,o,a,s){var u,c,l,d,f,p,h,m,v=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(o||!v)_+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(u=r&&r.getFullYear()===n,c=i&&i.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;l<12;l++)(!u||l>=r.getMonth())&&(!c||l<=i.getMonth())&&(_+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+s[l]+"</option>");_+="</select>"}if(y||(b+=_+(!o&&v&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),f=(new Date).getFullYear(),h=(p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?f+parseInt(e,10):parseInt(e,10);return isNaN(t)?f:t})(d[0]),m=Math.max(h,p(d[1]||"")),h=r?Math.max(h,r.getFullYear()):h,m=i?Math.min(m,i.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";h<=m;h++)e.yearshtml+="<option value='"+h+"'"+(h===n?" selected='selected'":"")+">"+h+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!o&&v&&g?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,n){var r=e.drawYear+("Y"===n?t:0),i=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,u=this._get(e,"yearRange");return u&&(n=u.split(":"),r=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=r),n[1].match(/[+\-].*/)&&(s+=r)),(!i||t.getTime()>=i.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new f,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4";e.datepicker,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,r=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(n=this.document[0].activeElement)&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,(function(){r._trigger("close",t)}))}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var r=!1,i=this.uiDialog.siblings(".ui-front:visible").map((function(){return+e(this).css("z-index")})).get(),o=Math.max.apply(null,i);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),r=!0),r&&!n&&this._trigger("focus",t),r},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),r=n.filter(":first"),i=n.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay((function(){i.focus()})),t.preventDefault()):(this._delay((function(){r.focus()})),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(n,(function(n,r){var i,o;r=e.isFunction(r)?{click:r,text:n}:r,r=e.extend({type:"button"},r),i=r.click,r.click=function(){i.apply(t.element[0],arguments)},o={icons:r.icons,text:r.showText},delete r.icons,delete r.showText,e("<button></button>",r).button(o).appendTo(t.uiButtonSet)})),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,n=this.options;function r(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,i){e(this).addClass("ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",n,r(i))},drag:function(e,n){t._trigger("drag",e,r(n))},stop:function(i,o){var a=o.offset.left-t.document.scrollLeft(),s=o.offset.top-t.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:t.window},e(this).removeClass("ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",i,r(o))}})},_makeResizable:function(){var t=this,n=this.options,r=n.resizable,i=this.uiDialog.css("position"),o="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,r){e(this).addClass("ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",n,a(r))},resize:function(e,n){t._trigger("resize",e,a(n))},stop:function(r,i){var o=t.uiDialog.offset(),s=o.left-t.document.scrollLeft(),u=o.top-t.document.scrollTop();n.height=t.uiDialog.height(),n.width=t.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(u>=0?"+":"")+u,of:t.window},e(this).removeClass("ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",r,a(i))}}).css("position",i)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,r=!1,i={};e.each(t,(function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(r=!0),e in n.resizableRelatedOptions&&(i[e]=t)})),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(e,t){var n,r,i=this.uiDialog;"dialogClass"===e&&i.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((n=i.is(":data(ui-draggable)"))&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=i.is(":data(ui-resizable)"))&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),n="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay((function(){t=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;t<n;t++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=i.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t)}))},_createRange:function(){var t=this.options,n="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,o,a,s,u,c=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var n=Math.abs(r-c.values(t));(i>n||i===n&&(t===c._lastChangedValue||c.values(t)===l.min))&&(i=n,o=e(this),a=t)})),!1!==this._start(t,a)&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),s=o.offset(),u=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-s.left-o.width()/2,top:t.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=n/t)>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),o=this._valueMin()+r*i,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,o;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n>r||1===t&&n<r)&&(n=r),n!==this.values(t)&&((i=this.values())[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),!1!==o&&this.values(t,n))):n!==this.value()&&!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n)},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var r,i,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],o=0;o<r.length;o+=1)r[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var r,i=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<i;r+=1)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;e=Math.floor(+(e-t).toFixed(this._precision())/n)*n+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,r,i,o,a=this.options.range,s=this.options,u=this,c=!this._animateOff&&s.animate,l={};this.options.values&&this.options.values.length?this.handles.each((function(r){n=(u.values(r)-u._valueMin())/(u._valueMax()-u._valueMin())*100,l["horizontal"===u.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](l,s.animate),!0===u.options.range&&("horizontal"===u.orientation?(0===r&&u.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===r&&u.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===r&&u.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===r&&u.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n})):(r=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(r-i)/(o-i)*100:0,l["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](l,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(t){var n,r,i,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,o)))return}switch(i=this.options.step,n=r=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+i);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-i)}this._slide(t,o,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}})
/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */;
/*!
 * jQuery UI Spinner 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */
function v(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],(function(e,r){var i=n.attr(r);void 0!==i&&i.length&&(t[r]=i)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){var n;function r(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay((function(){this.previous=n})))}n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,r.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,n.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,n)}),e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;return n=e-(t=null!==r.min?r.min:0),e=t+(n=Math.round(n/r.step)*r.step),e=parseFloat(e.toFixed(this._precision())),null!==r.max&&e>r.max?r.max:null!==r.min&&e<r.min?r.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:v((function(e){this._super(e)})),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:v((function(e){this._stepUp(e)})),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:v((function(e){this._stepDown(e)})),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:v((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:v((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){if(!arguments.length)return this._parse(this.element.val());v(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(function(){var e=/#.*$/;return function(t){var n,r;n=(t=t.cloneNode(!1)).href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(e){}try{r=decodeURIComponent(r)}catch(e){}return t.hash.length>1&&n===r}})(),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),(function(e){return t.tabs.index(e)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each((function(n,i){if(e(i).attr("aria-controls")===r)return t=n,!1})),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!n&&0),!n&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r!==this.options.active&&r);default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,i),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",r)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){var r=this.tabs.length-1;for(;-1!==e.inArray((t>r&&(t=0),t<0&&(t=r),t),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"!==e?"disabled"!==e?(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._setupDisabled(t):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),(function(e){return n.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,r=this.anchors,i=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,(function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return e("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each((function(n,r){var i,o,a,s=e(r).uniqueId().attr("id"),u=e(r).closest("li"),c=u.attr("aria-controls");t._isLocal(r)?(a=(i=r.hash).substring(1),o=t.element.find(t._sanitizeSelector(i))):(i="#"+(a=u.attr("aria-controls")||e({}).uniqueId()[0].id),(o=t.element.find(i)).length||(o=t._createPanel(a)).insertAfter(t.panels[n-1]||t.tablist),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),c&&u.data("ui-tabs-aria-controls",c),u.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(r.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,r=0;n=this.tabs[r];r++)!0===t||-1!==e.inArray(r,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();"fill"===t?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(n-=t.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){n-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each((function(){n=Math.max(n,e(this).height("").height())})).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget).closest("li"),o=i[0]===r[0],a=o&&n.collapsible,s=a?e():this._getPanelForTab(i),u=r.length?this._getPanelForTab(r):e(),c={oldTab:r,oldPanel:u,newTab:a?e():i,newPanel:s};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",t,c)||(n.active=!a&&this.tabs.index(i),this.active=o?e():i,this.xhr&&this.xhr.abort(),u.length||s.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(i),t),this._toggle(t,c))},_toggle:function(t,n){var r=this,i=n.newPanel,o=n.oldPanel;function a(){r.running=!1,r._trigger("activate",t,n)}function s(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),i.length&&r.options.show?r._show(i,r.options.show,a):(i.show(),a())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,(function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()})):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),s()),o.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&o.length?n.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),i.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each((function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;!1!==n&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,(function(e){return e!==t?e:null})):e.map(this.tabs,(function(e,n){return n!==t?n:null}))),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(!0!==n){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var r=this,i=this.tabs.eq(t),o=i.find(".ui-tabs-anchor"),a=this._getPanelForTab(i),s={tab:i,panel:a},u=function(e,t){"abort"===t&&r.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(i.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done((function(e,t,i){setTimeout((function(){a.html(e),r._trigger("load",n,s),u(i,t)}),1)})).fail((function(e,t){setTimeout((function(){u(e,t)}),1)}))))},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,o){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(n,r);-1!==i&&r.splice(i,1),t.removeData("ui-tooltip-id"),(r=e.trim(r.join(" ")))?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var r=this;if("disabled"===t)return this[n?"_disable":"_enable"](),void(this.options[t]=n);this._super(t,n),"content"===t&&e.each(this.tooltips,(function(e,t){r._updateContent(t.element)}))},_disable:function(){var t=this;e.each(this.tooltips,(function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r.element[0],t.close(i,!0)})),this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}))},open:function(t){var n=this,r=e(t?t.target:this.element).closest(this.options.items);r.length&&!r.data("ui-tooltip-id")&&(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&r.parents().each((function(){var t,r=e(this);r.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),r.attr("title")&&(r.uniqueId(),n.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))})),this._registerCloseHandlers(t,r),this._updateContent(r,t))},_updateContent:function(e,t){var n,r=this.options.content,i=this,o=t?t.type:null;if("string"==typeof r)return this._open(t,e,r);(n=r.call(e[0],(function(n){i._delay((function(){e.data("ui-tooltip-open")&&(t&&(t.type=o),this._open(t,e,n))}))})))&&this._open(t,e,n)},_open:function(t,n,r){var i,o,a,s,u=e.extend({},this.options.position);function c(e){u.of=e,o.is(":hidden")||o.position(u)}r&&((i=this._find(n))?i.tooltip.find(".ui-tooltip-content").html(r):(n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),i=this._tooltip(n),o=i.tooltip,this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),r.clone?(s=r.clone()).removeAttr("id").find("[id]").removeAttr("id"):s=r,e("<div>").html(s).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:c}),c(t)):o.position(e.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval((function(){o.is(":visible")&&(c(u.of),clearInterval(a))}),e.fx.interval)),this._trigger("open",t,{tooltip:o})))},_registerCloseHandlers:function(t,n){var r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=n[0],this.close(r,!0)}}};n[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,n,r)},close:function(t){var n,r=this,i=e(t?t.currentTarget:this.element),o=this._find(i);o?(n=o.tooltip,o.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,(function(){r._removeTooltip(e(this))})),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,n){e(n.element).attr("title",n.title),delete r.parents[t]})),o.closing=!0,this._trigger("close",t,{tooltip:n}),o.hiding||(o.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),r=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,(function(n,r){var i=e.Event("blur"),o=r.element;i.target=i.currentTarget=o[0],t.close(i,!0),e("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}})
/*!
 * jQuery UI Tabs 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 */;var g=e;e.effects={effect:{}},
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(e,t){var n,r=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=o.support={},c=e("<p>")[0],l=e.each;function d(e,t,n){var r=s[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function f(t){var r=o(),s=r._rgba=[];return t=t.toLowerCase(),l(i,(function(e,n){var i,o=n.re.exec(t),u=o&&n.parse(o),c=n.space||"rgba";if(u)return i=r[c](u),r[a[c].cache]=i[a[c].cache],s=r._rgba=i._rgba,!1})),s.length?("0,0,0,0"===s.join()&&e.extend(s,n.transparent),r):n[t]}function p(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}c.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=c.style.backgroundColor.indexOf("rgba")>-1,l(a,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),o.fn=e.extend(o.prototype,{parse:function(t,r,i,s){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(r),r=void 0);var u=this,c=e.type(t),p=this._rgba=[];return void 0!==r&&(t=[t,r,i,s],c="array"),"string"===c?this.parse(f(t)||n._default):"array"===c?(l(a.rgba.props,(function(e,n){p[n.idx]=d(t[n.idx],n)})),this):"object"===c?(l(a,t instanceof o?function(e,n){t[n.cache]&&(u[n.cache]=t[n.cache].slice())}:function(n,r){var i=r.cache;l(r.props,(function(e,n){if(!u[i]&&r.to){if("alpha"===e||null==t[e])return;u[i]=r.to(u._rgba)}u[i][n.idx]=d(t[e],n,!0)})),u[i]&&e.inArray(null,u[i].slice(0,3))<0&&(u[i][3]=1,r.from&&(u._rgba=r.from(u[i])))}),this):void 0},is:function(e){var t=o(e),n=!0,r=this;return l(a,(function(e,i){var o,a=t[i.cache];return a&&(o=r[i.cache]||i.to&&i.to(r._rgba)||[],l(i.props,(function(e,t){if(null!=a[t.idx])return n=a[t.idx]===o[t.idx]}))),n})),n},_space:function(){var e=[],t=this;return l(a,(function(n,r){t[r.cache]&&e.push(n)})),e.pop()},transition:function(e,t){var n=o(e),r=n._space(),i=a[r],u=0===this.alpha()?o("transparent"):this,c=u[i.cache]||i.to(u._rgba),f=c.slice();return n=n[i.cache],l(i.props,(function(e,r){var i=r.idx,o=c[i],a=n[i],u=s[r.type]||{};null!==a&&(null===o?f[i]=a:(u.mod&&(a-o>u.mod/2?o+=u.mod:o-a>u.mod/2&&(o-=u.mod)),f[i]=d((a-o)*t+o,r)))})),this[r](f)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),i=o(t)._rgba;return o(e.map(n,(function(e,t){return(1-r)*i[t]+r*e})))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e}));return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,a.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(r,i,o),u=Math.min(r,i,o),c=s-u,l=s+u,d=.5*l;return t=u===s?0:r===s?60*(i-o)/c+360:i===s?60*(o-r)/c+120:60*(r-i)/c+240,n=0===c?0:d<=.5?c/l:c/(2-l),[Math.round(t)%360,n,d,null==a?1:a]},a.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],i=e[3],o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;return[Math.round(255*p(a,o,t+1/3)),Math.round(255*p(a,o,t)),Math.round(255*p(a,o,t-1/3)),i]},l(a,(function(t,n){var i=n.props,a=n.cache,s=n.to,u=n.from;o.fn[t]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===t)return this[a].slice();var n,r=e.type(t),c="array"===r||"object"===r?t:arguments,f=this[a].slice();return l(i,(function(e,t){var n=c["object"===r?e:t.idx];null==n&&(n=f[t.idx]),f[t.idx]=d(n,t)})),u?((n=o(u(f)))[a]=f,n):o(f)},l(i,(function(n,i){o.fn[n]||(o.fn[n]=function(o){var a,s=e.type(o),u="alpha"===n?this._hsla?"hsla":"rgba":t,c=this[u](),l=c[i.idx];return"undefined"===s?l:("function"===s&&(o=o.call(this,l),s=e.type(o)),null==o&&i.empty?this:("string"===s&&(a=r.exec(o))&&(o=l+parseFloat(a[2])*("+"===a[1]?1:-1)),c[i.idx]=o,this[u](c)))})}))})),o.hook=function(t){var n=t.split(" ");l(n,(function(t,n){e.cssHooks[n]={set:function(t,r){var i,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(i=f(r)))){if(r=o(i||r),!u.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=o(t.elem,n),t.end=o(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}}))},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return l(["Top","Right","Bottom","Left"],(function(n,r){t["border"+r+"Color"]=e})),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(g),(function(){var t=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function r(t){var n,r,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(r=i.length;r--;)"string"==typeof i[n=i[r]]&&(o[e.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(o[n]=i[n]);return o}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(g.style(e.elem,n,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,o,a,s){var u=e.speed(o,a,s);return this.queue((function(){var o,a=e(this),s=a.attr("class")||"",c=u.children?a.find("*").addBack():a;c=c.map((function(){return{el:e(this),start:r(this)}})),(o=function(){e.each(t,(function(e,t){i[t]&&a[t+"Class"](i[t])}))})(),c=c.map((function(){return this.end=r(this.el[0]),this.diff=(function(t,r){var i,o,a={};for(i in r)o=r[i],t[i]!==o&&(n[i]||!e.fx.step[i]&&isNaN(parseFloat(o))||(a[i]=o));return a})(this.start,this.end),this})),a.attr("class",s),c=c.map((function(){var t=this,n=e.Deferred(),r=e.extend({},u,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()})),e.when.apply(e,c.get()).done((function(){o(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),u.complete.call(a[0])}))}))},e.fn.extend({addClass:(function(t){return function(n,r,i,o){return r?e.effects.animateClass.call(this,{add:n},r,i,o):t.apply(this,arguments)}})(e.fn.addClass),removeClass:(function(t){return function(n,r,i,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},r,i,o):t.apply(this,arguments)}})(e.fn.removeClass),toggleClass:(function(t){return function(n,r,i,o,a){return"boolean"==typeof r||void 0===r?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,o,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,i,o)}})(e.fn.toggleClass),switchClass:function(t,n,r,i,o){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,o)}})})(),(function(){function t(t,n,r,i){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(i=n,r=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(i=r,r=n,n={}),e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ui-effects-"+t[n],e[0].style[t[n]])},restore:function(e,t){var n,r;for(r=0;r<t.length;r++)null!==t[r]&&(void 0===(n=e.data("ui-effects-"+t[r]))&&(n=""),e.css(t[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(r),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,(function(e,n){var o=t.cssUnit(n);o[0]>0&&(i[n]=o[0]*r+o[1])})),i}}),e.fn.extend({effect:function(){var n=t.apply(this,arguments),r=n.mode,i=n.queue,o=e.effects.effect[n.effect];if(e.fx.off||!o)return r?this[r](n.duration,n.complete):this.each((function(){n.complete&&n.complete.call(this)}));function a(t){var r=e(this),i=n.complete,a=n.mode;function s(){e.isFunction(i)&&i.call(r[0]),e.isFunction(t)&&t()}(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),s()):o.call(r[0],n,s)}return!1===i?this.each(a):this.queue(i||"fx",a)},show:(function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}})(e.fn.show),hide:(function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}})(e.fn.hide),toggle:(function(e){return function(r){if(n(r)||"boolean"==typeof r)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}})(e.fn.toggle),cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],(function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])})),r}})})(),(function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,n){t[n]=function(t){return Math.pow(t,e+2)}})),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,(function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}}))})();e.effects}))}),(function(e,t,n){!(function(e){function t(e){for(var t=Array.prototype.slice.call(arguments,1),r={},i=0,o=t.length;i<o;i++){n(e,r,t[i])}return r}function n(e,t,r){for(var i in r){var o=r[i],a=t[i];e&&t==o||(e&&"object"==typeof o&&a?n(e,a,o):void 0!=o&&(t[i]=r[i]))}return t}e.externals["_nb-extend"]=function(e,n){if(n&&n[0])if("string"==typeof n)e[0].data.content=n;else{var r=t(!1,e[0].data,n[0].data);e[0].data=r}return e},e.externals["_nb-deep-extend"]=function(e,n){if(n&&n[0])if("string"==typeof n)e[0].data.content=n;else{var r=t(!0,e[0].data,n[0].data);e[0].data=r}return e},e.externals["_nb-wrap"]=function(e,t){var n={};return t&&t.length&&(n[e]=1==t.length?t[0].data:(function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=o&&o[t];a&&n.push(a)}return n})(t,"data")),[{data:n,name:"",parent:null,doc:t[0].doc}]},e.externals["_nb-uniq"]=(function(){var e=0;return function(){return e++}})(),e.externals["_nb-warn"]=function(e){console.log("%c"+e,"color:#ffcc00")}})("undefined"==typeof yr?n(912):yr)}),(function(e,t,n){(function(e,t){!(function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:(function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}})()?(function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}})():e.MessageChannel?(function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}})():s&&"onreadystatechange"in s.createElement("script")?(function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}})():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!(function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}})(t)}finally{c(e),a=!1}}}}})("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(110),n(294))}),(function(e,t){Vow.Promise.prototype.__reject=Vow.Promise.prototype.reject,Vow.Promise.prototype.reject=function(e){e instanceof Error&&ns.log.exception("promise.exception",e),this.__reject(e)}}),(function(e,t,n){var r=r||n(568);r.de&&(n(973),e.exports=r),(function(){function e(e){this.data=e}function t(t,r){if(r instanceof e)return n(r,t.scalar());for(var i=r.nodes,o=t.scalar(),a=0;a<i.length;a++)if(o==i[a].scalar())return!0;return!1}function n(t,n){var r=t.data;if(Array.isArray(r)){for(var i=0;i<r.length;i++)if(new e(r[i]).scalar()==n)return!0;return!1}return t.scalar()==n}function i(){this.nodes=[]}e.prototype.empty=new i,e.prototype.isEmpty=function(){return!1},e.prototype.nametest=function(t,n){var r=this.data;if(!r)return this.empty;if(Array.isArray(r)){n||(n=new i);for(var o=0;o<r.length;o++)new e(r[o]).nametest(t,n);return n}var a=r[t];if(void 0===a)return this.empty;var s=new e(a);return n?n.push(s):s},e.prototype.startest=function(t){t||(t=new i);var n=this.data;if(Array.isArray(n))for(var r=0;r<n.length;r++)new e(n[r]).startest(t);else for(var o in n)this.nametest(o,t);return t},e.prototype.pred=function(t,n,r,o){var a=this.data;if(Array.isArray(a)){for(var s=new i,u=0;u<a.length;u++){var c=new e(a[u]);t(c,n,r,o)&&s.push(c)}return s}return t(this,n,r,o)?this:this.empty},e.prototype.index=function(t,n,r,i){var o=this.data;if(Array.isArray(o)){var a=o[t(this,n,r,i)];return void 0!==a?new e(a).toNodeset():this.empty}return 0===t?this:this.empty},e.prototype.toArray=function(){return[this.data]},e.prototype.toNodeset=function(){return(new i).push(this)},e.prototype.scalar=function(){var e=this.data;return"object"==typeof e?"":e},e.prototype.boolean=function(){var e=this.data;return Array.isArray(e)?e.length>0:!!e},e.prototype.cmpN=function(n){var r=this.data;if(Array.isArray(r)){for(var i=0;i<r.length;i++)if(t(new e(r[i]),n))return!0;return!1}return t(this,n)},e.prototype.cmpS=function(e){return n(this,e)},i.prototype.empty=e.prototype.empty,i.prototype.isEmpty=function(){return!this.nodes.length},i.prototype.push=function(e){return this.nodes.push(e),this},i.prototype.nametest=function(e,t){var n=this.nodes;t||(t=new i);for(var r=0;r<n.length;r++)n[r].nametest(e,t);return t},i.prototype.startest=function(e){var t=this.nodes;e||(e=new i);for(var n=0;n<t.length;n++)t[n].startest(e);return e},i.prototype.pred=function(e,t,n,r){for(var o=this.nodes,a=new i,s=0;s<o.length;s++){var u=o[s];e(u,t,n,r)&&a.push(u)}return a},i.prototype.index=function(e){var t=this.nodes[e];return void 0!==t?(new i).push(t):this.empty},i.prototype.toArray=function(){for(var e=[],t=this.nodes,n=0;n<t.length;n++)e.push(t[n].data);return e},i.prototype.scalar=function(){var e=this.nodes;return e.length?e[0].scalar():""},i.prototype.boolean=function(){var e=this.nodes;return!!e.length&&e[0].boolean()},i.prototype.cmpN=function(e){for(var t=this.nodes,n=0,r=t.length;n<r;n++)if(t[n].cmpN(e))return!0;return!1},i.prototype.cmpS=function(e){for(var t=this.nodes,n=0,r=t.length;n<r;n++)if(t[n].cmpS(e))return!0;return!1},r.JNode=e,r.JNodeset=i;var o="scalar",a="nodeset",s="boolean",u={"*":6,"/":6,"%":6,"+":5,"-":5,"<=":4,">=":4,"<":4,">":4,"==":3,"!=":3,"&&":2,"||":1},c={SELF:/^\.(?![a-zA-Z_*.[])/,ROOT:/^\/(?![.[])/,BINOP:/^(?:\+|-|\*|\/|%|==|!=|<=|>=|<|>|&&|\|\|)/,UNOP:/^(?:\+|-|!)/,DIGIT:/^[0-9]/,ID:/^[a-zA-Z_][a-zA-Z0-9-_]*/,NUMBER:/^[0-9]+(?:\.[0-9]+)?/,CHARS:/^[^"{}\\]+/},l={expr:function(){var e,t=[],n=[this.parse("unary")];this.skip();for(var r=0;e=this.test("BINOP");){this.move(e.length),this.skip();var i=u[e];i<=r&&a(i),t.unshift(e),n.unshift(this.parse("unary")),this.skip(),r=i}return a(0),n[0];function a(e){for(var r,i,a;(r=t[0])&&u[r]>=e;)a=n.shift(),i=n.shift(),n.unshift({_id:"binop",_type:"+-*/%".indexOf(r)>-1?o:s,_local:i._local||a._local,op:t.shift(),left:i,right:a})}},unary:function(){var e;if(e=this.test("UNOP")){this.move();var t=this.parse("unary");return{_id:"unop",_type:"!"===e?s:o,_local:t._local,op:e,expr:t}}return this.parse("primary")},primary:function(){switch(this.la()){case'"':return this.parse("string");case".":case"/":return this.parse("jpath");case"(":return this.parse("subexpr")}if(this.test("DIGIT"))return{_id:"number",_type:o,value:this.match("NUMBER")};var e=this.match("ID");if(this.test("."))return{_id:"filter",_type:a,name:e,jpath:this.parse("jpath")};if(this.test("(")){this.move(),this.skip();var t=[];if(!this.test(")"))for(t.push(this.parse("expr")),this.skip();this.test(",");)this.move(),this.skip(),t.push(this.parse("expr")),this.skip();return this.match(")"),{_id:"func",_type:o,name:e,args:t}}return{_id:"var",_type:a,name:e}},subexpr:function(){this.move(),this.skip();var e=this.parse("expr");return this.skip(),this.match(")"),{_id:"subexpr",_type:e._type,_local:e._local,expr:e}},jpath:function(){if(this.test("SELF"))return this.move(),{_id:"self",_type:a,_local:!0};if(this.test("ROOT"))return this.move(),{_id:"root",_type:a};var e;this.test("/")&&(this.move(),e=!0);for(var t=[];;){var n=this.la();if("."===n)t.push(this.parse("step"));else{if("["!==n)break;var r=this.parse("pred");"guard"===r._id?t.unshift(r):t.push(r)}}return{_id:"jpath",_type:a,_local:!e,abs:e,steps:t}},step:function(){this.move();var e=this.la();return"["===e?this.parse("pred"):"*"===e?(this.move(),{_id:"star"}):{_id:"nametest",nametest:this.match("ID")}},pred:function(){this.move(),this.skip();var e=this.parse("expr");this.skip(),this.match("]");var t="index";return e._local?t="pred":e._type===s&&(t="guard"),{_id:t,expr:e}},string:function(){this.match('"');var e=this.parse("string_content");return this.match('"'),e}},d={"{{":"{","}}":"}",'\\"':'"',"\\\\":"\\"};l.string_content=function(){for(var e,t=[],n="";this.s;)if(e=d[this.la(2)])n+=e,this.move(2);else{if('"'===(e=this.la()))break;"\\"===e?(n+=e,this.move()):"{"===e?(r(),this.move(),this.skip(),t.push(this.parse("expr")),this.skip(),this.match("}")):n+=this.match("CHARS")}return r(),t.length||t.push(i("")),{_id:"string",_type:o,value:t};function r(){n&&(t.push(i(n)),n="")}function i(e){return{_id:"string_literal",_type:o,value:e}}};var f=new r.Parser(l,c),p={};function h(e,t){var n=e+"::"+t,i=p[n];return i||(i=p[n]=(function(e){for(var t=[],n="jpath"===e._id?v(e,t):m(e,t),i="",o=0;o<=n;o++)i+="function t"+o+"(node, root, vars, funcs) {\n"+t[o]+"\n}\n\n";return i+="return function(data, vars, funcs) {\nvar node = new no.JNode(data);\nreturn t"+n+"(node, node, vars, funcs);\n}\n",Function("no",i)(r)})(f.start(e,t))),i}function m(e,t){var n="return ("+g(e,t)+");";return t.push(n)-1}function v(e,t){var n="";e.abs&&(n+="node = root;\n");for(var r=e.steps,i=0,a=r.length;i<a;i++){var u=r[i],c=u._id;switch(c){case"nametest":n+='node = node.nametest("'+u.nametest+'");\n';break;case"star":n+="node = node.startest();\n";break;case"pred":case"index":u.expr._as="pred"===c?s:o,n+="node = node."+c+"(t"+m(u.expr,t)+", root, vars, funcs);\n";break;case"guard":n+="if (!("+g(u.expr,t)+")) { return node.empty; }\n"}"guard"!==c&&(n+="if (node.isEmpty()) { return node.empty; }\n")}return n+="return node;",t.push(n)-1}function g(e,t){var n;switch(e._id){case"root":n="root";break;case"self":n="node";break;case"number":n=e.value;break;case"string_literal":n=JSON.stringify(e.value);break;case"string":n="("+e.value.map((function(e){return e._as=o,g(e,t)})).join(" + ")+")";break;case"var":n='(new no.JNode(vars["'+e.name+'"]))';break;case"func":n='funcs["'+e.name+'"](';for(var r=0,i=e.args.length;r<i;r++){var u=e.args[r];u._as=o,n+=r?",":"",n+=g(u,t)}n+=")";break;case"unop":e.expr._as="!"===e.op?s:o,n=e.op+"("+g(e.expr,t)+")";break;case"binop":i=e.left;var c,l=e.right,d=i._type,f=l._type,p=e.op;switch(p){case"&&":case"||":c=d===s&&f===s?s:o;break;case"==":case"!=":d===f||d!==s&&f!==s||(c=s);break;default:c=o}c&&(i._as=l._as=c);var h=g(i,t),m=g(l,t);if("=="===p||"!="===p){if(d===a||f===a){if(d===o){var y=m;m=h,h=y}n="("+h+").cmp"+(d===f?"N":"S")+"("+m+")"}n&&"!="===p&&(n="!("+n+")")}void 0===n&&(n="("+h+" "+e.op+" "+m+")");break;case"subexpr":n="("+g(e.expr,t)+")";break;case"jpath":n="t"+v(e,t)+"(node, root, vars, funcs)";break;case"filter":n="t"+v(e.jpath,t)+'(new no.JNode(vars["'+e.name+'"]), root, vars, funcs)'}return e._as&&e._as!==e._type&&(e._type===a?n="("+n+")."+e._as+"()":e._type===o&&(n="!!("+n+")")),n}r.jpath=function(e,t,n,i){return r.jpath.toScalar(r.jpath.expr(e)(t,n,i))},r.jpath.raw=function(e,t,n,i){return r.jpath.expr(e)(t,n,i)},r.jpath.scalar=function(e){var t=r.jpath.expr(e);return function(e,n,i){return r.jpath.toScalar(t(e,n,i))}},r.jpath.boolean=function(e){var t=r.jpath.expr(e);return function(e,n,i){return r.jpath.toBoolean(t(e,n,i))}},r.jpath.string=function(e){return h(e,"string_content")},r.jpath.expr=function(e){var t=typeof e;return"string"===t?h(e,"expr"):e&&"object"===t?Array.isArray(e)?(function(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push(r.jpath.expr(e[i]));return function(e,i,o){for(var a=[],s=0;s<n;s++)a.push(r.jpath.toScalar(t[s](e,i,o)));return a}})(e):(function(e){var t={};for(var n in e)t[n]=r.jpath.expr(e[n]);return function(e,n,i){var o={};for(var a in t)o[a]=r.jpath.toScalar(t[a](e,n,i));return o}})(e):function(){return e}},r.jpath.toScalar=function(t){return t instanceof e?t.data:t instanceof i?t.isEmpty()?void 0:t.toArray():t},r.jpath.toBoolean=function(t){return t instanceof e||t instanceof i?t.boolean():t};var y={};r.jpath.set=function(e,t,n){return(y[e]||(y[e]=(function(e){for(var t=e.split("."),n=1,r=t.length-1,i="var r = data; var t;";n<r;n++)i+='t = r["'+t[n]+'"];',i+='if (t == null) { t = r["'+t[n]+'"] = {}; }',i+="r = t;";return i+='r["'+t[n]+'"] = value;',i+="return data;",new Function("data","value",i)})(e)))(t,n)}})()}),(function(e,t,n){var r=n(1283);window.ns=r,n(1284),n(1285),n(1286),n(1287),n(1288),n(1289),n(1290),n(1291),n(1292),n(1293),n(1294),n(1295),n(1296),n(1297),n(1298),n(1299),n(1300),n(1301),n(1302),n(1303),n(1304),n(1305),n(1306),n(1307),n(1308)}),(function(e,t){var n={todo:function(){throw new Error("Unimplemented")},parseQuery:function(e){var t={};return e.split("&").forEach((function(r){var i=r.split("="),o=i.shift();if(o){var a=i.join("=");if(void 0===a)a="";else try{a=decodeURIComponent(a)}catch(t){a="",n.log.info("ns.parseQuery.invalid-param",{query:e,chunk:r})}o in t?(Array.isArray(t[o])||(t[o]=[t[o]]),t[o].push(a)):t[o]=a}})),t},renderString:function(e,t,n){return yr.run(n||"main",e,t)},renderNode:function(e,t,r){var i=n.html2node(n.renderString(e,t,r));return i?i.firstChild:null},init:function(){n.action.init(),n.router.init(),n.history.init(),n.initMainView()},initMainView:function(){var e=n.View.create("app");e._setNode(document.getElementById("app")),e.invalidate(),n.MAIN_VIEW=e},assert:function(e,t,r){e||n.assert.fail.apply(this,Array.prototype.slice.call(arguments,1))}};n.assert.fail=function(e,t){for(var n=Array.prototype.slice.call(arguments,2),r=0;r<n.length;r++)t=t.replace("%s",n[r]);throw new Error("["+e+"] "+t)},n.key=function(e,t){var n=e;for(var r in t=t||{})n+="&"+r+"="+encodeURIComponent(t[r]);return n},n.params2query=function(e){var t,n,r=[];for(t in e)if(n=e[t],Array.isArray(n))for(var i=0;i<n.length;i++)r.push(encodeURIComponent(t)+"="+encodeURIComponent(n[i]));else r.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return r.join("&")},n.reset=function(){n.action&&n.action._reset(),n.router._reset(),n.layout._reset(),n.Model._reset(),n.View._reset(),n.request._reset(),n.page._reset(),n.page.history.reset(),n.MAIN_VIEW=null},e.exports=n}),(function(e,t){ns.VERSION="0.8.12"}),(function(e,t){ns.L={},ns.L.VIEW="view",ns.L.ASYNC="async",ns.L.BOX="box",ns.V={},ns.V.STATUS={NONE:"none",LOADING:"loading",OK:"ok",INVALID:"invalid"},ns.M={},ns.M.STATUS={ERROR:"error",INITED:"inited",NONE:"none",OK:"ok",INVALID:"invalid"},ns.R={NOT_APP_URL:"ns-router-not-app",NOT_FOUND:"not-found",REDIRECT:"ns-router-redirect"},ns.U={},ns.U.STATUS={MODELS:"models",EXPIRED:"expired"},ns.U.EXEC={GLOBAL:"global",ASYNC:"async",PARALLEL:"parallel"},ns.DEBUG=!1,ns.H={DEFAULTS:{dataType:"json",type:"POST"}}}),(function(e,t){ns.V.EVENTS={click:"click",dblclick:"dblclick",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup"},ns.V.DOM_EVENTS=["blur","change","input","click","dblclick","dragstart","dragenter","dragover","dragleave","drag","drop","dragend","focus","focusin","focusout","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","submit"],ns.V.NS_EVENTS=["ns-view-async","ns-view-destroyed","ns-view-init","ns-view-htmlinit","ns-view-show","ns-view-touch","ns-view-hide","ns-view-htmldestroy"]}),(function(e,t){!(function(e){e.replaceNode=function(e,t){return e===t||!!e.parentNode&&(e.parentNode.replaceChild(t,e),!0)},e.removeNode=function(e){var t=e.parentNode;t&&t.removeChild(e)},e.html2node=function(e){if(!e)return null;var t=document.createElement("div");return t.innerHTML=e,t},e.childrenIterator=function(e){return (function(e){var t=-1;return{getNext:function(){return e[++t]||null}}})(e.children)};var t=/[\t\r\n]/g;"undefined"!=typeof document&&document.createElement("div").classList?e.hasClass=function(e,t){return e.classList.contains(t)}:e.hasClass=function(e,n){return n=" "+n+" ",1===e.nodeType&&(" "+e.className+" ").replace(t," ").indexOf(n)>=0},"undefined"!=typeof document&&document.getElementsByClassName?e.byClass=function(e,t){return(t=t||document).getElementsByClassName(e)}:e.byClass=function(e,t){return t=t||document,$(t).find("."+e)}})(ns)}),(function(e,t){!(function(e){var t=/[&<>"'\/]/g,n=(function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return function(t){return e[t]}})();e.entityify=function(e){return String(e).replace(t,n)};var r=/&([^&;]+);/g,i=(function(){var e={amp:"&",lt:"<",gt:">",quot:'"',"#x27":"'","#x2F":"/"};return function(t,n){return e[n]||t}})();e.deentityify=function(e){return String(e).replace(r,i)}})(ns)}),(function(e,t){ns.Events={},ns.Events.on=function(e,t){var n=this._nsevents_handlers||(this._nsevents_handlers={});return ns.assert("function"==typeof t,"ns.Events",'Handler for event "%s" in not a function.',e),(n[e]||(n[e]=[])).push(t),this},ns.Events.once=function(e,t){var n=this,r=function(){n.off(e,r),t.apply(this,arguments)};return r.__original=t,this.on(e,r),this},ns.Events.off=function(e,t){var n;if(t){if(n=this._nsevents_handlers&&this._nsevents_handlers[e])for(var r=0,i=n.length;r<i;r++)if(n[r]===t||n[r].__original===t){n.splice(r,1);break}}else(n=this._nsevents_handlers)&&(n[e]=null);return this},ns.Events.trigger=function(e,t){var n=this._nsevents_handlers&&this._nsevents_handlers[e];if(n)for(var r=0,i=(n=n.slice()).length;r<i;r++)try{n[r].apply(this,arguments)}catch(t){ns.log.exception("ns.events",t,{name:e})}return this},ns.Events.atrigger=function(e,t){var n=this,r=arguments;no.next((function(){n.trigger.apply(n,r)}))},ns.Events.forward=function(e,t){return this.on(e,(function(e,n){t.trigger(e,n)}))},ns.events=no.extend({},ns.Events)}),(function(e,t){!(function(){function e(e){return"function"==typeof e}ns.history={},ns.history.init=function(){$(window).on("popstate",(function(e){e.preventDefault(),e.stopPropagation(),ns.history.onpopstate(e)})),$(document).on(ns.V.EVENTS.click,"a",ns.history._onAnchorClick)},ns.history.pushState=function(t,n){e(window.history.pushState)&&window.history.pushState(null,n||ns.page.title(t),t)},ns.history.replaceState=function(t,n){e(window.history.replaceState)&&window.history.replaceState(null,n||ns.page.title(t),t)},ns.history.onpopstate=function(){ns.page.go("",!0)},ns.history.followAnchorHref=function(e,t){return ns.page.go(e)},ns.history._onAnchorClick=function(e){var t=e.currentTarget;if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return!0;if(t.protocol&&!/^https?:/.test(t.protocol))return!0;if(t.hostname&&t.hostname!==window.location.hostname)return!0;if(ns.router.baseDir){var n=t.pathname,r=ns.router.baseDir;if(n.substr(0,r.length)!==r)return!0}var i=t.getAttribute("href");if(!i||t.getAttribute("target"))return!0;var o=ns.history.followAnchorHref(i,t);return Vow.isPromise(o)?(e.preventDefault(),!0):void 0}})()}),(function(e,t){ns.http=function(e,t,n){(n=no.extend({},ns.H.DEFAULTS,n)).url=e,n.data=t;var r=new Vow.Promise;return $.ajax(n).done((function(e){r.fulfill(e)})).fail((function(e,t,n){var i=n||t||"unknown error";r.reject({error:i,xhr:e})})),r}}),(function(e,t){ns.object={},ns.object.clone=function(e){if(e&&"object"==typeof e){var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t.push(ns.object.clone(e[n]))}else for(var r in t={},e)t[r]=ns.object.clone(e[r]);return t}return e},ns.object.isEmpty=function(e){for(var t in e)return!1;return!0}}),(function(e,t){ns.profile={},ns.profile.startTimer=function(e){this._profileTimes||(this._profileTimes={}),ns.assert(!this._profileTimes[e],"ns.profile","Timer '%s' is in use",e),this._profileTimes[e]=Date.now()},ns.profile.stopTimer=function(e){return this._profileTimes||(this._profileTimes={}),ns.assert(this._profileTimes[e],"ns.profile","Timer '%s' haven't been started",e),this._profileTimes[e]=Date.now()-this._profileTimes[e],this._profileTimes[e]},ns.profile.switchTimer=function(e,t){this.stopTimer(e),this.startTimer(t)},ns.profile.getTimer=function(e){this._profileTimes||(this._profileTimes={});var t=this._profileTimes[e];return"number"==typeof t?t:NaN},ns.profile.getTimers=function(){return no.extend({},this._profileTimes)}}),(function(e,t){!(function(e,t){e.action={};var n={},r=!1;e.action.define=function(e,t){if(e in n)throw new Error("[ns.action] Can't redefine '"+e+"'");n[e]=t},e.action.copy=function(e,t){if(t in n)throw new Error("[ns.action] Can't redefine '"+t+"'");if(!(e in n))throw new Error("[ns.action] '"+e+"' is not defined");n[t]=n[e]},e.action.run=function(t,r,i,o){var a=n[t];e.assert(a,"ns.action","%s is not defined",t);try{return a(t,r,i,o)}catch(t){e.log.exception("ns.action",t)}},e.action.getParams=function(e){var t=e.getAttribute("data-params");if(t&&"{"===t.charAt(0))try{return JSON.parse(t)}catch(e){}return{}},e.action.init=function(){if(!r){r=!0;var t=$("body"),n=[e.V.EVENTS.click,e.V.EVENTS.dblclick].join(" ");t.on(n,".ns-action",this._process)}},e.action._process=function(t){var n=t.currentTarget,r="dblclick"===t.type?n.getAttribute("data-dblclick-action"):n.getAttribute("data-click-action"),i=!0;return r&&(i=e.action.run(r,e.action.getParams(n),n,t)),void 0!==i&&!Vow.isPromise(i)&&i},e.action._reset=function(){n={}}})(ns)}),(function(e,t){!(function(){ns.Model=function(){},no.extend(ns.Model.prototype,ns.Events);var e={},t={},n={},r=0;ns.Model.prototype.STATUS=ns.M.STATUS,ns.Model.prototype.RETRY_LIMIT=3,ns.Model.prototype.status=ns.M.STATUS.NONE,ns.Model.prototype.key=null,ns.Model.prototype.params=null,ns.Model.prototype._errorFixingPromise=null,ns.Model.prototype._init=function(e,t){this.id=e,this._reset(),this.info=ns.Model.info(e),no.extend(this,ns.Model.getKeyAndParams(e,t,this.info)),this._reinit()},ns.Model.prototype._reinit=function(){this.status===this.STATUS.NONE&&(this._bindEvents(),this.status=this.STATUS.INITED,this.trigger("ns-model-init"))},ns.Model.prototype._reset=function(e){this.data=null,this.error=null,this._softReset(e),this._version=0},ns.Model.prototype._softReset=function(e){this.status=e||this.STATUS.NONE,this.retries=0},ns.Model.prototype._bindEvents=function(){for(var e in this.info.events){var t=this.info.events[e];Array.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++)this.on(e,this._prepareCallback(t[n]))}},ns.Model.prototype._unbindEvents=function(){for(var e in this.info.events){var t=this.info.events[e];Array.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++)this.off(e,this._prepareCallback(t[n]))}},ns.Model.prototype._prepareCallback=function(e){return"string"==typeof e&&(e=this[e]),ns.assert("function"==typeof e,"ns.Model","Can't find method '%s' in '%s' to bind event",e,this.id),e},ns.Model.prototype.invalidate=function(){this._softReset(this.STATUS.INVALID)},ns.Model.prototype.destroy=function(){this.trigger("ns-model-before-destroyed"),this._reset(this.STATUS.NONE),this.trigger("ns-model-destroyed"),this._unbindEvents()},ns.Model.prototype.isValid=function(){return this.status===this.STATUS.OK},ns.Model.prototype.getData=function(){return this.data},ns.Model.prototype.get=function(e){var t=this.data;if(t)return no.jpath(e,t)},ns.Model.prototype.select=function(e){var t=this.data;return t?no.jpath.raw(e,t).toArray():[]},ns.Model.prototype.set=function(e,t,n){var r=this.data;if(this.isValid()&&r&&(no.jpath.set(e,r,t),(n=n||{}).jpath=e,this.touch(n),!n.silent))for(var i=e.split("."),o=i.length;o>1;){var a=i.slice(0,o).join(".");this.trigger("ns-model-changed"+a,a,e),o--}},ns.Model.prototype.setData=function(e,t){return this._reinit(),!e||this.isValid()&&!this.hasDataChanged(e)||(this.data=this._beforeSetData(this.preprocessData(e),t),this.status=this.STATUS.OK,this.error=null,this.touch(t)),this},ns.Model.prototype.hasDataChanged=function(e){return!!e},ns.Model.prototype.getError=function(){return this.error},ns.Model.prototype.setError=function(e){this.isErrorCanBeFixed(e)?this._errorFixingPromise=this.fixError(e):(this.data=null,this.error=e,this.status=this.STATUS.ERROR)},ns.Model.prototype.isErrorCanBeFixed=function(e){return!1},ns.Model.prototype.fixError=function(e){return Vow.resolve()},ns.Model.prototype._beforeSetData=function(e,t){return e},ns.Model.prototype.preprocessData=function(e){return e},ns.Model.prototype.getRequestParams=function(){return ns.Model._getKeyParams(this.id,this.params,this.info)},ns.Model.prototype._canRequest=function(){return this.canRequest()&&(!this.retries||!this.isDo())&&this.retries<this.RETRY_LIMIT},ns.Model.prototype.canRequest=no.true,ns.Model.prototype.extractData=function(e){if(e)return e.data},ns.Model.prototype.extractError=function(e){if(e)return e.error},ns.Model.prototype.isDo=function(){return this.info.isDo},ns.Model.prototype.getVersion=function(){return this._version},ns.Model.prototype._incVersion=function(){this._version++},ns.Model.prototype.touch=function(e){if(!(e=e||{}).silent){this._incVersion(),this.trigger("ns-model-touched");var t=e.jpath||"";this.trigger("ns-model-changed",t)}},ns.Model.prototype.prepareRequest=function(e){return this.requestID=e,this.retries++,this.promise=new Vow.Promise,this},ns.Model.prototype.finishRequest=function(){this._errorFixingPromise?this._errorFixingPromise.then(this.__finishRequest,this.__finishRequest,this):this.__finishRequest()},ns.Model.prototype.__finishRequest=function(){this._errorFixingPromise&&(this._errorFixingPromise=null,this.retries=0),this.promise.fulfill()},ns.Model.prototype.destroyWith=function(e){ns.Model.destroyWith(this,e)},ns.Model.get=function(t,r){var i=this._find(t,r);i||((i=new(0,e[t]))._init(t,r),i.isDo()||(n[t][i.key]=i));return i._reinit(),i},ns.Model.getValid=function(e,t){var n=this._find(e,t);return n&&n.isValid()?n:null},ns.Model._find=function(e,r){ns.assert(e in t,"ns.Model","'%s' is not defined",e);var i=ns.Model.key(e,r);return n[e][i]||null},ns.Model.destroy=function(e){if(!e.isDo()){var t=e.id,r=e.key;n[t][r]&&e.destroy()}},ns.Model.isValid=function(e,t){return!!ns.Model.getValid(e,t)},ns.Model.define=function(r,i,o){ns.assert(!(r in t),"ns.Model","Can't redefine '%s'",r),void 0===(i=i||{}).isCollection&&(i.isCollection=!!i.split);var a=o;"string"==typeof o?(a=e[o],ns.assert(a,"ns.Model","Can't find '%s' to extend '%s'",o,r)):o||(a=i.uniq?ns.ModelUniq:i.isCollection?ns.ModelCollection:ns.Model);var s=i.ctor||function(){};return s=no.inherit(s,a,i.methods),i.ready=!1,t[r]=i,e[r]=s,n[r]={},s},ns.Model._reset=function(){n={},e={},t={}},ns.Model._clear=function(){for(var e in t)n[e]={}},ns.Model.info=function(e){var t=ns.Model.infoLite(e);return t.ready||(t.params=t.params||{},t.events=t.events||{},t.isDo=/^do-/.test(e),t.ready=!0),t},ns.Model.infoLite=function(e){var n=t[e];return ns.assert(n,"ns.Model","'%s' is not defined",e),n},ns.Model.key=function(e,t,n){return ns.Model.getKeyAndParams(e,t,n).key},ns.Model.getKeyAndParams=function(e,t,n){if((n=n||ns.Model.info(e)).isDo)return{key:"do-"+e+"-"+r++,params:t};var i="model="+e,o=ns.Model._getKeyParams(e,t,n);return{key:ns.key(i,o),params:o}},ns.Model._getKeyParams=function(e,t,n){if(t=t||{},"function"==typeof(n=n||ns.Model.info(e)).params)return n.params(t);for(var r=n.params,i=n.pNames||(n.pNames=Object.keys(n.params)),o={},a=0,s=i.length;a<s;a++){var u=i[a],c=t[u];null!=(c=void 0===c?r[u]:c)&&(o[u]=c)}return"function"==typeof n.paramsRewrite&&(o=n.paramsRewrite(o)),o},ns.Model.invalidate=function(e,t){t=t||function(){return!0};var r=n[e];for(var i in r){var o=r[i];t(o)&&o.invalidate()}},ns.Model.destroyWith=function(e,t){Array.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++){var i=t[n];ns.assert(i instanceof ns.Model,"ns.Model","destroyWith called for '%s' while one of the withModels is not instance of ns.Model",e.id),i.on("ns-model-destroyed",(function(){ns.Model.destroy(e)}))}},ns.Model.isCollection=function(e){return(e.info||ns.Model.infoLite(e.id)).isCollection},ns.Model.traverse=function(e,t){ns.Model.infoLite(e),ns.assert("function"==typeof t,"ns.Model.traverse","callback must be a function");var r=n[e];for(var i in r)t(r[i])},ns.ModelUniq=function(){},no.inherit(ns.ModelUniq,ns.Model),ns.ModelUniq.prototype.__superInit=ns.ModelUniq.prototype._init,ns.ModelUniq.prototype._init=function(e){var t=ns.Model.info(e);t.events.changed=t.events.changed||[];var n=t.events.changed,r=function(){var e=this,t=this.params[this.uniqName];this.uniqCached||(this.uniqCached={}),t.forEach((function(t,n){e.uniqCached[n]=!0}))};Array.isArray(n)?n.unshift(r):t.events.changed=[r,t.events.changed],this.__superInit.apply(this,arguments)},ns.ModelUniq.prototype._superIsValid=ns.Model.prototype.isValid,ns.ModelUniq.prototype.isValid=function(){return-1===this.key.indexOf("&"+this.uniqName+"=")||this._superIsValid()},ns.ModelUniq.prototype.uniqName="",ns.ModelUniq.prototype.uniqPath="",ns.ModelUniq.prototype.uniqCached=null,ns.ModelUniq.prototype.uniq=function(e,t){var n=this,r=this.uniqName,i=no.extend({},e);if(this.uniqCached||(this.uniqCached={}),t)for(var o in e)t[o]=o===r?[]:e[o];return i[r]=[].concat(i[r]).map((function(e){return n.uniqCached[e]?(t&&t[r].push(e),null):e})),i[r].length||delete i[r],t&&!t[r].length&&delete t[r],i},ns.ModelUniq.prototype.uniqFromKey=function(e){return((e.split(this.uniqName+"=")[1]||"").split("&")[0]||"").split(",")},ns.ModelUniq.prototype.uniqFromJSON=ns.todo,ns.ModelUniq.prototype.getData=function(e){var t=this.uniqPath,r=[].concat(e[this.uniqName]),i={};i[t]=[];var o=n[this.id];for(var a in o)for(var s=o[a],u=this.uniqFromKey(a),c=0,l=r.length;c<l;c++)if(u.indexOf(r[c])>-1){var d=this.uniqFromJSON(s.data,r[c]);d&&i[t].push(d),r.splice(c,1),c--}return i}})()}),(function(e,t){ns.ModelCollection=function(){},no.inherit(ns.ModelCollection,ns.Model),ns.ModelCollection.prototype.DEFAULT_ITEMS_SPLIT=".items",ns.ModelCollection.prototype._init=function(){this._modelsEvents={},this.models=[],ns.Model.prototype._init.apply(this,arguments)},ns.ModelCollection.prototype.getData=function(){if(this.isValid()){var e;e=this.info.split?this.info.split.items:this.info.jpathItems?this.info.jpathItems:this.DEFAULT_ITEMS_SPLIT,this.data||(this.data={}),"/"===e?this.data=[]:no.jpath.set(e,this.data,[]);var t=no.jpath(e,this.data);this.models.forEach((function(e){t.push(e.getData())}))}return this.data},ns.ModelCollection.prototype._reset=function(){ns.Model.prototype._reset.apply(this,arguments),this.clear()},ns.ModelCollection.prototype._beforeSetData=function(e,t){var n=this.info.split;if(n){var r=no.jpath(n.items||this.DEFAULT_ITEMS_SPLIT,e),i=this._splitModels(r,t),o=this.__filterExistsModels(this.models,i),a=this.__filterExistsModels(i,this.models);this.__removeModels(a),this.__insertModels(o,0),this.models=i}else this.clear();return e},ns.ModelCollection.prototype._splitModels=function(e,t){for(var n=this.info.split,r=[],i=0,o=e.length;i<o;i++){var a,s=e[i],u={};for(var c in n.params)u[c]=no.jpath(n.params[c],s);(a="function"==typeof n.model_id?n.model_id(s,u):n.model_id)&&r.push(ns.Model.get(a,u).setData(s,t))}return r},ns.ModelCollection.prototype._subscribeSplit=function(e){var t=this;this.bindModel(e,"ns-model-changed",(function(n,r){t.onItemChanged(n,e,r)})),this.bindModel(e,"ns-model-touched",(function(n){t.onItemTouched(n,e)})),this.bindModel(e,"ns-model-before-destroyed",(function(n){t.onItemDestroyed(n,e)}))},ns.ModelCollection.prototype.__filterExistsModels=function(e,t){for(var n=this.__buildModelsHash(e),r=[],i=0,o=t.length;i<o;i++){var a=t[i];n.hasOwnProperty(a.key)||r.push(a)}return r},ns.ModelCollection.prototype.__buildModelsHash=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].key]=0;return t},ns.ModelCollection.prototype.bindModel=function(e,t,n){var r=this._modelsEvents[e.key]||(this._modelsEvents[e.key]={});e.on(t,n),r[t]=n},ns.ModelCollection.prototype.unbindModel=function(e,t){var n=this._modelsEvents[e.key];n&&n[t]&&(e.off(t,n[t]),delete n[t])},ns.ModelCollection.prototype.onItemChanged=function(e,t,n){this.trigger("ns-model-changed",{model:t,jpath:n})},ns.ModelCollection.prototype.onItemTouched=function(e,t){this._version++},ns.ModelCollection.prototype.onItemDestroyed=function(e,t){this.remove(t)},ns.ModelCollection.prototype.getSelfVersion=function(){return this._versionSelf},ns.ModelCollection.prototype._incVersion=function(){ns.Model.prototype._incVersion.apply(this,arguments),this._versionSelf=this._version},ns.ModelCollection.prototype._unsubscribeSplit=function(e){if(e.key in this._modelsEvents){var t=this._modelsEvents[e.key];for(var n in t)e.off(n,t[n]);delete this._modelsEvents[e.key]}},ns.ModelCollection.prototype.clear=function(){var e=this.models;if(this.models=[],e&&e.length){var t=this;e.forEach((function(e){t._unsubscribeSplit(e)})),this.trigger("ns-model-remove",e)}},ns.ModelCollection.prototype.insert=function(e,t){this._reinit(),isNaN(t)&&(t=this.models.length),Array.isArray(e)||(e=[e]);for(var n=[],r=this.__buildModelsHash(e),i=0,o=e.length;i<o;i++){var a=e[i];0===r[a.key]&&(n.push(a),r[a.key]++)}var s=this.__filterExistsModels(this.models,n);return this.__insertModels(s,t)},ns.ModelCollection.prototype.__insertModels=function(e,t){for(var n=0,r=e.length;n<r;n++)this.models.splice(t+n,0,e[n]),this._subscribeSplit(e[n]);return e.length>0&&(this.status=this.STATUS.OK,this.trigger("ns-model-insert",e),!0)},ns.ModelCollection.prototype.remove=function(e){Array.isArray(e)||(e=[e]);for(var t=this._modelsIndexToInstance(e),n=[],r=0,i=t.length;r<i;r++){var o=t[r],a=this.models.indexOf(o);a>-1&&(o._itemToRemoveIndex=a,n.push(o))}return this.__removeModels(n)},ns.ModelCollection.prototype.__removeModels=function(e){for(var t=0,n=(e=e.sort((function(e,t){return t._itemToRemoveIndex-e._itemToRemoveIndex}))).length;t<n;t++)this._unsubscribeSplit(e[t]),this.models.splice(e[t]._itemToRemoveIndex,1);return!!e.length&&(this.trigger("ns-model-remove",e),!0)},ns.ModelCollection.prototype._modelsIndexToInstance=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if("number"==typeof i){var o=this.models[i];this.models[i]&&t.push(o)}else t.push(i)}return t}}),(function(e,t){!(function(){ns.layout={};var e={},t=/\s+/;function n(e){var t=e.substr(-1);return"@"===t?ns.L.BOX:"&"===t?ns.L.ASYNC:ns.L.VIEW}function r(e){if(t.test(e))return e;var n=e.slice(-1);return"@"!==n&&"&"!==n||(e=e.slice(0,-1)),e}ns.layout.define=function(t,n,r){if(e[t])throw new Error("[ns.layout] Can't redefine '"+t+"'");e[t]={layout:n,parent_id:r}},ns.layout.undefine=function(t){delete e[t]},ns.layout._reset=function(){e={}},ns.layout.page=function(i,o){var a=e[i];if(!a)throw new Error("[ns.layout] '"+i+"' is not defined");var s=(function e(t,i){var o={};if("string"==typeof t)o[t]=!0,t=o;else if(Array.isArray(t)){for(var a=0,s=t.length;a<s;a++)o[t[a]]=!0;t=o}var u={};for(var c in t){var l=c;c.indexOf("{")>-1&&(l=no.jpath.string(c)(i));var d,f=t[c];switch(typeof f){case"function":d=e(f(i),i);break;case"object":case"string":d=e(f,i);break;default:d={}}u[r(l)]={type:n(l),views:d}}return u})(a.layout,o);a.parent_id&&(s=(function(e,i){var o=ns.object.clone(i);for(var a in e){var s=a.split(t),u=s.length;if(n(s[u-1])!==ns.L.BOX)throw new Error("[ns.layout] Can't overwrite view layout '"+s[u-1]+"'");for(var c=o,l=0;l<u-1;l++)if(!(c=c[r(s[l])].views))throw new Error('[no.layout] Path "'+s.slice(0,l).join(" ")+'" is undefined in this layout and cannot be extended');c[r(s[u-1])]=e[a]}return o})(s,ns.layout.page(a.parent_id,o)));return s},ns.layout.generateSimple=function(t,n){var r=(n=n||"ns-auto-layout-")+t;if(r in e)return r;var i={};return i[t]={},ns.layout.define(r,i),r}})()}),(function(e,t){!(function(e){e.log={},e.log.debug=function(e){console.log.apply(console,arguments)},e.log.info=function(e,t,n){},e.log.error=function(e,t,n){},e.log.exception=function(e,t,n){}})(ns)}),(function(e,t){!(function(){function e(e){return ns.events.trigger("ns-page-after-load",e),e}function t(e){return ns.events.trigger("ns-page-error-load",e),Vow.reject(e)}ns.page={},ns.page.current={},ns.page.currentUrl=null,ns.page.DEFAULT_HISTORY_ACTION="push",ns.page.go=function(e,n){if(n?!0===n&&(n="replace"):n=ns.page.DEFAULT_HISTORY_ACTION,e=e||ns.page.getCurrentUrl(),!ns.page.block.check(e))return e!==ns.page.currentUrl&&ns.history.replaceState(ns.page.currentUrl),Vow.reject("block");var r=ns.router(e);return r.page===ns.R.NOT_APP_URL?("replace"===n?window.location.replace(r.redirect):window.location=r.redirect,new Vow.Promise):(ns.events.trigger("ns-page-before-load",[ns.page.current,r],e),"push"===n&&e===ns.page.currentUrl&&(n="preserve"),ns.page.followRoute(r).then((function(){return ns.page._setCurrent(r,e),ns.page._fillHistory(e,n),r.page===ns.R.REDIRECT?ns.page.redirect(r.redirect):(ns.page.title(),ns.page.startUpdate(r))}),t))},ns.page.followRoute=function(e){return Vow.fulfill()},ns.page.startUpdate=function(n){var r=ns.layout.page(n.page,n.params);return new ns.Update(ns.MAIN_VIEW,r,n.params).start().then(e,t)},ns.page._setCurrent=function(e,t){ns.page.current=e,ns.page.currentUrl=t},ns.page._fillHistory=function(e,t){switch(t){case"init":ns.page.history.push(e);break;case"push":ns.history.pushState(e),ns.page.history.push(e);break;case"replace":ns.history.replaceState(e),ns.page.history.replace(e);break;case"redirect":ns.history.replaceState(e),ns.page.history.redirect(e)}},ns.page.redirect=function(e){return ns.history.replaceState(e),ns.page.go(e,"redirect")},ns.page.title=function(){document.title="NoScript app "+ns.page.currentUrl.url},ns.page._reset=function(){this.current={},this.currentUrl=""},ns.page.getDefaultUrl=function(){return ns.router.url("/")},ns.page.getCurrentUrl=function(){return window.location.pathname+window.location.search}})()}),(function(e,t){ns.page.block={},ns.page.block._checkers=[],ns.page.block.add=function(e){return ns.page.block._checkers.push(e),this},ns.page.block.remove=function(e){var t=ns.page.block._checkers,n=t.indexOf(e);return n>-1&&t.splice(n,1),this},ns.page.block.clear=function(){return ns.page.block._checkers=[],this},ns.page.block.check=function(e){for(var t=ns.page.block._checkers,n=0,r=t.length;n<r;n++)if(!1===t[n](e))return!1;return!0}}),(function(e,t){ns.page.history={},ns.page.history._current=null,ns.page.history._history=[],ns.page.history.push=function(e){var t=ns.page.history;t._current&&t._current!==e&&(ns.page.history.getPrevious()===e?t._history.pop():t._history.push(t._current)),t._current=e},ns.page.history.replace=function(e){var t=ns.page.history,n=t._history.pop(),r=t._current;n!==e&&r!==e&&t._history.push(e),t._current=e},ns.page.history.redirect=function(e){var t=ns.page.history;t._current=e,t._previous=t.getPrevious()},ns.page.history.back=function(){var e=ns.page.history,t=e.getPrevious();return t?e._history.pop():t=ns.page.getDefaultUrl(),e._current=t,ns.page.go(t)},ns.page.history.getPrevious=function(e){e=e||0;var t=ns.page.history._history;return t[t.length-e-1]},ns.page.history.reset=function(){ns.page.history._current=null,ns.page.history._history=[]}}),(function(e,t){!(function(){ns.request=function(e,t,n){return ns.request.models(r(e,t),n)},ns.forcedRequest=function(e,t,n){return(n=n||{}).forced=!0,ns.request.models(r(e,t),n)},ns.request.models=function(e,n){return e=e.map((function(e){return e.getRequest?e.getRequest():e})),new t(e,n).start()},ns.request.requestParams={},ns.request.addRequestParams=function(e){no.extend(e,ns.request.requestParams)},ns.request.URL="/models/",ns.request.canProcessResponse=function(){return!0},ns.request._reset=function(){ns.request.manager._keys={}},ns.request.extractModel=function(e,t){var n,r;t?(n=e.extractData(t))||(r=e.extractError(t))||(r={id:"INVALID_FORMAT",reason:"response should contain result or error"}):r={id:"NO_DATA",reason:"Server returned no data"},n?e.setData(n):e.setError(r)};var e=0,t=function(t,n){this.id=e++,this.models=t,this.options=n||{},this.promise=new Vow.Promise};function n(e){return e.promise}function r(e,t){"string"==typeof e&&(e=[e]),"string"==typeof e[0]&&(e=(function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push({id:e[r],params:t});return n})(e,t=t||{}));for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];o instanceof ns.Model?n.push(o):o.model&&o.model instanceof ns.Model?n.push(o.model):n.push(ns.Model.get(o.id,o.params))}return n}function i(e){return e.id}t.prototype.start=function(){for(var e=[],t=[],n=this.models,r=0,i=n.length;r<i;r++){var o=n[r],a=ns.request.manager.add(o,this.id,this.options.forced);!0===a?t.push(o):a instanceof ns.Model&&e.push(o)}return this.request(e,t),this.promise},t.prototype.request=function(e,t){var r,o=[];if(t.length){var a=[],s=[];if(t.forEach((function(e){if("function"==typeof e.request){var t=e.request().then((function(){ns.request.manager.done(e)}),(function(){ns.request.manager.done(e)}));e.promise=t,s.push(t)}else a.push(e)})),o=o.concat(s),a.length){var u=(function(e){for(var t={},n=0,r=e.length;n<r;n++){var i="."+n,o=e[n];t["_model"+i]=o.id;var a=o.getRequestParams();for(var s in a)t[s+i]=a[s]}return t})(a),c=a.map(i);ns.request.addRequestParams(u),r=ns.http(ns.request.URL+"?_m="+c.join(","),u),o=o.concat(a.map(n))}}if(e.length&&(o=o.concat(e.map(n))),o.length){var l=this;r&&r.then((function(e){!1===ns.request.canProcessResponse(e)?(ns.request.manager.clean(l.models),l.promise.reject({error:"CANT_PROCESS",invalid:l.models,valid:[]})):l.extract(a,e)}),(function(e){ns.log.error("ns.request.http",e);var t=a.map((function(){return{error:{id:"HTTP_"+e.xhr.status}}}));l.extract(a,{models:t})})),Vow.all(o).then(this.start.bind(this))}else{ns.request.manager.clean(this.models);for(var d=[],f=[],p=0,h=this.models.length;p<h;p++){var m=this.models[p];m.isValid()?d.push(m):f.push(m)}f.length?this.promise.reject({invalid:f,valid:d}):this.promise.fulfill(this.models)}},t.prototype.extract=function(e,t){for(var n=t&&t.models||[],r=0,i=e.length;r<i;r++){var o=e[r],a=n[r];o.requestID>this.id||(ns.request.extractModel(o,a),ns.request.manager.done(o),o.finishRequest())}}})()}),(function(e,t){ns.request.manager={STATUS:{LOADING:0,FAILED:1,DONE:2},_keys:{},add:function(e,t,n){var r=this.STATUS,i=e.key,o=this._keys[i];return o?!(e.isValid()&&!n)&&(o.status===r.LOADING?e.isDo()?o.model:n?(o.model.requestID=t,!0):o.model:o.status===r.FAILED?o.model._canRequest()?(this._createRequest(e,t),!0):(e.status=e.STATUS.ERROR,this.done(e,!0),!1):!e.isValid()&&(!!e._canRequest()&&(this._createRequest(e,t),!0))):e.isValid()?!(!n||e.requestID===t)&&(this._createRequest(e,t),!0):!!e.canRequest()&&(this._createRequest(e,t),!0)},done:function(e,t){var n=this._keys[e.key];n&&(e.isValid()||t?n.status=this.STATUS.DONE:n.status=this.STATUS.FAILED)},clean:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.retries=0,delete this._keys[r.key]}},_createRequest:function(e,t){this._keys[e.key]={status:this.STATUS.LOADING,model:e},e.prepareRequest(t)}}}),(function(e,t){ns.router=function(e){var t=ns.router.baseDir,n=ns.router._routes;if(0!==e.indexOf(t))return{page:ns.R.NOT_APP_URL,params:{},redirect:e};(e=e.substring(t.length))||(e="/");var r=ns.router._processRedirect(n.redirect,e);if(r)return{page:ns.R.REDIRECT,params:{},redirect:t+r};var i=e.split("?"),o=i.shift();if(o in n.rewriteUrl){var a=i.join("?");e=n.rewriteUrl[o]+(a?"?"+a:"")}for(var s=n.route,u=0,c=s.length;u<c;u++){var l=s[u],d=ns.router._parseUrl(l,e);if(d)return l.page in n.rewriteParams&&(d=n.rewriteParams[l.page](d)),{page:l.page,params:d}}return{page:ns.R.NOT_FOUND,params:{}}},ns.router.encodeParamValue=encodeURIComponent,ns.router.decodeParamValue=decodeURIComponent,ns.router.URL_FIRST_SYMBOL="/",ns.router._getParamsRouteFromUrl=function(e,t){for(var n,r=e.params,i={},o=r.length,a=0;a<o;a++){n=r[a];var s=t[a+1];if(s)try{s=ns.router.decodeParamValue(s,n.name)}catch(e){s=""}s||(s=n.default_value),i[n.name]=s}return i},ns.router._parseUrl=function(e,t){var n=e.regexp.exec(t);if(n){var r=ns.router._getParamsRouteFromUrl(e,n),i=n[e.params.length+1];return i&&no.extend(r,ns.parseQuery(i)),r}return null},ns.router._processRedirect=function(e,t){for(var n,r=0,i=e.length;r<i;r++){var o=e[r];if("function"==typeof o.path){var a=ns.router._parseUrl(o,t);a&&(n=o.path(a,t))}else o.regexp.test(t)&&(n=o.path);if(n)return n}return null},ns.router.init=function(){var e=ns.router.routes;for(var t in ns.router._regexps={},ns.router.regexps)ns.router._regexps[t]=new RegExp("^"+ns.router.regexps[t]+"$");var n={};n.redirect=e.redirect||{},n.rewriteUrl=e.rewriteUrl||{},n.rewriteParams=e.rewriteParams||{};var r=e.route||{},i=[],o={};for(var a in r){var s=r[a];(d=ns.router.compile(a)).page=s,i.push(d),o[s]=o[s]||[],o[s].push(d)}n.route=i,n.routeHash=o;var u=e.redirect||{},c=[];for(var l in u){var d=ns.router.compile(l);c.push({regexp:d.regexp,path:u[l],params:d.params})}n.redirect=c,ns.router._routes=n},ns.router.url=function(e){return ns.router.baseDir+e||"/"},ns.router.generateUrl=function(e,t){var n,r=ns.router._routes.routeHash[e];t=t||{},ns.assert(r&&r.length,"ns.router","Could not find route with id '%s'!",e);for(var i=0;i<r.length&&null===(n=ns.router._generateUrl(r[i],t));i++);return ns.assert(null!==n,"ns.router","Could not generate url for layout id '%s'!",e),ns.router.url(n)},ns.router._generateUrl=function(e,t){for(var n,r,i,o,a,s=[],u=no.extend({},t),c=ns.router._routes.rewriteUrl,l=0;l<e.sections.length;l++){r=e.sections[l],i="";for(var d=0;d<r.items.length;d++)if((a=r.items[d]).name){o=t[a.name];var f=a.name in t;if(a.is_optional&&!f&&(o=a.default_value),a.is_filter&&o!==a.filter_value)return null;if(!a.is_optional&&!f)return null;if(a.is_optional&&!f)continue;if(o=ns.router.encodeParamValue(o,a.name),!ns.router._isParamValid(o,a.type))return null;i+=o,delete u[a.name]}else i+=a.default_value;!i&&r.is_optional||s.push(i)}n=(n=s.join("/"))?ns.router.URL_FIRST_SYMBOL+n:"";for(var p=!0;p;)for(var h in p=!1,c){var m=c[h],v=m.length;if(n.substr(0,v)===m){var g=n.charAt(v);"/"!==g&&"?"!==g&&g||(n=h+n.substr(m.length),p=!0)}}var y=ns.params2query(u);return y?n+"?"+y:n},ns.router.compile=function(e){(e=e.replace(/\/$/,""))[0]===ns.router.URL_FIRST_SYMBOL&&(e=e.substr(1));var t=e.split("/").map(ns.router._parseSection),n=t.map(ns.router._generateSectionRegexp);"/"===n[0][0]&&(n[0]=ns.router.URL_FIRST_SYMBOL+n[0].substr(1));var r=n.join(""),i=[];return t.forEach((function(e){i=i.concat(e.items.filter((function(e){return!!e.name})))})),r="^"+r+"/?(?:\\?(.*))?$",{regexp:new RegExp(r),params:i,sections:t}},ns.router._parseSection=function(e){for(var t=0,n=-1,r=-1,i=[];!((n=e.indexOf("{",t))<0);)r=e.indexOf("}",n),ns.assert(r>0,"ns.router","could not parse parameter in url section: %s",e),n>t&&i.push({default_value:e.substr(t,n-t)}),i.push(ns.router._parseParam(e.substr(n+1,r-n-1))),t=r+1;return t<e.length&&i.push({default_value:e.substr(t)}),{is_optional:i.length&&i.filter((function(e){return e.is_optional})).length===i.length,items:i}},ns.router._parseParam=function(e){var t,n,r,i,o,a,s=!1,u=(t=e.split("="))[0].split(":");return a=u[0],n=u[1]||"id",3===t.length?(i=!1,s=!0,o=t[2],ns.assert(o,"ns.router","Parameter '%s' value must be specified",a),ns.assert(ns.router._isParamValid(o,n),"ns.router","Wrong value for '%s' parameter",a)):(i=2===t.length,r=t[1]),{name:a,type:n,default_value:r,is_optional:i,is_filter:s,filter_value:o}},ns.router._generateSectionRegexp=function(e){var t="";return e.items.forEach((function(e){t+=ns.router._generateParamRegexp(e)})),t=e.is_optional?"(?:/(?!/)"+t+")?":"/"+t},ns.router._generateParamRegexp=function(e){var t,n=ns.router.regexps;return e.default_value&&!e.name?e.default_value:(e.type&&ns.assert(e.type in n,"ns.router","Could not find regexp for type '%s'!",e.type),e.is_filter&&e.filter_value?t="("+e.filter_value+")":(t="("+(t=n[e.type])+")",e.is_optional&&(t="(?:"+t+")?")),t)},ns.router._isParamValid=function(e,t){var n=ns.router._regexps[t];return ns.assert(n,"ns.router","Could not find regexp for type '%s'!",t),n.test(e)},ns.router._reset=function(){this.baseDir="",this._routes=null,this.routes={},this.regexps={id:"[A-Za-z_][A-Za-z0-9_-]*",int:"[0-9]+"}},ns.router._reset()}),(function(e,t){!(function(){ns.Update=function(e,n,r,i){if(this.view=e,!(this.view.id in n))throw new Error("[ns.Update] Can't find view layout");this.layout=n[this.view.id],this.params=r,this.id=++t,this.promise=new Vow.Promise,i=i||{},this.EXEC_FLAG=i.execFlag||ns.U.EXEC.GLOBAL,this.parentUpdate=i.parentUpdate,this.log("created instance",this,"with layout",this.layout,"and params",this.params),this.startTimer("full"),i.timers&&(this._profileTimes.__parent=i.timers),ns.Update._addToQueue(this)||this.abort()},no.extend(ns.Update.prototype,ns.profile);var e=[],t=-1;function n(e){for(var t={},n=[],r=0,i=e.length;r<i;r++){var o=e[r].models;for(var a in o){var s=o[a],u=s.key;t[u]||(n.push(s),t[u]=!0)}}return n}function r(e){return e.parentUpdate?r(e.parentUpdate):e.EXEC_FLAG===ns.U.EXEC.PARALLEL}ns.Update.prototype.STATUS=ns.U.STATUS,ns.Update.prototype._EVENTS_ORDER=["ns-view-hide","ns-view-htmldestroy","ns-view-htmlinit","ns-view-async","ns-view-show","ns-view-touch"],ns.Update.prototype._requestCount=0,ns.Update.prototype.log=function(){if(ns.DEBUG){var e=Array.prototype.slice.apply(arguments);"generated html"===e[0]&&(e[1]=ns.html2node(e[1])),ns.log.debug.apply(ns.log,["[ns.Update]",this.id].concat(e))}},ns.Update.prototype._requestModels=function(e){var t="requestModels."+this._requestCount;if(this.startTimer(t),this.log("started models request",e),!this._checkModelsInvalid(e))return this.stopTimer(t),this.log("received models",e),Vow.fulfill(e);var n=ns.request.models(e);return n.always((function(){this.stopTimer(t)}),this),n.then(this._onRequestModelsOK,this._onRequestModelsError,this)},ns.Update.prototype._onRequestModelsOK=function(e){return this.log("received models",e),e},ns.Update.prototype._onRequestModelsError=function(e){this.log("failed to receive models",e);var t={error:this.STATUS.MODELS,expired:this._expired(),invalidModels:e.invalid,validModels:e.valid};return ns.Update.handleError(t,this)?[].concat(e.invalid,e.valid):Vow.reject(t)},ns.Update.prototype._checkModelsInvalid=function(e){return(e||[]).some((function(e){return!e.isValid()}))},ns.Update.prototype._getActiveViews=function(){var e="collectModels."+this._requestCount;this.startTimer(e);var t={sync:[],async:[],hasPatchLayout:!1};return this.view.destroyed||this.view._getRequestViews(t,this.layout,this.params),this.stopTimer(e),this.log("collected incomplete views",t),t},ns.Update.prototype._requestSyncModels=function(){var e=this._getActiveViews(),t=n(e.sync);return this.log("collected needed models",t),this._requestModels(t).then((function(t){if(e.hasPatchLayout&&!this._checkModelsInvalid(t))return this._requestCount++,this._requestSyncModels()}),null,this)},ns.Update.prototype._requestAllModels=function(){if(this._expired())return this._rejectWithStatus(this.STATUS.EXPIRED);var e=new Vow.Promise,t=this._getActiveViews(),r=n(t.sync);this.log("collected needed models",r);var i=this._requestModels(r),o=t.async.map((function(e){return e.updateAfter(this.promise,this.params,this)}),this);return i.then((function(n){if(t.hasPatchLayout&&!this._checkModelsInvalid(n))return this._requestCount++,void e.sync(this._requestAllModels());e.fulfill({async:o})}),(function(t){e.reject(t)}),this),e},ns.Update.prototype._applyLayout=function(){this._getActiveViews()},ns.Update.prototype._generateHTML=function(){return this._expired()?this._rejectWithStatus(this.STATUS.EXPIRED):Vow.fulfill(this._renderUpdateTree())},ns.Update.prototype._renderUpdateTree=function(){this.startTimer("collectViews");var e,t={views:{}};return this.view.destroyed||this.view._getUpdateTree(t),this.log("created render tree",t),this.stopTimer("collectViews"),ns.object.isEmpty(t.views)||(this.startTimer("generateHTML"),e=this.applyTemplate(t,this.params,this.layout),this.log("generated html",e),this.stopTimer("generateHTML")),e},ns.Update.prototype._insertNodes=function(e){if(this._expired())return this._rejectWithStatus(this.STATUS.EXPIRED);this.startTimer("triggerHideEvents");var t={"ns-view-hide":[],"ns-view-htmldestroy":[]};this.view.destroyed||this.view.beforeUpdateHTML(t,!1),this._triggerViewEvents(t);var n={"ns-view-async":[],"ns-view-htmlinit":[],"ns-view-show":[],"ns-view-touch":[]};return this.switchTimer("triggerHideEvents","insertNodes"),this.view.destroyed||this.view._updateHTML(e,{toplevel:!0},n),this.switchTimer("insertNodes","triggerEvents"),this._triggerViewEvents(n),this.stopTimer("triggerEvents"),Vow.fulfill()},ns.Update.prototype._triggerViewEvents=function(e){for(var t=this.getTimers(),n=0,r=this._EVENTS_ORDER.length;n<r;n++)for(var i=this._EVENTS_ORDER[n],o=e[i]||[],a=o.length-1;a>=0;a--)o[a].trigger(i,this.params,t)},ns.Update.prototype._updateDOM=function(){if(this._expired())return this._rejectWithStatus(this.STATUS.EXPIRED);var e=this._renderUpdateTree();this.startTimer("html2node");var t=ns.html2node(e||"");this.stopTimer("html2node"),this._insertNodes(t)},ns.Update.prototype.prefetch=function(){return this.log("started `prefetch` scenario"),this._requestSyncModels().then(this._fulfill,this._reject,this),this.promise},ns.Update.prototype.generateHTML=function(){return this.log("started `generateHTML` scenario"),Vow.invoke(this._requestSyncModels.bind(this)).then(this._generateHTML,null,this).then(this._fulfill,this._reject,this),this.promise},ns.Update.prototype.prerender=function(){return this.log("started `prerender` scenario"),ns.todo(),this.promise},ns.Update.prototype.render=function(){return this._expired()?(this._reject({error:this.STATUS.EXPIRED}),this.promise):(this.log("started `render` scenario"),Vow.invoke(this._requestAllModels.bind(this)).then((function(e){this._updateDOM(),this._fulfill(e)}),this._reject,this).then(null,this._reject,this),this.promise)},ns.Update.prototype.start=ns.Update.prototype.render,ns.Update.prototype.reconstruct=function(e){return this.log("started `reconstruct` scenario"),this._applyLayout(),Vow.invoke(this._insertNodes.bind(this),e).then((function(){this._fulfill({async:[]})}),this._reject,this),this.promise},ns.Update.prototype.applyTemplate=function(e,t,n){return ns.renderString(e,null,"")},ns.Update.prototype._expired=function(){return this.promise.isResolved()||-1===e.indexOf(this)},ns.Update.prototype.abort=function(){this._reject({error:ns.U.STATUS.EXPIRED})},ns.Update.prototype._fulfill=function(e){this.promise.isResolved()||(ns.Update._removeFromQueue(this),this.stopTimer("full"),this.promise.fulfill(e),this.perf(this.getTimers()),this.log("successfully finished scenario"))},ns.Update.prototype._reject=function(e){this.promise.isResolved()||(ns.Update._removeFromQueue(this),this.stopTimer("full"),this.promise.reject(e),this.log("scenario was rejected with reason",e))},ns.Update.prototype._rejectWithStatus=function(e){return Vow.reject({error:e})},ns.Update.prototype.isGlobal=function(){return this.EXEC_FLAG===ns.U.EXEC.GLOBAL},ns.Update.prototype.perf=function(e){},ns.Update.handleError=function(e,t){return!1},ns.Update._removeFromQueue=function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},ns.Update._addToQueue=function(t){var n,i,o=e,a=ns.U.EXEC,s=a.GLOBAL,u=a.ASYNC,c=t.EXEC_FLAG;if(c===s){var l=[];for(n=o.length-1;n>=0;n--){var d=o[n];r(d)?l.push(d):d.abort()}e=l}else if(c===u&&!r(t))for(n=0,i=o.length;n<i;n++)if(o[n].EXEC_FLAG===s)return!1;return e.push(t),!0}})()}),(function(e,t){!(function(){var e=0,t=/ns-view-id-\d+/;ns.View=function(){},no.extend(ns.View.prototype,ns.Events),ns.View.prototype.STATUS=ns.V.STATUS,ns.View.prototype._$document="undefined"==typeof document?null:$(document),ns.View.prototype._$window="undefined"==typeof window?null:$(window),ns.View.prototype.key=null,ns.View.prototype.params=null,ns.View.prototype.node=null,ns.View.prototype.$node=null,ns.View.prototype.views=null,ns.View.prototype.id=null,ns.View.prototype._visible=!1,ns.View.prototype.__uniqueId=null,ns.View.prototype.__modelsEventsBinded=!1,ns.View.prototype._init=function(e,t,n){this.id=e,this.__setUniqueId(),this.async=n,this.info=ns.View.info(e),no.extend(this,ns.View.getKeyAndParams(this.id,t||{},this.info)),this._initModels(),this._modelsVersions={},this.views={},this.status=this.STATUS.NONE,this.destroyed=!1,this.__customInit(),this._bindCreateEvents(),this.trigger("ns-view-init")},ns.View.prototype.__setUniqueId=function(){this.__uniqueId||(this.__uniqueId="ns-view-id-"+ ++e)},ns.View.prototype.__customInit=no.nop,ns.View.prototype._initModels=function(){for(var e in this.models={},this._modelsHandlers={},this.info.models)if(!this.models[e]){var t=ns.Model.get(e,this.params);this.models[e]=t,this._modelsHandlers[t.key]={}}},ns.View.prototype._getView=function(e){return this.views[e]},ns.View.prototype._addView=function(e,t,n){var r=this._getView(e);return r||(r=n===ns.L.BOX?new ns.Box(e,t):ns.View.create(e,t,n===ns.L.ASYNC),this.views[r.id]=r),r},ns.View.prototype.__onHtmldestroy=function(){this._unbindEvents("init")},ns.View.prototype._htmlinit=function(e){this._bindEvents("init"),e.push(this)},ns.View.prototype.hideAndUnbindEvents=function(){this.__onHide()},ns.View.prototype.__onHide=function(){!this.isLoading()&&!0===this._visible&&this._unbindEvents("show"),this._visible=!1},ns.View.prototype._show=function(e){return!this.isLoading()&&!this._visible&&(this.__modelsEventsBinded||this.__bindModelsEvents(),this._bindEvents("show"),this._visible=!0,e&&e.push(this),!0)},ns.View.prototype.__bindModelsEvents=function(){this.__modelsEventsBinded=!0;var e=this.models;for(var t in e){var n=e[t];this.__bindModelEvents(n)}},ns.View.prototype.__bindModelEvents=function(e){var t=this.info.models[e.id];for(var n in t){var r=t[n],i=this[r]||t[n];ns.View.assert("function"==typeof i,4,[this.id,r,e.id]),i===this.keepValid&&(i=no.nop),this.__bindModelEvent(e,n,this._invokeModelHandler.bind(this,i,e))}},ns.View.prototype._invokeModelHandler=function(e,t){return this._saveModelVersion(t.id),e.apply(this,Array.prototype.slice.call(arguments,2))},ns.View.prototype.__bindModelEvent=function(e,t,n){e.on(t,n),this._modelsHandlers[e.key][t]=n},ns.View.prototype.__unbindModelsEvents=function(){var e=this.models;for(var t in e){var n=e[t];this.__unbindModelEvent(n)}},ns.View.prototype.__unbindModelEvent=function(e){var t=this._modelsHandlers[e.key];for(var n in t)e.off(n,t[n]),delete t[n]},ns.View.prototype._prepareCallback=function(e){if("string"==typeof e){var t=this[e];return ns.View.assert(!!t,5,[e,this.id]),t}return e},ns.View.prototype._bindEventHandlers=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=[].concat(o);a[t]=this._prepareCallback(o[t]).bind(this),n.push(a)}return n},ns.View.prototype._getEvents=function(e){var t="_"+e+"Events";if(!this[t]){var n=this.info[e+"Events"],r=this.info[e+"Nsevents"];this[t]={bind:this._bindEventHandlers(n.bind,2),delegate:this._bindEventHandlers(n.delegate,2),nsevents:this._bindEventHandlers(r,1)}}return this[t]},ns.View.prototype._bindEvents=function(e){var t,n,r,i=this.$node,o=this._getEvents(e),a=o.delegate;for(t=0,n=a.length;t<n;t++)"window"===(r=a[t])[1]||"document"===r[1]?this["_$"+r[1]].on(r[0],r[2]):r[1]?i.on(r[0],r[1],r[2]):i.on(r[0],r[2]);var s=o.bind;for(t=0,n=s.length;t<n;t++)r=s[t],i.find(r[1]).on(r[0],r[2]);var u=o.nsevents;for(t=0,n=u.length;t<n;t++)r=u[t],ns.events.on(r[0],r[1])},ns.View.prototype._bindCreateEvents=function(){for(var e=0,t=this.info.createEvents.length;e<t;e++){var n=this.info.createEvents[e];this.on(n[0],this._prepareCallback(n[1]))}},ns.View.prototype._unbindEvents=function(e){var t,n,r,i=this.$node,o=this._getEvents(e),a=o.delegate;for(t=0,n=a.length;t<n;t++)"window"===(r=a[t])[1]||"document"===r[1]?this["_$"+r[1]].off(r[0],r[2]):r[1]?i.off(r[0],r[1],r[2]):i.off(r[0],r[2]);var s=o.bind;for(t=0,n=s.length;t<n;t++)r=s[t],i.find(r[1]).off(r[0],r[2]);var u=o.nsevents;for(t=0,n=u.length;t<n;t++)r=u[t],ns.events.off(r[0],r[1])},ns.View.prototype.invalidate=function(){for(var e=this._getDescendantsAndSelf(),t=0,n=e.length;t<n;t++){var r=e[t];r.status===this.STATUS.OK&&(r.status=this.STATUS.INVALID)}},ns.View.prototype.isOk=function(){return this.status===this.STATUS.OK},ns.View.prototype.isLoading=function(){return this.status===this.STATUS.LOADING},ns.View.prototype.isNone=function(){return this.status===this.STATUS.NONE},ns.View.prototype.isValid=function(){return this.isOk()&&this.isModelsValidWithVersions()},ns.View.prototype.isValidSelf=ns.View.prototype.isValid,ns.View.prototype.isValidWithDesc=function(){if(!this.isValid())return!1;for(var e in this.views)if(!this.views[e].isValidWithDesc())return!1;return!0},ns.View.prototype.isModelsValidWithVersions=function(){return this.isModelsValid(this._modelsVersions)},ns.View.prototype.isModelsValid=function(e){var t=this.models;for(var n in t){if(!t[n].isValid()||e&&this._getModelVersion(n)>e[n])return!1}return!0},ns.View.prototype.isVisible=function(){return this._visible},ns.View.prototype._apply=function(e){var t=this.views;for(var n in t)e(t[n],n)},ns.View.prototype._saveLayout=function(e){this.layout={},this.layout[this.id]={views:e}},ns.View.prototype._getRequestViews=function(e,t,n){var r=this.__evaluateState();this.__registerInUpdate(r,e);var i=!1;r&&(i=!0,"function"==typeof this.patchLayout&&(this.isModelsValid()?this.__patchLayout(t,n):(i=!1,e.hasPatchLayout=!0)));var o=t.views;if(this._saveLayout(o),i){for(var a in o)this._addView(a,n,o[a].type);var s=this.id;this._apply((function(t,r){var i=o[r];ns.View.assert(!!i,13,[s]),t._getRequestViews(e,i,n)}))}return e},ns.View.prototype.__patchLayout=function(e,t){e.views={};var n=this.patchLayout(t);ns.View.assert(!!n,11);var r=ns.layout.page(n,t);this.__checkPatchLayout(r),no.extend(e.views,r)},ns.View.prototype.__checkPatchLayout=function(e){for(var t in e)ns.View.assert(e[t].type===ns.L.BOX,12)},ns.View.prototype.__evaluateState=function(){this.asyncState=!1;var e=!0;return this.async?this.shouldBeSync||this.isModelsValid()?e=!0:(this.asyncState=!0,e=!1):(this.isValidSelf()||this.invalidate(),e=!0),this.shouldBeSync=!1,e},ns.View.prototype.__registerInUpdate=function(e,t){e?t.sync.push(this):t.async.push(this)},ns.View.prototype._getUpdateTree=function(e){return this.isValid()?this._apply((function(t){t._getUpdateTree(e)})):e.views[this.id]=this._getViewTree(),e},ns.View.prototype._getCommonTree=function(){var e={box:this.info.isBox,collection:this.info.isCollection,id:this.id,key:this.key,models:{},params:this.params,state:this.asyncState?"loading":"ok",tree:{},uniqueId:this.__uniqueId,views:{}};return e.tree[this.id]=!0,e},ns.View.prototype._getTree=function(){var e=this._getCommonTree(),t=this.patchTree(e);return t&&"object"==typeof t&&!Array.isArray(t)&&(e=no.extend(t,e)),e},ns.View.prototype._getViewTree=function(){var e=this._getTree();return e.models=this._getModelsForTree(),"loading"===e.state?e:(this.isModelsValid()?e.views=this._getDescViewTree():e.state="error",e)},ns.View.prototype.patchTree=no.nop,ns.View.prototype._getDescViewTree=function(){var e={};return this._apply((function(t,n){e[n]=t._getViewTree()})),e},ns.View.prototype._getPlaceholderTree=function(){var e=this._getTree();return e.state="placeholder",this.info.isCollection?e.views=this._getDescViewTree():this._apply((function(t){t._getUpdateTree(e)})),e},ns.View.prototype._getModelsForTree=function(){var e={},t=this.models;for(var n in t){var r=t[n];e[n]={},r.isValid()?(e[n].status="ok",e[n][n]=r.getData()):(e[n].status="error",e[n][n]=r.getError())}return e},ns.View.prototype.getModel=function(e){return this.models[e]},ns.View.prototype.getModelData=function(e,t){var n=this.getModel(e);return t?n.get(t):n.getData()},ns.View.prototype._getDescendantsAndSelf=function(e){return(e=e||[]).push(this),this._apply((function(t){t._getDescendantsAndSelf(e)})),e},ns.View.prototype._setNode=function(e){var t=this.STATUS;e?(this.node=e,this.$node=$(e),this.status=this.asyncState?t.LOADING:t.OK):this.status=t.NONE},ns.View.prototype._extractNodeByKey=function(e){var n=e.querySelector('[data-key="'+this.key+'"]');if(!n)return null;var r=n.className;return-1===r.indexOf(this.__uniqueId)&&(n.className=r.replace(t,this.__uniqueId)),n},ns.View.prototype._extractNode=function(e){var t=ns.byClass(this.__uniqueId,e)[0];return t&&t.getAttribute("data-key")===this.key||(t=this._extractNodeByKey(e)),t},ns.View.prototype._selfBeforeUpdateHTML=function(e,t){t?!0===this._visible&&!this.isLoading()&&e["ns-view-hide"].push(this):!this.isValidSelf()&&this.node&&!this.isLoading()&&(!0===this._visible&&e["ns-view-hide"].push(this),e["ns-view-htmldestroy"].push(this))},ns.View.prototype.beforeUpdateHTML=function(e,t){this._selfBeforeUpdateHTML(e,t),this.asyncState||this._apply((function(n){n.beforeUpdateHTML(e,t)}))},ns.View.prototype._updateHTML=function(e,t,n){var r,i;r=t.toplevel?no.extend({},t):t,!this.isValid()&&(i=this._extractNode(e),ns.View.assert(!!i,6,[this.id]),t.toplevel&&(this.node&&(ns.replaceNode(this.node,i),r.parent_added=!0),r.toplevel=!1),this.node&&!this.isLoading()&&(this.__onHide(),this.__onHtmldestroy()),!this.node||t.parent_added||r.parent_added||ns.replaceNode(this.node,i),this._setNode(i),this.isOk()?this._htmlinit(n["ns-view-htmlinit"]):this.isLoading()&&n["ns-view-async"].push(this),this._saveModelsVersions()),this.isOk()&&(this._show(n["ns-view-show"]),n["ns-view-touch"].push(this)),i=i||e,this.asyncState||this._apply((function(e){e._updateHTML(i,r,n)}))},ns.View.prototype._saveModelsVersions=function(){for(var e in this.models)this._saveModelVersion(e)},ns.View.prototype._getModelVersion=function(e){return this.models[e].getVersion()},ns.View.prototype._saveModelVersion=function(e){this._modelsVersions[e]=this._getModelVersion(e)},ns.View.prototype.keepValid=ns.View.prototype._saveModelsVersions,ns.View.prototype.updateAfter=function(e,t,n){this._asyncPromise=new Vow.Promise;var r=this;return e.then((function(){r.update(t,{parentUpdate:n,timers:n.getTimers()})})),this._asyncPromise},ns.View.prototype.update=function(e,t){this.shouldBeSync=!0;var n=this.params;if(e&&(n=no.extend({},this.params,e)),!this.layout){var r="ns-temp-layout-for-"+this.id,i={};i[this.id]={},ns.layout.define(r,i),this.layout=ns.layout.page(r,n),ns.layout.undefine(r)}(t=t||{}).execFlag=t.execFlag||ns.U.EXEC.ASYNC;var o=new ns.Update(this,this.layout,n,t).render();return this._asyncPromise&&this._asyncPromise.sync(o),o},ns.View.prototype.destroy=function(){this._apply((function(e){e.destroy()})),this.trigger("ns-view-destroyed"),this.views={},this.node&&!this.isLoading()&&(this.isVisible()&&(this.trigger("ns-view-hide"),this.hideAndUnbindEvents()),this.trigger("ns-view-htmldestroy"),this.__onHtmldestroy()),this.__unbindModelsEvents(),this.node&&(this.$node.off().removeData().remove(),this.node=null,this.$node=null),this.info=null,this.layout=null,this.models=null,this.params=null,this.status=this.STATUS.NONE,this.destroyed=!0,this._modelsHandlers=null};var n={},r={};ns.View.define=function(e,t,i){ns.View.assert(!(e in n),1,[e]),t=t||{};var o=this;"string"==typeof i?(o=r[i],ns.View.assert(!!o,2,[i,e])):"function"==typeof i&&(o=i);var a=t.ctor||function(){};return a=no.inherit(a,o,t.methods),t.models=this._formatModelsDecl(t.models||{}),t.events=t.events||{},t.isBox=!1,t.isCollection=!1,t.ready=!1,n[e]=t,r[e]=a,a},ns.View._reset=function(){r={},n={}},ns.View.infoLite=function(e){var t=n[e];return ns.View.assert(!!t,3,[e]),t},ns.View.info=function(e){var t=ns.View.infoLite(e);return t.ready||(ns.View._initInfoParams(t),ns.View._initInfoEvents(t),t.ready=!0),t},ns.View._initInfoParams=function(e){if(e.params){if(ns.View.assert(!e["params+"],7),ns.View.assert(!e["params-"],8),"function"==typeof e.params)return void(e.pGroups=[]);var t,n=[];t=Array.isArray(e.params)?e.params:[e.params];for(var r=0;r<t.length;r++){var i=t[r];n.push({pNames:Object.keys(i),pFilters:i,pDefaults:{}})}e.pGroups=n}else{var o={};for(var a in e.models){var s=ns.Model.info(a);ns.View.assert(!!s,9,[a]),"object"==typeof s.params&&no.extend(o,s.params)}var u=e["params-"];if(u){for(r=0;r<u.length;r++)delete o[u[r]];delete e["params-"]}e["params+"]&&(no.extend(o,e["params+"]),delete e["params+"]);var c=Object.keys(o);c.length?e.pGroups=[{pNames:c,pFilters:{},pDefaults:o}]:e.pGroups=[]}},ns.View._initInfoEvents=function(e){for(var t in e.createEvents=[],e.initEvents={bind:[],delegate:[]},e.showEvents={bind:[],delegate:[]},e.initNsevents=[],e.showNsevents=[],e.events){var n=t.split(" "),r=n.shift().split("@"),i=r.length>1?r.pop():"";i=!i||"init"!==i&&"show"!==i?"":i;var o=r.join("@"),a=n.join(" ");if(o){var s=e.events[t];if(ns.V.DOM_EVENTS.indexOf(o)>-1){var u=[o,a,e.events[t]],c="window"===a||"document"===a,l=c||!("scroll"===o&&a);i||(i=c?"show":"init"),e[i+"Events"][l?"delegate":"bind"].push(u)}else ns.V.NS_EVENTS.indexOf(o)>-1?e.createEvents.push([o,s]):e[(i=i||"show")+"Nsevents"].push([o,s])}}},ns.View.getKey=function(e,t,n){return this.getKeyAndParams(e,t,n).key},ns.View.getKeyAndParams=function(e,t,n){var r;return r="function"==typeof(n=n||ns.View.info(e)||{}).params?n.params(no.extend({},t)):ns.View._getKeyParams(e,t,n),"function"==typeof n.paramsRewrite&&(r=n.paramsRewrite(r)),ns.View.assert(!!r,10,[e]),{params:r,key:ns.key("view="+e,r)}},ns.View._getKeyParams=function(e,t,n){var r={},i=!1;for(var o in n.models){var a=ns.Model.info(o);"function"==typeof a.params&&(i=!0,no.extend(r,a.params(t)))}i&&(no.extend(r,t),t=r);var s=n.pGroups||[];if(!s.length)return i?t:{};for(var u=0;u<s.length;u++){for(var c=s[u],l=c.pNames||[],d=c.pFilters||{},f=c.pDefaults||{},p={},h=0,m=l.length;h<m;h++){var v=l[h],g=t[v],y=d[v],b=v in f;if(null!=(g=void 0===g?f[v]:g)||!b){if(null==g||y&&g!==y){p=null;break}p[v]=g}}if(p)return p}return null},ns.View.create=function(e,t,n){var i=r[e];ns.View.assert(!!i,3,[e]);var o=new i;return o._init(e,t,n),o},ns.View.assert=function(e,t,n){if(!e){n=Array.isArray(n)?n:[];var r=["ns.View",ns.View.ERROR_CODES[t]].concat(n);ns.assert.fail.apply(ns,r)}},ns.View.ERROR_CODES={1:"Can't redefine '%s'",2:"Can't find '%s' to extend '%s'",3:"'%s' is not defined",4:"'%s' can't find handler '%s' for model '%s'",5:"Can't find method '%s' in '%s'",6:"Can't find node for '%s'",7:"you cannot specify params and params+ at the same time",8:"you cannot specify params and params- at the same time",9:"Model %s is not defined!",10:"Could not generate key for view %s",11:"#patchLayout MUST returns valid layout ID",12:"#patchLayout MUST returns layout with ns.Box at top",13:'You cannot change children inside of a regular view. Maybe "%s" should be ns.Box.'},ns.View.defaultModelEvents={"ns-model-insert":"invalidate","ns-model-remove":"invalidate","ns-model-changed":"invalidate","ns-model-destroyed":"invalidate"},ns.View._expandModelsDecl=function(e){if(!Array.isArray(e))return e;for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=no.extend({},this.defaultModelEvents);return t},ns.View._formatModelsDecl=function(e){var t=this._expandModelsDecl(e);for(var n in t){var r=i(t[n]),o=null;for(var a in"string"==typeof r&&(o=r,r={}),this.defaultModelEvents){var s=this.defaultModelEvents[a];void 0===r[a]?r[a]=o||s:r[a]=i(r[a])}t[n]=r}return t};var i=function(e){return!0===e?"invalidate":!1===e?"keepValid":e}})()}),(function(e,t){ns.ViewCollection=function(){},no.extend(ns.ViewCollection,ns.View),no.inherit(ns.ViewCollection,ns.View),ns.ViewCollection.define=function(e,t,n){t=t||{},n=n||this;var r=ns.View.define.call(this,e,t,n);if(ns.assert(t.split,"ns.ViewCollection","'%s'  must define 'split' section",e),ns.assert(!(t.split.intoViews&&t.split.intoLayouts),"ns.ViewCollection","'%s' can't define 'split.intoViews' and 'split.intoLayouts' sections at same time",e),"string"==typeof t.split.intoViews){var i=ns.layout.generateSimple(t.split.intoViews,"ns-auto-layout-"+e);delete t.split.intoViews,t.split.intoLayouts=new Function("",'return "'+i+'"')}else"function"==typeof t.split.intoViews&&(t.split.intoLayouts=function(n,r){var i=t.split.intoViews.call(this,n,r);return i?ns.layout.generateSimple(i,"ns-auto-layout-"+e):null});ns.assert(t.split.intoLayouts,"ns.ViewCollection","'%s'  must define 'split.intoLayouts' section",e),ns.assert(t.split.byModel,"ns.ViewCollection","'%s'  must define 'split.byModel' section",e);var o=t.split.byModel in t.models&&ns.Model.infoLite(t.split.byModel).isCollection;return ns.assert(o,"ns.ViewCollection","'%s'  must depend on ns.ModelCollection",e),t.isCollection=!0,t.modelCollectionId=t.split.byModel,r},ns.ViewCollection.prototype.__customInit=function(){this.__itemsToRemove=[],this.__model2View={},this.__view2ModelKey={}},ns.ViewCollection.eventsModelCollectionDefault={"ns-model-insert":"keepValid","ns-model-remove":"keepValid","ns-model-changed":"invalidate","ns-model-destroyed":"invalidate"},ns.ViewCollection._expandModelsDecl=function(e){if(!Array.isArray(e))return e;for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];ns.Model.infoLite(i).isCollection?t[i]=no.extend({},this.eventsModelCollectionDefault):t[i]=no.extend({},this.defaultModelEvents)}return t},ns.ViewCollection.prototype._invokeModelHandler=function(e,t,n,r){if(!r||!r.model)return this._saveModelVersion(t.id),e.apply(this,Array.prototype.slice.call(arguments,2))},ns.ViewCollection.prototype._getModelVersion=function(e){var t=this.models[e];return e===this.info.modelCollectionId?t.getSelfVersion():t.getVersion()},ns.ViewCollection.prototype.forEachItem=function(e){var t=this.models[this.info.modelCollectionId];if(t.isValid())for(var n=t.models,r=0,i=n.length;r<i;r++){var o=this.getItemByModel(n[r]);o&&e(o)}},ns.ViewCollection.prototype.getItemByModel=function(e){var t=e.key;return this.__model2View[t]},ns.ViewCollection.prototype.isValid=function(){return this.isValidSelf()&&this.isValidDesc()},ns.ViewCollection.prototype.isValidDesc=function(){for(var e in this.views)if(!this.views[e].isValid())return!1;return!0},ns.ViewCollection.prototype.invalidate=function(){this.status===this.STATUS.OK&&(this.status=this.STATUS.INVALID)},ns.ViewCollection.prototype.invalidateAll=ns.View.prototype.invalidate,ns.ViewCollection.prototype._getView=function(e,t){var n=ns.View.getKey(e,t);return this._getViewByKey(n)},ns.ViewCollection.prototype._getViewByKey=function(e){return this.views&&this.views[e]||null},ns.ViewCollection.prototype._addView=function(e,t,n){var r=this._getView(e,t);if(!r){var i=(r=ns.View.create(e,t)).key,o=n.key;this.views[i]=r,this.__model2View[o]=r,this.__view2ModelKey[i]=o}return r},ns.ViewCollection.prototype._deleteView=function(e){var t=e.key,n=this.__view2ModelKey[t];delete this.views[t],delete this.__model2View[n],delete this.__view2ModelKey[t]},ns.ViewCollection.prototype._apply=function(e){var t=this.views;for(var n in t)e(t[n],t[n].id)},ns.ViewCollection.prototype._getRequestViews=function(e,t,n){var r=t.views,i=this.__evaluateState();if(this.__registerInUpdate(i,e),i){var o=this.models[this.info.modelCollectionId],a={};if(o.isValid()){for(var s=o.models,u=this.info.split.intoLayouts,c=[],l=0,d=s.length;l<d;l++){var f=s[l],p=no.extend({},n,f.params),h=u.call(this,f,p);if(h){var m=ns.layout.page(h,p);for(var v in c.push(m),m){var g=this._addView(v,p,f);g._getRequestViews(e,m[v],p),a[g.key]=null}}}r["ns-view-container"]=c,this.__collectInactiveViews(a)}else e.hasPatchLayout=!0}return this._saveLayout(r),e},ns.ViewCollection.prototype.__collectInactiveViews=function(e){var t=this;this._apply((function(n){n.key in e||(t._deleteView(n),t.__itemsToRemove.push(n))}))},ns.ViewCollection.prototype.__destroyInactiveViews=function(){for(var e=this.__itemsToRemove,t=0,n=e.length;t<n;t++)e[t].destroy();this.__itemsToRemove=[]},ns.ViewCollection.prototype._getUpdateTree=function(e){var t;return t=this.isValidSelf()?this._getPlaceholderTree():this._getViewTree(),e.views[this.id]=t,e},ns.ViewCollection.prototype._getDescViewTree=function(){var e={"ns-view-collection-container":[]},t=this.isValidSelf();return this.forEachItem((function(n){var r=null;if(t)if(n.info.isCollection&&n.isValidSelf())r=n._getPlaceholderTree();else if(n.isValid()){if(!n.isValidWithDesc()){var i={views:{}};return n._getUpdateTree(i),void e["ns-view-collection-container"].push(i.views)}}else r=n._getViewTree();else r=n.isValidSelf()?n._getPlaceholderTree():n._getViewTree();if(r){var o={};o[n.id]=r,e["ns-view-collection-container"].push(o)}})),e},ns.ViewCollection.prototype._updateHTML=function(e,t,n){var r,i=this._extractNode(e),o=$(i).hasClass("ns-view-placeholder");if(r=t.toplevel?no.extend({},t):t,this.isValidSelf())!t.toplevel&&o&&(ns.replaceNode(i,this.node),(r=no.extend({},t)).toplevel=!0,r.parent_added=!0);else{var a=!!this.node;if(!i)throw new Error("[ns.ViewCollection] Can't find node for '"+this.id+"'");t.toplevel?o?r.toplevel=!0:(this.node&&ns.replaceNode(this.node,i),r.toplevel=!1,r.parent_added=!0,this._setNode(i)):o?(ns.replaceNode(i,this.node),r.toplevel=!1,r.parent_added=!0):this._setNode(i),a&&!this.isLoading()&&(this.__onHide(),this.__onHtmldestroy()),this.isOk()?this._htmlinit(n["ns-view-htmlinit"]):this.isLoading()&&n["ns-view-async"].push(this)}if(this.isOk()&&(this._show(n["ns-view-show"]),n["ns-view-touch"].push(this),this._saveModelsVersions()),!this.isLoading()){var s,u={},c=this.__getContainer();i=i||this.node,this.forEachItem((function(e){if(o){var t=!e.isValid();e._updateHTML(i,r,n),t&&(s?$(s.node).after(e.node):$(c).prepend(e.node))}else{var a=e.isValid(),l=r;a&&((l=no.extend({},r)).toplevel=!0),e._updateHTML(i,l,n),a&&ns.replaceNode(e._extractNode(i),e.node)}u[e.key]=e,s=e}))}this.__destroyInactiveViews(),this.isLoading()||this.__sortViewItems()},ns.ViewCollection.prototype.__getContainer=function(){var e;return e=ns.hasClass(this.node,"ns-view-container-desc")?this.node:ns.byClass("ns-view-container-desc",this.node)[0],ns.assert(e,"ns.ViewCollection","Can't find descendants container (.ns-view-container-desc element) for '"+this.id+"'"),e},ns.ViewCollection.prototype.__sortViewItems=function(){var e=this.__getContainer(),t=ns.childrenIterator(e);this.forEachItem((function(n){var r=t.getNext();r!==n.node&&(r?e.insertBefore(n.node,r):e.appendChild(n.node))}))}}),(function(e,t){ns.Box=function(e,t){this.id=e,this.__setUniqueId(),this.params=t,this.views={},this.key=ns.Box.getKey(e),this.node=null,this.active={},this._visible=!1,this.destroyed=!1,this.info={isBox:!0,isCollection:!1}},ns.Box.prototype._getViewKey=function(e,t,n){return n===ns.L.BOX?ns.Box.getKey(e):ns.View.getKey(e,t)},ns.Box.prototype._getView=function(e,t,n){var r=this._getViewKey(e,t,n);return this.views[r]},ns.Box.prototype._addView=function(e,t,n){var r=this._getView(e,t,n);return r||(r=n===ns.L.BOX?new ns.Box(e,t):ns.View.create(e,t,n===ns.L.ASYNC),this.views[r.key]=r),r},ns.Box.prototype._getDescendantsAndSelf=function(e){var t=this.views;for(var n in e.push(this),t){t[n]._getDescendantsAndSelf(e)}return e},ns.Box.prototype._getRequestViews=function(e,t,n){var r=t.views,i={};for(var o in r){var a=r[o],s=this._addView(o,n,a.type);s._getRequestViews(e,a,n),i[o]=s.key}this.active=i},ns.Box.prototype._getUpdateTree=function(e){if(this.isNone())e.views[this.id]=this._getViewTree();else for(var t in this.active){var n=this.active[t];this.views[n]._getUpdateTree(e)}},ns.Box.prototype._getViewTree=function(){var e=this._getCommonTree();for(var t in this.active){var n=this.active[t];e.views[t]=this.views[n]._getViewTree()}return e},ns.Box.prototype.beforeUpdateHTML=function(e,t){for(var n in this.views){var r=this.views[n],i=t||this.active[r.id]!==r.key;r.beforeUpdateHTML(e,i)}},ns.Box.prototype._hideInactiveViews=function(){for(var e in this.views){var t=this.views[e];if(this.active[t.id]!==t.key){t.node&&ns.removeNode(t.node);for(var n=t._getDescendantsAndSelf([]),r=0,i=n.length;r<i;r++)n[r].hideAndUnbindEvents()}}},ns.Box.prototype._updateHTML=function(e,t,n){var r;if(!this.node||!t.toplevel){var i=ns.byClass("ns-view-"+this.id,e)[0];i&&(r=this.node,this.node=i,this._visible=!1)}if(!this.node)throw new Error("[ns.Box] Can't find node for '"+this.id+"'");this._hideInactiveViews();var o=this.views,a=this.active;for(var s in a){o[a[s]]._updateHTML(e,t,n)}this._transferViewsToNewNode(r),this._sortViewNodes(),this._show()},ns.Box.prototype._sortViewNodes=function(){var e=this.active,t=this.views,n=ns.childrenIterator(this.node);for(var r in e){var i=t[e[r]],o=n.getNext();o!==i.node&&(o?this.node.insertBefore(i.node,o):this.node.appendChild(i.node))}},ns.Box.prototype._transferViewsToNewNode=function(e){if(e){var t=this.views;for(var n in t){var r=t[n];if(this.active[r.id]!==r.key){var i=r.node;e.contains(i)&&this.node.appendChild(i)}}}},ns.Box.prototype._show=function(){return!1===this._visible&&(this._visible=!0),!1},ns.Box.prototype.hideAndUnbindEvents=function(){!0===this._visible&&(this._visible=!1)},ns.Box.prototype.isNone=function(){return!this.node},ns.Box.prototype.isValid=function(){return!!this.node},ns.Box.prototype.destroy=function(){var e=this.views;for(var t in e)e[t].destroy();this.node&&($(this.node).off().removeData().remove(),this.node=null,this.$node=null),this.active=null,this.key=null,this.params=null,this.views=null,this._visible=!1,this.destroyed=!0},ns.Box.prototype.__setUniqueId=ns.View.prototype.__setUniqueId,ns.Box.prototype._getCommonTree=ns.View.prototype._getCommonTree,ns.Box.prototype.isValidWithDesc=ns.View.prototype.isValidWithDesc,ns.Box.prototype.isOk=no.true,ns.Box.prototype.isLoading=no.false,ns.Box.getKey=function(e){return"box="+e}}),(function(e,t){!(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.c=t,n.p="",n(0)})([(function(e,t,n){n(1)(ns),n(2)(yr)}),(function(e,t){e.exports=function(e){e.View.prototype.patchTree=function(){return{bosphorus:this}}}}),(function(e,t){e.exports=function(e){function t(t,n,i,o,a,s,u){return r(e.nodeset2data(t).bosphorus[n](i,o,a,s,u))}function n(t,n,i,o,a,s,u,c){var l=e.nodeset2data(t).bosphorus,d=l.getModel(n);if(!d)throw new Error('[ns-bosphorus] Model "'+n+'" in not defined for View "'+[l.id,l.key].join("#")+'"');return r(d[i](o,a,s,u,c))}function r(t){return Array.isArray(t)?e.array2nodeset(t):e.object2nodeset(t)}e.externals["_ns-view-call"]=t,e.externals["_ns-view-call-scalar"]=t,e.externals["_ns-model-call"]=n,e.externals["_ns-model-call-scalar"]=n}})])}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t){!(function(){var e,t=[];function n(){var n=Ya.Rum.getSetting("clck"),r=t.join("\r\n");if((t=[],e=null,n)&&!(navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(n,r))){var i=new XMLHttpRequest;i.open("POST",n),i.send(r)}}Ya.Rum.send=function(r,i,o,a,s,u,c){clearTimeout(e);var l=Ya.Rum.getSetting("slots"),d=Ya.Rum.getSetting("experiments"),f=["/reqid="+Ya.Rum.getSetting("reqid"),c?"/"+c.join("/"):"",i?"/path="+i:"",s?"/events="+s:"",l?"/slots="+l.join(";"):"",d?"/experiments="+d.join(";"):"",o?"/vars="+o:"","/cts="+(new Date).getTime(),"/*"];t.push(f.join("")),t.length<42?e=setTimeout(n,15):n()}})()}),(function(e,t){!(function(e,t){if(!e)throw new Error("Rum: interface is not included");if(!e.enabled)return e.getSetting=function(){return""},e.getVarsList=function(){return[]},void(e.getResourceTimings=e.pushConnectionTypeTo=e.pushTimingTo=e.normalize=e.sendCounter=e.sendDelta=e.sendTimeMark=e.sendResTiming=e.sendTTI=e.makeSubPage=e.sendHeroElement=e.onReady=function(){});e.getVarsList=function(){var t=e._vars;return Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e]).replace(/\*/g,"%2A")}))},e.setVars=function(t){Object.keys(t).forEach((function(n){e._vars[n]=t[n]})),I(),A()};var n,r,i="690.1033",o="690.2096.207",a="690.2096.2877",s="690.2096.2892",u="690.2096.2044",c="690.2096.361",l="690.2096.4004",d=10,f=3e3,p=2e4,h={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},m={visible:1,hidden:2,prerender:3},v={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},g={"first-paint":2793,"first-contentful-paint":2794},y=Object.keys(g).length,b=e.getTime,_=window.PerformanceObserver,O=window.performance||{},E=O.timing||{},w=O.navigation||{},S=navigator.connection,C={},x={},T=e._deltaMarks,P=document.createElement("link"),k=document.createElement("a"),j="function"==typeof O.getEntriesByType,R=E.navigationStart;function I(){n=e.getVarsList(),e.getSetting("sendClientUa")&&n.push("1042="+encodeURIComponent(navigator.userAgent))}function A(){r=n.concat(["143.2129="+R])}function D(e){function t(){removeEventListener("DOMContentLoaded",t),removeEventListener("load",t),e()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",t),addEventListener("load",t)):e()}function M(){e.getSetting("disableOnLoadTasks")||(removeEventListener("load",M),(function(){var t=e.getSetting("periodicStatsIntervalMs");t||null===t||(t=15e3);t&&(L=setInterval($,t));addEventListener("beforeunload",$)})(),(function(){if(!_)return;Y(O.getEntriesByType("navigation")),Y(O.getEntriesByType("resource"));try{new _(function(e){Y(e.getEntries())}).observe({entryTypes:["resource","navigation"]})}catch(e){}e._periodicTasks.push(J)})(),(function(){if(!_)return;try{new _(function(e,n){var r=e.getEntries()[0];if(r){var i=r.processingStart,o={duration:r.duration,js:r.processingEnd-i,name:r.name},a=r.target;if(a){var s=(a.tagName||"").toLowerCase(),u=a.className&&a.className.baseVal!==t?a.className.baseVal:a.className;u=u?(" "+u).replace(/\s+/g,"."):"",o.target=s+u}var c=i-r.startTime;H("first-input",c,o),n.disconnect()}}).observe({type:"first-input",buffered:!0})}catch(e){}})(),(function(){if(!j)return;var e=O.getEntriesByType("navigation")[0];if(e){var t=[];ue(t,e),ie(t);var r=O.getEntriesByName("yndxNavigationSource")[0];r&&t.push("2091.186="+r.value),le(s,n.concat(t))}})(),(function(){if(!_)return;var e=new _(function(e){var t=e.getEntries();null==G&&(G=0);for(var n=0;n<t.length;n++){var r=t[n];r.hadRecentInput||(G+=r.value)}});try{e.observe({type:"layout-shift",buffered:!0})}catch(e){}addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(e){}Z()}})),addEventListener("beforeunload",Z)})(),(function(){if(!_||!e.getSetting("forcePaintTimeSending")&&e.isVisibilityChanged())return;var t=new _(function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];X=r.renderTime||r.loadTime,Q=r}ee||(U("largest-loading-elem-paint",X),ee=!0)});try{t.observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}addEventListener("visibilitychange",(function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(e){}te()}})),addEventListener("beforeunload",te)})())}function N(){var t=E.domContentLoadedEventStart,r=E.domContentLoadedEventEnd;if(0!==t||0!==r){var o=0===E.responseStart?R:E.responseStart,a=0===E.domainLookupStart?R:E.domainLookupStart,s=n.concat(["2129="+R,"1036="+(a-R),"1037="+(E.domainLookupEnd-E.domainLookupStart),"1038="+(E.connectEnd-E.connectStart),E.secureConnectionStart&&"1383="+(E.connectEnd-E.secureConnectionStart),"1039="+(E.responseStart-E.connectEnd),"1040="+(E.responseEnd-o),"1040.906="+(E.responseEnd-a),"1310.2084="+(E.domLoading-o),"1310.2085="+(E.domInteractive-o),"1310.1309="+(r-t),"1310.1007="+(t-o),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);Object.keys(h).forEach((function(e){e in E&&E[e]&&s.push(h[e]+"="+ce(E[e],R))})),e.vsStart?(s.push("1484="+(m[e.vsStart]||2771)),e.vsChanged&&s.push("1484.719=1")):s.push("1484="+m.visible),w&&(w.redirectCount&&s.push("1384.1385="+w.redirectCount),1!==w.type&&2!==w.type||s.push("770.76="+w.type)),ie(s),le(i,s)}else setTimeout(N,50)}I(),A(),e.ajaxStart=0,e.ajaxComplete=0,D((function(){if(!R)return;setTimeout((function(){e.sendTimeMark=U,e.sendResTiming=W,e.timeEnd=V;for(var t=e._defRes;t.length;){var n=t.shift();W(n[0],n[1])}for(var r=e._defTimes;r.length;){var i=r.shift();U(i[0],i[1],!1,i[2])}Object.keys(T).forEach((function(e){H(e)})),N(),(function t(){if(!j||!e.getSetting("forcePaintTimeSending")&&e.isVisibilityChanged())return;var n=O.getEntriesByType("paint");for(var r=0;r<n.length;r++){var i=n[r],o=g[i.name];o&&!F[i.name]&&(F[i.name]=!0,B++,U("1926."+o,i.startTime))}if(B<y)try{new _(function(e,n){t(),n&&n.disconnect()}).observe({entryTypes:["paint"]})}catch(e){}})(),e.getSetting("sendAutoElementTiming")&&ne(),re(),"complete"===document.readyState?M():addEventListener("load",M)}),0)})),e._getCommonVars=function(){return n};var L,F={},B=0;function U(n,r,i,a){r===t&&(r=b()),i!==t&&!0!==i||e.mark(n,r);var s=se(n);if(s.push("207="+ce(r)),z(s,a)){le(o,s),C[n]=C[n]||[],C[n].push(r);var u=e._markListeners[n];u&&u.length&&u.forEach((function(e){e(r)}))}}function z(e,n){if(n){if(n.isCanceled&&n.isCanceled())return!1;var r=e.reduce((function(e,t,n){"string"==typeof t&&(e[t.split("=")[0]]=n);return e}),{});Object.keys(n).forEach((function(i){if("function"!=typeof n[i]){var o=r[i],a=i+"="+n[i];o===t?e.push(a):e[o]=a}}))}return!0}function V(e,t){var n=T[e];n&&0!==n.length&&(n.push(b(),t),H(e))}function H(n,r,i){var o,s,u,c=T[n];if(void 0!==r?o=(s=e.getTime())-r:c&&(o=c[0],s=c[1],u=c[2]),o!==t&&s!==t){var l=se(n);l.push("207.2154="+ce(o),"207.1428="+ce(s),"2877="+ce(s-o)),z(l,i)&&z(l,u)&&(le(a,l),delete T[n])}}function W(t,n){oe(n,(function(r){if(r){var i=se(t);e.getSetting("sendUrlInResTiming")&&i.push("13="+encodeURIComponent(n)),ue(i,r[r.length-1]),le(u,i)}}))}function $(){var t=!1;e._periodicTasks.forEach((function(e){e()&&(t=!0)})),t||clearInterval(L)}e.getTimeMarks=function(){return C},e._periodicTasks=[];var G,q=0;function Y(e){if(e&&e.length)for(var t=x,n=0;n<e.length;n++){var r=K(e[n]);if(r){var i=r.domain+"-"+r.extension,o=t[i]=t[i]||{count:0,size:0};o.count++,o.size+=r.size}}}function K(e){var t=e.transferSize;if(null!=t){k.href=e.name;var n=k.pathname;if(0!==n.indexOf("/clck")){var r=n.lastIndexOf("."),i="";return-1!==r&&n.lastIndexOf("/")<r&&n.length-r<=5&&(i=n.slice(r+1)),{size:t,domain:k.hostname,extension:i}}}}function J(){var t=e.getSetting("maxTrafficCounters")||250;if(q>=t)return!1;for(var r=Object.keys(x),i="",o=0;o<r.length;o++){var a=r[o],s=x[a];i+=encodeURIComponent(a)+"!"+s.count+"!"+s.size+";"}if(i.length){q++;var u=n.concat(["d="+i,"t="+ce(b())]);le(c,u)}return x={},q<t}function Z(){if(null!=G){var e=Math.round(1e6*G)/1e6;le(l,n.concat("s="+e)),G=null}}var X=null,Q=null,ee=!1;function te(){if(null!=X){var t=e.getLCPAdditionalParams(Q);U("largest-contentful-paint",X,!1,t),X=null,Q=null}}var ne=_?function(){if(e.getSetting("forcePaintTimeSending")||!e.isVisibilityChanged())try{new _(function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];U("element-timing."+r.identifier,r.startTime)}}).observe({type:"element",buffered:!0})}catch(e){}}:function(){};function re(t,n,r){if(e._tti){var i=b(),o=function(t,o,a){var s={2796.2797:ae(a,n),689.2322:ce(i)};r&&Object.keys(r).forEach((function(e){s[e]=r[e]})),U(t||"2795",o,!0,s),e._tti.fired=!0};!(function r(){var a,s=n||i,u=b(),c=e._tti.events||[],l=c.length;0!==l&&(a=c[l-1],s=Math.max(s,Math.floor(a.startTime+a.duration))),u-s>=f?o(t,s,c):u-s>=p?o(t,(n||i)+p,c):setTimeout(r,1e3)})()}}function ie(e){S&&e.push("2437="+(v[S.type]||2771),S.downlinkMax!==t&&"2439="+S.downlinkMax,S.effectiveType&&"2870="+S.effectiveType,S.rtt!==t&&"rtt="+S.rtt,S.downlink!==t&&"dwl="+S.downlink)}function oe(e,t){if(!j)return t(null);P.href=e;var n=P.href,r=0,i=100;setTimeout((function e(){var o=O.getEntriesByName(n);if(o.length)return t(o);r++<d?(setTimeout(e,i),i+=i):t(null)}),0)}function ae(e,t){return e=e||[],t=t||0,e.filter((function(e){return e.startTime-t>=-50})).map((function(e){var t=e.name?e.name.split("-").map((function(e){return e[0]})).join(""):"u",n=Math.floor(e.startTime);return t+"-"+n+"-"+Math.floor(n+e.duration)})).join(".")}function se(t){return r.concat(["1701="+t,e.ajaxStart&&"1201.2154="+ce(e.ajaxStart),e.ajaxComplete&&"1201.2052="+ce(e.ajaxComplete)])}function ue(e,t){Object.keys(h).forEach((function(n){if(n in t){var r=t[n];(r||0===r)&&e.push(h[n]+"="+ce(r))}}))}function ce(e,t){return"string"==typeof e?encodeURIComponent(e):Math.round(1e3*(e-(t||0)))/1e3}function le(t,n){var r=encodeURIComponent(window.YaStaticRegion||"unknown");n.push("-cdn="+r);var i=n.filter(Boolean).join(",");e.send(null,t,i)}e.sendTTI=re,e.sendHeroElement=function(e){U("2876",e)},e._subpages={},e.makeSubPage=function(t,n){var r=e._subpages[t];e._subpages[t]=void 0===r?r=0:++r;var i=!1;return{689.2322:ce(void 0!==n?n:b()),2924:t,2925:r,isCanceled:function(){return i},cancel:function(){i=!0}}},e._getLongtasksStringValue=ae,e.getResourceTimings=oe,e.pushConnectionTypeTo=ie,e.pushTimingTo=ue,e.normalize=ce,e.sendCounter=le,e.sendDelta=H,e.sendTrafficData=J,e.finalizeLayoutShiftScore=Z,e.finalizeLargestContentfulPaint=te,e.onReady=D})(Ya.Rum)}),(function(e,t){!(function(){function e(){removeEventListener("load",e);var t=Ya.Rum;if(t.sendTimeMark("1724"),t.getSetting("sendAutoResTiming"))for(var n=document.querySelectorAll("script[data-rCid], div[data-rCid]"),r=0,i=n.length;r<i;r++){var o=n[r],a=o.src;if(!a){var s=getComputedStyle(o).backgroundImage;if(s){var u=s.match(/^url\(["']?(.*?)["']?\)$/);u&&(a=u[1])}}a&&t.sendResTiming(o.getAttribute("data-rCid"),a)}}Ya.Rum.enabled&&!Ya.Rum._onloadCounterInited&&(Ya.Rum._onloadCounterInited=!0,"complete"===document.readyState?e():addEventListener("load",e))})()}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r=n(974);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}}),(function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t){e.exports={getClientResourceDialogUrl:function(e,t,n){return"/client".concat(e,"|").concat(n).concat(t)}}}),(function(e,t,n){"use strict";n.r(t);var r={timeZero:new Date,timers:{},timersCompleted:{},groupsTimers:[],LENGTH_URL_MAX:1e3,LENGTH_PART_MIN:150,COUNT_MAX:50,TIMELONG:2e3,send:function(e,t,n){var r=(n?"/stats/"+n+"/?":"/monitoring.txt?")+i(function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(e));if(t){var o={},a=this.LENGTH_URL_MAX-r.length,s=encodeURIComponent(t),u=s.length;if(a>=this.LENGTH_PART_MIN){var c=new RegExp(".{1,"+a+"}","g"),l=s.match(c);if(l){o.part_id=Math.floor(100*Math.random());for(var d=0,f=l.length;d<this.COUNT_MAX&&d<f;d++)o.part=d,this.query(r+"&"+i(o)+"&text="+l[d])}}else o.step=a,o.length=u,this.query(r+"&"+i(o))}else this.query(r)},time:function(e){this.timers[e]=new Date},timeEnd:function(e){var t=this.timers[e];void 0===t?t=this.timeZero:delete this.timers[e];var n=Date.now()-t;this.timersCompleted[e]=n,this.show("Time:",e,n),this.sendGroupsTimers()},sendTimers:function(e,t){t=t||{};for(var n=0,r=e.length;n<r;n++){var i=e[n],o=this.timersCompleted[i];t[i]=o||0}t.type="timings",this.send(t)},query:function(e){"function"==typeof navigator.sendBeacon?navigator.sendBeacon(e):(new Image).src=e},addGroupTimers:function(e){var t=this;this.groupsTimers.push(e);var n=this.groupsTimers[this.groupsTimers.length-1];n.timeout=setTimeout((function(){t.sendTimers(n,{error:"long"})}),this.TIMELONG)},sendGroupsTimers:function(){for(var e=0,t=this.groupsTimers.length;e<t;e++){for(var n=this.groupsTimers[e],r=!0,i=0,o=n.length;i<o;i++){var a=n[i];if(void 0===this.timersCompleted[a]){r=!1;break}}r&&(clearTimeout(n.timeout),this.sendTimers(n))}}};function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}t.default=r}),(function(e,t,n){var r=n(976).domains,i=Object.keys(r).map((function(e){return r[e].domain.replace(".","\\.")})),o=new RegExp("^(?:ya\\.ru|яндекс\\.рф|yandex\\.(?:".concat(i.join("|"),"))$")),a=/^(?:gmail\.com|googlemail.com)$/,s=e.exports={domainNormal:"yandex.ru",isEmail:function(e){return/.@[^@.]+\.[^@]*[^@.]$/.test(e)},yandexDomainRegExp:o,normalize:function(e){if(!s.isEmail(e))return e;var t=/^(.+)@([^@]+)$/.exec(e);if(!t)return e;var n=(e=t.slice(1))[0],r=e[1].toLowerCase();return o.test(r)&&(n=n.toLowerCase().split(".").join("-").split("+")[0],r="yandex.ru"),"narod.ru"===r&&(n=n.toLowerCase().split(".").join("-").split("+")[0]),a.test(r)&&(n=n.toLowerCase().split(".").join("").split("+")[0],r="gmail.com"),n+"@"+r}}}),(function(e,t,n){(function(e,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!(function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,d=26,f=38,p=700,h=72,m=128,v="-",g=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=c-l,E=Math.floor,w=String.fromCharCode;function S(e){throw new RangeError(_[e])}function C(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function x(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+C((e=e.replace(b,".")).split("."),t).join(".")}function T(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function P(e){return C(e,(function(e){var t="";return e>65535&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=w(e)})).join("")}function k(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function j(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function R(e,t,n){var r=0;for(e=n?E(e/p):e>>1,e+=E(e/t);e>O*d>>1;r+=c)e=E(e/O);return E(r+(O+1)*e/(e+f))}function I(e){var t,n,r,i,o,a,s,f,p,g,y=[],b=e.length,_=0,O=m,w=h;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&S("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=_,a=1,s=c;i>=b&&S("invalid-input"),((f=k(e.charCodeAt(i++)))>=c||f>E((u-_)/a))&&S("overflow"),_+=f*a,!(f<(p=s<=w?l:s>=w+d?d:s-w));s+=c)a>E(u/(g=c-p))&&S("overflow"),a*=g;w=R(_-o,t=y.length+1,0==o),E(_/t)>u-O&&S("overflow"),O+=E(_/t),_%=t,y.splice(_++,0,O)}return P(y)}function A(e){var t,n,r,i,o,a,s,f,p,g,y,b,_,O,C,x=[];for(b=(e=T(e)).length,t=m,n=0,o=h,a=0;a<b;++a)(y=e[a])<128&&x.push(w(y));for(r=i=x.length,i&&x.push(v);r<b;){for(s=u,a=0;a<b;++a)(y=e[a])>=t&&y<s&&(s=y);for(s-t>E((u-n)/(_=r+1))&&S("overflow"),n+=(s-t)*_,t=s,a=0;a<b;++a)if((y=e[a])<t&&++n>u&&S("overflow"),y==t){for(f=n,p=c;!(f<(g=p<=o?l:p>=o+d?d:p-o));p+=c)C=f-g,O=c-g,x.push(w(j(g+C%O,0))),f=E(C/O);x.push(w(j(f,0))),o=R(n,_,r==i),n=0,++r}++n,++t}return x.join("")}s={version:"1.4.1",ucs2:{decode:T,encode:P},decode:I,encode:A,toASCII:function(e){return x(e,(function(e){return y.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return x(e,(function(e){return g.test(e)?I(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)})()}).call(this,n(137)(e),n(110))}),(function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}}),(function(e,t,n){"use strict";t.decode=t.parse=n(1333),t.encode=t.stringify=n(1334)}),(function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var d,f,p,h,m=e[l].replace(s,"%20"),v=m.indexOf(n);v>=0?(d=m.substr(0,v),f=m.substr(v+1)):(d=m,f=""),p=decodeURIComponent(d),h=decodeURIComponent(f),r(a,p)?i(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}),(function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}}),(function(e,t){e.exports={replaceServiceTld:function(e,t){var n=(e.match(/(?:(?:https?\:)?\/\/)?[^\/]*/g)||[""])[0],r=n.replace(/(\w+|com\.tr|com\.am|com\.ge|co\.il)$/,t);return e.replace(n,r)}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBasicProduct=t.getBasicProductForKey=t.findBasicProduct=t.findBestPrice=t.getMonthPrice=void 0;const r=n(133),i={amount:Number.MAX_VALUE,period:r.PaymentPeriod.month,period_count:1,price_id:"FAKE_PRICE",currency:r.Currency.RUB};t.getMonthPrice=((e,t)=>{let n=e.amount/e.period_count;return e.period===r.PaymentPeriod.year&&(n/=12),t?Math[t](n):n});t.findBestPrice=(e=>{if(!e.length)return;return[...e].sort((e,n)=>(0,t.getMonthPrice)(e)-(0,t.getMonthPrice)(n))[0]});t.findBasicProduct=(e=>{if(e.items)return[...e.items].sort((e,n)=>{const r=(0,t.findBestPrice)(e.prices)||i,o=(0,t.findBestPrice)(n.prices)||i;return(0,t.getMonthPrice)(r)-(0,t.getMonthPrice)(o)})[0]});t.getBasicProductForKey=((e,n)=>(0,t.findBasicProduct)(e[n]));t.getBasicProduct=(e=>Object.entries(e).reduce((e,[n,r])=>Object.assign(Object.assign({},e),{[n]:(0,t.findBasicProduct)(r)}),{}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBestOfferForKey=t.getBestOffers=void 0;const r=e=>e.items.find(e=>e.best_offer);t.getBestOffers=(e=>Object.entries(e).reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:r(n)}),{}));t.getBestOfferForKey=((e,t)=>r(e[t]))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDiskSpace=t.getFeature=void 0;const r=n(133);t.getFeature=((e,t)=>e.features.find(e=>e.code===t));t.getDiskSpace=(e=>{var n;return null===(n=(0,t.getFeature)(e,r.ProductFeatureCode.DiskSpace))||void 0===n?void 0:n.value})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasSpecificProductFamilyForKey=t.hasSpecificProductFamily=t.getSpecificProductFamilyForKey=t.getSpecificProductFamily=void 0;const r=(e,t)=>e.items.filter(e=>e.product_id_family===t);t.getSpecificProductFamily=((e,t)=>Object.entries(e).reduce((e,[n,i])=>Object.assign(Object.assign({},e),{[n]:r(i,t)}),{}));t.getSpecificProductFamilyForKey=((e,t,n)=>r(e[n],t));t.hasSpecificProductFamily=((e,n)=>{const r=(0,t.getSpecificProductFamily)(e,n);return Object.values(r).some(e=>e.length>0)});t.hasSpecificProductFamilyForKey=((e,n,r)=>(0,t.getSpecificProductFamilyForKey)(e,n,r).length>0)}),(function(e,t,n){"use strict";function r(e){return null!=e}Object.defineProperty(t,"__esModule",{value:!0}),t.getPromoCodeActivation=t.getMostRelevantPromo=t.getPromosList=t.isDefined=void 0,t.isDefined=r;t.getPromosList=(e=>Object.entries(e).map(([e,t])=>t.active_promo?Object.assign(Object.assign({},t.active_promo),{product_set:e}):void 0).filter(r));t.getMostRelevantPromo=(e=>{const n=(0,t.getPromosList)(e);return n.sort((e,t)=>(e.order_num||0)-(t.order_num||0)),n.length?n[0]:void 0});t.getPromoCodeActivation=(e=>{const n=(0,t.getMostRelevantPromo)(e);return n&&n.promo_code_activation_date?{status:n.promo_code_activation_status||"active",date:new Date(n.promo_code_activation_date).getTime()}:void 0})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTrialForKey=t.getTrial=void 0;const r=e=>e.items.filter(e=>e.trial);t.getTrial=(e=>Object.entries(e).reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:r(n)}),{}));t.getTrialForKey=((e,t)=>r(e[t]))}),(function(e,t){ns.Model.define("do-settings-set",{params:{key:null,value:null}})}),(function(e,t,n){"use strict";n.r(t);n(977);var r=ns.Model.define("operations",{isCollection:!0,methods:{getByType:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.models.filter((function(e){return t.includes(e.getType())}))}}});t.default=r}),(function(e,t,n){"use strict";n.r(t);var r=n(22),i=n.n(r),o=n(9),a=n.n(o),s=n(512),u=n(586);s.a.define("queueSync",{limit:3,methods:{TIMEOUT_RETRY_REQUEST:5e3,handlePortion:function(e){var t=this,n=a.a.reduce(e,(function(e,t){var n=ns.Model.key(t.item.id,t.item.params);return e[n]?e[n].promise&&e[n].promise.then((function(){t.promise.fulfill()}),(function(){t.promise.reject()})):e[n]=t,e}),{}),r=a.a.map(n,(function(e){return e.item})),o=ns.forcedRequest(r);return o.then((function(e){a.a.each(e,(function(e){var t=ns.Model.key(e.id,e.params);n[t].promise&&n[t].promise.fulfill(e)}))}),(function(n){Object(u.a)(n,e,t.TIMEOUT_RETRY_REQUEST).then((function(e){var n;(n=t.items).unshift.apply(n,i()(e)),t.doIteration()})).catch((function(){}))})),o}}}),ns.Model.get("queueSync").setDataDefault()}),(function(e,t,n){var r=n(9),i={extendRouterRegs:function(e){r.extend(e.router.regexps,{path:"(?:\\/[^\\/\\?]+)+",slashOptional:"\\/?",pipe:"(?:\\||%7C)",query:"[^/]+",force:"force",any:"[^?]*"})}};e.exports=i}),(function(e,t){var n={openableWithPreview:{mimetypes:["application/vnd.ms-excel","application/x-msexcel","application/x-ms-excel","application/x-excel","application/xls","application/x-xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/x-vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet-template","application/msexcel","application/x-dos_ms_excel","application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/mspowerpoint","application/ms-powerpoint","application/mspowerpnt","application/vnd-mspowerpoint","application/vnd.ms-powerpoint","application/powerpoint","application/x-powerpoint","application/x-mspowerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/msword","application/rtf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text","application/doc","application/vnd.msword","application/vnd.ms-word","application/winword","application/word","application/x-msw6","application/x-msword","text/rtf","application/vnd.oasis.opendocument.text","application/futuresplash","application/x-fictionbook+xml","image/vnd.djvu","image/x-djvu","application/djvu"],extnames:["xls","xlsx","ods","xlt","pdf","ppt","pptx","odp","rtf","doc","docx","odt","docm","dotx","dot","dotm","tiff","tif","log"]},openableWithoutPreview:{mimetypes:["application/gzip","application/x-gzip","application/x-gunzip","application/gzipped","application/x-tar","application/x-bzip2","application/x-bz2","application/zip","application/x-compressed","application/x-zip-compressed","application/rar","application/x-rar","application/x-rar-compressed","compressed/rar","application/x-xar","text/csv","text/comma-separated-values"],extnames:["zip","rar","cab","7z","chm","txt","csv","fb2"]}};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=e||"",n.openableWithoutPreview.extnames.includes(t)||n.openableWithoutPreview.mimetypes.includes(e)||r&&n.openableWithPreview.extnames.includes(t)||r&&n.openableWithPreview.mimetypes.includes(e)}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(28),i=Object(r.cn)("Button2")}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(904);n(1359),t.withViewDark=r.withBemMod(i.cnSpin(),{view:"dark"})}),(function(e,t,n){}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(75);function o(e,t){return Object(i.a)()?Object(r.useLayoutEffect)(e,t):Object(r.useEffect)(e,t)}}),(function(e,t,n){var r=n(2);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(3),s=n(566),u=i(n(185)),c=r(n(984)),l=i(n(186)),d=i(n(123)),f=i(n(1413)),p=i(n(1457)),h=n(28);n(1469);const m=a.compose(s.withSizeM,s.withViewDefault)(s.Radiobox),v=h.cn("ShareDialogAccessAccordion"),g={disabled:"view",all:"edit all"},y=({lang:e,resourcePath:t,chooseTariffLink:n,setLinkSettings:r,pddOrgId:i,visible:a,onChangeSecuritySettings:s,userHasPublicSettingsFeature:u,externalOrganizationIds:c,countMetrikaFn:l,shouldRenderOrganizationScopeBlock:d,isSmartphone:f,isB2b:h})=>{const m=o.useCallback((...e)=>{l("security settings","organization scope",...e)},[l]);return d&&i?o.default.createElement(p.default,{lang:e,resourcePath:t,chooseTariffLink:n,setLinkSettings:r,pddOrgId:i,dialogVisible:a,onChangeSecuritySettings:s,hasFeature:u,externalOrganizationId:null===c||void 0===c?void 0:c[0],countMetrikaFn:m,isSmartphone:f,isB2b:h}):null};t.default=(e=>{const{isUserHasRightsToModifyAccess:t,isOverdraft:n,isVicariousDoc:r,officeAccessType:i,runChangeType:a,onAccessTypeChange:p,lang:h,isResourceTypeAvailableToEdit:b,resourceType:_,viewOnlyTooltipType:O,noViewOnlyTooltip:E,defaultExpanded:w,visible:S,resourceId:C,isTouch:x,deselectClass:T,countMetrikaFn:P,pddOrgId:k,externalOrganizationIds:j}=e,[R,I]=o.useState(w),[A,D]=o.useState(i);o.useEffect(()=>{D(i)},[i]),o.useEffect(()=>{S&&I(w)},[S,w]);const M=o.useCallback(()=>{I(!0),P("expand")},[P]),N=o.useCallback(e=>{D(e);const t=a({resourceId:C,accessType:e}).catch(e=>{throw D(i),e});null===p||void 0===p||p({newAccessType:e,promise:t}),P("change access",g[e])},[a,C,i,p,P]);let L;n?L=c.AccessStubType.Overdraft:r?L=c.AccessStubType.VicariousDoc:t||(L=c.AccessStubType.ReadOnlyRights);const F=Boolean(k&&parseInt(k,10)===(null===j||void 0===j?void 0:j[0]));return!b||L?o.default.createElement("div",{className:v()},o.default.createElement(c.default,{stubType:L,resourceType:_,lang:h,value:A,addonAfter:E||L?null:o.default.createElement(f.default,{lang:h,resourceType:_,viewOnlyTooltipType:O,isTouch:x,deselectClass:T}),isB2bSharingOn:F}),o.default.createElement(y,Object.assign({},e))):R?o.default.createElement("div",{className:v()},o.default.createElement(m,{size:"m",view:"default",value:A,onChange:e=>N(e.target.value)},o.default.createElement(s.Radio,{value:"disabled"},o.default.createElement(c.default,{lang:h,value:"disabled",isB2bSharingOn:F})),o.default.createElement(s.Radio,{value:"all"},o.default.createElement(c.default,{lang:h,value:"all",isB2bSharingOn:F}))),o.default.createElement(y,Object.assign({},e))):o.default.createElement("div",{className:v()},o.default.createElement(c.default,{className:v("AccessType",{Expandable:!0}),resourceType:_,lang:h,value:A,onClick:M,addonAfter:o.default.createElement(d.default,{view:"clear",size:"l","aria-label":u.default(h,"access-type-expand"),icon:()=>o.default.createElement(l.default,{name:"arrowBottom",className:v("Icon")})}),isB2bSharingOn:F}),o.default.createElement(y,Object.assign({},e)))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioboxRadio=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(981),a=n(452),s=n(983);r.__exportStar(n(981),t),t.RadioboxRadio=s.withControl((function(e){var t=e.className,n=e.hovered,s=r.__rest(e,["className","hovered"]);return i.default.createElement(o.RadioboxRadio,r.__assign({},s,{className:a.cnRadiobox("Radio",{hovered:n},[t])}))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioboxBox=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(452);n(1381);t.RadioboxBox=function(e){var t=e.children,n=e.className,a=r.__rest(e,["children","className"]);return i.default.createElement("span",r.__assign({},a,{className:o.cnRadiobox("Box",null,[n])}),t)}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioboxControl=void 0;var r=n(1).__importDefault(n(0)),i=n(452);n(1383);t.RadioboxControl=function(e){var t=e.autoFocus,n=e.checked,o=e.controlRef,a=e.disabled,s=e.labelledBy,u=e.name,c=e.onChange,l=e.value;return r.default.createElement("input",{"aria-checked":n,"aria-labelledby":s,autoFocus:t,autoComplete:"off",checked:n,className:i.cnRadiobox("Control"),disabled:a,name:u,onChange:c,ref:o,type:"radio",value:l})}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){(function(e){!(function(){var t=t||{};t.yandex_disk_ps_components=t.yandex_disk_ps_components||{},t.yandex_disk_ps_components["share-dialog"]={"access-type-expand":function(e){return"Развернуть"},"access-type-org-subtitle_edit":function(e){return"Редактировать смогут только ваши коллеги, у которых есть ссылка"},"access-type-org-subtitle_view":function(e){return"Просматривать смогут только ваши коллеги, у которых есть ссылка"},"access-type-subtitle-vicarious-doc":function(e){return"У вас нет прав их изменять, этот файл не ваш"},"access-type-subtitle_edit":function(e){return"Редактировать смогут все, у кого есть ссылка"},"access-type-subtitle_no-edit-rights":function(e){return"Файлы в этой папке можно только просматривать"},"access-type-subtitle_overdraft":function(e){return"Файлы занимают больше места, чем у вас есть"},"access-type-subtitle_view":function(e){return"Просматривать смогут все, у кого есть ссылка"},"access-type-title-album_overdraft":function(e){return"Альбом по ссылке недоступен"},"access-type-title-file_overdraft":function(e){return"Файл по ссылке недоступен"},"access-type-title-folder_overdraft":function(e){return"Папка по ссылке недоступна"},"access-type-title-vicarious-doc":function(e){return"Настройки ссылки недоступны"},"access-type-title_edit":function(e){return"Редактирование"},"access-type-title_no-edit-rights":function(e){return"Настройки ссылки недоступны"},"access-type-title_view":function(e){return"Просмотр"},"album-link-title":function(e){return"Ссылка на альбом"},apply:function(e){return"Применить"},"available-to":function(e){return"Кому доступно"},"available-to-organization-only":function(e){return"Ссылка будет доступна только вашим коллегам"},"available-to-organization-only-label":function(e){return"Только внутри организации"},"b2b-promo-button":function(e){return"Выбрать тариф"},"b2b-promo-text":function(e){return"Доступно только на Оптимальном и Расширенном тарифах Яндекс 360 для бизнеса"},"b2c-promo-button":function(e){return"Подключить Премиум"},"b2c-promo-text":function(e){return"Пароль, срок действия и запрет на скачивание доступны в тарифах Яндекс 360 Премиум"},"choose-tariff":function(e){return"Выбрать тариф"},"close-menu":function(e){return"Закрыть"},"copy-link":function(e){return"Скопировать ссылку"},"copy-short":function(e){return"Скопировать"},"copy-short-success":function(e){return"Скопировано"},"copy-success":function(e){return"Ссылка скопирована"},"delete-link-confirm-cancel":function(e){return"Отмена"},"delete-link-confirm-submit":function(e){return"Удалить"},"delete-link-confirm-text-album":function(e){return"Доступ к альбому будет закрыт для всех, с кем вы поделились."},"delete-link-confirm-text-file":function(e){return"Доступ к файлу будет закрыт для всех, с кем вы поделились."},"delete-link-confirm-text-folder":function(e){return"Доступ к папке будет закрыт для всех, с кем вы поделились."},"delete-link-confirm-title":function(e){return"Вы действительно хотите удалить ссылку?"},done:function(e){return"Готово"},"file-link-title":function(e){return"Ссылка на файл"},"folder-link-title":function(e){return"Ссылка на папку"},"forbid-download":function(e){return"Запретить скачивание"},"forbid-download-audio-disabled-tooltip":function(e){return"Нельзя включить запрет скачивания для аудиофайла"},"forbid-download-disabled-tooltip":function(e){return"Нельзя включить запрет скачивания, когда выбран доступ на редактирование"},"forbid-download-tooltip":function(e){return"Кнопки «Скачать» и «Сохранить на Яндекс Диск» будут недоступны"},"input-password":function(e){return"Введите пароль"},"link-expire":function(e){return"Срок действия ссылки"},"link-expire-addition":function(e){return"До "+e.datetime},"link-expire-choose":function(e){return"Выбрать дату и время"},"link-expire-day":function(e){return"Сутки"},"link-expire-month":function(e){return"Месяц"},"link-expire-no":function(e){return"Бессрочно"},"link-expire-tooltip":function(e){return"Когда срок действия закончится, ссылка удалится и файл будет недоступен пользователям"},"link-expire-week":function(e){return"Неделя"},months_genitive:function(e){return"янв|фев|мар|апр|мая|июн|июл|авг|сен|окт|ноя|дек"},"password-disabled-tooltip":function(e){return"Нельзя установить пароль, когда выбран доступ на редактирование"},"password-edit-title":function(e){return"Изменить пароль"},"password-min-len":function(e){return"От 4 символов"},"password-only-latin-letters-and-digits":function(e){return"Только латинские буквы и цифры"},"password-only-letters-and-digits":function(e){return"Только буквы и цифры"},"password-remember":function(e){return"Запомните этот пароль, потом посмотреть его не получится"},"password-set":function(e){return"Пароль установлен"},"password-title":function(e){return"Установить пароль"},"password-tooltip":function(e){return"Чтобы увидеть ваш файл по ссылке, пользователь должен будет ввести пароль"},"promo-title":function(e){return"Настройте безопасность ссылки на документы"},"qr-code-title":function(e){return"Скачать QR-код"},save:function(e){return"Сохранить"},"security-b2b-tooltip":function(e){return"Доступно только на Оптимальном и Расширенном тарифах Яндекс 360 для бизнеса"},"security-b2c-tooltip":function(e){return"Доступны для пользователей Яндекс 360 Премиум"},"security-desc-with-password":function(e){return"Установить пароль, срок действия ссылки и запретить скачивание"},"security-only-disable":function(e){return"Доступно только отключение платных настроек"},"security-title":function(e){return"Настройки безопасности"},"share-album-link-body":function(e){return"Посмотреть или скачать альбом «"+e.title+"»"},"share-album-link-subject":function(e){return"Ссылка на альбом «"+e.title+"» на Яндекс.Диске"},"share-file-link-body":function(e){return"Посмотреть или скачать файл «"+e.title+"»"},"share-file-link-subject":function(e){return"Ссылка на файл «"+e.title+"» на Яндекс.Диске"},"share-folder-link-body":function(e){return"Посмотреть или скачать папку «"+e.title+"»"},"share-folder-link-subject":function(e){return"Ссылка на папку «"+e.title+"» на Яндекс.Диске"},"share-link-body-edit":function(e){return"Посмотреть, скачать или отредактировать документ «"+e.title+"»"},"share-mail":function(e){return"Поделиться в письме"},"share-menu-title":function(e){return"Поделиться файлом"},"share-menu-title-album":function(e){return"Поделиться альбомом"},"share-menu-title-folder":function(e){return"Поделиться папкой"},"share-qr":function(e){return"Через QR-код"},"smth-wrong":function(e){return"Что-то пошло не так, повторите позже"},"to-all":function(e){return"Всем"},"trash-tooltip":function(e){return"Удалить ссылку"},"viewonly-tooltip":function(e){return"Этот файл доступен для просмотра.\nСовместно редактировать можно только документы."},"viewonly-tooltip-album":function(e){return"Этот альбом доступен для просмотра. Совместно редактировать можно только документы."},"viewonly-tooltip-doc":function(e){return"Этот файл доступен для просмотра.\nСовместно редактировать можно только документы DOCX, XLSX, PPTX."},"viewonly-tooltip-folder":function(e){return"Эта папка доступна для просмотра. Чтобы редактировать ее совместно, настройте общий доступ."}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(137)(e))}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.272 7.365C4 7.9 4 8.6 4 10v8c0 1.4 0 2.1.272 2.635a2.5 2.5 0 0 0 1.093 1.092C5.9 22 6.6 22 8 22h12c1.4 0 2.1 0 2.635-.273a2.5 2.5 0 0 0 1.092-1.092C24 20.1 24 19.4 24 18v-8c0-1.4 0-2.1-.273-2.635a2.5 2.5 0 0 0-1.092-1.093C22.1 6 21.4 6 20 6H8c-1.4 0-2.1 0-2.635.272a2.5 2.5 0 0 0-1.093 1.093zM6.647 8h14.706a.5.5 0 0 1 .278.916l-7.075 4.732a1 1 0 0 1-1.112 0L6.369 8.916A.5.5 0 0 1 6.647 8z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="25" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.5 12c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm-5.344-3.755a1 1 0 0 0-1.41.099l-4.312 4.958-2.242-2.149a1 1 0 0 0-1.384 1.444l3.379 3.238a.5.5 0 0 0 .723-.033l5.345-6.146a1 1 0 0 0-.099-1.41z" fill="#66CC67"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 13.585l-4.793-4.79a1 1 0 1 0-1.414 1.415l5.5 5.496a1 1 0 0 0 1.414 0l5.5-5.496a1 1 0 0 0-1.414-1.415L12 13.585z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="12" height="12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.293 4.293a1 1 0 0 1 1.414 0L6 6.586l2.293-2.293a1 1 0 0 1 1.414 1.414l-3 3a1 1 0 0 1-1.414 0l-3-3a1 1 0 0 1 0-1.414Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 12c0-2.25 3.75-7.5 10.5-7.5S22.5 9.75 22.5 12s-3.75 7.5-10.5 7.5S1.5 14.25 1.5 12zM12 16.75a4.75 4.75 0 1 0 0-9.5 4.75 4.75 0 0 0 0 9.5zM14.7 12a2.7 2.7 0 1 1-5.4 0 2.7 2.7 0 0 1 5.4 0z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg fill="none" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M3.991 16.854l-1.314 3.504a.75.75 0 0 0 .966.965l3.503-1.314a3 3 0 0 0 1.068-.687L18.361 9.175s-.353-1.061-1.414-2.122c-1.06-1.06-2.121-1.414-2.121-1.414L4.679 15.786a3 3 0 0 0-.688 1.068zM16.24 4.224l1.384-1.383c.248-.248.578-.406.924-.348.487.08 1.232.322 1.935 1.025.702.703.944 1.447 1.025 1.934.057.346-.1.677-.349.925L19.776 7.76s-.354-1.06-1.415-2.12-2.121-1.415-2.121-1.415z" fill="currentColor" fill-rule="evenodd"></path></svg>'}),(function(e,t){e.exports='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.469 4.36a6.746 6.746 0 0 0-1.201-1.628 6.746 6.746 0 0 0-1.625-1.2l-.002-.002.92-.92c.495-.494 1.308-.812 2.475.354 1.166 1.167.848 1.98.353 2.475l-.92.92Zm-1.127 1.126L4.73 14.099a2.5 2.5 0 0 1-.861.562l-2.552.993a.75.75 0 0 1-.971-.97l.993-2.553a2.5 2.5 0 0 1 .562-.86l8.613-8.614a5.234 5.234 0 0 1 1.693 1.136c.5.5.88 1.077 1.135 1.693Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7zM13 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 26c6.627 0 12-5.373 12-12S20.627 2 14 2 2 7.373 2 14s5.373 12 12 12zm-1.8-6.01c0-1.04.79-1.79 1.79-1.79 1.02 0 1.81.75 1.81 1.79s-.79 1.81-1.81 1.81c-1 0-1.79-.77-1.79-1.81zm.79-13.19a.583.583 0 0 0-.583.609l.369 8.433c.014.312.27.558.583.558h1.283c.312 0 .57-.246.583-.558l.369-8.433a.583.583 0 0 0-.583-.609H12.99z" fill="#FF4D4D"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm-1.5-5.009c0-.867.659-1.491 1.491-1.491.85 0 1.509.624 1.509 1.491 0 .867-.659 1.509-1.509 1.509-.832 0-1.491-.642-1.491-1.509zM11.172 6a.5.5 0 0 0-.499.522l.306 7a.5.5 0 0 0 .5.478h1.043a.5.5 0 0 0 .5-.478l.305-7a.5.5 0 0 0-.5-.522h-1.655z" fill="#9397AD"></path></svg>'}),(function(e,t){e.exports='<svg width="17" height="17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M.5 8.003a8 8 0 1 0 16 0 8 8 0 0 0-16 0Zm14 0a6 6 0 1 1-12 0 6 6 0 0 1 12 0ZM7.36 11.03c0-.672.492-1.14 1.14-1.14.648 0 1.14.468 1.14 1.14 0 .672-.492 1.14-1.14 1.14-.648 0-1.14-.468-1.14-1.14ZM8.08 4h.842a.75.75 0 0 1 .747.825l-.373 3.724a.5.5 0 0 1-.497.45h-.596a.5.5 0 0 1-.497-.45l-.373-3.724A.75.75 0 0 1 8.08 4Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.038 20.528l.927-11.887h1.526a.4.4 0 0 0 .389-.495l-.285-1.168a.503.503 0 0 0-.485-.388h-2.741l-1.197-2.456A1.996 1.996 0 0 0 13.381 3h-2.764c-.757 0-1.45.439-1.789 1.134L7.632 6.59H4.89c-.229 0-.429.16-.485.388l-.284 1.168a.4.4 0 0 0 .389.495h1.526l.927 11.887c.021.267.238.472.499.472h9.077c.26 0 .478-.205.498-.472zM14.133 6.59H9.867l.612-1.255a.499.499 0 0 1 .447-.284h2.146c.19 0 .363.11.447.284l.613 1.255z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="25" height="25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 10.125a1.5 1.5 0 0 0-1.5 1.5V16.5a1.5 1.5 0 0 0 1.5 1.5h7.5a1.5 1.5 0 0 0 1.5-1.5v-4.875a1.5 1.5 0 0 0-1.5-1.5h-.25v-1.75a3.5 3.5 0 1 0-7 0v1.75h-.25Zm2-1.75a1.75 1.75 0 1 1 3.5 0v1.748h-3.5V8.375Z" fill="#fff"></path></svg>'}),(function(e,t){e.exports='<svg width="25" height="25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="url(#security-lock-b2c-a)"></path><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="url(#security-lock-b2c-b)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 10.125a1.5 1.5 0 0 0-1.5 1.5V16.5a1.5 1.5 0 0 0 1.5 1.5h7.5a1.5 1.5 0 0 0 1.5-1.5v-4.875a1.5 1.5 0 0 0-1.5-1.5h-.25v-1.75a3.5 3.5 0 1 0-7 0v1.75h-.25Zm2-1.75a1.75 1.75 0 1 1 3.5 0v1.748h-3.5V8.375Z" fill="#F7F7FF" fill-opacity=".9"></path><defs><radialGradient id="security-lock-b2c-b" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="matrix(0 23 -24.4584 0 11.931 21.333)"><stop offset=".322" stop-color="#FF7142"></stop><stop offset=".825" stop-color="#FF5525" stop-opacity="0"></stop></radialGradient><linearGradient id="security-lock-b2c-a" x1="0" y1="12.213" x2="23.968" y2="12.213" gradientUnits="userSpaceOnUse"><stop stop-color="#EB1C3F"></stop><stop offset="1" stop-color="#F4248E"></stop></linearGradient></defs></svg>'}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.999 25.667c6.443 0 11.666-5.223 11.666-11.666 0-6.444-5.223-11.667-11.666-11.667-6.444 0-11.667 5.223-11.667 11.667 0 6.443 5.223 11.666 11.667 11.666z" fill="#222"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M17.715 11.938c.001.001-1.651 1.65-1.651 1.65l-.207-.206-.824.824.207.207c.455.455 1.19.458 1.648 0l1.652-1.651a1.163 1.163 0 0 0 0-1.649l-1.652-1.651a1.163 1.163 0 0 0-1.648 0l-1.651 1.651a1.163 1.163 0 0 0 0 1.649l.207.207.206.206-1.651 1.651a.585.585 0 0 0 0 .824c.23.23.597.228.825 0l1.65-1.65.827-.826a.585.585 0 0 0-.001-.824.581.581 0 0 0-.824-.001l-.826.826-.206-.206.824-.825-.206-.207c-.002-.002 1.651-1.65 1.651-1.65.001-.002 1.65 1.651 1.65 1.651zm-5.775 5.775c.001.001 1.65-1.652 1.65-1.652l-.206-.206.824-.824.207.207c.455.455.458 1.19 0 1.649l-1.651 1.651a1.163 1.163 0 0 1-1.649 0l-1.651-1.651a1.163 1.163 0 0 1 0-1.649l1.651-1.651a1.162 1.162 0 0 1 1.649 0l.207.207-.825.824-.207-.206c-.002-.002-1.65 1.651-1.65 1.651-.002.001 1.651 1.65 1.651 1.65z" fill="#fff"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22c-1.148 0-3.418-1.362-5.13-3.34C4.44 15.854 3 11.967 3 7a1 1 0 0 1 .629-.929c3.274-1.31 5.88-2.613 7.816-3.903a1 1 0 0 1 1.11 0c1.935 1.29 4.543 2.594 7.816 3.903A1 1 0 0 1 21 7c0 4.968-1.44 8.855-3.87 11.66C15.419 20.637 13.149 22 12 22Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M11.442 2.406a1.497 1.497 0 0 1 2.116 0L16.95 5.79c.39.39.39 1.03 0 1.42a.996.996 0 0 1-1.41 0l-.466-.466a10.006 10.006 0 0 1-1.407-1.768l-.216-.344-.205.207a10 10 0 0 1 .254 2.24V15a1 1 0 1 1-2 0V7.078a10 10 0 0 1 .254-2.24l-.206-.206-.215.344c-.4.64-.873 1.234-1.407 1.768l-.466.466a.996.996 0 0 1-1.41 0c-.39-.39-.39-1.03 0-1.42l3.392-3.384ZM20.5 11a1 1 0 0 0-1 1v6.077c0 .459-.022.571-.082.684a.363.363 0 0 1-.157.157c-.113.06-.225.082-.684.082H6.423c-.459 0-.571-.022-.684-.082a.363.363 0 0 1-.157-.157c-.06-.113-.082-.225-.082-.684L5.499 12a1 1 0 0 0-2 0v6.077c0 .76.083 1.185.32 1.627.223.42.558.754.977.978.442.236.866.318 1.627.318h12.154c.76 0 1.185-.082 1.627-.318.419-.224.753-.559.977-.978.237-.442.319-.866.319-1.627V12a1 1 0 0 0-1-1Z" clip-rule="evenodd"></path></svg>'}),(function(e,t){e.exports='<svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M24.5 5.834a3.5 3.5 0 0 1-5.605 2.797l-8.431 4.864a3.54 3.54 0 0 1-.025 1.16l8.299 4.842a3.5 3.5 0 1 1-1.176 2.015l-8.3-4.84a3.5 3.5 0 1 1-.03-5.366l8.36-4.671a3.5 3.5 0 1 1 6.908-.8z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.109 2.546C4 2.76 4 3.04 4 3.6V17a1 1 0 1 0 2 0V4.8c0-.28 0-.42.054-.527a.5.5 0 0 1 .219-.218C6.38 4 6.52 4 6.8 4H15a1 1 0 1 0 0-2H5.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437zm4 4C8 6.76 8 7.04 8 7.6v11.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C8.76 21 9.04 21 9.6 21h7.8c.56 0 .84 0 1.054-.109a1 1 0 0 0 .437-.437C19 20.24 19 19.96 19 19.4V7.6c0-.56 0-.84-.109-1.054a1 1 0 0 0-.437-.437C18.24 6 17.96 6 17.4 6H9.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 7.505a1.5 1.5 0 0 1-1.5 1.5h-3a1.5 1.5 0 0 1-1.5-1.5V4.5A1.5 1.5 0 0 1 16.5 3h3A1.5 1.5 0 0 1 21 4.5v3.005zM9 7.5V4.504a1.5 1.5 0 0 0-1.498-1.5l-3-.003A1.5 1.5 0 0 0 3 4.5V7.5A1.5 1.5 0 0 0 4.5 9h3A1.5 1.5 0 0 0 9 7.5zM5 7V5.001l2 .002V7H5zm-.502 8.004l3-.003A1.5 1.5 0 0 1 9 16.5V19.5A1.5 1.5 0 0 1 7.5 21h-3A1.5 1.5 0 0 1 3 19.5v-2.996c0-.828.67-1.5 1.498-1.5zM7 19H5v-1.997l2-.002V19zM19 5v2.005h-2V5h2zm0 11a1 1 0 1 1 2 0v3.5a1.5 1.5 0 0 1-1.498 1.5l-3.5.005a1 1 0 1 1-.003-2L19 19V16zM11 4v7H4a1 1 0 1 0 0 2h8a1 1 0 0 0 1-1V4a1 1 0 1 0-2 0zm2 16a1 1 0 1 1-2 0v-4a1 1 0 1 1 2 0v4zm3-3a1 1 0 0 0 1-1v-3h3a1 1 0 1 0 0-2h-4a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.163 2.819C9 3.139 9 3.559 9 4.4V11H7.803c-.883 0-1.325 0-1.534.176a.75.75 0 0 0-.266.62c.017.274.322.593.931 1.232l4.198 4.401c.302.318.453.476.63.535a.749.749 0 0 0 .476 0c.177-.059.328-.217.63-.535l4.198-4.4c.61-.64.914-.96.93-1.233a.75.75 0 0 0-.265-.62C17.522 11 17.081 11 16.197 11H15V4.4c0-.84 0-1.26-.164-1.581a1.5 1.5 0 0 0-.655-.656C13.861 2 13.441 2 12.6 2h-1.2c-.84 0-1.26 0-1.581.163a1.5 1.5 0 0 0-.656.656ZM5 21a1 1 0 0 0 1 1h12a1 1 0 1 0 0-2H6a1 1 0 0 0-1 1Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 2a1 1 0 0 0-1 1v1.001c-.961.014-1.34.129-1.721.333a2.272 2.272 0 0 0-.945.945C3.116 5.686 3 6.09 3 7.205v10.59c0 1.114.116 1.519.334 1.926.218.407.538.727.945.945.407.218.811.334 1.926.334h11.59c1.114 0 1.519-.116 1.926-.334.407-.218.727-.538.945-.945.218-.407.334-.811.334-1.926V7.205c0-1.115-.116-1.519-.334-1.926a2.272 2.272 0 0 0-.945-.945C19.34 4.13 18.961 4.015 18 4V3a1 1 0 1 0-2 0v1H8V3a1 1 0 0 0-1-1ZM5 9v8.795c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.125c.06.031.073.036.134.048.155.03.422.049.849.049h11.59c.427 0 .694-.019.849-.049a.353.353 0 0 0 .134-.049.275.275 0 0 0 .125-.124.353.353 0 0 0 .048-.134c.03-.155.049-.422.049-.849L19.004 9H5Zm8.75 4a.75.75 0 0 0-.75.75v2.5c0 .414.336.75.75.75h2.5a.75.75 0 0 0 .75-.75v-2.5a.75.75 0 0 0-.75-.75h-2.5Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.75 12.984c2.334 0 4.084-2.49 4.084-5.39C10.834 4.695 9.328 3 6.75 3 4.172 3 2.666 4.695 2.666 7.595c0 2.9 1.75 5.389 4.084 5.389Zm0 8.016C3.274 21 1.104 19.984.24 19.284A.71.71 0 0 1 0 18.696C.001 16.484 2.661 15 6.745 15c4.085 0 6.754 1.484 6.754 3.695a.712.712 0 0 1-.238.59c-.865.7-3.036 1.715-6.51 1.715Zm9.369-1.07c3.165.214 6.22-.27 7.666-1.187a.46.46 0 0 0 .211-.424c0-1.395-2.141-3.134-5.996-3.134-1.357 0-2.869.126-3.765.385 1.158.85 1.884 2.371 1.884 4.36ZM18 13.142c-1.96 0-3.353-2.155-3.353-4.666 0-2.511 1.189-3.979 3.353-3.979s3.351 1.468 3.351 3.98c0 2.51-1.392 4.665-3.351 4.665Z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M15.997 4.404A3 3 0 1 1 18.72 9.75l-.746.38a1 1 0 0 0 .908 1.782l.746-.38a5 5 0 0 0-4.54-8.91 1 1 0 1 0 .908 1.782Zm-4.564 7.203a3 3 0 0 1-.373-3.88A1 1 0 0 0 9.42 6.582a5.001 5.001 0 0 0 .625 6.467 1 1 0 0 0 1.387-1.441Zm1.845 3.971a3 3 0 0 0 0-4.242 1 1 0 0 1 1.415-1.415 5 5 0 0 1 0 7.072l-3.5 3.5a5 5 0 1 1-7.07-7.074l1.672-1.66a1 1 0 1 1 1.41 1.42l-1.67 1.657a3 3 0 1 0 4.243 4.242l3.5-3.5Z" clip-rule="evenodd"></path></svg>'}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classnames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=new Set,i=0,o=e.join(" ").split(" ");i<o.length;i++){var a=o[i];""===a||r.has(a)||(r.add(a),n.length>0&&(n+=" "),n+=a)}return n}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(186)),s=i(n(267)),u=i(n(344)),c=i(n(185)),l=n(28).cn("OnyViewInfo");n(1456);const d=({onClick:e})=>o.default.createElement(a.default,{name:"info",onClick:e,className:l("Icon")}),f={file:"viewonly-tooltip",folder:"viewonly-tooltip-folder",album:"viewonly-tooltip-album",doc:"viewonly-tooltip-doc"},p=(e,t)=>c.default(e,f[t]),h=({lang:e,resourceType:t,deselectClass:n})=>{const[r,i]=o.useState(!1),a=o.useCallback(()=>{i(!0)},[]),s=o.useCallback(()=>{i(!1)},[]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(d,{onClick:a}),o.default.createElement(u.default,{visible:r,onClose:s,cancelButtonText:c.default(e,"close-menu"),zIndexGroupLevel:1,className:n},o.default.createElement("div",{className:l("TouchText")},p(e,t))))};t.default=(({lang:e,resourceType:t,viewOnlyTooltipType:n,isTouch:r,deselectClass:i})=>r?o.default.createElement(h,{lang:e,resourceType:t,viewOnlyTooltipType:n,deselectClass:i}):o.default.createElement(s.default,{tooltipContent:o.default.createElement("div",{className:l("Tooltip")},p(e,n)),direction:"right",hasTail:!0,size:"m"},o.default.createElement(d,null)))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.directions=void 0;var r=n(1);r.__exportStar(n(177),t),r.__exportStar(n(989),t),r.__exportStar(n(744),t),r.__exportStar(n(1429),t),r.__exportStar(n(1431),t),r.__exportStar(n(743),t);var i=n(151);Object.defineProperty(t,"directions",{enumerable:!0,get:function(){return i.directions}})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeClear=void 0;var r=n(3),i=n(177);n(1430),t.withThemeClear=r.withBemMod(i.cnPopup(),{theme:"clear"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeNormal=void 0;var r=n(3),i=n(177);n(1432),t.withThemeNormal=r.withBemMod(i.cnPopup(),{theme:"normal"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxClose=void 0;var r=n(1).__importDefault(n(0)),i=n(321);n(1434);t.MessageBoxClose=function(e){var t=e.closeText,n=void 0===t?"Закрыть":t,o=e.onClick;return r.default.createElement("button",{className:i.cnMessageBox("Close"),onClick:o,type:"button","aria-label":n},r.default.createElement("svg",{viewBox:"0 0 16 16"},r.default.createElement("path",{fill:"currentColor",d:"M8 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zM4.995 3.934L8 6.94l3.005-3.005 1.06 1.061L9.06 8l3.006 3.005-1.061 1.06L8 9.062l-3.005 3.005-1.06-1.061L6.938 8 3.934 4.995l1.06-1.06z"})))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxButtons=void 0;var r=n(1).__importDefault(n(0)),i=n(321);n(1436);t.MessageBoxButtons=function(e){var t=e.children;return r.default.createElement("div",{className:i.cnMessageBox("Buttons")},t)}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxTail=void 0;var r=n(1).__importDefault(n(0)),i=n(321);n(1438);t.MessageBoxTail=function(e){var t=e.innerRef,n=e.tailType;return r.default.createElement("div",{ref:t,className:i.cnMessageBox("Tail")},"default"===n?r.default.createElement("svg",{viewBox:"0 0 20 20"},r.default.createElement("path",{fill:"currentColor",d:"M20 20H0c5 0 7.949-3.872 10-9 2.051 5.128 5 9 10 9z"})):r.default.createElement("svg",{viewBox:"0 0 24 24"},r.default.createElement("path",{fill:"currentColor",d:"M12 16c3 0 6 8 12 8H0c6 0 9-8 12-8z"})))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxCorner=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(321);n(1441);var a={"bottom-left":function(e,t){return{left:-Math.floor(e/3),bottom:-Math.floor(t/3)}},"bottom-right":function(e,t){return{right:-Math.floor(e/3),bottom:-Math.floor(t/3)}},"top-left":function(e,t){return{left:-Math.floor(e/3),top:-Math.floor(t/3)}},"top-right":function(e,t){return{right:-Math.floor(e/3),top:-Math.floor(t/3)}}};t.MessageBoxCorner=function(e){var t=e.children,n=e.side,s=e.width,u=e.height;u||(u=s);var c=r.__assign({width:s,height:u},a[n](s,u));return i.default.createElement("span",{className:o.cnMessageBox("Corner"),style:c},t)}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxTextWrap=void 0;var r=n(1).__importDefault(n(0)),i=n(321);n(1443);t.MessageBoxTextWrap=function(e){var t=e.className,n=e.align,o=void 0===n?"left":n,a=e.children,s=e.leading,u=e.trailing;return r.default.createElement("div",{className:i.cnMessageBox("TextWrap",{align:o},[t])},s&&r.default.createElement("div",{className:i.cnMessageBox("TextLeft")},s),a&&r.default.createElement("div",{className:i.cnMessageBox("Text")},a),u&&r.default.createElement("div",{className:i.cnMessageBox("TextRight")},u))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1131),o=n(745),a=r.compose(i.withThemeNormal,o.withZIndex)(i.Modal);t.default=a}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1127);n(1453);const o=r.compose(i.withViewDefault)(i.Drawer);t.default=o}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(185)),a=i(n(0)),s=r(n(186)),u=r(n(267)),c=r(n(538)),l=r(n(994)),d=r(n(748)),f=n(28);n(1467);const p=r(n(749)),h=f.cn("OrganizationScope");t.default=(({lang:e,resourcePath:t,chooseTariffLink:n,hasFeature:r=!1,pddOrgId:i,dialogVisible:f,externalOrganizationId:m,setLinkSettings:v,onChangeSecuritySettings:g,countMetrikaFn:y,isSmartphone:b=!1,isB2b:_=!1})=>{const O=a.useMemo(()=>parseInt(i,10),[i]),E=a.useRef(null),w=a.useRef(null),[S,C]=a.useState(!1),[x,T]=a.useState(m===O),[P,k]=a.useState(!1),[j,R]=a.useState(r||x),I=a.useCallback(()=>{r||S||j||(C(!0),y("stub tooltip","show"))},[r,j,S,C,y]),A=a.useCallback(()=>{C(!1),y("stub tooltip","hide")},[C,y]),D=a.useCallback(()=>{const e=x,n=x?"off":"on",i=x?null:O,o=null===i&&!r;y("restrict  organization",n);const a=v({path:t,external_organization_id:i}).catch(t=>{throw y("restrict  organization",n,"failed"),T(e),o&&k(!1),t});T(null!==i),o&&k(!0),null===g||void 0===g||g("external_organization_id",i,a)},[x,O,t,r,k,g,T,v,y]),M=a.useCallback(()=>{y("choose tariff click")},[y]);a.useEffect(()=>{T(m===O)},[m,O,T]),a.useEffect(()=>{f&&(k(!1),R(r||x))},[f,R,k]);const N=b?a.default.createElement(d.default,{visible:S,isB2b:_,onClose:A,onSubmtiClick:M,chooseTariffLink:n,lang:e}):a.default.createElement(l.default,{lang:e,anchor:w,visible:S,containerRef:E,chooseTariffLink:n,onGoToTariffs:M,onClose:A,isB2b:!0});return a.default.createElement("div",{className:h({Stub:!j,Disabled:P}),onClick:I,ref:E},a.default.createElement("div",{className:h("IconContainer")},a.default.createElement(s.default,{name:"group",className:h("Icon")})),a.default.createElement("div",{className:h("Text")},o.default(e,"available-to-organization-only-label")),j?a.default.createElement(a.default.Fragment,null,a.default.createElement(p.default,{hasFeature:r}),a.default.createElement(u.default,{tooltipContent:a.default.createElement("div",{className:h("TooltipContent")},o.default(e,"available-to-organization-only")),disabled:P||b,className:h("Controls",{WithoutFeature:!r}),direction:"right",size:"m",hasTail:!0},a.default.createElement(c.default,{size:"m",view:"default",checked:x,disabled:P,onChange:D}))):a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:h("Controls")},a.default.createElement(s.default,{ref:w,name:"securityLockB2b",className:h("NoFeatureIcon",{Black:S})})),N))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(123)),s=i(n(186)),u=i(n(185)),c=i(n(572)),l=i(n(1471)),d=n(28).cn("ShareDialogButtons");n(1472);const f=e=>()=>o.default.createElement(s.default,{name:e,className:d("Icon")}),p={file:{subject:"share-file-link-subject",body:{disabled:"share-file-link-body",all:"share-link-body-edit"}},folder:{subject:"share-folder-link-subject",body:"share-folder-link-body"},album:{subject:"share-album-link-subject",body:"share-album-link-body"}};t.default=(({lang:e,visible:t,url:n,onCopyLinkClick:r,isOverdraft:i,blockActionOverdraft:h,onClickQR:m,mailOrigin:v,resourceTitle:g,resourceType:y,officeAccessType:b,isTouch:_,isAndroid:O,countMetrikaFn:E,shouldRenderRemoveLink:w,onDeleteConfirmOpen:S})=>{const[C,x]=o.useState(!1);o.useEffect(()=>{t&&(i||c.default.copy(n))},[t,n,i]);const T=o.useCallback(()=>{const e=c.default.copy(n);r&&r(e),e&&(x(!0),setTimeout(()=>{x(!1)},2e3)),E("copyToClipboard")},[n,r,E]),P=p[y],k=u.default(e,P.subject,{title:g}),j=u.default(e,"object"==typeof P.body?P.body[b]:P.body,{title:g}),R=o.useCallback(()=>{h&&h()||(l.default.shareViaMail(n,v,k,j),E("socialShare","mail"))},[n,v,k,j,E,h]),I=o.useMemo(()=>C?u.default(e,w?"copy-short-success":"copy-success"):u.default(e,w?"copy-short":"copy-link"),[C,w,e]),A=o.useMemo(()=>e=>o.default.createElement(s.default,{name:C?"check":"copy",className:d("CopyIcon",[e])}),[C]),D=o.useCallback(()=>{navigator.share({url:n,title:k,text:j})},[n,k,j]),M={className:d("Button"),view:"pseudo",size:"xl"};let N=null;_?"undefined"!=typeof navigator&&"function"==typeof navigator.share&&(N=o.default.createElement(a.default,Object.assign({},M,{icon:f(O?"androidShare":"touchShare"),onClick:D}))):N=o.default.createElement(o.default.Fragment,null,o.default.createElement(a.default,Object.assign({},M,{"aria-label":u.default(e,"share-mail"),icon:f("mail"),onClick:R})),o.default.createElement(a.default,Object.assign({},M,{"aria-label":u.default(e,"share-qr"),icon:f("qr"),onClick:m})));return o.default.createElement("div",{className:d()},o.default.createElement(a.default,{className:d("CopyButton",{removeLink:w&&!_}),view:C?"pseudo":"action",size:"xl",width:w&&!_?void 0:"max",iconLeft:A,onClick:T},I),N,w&&o.default.createElement(a.default,Object.assign({},M,{className:d("RemoveLinkButton",{touch:_},[M.className]),"aria-label":u.default(e,"trash-tooltip"),icon:f("brokenChain"),onClick:S})))})}),(function(e,t,n){"use strict";n.r(t);var r={mail:{width:1e3,height:600},vkontakte:{width:550,height:420},twitter:{width:650,height:520},odnoklassniki:{width:560,height:370},facebook:{width:800,height:500},moimir:{width:560,height:400},gplus:{width:560,height:370}};function i(e){var t=r[e],n="";return t&&(n="scrollbars=1,resizable=1,menubar=0,toolbar=0,status=0",n+=",left="+(screen.width-t.width)/2,n+=",top="+(screen.height-t.height)/2,n+=",width="+t.width,n+=",height="+t.height),n}t.default={shareViaSocial:function(e,t,n){var r=(function(e,t,n){e=encodeURIComponent(e);var r=n?"&amp;title="+encodeURIComponent(n):"";return"http://share.yandex.ru/go.xml?service=".concat(t,"&amp;url=").concat(e).concat(r)})(e,t,n);return window.open(r,"_blank",i(t))},shareViaMail:function(e,t,n,r,o){var a=(function(e,t,n,r,i){n=encodeURIComponent(n),r=encodeURIComponent(r+" - "+e);var o=i&&"0"!==i?"&uid="+i:"";return"".concat(t,"/compose?mode=html&body=").concat(r,"&subject=").concat(n).concat(o)})(e,t,n,r,o);return window.open(a,"_blank",i("mail"))}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(186)),s=i(n(538)),u=r(n(984)),c=i(n(996)),l=i(n(1548)),d=i(n(267)),f=i(n(994)),p=i(n(185)),h=i(n(748)),m=n(28);n(1606);const v=i(n(749)),g=m.cn("SecuritySettings");t.default=(({lang:e,hasFeature:t,isB2b:n,chooseTariffLink:r,resourcePath:i,resourceMediaType:m,readOnlyValue:y,externalOrganizationIds:b,availableUntilValue:_,havePasswordValue:O,setLinkSettings:E,onChangeSecuritySettings:w,officeAccessType:S,isDialogVisible:C,countMetrikaFn:x,deselectClass:T,isSmartphone:P=!1,isAndroid:k=!1,datePickerScope:j})=>{const R=o.useRef(null),I=o.useRef(null),A=o.useRef(null),[D,M]=o.useState(!1),N=o.useCallback((...e)=>x("security settings",...e),[x]),L=o.useCallback(()=>{D||(N("tooltip","show"),M(!0))},[D,M,N]),F=o.useCallback(()=>{N("tooltip","hide"),M(!1)},[N,M]),B=o.useCallback(()=>{const e=!y,t=E({path:i,read_only:e}).catch(e=>{throw N("save error"),e});null===w||void 0===w||w("read_only",e,t),N("forbid download",e?"on":"off")},[E,i,y,w,N]),U=o.useCallback(e=>{const t=e?Number(e)/1e3:null;if(t&&Number(e)<=Date.now())return void(null===w||void 0===w||w("available_until",t,Promise.reject()));const n=E({path:i,available_until:t});null===w||void 0===w||w("available_until",t,n)},[i,E,w]),[z,V]=o.useState(!1);o.useEffect(()=>{if(C&&!t){const e=y||Boolean(_)||O;V(e)}},[C,t]),o.useEffect(()=>{C&&N("show",t?"available":z?"only disable":"no feature")},[C,N,t,z]);const H=o.useCallback(()=>{N("choose tariff click")},[N]),W="audio"===m,$="all"===S||!t&&!y||W,G=!t&&!_,q="all"===S||!t&&!O;let Y;W?Y=p.default(e,"forbid-download-audio-disabled-tooltip"):"all"===S?Y=p.default(e,"forbid-download-disabled-tooltip"):$||(Y=p.default(e,"forbid-download-tooltip"));const K=Boolean(Y)&&!P,J=t||z,Z=P?o.default.createElement(h.default,{visible:D,isB2b:n,onClose:F,onSubmtiClick:H,chooseTariffLink:r,lang:e}):o.default.createElement(f.default,{isB2b:n,lang:e,anchor:I,visible:D,containerRef:A,chooseTariffLink:r,onGoToTariffs:H,onClose:F});return o.default.createElement("div",{ref:R,className:g({stub:!J})},J?o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,{className:g("Row",{disabled:q}),iconClassName:g("Icon"),textClassName:g("Text"),rightClassName:g("Right",{WithoutFeature:!t}),havePassword:O,lang:e,hasFeature:t,resourcePath:i,officeAccessType:S,isDialogVisible:C,setLinkSettings:E,onChangeSecuritySettings:w,countSecuritySettings:N,isSmartphone:P,deselectClass:T}),o.default.createElement("div",{className:g("Row",{disabled:$})},o.default.createElement(a.default,{name:"download",className:g("Icon")}),o.default.createElement("span",{className:g("Text")},p.default(e,"forbid-download")),o.default.createElement(v.default,{hasFeature:t}),o.default.createElement("div",{className:g("Right",{WithoutFeature:!t})},o.default.createElement(d.default,{tooltipContent:K?Y:null,direction:"right",hasTail:!0,size:"m",messageBoxClassName:g("ForbidDownloadTooltip"),disabled:P,align:"left",dataTest:"forbid-download-tooltip"},o.default.createElement(s.default,{size:"m",view:"default",checked:y,onChange:B,disabled:$,className:g("ForbidDownloadTumbler"),labelAfter:p.default(e,"forbid-download")})))),o.default.createElement("div",{className:g("Row",{disabled:G})},o.default.createElement(a.default,{name:"calendar",className:g("Icon")}),o.default.createElement("span",{className:g("Text")},p.default(e,"link-expire")),o.default.createElement("div",{className:g("Right")},o.default.createElement(c.default,{lang:e,availableUntilDate:_?new Date(1e3*_):null,onChange:U,disabled:G,hasFeature:t,readOnlyValue:y,externalOrganizationId:null===b||void 0===b?void 0:b[0],deselectClass:T,countSecuritySettings:N,isSmartphone:P,scope:j,isAndroid:k})))):o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{onClick:L,ref:A},o.default.createElement(u.default,{lang:e,stubType:u.AccessStubType.SecurityWithPassword,addonAfter:o.default.createElement(a.default,{ref:I,className:g("StubIcon",{Black:D}),name:n?"securityLockB2b":"securityLockB2c"})})),Z))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuGroup=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(31),a=n(382);t.MenuGroup=function(e){var t=e.children,n=e.className,s=e.title,u=r.__rest(e,["children","className","title"]),c=o.useComponentRegistry(a.cnMenu()).Title;return i.default.createElement("div",r.__assign({},u,{role:"group",className:a.cnMenu("Group",null,[n])}),s&&i.default.createElement(c,null,s),t)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItem=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(31),a=n(382),s=n(1489);t.MenuItem=function(e){var t=e.needIconGlyph,n=e.children,u=e.innerRef,c=(e.value,r.__rest(e,["needIconGlyph","children","innerRef","value"])),l=o.useComponentRegistry(a.cnMenu()),d=l.Text,f=l.Icon,p=s.useMenuItem(c);return i.default.createElement("div",r.__assign({ref:u},p),t&&i.default.createElement(f,{glyph:"type-check"}),i.default.createElement(d,null,n))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMenuItem=void 0;var r=n(1),i=n(0),o=n(382);t.useMenuItem=function(e){var t=e.checked,n=e.className,a=e.disabled,s=e.hovered,u=e.type,c=void 0===u?"menuitem":u,l=e.id,d=e.index,f=e.onClick,p=e.onMouseEnter,h=e.onMouseLeave,m=r.__rest(e,["checked","className","disabled","hovered","type","id","index","onClick","onMouseEnter","onMouseLeave"]),v=i.useCallback((function(e){f&&f(e,d)}),[d,f]),g=i.useCallback((function(e){p&&p(e,d)}),[d,p]),y=i.useCallback((function(e){h&&h(e,d)}),[d,h]);return r.__assign(r.__assign({},m),{"aria-selected":t,"aria-disabled":a,id:l,role:c,className:o.cnMenu("Item",{checked:t,disabled:a,hovered:s,type:c},[n]),onClick:v,onMouseEnter:g,onMouseLeave:y})}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuText=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(382);t.MenuText=function(e){var t=e.children,n=e.className,a=r.__rest(e,["children","className"]);return i.default.createElement("span",r.__assign({},a,{className:o.cnMenu("Text",null,[n])}),t)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuTitle=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(382);t.MenuTitle=function(e){var t=e.children,n=e.className,a=r.__rest(e,["children","className"]);return i.default.createElement("div",r.__assign({},a,{"aria-hidden":!0,className:o.cnMenu("Title",null,[n])}),t)}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withGlyphTypeCheck=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(3),a=n(383);n(999),n(1494),t.withGlyphTypeCheck=o.withBemMod(a.cnIcon(),{glyph:"type-check"},(function(e){return function(t){var n=t.className,o=r.__rest(t,["className"]);return i.default.createElement(e,r.__assign({},o,{className:a.cnIcon({hasGlyph:!0},[n])}),i.default.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"10"},i.default.createElement("path",{d:"M7.207 7.506L3.629 3.81 2.343 4.939l4.841 5.002 8.462-8.428L14.382.362z"})))}}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",d:"m8 9.582 4.793-4.79a1 1 0 0 1 1.414 1.415l-5.5 5.497a1 1 0 0 1-1.414 0l-5.5-5.497a1 1 0 0 1 1.414-1.414z"})));t.default=o}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1513),s=n(2392),u=n(2413),c=i(n(1545)),l=i(n(539)),d=i(n(123)),f=n(28).cn("DateTimePickerPopup");n(1546);const p={hour:"2-digit",minute:"2-digit"};t.default=(({lang:e,visible:t,onChoose:n,onClose:r,approveI18n:i,defaultDateTime:h,minDate:m,anchor:v,direction:g,mainOffset:y,scope:b})=>{const[_,O]=o.useState(new Date);o.useEffect(()=>{if(t){const e=h||new Date;e.setSeconds(0),e.setMilliseconds(0),O(e)}},[t,h]);const E=o.useCallback(()=>{n(_)},[_,n]),w=o.useCallback(({value:e})=>{const t=new Date(e);t.setHours(_.getHours()),t.setMinutes(_.getMinutes()),O(t)},[_]),S=o.useCallback(({value:e})=>{const t=new Date(_);t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),O(t)},[_]),C=o.useRef(),[x,T]=o.useState(t);return o.useEffect(()=>{t?(C.current&&clearTimeout(C.current),T(!0)):C.current=setTimeout(()=>{T(!1)},500)},[t]),o.default.createElement(l.default,{view:"default",visible:t,onClose:r,className:f(),target:"anchor",anchor:v,direction:g,mainOffset:y,scope:b},x&&o.default.createElement(u.Provider,{locale:e},o.default.createElement(a.Calendar,{view:"default",size:"s",autoFocus:!0,showOutsideDays:!0,showDaysOfWeek:!0,showWeekNumbers:!0,min:m,value:_,defaultFocusedDate:_,onChange:w})),o.default.createElement("div",{className:f("Row")},o.default.createElement("div",{className:f("Column")},o.default.createElement(s.DateTimeField,{view:"default",size:"s",addonAfter:o.default.createElement("div",{className:f("ClockIcon"),dangerouslySetInnerHTML:{__html:c.default}}),formatOptions:p,value:_,onChange:S,className:f("TimeField")})),o.default.createElement("div",{className:f("Column")},o.default.createElement(d.default,{onClick:E,size:"s",view:"action",width:"max"},i))))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeCalendar=t.MultipleCalendar=t.Calendar=void 0;var r=n(1),i=n(3),o=n(1125);r.__exportStar(n(1125),t);var a=i.compose(i.composeU(o.withViewBrand,o.withViewDefault),i.composeU(o.withSizeS,o.withSizeM,o.withSizeL));t.Calendar=a(o.Calendar),t.MultipleCalendar=a(o.MultipleCalendar),t.RangeCalendar=a(o.RangeCalendar)}),(function(e,t,n){"use strict";n.r(t)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 12a9.5 9.5 0 1 1 19 0 9.5 9.5 0 0 1-19 0zM12 .5C5.649.5.5 5.649.5 12S5.649 23.5 12 23.5 23.5 18.351 23.5 12 18.351.5 12 .5zM11 7a1 1 0 1 1 2 0v5h4a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1V7z" fill="currentColor"></path></svg>'}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(267)),s=i(n(344)),u=i(n(538)),c=i(n(1007)),l=i(n(123)),d=i(n(186)),f=i(n(185)),p=n(1030),h=i(n(749)),m=n(28).cn("PasswordField");n(1605);const v=e=>o.default.createElement(d.default,{name:"penSmallGrey",className:e});t.default=(({className:e,iconClassName:t,textClassName:n,rightClassName:r,havePassword:i,lang:g,hasFeature:y,resourcePath:b,officeAccessType:_,isDialogVisible:O,setLinkSettings:E,onChangeSecuritySettings:w,countSecuritySettings:S,isSmartphone:C=!1,deselectClass:x})=>{const[T,P]=o.useState(!1),[k,j]=o.useState(""),[R,I]=o.useState(!1),[A,D]=o.useState(!1);o.useEffect(()=>{(O||"all"===_)&&(P(!1),j(""),I(!1),D(!1))},[O,_]);const M=o.useCallback((...e)=>{S("password",...e)},[S]),N=o.useCallback(e=>{D(!1),I(!0);const t=E({path:b,password:e||null}).then(e=>(I(!1),P(!1),j(""),e)).catch(e=>{throw M("save error"),I(!1),D(!0),e});null===w||void 0===w||w("have_password",Boolean(e),t),M(e?"set":"remove")},[M,w,b,E]),L=o.useCallback(()=>{i?N(""):(P(!0),M("open"))},[i,N,M]),F=o.useCallback(()=>{P(!0),M("edit")},[M]),B=o.useCallback(()=>{N(k)},[k,N]),U=o.useCallback(()=>P(!1),[]),z=o.useMemo(()=>p.checkPasswordForSymbols(k),[k]),V=o.useCallback(e=>{j(e.target.value),D(!1)},[]),H=k.length<4||!z,W=o.useCallback(e=>{13!==e.keyCode||H||B()},[H,B]),$=m("InputWrap",[n]),G=m("Right",[r]);if(T){let n,r=f.default(g,"password-remember");return z?A&&(n=r=f.default(g,"smth-wrong")):n=r=f.default(g,"password-only-latin-letters-and-digits"),o.default.createElement("div",{className:e},o.default.createElement(s.default,{title:f.default(g,"input-password"),visible:C&&T,onClose:U,submitButtonText:f.default(g,"save"),submitButtonProps:{className:m("TouchSaveButton"),disabled:H,progress:R},onSubmit:B,zIndexGroupLevel:1,className:x},f.default(g,"password-remember"),o.default.createElement(c.default,{view:"default",size:"m",placeholder:f.default(g,"password-min-len"),value:k,className:m("TouchInput"),onChange:V,maxLength:256,state:!z||A?"error":void 0,hint:n,autoFocus:!0,onKeyDown:W})),o.default.createElement(d.default,{name:"shield",className:m("Icon",{withField:!0},[t])}),o.default.createElement("span",{className:$},o.default.createElement(c.default,{view:"default",size:"m",placeholder:f.default(g,"password-min-len"),value:k,className:m("Input"),onChange:V,maxLength:256,state:!z||A?"error":void 0,hint:r,autoFocus:!0,onKeyDown:W})),o.default.createElement("div",{className:G},o.default.createElement(l.default,{size:"m",view:"raised",onClick:B,disabled:H,progress:R,className:m("ApplyButton")},f.default(g,"done"))))}let q,Y=!1;return"all"===_?(q=f.default(g,"password-disabled-tooltip"),Y=!0):y||i?q=f.default(g,"password-tooltip"):Y=!0,o.default.createElement("div",{className:e},o.default.createElement(d.default,{name:"shield",className:m("Icon",[t])}),o.default.createElement("span",{className:$},i?o.default.createElement(o.default.Fragment,null,f.default(g,"password-set"),y?o.default.createElement(l.default,{size:"s",view:"clear",onClick:F,icon:v,className:m("EditButton"),title:f.default(g,"password-edit-title")}):null):f.default(g,"password-title")),o.default.createElement(h.default,{hasFeature:y}),o.default.createElement("div",{className:G},o.default.createElement(a.default,{tooltipContent:q||null,direction:"right",hasTail:!0,size:"m",messageBoxClassName:m("Tooltip"),disabled:C,align:"left",dataTest:"password-tooltip"},o.default.createElement(u.default,{size:"m",view:"default",checked:i,onChange:L,disabled:Y,className:m("Tumbler")}))))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(182);n(1604),t.withViewShareMenu=r.withBemMod(i.cnTextinput(),{view:"share-menu"})}),(function(e,t,n){"use strict";n(1551)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextinputControl=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(93);n(1554);t.TextinputControl=function(e){var t=e.autoComplete,n=void 0===t?"off":t,a=e.autoFocus,s=e.className,u=e.controlRef,c=e.defaultValue,l=e.disabled,d=e.id,f=e.inputMode,p=e.max,h=e.maxLength,m=e.min,v=e.name,g=e.onBlur,y=e.onChange,b=e.onFocus,_=e.onKeyDown,O=e.onKeyPress,E=e.onKeyUp,w=e.pattern,S=e.placeholder,C=e.readOnly,x=e.required,T=e.tabIndex,P=e.type,k=e.value,j=r.__rest(e,["autoComplete","autoFocus","className","controlRef","defaultValue","disabled","id","inputMode","max","maxLength","min","name","onBlur","onChange","onFocus","onKeyDown","onKeyPress","onKeyUp","pattern","placeholder","readOnly","required","tabIndex","type","value"]);return i.default.createElement("input",r.__assign({},j,{autoComplete:n,autoFocus:a,className:o.cnTextinput("Control",null,[s]),defaultValue:c,disabled:l,id:d,inputMode:f,max:p,maxLength:h,min:m,name:v,onBlur:g,onChange:y,onFocus:b,onKeyDown:_,onKeyPress:O,onKeyUp:E,pattern:w,placeholder:S,readOnly:C,ref:u,required:x,tabIndex:T,type:P,value:k}))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextinputBox=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(93);n(1556);t.TextinputBox=function(e){var t=e.className,n=r.__rest(e,["className"]);return i.default.createElement("span",r.__assign({},n,{className:o.cnTextinput("Box",null,[t])}))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextinputIcon=void 0;var r=n(1),i=n(0),o=n(93);n(1558),n(1559),n(1560);t.TextinputIcon=function(e){var t=e.component,n=e.side,a=r.__rest(e,["component","side"]);return i.cloneElement(t,r.__assign(r.__assign({},a),{className:o.cnTextinput("Icon",{side:n},[t.props.className])}))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextinputHint=void 0;var r=n(1).__importDefault(n(0)),i=n(93);n(1562);t.TextinputHint=function(e){var t=e.leave,n=e.onAnimationEnd,o=e.children,a=e.id;return r.default.createElement("span",{className:i.cnTextinput("Hint",{leave:t}),onAnimationEnd:n,id:a},o)}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withAutoFocus=void 0;var r=n(1),i=r.__importStar(n(0)),o=n(734),a=n(219);t.withAutoFocus=function(e){var t;return(t=(function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlRef=i.createRef(),e}return r.__extends(n,t),n.prototype.componentDidUpdate=function(e){null!==this.controlRef.current&&this.props.focused!==e.focused&&(this.props.focused?this.controlRef.current.focus():this.controlRef.current.blur())},n.prototype.render=function(){var t=this.props.controlRef,n=void 0===t?null:t;return i.default.createElement(e,r.__assign({},this.props,{controlRef:a.mergeAllRefs(this.controlRef,n)}))},n})(i.PureComponent)).displayName="withAutoFocus("+o.getDisplayName(e)+")",t}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textinputRegistry=void 0;var r=n(1566),i=n(540);t.textinputRegistry=i.textinputRegistry.set("Clear",r.TextinputClear)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextinputClear=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(31),a=n(3),s=n(383),u=n(1567),c=n(1569),l=n(1571),d=n(93);n(1573);var f=a.compose(l.withGlyphXSign,a.composeU(u.withTypeCross,c.withTypeCrossWebsearch))(s.Icon);t.TextinputClear=function(e){var t=e.visible,n=e.className,a=e.theme,s=e.view,u=e.icon,c=r.__rest(e,["visible","className","theme","view","icon"]),l=o.useComponentRegistry(d.cnTextinput()).Icon,p={className:d.cnTextinput("Clear",{visible:t},[n])},h=u?i.default.cloneElement(u,p):i.default.createElement(f,r.__assign({},(function(e,t){return"default"===t?{glyph:"x-sign"}:"websearch"===e?{type:"cross-websearch"}:{type:"cross"}})(a,s),p));return i.default.createElement(l,r.__assign({},c,{component:h}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTypeCross=void 0;var r=n(3),i=n(383);n(1568),t.withTypeCross=r.withBemMod(i.cnIcon(),{type:"cross"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTypeCrossWebsearch=void 0;var r=n(3),i=n(383);n(1570),t.withTypeCrossWebsearch=r.withBemMod(i.cnIcon(),{type:"cross-websearch"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withGlyphXSign=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(3),a=n(383);n(999),n(1572),t.withGlyphXSign=o.withBemMod(a.cnIcon(),{glyph:"x-sign"},(function(e){return function(t){var n=t.className,o=r.__rest(t,["className"]);return i.default.createElement(e,r.__assign({},o,{className:a.cnIcon({hasGlyph:!0},[n])}),i.default.createElement("svg",{viewBox:"0 0 20 20"},i.default.createElement("path",{focusable:"false",width:"0",height:"0",d:"M10,20 C4.5,20 0,15.5 0,10 C0,4.5 4.5,0 10,0 C15.5,0 20,4.5 20,10 C20,15.5 15.5,20 10,20 L10,20 L10,20 L10,20 Z M15,6.4 L13.6,5 L10,8.6 L6.4,5 L5,6.4 L8.6,10 L5,13.6 L6.4,15 L10,11.4 L13.6,15 L15,13.6 L11.4,10 L15,6.4 L15,6.4 L15,6.4 L15,6.4 Z"})))}}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeNormal=void 0;var r=n(3),i=n(93);n(1587),t.withThemeNormal=r.withBemMod(i.cnTextinput(),{theme:"normal"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withThemeWebsearch=void 0;var r=n(3),i=n(93);n(1590),t.withThemeWebsearch=r.withBemMod(i.cnTextinput(),{theme:"websearch"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n(1593)}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewDefault=void 0;var r=n(3),i=n(93);n(1595),t.withViewDefault=r.withBemMod(i.cnTextinput(),{view:"default"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n(1598)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewMaterial=void 0;var r=n(1),i=n(3),o=r.__importStar(n(0)),a=n(93),s=n(733),u=n(1601);n(1602),t.withViewMaterial=i.withBemMod(a.cnTextinput(),{view:"material"},(function(e){return s.withControl((function(t){var n=t.hint,i=t.onChange,s=t.className,c=t.label,l=t.variant,d=t.focused,f=t.addonBefore,p=r.__rest(t,["hint","onChange","className","label","variant","focused","addonBefore"]),h=p.defaultValue,m=p.view,v=p.state,g=r.__read(o.useState(h),2),y=g[0],b=g[1],_=Boolean(p.value)||Boolean(y)||d,O=Boolean(c);return o.default.createElement(o.default.Fragment,null,o.default.createElement(e,r.__assign({className:a.cnTextinput({variant:l},[s]),addonBefore:o.default.createElement(o.default.Fragment,null,f,O&&o.default.createElement(u.Label,{floated:_},c)),onChange:function(e){b(e.target.value),"function"==typeof i&&i(e)}},p)),n&&o.default.createElement("div",{className:a.cnTextinput("Hint",{view:m,state:v,variant:l})},n))}))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Label=void 0;var r=n(1),i=r.__importDefault(n(0)),o=n(93);t.Label=function(e){var t=e.floated,n=e.className,a=r.__rest(e,["floated","className"]);return i.default.createElement("label",r.__assign({className:o.cnTextinput("Label",{floated:t},[n])},a))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r=(function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=(function(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}})(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,o,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(k([])));O&&O!==n&&r.call(O,o)&&(b=O);var E=y.prototype=v.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){var n;this._invoke=function(i,o){function a(){return new t(function(n,a){!(function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)})(i,o,n,a)})}return n=n?n.then(a,a):a()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:j}}function j(){return{value:t,done:!0}}return g.prototype=y,u(E,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(E),u(E,s,"Generator"),u(E,o,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e})(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}),(function(e,t){ns.Model.define("do-get-user-info")}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])})(n(1611))}),(function(e,t,n){"use strict";n.r(t),n.d(t,"openDatabase",(function(){return l})),n.d(t,"closeDatabase",(function(){return d})),n.d(t,"processRecord",(function(){return f})),n.d(t,"removeCacheApiPromise",(function(){return h}));var r=n(1146),i=n.n(r),o=4980736,a={},s=function(e){var t=e.databaseId,n=e.collectionId,r=void 0===n?"":n,i=e.context,o=void 0===i?"app":i;return"".concat(t,"_").concat(r,"_").concat(o)},u=function(e){return function(t){return"function"==typeof e?t.on("update",(function(){return e(t)})):t}},c=function(e){return function(t){throw delete a[e],t}};function l(e){var t=s(e),n=e.apiHost,r=e.databaseId,l=e.collectionId,d=void 0===l?"":l,f=e.context,h=void 0===f?"app":f,m=e.headers,v=e.token,g=e.scriptUrl,y=e.loadScriptCallback,b=e.withCredentials,_=void 0===b||b,O=e.useClientStorage,E=void 0!==O&&O,w=e.onUpdate,S=e.session;if(a[t])return a[t].then(u(w));var C={context:h,database_id:r,collection_id:d,with_credentials:_,use_client_storage:E,headers:m,token:v};return a[t]=(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://yastatic.net/s3/liza/data-sync/cloud-data-sync-api.min.js",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(p)return p;return p=new Promise(function(e,r){var o=window.ya;if(o&&o.cloud&&o.cloud.dataSyncApi)return e(o.cloud.dataSyncApi);i()(t,(function(t){t?(p=null,r({error:"Cannot load script"})):(n&&n(),e(window.ya.cloud.dataSyncApi))}))}).then((function(t){return new Promise(function(n){window.ya.modules.require(["cloud.dataSyncApi.config","localForage","cloud.dataSyncApi.syncEngine.PushEngine","cloud.dataSyncApi.http","component.xhr"],(function(i,a,s,u,c){var l=s.prototype._onPush;s.prototype._onPush=function(e){var t={};try{t=JSON.parse(e.data)}catch(e){}if("ping"===t.operation){var n=1e3*(Number(t["server-interval-sec"])||60)+1e4;this._pingTimer&&clearTimeout(this._pingTimer),this._pingTimer=setTimeout(this.fail.bind(this,"Connection lost"),n)}l.call(this,e)},a.config({size:o/2}),i.apiHost=e,u.subscribe=function(t){var n=e+"v1/data/subscriptions/web?databases_ids="+encodeURIComponent(t.database_ids.join(","));return r&&(n+="&session="+r),c(n,{parse:!0,headers:{},withCredentials:!0})},n(t)}))})}))})(n,g,y,S).then((function(e){return e.openDatabase(C)})).then(u(w)).catch(c(t)),a[t]}function d(e){var t=s(e);if(a[t]){var n=a[t];delete a[t],n.then((function(e){e.close(),e._listeners=[]}))}}function f(e){return e.getFieldIds().reduce((function(t,n){return t[n]=e.getFieldValue(n).valueOf(),t}),{collectionId:e.getCollectionId(),recordId:e.getRecordId()})}var p=null;function h(){p=null}}),(function(e,t){ns.Model.define("do-status-operation",{params:{oid:null},methods:{retryOffline:function(){return!0},shouldRetryFails:function(){return!0}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(18),i=n(15),o=n(19),a=n(154);n(272),n(1614),a.a.define("operationExcludeFromAlbum",{methods:{onStatusCreated:function(){var e=this.get(".idSrc"),t=(Object(o.getResourceData)(Object(r.default)().getState(),e,"meta.albums_exclusions")||[]).concat([this.get(".albumType")]);Object(r.default)().dispatch(Object(i.setResourceData)(e,t,"meta.albums_exclusions")),this.setStatus("started")},onStatusStarted:function(){this.doRequestExcludeFromAlbum()},doRequestExcludeFromAlbum:function(){ns.Model.get("queueRequest").push({isAction:!0,id:"do-exclude-from-album",params:{idResource:this.get(".idSrc"),albumType:this.get(".albumType")}}).always(this.handleResponseExcludeFromAlbum,this)},handleResponseExcludeFromAlbum:function(e){var t=e.valueOf();this.extractErrorFromResponse(t)?(this.checkReasonFailed(t),this.setStatus("failed")):this.setStatus("done")},onStatusDone:function(){this.notify()},onStatusFailed:function(){this.notify();var e=Object(r.default)(),t=Object(o.getResourceData)(e.getState(),this.get(".idSrc"));e.dispatch(Object(i.excludeResourceFromAlbum)([t],this.get(".albumType"),!0))},notify:function(){return this.showNotification({src:Object(o.getResourceData)(Object(r.default)().getState(),this.get(".idSrc")),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status")})}}})}),(function(e,t){ns.Model.define("do-exclude-from-album",{params:{idResource:null,albumType:null}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConfig=void 0;let r=null;t.getConfig=(e=>(r||(r=e.fetchData()),r))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.selectPromo=void 0;const i=n(458),o=n(1032);t.selectPromo=(e=>r(void 0,void 0,void 0,(function*(){const{queue:t,stage:n,logger:r,promos:a,project:s}=e;null===r||void 0===r||r.info(`Запуск проверок промок для стадии ${n}`),e.settingsService?null===r||void 0===r||r.info("Настройки: ",e.settingsService.rawData):null===r||void 0===r||r.info("Настройки не доступны"),null===r||void 0===r||r.info("Legacy promo names: ",e.legacyPromoNames);const u=i.getForcedPromoName(e.customQuery);if(u&&a[u])return null===r||void 0===r||r.info(`Форсированный показ промо ${u}`),a[u];for(const{name:i}of t){const u=a[i];if(null===r||void 0===r||r.info(`Проверяем промо ${i} для стадии ${n}`),!u){null===r||void 0===r||r.info(`Промо ${i} не найдено в конфиге промок`);continue}let c=!1;for(const t of o.CHECKERS)if(c=!(yield t(u,e,r))){u.promo.logYtForced&&(null===r||void 0===r||r.addForcedPromos(i));break}if(!c)return null===r||void 0===r||r.info(`Будет показано промо ${u.promo.name}`),null===r||void 0===r||r.sendToYt({isDisclaimerVisible:u.promo.isDisclaimerVisible,erid:u.promo.erid,candidate:u.promo.name,project:s,queue:t}),u;null===r||void 0===r||r.info(`Промо ${i} не прошло проверки для стадии ${n}`)}null===r||void 0===r||r.info(`Не найдено подходящего промо для показа для стадии ${n}`),null===r||void 0===r||r.sendToYt({project:s,queue:t})})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.anchor=void 0;const i=n(1033);t.anchor=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!("anchor"in e.promo&&e.promo.anchor&&!i.getVisiblePromoAnchorElement(e.promo.anchor)&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`наличие видимого anchor: ${e.promo.anchor}`,expected:!0,actual:!1}),1))})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.billingPromoKey=void 0;const i=n(401);t.billingPromoKey=((e,t,n)=>r(void 0,void 0,void 0,(function*(){if(e.promo.billingPromoKey){if(!t.getBillingData)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Акционное промо ${e.promo.name} присутствует в очереди, но не передан метод общения с биллингом`,expected:"метод с общением биллинга был передан",actual:"метод не был передан"}),!1;try{const r=yield t.getBillingData(),o=r?i.getMostRelevantPromo(r):void 0;if(!o||o.key!==e.promo.billingPromoKey)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"billingPromoKey",expected:e.promo.billingPromoKey,actual:o?o.key:null}),!1}catch(t){return null===n||void 0===n||n.error(t),null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Промо ${e.promo.name} не прошло по условию billingPromoKey из-за ошибки получения данных из биллинга`,expected:"не должно быть ошибки",actual:"была ошибка в работе с биллингом"}),!1}}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.alreadyShownPromos=void 0;t.alreadyShownPromos=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;if(null===(r=e.promo.alreadyShownPromos)||void 0===r?void 0:r.length){const r=t.settingsService;if(!r)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Для промо ${e.promo.name} указано условие alreadyShownPromos, для которого нужен доступ к настройкам датасинка`,expected:"получен датасинк",actual:"нет датасинка"}),!1;const i=e.promo.alreadyShownPromos.filter(e=>Boolean(r.getLastShowTimestampByPromo(e)));if(0===i.length)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"alreadyShownPromos",expected:`Any of [${e.promo.alreadyShownPromos.join()}] should be shown`,actual:"None was shown",additional:[`[${i.join()}] was showed`]}),!1}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.isYandexStaff=void 0;const i=n(754);t.isYandexStaff=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!(e.promo.isYandexStaff&&!i.compareTernary(e.promo.isYandexStaff,t.userInfo.isYandexStaff)&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"isYandexStaff",expected:e.promo.isYandexStaff,actual:t.userInfo.isYandexStaff}),1))})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.legacy=void 0;t.legacy=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;return!(t.onLegacyCheck&&(null===(r=t.legacyPromoNames)||void 0===r?void 0:r.includes(e.promo.name))&&!(yield t.onLegacyCheck(e.promo.name)))||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"onLegacyCheck",expected:!0,actual:!1}),!1)})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.plugin=void 0;t.plugin=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r,i,o,a;return!((null===(i=null===(r=t.plugins)||void 0===r?void 0:r[e.promo.name])||void 0===i?void 0:i.check)&&!(yield null===(a=(o=t.plugins[e.promo.name]).check)||void 0===a?void 0:a.call(o)))||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"plugin.check",expected:!0,actual:!1}),!1)})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.productFamily=void 0;const i=n(401);t.productFamily=((e,t,n)=>r(void 0,void 0,void 0,(function*(){if(e.promo.productFamily){if(!t.getBillingData)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Для промо ${e.promo.name} указан productFamily, но не передан метод getBillingData`,expected:"метод getBillingData был передан",actual:"метод getBillingData не был передан"}),!1;try{const r=yield t.getBillingData();if(!r||!i.hasSpecificProductFamily(r,e.promo.productFamily))return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"productFamily",expected:e.promo.productFamily,actual:r}),!1}catch(t){return null===n||void 0===n||n.error(t),null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Промо ${e.promo.name} не прошло по условию billingPromoKey из-за ошибки получения данных из биллинга`,expected:"данные из getBillingData получены",actual:"произошла ошибка при получении данных"}),!1}}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.promoCodeActivation=void 0;const i=n(401),o=n(223),a=n(458);t.promoCodeActivation=((e,t,n)=>r(void 0,void 0,void 0,(function*(){if(e.promo.promoCodeActivationDays){if(!t.getBillingData)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Акционное промо ${e.promo.name} присутствует в очереди, но не передан метод общения с биллингом`,expected:"метод с общением биллинга был передан",actual:"метод не был передан"}),!1;try{const r=yield t.getBillingData(),s=r?i.getPromoCodeActivation(r):void 0,u=s?t.now-s.date:0,c=e.promo.promoCodeActivationDays*o.DAY;if(!s)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"promoCodeActivationDays",expected:"Данные об активации промокода найдены",actual:"Данные об активации промокода не найдены"}),!1;if("active"!==s.status)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"promoCodeActivationDays",expected:'Статус: "active"',actual:`Статус: "${s.status}"`}),!1;if(u<c)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"promoCodeActivationDays",expected:`Прошло > ${a.humanReadableInterval(c)}`,actual:`Прошло ${a.humanReadableInterval(u)}`}),!1}catch(t){return null===n||void 0===n||n.error(t),null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Промо ${e.promo.name} не прошло по условию promoCodeActivationDays из-за ошибки получения данных из биллинга`,expected:"не должно быть ошибки",actual:"была ошибка в работе с биллингом"}),!1}}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.projectSettings=void 0;const i=n(754);t.projectSettings=((e,t,n)=>r(void 0,void 0,void 0,(function*(){const r=e.promo.projectSettings[t.userInfo.project];return!r||!Object.entries(r).find(([r,o])=>{const a=t.userInfo.settings[r],s=!i.compareFilter(o,a);return s&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`projectSettings.${r}`,expected:o,actual:a})),s})})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.relatedPromos=void 0;t.relatedPromos=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;if(null===(r=e.promo.relatedPromos)||void 0===r?void 0:r.length){const r=t.settingsService;if(!r)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Для промо ${e.promo.name} указано условие relatedPromos, для которого нужен доступ к настройкам датасинка`,expected:"получен доступ к датасинку",actual:"нет доступа к датасинку (не передан)"}),!1;const i=e.promo.relatedPromos.filter(e=>Boolean(r.getLastShowTimestampByPromo(e)));if(i.length>0)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"relatedPromos",expected:`None of [${e.promo.relatedPromos.join()}] should be shown`,actual:`[${i.join()}] was shown`}),!1}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.showFrequency=void 0;const i=n(755),o=n(223),a=n(458);t.showFrequency=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r,s,u;if("off"!==e.promo.isNotAuthorized&&t.userInfo.isNotAuthorized)return!0;if(!t.settingsService)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:`Для промо ${e.promo.name} нужен доступ к настройкам датасинка`,expected:"доступ к настройкам датасинка получен",actual:"нет доступа к настройкам датасинка"}),!1;const c=t.settingsService.lastPromoShowTimestamp,l=i.getFrequencyInMilliseconds(t.commonConfig),d=t.commonConfig.frequencyInDaysForSamePromo&&t.commonConfig.frequencyInDaysForSamePromo*o.DAY,f=t.now-c,p=t.settingsService.getLastShowTimestampByPromo(e.promo.name),h=t.now-p,m=(null===(r=e.promo.showFrequency)||void 0===r?void 0:r.periodInDays)?e.promo.showFrequency.periodInDays*o.DAY:l,v=(null===(s=e.promo.showFrequency)||void 0===s?void 0:s.periodInDaysForSelf)?e.promo.showFrequency.periodInDaysForSelf*o.DAY:d;if(v&&h<v)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"showFrequency [periodInDaysForSelf]",expected:a.humanReadableInterval(v),actual:a.humanReadableInterval(h),additional:[", candidateLastShowTimestamp: ",new Date(p)]}),!1;if(f<m)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"showFrequency [periodInDays]",expected:a.humanReadableInterval(m),actual:a.humanReadableInterval(f),additional:[", lastPromoShowTimestamp: ",new Date(c)]}),!1;const g=t.settingsService.getLastShowTimestampByPromo(e.promo.name),y=(null===(u=e.promo.showFrequency)||void 0===u?void 0:u.maxCount)||1;if(g&&-1!==y){const r=t.settingsService.getShowCountByPromo(e.promo.name)||1;if(r>=y)return null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"showFrequency [maxCount]",expected:`< ${y}`,actual:r}),!1}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.showPeriod=t.startOfDay=void 0;const i=n(223);t.startOfDay=(e=>{const t=new Date(e);return t.setHours(0,0,0,0),t});t.showPeriod=((e,n,o)=>r(void 0,void 0,void 0,(function*(){if(!e.promo.showPeriod)return!0;if(e.promo.showPeriod.from){const r=t.startOfDay(e.promo.showPeriod.from).getTime();if(n.now<r)return null===o||void 0===o||o.mismatch({promoName:e.promo.name,condition:"showPeriod(from)",expected:`>= ${e.promo.showPeriod.from}`,actual:new Date(n.now)}),!1}if(e.promo.showPeriod.to){const r=t.startOfDay(e.promo.showPeriod.to).getTime()+i.DAY;if(n.now>=r)return null===o||void 0===o||o.mismatch({promoName:e.promo.name,condition:"showPeriod(to)",expected:`< ${new Date(r).toISOString()}`,actual:new Date(n.now)}),!1}return!0})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tld=t.testids=t.userFamily=t.familyAdmin=t.subscription=t.stage=t.segment=t.promoEnabled=t.langs=t.auth=void 0;const o=i(n(1630)),a=n(541),s=n(754);t.auth=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!!s.compareTernary(e.promo.isNotAuthorized,t.userInfo.isNotAuthorized)||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"isNotAuthorized",expected:e.promo.isNotAuthorized,actual:t.userInfo.isNotAuthorized}),!1)})));t.langs=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;return null===(r=e.promo.langs)||void 0===r||!r.length||-1!==e.promo.langs.indexOf(t.lang)||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"langs",expected:e.promo.langs,actual:t.lang}),!1)})));t.promoEnabled=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!(t.userInfo.promoDisabled&&!e.promo.ignorePromoDisabled&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"promoDisabled",expected:!1,actual:t.userInfo.promoDisabled,additional:[`, ignorePromoDisabled: ${e.promo.ignorePromoDisabled}`]}),1))})));t.segment=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return e.promo.segment===a.whatever||e.promo.segment===t.userInfo.segment||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"segment",expected:e.promo.segment,actual:t.userInfo.segment}),!1)})));t.stage=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return"page-changed"===e.promo.stage&&"page-init"===t.stage||e.promo.stage===t.stage||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"stage",expected:e.promo.stage,actual:t.stage}),!1)})));t.subscription=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return e.promo.subscription===a.whatever||e.promo.subscription===t.userInfo.subscription||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"subscription",expected:e.promo.subscription,actual:t.userInfo.subscription}),!1)})));t.familyAdmin=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!(e.promo.showToFamilyAdminsOnly&&!t.userInfo.isFamilyAdmin&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"showToFamilyAdminsOnly",expected:e.promo.showToFamilyAdminsOnly,actual:t.userInfo.isFamilyAdmin}),1))})));t.userFamily=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!e.promo.userFamily||e.promo.userFamily===a.whatever||e.promo.userFamily===t.userInfo.userFamily||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"userFamily",expected:e.promo.userFamily,actual:t.userInfo.userFamily}),!1)})));t.testids=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;return null===(r=e.promo.testids)||void 0===r||!r.length||0!==o.default(e.promo.testids,t.userInfo.testids).length||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"testids",expected:e.promo.testids,actual:t.userInfo.testids}),!1)})));t.tld=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;return!((null===(r=e.promo.tld)||void 0===r?void 0:r.length)&&!e.promo.tld.includes(t.userInfo.tld)&&(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"tld",expected:e.promo.tld,actual:t.userInfo.tld}),1))})))}),(function(e,t,n){var r=n(225),i=n(1631),o=n(773),a=n(1638),s=o((function(e){var t=r(e,a);return t.length&&t[0]===e[0]?i(t):[]}));e.exports=s}),(function(e,t,n){var r=n(607),i=n(947),o=n(948),a=n(225),s=n(201),u=n(608),c=Math.min;e.exports=function(e,t,n){for(var l=n?o:i,d=e[0].length,f=e.length,p=f,h=Array(f),m=1/0,v=[];p--;){var g=e[p];p&&t&&(g=a(g,s(t))),m=c(g.length,m),h[p]=!n&&(t||d>=120&&g.length>=120)?new r(p&&g):void 0}g=e[0];var y=-1,b=h[0];e:for(;++y<d&&v.length<m;){var _=g[y],O=t?t(_):_;if(_=n||0!==_?_:0,!(b?u(b,O):l(v,O,n))){for(p=f;--p;){var E=h[p];if(!(E?u(E,O):l(e[p],O,n)))continue e}b&&b.push(O),v.push(_)}}return v}}),(function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}}),(function(e,t){e.exports=function(e){return this.__data__.has(e)}}),(function(e,t,n){var r=n(1635),i=n(1636),o=n(1637);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}}),(function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}}),(function(e,t){e.exports=function(e){return e!=e}}),(function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}}),(function(e,t,n){var r=n(1034);e.exports=function(e){return r(e)?e:[]}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.showSegments=t.hideSegments=void 0;const i=n(1640);t.hideSegments=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;const o=null!==(r=t.userInfo.customSegments)&&void 0!==r?r:[],a=e.promo.ytSegmentHideList;return!((null===a||void 0===a?void 0:a.length)&&i.matchSegments(a,o))||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"hideSegments",expected:"User shouldn't have been a member of at least one promo segment",actual:`User segments: [${o.join()}], Promo hide segments: [${a.join()}]`}),!1)})));t.showSegments=((e,t,n)=>r(void 0,void 0,void 0,(function*(){var r;const o=null!==(r=t.userInfo.customSegments)&&void 0!==r?r:[],a=e.promo.ytSegmentShowList;return!((null===a||void 0===a?void 0:a.length)&&!i.matchSegments(a,o))||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"showSegments",expected:"User should've been a member of at least one promo segment",actual:`User segments: [${o.join()}], Promo show segments: [${a.join()}]`}),!1)})))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchSegments=void 0;t.matchSegments=((e,t)=>{const n=new Set(e);return t.some(e=>n.has(e))})}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.webpSupport=void 0;t.webpSupport=((e,t,n)=>r(void 0,void 0,void 0,(function*(){return!(e.promo.needWebpSupport&&!(yield t.hasWebpSupport))||(null===n||void 0===n||n.mismatch({promoName:e.promo.name,condition:"hasWebSupport",expected:!0,actual:!1}),!1)})))}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.selectAllActivePromos=void 0;const i=n(1032),o=n(458);t.selectAllActivePromos=((e,t)=>r(void 0,void 0,void 0,(function*(){const{queue:n,project:r,stage:a,logger:s,promos:u}=e;null===s||void 0===s||s.info(`Запуск проверок персистентной очереди промок для стадии ${a}`),e.settingsService?null===s||void 0===s||s.info("Настройки: ",e.settingsService.rawData):null===s||void 0===s||s.info("Настройки не доступны"),null===s||void 0===s||s.info("Legacy promo names: ",e.legacyPromoNames);let c=[];for(const{name:t}of n){const n=u[t];if(null===s||void 0===s||s.info(`Проверяем промо ${t} для персистентной очереди для стадии ${a}`),!n){null===s||void 0===s||s.info(`Промо ${t} не найдено в конфиге промок`);continue}let r=!1;for(const t of i.CHECKERS)if(r=!(yield t(n,e,s)))break;r?null===s||void 0===s||s.info(`Промо ${t} не прошло проверки для персистентной очереди для стадии ${a}`):(null===s||void 0===s||s.info(`Промо ${n.promo.name} прошло проверки для персистентной очереди`),c.push(n))}return c=o.takeSinglePromoByFormat(c),null===s||void 0===s||s.info(`Выбраны следующие персистентное промо: [${c.map(e=>e.promo.name).join()}]`),(null===s||void 0===s?void 0:s.sendToYt)&&(c.forEach(e=>null===s||void 0===s?void 0:s.sendToYt({isDisclaimerVisible:e.promo.isDisclaimerVisible,erid:e.promo.erid,candidate:e.promo.name,project:r,queue:n})),null===s||void 0===s||s.info(`Указанные промо отправлены на ${t}`)),c})))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PsPromoDatasyncService=t.schema=void 0;const r=n(544),i=n(1649);t.schema=new Proxy({},{get:()=>r.FieldString()});t.PsPromoDatasyncService=class extends r.DatasyncService{constructor(e,n){super(e,n),this.schema=t.schema}get lastPromoShowTimestamp(){return Number(this.data[i.Keys.lastPromoShowTimestamp])||0}getLastShowTimestampByPromo(e){return Number(this.data[i.Keys.lastShowTimestamp(e)])||0}getShowCountByPromo(e){return Number(this.data[i.Keys.promoShowCount(e)])||0}get rawData(){return this.data}savePromoShow(e,t,n){this.setValues({[i.Keys.lastShowTimestamp(e)]:String(t),[i.Keys.lastPromoShowTimestamp]:String(t),[i.Keys.promoShowCount(e)]:String(n+1)})}}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NoopDatasyncClient=t.DatasyncClient=void 0;var o=n(1036),a=(function(){function e(e){this.transport=e.transport,this.errorHandler=e.errorHandler}return e.prototype.logError=function(e){this.errorHandler&&this.errorHandler(e)},e.prototype.isNotFoundError=function(e){return 404===e.status},e.prototype.getValue=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.transport.getSingleKey(e)];case 1:return[2,n.sent().value];case 2:if(t=n.sent(),!this.isNotFoundError(t))throw this.logError(t),t;return[3,3];case 3:return[2]}}))}))},e.prototype.setValue=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.transport.put(e,t)];case 1:return r.sent(),[3,3];case 2:throw n=r.sent(),this.logError(n),n;case 3:return[2]}}))}))},e.prototype.setValues=function(e){return r(this,void 0,void 0,(function(){var t,n=this;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.transport.putValues?[4,this.transport.putValues(e)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,Promise.all(Object.entries(e).map((function(e){var t=e[0],r=e[1];return n.transport.put(t,r)})))];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:throw t=r.sent(),this.logError(t),t;case 6:return[2]}}))}))},e.prototype.deleteKey=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.transport.delete(e)];case 1:return n.sent(),[2,!0];case 2:if(t=n.sent(),this.isNotFoundError(t))return[2,!1];throw this.logError(t),t;case 3:return[2]}}))}))},e.prototype.getAll=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.transport.getCollection()];case 1:return t=r.sent().items,[2,(0,o.mapTypes)(t,e)];case 2:throw n=r.sent(),this.logError(n),n;case 3:return[2]}}))}))},e})();t.DatasyncClient=a;var s=(function(){function e(){}return e.prototype.getValue=function(){return Promise.resolve(void 0)},e.prototype.setValue=function(){return Promise.resolve()},e.prototype.deleteKey=function(){return Promise.resolve(!1)},e.prototype.getAll=function(){return Promise.resolve({})},e.prototype.setValues=function(e){return Promise.resolve()},e})();t.NoopDatasyncClient=s}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransportAdapter=void 0;var r=(function(){function e(e){this.transport=e.transport,this.db=e.db,this.collection=e.collection,this.uid=String(e.uid)}return Object.defineProperty(e.prototype,"dbUrl",{get:function(){return"/".concat("web_interfaces_360","/v1/personality/profile/").concat(this.db,"/").concat(this.collection)},enumerable:!1,configurable:!0}),e.prototype.getKeyUrl=function(e){return"".concat(this.dbUrl,"/").concat(e)},e.prototype.getRequestOptions=function(e){return void 0===e&&(e={}),Object.assign({headers:{"X-Uid":this.uid}},e)},e.prototype.getSingleKey=function(e){return this.transport.get(this.getKeyUrl(e),this.getRequestOptions())},e.prototype.getCollection=function(){return this.transport.get(this.dbUrl,this.getRequestOptions())},e.prototype.put=function(e,t){return this.transport.put(this.getKeyUrl(e),{value:t},this.getRequestOptions({maxAttempts:1}))},e.prototype.delete=function(e){return this.transport.delete(this.getKeyUrl(e),this.getRequestOptions())},e})();t.TransportAdapter=r}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DatasyncService=void 0;var o=(function(){function e(e,t){void 0===t&&(t={}),this.client=e,this.data=t}return e.prototype.setValue=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){return this.data[e]=t,[2,this.client.setValue(String(e),this.schema[e].encode(t))]}))}))},e.prototype.getValue=function(e){return this.data[e]},e.prototype.setValues=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s;return i(this,(function(i){for(t={},n=0,r=Object.entries(e);n<r.length;n++)o=r[n],a=o[0],s=o[1],this.data[a]=s,t[a]=this.schema[a].encode(s);return[2,this.client.setValues(t)]}))}))},e})();t.DatasyncService=o}),(function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DateMapper=t.NullableMapper=t.JsonMappers=t.UnsupportedMapper=t.ObjectMapper=t.EnumMapper=t.SimpleMapper=void 0;var i=n(1648),o=n(1039);function a(e){switch((0,o.realType)(e)){case o.JsonType.Array:return e.map(a);case o.JsonType.Object:return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=a(r),e}),{});default:return e}}var s=(function(){function e(e){this.schema=e,this.schemaType=(0,o.realType)(this.schema)}return e.prototype.toJson=function(e,t){var n=(0,o.realType)(e);if(this.schemaType!==n)throw new i.JsonSerializerTypeMismatchError(this.schemaType,n,t);return e},e.prototype.fromJson=function(e){var t=(0,o.realType)(e);return this.schemaType===t?e:a(this.schema)},e})();t.SimpleMapper=s;var u=(function(){function e(e,t){this.values=e,this.fallback=t}return e.prototype.isValid=function(e){return this.values.includes(e)},e.prototype.toJson=function(e,t){if(!this.isValid(e))throw new i.JsonSerializerTypeMismatchError("one of [".concat(this.values.join(", "),"]"),'"'.concat(e,'"'),t);return e},e.prototype.fromJson=function(e){return this.isValid(e)?e:this.fallback},e})();t.EnumMapper=u;var c=(function(){function e(e){this.schema=e}return e.prototype.toJson=function(e,n){var a=this,s=(0,o.realType)(e);if(s!==o.JsonType.Object)throw new i.JsonSerializerTypeMismatchError(o.JsonType.Object,s,n);for(var u=Object.keys(this.schema),c=new Set(Object.keys(e)),l=0,d=u;l<d.length;l++){var f=d[l];if(!(f in e))throw new i.JsonSerializerMissingKeyError(r(r([],n,!0),[f],!1));c.delete(f)}return c.size>0&&c.forEach((function(e){throw new i.JsonSerializerExtraKeyError(r(r([],n,!0),[e],!1))})),u.reduce((function(i,o){var s=t.JsonMappers.toJson(e[o],a.schema[o],r(r([],n,!0),[String(o)],!1));return i[o]=s,i}),{})},e.prototype.fromJson=function(e){var n=this,r=new Set(Object.keys(this.schema)),i=Object.keys(e||{}).filter((function(e){return r.has(e)})).reduce((function(r,i){return r[i]=t.JsonMappers.fromJson(e[i],n.schema[i]),r}),{});return r.forEach((function(e){if(!(e in i)){var r=t.JsonMappers.selectMapperBySchema(n.schema[e]);i[e]=r.fromJson(void 0)}})),i},e})();t.ObjectMapper=c;var l=(function(){function e(e){this.schema=e,this.expectedType=(0,o.realType)(this.schema)}return e.prototype.toJson=function(e,t){var n="constructor"in e?"class ".concat(e.constructor.name):"unknown";throw new i.JsonSerializerTypeMismatchError(this.expectedType,n,t)},e.prototype.fromJson=function(e){return t.JsonMappers.selectMapperBySchema(this.schema).fromJson(e)},e})();t.UnsupportedMapper=l,t.JsonMappers={isJsonMapper:function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.toJson&&"function"==typeof e.fromJson},selectMapper:function(e,n){return t.JsonMappers.isJsonMapper(e)?e:(0,o.realType)(n)===o.JsonType.Unsupported?new l(e):t.JsonMappers.selectMapperBySchema(e)},selectMapperBySchema:function(e){if(t.JsonMappers.isJsonMapper(e))return e;switch((0,o.realType)(e)){case o.JsonType.Object:return new c(e);default:return new s(e)}},toJson:function(e,n,r){return void 0===r&&(r=["$"]),t.JsonMappers.selectMapper(n,e).toJson(e,r)},fromJson:function(e,n){return t.JsonMappers.selectMapper(n,e).fromJson(e)}};var d=(function(){function e(e){this.schema=e}return e.prototype.toJson=function(e,n){return null===e?null:t.JsonMappers.selectMapper(this.schema,e).toJson(e,n)},e.prototype.fromJson=function(e){return null===e||void 0===e?null:t.JsonMappers.selectMapper(this.schema,e).fromJson(e)},e})();t.NullableMapper=d;var f=(function(){function e(e){this.defaultValue=e}return e.prototype.toJson=function(e,t){if(!(e instanceof Date))throw new i.JsonSerializerTypeMismatchError("Date",(0,o.realType)(e),t);return e.getTime()},e.prototype.fromJson=function(e){return(0,o.realType)(e)!==o.JsonType.Number?new Date(this.defaultValue):new Date(e)},e})();t.DateMapper=f}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(t,"__esModule",{value:!0}),t.JsonSerializerExtraKeyError=t.JsonSerializerMissingKeyError=t.JsonSerializerTypeMismatchError=t.JsonSerializerError=void 0;var i=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="JsonSerializerError",t}return r(t,e),t})(Error);t.JsonSerializerError=i;var o=(function(e){function t(t,n,r){var i=e.call(this)||this;return i.message="Expected ".concat(t,", received ").concat(n," at path ").concat(r.join(".")),i.name="JsonSerializerTypeMismatchError",i}return r(t,e),t})(i);t.JsonSerializerTypeMismatchError=o;var a=(function(e){function t(t){var n=e.call(this)||this;return n.message="Missing key at path ".concat(t.join(".")),n.name="JsonSerializerMissingKeyError",n}return r(t,e),t})(i);t.JsonSerializerMissingKeyError=a;var s=(function(e){function t(t){var n=e.call(this)||this;return n.message="Extra key at path ".concat(t.join(".")),n.name="JsonSerializerExtraKeyError",n}return r(t,e),t})(i);t.JsonSerializerExtraKeyError=s}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Keys=void 0,t.Keys={lastPromoShowTimestamp:"lastPromoShowTimestamp",lastShowTimestamp:e=>`promo_${e}_lastShowTimestamp`,promoShowCount:e=>`promo_${e}_showCount`}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorLogger=void 0;const i=n(1040),o=n(1041),a=n(1674),s=200;t.SelectorLogger=class{constructor({logger:e,uid:t,webApiUrl:n,ApiLogClient:r}){this.ytData=[],this.forcedPromos=[],this.logger=e,this.uid=null!==t&&void 0!==t?t:"",this.webApiUrl=n,this.ApiLogClient=r}warn(...e){var t;null===(t=this.logger)||void 0===t||t.warn(...e)}info(...e){var t;null===(t=this.logger)||void 0===t||t.info(...e)}error(e){var t;null===(t=this.logger)||void 0===t||t.error(e)}mismatch(e){var t;const{promoName:n,condition:r,expected:i,actual:o,additional:a}=e,s=Array.isArray(a)?a:[];null===(t=this.logger)||void 0===t||t.info(`Промо ${n} не прошло по условию ${r}. Expected:`,i,", actual:",o,...s),this.ytData.push({promo_id:n,reason:`${r}; Expected: ${i}, actual: ${o}`})}addForcedPromos(e){this.forcedPromos.push(e)}sendToYt({isDisclaimerVisible:e,erid:t,candidate:n,project:i,queue:o}){var s,u;return r(this,void 0,void 0,(function*(){try{const r={};null===(s=this.logger)||void 0===s||s.info(),e&&(r.erid=t);const c=yield this.getLoggerApi();if(!c)return;n&&(yield c({type:a.YTLoggerType.PROMO_WAS_SHOWED,data:Object.assign(Object.assign({},r),{promo_id:n,project:i,queue:o})}));const l=this.ytData,d=this.forcedPromos;for(let e=l.length+1;e<o.length;e+=1)l.push({promo_id:o[e].name,reason:null});if(yield c({type:a.YTLoggerType.PROMO_WAS_NOT_SHOWED,data:{project:i,promos:l}}),d&&d.length){const e=[];d.forEach(t=>{var n,r;const o=null!==(r=null===(n=l.find(e=>e.promo_id===t))||void 0===n?void 0:n.reason)&&void 0!==r?r:null;e.push(c({type:a.YTLoggerType.PROMO_WAS_NOT_SHOWED_FORCED,data:{promo_id:t,reason:o,project:i}}))}),yield Promise.all(e)}}catch(e){null===(u=this.logger)||void 0===u||u.error(e)}}))}getLoggerApi(){return r(this,void 0,void 0,(function*(){const e=this.webApiUrl;return e&&e.trim()&&this.uid||this.ApiLogClient?t=>r(this,void 0,void 0,(function*(){var n,r,a,s;try{this.isNeedLogPromo(t)&&(this.ApiLogClient||(this.ApiLogClient=yield o.createWebApiClient({webApiUrl:null!==e&&void 0!==e?e:"",uid:this.uid,getCkey:i.getCkey,setCkey:i.setCkey,skipCkey:!0})),null===(n=this.logger)||void 0===n||n.info("ApiClient exists."),null===(r=this.logger)||void 0===r||r.info(this.ApiLogClient),yield this.ApiLogClient.request([{name:"promozavr-log",params:t}]))}catch(e){null===(a=this.logger)||void 0===a||a.info("ApiClient was not created."),null===(s=this.logger)||void 0===s||s.error(e)}})):null}))}isNeedLogPromo(e){return e.type!==a.YTLoggerType.PROMO_WAS_NOT_SHOWED||!this.uid||(parseInt(this.uid)||0)%s==0}}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var s={maxCount:3};t.makeRetryInterceptor=function(e,t,n){return function(u,c,l){return i(this,void 0,void 0,(function(){var i,d,f;return o(this,(function(o){switch(o.label){case 0:return(i=u.reduce((function(n,i,o){if(c.isModelRejected(i.result)){var a=i.params;a.retryOptions=r(r(r({},s),t[i.params.name]),a.retryOptions),a.retryOptions.maxCount>=0&&e(i,c)&&(n.push({index:o,modelParams:i.params}),a.retryOptions.maxCount-=1)}return n}),[])).length?n?[4,n(l,c)]:[3,2]:[2,u];case 1:o.sent(),o.label=2;case 2:return[4,c.request(i.map((function(e){return e.modelParams})))];case 3:return d=o.sent(),f=a(u),d.forEach((function(e,t){var n=i[t].index;f[n].result=e})),[2,f]}}))}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logModelsErrorInterceptor=t.passportAuthRedirectInterceptor=void 0;const r=n(1653),i=n(1659);t.passportAuthRedirectInterceptor=r.makePassportAuthRedirectInterceptor("https://passport.yandex.ru","AUTH_NO_AUTH"),t.logModelsErrorInterceptor=i.makeLogErrorInterceptor(()=>{})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1654),i=n(1658);t.makePassportAuthRedirectInterceptor=function(e,t){return i.makeRedirectInterceptor((function(e,n){if(n.isModelRejected(e)){if("string"==typeof e.error)return e.error===t;if("code"in e.error)return e.error.code===t}return!1}),(function(){var t=window.location,n=t.origin,i=t.pathname,o=t.search,a=r.parse(o),s=encodeURIComponent(""+n+i+"?"+r.stringify(a)),u=new URL(e);return u.searchParams.set("retpath",s),u.toString()}))}}),(function(e,t,n){"use strict";const r=n(1655),i=n(1656),o=n(1657);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?i(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=(function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.includes(e.arrayFormatSeparator),o="string"==typeof n&&!i&&u(n,e).includes(e.arrayFormatSeparator);n=o?u(n,e):n;const a=i||o?n.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===n?n:u(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}})(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:u(a,t),n(u(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=d(n[e],t);else r[e]=d(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=(function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t})(n):e[t]=n,e},Object.create(null))}t.extract=l,t.parse=f,t.stringify=((e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&(e=>null===e||void 0===e)(e[n])||t.skipEmptyString&&""===e[n],r=(function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",i,"]"].join("")]:[...n,[s(t,e),"[",s(i,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null===r||void 0===r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}})(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const i=e[n];return void 0===i?"":null===i?s(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):s(n,t)+"="+s(i,t)}).filter(e=>e.length>0).join("&")}),t.parseUrl=((e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:f(l(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})}),t.stringifyUrl=((e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=c(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query);let u=t.stringify(a,n);u&&(u=`?${u}`);let l=(function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t})(e.url);return e.fragmentIdentifier&&(l=`#${s(e.fragmentIdentifier,n)}`),`${r}${u}${l}`})}),(function(e,t,n){"use strict";e.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))}),(function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function a(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return (function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),s=0;s<o.length;s++){var u=o[s];e=e.replace(new RegExp(u,"g"),t[u])}return e})(e)}}}),(function(e,t,n){"use strict";e.exports=((e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]})}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeRedirectInterceptor=function(e,t,n){return function(o,a){return r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return o.some((function(t){return e(t.result,a)}))?n?[4,n()]:[3,2]:[3,3];case 1:r.sent(),r.label=2;case 2:window.location.href=t(),r.label=3;case 3:return[2,o]}}))}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeLogErrorInterceptor=function(e){return function(t,n,r){return t.forEach((function(t){n.isModelRejected(t.result)&&e(t.result,r)})),Promise.resolve(t)}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApiClient=void 0;const r=n(778),i=n(1673);class o{logError(){}}t.createApiClient=function({webApiUrl:e,uid:t,getAdditionalHeaders:n,getAdditionalBodyFields:a,interceptors:s}){const u=new r.Api(e,{getAdditionalHeaders:()=>Object.assign({},n()),getAdditionalBodyFields:()=>{const e=a();return t&&(e._uid=t),e}},new o);return new r.ModelsApi(u,{modelsQueryParameter:"_models"},{response:i.composeResponseInterceptors(...s)})}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1662)),c=s(n(1663)),l=n(1042),d={min:100,max:500,factor:2,jitter:.1,maxAttempts:3},f=(function(){function e(e,t,n,r){void 0===r&&(r=d),this.baseUri=e,this.retryOptions=r,this.defaultOptions={mode:"cors",credentials:"include",headers:{Accept:"application/json"}},this.config=t,this.logger=n}return e.prototype.getHeaders=function(e){var t,n=r(r(r({},this.defaultOptions.headers),(null===(t=this.config)||void 0===t?void 0:t.getAdditionalHeaders)?this.config.getAdditionalHeaders():{}),e.headers);return this.isDefaultContentType(n)&&!e.autoContentType?r(r({},n),{"Content-Type":"application/json"}):n},e.prototype.isDefaultContentType=function(e){return e instanceof Headers?Boolean(!e.get("content-type")):Array.isArray(e)?Boolean(!e.find((function(e){return"content-type"===e[0].toLowerCase()}))):!e["Content-Type"]},e.prototype.getBody=function(e){var t;if(e.body){if(e.body instanceof FormData)return e.body;var n=Object.assign({},(null===(t=this.config)||void 0===t?void 0:t.getAdditionalBodyFields)?this.config.getAdditionalBodyFields():{},e.body||{});return JSON.stringify(n)}},e.prototype.request=function(e,t,n){var s;return void 0===n&&(n={}),i(this,void 0,void 0,(function(){var i,d,f,p,h,m,v;return o(this,(function(o){switch(o.label){case 0:i=n.maxAttempts,d=a(n,["maxAttempts"]),f=new u.default(this.retryOptions),p=r(r(r({},this.defaultOptions),d),{headers:this.getHeaders(d),body:this.getBody(d),cache:"no-cache",method:e}),h=i||this.retryOptions.maxAttempts,m=1,o.label=1;case 1:if(!(m<=h))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,fetch(""+this.baseUri+t,p).then((function(e){if(!e.ok)throw new l.ResponseError(e);return e.json()}))];case 3:return[2,o.sent()];case 4:if(v=o.sent(),m>=h)throw null===(s=this.logger)||void 0===s||s.logError(v),v;return[4,c.default(f.duration())];case 5:return o.sent(),[3,6];case 6:return m++,[3,1];case 7:return[2,Promise.reject()]}}))}))},e.prototype.post=function(e,t,n){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){return r=Object.assign({},{body:t},n),[2,this.request("POST",e,r)]}))}))},e.prototype.put=function(e,t,n){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){return r=Object.assign({},{body:t},n),[2,this.request("PUT",e,r)]}))}))},e.prototype.get=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.request("GET",e,t)]}))}))},e.prototype.delete=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.request("DELETE",e,t)]}))}))},e})();t.Api=f}),(function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t){return setTimeout(t,e)})}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(1665)),u=a(n(1043)),c=n(1672),l=(function(){function e(e,t,n){this.modelsQueryParameter=t.modelsQueryParameter,this.cache=new c.ApiCache,this.responseInterceptor=null===n||void 0===n?void 0:n.response,this.api=e}return e.prototype.postFormData=function(e,t,n,i){var o=this;return void 0===i&&(i={}),i.headers=r(r({},i.headers),{"x-yandex-header-params":JSON.stringify(n)}),i.autoContentType=!0,this.api.post("?"+this.modelsQueryParameter+"="+e,t,i).then((function(t){return o.handleMultiResponse([{name:e,params:n}],t,i)})).then((function(e){return e[0]}))},e.prototype.getModelKey=function(e){return this.cache.key(e.name,e.params)},e.prototype.request=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.getModelsResultImplementation(e,t)]}))}))},e.prototype.getModelsResultImplementation=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,a,c,l,d,f,p,h=this;return o(this,(function(o){switch(o.label){case 0:return t||(t={}),n=e.reduce((function(e,t){return e[h.getModelKey(t)]=t,e}),{}),r=Object.keys(n),i={},t.cache&&Object.entries(n).reduce((function(e,t){var n=t[0],r=t[1];return h.cache.has(n,r.params)&&(e[h.getModelKey(r)]={data:h.cache.get(r.name,r.params)}),e}),i),r.length===Object.keys(i).length?[2,e.map((function(e){var t=h.getModelKey(e);return i[t]}))]:(a=u.default(n,s.default(r,Object.keys(i))),c=Object.values(a),l=c.map((function(e){return e.name})),[4,this.api.post("?"+this.modelsQueryParameter+"="+l.join(","),{models:c},t).then((function(e){return{modelResults:h.handleMultiResponse(c,e,t),response:e}}))]);case 1:return(d=o.sent()).modelResults.forEach((function(e,t){var n=c[t];i[h.getModelKey(n)]=e})),f=e.map((function(e){var t=h.getModelKey(e);return i[t]})),this.responseInterceptor?(p=e.reduce((function(e,t,n){var r={params:t,result:f[n]};return e.push(r),e}),[]),[4,this.responseInterceptor(p,this,d.response)]):[3,3];case 2:p=o.sent(),f=p.map((function(e){return e.result})),o.label=3;case 3:return[2,f]}}))}))},e.prototype.isModelRejected=function(e){return this.isNotNullObject(e)&&"error"in e},e.prototype.isModelResolved=function(e){return this.isNotNullObject(e)&&"data"in e},e.prototype.isNotNullObject=function(e){return"object"==typeof e&&null!==e},e.prototype.handleMultiResponse=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=t.models[i],a=e[i],s=o;n.cache&&"data"in o&&this.cache.set(a.name,a.params,o.data),r.push(s)}return r},e})();t.ModelsApi=l}),(function(e,t,n){var r=n(1666),i=n(460),o=n(773),a=n(1034),s=o((function(e,t){return a(e)?r(e,i(t,1,a,!0)):[]}));e.exports=s}),(function(e,t,n){var r=n(607),i=n(947),o=n(948),a=n(225),s=n(201),u=n(608),c=200;e.exports=function(e,t,n,l){var d=-1,f=i,p=!0,h=e.length,m=[],v=t.length;if(!h)return m;n&&(t=a(t,s(n))),l?(f=o,p=!1):t.length>=c&&(f=u,p=!1,t=new r(t));e:for(;++d<h;){var g=e[d],y=null==n?g:n(g);if(g=l||0!==g?g:0,p&&y==y){for(var b=v;b--;)if(t[b]===y)continue e;m.push(g)}else f(t,y,l)||m.push(g)}return m}}),(function(e,t,n){var r=n(1668),i=n(1044);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}}),(function(e,t,n){var r=n(325),i=n(1669),o=n(204);e.exports=function(e,t,n){for(var a=-1,s=t.length,u={};++a<s;){var c=t[a],l=r(e,c);n(l,c)&&i(u,o(c,e),l)}return u}}),(function(e,t,n){var r=n(388),i=n(204),o=n(389),a=n(128),s=n(231);e.exports=function(e,t,n,u){if(!a(e))return e;for(var c=-1,l=(t=i(t,e)).length,d=l-1,f=e;null!=f&&++c<l;){var p=s(t[c]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=d){var m=f[p];void 0===(h=u?u(m,p,f):void 0)&&(h=a(m)?m:o(t[c+1])?[]:{})}r(f,p,h),f=f[p]}return e}}),(function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}}),(function(e,t,n){var r=n(204),i=n(264),o=n(105),a=n(389),s=n(378),u=n(231);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,d=!1;++c<l;){var f=u(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(o(e)||i(e))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(){this.cache={}}return e.prototype.set=function(e,t,n){var r=this.key(e,t);this.cache[r]=n},e.prototype.get=function(e,t){var n=this.key(e,t);return this.cache[n]},e.prototype.has=function(e,t){return this.key(e,t)in this.cache},e.prototype.key=function(e,t){return["url="+e].concat(Object.keys(t||{}).sort().map((function(e){return e+"="+JSON.stringify(t[e])}))).join("&")},e})();t.ApiCache=r}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.composeResponseInterceptors=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n,o){return r(this,void 0,void 0,(function(){var r,a,s;return i(this,(function(i){switch(i.label){case 0:r=t,a=0,s=e,i.label=1;case 1:return a<s.length?[4,(0,s[a])(t,n,o)]:[3,4];case 2:r=i.sent(),i.label=3;case 3:return a++,[3,1];case 4:return[2,r]}}))}))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YTLoggerType=void 0,(function(e){e.PROMO_WAS_SHOWED="promo-was-showed",e.PROMO_WAS_NOT_SHOWED="promo-was-not-showed",e.PROMO_WAS_NOT_SHOWED_FORCED="promo-was-not-showed-forced"})(t.YTLoggerType||(t.YTLoggerType={}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasWebpSupport=void 0;t.hasWebpSupport=(()=>new Promise(e=>{try{let t=new Image;t.onload=t.onerror=function(){e(t.width>0&&t.height>0)},t.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="}catch(t){e(!1)}}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepareBunkerDataToSsr=t.getActualKeysetsByQueues=void 0;const r=n(755);function i(e,t,n=!0){const r={};for(const i of t)n?e.config.persistentQueues[i]&&(r[i]=e.config.persistentQueues[i]):e.config.queues[i]&&(r[i]=e.config.queues[i]);return r}const o=e=>e.promo.keysetId||e.promo.name;function a(e,t,n,a=!0){const s=i(e,t,a),u=r.getPromosWithFormat(e.config),c=t.reduce((e,t)=>{if(!s[t])return e;const n=(s[t]||[]).map(e=>o(u[e.name]));return e.push(...n),e},[]);if(n){const e=o(u[n]);c.includes(e)||c.push(e)}const l=e.translations.keysets,d=Object.keys(l),f=c.filter(e=>d.includes(e)||d.includes(`promo_${e}`)).reduce((e,t)=>(e[t]=l[t]||l[`promo_${t}`],e),{});return f.promo_common=l.promo_common,Object.keys(f).reduce((e,t)=>{const n=Object.keys(f[t].keys).reduce((e,n)=>{const r=Object.keys(f[t].keys[n].translations).reduce((e,r)=>(e[r]={form:f[t].keys[n].translations[r].form},e),{});return e[n]={translations:r},e},{});return e[t]={keys:n},e},{})}t.getActualKeysetsByQueues=a,t.prepareBunkerDataToSsr=function(e,t,n,r,o=!0){if(!(e&&e.config&&e.config.promos&&e.config.persistentQueues&&e.translations&&e.translations.keysets))return null;const s=(function(e,t){const n={popup:[],tooltip:[],custom:[],fullscreen:[],topline:[],banner:[]};for(const r of t)e.config.promos[r]&&(n[r]=e.config.promos[r]);return n})(e,t),u=i(e,n,o),c=a(e,n,r,o),l={config:{promos:s,queues:{},persistentQueues:{},common:e.config.common},translations:{keysets:c},images:e.images};return l.config[o?"persistentQueues":"queues"]=u,l}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestDatasyncClient=t.RestDatasyncTransportAdapter=void 0;const r=n(778),i=n(544);t.RestDatasyncTransportAdapter=class extends i.TransportAdapter{constructor(e,t){super({collection:"promo",db:"ps",transport:new r.Api(e),uid:t})}};t.RestDatasyncClient=class extends i.DatasyncClient{constructor(e,t){super({transport:e,errorHandler:t})}}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(150),o=n(233),a=n(1756);t.PaymentProblemGrace=class{constructor(e){this.id="paymentProblemGracePopup",this.Component=a.GracePopup,this.paymentProblem=e}check(){return r(this,void 0,void 0,(function*(){const e=this.paymentProblem.have_grace,t=i.isPaymentProblemGracePopup(this.paymentProblem.items);return o.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemGracePopup тарифа на грейсе"},{actual:t,expected:!0,message:"paymentProblemGracePopup тарифы те"}])}))}}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=t.PopupContent=t.PopupImage=t.PopupDescription=t.PopupCancelButton=t.PopupActionButton=t.PopupButtons=t.PopupTitle=t.PopupTexts=void 0;const c=o(n(0)),l=u(n(87)),d=n(163),f=n(1046),p=n(390),h=n(787),m=n(1719),v=n(788),g=n(458),y=n(139),b=u(n(1722)),_=n(223),O=n(178);t.PopupTexts=(e=>{var{className:t}=e,n=s(e,["className"]);return c.default.createElement("div",Object.assign({className:l.default(t,b.default.texts)},n))});t.PopupTitle=(e=>{var{className:t}=e,n=s(e,["className"]);return c.default.createElement(p.Text,Object.assign({className:l.default(t,b.default.title),typography:"subheader-xl",as:"h2",align:"center",weight:"medium"},n))});t.PopupButtons=(e=>{var{className:t}=e,n=s(e,["className"]);return c.default.createElement("div",Object.assign({className:l.default(t,b.default.buttons)},n))});t.PopupActionButton=(e=>{var{className:t}=e,n=s(e,["className"]);const r=n.url?{type:"link",target:"_blank",rel:"noopener"}:{};return c.default.createElement(h.Button,Object.assign({className:l.default(t,b.default.button,b.default.actionButton),view:"brand",size:"l","data-test-id":"promozavr-popup-cta"},r,n))});t.PopupCancelButton=(e=>{var{className:t}=e,n=s(e,["className"]);return c.default.createElement(h.Button,Object.assign({className:l.default(t,b.default.button,b.default.cancelButton),view:"pseudo",size:"l"},n))});t.PopupDescription=(e=>{var{className:t}=e,n=s(e,["className"]);return c.default.createElement(p.Text,Object.assign({className:l.default(t,b.default.description),color:"secondary",typography:"body-short-xl",align:"center"},n))});t.PopupImage=(e=>{var{image:t,className:n}=e,r=s(e,["image","className"]);return c.default.createElement(v.Image,Object.assign({alt:"Image",className:l.default(b.default.image,n),src:null===t||void 0===t?void 0:t.src,srcSet:null===t||void 0===t?void 0:t.srcSet,stub:c.default.createElement("div",{className:b.default.imageStub}),"aria-hidden":!0,height:"100%"},r))});t.PopupContent=(e=>{var{image:n,children:r}=e,i=s(e,["image","children"]);return c.default.createElement("div",Object.assign({},i),n&&c.default.createElement(t.PopupImage,{image:n}),r)});t.Popup=(e=>{var{visible:t,className:n,background:r,isDisclaimerVisible:i,children:o,onCloseClick:u,onClose:E}=e,w=s(e,["visible","className","background","isDisclaimerVisible","children","onCloseClick","onClose"]);const S=c.useCallback(e=>c.default.createElement(m.Icon,{className:e,glyph:"type-cross-websearch"}),[]),[C,x]=c.useState(!0),{darkTheme:T}=c.useContext(O.ThemeContext),P=c.useCallback((e,n)=>a(void 0,void 0,void 0,(function*(){void 0===t&&(x(!1),yield g.delay(g.CLOSE_DELAY)),null===E||void 0===E||E(e,n)})),[E,t]),k=c.useCallback(e=>a(void 0,void 0,void 0,(function*(){void 0===t&&(x(!1),yield g.delay(g.CLOSE_DELAY)),null===u||void 0===u||u(e)})),[u,t]),j=y.useCommonText(_.CLOSE_COMMON_TEXT),R=y.useCommonText(_.AD_PROMO_DISCLAIMER);return c.default.createElement(f.Modal,Object.assign({visible:null!==t&&void 0!==t?t:C,className:l.default(n,b.default.modal),theme:"normal",onClose:E?P:void 0,"data-test-id":"promozavr-popup"},w),c.default.createElement("div",{className:b.default.root},r&&c.default.createElement(v.Image,{alt:"Background",className:b.default.background,src:r.src,srcSet:r.srcSet,stub:c.default.createElement("div",{className:b.default.backgroundStub}),"aria-hidden":!0,height:"100%"}),o,u&&c.default.createElement("div",{className:b.default.close},c.default.createElement(h.Button,{view:"clear",size:"l",icon:S,onClick:k,"aria-label":j,"data-test-id":"promozavr-popup-close"}))),i&&c.default.createElement("div",{className:l.default(b.default.promoDisclaimer,d.cnTheme(T))},c.default.createElement(p.Text,{className:b.default.promoDisclaimerText,weight:"medium",typography:"body-short-s"},R)))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=void 0;const r=n(3),i=n(179);t.Icon=r.compose(r.composeU(i.withGlyphTypeCrossWebsearch))(i.Icon)}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeAddQueryParams=void 0;t.safeAddQueryParams=((e,t)=>(Object.keys(t).forEach(n=>{t[n]&&e.searchParams.append(n,t[n])}),e))}),(function(e,t,n){"use strict";n.r(t);n(1723);t.default={popupWidth:"566px",popupHeight:"560px",imageHeight:"336px",modal:"Popup_modal_24TLt",root:"Popup_root_sl2fL",background:"Popup_background_ayMCi",backgroundStub:"Popup_backgroundStub_FIpZC",image:"Popup_image_ZDRfG",imageStub:"Popup_imageStub_PUqSc",texts:"Popup_texts_PN1uS",buttons:"Popup_buttons_52MeV",title:"Popup_title_f-XE0",description:"Popup_description_W-lNx",close:"Popup_close_7KCm4",actionButton:"Popup_actionButton_4072-",button:"Popup_button_4834A",cancelButton:"Popup_cancelButton_CkF-3",promoDisclaimer:"Popup_promoDisclaimer_fBaaM",promoDisclaimerText:"Popup_promoDisclaimerText_3YFaQ"}}),(function(e,t,n){}),(function(e,t,n){var r=n(460),i=n(1725),o=n(773),a=n(1749),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s}),(function(e,t,n){var r=n(225),i=n(325),o=n(1726),a=n(1740),s=n(1746),u=n(201),c=n(1747),l=n(387),d=n(105);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[l];var f=-1;t=r(t,u(o));var p=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++f,value:e}}));return s(p,(function(e,t){return c(e,t,n)}))}}),(function(e,t,n){var r=n(1727),i=n(1735),o=n(387),a=n(105),s=n(1737);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}}),(function(e,t,n){var r=n(1728),i=n(1734),o=n(1053);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}}),(function(e,t,n){var r=n(463),i=n(794),o=1,a=2;e.exports=function(e,t,n,s){var u=n.length,c=u,l=!s;if(null==e)return!c;for(e=Object(e);u--;){var d=n[u];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++u<c;){var f=(d=n[u])[0],p=e[f],h=d[1];if(l&&d[2]){if(void 0===p&&!(f in e))return!1}else{var m=new r;if(s)var v=s(p,h,f,e,t,m);if(!(void 0===v?i(h,p,o|a,s,m):v))return!1}}return!0}}),(function(e,t,n){var r=n(463),i=n(1051),o=n(1731),a=n(1733),s=n(200),u=n(105),c=n(265),l=n(379),d=1,f="[object Arguments]",p="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,y){var b=u(e),_=u(t),O=b?p:s(e),E=_?p:s(t),w=(O=O==f?h:O)==h,S=(E=E==f?h:E)==h,C=O==E;if(C&&c(e)){if(!c(t))return!1;b=!0,w=!1}if(C&&!w)return y||(y=new r),b||l(e)?i(e,t,n,v,g,y):o(e,t,O,n,v,g,y);if(!(n&d)){var x=w&&m.call(e,"__wrapped__"),T=S&&m.call(t,"__wrapped__");if(x||T){var P=x?e.value():e,k=T?t.value():t;return y||(y=new r),g(P,k,n,v,y)}}return!!C&&(y||(y=new r),a(e,t,n,v,g,y))}}),(function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}}),(function(e,t,n){var r=n(176),i=n(546),o=n(323),a=n(1051),s=n(1732),u=n(1185),c=1,l=2,d="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",O="[object DataView]",E=r?r.prototype:void 0,w=E?E.valueOf:void 0;e.exports=function(e,t,n,r,E,S,C){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!S(new i(e),new i(t)));case d:case f:case m:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case h:var x=s;case g:var T=r&c;if(x||(x=u),e.size!=t.size&&!T)return!1;var P=C.get(e);if(P)return P==t;r|=l,C.set(e,t);var k=a(x(e),x(t),r,E,S,C);return C.delete(e),k;case b:if(w)return w.call(e)==w.call(t)}return!1}}),(function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}}),(function(e,t,n){var r=n(547),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,u){var c=n&i,l=r(e),d=l.length;if(d!=r(t).length&&!c)return!1;for(var f=d;f--;){var p=l[f];if(!(c?p in t:o.call(t,p)))return!1}var h=u.get(e),m=u.get(t);if(h&&m)return h==t&&m==e;var v=!0;u.set(e,t),u.set(t,e);for(var g=c;++f<d;){var y=e[p=l[f]],b=t[p];if(a)var _=c?a(b,y,p,t,e,u):a(y,b,p,e,t,u);if(!(void 0===_?y===b||s(y,b,n,a,u):_)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var O=e.constructor,E=t.constructor;O!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof O&&O instanceof O&&"function"==typeof E&&E instanceof E)&&(v=!1)}return u.delete(e),u.delete(t),v}}),(function(e,t,n){var r=n(1052),i=n(232);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}}),(function(e,t,n){var r=n(794),i=n(1736),o=n(1044),a=n(461),s=n(1052),u=n(1053),c=n(231),l=1,d=2;e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,l|d)}}}),(function(e,t,n){var r=n(325);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}}),(function(e,t,n){var r=n(1738),i=n(1739),o=n(461),a=n(231);e.exports=function(e){return o(e)?r(a(e)):i(e)}}),(function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}}),(function(e,t,n){var r=n(325);e.exports=function(e){return function(t){return r(t,e)}}}),(function(e,t,n){var r=n(1741),i=n(184);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}}),(function(e,t,n){var r=n(1742),i=n(1745)(r);e.exports=i}),(function(e,t,n){var r=n(1743),i=n(232);e.exports=function(e,t){return e&&r(e,t,i)}}),(function(e,t,n){var r=n(1744)();e.exports=r}),(function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}}),(function(e,t,n){var r=n(184);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}}),(function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}}),(function(e,t,n){var r=n(1748);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}}),(function(e,t,n){var r=n(230);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,a=r(e),s=void 0!==t,u=null===t,c=t==t,l=r(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!l&&e<t||l&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}}),(function(e,t,n){var r=n(323),i=n(184),o=n(389),a=n(128);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.enabled=!1,this.enabled="undefined"!=typeof window&&Boolean(new URLSearchParams(window.location.search).get("debug"))}log(e,t){this.enabled&&console[e](...t)}info(...e){this.log("info",e)}warn(...e){this.log("warn",e)}}t.DebugModelClass=r,t.DebugModel=new r}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1757));t.GracePopup=i.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),i=n(150),o=r.connect(e=>{const{config:{urlsBase:{yandex360:t}}}=e;return{url:`${t}/premium-plans#manage`}});t.default=o(i.GracePopup)}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(150),o=n(233),a=n(1759);t.PaymentProblemHoldAd=class{constructor(e){this.id="paymentProblemHoldAdPopup",this.Component=a.HoldAdPopup,this.paymentProblem=e}check(){return r(this,void 0,void 0,(function*(){const e=this.paymentProblem.have_hold,t=i.isPaymentProblemHoldAdPopup(this.paymentProblem.items);return o.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldAdPopup тариф на холде"},{actual:t,expected:!0,message:"paymentProblemHoldAdPopup тариф старый"}])}))}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1760));t.HoldAdPopup=i.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),i=n(150),o=r.connect(e=>{const{config:{urlsBase:{yandex360:t}}}=e;return{url:`${t}/premium-plans#manage`}});t.default=o(i.HoldAdPopup)}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(150),o=n(233),a=n(1762);t.PaymentProblemHold=class{constructor(e){this.id="paymentProblemHoldPopup",this.Component=a.HoldPopup,this.paymentProblem=e}check(){return r(this,void 0,void 0,(function*(){const e=this.paymentProblem.have_hold,t=i.isPaymentProblemHoldPopup(this.paymentProblem.items);return o.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldPopup тарифа на холде"},{actual:t,expected:!0,message:"paymentProblemHoldPopup нужные тарифы пришли"}])}))}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1763));t.HoldPopup=i.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),i=n(150),o=n(133),a=r.connect(e=>{const{config:{urlsBase:{yandex360:t},data:{locale:n}}}=e;return{url:`${t}/premium-plans#manage`,features:[{featureCode:o.ProductFeatureCode.DiskSpace},{featureCode:o.ProductFeatureCode.UnlimMobile},{featureCode:o.ProductFeatureCode.NoAds},{featureCode:o.ProductFeatureCode.IncreasedFileLimit}],lang:n}});t.default=a(i.HoldPopup)}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(150),o=n(233),a=n(1765);t.PaymentProblemAppStore=class{constructor(e){this.id="paymentProblemHoldStorePopup",this.Component=a.HoldAppStore,this.paymentProblem=e}check(){return r(this,void 0,void 0,(function*(){const e=this.paymentProblem.have_hold,t=i.isPaymentProblemHoldStorePopup(this.paymentProblem.items);return o.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldStorePopup тарифа на холде"},{actual:t,expected:!0,message:"paymentProblemHoldStorePopup тариф из стора"}])}))}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1766));t.HoldAppStore=i.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),i=n(150),o=n(133),a=r.connect(e=>{const{config:{urlsBase:{support:t},data:{locale:n}}}=e;return{url:`${t}${"app_store"===i.getMobile(e.billingProducts.paymentProblem.items)?"/disk-app-ios/buy-space.html#manage":"/disk-app-android/buy-space.html#manage"}`,features:[{featureCode:o.ProductFeatureCode.DiskSpace},{featureCode:o.ProductFeatureCode.UnlimMobile},{featureCode:o.ProductFeatureCode.NoAds},{featureCode:o.ProductFeatureCode.IncreasedFileLimit}],lang:n}});t.default=a(i.HoldPopup)}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(150),o=n(233);t.PaymentProblemHoldAndroid=class{constructor(e){this.id="paymentProblemHoldStoreAndroid",this.paymentProblem=e}check(){return r(this,void 0,void 0,(function*(){const e=this.paymentProblem.have_hold,t=i.isPaymentProblemHoldStoreAndroid(this.paymentProblem.items);return o.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldStoreAndroid тарифа на холде"},{actual:t,expected:!0,message:"paymentProblemHoldStoreAndroid тариф android"}])}))}}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(150),o=n(233);t.PaymentProblemHoldApple=class{constructor(e){this.id="paymentProblemHoldStoreApple",this.paymentProblem=e}check(){return r(this,void 0,void 0,(function*(){const e=this.paymentProblem.have_hold,t=i.isPaymentProblemHoldStoreApple(this.paymentProblem.items);return o.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldStoreApple тарифа на холде"},{actual:t,expected:!0,message:"paymentProblemHoldStoreApple тариф apple"}])}))}}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(150),o=n(233);t.PaymentProblemGraceAndroid=class{constructor(e){this.id="paymentProblemGraceStoreAndroid",this.paymentProblem=e}check(){return r(this,void 0,void 0,(function*(){const e=this.paymentProblem.have_grace,t=i.isPaymentProblemGraceStoreAndroid(this.paymentProblem.items);return o.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemGraceStoreAndroid тарифа на грейсе"},{actual:t,expected:!0,message:"paymentProblemGraceStoreAndroid тариф grace android"}])}))}}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(150),o=n(233);t.PaymentProblemGraceApple=class{constructor(e){this.id="paymentProblemGraceStoreApple",this.paymentProblem=e}check(){return r(this,void 0,void 0,(function*(){const e=this.paymentProblem.have_grace,t=i.isPaymentProblemGraceStoreApple(this.paymentProblem.items);return o.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemGraceStoreApple тарифа на грейсе"},{actual:t,expected:!0,message:"paymentProblemGraceStoreApple тарифа grace apple"}])}))}}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(150),o=n(233),a=n(1772);t.PaymentProblemHoldFamily=class{constructor(e){this.id="paymentProblemHoldFamilyPopup",this.Component=a.HoldFamilyPopup,this.paymentProblem=e}check(){return r(this,void 0,void 0,(function*(){const e=this.paymentProblem.have_hold,t=i.isPaymentProblemHoldFamilyPopup(this.paymentProblem.items);return o.CheckerModel.checkConditions([{actual:e,expected:!0,message:"paymentProblemHoldFamilyPopup тарифа на холде"},{actual:t,expected:!0,message:"paymentProblemHoldFamilyPopup тариф семейный"}])}))}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1773));t.HoldFamilyPopup=i.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),i=n(150),o=n(133),a=r.connect(e=>{const{config:{urlsBase:{yandex360:t},data:{locale:n}}}=e;return{url:`${t}/premium-plans#manage`,features:[{featureCode:"family_disk_size"},{featureCode:"family"},{featureCode:o.ProductFeatureCode.UnlimMobile},{featureCode:o.ProductFeatureCode.NoAds}],lang:n}});t.default=a(i.HoldPopup)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41),i=n(214),o=n(917),a=n(42),s=n(180),u=n(23),c=n(19),l=n(330),d=n(15),f=n(44),p=n(29),h=n(273);function*m(e){yield r.put(i.fetchInvitesToFolders(e))}function*v(e){const t=yield r.select(h.getAccessFolderResource);(null===t||void 0===t?void 0:t.id)===e&&(yield r.put(s.maybeFetchAccessFolderUsers({silent:!0})))}function*g(e){const{role:t,data:n}=e;if("actor"===t)yield r.call(m,!0);else if("owner"===t){const e=u.normalize(n.folder.path);yield r.call(v,e)}}function*y(e){const{role:t,data:n}=e;if("actor"===t)yield r.call(m,!0),yield r.put(a.notify({operation:"accessFolder",status:"completed",role:t,nameFolder:n.folder.name}));else if("owner"===t){const e=u.normalize(n.folder.path);yield r.call(v,e)}}function*b(e){var t;const{role:n,data:i}=e;if(i.folder){const e=u.normalize(i.folder.path);if("actor"===n){(yield r.select(c.isExistsResource,e))&&(yield r.call(l.fetchResourceSaga,{payload:{id:e}}),yield r.put(d.notifyChangedAccess(e))),yield r.put(a.notify({operation:"accessFolder",status:"completed",role:n,nameFolder:u.basename(e),rights:i.folder.rights}))}else if("owner"===n){const n=yield r.select(h.getAccessFolderResource);(null===n||void 0===n?void 0:n.id)===e&&i.folder.rights&&(null===(t=null===i||void 0===i?void 0:i.user)||void 0===t?void 0:t.uid)&&(yield r.put(s.updateUserByUid({id:e,uid:i.user.uid,data:{rights:i.folder.rights}})))}}}function*_(e){const{role:t,data:n}=e;if(n.folder){const e=u.normalize(n.folder.path);if(["actor","user"].includes(t)){if(yield r.select(c.isExistsResource,e)){const t=yield r.select(f.getIdContext);u.isParentOrEqualToCurrentFolder(e,t)&&(yield r.put(p.goToUrl("/client/disk")));const n=yield r.select(c.getResourceData,e);yield r.put(d.destroyResourceAction(n.id,n))}yield r.call(l.fetchSpaceSaga),yield r.put(a.notify({operation:"accessFolder",status:"completed",role:"actor",nameFolder:u.basename(e)}))}else"owner"===t&&(yield r.call(v,e))}}function*O(e){var t;const{role:n,data:i}=e;if("owner"===n&&i.folder){const e=u.normalize(i.folder.path);yield r.call(v,e),yield r.put(a.notify({operation:"leaveFolder",status:"completed",role:n,nameFolder:u.basename(e),nameUser:null===(t=null===i||void 0===i?void 0:i.user)||void 0===t?void 0:t.name}))}}t.remoteActionsSaga=function*({payload:e}){try{const{root:{parameters:t},values:n}=e,a={type:t.type,role:t.for,data:n.reduce((e,t)=>(e[t.tag]=t.parameters,e),{})};switch(a.type){case"invite_new":yield r.call(g,a);break;case"invite_removed":yield r.call(y,a);break;case"invite_rejected":yield r.put(i.remoteRejectInviteToFolder(a.data,a.role));break;case"invite_approved":yield r.put(i.remoteAcceptInviteToFolder(a.data,a.role));break;case"rights_changed":yield r.call(b,a);break;case"user_was_banned":case"folder_unshared":yield r.call(_,a);break;case"user_has_left":yield r.call(O,a)}}catch(e){o.handleSagaError(e,"remoteActionsSaga")}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(56),a=n(52),s=n(19),u=n(23),c=r(n(14)),l=n(15),d=n(84),f=n(80),p=n(32),h=n(34),m=r(n(9)),v=r(n(138)),g=n(266),y=n(146),b=n(44),_=["actions","copy"];function*O(e,t=0,n){try{const r=m.default.chunk(e,y.CREATE_OPERATION_CHUNK_SIZE),c=[];for(let e=0;e<r.length;e++){const a=r[e],u=a.map(({src:e,dst:n})=>({src:e,dst:n,force:t}));if(n)for(const e of u){const t=yield i.select(s.getResourceData,e.src);e.albumId=n,e.itemId=t.itemId}const{errors:l}=yield i.call(y.bulkStartOperations,"mpfs/bulk-async-copy",u,a);c.push(...l),0===e&&(yield i.put(o.checkOperationsStatus()))}const d=c.filter(({error:e})=>e.code===h.MPFS_ERROR_CODES.COPY_D2D_RESOURCE_EXISTS),f=c.filter(({error:e})=>e.code!==h.MPFS_ERROR_CODES.COPY_D2D_RESOURCE_EXISTS);for(let e=0;e<d.length;e++){const{operation:r}=d[e],c=r,f=yield i.select(s.getResourceData,c.src),p=yield i.select(s.getResourceData,c.dst);if("dir"===f.type||p.path===f.path){yield i.put(a.add("prompt",{gid:c.gid,dialogParams:{resourceId:f.id,title:"",text:"«"+yr.externals.entityify(p.name)+"» уже существует в папке «"+yr.externals.entityify(m.default.last(p.parents).name)+"». Введите новое имя.",nameSuffix:v.default(Date.now(),"_DD.MM.YYYY"),submitButtonText:"Продолжить",hasCancelButton:!0,noChangeExtensionConfirmation:!0}}));const{payload:{isSubmit:e,params:r}}=yield i.take(o.decideConfirmation);if(e){const{name:e}=r,a=g.createDst(f,u.dirname(p.path),e);(yield i.select(s.isExistsResource,a.id))||(yield i.put(l.updateResources([a])));const d=Object.assign(Object.assign({},c),{dst:a.id});yield i.put(o.updateOperationsByIds({[c.id]:d})),yield i.fork(O,[d],t,n)}else yield i.put(o.removeOperationById(c.id))}else{yield i.put(a.add("confirmation",{gid:c.gid,dialogParams:{text:"Файл «"+yr.externals.entityify(p.name)+"» уже cуществует в папке «"+yr.externals.entityify(m.default.last(p.parents).name)+"». Заменить?"}}));const{payload:{isSubmit:t,groupId:r}}=yield i.take(o.decideConfirmation),s=Boolean(r);if(t){const t=(s?d.slice(e):[d[e]]).map(({operation:e})=>e);if(yield i.fork(O,t,1,n),s)break}else yield i.put(o.removeOperationById(c.id))}}yield i.call(y.processCommonErrors,f),yield i.put(o.cleanupOperations())}catch(e){y.handleOperationSagaError(e,"startCopyOperationsSaga")}}function*E({payload:e}){var t,n;try{const r=Array.isArray(e)?e:[e],h=r.length>1?m.default.uniqueId():void 0,{resources:v}=yield i.select(),E=r.some(e=>u.isParent("/photounlim",e)),w=h?{}:v[r[0]],S=yield i.select(p.isCurrentAlbumFamily),C=yield i.select(p.getCurrentAlbumId),x=yield i.select(b.getIdContext);for(const e of r)u.isParent("/attach/yaruarchive",e)?c.default.count("interface elements","yaru",..._):u.isParent("/attach",e)&&c.default.count("interface elements","mail attachments","/attach",..._),x.startsWith("/search")&&c.default.count("about search",..._),S&&c.default.count("family album",..._);yield i.put(a.add("select-folder",{sagaOperation:{type:d.OperationType.COPY,srcs:r},dialogParams:{type:"copy",resourceId:h?void 0:r[0],title:h?"Куда копировать "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(r.length)+" объект",yr.externals.entityify(r.length)+" объекта",yr.externals.entityify(r.length)+" объектов"],yr.externals.entityify(r.length))+"?":"Куда копировать «"+yr.externals.entityify(w.name)+"»?",unlimWarningText:E?"Копии файлов займут дополнительное место на Диске":null,submitButtonText:"Копировать"}}));const T=yield i.take(o.decideConfirmation),P=null===(n=null===(t=T.payload)||void 0===t?void 0:t.params)||void 0===n?void 0:n.folderId;if(!T.payload.isSubmit||!P)return;const k=yield i.select(),j=r.map(e=>{const t=s.getResourceData(k,e),n=g.createDst(t,P,t.name);return s.isExistsResource(k,n.id)?s.getResourceData(k,n.id):n}),R=j.map(({id:e})=>e);yield i.put(l.updateResources(j));const I=r.map((e,t)=>{const{type:n}=s.getResourceData(k,e);return{type:d.OperationType.COPY,src:e,srcType:n,dst:R[t],gid:h,startTime:Date.now()}});yield i.put(o.createOperations({operations:I}));const A=yield i.select(f.getOperationsToStart,d.OperationType.COPY);yield i.call(O,A,0,S?C:void 0)}catch(e){y.handleOperationSagaError(e,"copyOperationSaga")}}function*w({payload:e}){try{const t=e[d.OperationType.COPY];if(!(null===t||void 0===t?void 0:t.length))return;yield i.call(y.fetchOperationResources,t,"dst")}catch(e){y.handleOperationSagaError(e,"processCompleteCopyOperationsSaga")}}t.copyOperationRootSaga=function*(){yield i.all([i.takeEvery(o.copyOperation,E),i.takeEvery(o.processCompleteOperations,w)])}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(146),a=n(84),s=r(n(9)),u=n(56),c=n(19),l=n(266),d=n(15),f=n(80),p=r(n(14)),h=n(44);function*m(e){try{const t=s.default.chunk(e,o.CREATE_OPERATION_CHUNK_SIZE),n=[];for(let e=0;e<t.length;e++){const r=t[e],a=r.map(({src:e,dst:t})=>({src:e,dst:t})),{errors:s}=yield i.call(o.bulkStartOperations,"mpfs/bulk-async-restore",a,r);n.push(...s),0===e&&(yield i.put(u.checkOperationsStatus()))}yield i.call(o.processCommonErrors,n),yield i.put(u.cleanupOperations())}catch(e){o.handleOperationSagaError(e,"startRestoreOperationSaga")}}function*v({payload:e}){try{const t=Array.isArray(e)?e:[e],n=t.length>1?s.default.uniqueId():void 0,r=yield i.select(h.getIdContext);t.forEach(()=>{r.startsWith("/search")&&p.default.count("about search","actions","restore")});const v=yield i.select(),g=t.map(e=>Object.assign({},c.getResourceData(v,e))),y=g.map(e=>l.createDst(e,e.meta.original_parent_id,e.name));g.forEach(e=>{e.state={hidden:!0}});const b=y.map(e=>e.id);yield i.put(d.updateResources([...g,...y]));const _=g.map((e,t)=>({type:a.OperationType.RESTORE,src:e.id,srcType:e.type,dst:b[t],gid:n,startTime:Date.now()}));yield i.put(u.createOperations({operations:_}));const O=yield i.select(f.getOperationsToStart,a.OperationType.RESTORE);yield i.call(m,O)}catch(e){o.handleOperationSagaError(e,"restoreOperationSaga")}}function*g({payload:e}){try{const t=e[a.OperationType.RESTORE];if(!(null===t||void 0===t?void 0:t.length))return;const n=t.reduce((e,t)=>(t.resource&&(e[t.oid]={dst:t.resource.id}),e),{}),r=yield i.select(f.findOperations,t.map(({oid:e,id:t})=>({oid:e,id:t})));yield i.put(u.updateOperationsByOids(n)),yield i.call(o.updateCompleteOperationResources,t,"dst"),yield i.call(o.destroySrcs,r)}catch(e){o.handleOperationSagaError(e,"processCompleteRestoreOperationsSaga")}}t.restoreOperationRootSaga=function*(){yield i.all([i.takeEvery(u.restoreOperation,v),i.takeEvery(u.processCompleteOperations,g)])}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(56),a=n(84),s=n(146),u=n(24),c=n(144),l=n(19),d=n(15),f=n(52),p=n(330),h=n(80),m=n(23),v=r(n(35)),g=r(n(14)),y=r(n(9)),b=n(153),_=n(44),O=n(29),E=["actions","delete"];function*w(e){const t=[],n=yield i.select();for(const r of e){let e,a,s,u,d=c.capitalize("удаление"),p=!1;const h=l.getResourceData(n,r),b=y.default.get(h,"meta.group.is_root")&&y.default.get(h,"meta.group.is_owned");if(b&&(a=`${"Папка «"+yr.externals.entityify(h.name)+"» будет перемещена в Корзину. Все, кто имеет доступ к этой папке, потеряют его."}\nВы уверены?`),m.isParent("/attach/YaFotki",r)&&(d="Ссылки на фото исчезнут",e=h.name,a="Если удалить или переместить фотографии, они исчезнут везде, где вы размещали на них ссылки. Информация о фотографиях с Яндекс.Фоток (описание, EXIF, статистика) также будет удалена.",s="Не удалять",p=!0,u="cancel"),v.default.isCamera(r)&&(a="Папка «"+yr.externals.entityify(h.name)+"» будет перемещена в Корзину. \n При следующей автозагрузке фотографий будет создана новая папка «"+yr.externals.entityify(h.name)+"»."),a){yield i.put(f.add("confirmation",{dialogParams:{title:d,fotkiResourceName:e,text:a,submitButtonText:"Удалить",cancelButtonText:s,cancelAll:p,submitAllButtonText:"Удалить все",actionButton:u}}));const{payload:{isSubmit:t}}=yield i.take(o.decideConfirmation);if(!t)continue;b&&g.default.count("actions","shared folders","revoke access for all","by deleting")}t.push(r)}return t}function*S({payload:e}){try{const t=yield i.select(_.getIdContext),n=Array.isArray(e)?e:[e];for(const e of n)m.isParent("/attach/yaruarchive",e)&&g.default.count("interface elements","yaru",...E),m.isParent("/attach/YaFotki",e)&&g.default.count("interface elements","yafotki",...E),t.startsWith("/search")&&g.default.count("about search",...E);const r=yield i.call(w,n);if(!r.length)return;const c=r.length>1?y.default.uniqueId():void 0,f=r.map(e=>e.startsWith("/trash/")||u.isInVirtualDiskTrash(e)?null:m.join(u.isPathInsideVirtualDiskFiles(e)?u.getCurrentVirtualDiskTrash(e):"trash",m.basename(e))),b=yield i.select(),O=f.filter(Boolean).map((e,t)=>{const n=l.getResourceData(b,r[t]);return v.default.preprocess(Object.assign({id:e,state:{part:!0}},y.default.pick(n,["name","type"])))}),S=r.map(e=>{const t=Object.assign({},l.getResourceData(b,e));return t.state=Object.assign(Object.assign({},t.state||{}),{hidden:!0}),t}),C=S.map((e,t)=>({type:a.OperationType.DELETE,src:e.id,srcType:e.type,dst:f[t],gid:c,startTime:Date.now()}));if(yield i.put(o.createOperations({operations:C})),O.length){yield i.put(d.updateResources(O));const e=C.map(({src:e,dst:t})=>({src:e,dst:t})).filter(({dst:e})=>e);yield i.call(p.moveClonedResourcesSaga,e)}yield i.put(d.updateResources(S));const x=[],T=yield i.select(h.getOperationsToStart,a.OperationType.DELETE),P=y.default.chunk(T,s.CREATE_OPERATION_CHUNK_SIZE);for(let e=0;e<P.length;e++){const t=P[e],n=t.map(({src:e})=>({src:e})),{errors:r}=yield i.call(s.bulkStartOperations,"mpfs/bulk-async-delete",n,t);x.push(...r),0===e&&(yield i.put(o.checkOperationsStatus()))}yield i.call(s.processCommonErrors,x);const k=[];for(const e of x){const{operation:{src:t,dst:n}}=e,r=yield i.select(l.getResourceData,t);if(n&&r){const e=yield i.select(l.getResourceData,n);e&&(yield i.put(d.cancelMoveClonedResource(r,e)))}}k.length&&(yield i.put(d.updateResources(k))),yield i.put(o.cleanupOperations())}catch(e){s.handleOperationSagaError(e,"deleteOperationSaga")}}function*C({payload:e}){try{const t=e[a.OperationType.DELETE];if(!(null===t||void 0===t?void 0:t.length))return;const n=yield i.select(h.findOperations,t.map(({oid:e,id:t})=>({oid:e,id:t})));yield i.call(s.updateCompleteOperationResources,t,"dst"),n.some(({src:e})=>e.startsWith("/trash/")||u.isInVirtualDiskTrash(e))&&(yield i.put(b.updateUserInfoForOverdraft()));const r=yield i.select(_.getIdContext);n.some(({src:e})=>r.startsWith(e))&&(yield i.put(O.goToUrl("/client"+m.dirname(r)))),yield i.call(s.destroySrcs,n)}catch(e){s.handleOperationSagaError(e,"processCompleteDeleteOperationsSaga")}}t.deleteOperationRootSaga=function*(){yield i.all([i.takeEvery(o.deleteOperation,S),i.takeEvery(o.processCompleteOperations,C)])}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(56),a=n(146),s=n(19),u=n(52),c=n(144),l=n(84),d=n(15),f=n(95),p=n(42),h=r(n(14));function*m(e){try{yield i.put(d.setResourceData(e,!0,"state.hidden"));const t=yield i.select(s.getResourceData,e);try{yield i.call(f.api,"mpfs/share-leave-group",{gid:t.meta.group.gid})}catch(t){yield i.call(a.processCommonError,{operation:{src:e},error:t}),yield i.put(d.setResourceData(e,!1,"state.hidden"))}const n=yield i.call(a.getOperationNotificationBase,[{type:l.OperationType.LEAVE_FOLDER,status:l.OperationStatus.DONE,src:e}]);yield i.put(p.notify(n)),yield i.put(d.destroyResourceAction(e))}catch(e){a.handleOperationSagaError(e,"startLeaveFolderOperationSaga")}}function*v({payload:e}){try{const t=Array.isArray(e)?e:[e];for(const e of t){h.default.count("actions","shared folders","leave folder","by deleting");const{name:t}=yield i.select(s.getResourceData,e);yield i.put(u.add("confirmation",{dialogParams:{title:c.capitalize("удаление"),text:`${"Вы потеряете доступ к файлам в папке «"+yr.externals.entityify(t)+"». Она будет удалена с вашего Диска."}\nВы уверены?`,submitButtonText:"Удалить",submitAllButtonText:"Удалить все"}}));const{payload:{isSubmit:n}}=yield i.take(o.decideConfirmation);n&&(yield i.spawn(m,e))}}catch(e){a.handleOperationSagaError(e,"leaveFolderOperationSaga")}}t.leaveFolderOperationRootSaga=function*(){yield i.all([i.takeEvery(o.leaveFolderOperation,v)])}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41),i=n(146),o=n(19),a=n(56);t.deleteOrLeaveFolderSaga=function*({payload:e}){try{const t=Array.isArray(e)?e:[e],n=[],s=[],u=yield r.select();t.forEach(e=>{var t,r,i,a;const c=o.getResourceData(u,e);(null===(r=null===(t=null===c||void 0===c?void 0:c.meta)||void 0===t?void 0:t.group)||void 0===r?void 0:r.is_root)&&!(null===(a=null===(i=null===c||void 0===c?void 0:c.meta)||void 0===i?void 0:i.group)||void 0===a?void 0:a.is_owned)?s.push(e):n.push(e)}),s.length&&(yield r.put(a.leaveFolderOperation(s))),n.length&&(yield r.put(a.deleteOperation(n)))}catch(e){i.handleOperationSagaError(e,"deleteOrLeaveFolderSaga")}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(56),a=n(32),s=n(149),u=n(65),c=n(84),l=n(80),d=n(146),f=r(n(9));function*p({payload:e}){try{const t=Array.isArray(e)?e:[e],n=t.length>1?f.default.uniqueId():void 0,r=yield i.select(a.getCurrentAlbum);yield i.put(u.removeItemsFromAlbum(r.id,t));const p=t.map(e=>({type:c.OperationType.REMOVE_RESOURCE_ALBUM,srcType:"file",src:e,albumId:r.id,gid:n,startTime:Date.now()}));yield i.put(o.createOperations({operations:p}));const h=yield i.select(l.getOperationsToStart,c.OperationType.REMOVE_RESOURCE_ALBUM),m=h.reduce((e,t)=>(e[t.id]={status:c.OperationStatus.EXECUTING},e),{});yield i.put(o.updateOperationsByIds(m));const v=f.default.chunk(h,d.CREATE_OPERATION_CHUNK_SIZE);for(let e=0;e<v.length;e++){const t=v[e],n=t.map(({src:e})=>{const t=s.getAlbumResourceIndexPath(r,{id:e}),n=t&&r.clusters[t.clusterIndex].items[t.resourceIndex];return null===n||void 0===n?void 0:n.itemId}).filter(Boolean).map(e=>({itemId:e})),{errors:o,startedOperations:a}=yield i.call(d.bulkStartOperations,"mpfs/bulk-album-item-remove",n,t);yield i.call(d.processCommonErrors,o);const u=yield i.select(l.getOperationsByIds,Object.keys(a));for(const e of u)yield i.call(d.sendOperationTiming,e)}yield i.call(d.sendBulkOperationsTimings),yield i.call(d.notifyCompleteOperations),yield i.put(o.cleanupOperations())}catch(e){d.handleOperationSagaError(e,"removeResourceAlbumOperationSaga")}}t.removeResourceAlbumOperationRootSaga=function*(){yield i.takeEvery(o.removeResourceAlbumOperation,p)}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(56),a=n(32),s=n(52),u=n(752),c=n(59),l=n(65),d=n(84),f=n(80),p=n(19),h=n(15),m=n(146),v=r(n(9));function*g({payload:e}){try{const t=Array.isArray(e)?e:[e],n=yield i.select(a.getCurrentAlbum),r="geo"===(null===n||void 0===n?void 0:n.album_type),{page:{filter:g},settings:y}=yield i.select(),b=r?"geo":g,_=r?"confirmExcludeFromGeoAlbumShowed":"confirmExcludeFromAlbumShowed";if(!("1"===y[_])){yield i.put(c.saveSettings({key:_,value:"1"}));const e=u.FILTERS_TITLES[b];yield i.put(s.add("confirmation",{dialogParams:{text:1===t.length?"Фото будет скрыто из альбома «"+yr.externals.entityify(e)+"», но останется на Диске и будет доступно в других альбомах. Вернуть фото в этот альбом не получится":"Выбранные фото будут скрыты из альбома «"+yr.externals.entityify(e)+"», но останутся на Диске и будут доступны в других альбомах. Вернуть фото в этот альбом не получится",submitButtonText:"Убрать из альбома",cancelButtonText:"Отмена"}}));const{payload:{isSubmit:n}}=yield i.take(o.decideConfirmation);if(!n)return}const O=yield i.select(),E=t.map(e=>{const t=p.getResourceData(O,e);return Object.assign(Object.assign({},t),{meta:Object.assign(Object.assign({},t.meta),{albums_exclusions:[...v.default.get(t,"meta.albums_exclusions",[]),b]})})});(null===n||void 0===n?void 0:n.id)?yield i.put(l.removeItemsFromAlbum(n.id,t)):yield i.put(h.excludeResourceFromAlbum(E,b)),yield i.put(h.updateResources(E));const w=t.length>1?v.default.uniqueId():void 0,S=t.map(e=>({type:d.OperationType.EXCLUDE_FROM_ALBUM,srcType:"file",src:e,gid:w,albumType:b,startTime:Date.now()}));yield i.put(o.createOperations({operations:S}));const C=yield i.select(f.getOperationsToStart,d.OperationType.EXCLUDE_FROM_ALBUM),x=C.reduce((e,t)=>(e[t.id]={status:d.OperationStatus.EXECUTING},e),{});yield i.put(o.updateOperationsByIds(x));const T=v.default.chunk(C,m.CREATE_OPERATION_CHUNK_SIZE);for(let e=0;e<T.length;e++){const t=T[e],n=t.map(({src:e,albumType:t})=>({src:e,albumType:t})),{errors:r,startedOperations:o}=yield i.call(m.bulkStartOperations,"mpfs/bulk-albums-exclude-from-generated",n,t);if(r.length){const e=yield i.select(),t=r.map(({operation:{src:t}})=>{const n=p.getResourceData(e,t),r=v.default.get(n,"meta.albums_exclusions",[]).filter(e=>e!==b);return Object.assign(Object.assign({},n),{meta:Object.assign(Object.assign({},n.meta),{albums_exclusions:r})})});yield i.put(h.updateResources(t)),yield i.put(h.excludeResourceFromAlbum(t,b,!0)),yield i.call(m.processCommonErrors,r)}const a=yield i.select(f.getOperationsByIds,Object.keys(o));for(const e of a)yield i.call(m.sendOperationTiming,e)}yield i.call(m.sendBulkOperationsTimings),yield i.call(m.notifyCompleteOperations),yield i.put(o.cleanupOperations())}catch(e){m.handleOperationSagaError(e,"excludeFromAlbumOperationSaga")}}t.excludeFromAlbumOperationRootSaga=function*(){yield i.takeEvery(o.excludeFromAlbumOperation,g)}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(56),a=n(84),s=n(146),u=n(23),c=n(52),l=n(19),d=n(266),f=n(15),p=n(80),h=n(34),m=r(n(138)),v=n(330),g=n(44),y=n(44),b=r(n(9)),_=r(n(35)),O=n(29),E=r(n(14)),w=n(136);function*S(e){const t=[];for(const n of e){let e,r,a,s,l,d=!1;if(u.isParent("/attach/YaFotki",n)&&(e="Ссылки на фото исчезнут",r=u.filename(n),a="Если удалить или переместить фотографии, они исчезнут везде, где вы размещали на них ссылки. Информация о фотографиях с Яндекс.Фоток (описание, EXIF, статистика) также будет удалена.",s="Не перемещать",d=!0,l="cancel"),_.default.isCamera(n)&&(a="Папка «"+yr.externals.entityify(u.filename(n))+"» будет перемещена. \n При следующей автозагрузке фотографий будет создана новая папка «"+yr.externals.entityify(u.filename(n))+"»."),a){yield i.put(c.add("confirmation",{dialogParams:{title:e,fotkiResourceName:r,text:a,submitButtonText:"Переместить",cancelButtonText:s,cancelAll:d,submitAllButtonText:"Переместить все",actionButton:l}}));const{payload:{isSubmit:t}}=yield i.take(o.decideConfirmation);if(!t)continue}t.push(n)}return t}function*C(e,t=0){try{const n=b.default.chunk(e,s.CREATE_OPERATION_CHUNK_SIZE),r=[];for(let e=0;e<n.length;e++){const a=n[e],u=a.map(({src:e,dst:n})=>({src:e,dst:n,force:t})),{errors:c}=yield i.call(s.bulkStartOperations,"mpfs/bulk-async-move",u,a);r.push(...c),0===e&&(yield i.put(o.checkOperationsStatus()))}const a=r.filter(({error:e})=>e.code===h.MPFS_ERROR_CODES.COPY_D2D_RESOURCE_EXISTS),p=r.filter(({error:e})=>e.code!==h.MPFS_ERROR_CODES.COPY_D2D_RESOURCE_EXISTS);for(let e=0;e<a.length;e++){const{operation:n}=a[e],r=yield i.select(l.getResourceData,n.src),s=yield i.select(l.getResourceData,n.dst);if("dir"===r.type){yield i.put(c.add("prompt",{dialogParams:{resourceId:r.id,title:"",text:"«"+yr.externals.entityify(s.name)+"» уже существует в папке «"+yr.externals.entityify(b.default.last(s.parents).name)+"». Введите новое имя.",nameSuffix:m.default(Date.now(),"_DD.MM.YYYY"),submitButtonText:"Продолжить",hasCancelButton:!0,noChangeExtensionConfirmation:!0}}));const{payload:{isSubmit:e,params:a}}=yield i.take(o.decideConfirmation);if(e){const{name:e}=a,c=d.createDst(r,u.dirname(s.path),e);(yield i.select(l.isExistsResource,c.id))||(yield i.put(f.updateResources([c])));const p=Object.assign(Object.assign({},n),{dst:c.id});yield i.put(o.updateOperationsByIds({[n.id]:p})),yield i.fork(C,[p],t)}else yield i.put(o.removeOperationById(n.id))}else{yield i.put(c.add("confirmation",{gid:n.gid,dialogParams:{text:"Файл «"+yr.externals.entityify(s.name)+"» уже cуществует в папке «"+yr.externals.entityify(b.default.last(s.parents).name)+"». Заменить?"}}));const{payload:{isSubmit:t,groupId:r}}=yield i.take(o.decideConfirmation),u=Boolean(r);if(t){const t=(u?a.slice(e):[a[e]]).map(({operation:e})=>e);if(yield i.fork(C,t,1),u)break}else yield i.put(o.removeOperationById(n.id))}}yield i.call(s.processCommonErrors,p)}catch(e){s.handleOperationSagaError(e,"startMoveOperationSaga")}}function*x({payload:e}){var t,n;try{const{ids:r}=e,h=Array.isArray(r)?r:[r],m=yield i.select(y.getIdContext);h.forEach(()=>{m.startsWith("/search")&&E.default.count("about search","actions","move")});const v=yield i.call(S,h);if(!v.length)return;const _=v.length>1?b.default.uniqueId():void 0;let O;if(e.targetFolderId)O=e.targetFolderId;else{const e=v.some(e=>u.isParent("/photounlim",e)),r=_?void 0:yield i.select(l.getResourceData,v[0]);yield i.put(c.add("select-folder",{sagaOperation:{type:a.OperationType.MOVE,srcs:v},dialogParams:{type:"move",resourceId:_?void 0:v[0],title:_?"Куда переместить "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(v.length)+" объект",yr.externals.entityify(v.length)+" объекта",yr.externals.entityify(v.length)+" объектов"],yr.externals.entityify(v.length))+"?":"Куда переместить «"+yr.externals.entityify(r.name)+"»?",unlimWarningText:e?"После перемещения файлы займут дополнительное место на Диске":null,submitButtonText:"Переместить"}}));const s=yield i.take(o.decideConfirmation);if(O=null===(n=null===(t=s.payload)||void 0===t?void 0:t.params)||void 0===n?void 0:n.folderId,!s.payload.isSubmit||!O)return}const w=yield i.select(g.getPage),x=["remember-block","photo","album"].includes(w),T=[],P=[],k=yield i.select();v.forEach(e=>{const t=l.getResourceData(k,e),n=d.createDst(t,O,t.name,x?{part:!0}:{hidden:!0,part:!0});t.id!==n.id&&(l.isExistsResource(k,n.id)?P.push(l.getResourceData(k,n.id)):P.push(n),T.push(Object.assign(Object.assign({},t),{state:{disabled:!0}})))});const j=P.map(({id:e})=>e),R=T.map((e,t)=>({type:a.OperationType.MOVE,src:e.id,srcType:e.type,dst:j[t],gid:_,startTime:Date.now()}));yield i.put(o.createOperations({operations:R})),yield i.put(f.updateResources([...T,...P]));const I=yield i.select(p.getOperationsToStart,a.OperationType.MOVE);yield i.call(C,I)}catch(e){s.handleOperationSagaError(e,"moveOperationSaga")}}function*T({payload:e}){try{const t=e[a.OperationType.MOVE];if(!(null===t||void 0===t?void 0:t.length))return;const n=yield i.select(p.findOperations,t.map(({oid:e,id:t})=>({oid:e,id:t})));yield i.call(s.updateCompleteOperationResources,t,"dst");const r=yield i.select(y.getIdContext);for(const e of n){const{src:t,dst:n,srcType:o}=e;"dir"===o&&n&&(t===r||u.isParent(t,r))&&(yield i.put(O.goToUrl(`/client${u.escape(n)}`)))}"/photo"===r&&(yield i.put(w.deselectResources(n.map(({src:e})=>e))));const o=n.map(({src:e,dst:t})=>({src:e,dst:t}));yield i.call(v.moveClonedResourcesSaga,o),yield i.call(s.destroySrcs,n)}catch(e){s.handleOperationSagaError(e,"processCompleteMoveOperationsSaga")}}t.moveOperationRootSaga=function*(){yield i.all([i.takeEvery(o.moveOperation,x),i.takeEvery(o.processCompleteOperations,T)])}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(56),a=n(146),s=n(84),u=n(330),c=n(20),l=n(19),d=n(44),f=n(80),p=n(23),h=r(n(35)),m=n(144),v=n(52),g=n(266),y=n(15),b=n(136),_=n(34),O=n(29);function*E(e,t,n){const r=yield i.call(a.processCommonError,e[0]),{error:o}=e[0],s={progress:!1,message:""};o.code===_.MPFS_ERROR_CODES.COPY_D2D_RESOURCE_EXISTS?s.message="Выберите другое имя — это уже занято другой папкой или файлом":r.reasonText?(s.message=r.reasonText,r.reasonTextAux&&(s.message+=" "+r.reasonTextAux)):s.message="dir"===t.type?"Не удалось переименовать папку «"+yr.externals.entityify(n.name)+"»":"Не удалось переименовать файл «"+yr.externals.entityify(n.name)+"»",yield i.put(c.updateDialog("rename",s))}function*w({payload:e}){var t,n;try{for(yield i.put(c.openDialog("rename",{resourceId:e}));;){const{cancel:r,submit:d}=yield i.race({cancel:i.take(o.cancelConfirmation),submit:i.take(o.submitConfirmation)});if(r)return void(yield i.put(c.closeDialogAction("rename")));const{payload:{name:O}}=d;if(null===(n=null===(t=(yield i.select()).dialogs.rename)||void 0===t?void 0:t.data)||void 0===n?void 0:n.progress)return;const w=yield i.select(l.getResourceData,e),S=p.join(p.dirname(e),O);if(e===S)return void(yield i.put(c.closeDialogAction("rename")));if(h.default.isCamera(e)){yield i.put(v.add("confirmation",{dialogParams:{title:m.capitalize("переименование"),text:"Папка «"+yr.externals.entityify(w.name)+"» будет переименована. \n При следующей автозагрузке фотографий будет создана новая папка «"+yr.externals.entityify(w.name)+"».",submitButtonText:"Переименовать"}}));const{payload:{isSubmit:e}}=yield i.take(o.decideConfirmation);if(!e)return}yield i.put(c.updateDialog("rename",{progress:!0}));const C=g.createDst(w,p.dirname(e),O,{part:!0}),x=[{type:s.OperationType.RENAME,src:e,srcType:w.type,dst:S,startTime:Date.now()}];yield i.put(o.createOperations({operations:x}));const T=yield i.select(f.getOperationsToStart,s.OperationType.RENAME);if(yield i.select(l.isExistsResource,S)){const e={operation:T[0],error:{code:_.MPFS_ERROR_CODES.COPY_D2D_RESOURCE_EXISTS,statusCode:412}};yield i.call(E,[e],w,C);continue}yield i.put(y.updateResources([Object.assign(Object.assign({},w),{state:{hidden:!0}}),C],{addToChildren:!0})),yield i.call(u.moveClonedResourcesSaga,[{src:e,dst:S}]);const{errors:P}=yield i.call(a.bulkStartOperations,"mpfs/bulk-async-move",x,T);if(1!==P.length){yield i.put(o.checkOperationsStatus()),yield i.put(c.closeDialogAction("rename",{progress:!1})),yield i.put(b.deselectAllStatesContext());break}yield i.call(E,P,w,C),yield i.put(y.cancelMoveClonedResource(w,C)),yield i.put(y.destroyResource(S,C)),yield i.put(y.updateResources([Object.assign(Object.assign({},w),{state:{}})]))}}catch(e){a.handleOperationSagaError(e,"renameOperationSaga")}}function*S({payload:e}){try{const t=e[s.OperationType.RENAME];if(!(null===t||void 0===t?void 0:t.length))return;const n=yield i.select(f.findOperations,t.map(({oid:e,id:t})=>({oid:e,id:t})));yield i.call(a.updateCompleteOperationResources,t,"dst");const r=yield i.select(d.getIdContext);for(const{src:e,dst:t}of n)e&&t&&(p.isParent(e,r)||e===r)&&(yield i.put(O.goToUrl(`/client${p.escape(t)}`)));const o=n.filter(({remote:e})=>Boolean(e)).map(({src:e,dst:t})=>({src:e,dst:t}));o.length&&(yield i.call(u.moveClonedResourcesSaga,o)),yield i.call(a.destroySrcs,n)}catch(e){a.handleOperationSagaError(e,"processCompleteRenameOperationsSaga")}}t.renameOperationRootSaga=function*(){yield i.all([i.takeEvery(o.renameOperation,w),i.takeEvery(o.processCompleteOperations,S)])}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(56),a=n(52),s=n(19),u=n(84),c=n(95),l=n(80),d=n(146),f=n(15),p=n(403),h=r(n(14));function*m([e]){try{const{meta:{resource_id:t}}=yield i.select(s.getResourceData,e.src);yield i.put(f.startCreatingWfolionProject(e.src));const n=yield i.call(c.api,"mpfs/wfolio-create-project",{resource_id:t}),r={};n.oid&&(r[e.id]={status:u.OperationStatus.WAITING,oid:n.oid}),yield i.put(o.updateOperationsByIds(r)),yield i.put(o.checkOperationsStatus())}catch(t){d.handleOperationSagaError(t,"startWfolioCreateProjectOperationSaga"),yield i.call(d.processCommonError,{operation:e,error:t});const n={};n[e.id]={status:u.OperationStatus.FAILED},yield i.put(f.stopCreatingWfolionProject(e.src)),yield i.put(o.updateOperationsByIds(n))}}function*v({payload:e}){var t,n;try{const r=(Array.isArray(e)?e:[e]).filter(Boolean),s=["operations","wfolio","create project","success"];if(!r.length){s.push("from select folder"),yield i.put(a.add("select-folder",{sagaOperation:{type:u.OperationType.WFOLIO_CREATE_PROJECT,srcs:r},dialogParams:{type:"wfolio-create-project",title:"Из какой папки создать проект?",submitButtonText:"Создать проект"}}));const e=yield i.take(o.decideConfirmation);if((null===(n=null===(t=e.payload)||void 0===t?void 0:t.params)||void 0===n?void 0:n.folderId)&&r.push(e.payload.params.folderId),!e.payload.isSubmit||!r[0])return}const c=r.map(e=>({type:u.OperationType.WFOLIO_CREATE_PROJECT,src:e,startTime:Date.now(),srcType:"dir"}));yield i.put(o.createOperations({operations:c}));const f=yield i.select(l.getOperationsToStart,u.OperationType.WFOLIO_CREATE_PROJECT);yield i.call(m,f),h.default.count(...s)}catch(e){d.handleOperationSagaError(e,"wfolioCreateProjectOperationSaga")}}function*g({payload:e}){const t=e[u.OperationType.WFOLIO_CREATE_PROJECT];try{if(!(null===t||void 0===t?void 0:t.length))return;yield i.call(d.fetchOperationResources,t,"src"),yield i.put(p.fetchUserInfo())}catch(e){d.handleOperationSagaError(e,"processCompleteWfolioCreateProjectOperationsSaga");const n=t.map(({oid:e})=>e),r=yield i.select(l.getOperationsByOids,n);for(const e of r)yield i.put(f.stopCreatingWfolionProject(e.src))}}t.wfolioCreateProjectOperationRootSaga=function*(){yield i.all([i.takeEvery(o.wfolioCreateProjectOperation,v),i.takeEvery(o.processCompleteOperations,g)])}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(56),a=n(19),s=n(84),u=n(95),c=n(80),l=n(146),d=n(15),f=n(403),p=n(52),h=r(n(14));function*m([e]){try{const{meta:{wfolio_project_id:t}}=yield i.select(a.getResourceData,e.src);yield i.put(d.startDeletingWfolionProject(e.src));const n=yield i.call(u.api,"mpfs/wfolio-delete-project",{project_id:t}),r={};n.oid&&(r[e.id]={status:s.OperationStatus.WAITING,oid:n.oid}),yield i.put(o.updateOperationsByIds(r)),yield i.put(o.checkOperationsStatus())}catch(t){l.handleOperationSagaError(t,"startWfolioDeleteProjectOperationSaga"),yield i.call(l.processCommonError,{operation:e,error:t});const n={};n[e.id]={status:s.OperationStatus.FAILED},yield i.put(d.stopDeletingWfolionProject(e.src)),yield i.put(o.updateOperationsByIds(n))}}function*v({payload:e}){try{const t=Array.isArray(e)?e:[e];if(t.length>1)return;yield i.put(p.add("confirmation",{dialogParams:{title:"Убрать папку из проектов Wfolio?",text:"Папка останется на Диске, но не будет отображаться в разделе проектов и синхронизироваться с Wfolio.",submitButtonText:"Убрать",cancelButtonText:"Отменить"}}));const{payload:{isSubmit:n}}=yield i.take(o.decideConfirmation);if(!n)return;const r=t.map(e=>({type:s.OperationType.WFOLIO_DELETE_PROJECT,src:e,startTime:Date.now(),srcType:"dir"}));yield i.put(o.createOperations({operations:r}));const a=yield i.select(c.getOperationsToStart,s.OperationType.WFOLIO_DELETE_PROJECT);yield i.call(m,a)}catch(e){l.handleOperationSagaError(e,"wfolioDeleteProjectOperationSaga")}}function*g({payload:e}){const t=e[s.OperationType.WFOLIO_DELETE_PROJECT];try{if(!(null===t||void 0===t?void 0:t.length))return;h.default.count("operations","wfolio","delete project","success"),yield i.call(l.fetchOperationResources,t,"src"),yield i.put(f.fetchUserInfo())}catch(e){l.handleOperationSagaError(e,"processCompleteWfolioDeleteProjectOperationsSaga");const n=t.map(({oid:e})=>e),r=yield i.select(c.getOperationsByOids,n);for(const e of r)yield i.put(d.stopDeletingWfolionProject(e.src))}}t.wfolioDeleteProjectOperationRootSaga=function*(){yield i.all([i.takeEvery(o.wfolioDeleteProjectOperation,v),i.takeEvery(o.processCompleteOperations,g)])}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(56),a=n(52),s=n(23),u=r(n(14)),c=n(146),l=n(19),d=n(95),f=n(330),p=n(15),h=n(84);function*m({payload:e}){try{const t=yield i.select(l.getResourceData,e,"meta.group.gid");if(!t)return;yield i.put(a.add("confirmation",{dialogParams:{title:"Вы действительно хотите закрыть доступ?",text:"Папка «"+yr.externals.entityify(s.basename(e))+"» будет доступна только вам и удалится у приглашённых участников.",submitButtonText:"Закрыть доступ"}}));const{payload:{isSubmit:n}}=yield i.take(o.decideConfirmation);if(!n)return;u.default.count("actions","shared folders","revoke access for all","by button in dialog");try{yield i.call(d.api,"mpfs/share-unshare-folder",{gid:t})}catch(t){yield i.call(c.processCommonError,{operation:{type:h.OperationType.UNSHARE,src:e},error:t})}yield i.call(f.fetchResourceSaga,{payload:{id:e}}),yield i.put(p.notifyChangedAccess(e))}catch(e){c.handleOperationSagaError(e,"unshareFolderOperationSaga")}}t.unshareFolderOperationRootSaga=function*(){yield i.all([i.takeEvery(o.unshareOperation,m)])}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),o=n(146),a=n(56),s=n(84),u=n(91),c=n(80),l=n(44),d=n(19),f=n(30),p=n(52),h=n(20),m=n(15),v=n(576),g=n(266),y=n(23),b=r(n(35)),_=n(95);function*O({targetFolderId:e,folderName:t}){const n=y.join(e,t),r={dst:n},l=b.default.validateName(t);if(l){let e="Не удалось создать папку «"+yr.externals.entityify(t)+"»";return l===b.NAME_VALIDATION_ERRORS.NAME_HAS_SLASH?e="Название папки не может содержать символ «/»":l===b.NAME_VALIDATION_ERRORS.NAME_EXCEEDS_MAX_LENGTH&&(e="Название папки не может быть длиннее 255 символов"),Object.assign(Object.assign({},r),{error:{message:e}})}const d=[{type:s.OperationType.CREATE_FOLDER,srcType:"dir",dst:n,startTime:Date.now()}];yield i.put(a.createOperations({operations:d}));const f=yield i.select(c.getOperationsToStart,s.OperationType.CREATE_FOLDER),p=f[0];yield i.put(a.updateOperationsByIds({[p.id]:{status:s.OperationStatus.WAITING}}));try{yield i.call(_.api,"mpfs/mkdir",{path:n})}catch(l){const{reason:e,reasonText:n,reasonTextAux:a}=yield i.call(o.processCommonError,{operation:p,error:null===l||void 0===l?void 0:l.error});let s="Не удалось создать папку «"+yr.externals.entityify(t)+"»";e===u.Reason.exists?s="Выберите другое имя — это уже занято другой папкой или файлом":n&&(s=n,a&&(s+=" "+a)),r.error={message:s}}return r.error||(yield i.call(o.sendOperationTiming,p),yield i.call(o.updateCompleteOperationResources,f,"dst"),yield i.put(a.updateOperationsByIds({[p.id]:{status:s.OperationStatus.DONE}})),yield i.call(o.notifyCompleteOperations)),yield i.put(a.cleanupOperations()),r}function*E({payload:{isFamily:e,isShared:t}}){try{let n=yield i.select(l.getIdContext);const r="Новая папка";let u=y.join(n,r),c=!0;const b=yield i.select(d.getResourceData,n),_=e||t?f.CREATE_SHARED_INSIDE:f.CREATE_INSIDE;if(!(b&&f.can(_,b,yield i.select())))for(yield i.put(p.add("select-folder",{sagaOperation:{type:s.OperationType.CREATE_FOLDER,srcs:[]},dialogParams:{type:"create-folder",title:e?"Выберите место для новой семейной папки":"Выберите место для новой папки",creatingSharedFolder:t,creatingFamilyFolder:e}}));;){const{decideAction:e,createFolderAction:t}=yield i.race({decideAction:i.take(a.decideConfirmation),createFolderAction:i.take(a.submitConfirmation)});if(t){c=!1;const{payload:{name:e,parentId:r}}=t;n=r,yield i.put(h.updateDialog("selectFolder",{creatingFolder:!0,createFolderError:""}));const o=yield i.call(O,{folderName:e,targetFolderId:n});if(u=o.dst,o.error){yield i.put(h.updateDialog("selectFolder",{creatingFolder:!1,createFolderError:o.error.message}));continue}{const{dialogs:{selectFolder:{data:{onSubmit:t}}}}=yield i.select();yield i.call(t,{folderId:r,name:e});break}}if(!e.payload.isSubmit||!n)return;if(e.payload.params){n=e.payload.params.folderId;break}}if(c){u=y.join(n,r);let t=yield i.select(d.getResourceData,u);t||(t=g.createDst({type:"dir"},n,r),yield i.put(m.updateResources([t])));const o=e?"familyFolderCreation":"rename";for(yield i.put(h.openDialog(o,e?void 0:{title:"Укажите название папки",resourceId:u}));;){const{submit:e}=yield i.race({cancel:i.take(a.cancelConfirmation),submit:i.take(a.submitConfirmation)});if(!e)return void(yield i.put(h.closeDialogAction(o)));yield i.put(h.updateDialog(o,{progress:!0,message:""}));const t=yield i.call(O,{folderName:e.payload.name,targetFolderId:n});if(u=t.dst,!t.error){yield i.put(h.closeDialogAction(o,{progress:!1}));break}yield i.put(h.updateDialog(o,{progress:!1,message:t.error.message}))}}const E=yield i.select(l.getIdContext);y.dirname(u)===E&&(yield i.put(m.setScrollToResource(u))),e&&(yield i.put(v.createFamilyFolder(u))),t&&(yield i.put(m.openSharedFolderAccessDialog(u)))}catch(e){o.handleOperationSagaError(e,"createFolderOperationSaga")}}function*w({payload:e}){try{const t=e[s.OperationType.CREATE_FOLDER];if(!(null===t||void 0===t?void 0:t.length))return;yield i.call(o.updateCompleteOperationResources,t,"dst")}catch(e){o.handleOperationSagaError(e,"processCompleteCreateFolderOperationsSaga")}}t.createFolderOperationRootSaga=function*(){yield i.all([i.takeEvery(a.createFolderOperation,E),i.takeEvery(a.processCompleteOperations,w)])}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41),i=n(245),o=n(830),a=n(234),s=n(548);function*u({payload:e}){const t=yield r.getContext("handleError"),n=yield r.getContext("api");try{if(yield r.select(o.getIsAvailableSettingsLoading,e))return;yield r.put(i.setIsAvailableSettingsLoading({id:e,isLoading:!0}));const a=yield r.call(n,"mpfs/get-available-public-settings",{path:e});yield r.put(i.setAvailableSettings({id:e,availableSettings:a})),yield r.put(i.setIsAvailableSettingsLoading({id:e,isLoading:!1}))}catch(n){null===t||void 0===t||t(i.fetchAvailablePublicSettings.type,n),yield r.put(i.setIsAvailableSettingsLoading({id:e,isLoading:!1}))}}function*c(e){const t=yield r.getContext("api"),{pddOrgId:n,checkIsOuter:o}=yield r.getContext("userSettings"),a=yield r.call(t,"mpfs/get-public-settings",{path:e,allowAddressAccess:!0,isPDD:Boolean(n),checkIsOuter:o});yield r.put(i.setPublicSettings({id:e,publicSettings:a}))}function*l({payload:e}){const t=yield r.getContext("handleError"),{id:n}=e;try{if(yield r.select(o.getIsPublicSettingsLoading,n))return;yield r.put(i.setIsPublicSettingsLoading({id:n,isLoading:!0})),yield r.call(c,n),yield r.put(i.setIsPublicSettingsLoading({id:n,isLoading:!1}))}catch(e){yield r.put(i.fetchPublicSettingsFail({id:n,error:e})),null===t||void 0===t||t(e,i.fetchPublicSettings.type),yield r.put(i.setIsPublicSettingsLoading({id:n,isLoading:!1}))}}function*d(e,t){var n,o,s;const u=yield r.getContext("handleError");try{if((null===(n=null===t||void 0===t?void 0:t.error)||void 0===n?void 0:n.code)===a.MPFSErrorCode.IDMInvalidPermissionError&&Array.isArray(null===(o=null===t||void 0===t?void 0:t.error)||void 0===o?void 0:o.data))return yield r.put(i.setExternalEmails({id:e,emails:null===(s=null===t||void 0===t?void 0:t.error)||void 0===s?void 0:s.data})),!0}catch(t){null===u||void 0===u||u(t,"processSettingsErrorSaga")}return!1}function*f({payload:e}){const t=yield r.getContext("handleError"),n=yield r.getContext("api"),{id:a,type:u,settings:l,positiveUpdate:f}=e;let p=null;try{if(yield r.put(i.setIsUpdatingSettings({id:a,isUpdating:!0})),f){(p=yield r.select(o.getPublicSettings,a))||(p={accesses:[],available_until:null});const e=Object.assign({},p);if(l.accesses){const t=l.accesses.find(s.isCommonPublicSettings);e.accesses=e.accesses.map(e=>e.macros?Object.assign(Object.assign({},e),t):Object.assign({},e))}if(l.available_until){if(1e3*l.available_until<Date.now())throw{error:{code:-1,message:"invalid available_until value"}};e.available_until=l.available_until}yield r.put(i.setPublicSettings({id:a,publicSettings:e}))}const{pddOrgId:e}=yield r.getContext("userSettings");yield r.call(n,"mpfs/set-public-settings",{path:a,allowAddressAccess:!0,convertToOldFormat:"folder"===u,pddOrgId:e&&Number(e),settings:l}),yield r.call(c,a)}catch(e){p&&f&&(yield r.put(i.setPublicSettings({id:a,publicSettings:p}))),(yield r.call(d,a,e))||(null===t||void 0===t||t(e,i.updatePublicSettings.type),yield r.put(i.updatePublicSettingsFail({id:a,type:u,error:e})))}finally{yield r.put(i.setIsUpdatingSettings({id:a,isUpdating:!1}))}}function*p({payload:e}){const t=yield r.getContext("handleError"),n=yield r.getContext("api"),{id:o,type:a,settings:s}=e;let u=null;try{yield r.put(i.setIsUpdatingSettings({id:o,isUpdating:!0})),"album"===a?u=yield r.call(n,"mpfs/album-publish",{albumId:o}):(u=yield r.call(n,"mpfs/set-public",{path:o,type:a,allowAddressAccess:!0,convertToOldFormat:"folder"===a,settings:s}),yield r.call(c,o)),yield r.put(i.setPublicSuccess({id:o,type:a,response:u}))}catch(e){(yield r.call(d,o,e))||(null===t||void 0===t||t(e,i.setPublic.type),yield r.put(i.setPublicFail({id:o,error:e,type:a})))}finally{yield r.put(i.setIsUpdatingSettings({id:o,isUpdating:!1}))}}function*h({payload:e}){const t=yield r.getContext("handleError"),n=yield r.getContext("api"),{id:o,type:a}=e;let s=null;try{yield r.put(i.setIsSettingPrivate({id:o,isSettingPrivate:!0})),"album"===a?s=yield r.call(n,"mpfs/album-unpublish",{albumId:o}):yield r.call(n,"mpfs/set-private",{path:o,type:a}),yield r.put(i.setPrivateSuccess({id:o,type:a,response:s}))}catch(e){null===t||void 0===t||t(e,i.setPrivate.type),yield r.put(i.setPrivateFail({id:o,error:e,type:a}))}finally{yield r.put(i.setIsSettingPrivate({id:o,isSettingPrivate:!1})),yield r.put(i.clearPublicSettings(o))}}function*m({payload:e}){const t=yield r.getContext("handleError"),n=yield r.getContext("api");try{const{pddOrgId:o,checkIsOuter:a}=yield r.getContext("userSettings"),{query:s,limit:u,exclude:c}=e,l=yield r.call(n,"aceventura/suggest",{query:s,exclude:c,isPDD:Boolean(o),checkIsOuter:a,limit:u});yield r.put(i.setSuggestions(l))}catch(e){null===t||void 0===t||t(e,i.fetchSuggestions.type)}}t.default=function*(){yield r.all([r.takeLatest(i.fetchSuggestions.type,m),r.takeEvery(i.fetchAvailablePublicSettings.type,u),r.takeEvery(i.fetchPublicSettings.type,l),r.takeEvery(i.updatePublicSettings.type,f),r.takeEvery(i.setPrivate.type,h),r.takeEvery(i.setPublic.type,p)])}}),(function(e,t){e.exports={getParamSource:function(e,t,n){return[e,t,n].filter(Boolean).join("_")},getParamOrigin:function(e,t){return["disk",e,t].join("_")}}}),(function(e,t){e.exports={filterAvailableLangs:({availableLangs:e,unsupported:t=[]})=>e.filter(e=>!t.includes(e))}}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});t.default=(e=>r(void 0,void 0,void 0,(function*(){if(window&&window.Ya.Rum)try{const t=yield(e=>r(void 0,void 0,void 0,(function*(){const t=yield window.crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e));return Array.from(new Uint8Array(t)).map(e=>e.toString(16).padStart(2,"0")).join("")})))(e);window.Ya.Rum.updateErrors({referrer:t})}catch(e){window.Ya.Rum.updateErrors({referrer:"-"})}})))}),(function(e,t,n){"use strict";n.r(t);var r=n(290);r.default.addTest("audiomp3",(function(){var e=document.createElement("audio");try{return!!e.canPlayType("audio/mpeg;").replace(/no/,"")}catch(e){return!1}})),r.default.addTest("uploaddrag",(function(){return r.default.draganddrop&&r.default.filereader})),r.default.addTest("webkit",(function(){return new RegExp(" AppleWebKit/").test(navigator.userAgent)})),r.default.addTest("clipboard",(function(){var e=!1;try{document.queryCommandSupported("copy")&&(document.queryCommandEnabled("copy"),e=!0)}catch(e){}return e}))}),(function(e,t,n){(function(e){e.nb.bindTo=function(e,t,n){[].slice.call(e).forEach((function(e){nb.block(e).on(t,n)}))},e.nb.unbindTo=function(e,t,n){[].slice.call(e).forEach((function(e){nb.block(e).off(t,n)}))},e.nb.findBlocks=function(t,n){n||(n=e.document);var r=n.querySelectorAll(t);return[].slice.call(r).map((function(e){return nb.block(e)}))}}).call(this,n(110))}),(function(e,t,n){"use strict";n.r(t);var r=n(35),i=n(154),o=n(20),a=n(19),s=n(15),u=n(30),c=n(18),l=n(52);n(272),n(1057);var d=n(23),f=n(34);i.a.define("operationCreateFolder",{methods:{init:function(){var e=this.get(".nameFolderDst")||this.DEFAULT_FOLDER_NAME,t=this.get(".idDst");t&&(this.set(".idFolderDst",d.dirname(t)),Object(a.isExistsResource)(Object(c.default)().getState(),t)||(e=d.basename(t),this.createDst(e))),this._canCreateFolderInCurrentContext()&&this.createSrc(e)},run:function(){return this.get(".nameFolderDst")?this.setStatus("validating"):this.get(".idDst")?this.setStatus("determined"):this._canCreateFolderInCurrentContext()?this.setStatus("created"):this.setStatus("selectFolder"),this},createSrc:function(e){var t=d.join(this.get(".idFolderDst"),"."+Date.now()+e);return this.set(".idSrc",t),Object(c.default)().dispatch(Object(s.createResource)({id:t,name:e,type:"dir",state:{hidden:!0}},{part:!0}))},createDst:function(e){return Object(c.default)().dispatch(Object(s.createResource)({id:this.get(".idDst"),name:e,type:"dir",state:{hidden:!0}},{part:!0}))},onStatusCreated:function(){this.doRename()},doRename:function(){var e=this,t=Object(c.default)();this.get(".creatingFamilyFolder")?t.dispatch(Object(o.openDialog)("familyFolderCreation",{onSubmit:function(n){t.dispatch(Object(o.updateDialog)("familyFolderCreation",{message:"",progress:!0})),e.set(".nameFolderDst",n),e.setStatus("validating")},onClose:function(){e.setStatus("canceled"),t.dispatch(Object(o.closeDialog)("familyFolderCreation"))}})):t.dispatch(Object(o.openDialog)("rename",{title:"Укажите название папки",resourceId:this.get(".idSrc"),onSubmit:function(n){var r={progress:!0};"error"===t.getState().dialogs.rename.state&&(r.message=""),t.dispatch(Object(o.updateDialog)("rename",r)),e._keepOnError=!0,e.set(".nameFolderDst",n),e.setStatus("validating")},onClose:function(){e.setStatus("canceled"),t.dispatch(Object(o.closeDialog)("rename"))}}))},onStatusValidating:function(){var e=this.get(".nameFolderDst"),t=d.join(this.get(".idFolderDst"),e),n=r.default.validateName(e);return n?(this.set(".reason",n),this.setStatus("failed")):Object(a.isExistsResource)(Object(c.default)().getState(),t)?this.setStatus("exists"):(this.set(".idDst",t),this.createDst(e),void this.setStatus("determined"))},onStatusDetermined:function(){Object(c.default)().dispatch(Object(s.hideResource)(this.get(".idSrc"))),this.doRequestCreate()},doRequestCreate:function(){this.startTiming(),ns.Model.get("queueRequest").push({id:"do-resource-create-folder",params:{id:this.get(".idDst"),force:this.get(".force")}}).always(this.handleResponseCreate,this)},handleResponseCreate:function(e){var t=e.valueOf();this.extractErrorFromResponse(t)?this.handleErrorCreate(t):(this.setStatus("completed"),d.dirname(t.params.id)===ns.page.current.params.idContext&&Object(c.default)().dispatch(Object(s.setScrollToResource)(t.params.id)))},getResourcePathKeyForLockError:function(){return".idFolderDst"},handleErrorCreate:function(e){var t=this.extractErrorFromResponse(e)||{};this.getErrorType(t.id)===f.STATUS_CREATE_FOLDER.EXISTS?this.setStatus("exists"):(this.checkReasonFailed(e),this.set(".verboseReason",t),this.setStatus("failed"))},getErrorType:function(e){return"HTTP_412"===e||"HTTP_405"===e?f.STATUS_CREATE_FOLDER.EXISTS:f.STATUS_CREATE_FOLDER.UNKNOWN},onStatusCanceled:function(){var e=Object(c.default)();e.dispatch(Object(s.removeResource)(this.get(".idSrc"))),e.dispatch(Object(s.removeResource)(this.get(".idDst"))),e.dispatch(Object(o.closeDialog)(this._getDialogName()))},onStatusFailed:function(){var e,t=this.get(".reason"),n=this.get(".reasonText");if(t===r.NAME_VALIDATION_ERRORS.NAME_HAS_SLASH)e="Название папки не может содержать символ «/»";else if(n){e=n;var i=this.get("reasonTextAux");i&&(e+=" "+i)}else e=t===r.NAME_VALIDATION_ERRORS.NAME_EXCEEDS_MAX_LENGTH?"Название папки не может быть длиннее 255 символов":"Не удалось создать папку «"+yr.externals.entityify(this.get(".nameFolderDst"))+"»";var a=Object(c.default)();a.dispatch(Object(o.updateDialog)(this._getDialogName(),{progress:!1,message:e})),a.dispatch(Object(s.removeResource)(this.get(".idDst"))),this.notify()},onStatusExists:function(){Object(c.default)().dispatch(Object(o.updateDialog)(this._getDialogName(),{progress:!1,message:"Выберите другое имя — это уже занято другой папкой или файлом"})),this.notify("failed")},onStatusCompleted:function(){var e=Object(c.default)(),t=this.get(".idDst");e.dispatch(Object(s.removeResource)(this.get(".idSrc"))),t&&Object(a.isExistsResource)(e.getState(),t)&&this.fetchResource(t,!0)},onStatusSelectFolder:function(){var e=this,t=this.get(".creatingFamilyFolder")?"Выберите место для новой семейной папки":"Выберите место для новой папки";Object(c.default)().dispatch(Object(l.add)("select-folder",{operation:this,dialogParams:{title:t,type:"create-folder",creatingSharedFolder:this.get(".creatingSharedFolder"),creatingFamilyFolder:this.get(".creatingFamilyFolder")},onSubmit:function(t){var n=t.folderId,r=t.name;if(e.set(".idDst",n),e.get(".creatingFamilyFolder")){e.set(".idFolderDst",n);var i=e.get(".nameFolderDst")||e.DEFAULT_FOLDER_NAME;e.createSrc(i),e.setStatus("created")}else e.createDst(r),e.setStatus("completed")},onReject:function(){e.setStatus("canceled")}}))},handleSyncResource:function(){Object(c.default)().dispatch(Object(s.showResource)(this.get(".idDst"))),this.setStatus("done")},onStatusDone:function(){this.sendTiming(),this.notify(),this.get(".isRemote")||Object(c.default)().dispatch(Object(o.closeDialog)(this._getDialogName()))},notify:function(e){var t=Object(c.default)().getState();return this.showNotification({operation:"createFolder",nameFolderDst:this.get(".nameFolderDst"),src:Object(a.getResourceData)(t,this.get(".idSrc")),dst:Object(a.getResourceData)(t,this.get(".idDst")),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux"),status:e||this.get(".status"),committer:this.get(".committer")})},_canCreateFolderInCurrentContext:function(){var e=this.get(".idFolderDst"),t=Object(c.default)().getState(),n=this.get(".creatingFamilyFolder")?u.CREATE_SHARED_INSIDE:u.CREATE_INSIDE;return Object(a.isExistsResource)(t,e)&&Object(u.can)(n,Object(a.getResourceData)(t,e),t)},_getDialogName:function(){return this.get(".creatingFamilyFolder")?"familyFolderCreation":"rename"},DEFAULT_FOLDER_NAME:"Новая папка"}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(35),a=n(23),s=n.n(a),u=n(138),c=n.n(u),l=n(154),d=n(30),f=n(18),p=n(44),h=n(19),m=n(212),v=n(15),g=n(52),y=n(136),b=n(14);n(272),n(1058);l.a.define("operationMove",{methods:{init:function(){var e,t=Object(f.default)(),n=t.getState(),r=this.get(".idSrc");if(Object(h.isExistsResource)(n,r))e=Object(h.getResourceData)(n,r);else{var i={id:r,type:this.get(".typeSrc"),meta:{file_id:this.get(".fileIdSrc")}};this.get(".nameSrc")&&(i.name=this.get(".nameSrc")),e=t.dispatch(Object(v.createResource)(i,{silent:!0,part:!0}))}this.set(".srcType",e.type);var o=this.get(".idDst");o&&(this.set(".idFolderDst",s.a.dirname(o)),this.createDst())},initFromMessage:function(e){var t=e.data.source&&s.a.normalize(e.data.source),n=e.data.target&&s.a.normalize(e.data.target),r=e.data.source_data;r?(this.set(".nameSrc",r.name),this.set(".typeSrc",r.type)):this.set(".typeSrc",s.a.extname(t)?"file":"dir"),this.set(".idSrc",t),this.set(".idDst",n),this.init(),this.setStatus("moving")},onStatusCreated:function(){var e,t,n,r,i,a=this,u=Object(f.default)(),c=Object(h.getResourceData)(u.getState(),this.get(".idSrc")),l=!1;s.a.isParent("/attach/YaFotki",c.id)&&(e="Ссылки на фото исчезнут",t=c.name,n="Если удалить или переместить фотографии, они исчезнут везде, где вы размещали на них ссылки. Информация о фотографиях с Яндекс.Фоток (описание, EXIF, статистика) также будет удалена.",r="Не перемещать",l=!0,i="cancel"),o.default.isCamera(c.id)&&(n="Папка «"+yr.externals.entityify(c.name)+"» будет перемещена. \n При следующей автозагрузке фотографий будет создана новая папка «"+yr.externals.entityify(c.name)+"»."),n?u.dispatch(Object(g.add)("confirmation",{operation:this,dialogParams:{title:e,fotkiResourceName:t,text:n,submitButtonText:"Переместить",cancelButtonText:r,cancelAll:l,submitAllButtonText:"Переместить все",actionButton:i},onSubmit:function(){a.setStatus("approved")},onReject:function(){a.setStatus("rejected")}})):this.setStatus("approved")},onStatusApproved:function(){var e=this;if(this.get(".idFolderDst"))this.setStatus("determined");else{var t=Object(f.default)(),n=Object(h.getResourceData)(t.getState(),this.get(".idSrc")),r=this.get(".gid"),i=t.getState().statesContext.selected,o=(r?i:[n.id]).some((function(e){return s.a.isParent("/photounlim",e)}));t.dispatch(Object(g.add)("select-folder",{operation:this,dialogParams:{type:"move",resourceId:r?void 0:this.get(".idSrc"),title:r?"Куда переместить "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(i.length)+" объект",yr.externals.entityify(i.length)+" объекта",yr.externals.entityify(i.length)+" объектов"],yr.externals.entityify(i.length))+"?":"Куда переместить «"+yr.externals.entityify(n.name)+"»?",unlimWarningText:o?"После перемещения файлы займут дополнительное место на Диске":null,submitButtonText:"Переместить"},onSubmit:function(t){var n=t.folderId;e.set(".idFolderDst",n),e.setStatus("determined")},onReject:function(){e.setStatus("rejected")}}))}},onStatusDetermined:function(){var e=Object(f.default)().getState(),t=Object(h.getResourceData)(e,this.get(".idSrc")),n=s.a.join(this.get(".idFolderDst"),this.get(".nameNew")||t.name);if(n===this.get(".idSrc"))return this.setStatus("canceled");this.set(".idDst",n),Object(h.isExistsResource)(e,n)?this.setStatus("exists"):(this.createDst(),Object(d.can)(d.MOVE,t,e)?this.setStatus("started"):this.setStatus("failed"))},createDst:function(){var e=Object(f.default)(),t=Object.assign({},Object(h.getResourceData)(e.getState(),this.get(".idSrc")));delete t.state,delete t.parents,delete t.children;var n={id:this.get(".idDst"),state:(function(){var e=Object(f.default)().getState(),t=Object(p.getPage)(e);return["remember-block","photo","album"].includes(t)})()?{part:!0}:{hidden:!0}};return e.dispatch(Object(v.createResource)(Object.assign({},t,n),{part:!0}))},removeDst:function(){var e=Object(f.default)(),t=this.get(".idDst");Object(h.getResourceData)(e.getState(),t,"state.part")&&e.dispatch(Object(v.removeResource)(t))},onStatusStarted:function(){var e=this.get(".idSrc");Object(f.default)().dispatch(Object(v.setResourceData)(e,!0,"state.disabled")),this.doRequestMove(),i.a.get(e,"meta.wfolio_project_id")&&i.a.get(e,"meta.wfolio_project_id")&&b.default.count("actions","move","to wfolio")},onStatusRejected:function(){this.removeDst(),this.remove()},remove:function(){ns.Model.destroy(this)},doRequestMove:function(){this.startTiming(),ns.Model.get("queueRequest").push({isAction:!0,id:"do-resource-move",params:{src:this.get(".idSrc"),force:this.get(".force")||0,dst:this.get(".idDst")}}).always(this.handleResponseMove,this)},handleResponseMove:function(e){var t=e.valueOf(),n=t&&t.get(".oid");n?(this.set(".oid",n,this),this.setStatus("moving")):this.handleError(t)},moveClonedResource:function(){var e=Object(f.default)(),t=e.getState(),n=Object(h.getResourceData)(t,this.get(".idSrc")),r=Object(h.getResourceData)(t,this.get(".idDst"));return"/photo"===ns.page.current.params.idContext&&e.dispatch(Object(y.deselectResources)(n.id)),this.get(".force")&&n.clusterId!==r.clusterId&&e.dispatch(Object(v.removeResource)(r.id)),e.dispatch(Object(v.moveClonedResource)(n,r))},handleError:function(e){"HTTP_412"===(this.extractErrorFromResponse(e)||{}).id?this.setStatus("exists"):(this.checkReasonFailed(e),this.setStatus("failed"))},onStatusMoving:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e&&e.get(".status");i.a.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?(this.result=e.data,this.setStatus("done")):this.handleError(e)},isActive:function(){return i.a.includes(["started","determined","moving"],this.get(".status"))},onStatusExists:function(){var e=this,t=Object(f.default)(),n=t.getState(),r=Object(h.getResourceData)(n,this.get(".idSrc")),i=Object(h.getResourceData)(n,this.get(".idDst"));"dir"===r.type?t.dispatch(Object(g.add)("prompt",{operation:this,dialogParams:{resourceId:r.id,title:"",text:"«"+yr.externals.entityify(i.name)+"» уже существует в папке «"+yr.externals.entityify(_.last(i.parents).name)+"». Введите новое имя.",nameSuffix:c()(Date.now(),"_DD.MM.YYYY"),submitButtonText:"Продолжить",hasCancelButton:!0,noChangeExtensionConfirmation:!0},onSubmit:function(t){var n=t.name;e.set(".nameNew",n),e.removeDst(),e.setStatus("determined")},onReject:function(){e.setStatus("canceled")}})):t.dispatch(Object(g.add)("confirmation",{operation:this,dialogParams:{text:"Файл «"+yr.externals.entityify(i.name)+"» уже cуществует в папке «"+yr.externals.entityify(_.last(i.parents).name)+"». Заменить?"},onSubmit:function(){e.setStatus("forced")},onReject:function(){e.setStatus("canceled")}},this))},onStatusForced:function(){this.set(".force",1),this.doRequestMove()},onStatusCompleted:function(){this.fetchResource(this.get(".idDst"),!0)},handleSyncResource:function(){this.setStatus("done")},onStatusDone:function(){var e=this;this.sendTiming(),this.notify();var t=Object(f.default)(),n=t.getState(),r=Object(h.getResourceData)(n,this.get(".idSrc")),a=Object(h.getResourceData)(n,this.get(".idDst"));if(t.dispatch(Object(v.showResource)(a.id)),(i.a.get(r,"meta.group.is_root")||i.a.get(r,"meta.with_shared"))&&(o.default.updateParentsOf(r.id),o.default.updateParentsOf(a.id)),this.result&&this.result.resource){var s=t.dispatch(Object(v.replaceResource)(a.id,this.result.resource));s.id!==a.id&&this.set(".idDst",s.id)}var u=this.get(".idSrc");Object(m.d)(t.getState(),u)&&t.dispatch(Object(v.setResourceData)(u,!0,"state.reuploaded")),this.moveClonedResource().then((function(){var n=t.getState();(e.get(".isRemote")||!Object(h.getResourceData)(n,u,"state.reuploaded")&&Object(h.getResourceData)(n,u,"state.disabled"))&&t.dispatch(Object(v.removeResource)(r.id))}))},onStatusCanceled:function(){Object(f.default)().dispatch(Object(v.setResourceData)(this.get(".idSrc"),!1,"state.disabled")),this.removeDst()},onStatusFailed:function(){this.notify(),Object(f.default)().dispatch(Object(v.setResourceData)(this.get(".idSrc"),!1,"state.disabled")),this.removeDst()},notify:function(){var e=Object(f.default)().getState();this.showNotification({src:Object(h.getResourceData)(e,this.get(".idSrc")),dst:Object(h.getResourceData)(e,this.get(".idDst")),operation:this.getType(),gid:this.get(".gid"),status:this.get(".status"),copied:this.get(".copied"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(35),a=n(23),s=n.n(a),u=n(144),c=n(18),l=n(19),d=n(212),f=n(15),p=n(52),h=n(154);n(272),n(1058),h.a.define("operationRename",{methods:{init:function(){var e,t=Object(c.default)(),n=t.getState(),r=this.get(".idSrc");if(e=Object(l.isExistsResource)(n,r)?Object(l.getResourceData)(n,r):t.dispatch(Object(f.createResource)({id:r,type:this.get(".typeSrc"),meta:{file_id:this.get(".fileIdSrc")}},{silent:!0,part:!0})),this.set(".srcType",e.type),this.get(".idDst")){var i=this.createDst();t.dispatch(Object(f.moveClonedResource)(e,i)).then((function(){t.dispatch(Object(f.hideResource)(e.id))}))}else("dir"!==e.type||r!==n.page.idContext)&&r.startsWith(n.page.idContext)&&r.startsWith("/disk")||this.set(".srcContextId",n.page.idContext)},initFromMessage:function(e){var t=e.data.source&&s.a.normalize(e.data.source),n=e.data.target&&s.a.normalize(e.data.target),r=s.a.extname(t)?"file":"dir";this.set(".typeSrc",r),this.set(".idSrc",t),this.set(".idDst",n),this.init(),this.setStatus("progressing")},onStatusCreated:function(){var e=this,t=Object(c.default)(),n=Object(l.getResourceData)(t.getState(),this.get(".idSrc"));this._oldName=n.name,function(e){var t=s.a.join(s.a.dirname(n.id),e),r=o.default.validateName(e);return r?(this.set(".reason",r),this.setStatus("failed"),!1):Object(l.isExistsResource)(Object(c.default)().getState(),t)?(this.setStatus(t===n.id?"canceled":"exists"),!1):(this.set(".idDst",t),!0)}.bind(this)(this.get(".nameProposed"))&&(o.default.isCamera(n.id)?Object(c.default)().dispatch(Object(p.add)("confirmation",{operation:this,dialogParams:{title:Object(u.capitalize)("переименование"),text:"Папка «"+yr.externals.entityify(n.name)+"» будет переименована. \n При следующей автозагрузке фотографий будет создана новая папка «"+yr.externals.entityify(n.name)+"».",submitButtonText:"Переименовать"},onSubmit:function(){e.setStatus("approved")},onReject:function(){e.setStatus("canceled")}})):this.setStatus("approved"))},onStatusApproved:function(){var e=this,t=Object(c.default)(),n=Object(l.getResourceData)(t.getState(),this.get(".idSrc")),r=this.createDst();t.dispatch(Object(f.moveClonedResource)(n,r)).then((function(){t.dispatch(Object(f.hideResource)(n.id)),e.doRequestRename()}))},createDst:function(){var e=Object(c.default)(),t={id:this.get(".idDst"),name:this.get(".nameProposed")},n=Object.assign({},Object(l.getResourceData)(e.getState(),this.get(".idSrc")));return delete n.state,delete n.parents,delete n.children,e.dispatch(Object(f.createResource)(Object.assign({},n,t),{part:!0}))},doRequestRename:function(){this.startTiming(),ns.Model.get("queueRequest").push({id:"do-resource-move",params:{src:this.get(".idSrc"),dst:this.get(".idDst"),force:0}}).then(this.handleResponseRename,this.handleResponseRename,this)},handleResponseRename:function(e){var t=e.get(".oid");t?(this.set(".oid",t),this.setStatus("progressing")):this.handleErrorRename(e)},handleErrorRename:function(e){"HTTP_412"===(this.extractErrorFromResponse(e)||{}).id?this.setStatus("exists"):(this.checkReasonFailed(e),this.setStatus("failed"))},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e.get(".status");i.a.includes(["EXECUTING","WAITING"],t)?this.doRequestStatus():"DONE"===t?(this.result=e.data,this.setStatus("completed")):this.handleErrorRename(e)},onStatusExists:function(){this.set(".reason","exists"),this.setStatus("failed")},onStatusCompleted:function(){this.fetchResource(this.get(".idDst"),!0)},handleSyncResource:function(){this.setStatus("done")},onStatusDone:function(){this.sendTiming();var e=Object(c.default)(),t=e.getState(),n=this.get(".idSrc");(this.get(".isRemote")||!Object(d.d)(t,n)&&Object(l.getResourceData)(t,n,"state.hidden"))&&(e.dispatch(Object(f.removeResource)(n)),delete this._oldName)},onStatusCanceled:function(){this.restore()},onStatusFailed:function(){this.notify(),this.restore()},restore:function(){var e=Object(c.default)(),t=e.getState(),n=Object(l.getResourceData)(t,this.get(".idSrc")),r=Object(l.getResourceData)(t,this.get(".idDst"));n&&r&&e.dispatch(Object(f.cancelMoveClonedResource)(n,r)),n&&(this._oldName&&(e.dispatch(Object(f.setResourceData)(n.id,this._oldName,"name")),delete this._oldName),e.dispatch(Object(f.showResource)(n.id))),r&&i.a.get(r,"state.part")&&e.dispatch(Object(f.removeResource)(r.id))},notify:function(){var e=Object(c.default)().getState();return this.showNotification({src:Object(l.getResourceData)(e,this.get(".idSrc")),dst:Object(l.getResourceData)(e,this.get(".idDst")),operation:this.getType(),nameProposed:this.get(".nameProposed"),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(35),a=n(154),s=n(18),u=n(19),c=n(15),l=n(209),d=n(52);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n(272),n(1798),a.a.define("operationPublish",{methods:{init:function(){var e=this.get(".idSrc");Object(u.isExistsResource)(Object(s.default)().getState(),e)||this.setStatus("canceled")},onStatusCreated:function(){var e=this,t=Object(s.default)(),n=this.get(".idSrc");t.dispatch(Object(l.shareLinkStarted)()),t.dispatch(Object(c.startPublishResource)(n)),!this.get(".reverse")&&o.default.isCamera(n)?t.dispatch(Object(d.add)("confirmation",{operation:this,dialogParams:{text:"Обратите внимание — по этой ссылке будут доступны все фото и видео, в том числе автоматически загружаемые с камеры или смартфона.",submitButtonText:"Опубликовать папку"},onSubmit:function(){e.setStatus("started")},onReject:function(){e.setStatus("rejected")}})):this.setStatus("started")},onStatusStarted:function(){this.doRequestPublish()},onStatusRejected:function(){Object(s.default)().dispatch(Object(c.stopPublishResource)(this.get(".idSrc"))),this.remove()},onStatusCanceled:function(){this.remove()},remove:function(){ns.Model.destroy(this)},doRequestPublish:function(){var e=Object(u.getResourceData)(Object(s.default)().getState(),this.get(".idSrc")),t=this.get(".reverse");ns.Model.get("queueRequest").push({id:"do-resource-publish",params:(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({id:e.id,reverse:t,type:e.type},!t&&{allowDefaultSettingsAvailable:!0})}).then(this.handleResponsePublish,this.handleResponsePublish,this)},handleResponsePublish:function(e){var t=Object(s.default)(),n=this.get(".idSrc");this.extractErrorFromResponse(e)?this.handleErrorPublish(e):(this.get(".reverse")?t.dispatch(Object(c.unsetPublishResource)(n)):t.dispatch(Object(c.setPublishResource)(n,e.data)),t.dispatch(Object(c.stopPublishResource)(n)),this.setStatus("done"))},handleErrorPublish:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusCompleted:function(){var e=this.get(".idSrc");Object(u.isExistsResource)(Object(s.default)().getState(),e)&&this.fetchResource(e)},handleSyncResource:function(){this.setStatus("done")},onStatusDone:function(){Object(s.default)().dispatch(Object(l.shareLinkFinished)(Date.now())),this.notify()},onStatusFailed:function(){Object(s.default)().dispatch(Object(c.stopPublishResource)(this.get(".idSrc"))),this.notify()},notify:function(){var e=Object(s.default)();return this.showNotification({src:Object(u.getResourceData)(e.getState(),this.get(".idSrc")),reverse:this.get(".reverse"),operation:this.getType(),status:this.get(".status"),reason:this.get(".reason"),reasonText:this.get(".reasonText"),reasonTextAux:this.get(".reasonTextAux")})}}})}),(function(e,t){ns.Model.define("do-resource-publish",{params:{id:null,reverse:null,type:null,allowDefaultSettingsAvailable:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(18),i=n(19),o=n(15),a=n(9),s=n.n(a),u=n(154);n(272),u.a.define("operationChanged",{methods:{init:function(){var e=this.get(".idSrc");this.set(".src",Object(i.getResourceData)(Object(r.default)().getState(),e))},onStatusCreated:function(){},onStatusCompleted:function(){var e=this,t=Object(r.default)(),n=Object(i.getResourceData)(t.getState(),this.get(".idSrc"));n?(this.set(".srcOld",n),t.dispatch(Object(o.fetchSingleResource)(n.id,{insertOnlyIfPortionLoaded:!0})).then((function(){e.handleSyncResource()})).catch((function(){e.handleSyncResource()}))):this.setStatus("done")},handleSyncResource:function(){this.setStatus("done"),this.maybeExcludeResourceFromAlbum()},maybeExcludeResourceFromAlbum:function(){var e=Object(r.default)(),t=Object(i.getResourceData)(e.getState(),this.get(".idSrc"));if(t.clusterId){var n=s.a.difference(s.a.get(t,"meta.albums_exclusions",[]),s.a.get(this.get(".srcOld"),"meta.albums_exclusions",[]));n.length&&n.forEach((function(n){e.dispatch(Object(o.excludeResourceFromAlbum)([t],n))}))}}}})}),(function(e,t,n){n(1801),n(1802),n(1815),n(1818),n(1819),ns.action.define("popup.close",(function(){nb.trigger("popup-close")}))}),(function(e,t,n){"use strict";n.r(t);var r=n(14),i=n(9),o=n.n(i),a=n(18),s=n(117),u=[{service:"mail",width:1e3,height:600},{service:"vkontakte",width:550,height:420},{service:"twitter",width:650,height:520},{service:"odnoklassniki",width:560,height:370},{service:"facebook",width:800,height:500},{service:"mailru",width:560,height:400},{service:"gplus",width:560,height:370}];function c(e){var t,n;if("mail"===e.service)return"dir"===e.type?(n="Ссылка на папку «"+yr.externals.entityify(e.title)+"» на Яндекс.Диске",t=["Посмотреть или скачать папку «"+yr.externals.entityify(e.title)+"»"]):"file"===e.type?(n="Ссылка на файл «"+yr.externals.entityify(e.title)+"» на Яндекс.Диске",t=["Посмотреть или скачать файл «"+yr.externals.entityify(e.title)+"»"]):"album"===e.type&&(n="Ссылка на альбом «"+yr.externals.entityify(e.title)+"» на Яндекс.Диске",t=["Посмотреть альбом «"+yr.externals.entityify(e.title)+"»"]),t.push(" — ",e.link),[s.links.mail,"/compose?mode=html&body="+encodeURIComponent(t.join("")),"&subject="+encodeURIComponent(n)].join("");var r=e.service;return"mailru"===r&&(r="moimir"),["http://share.yandex.ru/go.xml?service="+r,"&amp;url="+encodeURIComponent(e.link),e.title?"&amp;title="+encodeURIComponent(e.title):""].join("")}function l(e){var t=o.a.find(u,{service:e}),n="";return t&&(n="scrollbars=1,resizable=1,menubar=0,toolbar=0,status=0",n+=",left="+(screen.width-t.width)/2,n+=",top="+(screen.height-t.height)/2,n+=",width="+t.width,n+=",height="+t.height),n}ns.action.define("share.link",(function(e,t){var n=c({service:t.service,link:t.link});return window.open(n,"YaShare",l(t.service))})),ns.action.define("share.album",(function(e,t){var n=ns.Model.getValid("album",t),i=c({service:t.service,link:n.get(".public.short_url"),title:"Альбом «"+yr.externals.entityify(n.get(".title"))+"» на Яндекс.Диске",type:"album"});return r.default.count("actions","with albums","public","link","share",t.service),window.open(i,"YaShare",l(t.service)),!Object(a.default)().getState.environment.agent.isMobile}))}),(function(e,t,n){"use strict";n.r(t);var r=n(83),i=n(14),o=n(595),a=n(18),s=n(15),u=n(19),c=n(35),l=n(86),d=n(117),f=n(63),p=n(23);ns.action.define("resource.show-fullsize",(function(e,t){var n=window.open("about:blank","_blank");Object(a.default)().dispatch(Object(s.fetchSingleResource)(t.id)).then((function(){n.document.location=(function(){var e=Object(u.getResourceData)(Object(a.default)().getState(),t.id);return c.default.getDownloaderUrl(e,"ORIGINAL")||c.default.getDownloaderUrl(e,"XXXL")})(),n.focus()})).catch((function(){n.close()}))})),ns.action.define("resource.view-docviewer",(function(e,t){var a=Object(o.getQueryParams)(t),s=(0,n(18).default)(),u=s.getState(),c=u.environment.agent,h=c.BrowserName,m=c.isSupportedByUA,v=Object(l.isCoverLayerEnabled)(u);return p.isParent("/attach/yaruarchive",t.id)?i.default.count("interface elements","yaru","actions","open"):p.isParent("/attach",t.id)&&i.default.count("interface elements","mail attachments","/attach","actions","open"),(0,n(39).isDocsPage)(u)&&!t.version&&!(v&&"Safari"===h)&&m?(ns.page.go(f.addParams("/docs/view",a)),s.dispatch(Object(r.c)())):window.open(f.addParams(d.urlsBase.docviewer,a),"_blank"),!0}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(1806),n(1807);var r={color:"ps-light-transparent",root:"ps-light-transparent"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(1809),n(1810);var r={color:"ps-dark-transparent",root:"ps-dark-transparent"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"theme",(function(){return r}));n(1812),n(1813);var r={color:"ps-superdark-transparent",root:"ps-superdark-transparent"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.NewYear2024ThemeCustomization=void 0,t.NewYear2024ThemeCustomization={customEnable:function(e){return r(r({},e),{isNewYear2024ThemeEnabled:!0})},customDisable:function(e){return r(r({},e),{isNewYear2024ThemeEnabled:!1})},isEnabled:function(e){return e.isNewYear2024ThemeEnabled},isAvailable:function(e){var t=e||new Date,n=new Date("12/18/2023"),r=new Date("01/09/2024");return t>=n&&t<r}}}),(function(e,t,n){"use strict";n.r(t);n(621),n(1816),n(1817);var r=n(14),i=n(18),o=n(20),a=n(19),s=n(15),u=n(52),c=n(42),l=n(369),d=n(939),f=n(24),p=n(32),h=n(23),m=n(54);ns.action.define("resource.download",(function(e,t){var n=h.getIdApp(t.idResource);h.isParent("/attach/yaruarchive",t.idResource)?r.default.count("interface elements","yaru","actions","download"):h.isParent("/attach",t.idResource)&&r.default.count("interface elements","mail attachments","/attach","actions","download"),m.isSearch()&&r.default.count("about search","actions","download");var p=Object(i.default)(),v=function(){return(2===Object(a.getResourceData)(p.getState(),t.idResource,"meta.drweb")?new Promise(function(e,t){p.dispatch(Object(u.add)("confirmation",{dialogParams:{text:"Файл заражён вирусом и может нанести вред вашему компьютеру. Всё равно скачать?",submitButtonText:"Скачать"},onSubmit:e,onReject:t}))}):Promise.resolve()).then((function(){return Object(s.fetchResourceUrl)(t)})).then((function(e){e&&Object(l.a)(e)}),(function(){p.dispatch(Object(s.setDownloadLimitResource)(t.idResource)),p.dispatch(Object(c.notify)({operation:"download",status:"failed",type:Object(a.getResourceData)(p.getState(),t.idResource,"type")}))}))},g="Firefox"===p.getState().environment.agent.BrowserName;return"dir"===Object(a.getResourceData)(p.getState(),t.idResource,"type")?(p.dispatch(Object(s.setDownloadLimitResource)(t.idResource)),p.dispatch(Object(s.getDirSize)(t.idResource)).then((function(){!(function(){var e=p.getState(),n=Object(a.getResourceData)(e,t.idResource,"meta.size"),r=Object(a.getResourceData)(e,t.idResource,"meta.files_count");return Object(d.canDownloadFolder)({ua:e.environment.agent,resourceStats:{size:n,filesCount:r},forceDefaults:Object(f.isPathInsideVirtualDiskFiles)(t.idResource)||Boolean(e.environment.session.experiment.disk_web_client_download_limit_exp)})})()?(p.dispatch(Object(s.setDownloadLimitResource)(t.idResource,"client"===n&&6e4)),v()):(r.default.count("interface elements","big folder","click download folder"),g?(r.default.count("interface elements","big folder","show notification"),p.dispatch(Object(c.notify)({operation:"download",status:"failed",reason:"large"}))):(p.dispatch(Object(o.openDialog)("download-big-folder",{folderId:t.idResource})),p.dispatch(Object(s.resetDownloadLimitResource)(t.idResource))))}))):v(),!0})),ns.action.define("resources.download",(function(e,t){var n=Object(i.default)(),r=n.getState();if(t.idResources.map((function(e){return Object(a.getResourceData)(r,e,"meta.size")})).reduce((function(e,t){return e+t}),0)>=d.MAX_DIR_SIZE_FOR_DOWNLOAD_DEFAULT)return n.dispatch(Object(c.notify)({operation:"download",status:"failed",reason:"large"}));var o={},s=Object(p.isCurrentAlbumFamily)(r);s?(o.albumId=t.albumId,o.itemIds=JSON.stringify(t.itemIds)):o.idsResources=JSON.stringify(t.idResources),ns.Model.get("queueRequest").push({id:s?"getAlbumBulkDownloadUrl":"do-get-resources-url",params:o}).then((function(e){Object(l.a)(e.get(".download_url"))}))}))}),(function(e,t){ns.Model.define("do-get-resources-url",{params:{idsResources:null}})}),(function(e,t){ns.Model.define("getAlbumBulkDownloadUrl",{params:{itemIds:null,albumId:null}})}),(function(e,t,n){"use strict";n.r(t);var r=n(14),i=n(23),o=n(54);ns.action.define("resource.view-slider",(function(e,t){var n=t.id;return i.isParent("/attach/yaruarchive",n)&&r.default.count("interface elements","yaru","actions","open"),o.isSearch()&&r.default.count("about search","actions","view"),ns.action.run("app.openSlider",{id:n,idContextSlider:t.idContextSlider}),!0}))}),(function(e,t,n){"use strict";n.r(t);var r=n(18),i=n(59),o=n(181),a=n(19),s=n(38),u=n(9),c=n.n(u),l=n(54),d=n(23);ns.action.define("app.openSlider",(function(e,t){var n=d.getIdApp(t.idContext||ns.page.current.params.idContext),u=Object(r.default)(),f="album"===n?c.a.pick(ns.page.current.params,["albumId","test-id"]):ns.page.current.params,p=ns.router.generateUrl(ns.page.current.page,Object.assign({},f,{dialog:"slider",idDialog:t.id}));if("slider"!==ns.page.current.params.dialog){var h={sliderOpenedWithAction:!0};"scrollRestoration"in history&&(history.scrollRestoration="manual");var m=Object(a.getResourceData)(u.getState(),t.id);Object(o.resourceView)(m)===s.RESOURCE_VIEWS.VIDEO&&(h.videoAutoPlayId=t.id),u.dispatch(Object(i.updateSettings)(h))}l.go(p)}))}),(function(e,t,n){"use strict";n.r(t);var r=n(18),i=n(59),o=n(54);ns.action.define("dialog.close",(function(){var e=o.getUrlBase();return ns.events.trigger("ufo-dialog-close"),"slider"===ns.page.current.params.dialog?(o.go(e,"replace"),Object(r.default)().getState().settings.sliderOpenedWithAction&&(history.back(),"scrollRestoration"in history&&setTimeout((function(){history.scrollRestoration="auto"}),0),Object(r.default)().dispatch(Object(i.updateSettings)({sliderOpenedWithAction:!1})))):o.go(e),!1}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t){Object(r.useImperativeHandle)(t,(function(){return e.current}))}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(483);n(1841),t.withViewNote=r.withBemMod(i.cnTextinput(),{view:"note"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(483);n(1843),t.withViewNormal=r.withBemMod(i.cnTextinput(),{view:"normal"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(483);n(1845),n(1846),t.withViewSearch=r.withBemMod(i.cnTextinput(),{view:"search"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(483);n(1848),t.withViewSuggestPsHeaderLight=r.withBemMod(i.cnTextinput(),{view:"suggest-ps-header-light"})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(483);n(1850),t.withSizeNote=r.withBemMod(i.cnTextinput(),{size:"note"})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(179);function a(e){if(e&&i.default.isValidElement(e))return i.default.cloneElement(e,{className:o.cnIcon(null,[e.props.className])})}t.withIconClassName=function(e){return t=>{const n=Object.assign(Object.assign({},t),{iconLeft:a(t.iconLeft),iconRight:a(t.iconRight)});return i.default.createElement(e,Object.assign({},n))}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(11)),s=n(1861),u=n(26),c=n(85),l=n(1862),d=n(1864),f=i(n(14));n(1914);const p=()=>a.default()("settings-popup");t.default=(()=>{const[e,t]=o.useState(!1),n=o.useRef(null),r=o.useCallback(()=>{f.default.count("interface elements","header","settings"),e||f.default.count("interface elements","settings popup","show"),t(!e)},[e,t]),i=o.useCallback(()=>{t(!1)},[t]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.Button,{className:p().e("button").mix("promozavr-anchor-settingsButton"),view:"clear",size:"m","aria-label":"Настройки",onClick:r,innerRef:n,icon:s.settingsIconProvider}),o.default.createElement(c.Popup,{className:p().e("popup"),style:{width:452},view:"default",target:"anchor",anchor:n,direction:"bottom-start",hasTail:!0,tailSize:22,visible:e,onClose:i},o.default.createElement(l.SettingsPopupHeader,null),o.default.createElement(d.SettingsPopupThemes,null)))})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsIcon",(function(){return g})),n.d(t,"settingsIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",d:"m8.43 3.29.88 1.2c.27.36.62.67 1.09.8a1.85 1.85 0 0 0 1.41-.2 2 2 0 0 0 .84-1.05l.54-1.38a.75.75 0 0 1 .9-.45l.5.13.5.14a.75.75 0 0 1 .55.84l-.23 1.46c-.07.48-.02.95.2 1.34.25.41.64.73 1.14.87.47.12.93.02 1.36-.16l1.34-.59a.75.75 0 0 1 .95.31l.26.45.26.45a.75.75 0 0 1-.2.98l-1.2.88c-.37.27-.68.62-.8 1.09a1.85 1.85 0 0 0 .18 1.41c.23.4.6.67 1.06.84l1.38.55a.75.75 0 0 1 .45.89l-.13.5-.14.5a.75.75 0 0 1-.83.55l-1.47-.23a2.02 2.02 0 0 0-1.34.2c-.41.25-.73.64-.87 1.14-.12.47-.03.92.15 1.34l.6 1.36a.75.75 0 0 1-.31.95l-.45.26-.45.26a.75.75 0 0 1-.98-.2l-.85-1.15a2.1 2.1 0 0 0-1.12-.85 1.85 1.85 0 0 0-1.41.18c-.4.23-.67.6-.84 1.06l-.54 1.38a.75.75 0 0 1-.9.45l-.5-.13-.5-.13a.75.75 0 0 1-.55-.84l.23-1.47c.07-.48.02-.95-.2-1.34a1.85 1.85 0 0 0-1.13-.86 2.08 2.08 0 0 0-1.4.17l-1.31.57a.75.75 0 0 1-.95-.31L3.34 17l-.26-.44a.75.75 0 0 1 .2-.99l1.2-.88c.37-.27.68-.62.8-1.09a1.85 1.85 0 0 0-.18-1.41 2 2 0 0 0-1.06-.84l-1.38-.54a.75.75 0 0 1-.45-.9l.13-.5.14-.5a.75.75 0 0 1 .83-.54l1.47.22c.48.07.95.02 1.34-.2.41-.25.73-.64.87-1.13.12-.48.02-.94-.16-1.36l-.59-1.35a.75.75 0 0 1 .31-.95L7 3.34l.45-.26a.75.75 0 0 1 .98.2zm2.46 12.85a4.29 4.29 0 1 0 2.22-8.28 4.29 4.29 0 0 0-2.22 8.28z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(11));n(1863);const a=()=>o.default()("settings-popup-header");t.SettingsPopupHeader=(()=>i.default.createElement("div",{className:a()},i.default.createElement("h3",{className:a().e("title")},"Настройки")))}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1865);t.SettingsPopupThemes=r.default}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=n(86),s=n(1866),u=r(n(11)),c=n(550);n(1873);const l=r(n(1874)),d=r(n(1899)),f=n(235),p=n(1908),h=()=>u.default()("settings-popup-themes");t.default=(()=>{const{i18n:e}=s.useGeneralThemesI18n(),t=o.useSelector(a.isNewYearThemeAvailable),n=[f.ThemeName.GeneralDefault,t?f.ThemeName.GeneralNewYear2024:null,f.ThemeName.GeneralFlow,f.ThemeName.GeneralDarkflow,f.ThemeName.GeneralGrass].filter(e=>null!==e);return i.default.createElement(c.ExternalContext.Provider,{value:{i18n:e}},i.default.createElement("div",{className:h()},i.default.createElement("div",{className:h().e("header")},i.default.createElement("h4",{className:h().e("title")},"Тема оформления Яндекс 360"),i.default.createElement(p.GeneralThemesTooltip,null)),i.default.createElement(l.default,null),i.default.createElement(d.default,{themes:n})))})}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),a=n(550),s=n(1868),u=i(n(18));t.useGeneralThemesI18n=function(){const e=u.default().getState().environment.session.locale,t=a.LANGS.includes(e)?e:"ru",[n,i]=o.useState(null);o.useEffect(()=>{(()=>r(this,void 0,void 0,(function*(){yield s.importLocale(t);const e=s.getLocale();i(e)})))()},[]);const c=o.useCallback(e=>null===n||void 0===n?void 0:n[e],[n]);return{i18n:n?c:null}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LANGS=void 0;var i=r(n(0));t.LANGS=["be","en","kk","ru","tr","uz"],t.default=i.default.createContext({i18n:function(){return""}})}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});let o=null,a=null;const s={ru:()=>Promise.resolve().then(()=>i(n(1064))),en:()=>Promise.resolve().then(()=>i(n(1869))),tr:()=>Promise.resolve().then(()=>i(n(1870))),uk:()=>Promise.resolve().then(()=>i(n(1064))),kk:()=>Promise.resolve().then(()=>i(n(1871))),uz:()=>Promise.resolve().then(()=>i(n(1872)))};t.importLocale=function(e){return r(this,void 0,void 0,(function*(){if(o)return Promise.resolve(o);if(a)return a;const t=s[e];return a=t().then(e=>o=e)}))},t.getLocale=function(){return o}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleVideoBgTooltip=t.toggleVideoBgLabel=t.generalThemesInfoTooltip=void 0,t.generalThemesInfoTooltip="One theme for Mail, \nDisk, and Telemost",t.toggleVideoBgLabel="Play animated backgrounds",t.toggleVideoBgTooltip="If you disable this function, \nthe background will be a still image"}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleVideoBgTooltip=t.toggleVideoBgLabel=t.generalThemesInfoTooltip=void 0,t.generalThemesInfoTooltip="Yandex Mail,\nDisk ve Telemost için ortak tema",t.toggleVideoBgLabel="Videolu duvar kağıdını oynat",t.toggleVideoBgTooltip="Devre dışı bırakıldığında, video duvar kağıdı \nyerine statik görseller olur"}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleVideoBgTooltip=t.toggleVideoBgLabel=t.generalThemesInfoTooltip=void 0,t.generalThemesInfoTooltip="Пошта, \nДиск және Телемост үшін бірыңғай тақырып",t.toggleVideoBgLabel="Бейнефондарды ойнату",t.toggleVideoBgTooltip="Егер өшірсе, бейнефондар орнына \nтұрақты суреттер болады"}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleVideoBgTooltip=t.toggleVideoBgLabel=t.generalThemesInfoTooltip=void 0,t.generalThemesInfoTooltip="Pochta, Disk va Telemost uchun \nyagona mavzu",t.toggleVideoBgLabel="Videofonlarni qo‘yish",t.toggleVideoBgTooltip="Agar o‘chirilsa, videofonlar o‘rniga \no‘zgarmas tasvirlar ko‘rsatiladi"}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(1065)),u=n(1070),c=n(1071),l=i(n(14)),d={onVideoBgEnabled:u.enableVideoBg,onVideoBgDisabled:u.disableVideoBg},f=a.connect(e=>({ds:c.getDatasyncService(e)}),d);t.default=f(({onVideoBgEnabled:e,onVideoBgDisabled:t,ds:n})=>{const r=o.useCallback(()=>{l.default.count("interface elements","settings popup","videobackground","on"),e()},[e]),i=o.useCallback(()=>{l.default.count("interface elements","settings popup","videobackground","off"),t()},[t]);return o.default.createElement(s.default,{ds:n,onVideoBgEnabled:r,onVideoBgDisabled:i})})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=o(n(0)),l=u(n(1876)),d=n(1066),f=n(1879),p=n(1067),h=n(550);t.default=function(e){var t=this,n=(0,d.useGeneralThemesDatasync)(e.ds),r=n.isVideoBgEnabled,i=n.toggleVideoBg,o=e.onVideoBgDisabled,u=e.onVideoBgEnabled,m=(0,c.useContext)(h.ExternalContext).i18n,v=(0,c.useCallback)((function(){return a(t,void 0,void 0,(function(){return s(this,(function(e){return r?null===o||void 0===o||o():null===u||void 0===u||u(),[2,i()]}))}))}),[r,i,u,o]);return c.default.createElement(p.TooltipStateful,{className:l.default.tooltip,content:null===m||void 0===m?void 0:m("toggleVideoBgTooltip"),view:"default",state:"warning",size:"s",direction:"top-start"},c.default.createElement("div",null,c.default.createElement(f.Tumbler,{checked:r,onChange:v,view:"default",size:"s",id:"general-themes-video-bg",labelAfter:null===m||void 0===m?void 0:m("toggleVideoBgLabel")})))}}),(function(e,t,n){"use strict";n.r(t);n(1877);t.default={tooltip:"VideoBgSwitch-m_tooltip_3MOsY",root:"VideoBgSwitch-m_root_tPkEC",label:"VideoBgSwitch-m_label_kWbK-"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useGeneralThemesDatasync=void 0;var o=n(0);t.useGeneralThemesDatasync=function(e){var t=(0,o.useState)(e.getThemeName()),n=t[0],a=t[1],s=(0,o.useState)(e.isVideoBgEnabled()),u=s[0],c=s[1];(0,o.useEffect)((function(){var t=e.onEnableTheme(a),n=e.onSwitchVideoBg(c);return function(){t(),n()}}),[e,a,c]);var l=(0,o.useCallback)((function(){return r(void 0,void 0,void 0,(function(){return i(this,(function(t){return u?[2,e.disableVideoBg()]:[2,e.enableVideoBg()]}))}))}),[e,u]);return{currentTheme:n,isVideoBgEnabled:u,setTheme:e.enableTheme.bind(e),unsetThemes:e.disableTheme.bind(e),toggleVideoBg:l}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tumbler=void 0;var r=n(3),i=n(1129);t.Tumbler=(0,r.compose)(i.withSizeS,i.withViewDefault)(i.Tumbler)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withDefaultDelay=t.TooltipStateful=void 0;var r=n(3),i=n(31),o=n(1881),a=n(2424),s=n(1069),u=n(1893),c=new i.Registry({id:(0,a.cnTooltip)()});c.set("Popup",u.Popup),t.TooltipStateful=(0,r.compose)((0,r.composeU)(a.withSizeS),a.withViewDefault,(0,s.withDefaultDelay)(1e3),(0,i.withRegistry)(c))(o.TooltipStateful);var l=n(1069);Object.defineProperty(t,"withDefaultDelay",{enumerable:!0,get:function(){return l.withDefaultDelay}})}),(function(e,t,n){"use strict";n.r(t);var r=n(1068);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forkFn=void 0;var r=n(1);t.forkFn=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];void 0!==e&&e.apply(void 0,r.__spread(n)),t.apply(void 0,r.__spread(n))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipBackdrop=void 0;var r=n(1).__importDefault(n(0)),i=n(872);n(1884);t.TooltipBackdrop=function(e){var t=e.children;return r.default.createElement("div",{className:i.cnTooltip("Backdrop")},t)}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTooltipState=void 0;var r=n(1),i=n(0);t.useTooltipState=function(e){var t=e.defaultVisible,n=void 0!==t&&t,o=e.openDelay,a=void 0===o?0:o,s=e.closeDelay,u=void 0===s?0:s,c=r.__read(i.useState(n),2),l=c[0],d=c[1],f=i.useRef(),p=i.useRef(),h=i.useCallback((function(e){var t=e?p:f,n=e?f:p,r=e?a:u;t.current&&(clearTimeout(t.current),t.current=void 0),r>0?n.current||(n.current=window.setTimeout((function(){n.current=void 0,d(e)}),r)):d(e)}),[a,u]),m=i.useCallback((function(){return h(!0)}),[h]),v=i.useCallback((function(){return h(!1)}),[h]),g=i.useCallback((function(){return h(!l)}),[l,h]);return i.useEffect((function(){return function(){clearTimeout(f.current),clearTimeout(p.current)}}),[]),{visible:l,open:m,close:v,toggle:g}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWithOutsideClick=t.Popup=t.LegoPopup=void 0;var a=o(n(0)),s=n(3),u=n(31),c=n(519),l=n(246),d=n(745),f=n(1894);function p(e){return a.default.createElement(t.LegoPopup,r({view:e.view||"default"},e))}t.LegoPopup=(0,s.compose)((0,u.withRegistry)(l.popupRegistry),c.withTargetAnchor,c.withViewDefault,d.withZIndex)(c.Popup),t.Popup=p,t.PopupWithOutsideClick=(0,f.withOutsideClick)((function(e){var t=e.targetRef,n=(e.onEscapeKeyDown,e.onOutsideClick,i(e,["targetRef","onEscapeKeyDown","onOutsideClick"]));return a.default.createElement(p,r({innerRef:t},n))}))}),(function(e,t,n){"use strict";n.r(t);var r=n(911);n.d(t,"withOutsideClick",(function(){return r.withOutsideClick}))}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncSchema=t.GeneralThemesSettingsDatasyncService=t.ThemeName=void 0;var o=n(235);Object.defineProperty(t,"ThemeName",{enumerable:!0,get:function(){return o.ThemeName}});var a=n(1896);Object.defineProperty(t,"GeneralThemesSettingsDatasyncService",{enumerable:!0,get:function(){return a.GeneralThemesSettingsDatasyncService}}),Object.defineProperty(t,"GeneralThemesSettingsDatasyncSchema",{enumerable:!0,get:function(){return a.GeneralThemesSettingsDatasyncSchema}}),i(n(1898),t)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncSchema=t.GeneralThemesSettingsDatasyncService=void 0;var r=n(1897);Object.defineProperty(t,"GeneralThemesSettingsDatasyncService",{enumerable:!0,get:function(){return r.GeneralThemesSettingsDatasyncService}});var i=n(1072);Object.defineProperty(t,"GeneralThemesSettingsDatasyncSchema",{enumerable:!0,get:function(){return i.GeneralThemesSettingsDatasyncSchema}})}),(function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesSettingsDatasyncService=void 0;var s=n(544),u=n(235),c=n(1072),l=n(1062),d=n(1061),f=(function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.clockApi=r,i.schema=c.GeneralThemesSettingsDatasyncSchema,i.switchVideoBgCallbacks=[],i.enableThemeCallbacks=[],i}return r(t,e),t.prototype.getThemeName=function(){var e,t=(null===(e=this.clockApi)||void 0===e?void 0:e.getNow())||new Date;return(0,d.getCurrentTheme)(this.getData(),t)},Object.defineProperty(t.prototype,"isGeneralThemeTouched",{get:function(){return null!==this.getThemeName()},enumerable:!1,configurable:!0}),t.prototype.isGeneralThemeEnabled=function(e){return(0,d.isThemeEnabled)(e,this.getCommonSettings())},t.prototype.enableTheme=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,s,c,d;return a(this,(function(a){return n=i(i({},this.getData().settings),t),null!==(r=this.getThemeName())&&(null===(o=l.THEMES_CUSTOMIZATIONS[r])||void 0===o?void 0:o.customDisable)&&(n=o.customDisable(this.getData().settings)),s=l.THEMES_CUSTOMIZATIONS[e],c=null,(null===s||void 0===s?void 0:s.customEnable)&&(n=s.customEnable(this.getData().settings),c=this.getData().theme||u.ThemeName.Void),d={settings:n,theme:null===c?e:c},this.enableThemeCallbacks.forEach((function(t){try{t(e)}catch(e){}})),[2,this.setValue(u.DATASYNC_KEY_NAME,d)]}))}))},t.prototype.disableTheme=function(){return o(this,void 0,void 0,(function(){var e,t,n;return a(this,(function(r){return e=this.getData().settings,t=this.getThemeName(),(null===(n=l.THEMES_CUSTOMIZATIONS[t||u.ThemeName.Void])||void 0===n?void 0:n.customDisable)&&(e=n.customDisable(e)),[2,this.setValue(u.DATASYNC_KEY_NAME,{settings:e,theme:u.ThemeName.Void})]}))}))},t.prototype.onEnableTheme=function(e){var t=this;return this.enableThemeCallbacks.push(e),function(){t.enableThemeCallbacks=t.enableThemeCallbacks.filter((function(t){return t!==e}))}},t.prototype.getCommonSettings=function(){return this.getData().settings},t.prototype.isVideoBgEnabled=function(){return this.getData().settings.isVideoEnabled},t.prototype.enableVideoBg=function(){var e=this.getData();return this.switchVideoBgCallbacks.forEach((function(e){try{e(!0)}catch(e){}})),this.setValue(u.DATASYNC_KEY_NAME,i(i({},e),{settings:i(i({},e.settings),{isVideoEnabled:!0})}))},t.prototype.disableVideoBg=function(){var e=this.getData();return this.switchVideoBgCallbacks.forEach((function(e){try{e(!1)}catch(e){}})),this.setValue(u.DATASYNC_KEY_NAME,i(i({},e),{settings:i(i({},e.settings),{isVideoEnabled:!1})}))},t.prototype.onSwitchVideoBg=function(e){var t=this;return this.switchVideoBgCallbacks.push(e),function(){t.switchVideoBgCallbacks=t.switchVideoBgCallbacks.filter((function(t){return t!==e}))}},t.prototype.getData=function(){return i(i({},this.schema[u.DATASYNC_KEY_NAME].decode("")),this.getValue(u.DATASYNC_KEY_NAME))},t})(s.DatasyncService);t.GeneralThemesSettingsDatasyncService=f}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemeLayerBreakpoint=void 0,(function(e){e.BREAK_1920="1920",e.BREAK_1536="1536",e.BREAK_1366="1366",e.BREAK_1280="1280"})(t.GeneralThemeLayerBreakpoint||(t.GeneralThemeLayerBreakpoint={}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(235),s=n(1059),u=i(n(11)),c=i(n(1900));n(1907);const l=n(86),d=n(16),f=()=>u.default()("theme-cards");t.default=(({themes:e})=>{const t=d.useSelector(l.getThemeName),n=o.useCallback(e=>e===a.ThemeName.GeneralDefault?null:s.themes[e].thumbnail.webp,[]),r=o.useCallback(e=>e===t||e===a.ThemeName.GeneralDefault&&!t,[t]),i={[a.ThemeName.GeneralFlow]:"Поток",[a.ThemeName.GeneralGrass]:"Трава",[a.ThemeName.GeneralDefault]:"Без темы",[a.ThemeName.GeneralDarkflow]:"Темный поток",[a.ThemeName.GeneralNewYear2024]:"Новый год"};return o.default.createElement("div",{className:f(),role:"radiogroup"},e.filter(e=>i[e]).map(e=>o.default.createElement(c.default,{key:e,className:f().e("theme-card").m({default:e===a.ThemeName.GeneralDefault}),selected:r(e),themeName:e,displayName:i[e],isVideo:e!==a.ThemeName.GeneralDefault,show360Label:!1,thumbnail:n(e)})))})}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(0)),s=n(16),u=n(1070),c=o(n(1073)),l=n(1071),d=o(n(14)),f={enableTheme:u.enableTheme},p=s.connect(e=>({ds:l.getDatasyncService(e)}),f);t.default=p(e=>{var{enableTheme:t,ds:n}=e,i=r(e,["enableTheme","ds"]);const o=a.useCallback(e=>{d.default.count("interface elements","settings popup","change theme",e||"default"),t({theme:e,settings:n.getCommonSettings()})},[t,n]);return a.default.createElement(c.default,Object.assign({ds:n,onSelectTheme:o},i))})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return (function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([o,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=o(n(0)),l=u(n(87)),d=n(1902),f=u(n(1903)),p=u(n(1904)),h=u(n(1905)),m=n(1066);t.default=function(e){var t,n=this,r=(0,m.useGeneralThemesDatasync)(e.ds).setTheme,i=e.themeName,o=e.className,u=e.displayName,v=e.thumbnail,g=e.label,y=e.selected,b=e.isVideo,_=e.show360Label,O=e.onSelectTheme,E=e.onHover,w=e.background,S=(0,c.useCallback)((function(){return a(n,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,r(i)];case 1:return e.sent(),[2,O(i)]}}))}))}),[O,r,i]);return c.default.createElement("div",{onClick:S,onMouseOver:E,className:(0,l.default)(h.default.thumbnail,(t={},t[h.default.selected]=y,t),o),style:{backgroundImage:"url(".concat(v,")"),backgroundColor:w},role:"radio","aria-label":g,"aria-checked":y,tabIndex:0},c.default.createElement(d.Text,{className:h.default.label,overflow:"ellipsis",typography:"caption-m",align:"center"},u),b&&c.default.createElement(f.default,{width:24,height:24,className:(0,l.default)(h.default.icon,h.default.iconVideo)}),_&&c.default.createElement(p.default,{width:44,height:24,className:(0,l.default)(h.default.icon,h.default.icon360)}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;var r=n(3),i=n(260);t.Text=(0,r.compose)(i.withTypographyCaptionM)(i.Text)}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=(0,n(0).memo)((function(e){return s.createElement("svg",r({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 6.205v11.59c0 1.114-.116 1.519-.334 1.926a2.272 2.272 0 0 1-.945.945c-.407.218-.811.334-1.926.334H6.205c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C3.116 19.314 3 18.91 3 17.795V6.205c0-1.115.116-1.519.334-1.926.218-.407.538-.727.945-.945C4.686 3.116 5.09 3 6.205 3h11.59c1.114 0 1.519.116 1.926.334.407.218.727.538.945.945.218.407.334.811.334 1.926ZM9 19h2v-2H9v2Zm-2-2v2h-.795c-.427 0-.694-.019-.849-.049a.353.353 0 0 1-.134-.049.275.275 0 0 1-.124-.124.353.353 0 0 1-.049-.134c-.03-.155-.049-.422-.049-.849V17h2Zm0-2h4V9H5v6h2Zm10.795 4H17v-2h2v.795c0 .427-.019.694-.049.849a.353.353 0 0 1-.049.134.275.275 0 0 1-.124.125.353.353 0 0 1-.134.048c-.155.03-.422.049-.849.049ZM17 15h-4V9h6v6h-2Zm-2 4v-2h-2v2h2ZM7 5h-.795c-.427 0-.694.019-.849.049a.353.353 0 0 0-.134.049.275.275 0 0 0-.124.124.353.353 0 0 0-.049.134c-.03.155-.049.422-.049.849V7h2V5Zm2 2V5h2v2H9Zm4-2h2v2h-2V5Zm4 0v2h2v-.795c0-.427-.019-.694-.049-.849a.353.353 0 0 0-.049-.134.275.275 0 0 0-.124-.124.353.353 0 0 0-.134-.049c-.155-.03-.422-.049-.849-.049H17Z",fill:"#fff"}))}));t.default=u}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=(0,n(0).memo)((function(e){return s.createElement("svg",r({width:"1em",height:"1em",viewBox:"0 0 44 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 3a9 9 0 0 0 0 18h21.188a9 9 0 1 0 0-18H11Zm15.492 8.929c0-3.166 2.26-4.429 5.065-4.429 2.806 0 5.065 1.263 5.065 4.438 0 3.166-2.25 4.429-5.065 4.429-2.815 0-5.065-1.263-5.065-4.438Zm1.28-.02c0 2.573 1.63 3.478 3.785 3.478 2.156 0 3.785-.905 3.785-3.44 0-2.581-1.629-3.476-3.785-3.476s-3.784.904-3.784 3.439Zm-6.637-1.252c-1.628 0-2.965.47-3.605 1.215.122-2.195 1.242-3.401 3.897-3.401 1.384 0 2.59.207 3.775.848v-1c-.979-.47-2.118-.819-3.784-.819-3.53 0-5.028 2.12-5.028 4.956 0 2.591 1.177 3.91 4.66 3.91 2.627 0 4.66-1.092 4.66-2.977 0-1.809-1.807-2.732-4.575-2.732Zm-.103 4.73c-2.184 0-3.286-.735-3.286-1.894 0-1.197 1.271-1.857 3.361-1.857 1.93 0 3.352.65 3.352 1.847-.01 1.254-1.375 1.904-3.427 1.904Zm-9.33-4.363a5.5 5.5 0 0 0-.8.066l4.35-2.44v-.905H7.107v.961h6.298l-5.008 2.836.395.782s.828-.395 2.297-.395c2.034 0 3.239.508 3.239 1.62 0 1.169-1.168 1.847-3.503 1.847-1.939 0-3.182-.415-4.076-.848v.999c.744.377 2.08.82 4.086.82 2.824 0 4.764-1.046 4.764-2.799.009-1.724-1.799-2.544-3.898-2.544Z",fill:"#fff"}))}));t.default=u}),(function(e,t,n){"use strict";n.r(t);n(1906);t.default={thumbnail:"ThemeCard-m_thumbnail_lFeqd",selected:"ThemeCard-m_selected_hk6Yb",label:"ThemeCard-m_label_BGrwa",icon:"ThemeCard-m_icon_47BVr",iconVideo:"ThemeCard-m_iconVideo_zCzeK",icon360:"ThemeCard-m_icon360_T-chd"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemesTooltip=t.ThemeCardBase=t.VideoBgSwitchBase=void 0;var i=n(1065);Object.defineProperty(t,"VideoBgSwitchBase",{enumerable:!0,get:function(){return r(i).default}});var o=n(1073);Object.defineProperty(t,"ThemeCardBase",{enumerable:!0,get:function(){return r(o).default}});var a=n(1909);Object.defineProperty(t,"GeneralThemesTooltip",{enumerable:!0,get:function(){return r(a).default}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1910);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),u=n(550),c=n(1067),l=a(n(1911)),d=a(n(1912));t.default=function(){var e=(0,s.useContext)(u.ExternalContext).i18n;return s.default.createElement(c.TooltipStateful,{className:d.default.tooltip,content:null===e||void 0===e?void 0:e("generalThemesInfoTooltip"),view:"default",state:"warning",size:"s",direction:"top"},s.default.createElement("div",null,s.default.createElement(l.default,{width:17,height:16,className:d.default.anchor})))}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=(0,n(0).memo)((function(e){return s.createElement("svg",r({width:"1em",height:"1em",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 16a8 8 0 1 1 0-16 8 8 0 0 1 0 16Zm-.43-3.414c-1.025 0-1.361-.628-1.361-1.21 0-.244.076-.611.137-.825l.604-2.49h-.79a.25.25 0 0 1-.243-.306l.077-.331a.35.35 0 0 1 .272-.264l2.358-.473a.5.5 0 0 1 .583.611l-.955 3.832a.19.19 0 0 0 .329.17l.869-1.002a.325.325 0 0 1 .511.399l-.402.573c-.734 1.07-1.407 1.316-1.989 1.316Zm-.346-7.428c0 .505.397.933 1.101.933.689 0 1.194-.382 1.347-.994.03-.123.045-.26.045-.368 0-.504-.397-.933-1.101-.933-.673 0-1.193.383-1.346.995-.031.122-.046.26-.046.367Z",fill:"#B4B8CC",fillOpacity:.52}))}));t.default=u}),(function(e,t,n){"use strict";n.r(t);n(1913);t.default={tooltip:"GeneralThemesTooltip-m_tooltip_CPxk5",anchor:"GeneralThemesTooltip-m_anchor_Q9sCj"}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])})(n(1916))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1917),o="f9bcfd00-dbce-9456-5051-c1497d71c663";t.useSupportChatWidget=function({enabled:e,supportUserEnv:t,serviceId:n,botGuid:a,workspaceId:s,isDarkTheme:u,lang:c,isMobile:l,debug:d}){const[f,p]=r.useState(0),h=r.useRef(null);return r.useEffect(()=>{const r=e=>{p(e.value||0)},f=({response:e})=>{e(t)};return e&&(h.current=i.getWidget({serviceId:n,botGuid:a||o,workspaceId:s,isDarkTheme:u,lang:c,isMobile:l,debug:d}),h.current.unreadCounterPlugin.onChanged.addListener(r),h.current.widget.handlers.getEnv.addListener(f)),()=>{var e,t,n;null===(e=h.current)||void 0===e||e.widget.destroy(),null===(t=h.current)||void 0===t||t.unreadCounterPlugin.onChanged.removeListener(r),null===(n=h.current)||void 0===n||n.widget.handlers.getEnv.removeListener(f),h.current=null}},[e,n,a,s,u,c,l,d]),{showWidget:r.useCallback(()=>{var e;null===(e=h.current)||void 0===e||e.widget.show()},[]),hideWidget:r.useCallback(()=>{var e;null===(e=h.current)||void 0===e||e.widget.hide()},[]),unreadCount:f}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1918);const r=n(1919);var i;!(function(e){e.LIGHT="light",e.DARK="dark"})(i||(i={})),t.getWidget=(({serviceId:e,botGuid:t,workspaceId:n,isDarkTheme:o,lang:a,isMobile:s,debug:u})=>{const c=r.popupUIFactory({isMobile:s}),l=r.yandexUnreadCounterFactory(),d=new r.YandexConfig({serviceId:e,workspaceId:n,iframeOpenData:{guid:t},unreadCounterOtherGuid:t,lang:a,debug:u,flags:{disableNavigation:"1",notificationSuggest:"0",onboarding:"0",theme:o?i.DARK:i.LIGHT}}),f=new r.Widget(d).addPlugin(l).setUI(c).init();return c.mount(),{widget:f,unreadCounterPlugin:l}})}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Block",(function(){return Hn})),n.d(t,"CONNECTION_TIMEOUT",(function(){return i})),n.d(t,"Config",(function(){return Me})),n.d(t,"Deeplinker",(function(){return Yr})),n.d(t,"IframePostMessageTransport",(function(){return vt})),n.d(t,"IframeStrategy",(function(){return Kn})),n.d(t,"NativeInterceptor",(function(){return $r})),n.d(t,"PASSPORT_URL",(function(){return o})),n.d(t,"Popup",(function(){return or})),n.d(t,"PopupBase",(function(){return ir})),n.d(t,"PostMessageChannelTransport",(function(){return ht})),n.d(t,"SUPPORT_URL",(function(){return a})),n.d(t,"UnreadCounterPlugin",(function(){return Fr})),n.d(t,"WIDGET_TRANSPORT_SCOPE",(function(){return r})),n.d(t,"Widget",(function(){return bn})),n.d(t,"WindowStrategy",(function(){return Jn})),n.d(t,"YANDEX_TEAM_UNREAD_COUNTER_ENDPOINT",(function(){return Ur})),n.d(t,"YANDEX_UNREAD_COUNTER_ENDPOINT",(function(){return Br})),n.d(t,"YandexBlockConfig",(function(){return Le})),n.d(t,"YandexConfig",(function(){return Ne})),n.d(t,"YandexSingleBlockChatConfig",(function(){return Be})),n.d(t,"YandexSingleChatConfig",(function(){return Fe})),n.d(t,"YandexTeamBlockConfig",(function(){return ze})),n.d(t,"YandexTeamConfig",(function(){return Ue})),n.d(t,"YandexTeamSingleBlockChatConfig",(function(){return He})),n.d(t,"YandexTeamSingleChatConfig",(function(){return Ve})),n.d(t,"blockUIFactory",(function(){return Wn})),n.d(t,"buttonContextFactoryProvider",(function(){return br})),n.d(t,"buttonUIFactory",(function(){return Or})),n.d(t,"defaultBehaviorStrategies",(function(){return Zn})),n.d(t,"popupUIFactory",(function(){return dr})),n.d(t,"preset",(function(){return g})),n.d(t,"presets",(function(){return O})),n.d(t,"supportButtonUIFactory",(function(){return Pr})),n.d(t,"supportPopupUIFactory",(function(){return jr})),n.d(t,"yandexTeamUnreadCounterFactory",(function(){return Vr})),n.d(t,"yandexUnreadCounterFactory",(function(){return zr}));var r="widgetTransport",i=15e3,o="https://passport.yandex.{tld}",a="https://passport.yandex.{tld}/support";function s(e){return{config:e}}var u={test:s("testing"),alpha:s("development"),prod:s("production")};function c(e){return{build:e}}var l={team:c("yamb-embed-internal"),external:c("chamb")};function d(e){return{origin:e}}var f={external:{dev:d("https://renderer-chat-dev.hamster.yandex.{tld}/chat"),prod:d("https://yandex.{tld}/chat"),release:d("https://webtemplates.hamster.yandex.{tld}/chat"),local:function(e){return d(e)},pull:function(e){return d(function(e){return"https://renderer-chat-pull-"+e+".hamster.yandex.{tld}/chat"}(e))}},team:{dev:d("https://renderer-chat-dev.test.q.yandex-team.ru/embed"),prod:d("https://q.yandex-team.ru/embed"),release:d("https://webtemplates.test.q.yandex-team.ru/embed"),local:function(e){return d(e)},pull:function(e){return d(function(e){return"https://renderer-chat-pull-"+e+".test.q.yandex-team.ru/embed"}(e))}}},p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function v(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function g(e){return e}var y={multiChats:function(e){return g({flags:m({newHeader:"1",embedButton:"1"},(null===e||void 0===e?void 0:e.inline)&&{hideClose:"1"})})},singleChat:function(e){return g({flags:m({disableNavigation:"1",disableChatList:"1",newHeader:"1",embedButton:"1"},(null===e||void 0===e?void 0:e.inline)&&{hideClose:"1"})})}},b={all:g({debug:"*"}),filter:function(e){return g({debug:e})}},_=g({flags:{fullscreenSupported:"1"}}),O={backend:u,build:l,origin:f,type:y,debug:b,fullscreen:_,support:function(e){return g({unreadWithCountChats:!0,unreadCounterOtherGuid:e,workspaceId:"support",iframeOpenData:{guid:e}})}};function E(){return-1!==document.cookie.search(/(^|; )yandex_login=[^;]+/)}function w(e){try{e&&e.parentNode&&e.parentNode.removeChild(e)}catch(e){}}var S="("+["com.tr","com.ge","com.am","co.il","ua","ru","kz","by","com","net","uz","fr","az","kg","lv","lt","md","tj","tm","ee"].map((function(e){return (function(e){return e.replace(/\./g,"\\.")})(e)})).join("|")+")",C="yandex\\."+S,x="(?:yandex|ya)\\."+S,T="ru";function P(e){var t=(function(e){var t=new RegExp(C+"$").exec(e);return t&&t[1]||""})(e);return (function(e){return e&&"net"!==e})(t)?t:T}var k=function(){return k.memo||(k.memo=P(window.location.hostname)),k.memo};function j(e,t){return void 0===t&&(t=k()),e.replace(/\{tld\}/,t)}function R(e,t){return void 0===t||null===t||""===t?"":encodeURIComponent(e)+"="+encodeURIComponent(String(t))}function I(e,t){var n=-1===e.search(/\?/)?"?":"&",r=(function(e){return e.map((function(e){var t=e.name,n=e.value;return Array.isArray(n)?n.map((function(e){return R(t,e)})).filter(Boolean).join("&"):R(t,n)})).filter(Boolean).join("&")})(Object.keys(t).map((function(e){return{name:e,value:t[e]}})));return e+(r?n+r:"")}function A(){return window.location.origin||window.location.protocol+"//"+window.location.host}var D=function(e,t){return!!e.trim()&&t.some((function(t){return t===e}))},M="xxxx-xxxx-xxxx-xxxx",N="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function L(e){return void 0===e&&(e=M),e.replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var F=function(){},B=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},U=(function(){function e(){this.listeners=new Set}return e.prototype.addListener=function(e){return!this.listeners.has(e)&&(this.listeners.add(e),!0)},e.prototype.removeListener=function(e){return this.listeners.delete(e)},e.prototype.removeAllListener=function(){this.listeners.clear()},e.prototype.hasListeners=function(){return this.listeners.size>0},e.prototype.dispatch=function(t){var n,r;try{for(var i=B(this.listeners),o=i.next();!o.done;o=i.next()){var a=o.value;try{var s=a(t);if(s&&s.stopPropagation)return}catch(t){e.errorHandler(t)}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.errorHandler=F,e})();function z(e){return void 0!==e}function V(e,t){if(void 0===e)throw new Error(t)}function H(e){return"string"==typeof e}function W(e){return"object"==typeof e&&null!==e}function $(e){return"boolean"==typeof e}function G(e){return"number"==typeof e&&!Number.isNaN(e)}var q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},Y={},K={};Object.defineProperty(K,"__esModule",{value:!0}),K.attachRef=void 0,K.attachRef=function(e){return function(t,n){Object.defineProperty(t,n,{configurable:!0,get:function(){var t=this,r=function(n){r.current=n;var i=t.props[e];i&&("function"==typeof i?i(n):"object"==typeof i&&(i.current=n))};return r.current=null,Object.defineProperty(this,n,{configurable:!0,value:r}),r}})}};var J={};Object.defineProperty(J,"__esModule",{value:!0}),J.bind=void 0,J.bind=function(e,t,n){if("function"==typeof e)throw new TypeError("Cannot bind static method "+t);var r=n.value,i=!1;return{configurable:!0,get:function(){if(i)return r;var e=r.bind(this);return i=!0,Object.defineProperty(this,t,{configurable:!0,get:function(){return e}}),i=!1,e}}},(function(e){var t=q&&q.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=q&&q.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(K,e),n(J,e)})(Y);var Z=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},X=(function(){function e(e,t,n){void 0===n&&(n=500),this.callback=e,this.timeout=t,this.step=n,this.timeoutId=void 0,this.endTime=0,this.endTime=Date.now()+t,this.tick()}return e.prototype.cancel=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e.prototype.tick=function(){var e=Date.now();if(this.endTime<=e||this.timeout<=0)return this.timeoutId=void 0,void this.callback();this.timeoutId=setTimeout(this.tick,this.endTime-e>this.step?this.step:this.endTime-e)},Z([Y.bind],e.prototype,"tick",null),e})();var Q=(function(){function e(e){void 0===e&&(e=!1),this.isLocked=e,this.queue=[],this.isExecuting=!1,this.isFreezed=!1}return e.prototype.lock=function(){this.isLocked=!0},e.prototype.unlock=function(){this.isLocked&&(this.isLocked=!1,this.execute())},e.prototype.push=function(e,t){return!this.isFreezed&&(t&&this.cancel(t),this.queue.push(e),this.execute(),!0)},e.prototype.execute=function(){if(!this.isLocked&&!this.isExecuting){for(this.isExecuting=!0;this.queue.length&&!this.isLocked;){var e=this.queue.shift();e&&e.run()}this.isExecuting=!1}},e.prototype.cancel=function(e,t){e?(this.isFreezed=!0,this.queue=this.queue.filter((function(n){var r=(function(e){return"tag"in e})(e)?n.tag===e.tag:n.id===e.id;return r&&n.cancel(t),!r})),this.isFreezed=!1):this.cancelAll(t)},e.prototype.isEmpty=function(){return!this.queue.length},e.prototype.cancelAll=function(e){this.isFreezed=!0,this.queue.forEach((function(t){t.cancel(e)})),this.queue=[],this.isFreezed=!1},e})(),ee="default",te=(function(){function e(e,t){var n=void 0===t?{}:t,r=n.tag,i=void 0===r?ee:r,o=n.id,a=void 0===o?L(N):o,s=n.onCancel;this.task=e,this.tag=i,this.onCancel=s,this.id=a}return e.prototype.run=function(){try{this.task()}catch(e){}},e.prototype.cancel=function(e){if(this.onCancel)try{this.onCancel(e)}catch(e){}},e})(),ne={},re={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.createHandler=ie.ErrorVisitor=void 0;var oe=(function(){return function(e,t){this.error=e,this.callback=t}})();ie.ErrorVisitor=oe,ie.createHandler=function(e,t){return Object.keys(e).reduce((function(e,n){return e[n]=function(e){return t(e,n)},e}),{})};var ae=q&&q.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(re,"__esModule",{value:!0}),re.BaseError=void 0;var se=ie,ue=(function(e){function t(n,r){var i=e.call(this,n)||this;return r&&(i.stack=r),Object.setPrototypeOf(i,t.prototype),i}return ae(t,e),t.handle=function(e){return new se.ErrorVisitor(this,e)},t.is=function(e){return e instanceof this},t.prototype.accept=function(e){this instanceof e.error&&e.callback(this)},t})(Error);re.BaseError=ue;var ce={},le=q&&q.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(ce,"__esModule",{value:!0}),ce.LoggableError=void 0;var de=(function(e){function t(n,r,i){var o=e.call(this,n)||this;return o.loggerFields=r,o.additional=r&&r.additional,i&&(o.stack=i),Object.setPrototypeOf(o,t.prototype),o}return le(t,e),t})(re.BaseError);ce.LoggableError=de;var fe={},pe=q&&q.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();function he(e){return"object"==typeof e&&null!==e&&"ctr"in e}function me(e){return"object"==typeof e&&null!==e&&"factory"in e}Object.defineProperty(fe,"__esModule",{value:!0}),fe.serializeIdWithFactory=fe.serializeId=fe.SerializableError=void 0;var ve=(function(e){function t(n,r){var i=e.call(this,n,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return pe(t,e),t.makeSerializable=function(e){he(e)&&this.cache.set(e.ctr.SERIALIZE_ID,e),me(e)&&this.cache.set(e.factory.SERIALIZE_ID,e)},t.serialize=function(e){return e.serialize()},t.deserialize=function(e){if(e.serializeId===t.SERIALIZE_ID)return new t(e.message);var n=this.cache.get(e.serializeId);return he(n)?new n.ctr(e.message):me(n)?n.factory(e):new Error(e.message)},t.prototype.serialize=function(){return{serializeId:this.constructor.SERIALIZE_ID,message:this.message,stack:this.stack}},t.SERIALIZE_ID="@SerializableError",t.cache=new Map,t})(re.BaseError);fe.SerializableError=ve,fe.serializeId=function(e){return function(t){t.SERIALIZE_ID=e,ve.makeSerializable({ctr:t})}},fe.serializeIdWithFactory=function(e,t){t.SERIALIZE_ID=e,ve.makeSerializable({factory:t})};var ge={},ye=q&&q.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(ge,"__esModule",{value:!0}),ge.TransportError=void 0;var be=(function(e){function t(n,r){var i=e.call(this,"TransportError, "+n,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return ye(t,e),t})(re.BaseError);ge.TransportError=be;var _e={},Oe=q&&q.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(_e,"__esModule",{value:!0}),_e.RequestTimeoutError=void 0;var Ee=(function(e){function t(n){var r=e.call(this,"Request timeout",n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Oe(t,e),t})(ge.TransportError);_e.RequestTimeoutError=Ee,(function(e){var t=q&&q.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=q&&q.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.LoggableError=e.ErrorVisitor=e.createHandler=e.BaseError=void 0;var r=re;Object.defineProperty(e,"BaseError",{enumerable:!0,get:function(){return r.BaseError}});var i=ie;Object.defineProperty(e,"createHandler",{enumerable:!0,get:function(){return i.createHandler}}),Object.defineProperty(e,"ErrorVisitor",{enumerable:!0,get:function(){return i.ErrorVisitor}});var o=ce;Object.defineProperty(e,"LoggableError",{enumerable:!0,get:function(){return o.LoggableError}}),n(fe,e),n(ge,e),n(_e,e)})(ne);var we=1e4,Se=(function(){function e(e,t,n){var r=this;void 0===t&&(t=we),this.onResult=e,0!==t&&(this.timeout=new X(function(){r.result(new n)},t))}return e.prototype.result=function(e,t){this.clearTimeout(),e?this.onResult(e):this.onResult(void 0,t)},e.prototype.clearTimeout=function(){this.timeout&&(this.timeout.cancel(),this.timeout=void 0)},e})(),Ce=(function(){function e(e){void 0===e&&(e=ne.RequestTimeoutError),this.RequestTimeoutErrorCtr=e,this.awaiters=new Map,this.seqNo=1}return e.prototype.event=function(e){var t=e(this.seqNo);return this.seqNo++,t},e.prototype.request=function(e,t){var n=this;return new Promise(function(r,i){var o=e(n.seqNo);n.seqNo++;var a=new Se(function(e,t){n.remove(o),e?i(e):r(t)},t,n.RequestTimeoutErrorCtr);n.awaiters.set(o,a)})},e.prototype.result=function(e,t,n){var r=this.awaiters.get(e);return!!r&&(t?r.result(t):r.result(void 0,n),!0)},e.prototype.drop=function(e){this.awaiters.forEach((function(t){return t.result(e)})),this.awaiters.clear(),this.seqNo=1},e.prototype.get=function(e){return this.awaiters.get(e)},e.prototype.remove=function(e){return this.awaiters.delete(e)},e})();function xe(e){if("string"!=typeof e)return!1;try{var t=Number(e);return!isNaN(t)}catch(e){return!1}}var Te=(function(){function e(){this.isOptional=!1,this.isUndefinable=!1,this.validators=[]}return Object.defineProperty(e.prototype,"string",{get:function(){return this.validators.push(H),this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notEmptyString",{get:function(){return this.validators.push((function(e){return H(e)&&""!==e})),this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"object",{get:function(){return this.validators.push(W),this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"number",{get:function(){return this.validators.push(G),this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numberAsString",{get:function(){return this.validators.push(xe),this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boolean",{get:function(){return this.validators.push($),this},enumerable:!1,configurable:!0}),e.prototype.shape=function(e){return this.validators.push((function(t){return e.validate(t)})),this},Object.defineProperty(e.prototype,"optional",{get:function(){return this.isOptional=!0,this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"undefinable",{get:function(){return this.isUndefinable=!0,this},enumerable:!1,configurable:!0}),e.prototype.values=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.validators.push((function(t){return e.some((function(e){return t===e}))})),this},e.prototype.arrayOf=function(e){return this.validators.push((function(t){return Array.isArray(t)&&t.every(e)})),this},Object.defineProperty(e.prototype,"any",{get:function(){return this.isUndefinable=!0,this.validators.push((function(){return!0})),this},enumerable:!1,configurable:!0}),e.prototype.validate=function(e){return z(e)?this.validators.some((function(t){return t(e)})):this.isOptional||this.isUndefinable},e})(),Pe=(function(){function e(e){this.shape=e}return e.prototype.validate=function(e){var t=this;return!(!z(e)||!W(e))&&Object.keys(this.shape).every((function(n){return n in e?t.shape[n].validate(e[n]):t.shape[n].isOptional}))},e.is=function(){return new Te},e})(),ke={get is(){return new Te},create:function(e){return new Pe(e)}},je=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Re=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(je(arguments[t]));return e};var Ie=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ae=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ie(arguments[t]));return e},De=new RegExp("^https://"+x+"$"),Me=(function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.values={},this.extend.apply(this,(function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r})(this.constructor.DEFAULTS,e))}return e.extend=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t})(this)).DEFAULTS=t,e},e.prototype.extend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.values=e.reduce((function(e,t){return m(m(m({},e),t),{iframeOpenData:m(m({},e.iframeOpenData),t.iframeOpenData),flags:m(m({},e.flags),t.flags)})}),m({},this.values))},e.prototype.getFlags=function(){var e=m(m({},this.values.flags),this.values.fullscreen?_.flags:void 0);return Object.keys(e).reduce((function(t,n){return null!==n&&void 0!==n&&void 0!==e[n]&&t.push(n+"="+e[n]),t}),[]).join(";")},e.prototype.getMessengerUrl=function(e,t,n){var r=this.values,i=r.origin,o=r.config,a=r.build,s=r.tld,u=r.lang,c=void 0===u?"ru":u,l=r.serviceId,d=r.workspaceId,f=r.orgId,p=r.catchUrlClick,h=r.unreadCounterChatId,v=r.unreadCounterOtherGuid,g=r.unreadCounterNsFilter,y=r.unreadWithCountChats,b=r.debug,_=r.authType,O=m({config:o,build:a,lang:c,debug:b,parentOrigin:A(),parentUrl:(function(){var e=A();if(0===e.search(De)&&window.location.pathname){var t=window.location.pathname.split("/");return t[0],[e,t[1]].join("/")}return e})(),serviceId:l,workspaceId:d,orgId:f,utm_source:"widget",utm_medium:"iframe",widgetId:e,flags:this.getFlags(),protocolVersion:t,authType:_,unreadCounterChatId:h,unreadCounterOtherGuid:v,unreadCounterNsFilter:g,unreadWithCountChats:y,catchUrlClick:p?"true":void 0,widgetVersion:"1.31.0"},n);return I(j(j(i,s)),O)},e.DEFAULTS=[],e})(),Ne=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.DEFAULTS=[O.backend.prod,O.origin.external.prod,O.build.external,O.type.multiChats()],t})(Me),Le=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.DEFAULTS=[O.backend.prod,O.origin.team.prod,O.build.external,O.type.multiChats({inline:!0})],t})(Me),Fe=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.DEFAULTS=[O.backend.prod,O.origin.external.prod,O.build.external,O.type.singleChat()],t})(Me),Be=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.DEFAULTS=[O.backend.prod,O.origin.external.prod,O.build.external,O.type.singleChat({inline:!0})],t})(Me),Ue=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.DEFAULTS=[O.backend.prod,O.origin.team.prod,O.build.team,O.type.multiChats()],t})(Me),ze=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.DEFAULTS=[O.backend.prod,O.origin.team.prod,O.build.team,O.type.multiChats({inline:!0})],t})(Me),Ve=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.DEFAULTS=[O.backend.prod,O.origin.team.prod,O.build.team,O.type.singleChat()],t})(Me),He=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.DEFAULTS=[O.backend.prod,O.origin.team.prod,O.build.team,O.type.singleChat({inline:!0})],t})(Me),We=new(function(){function e(){}return e.prototype.configurate=function(e){this.loggerFactory=e},e.prototype.create=function(e){return this.loggerFactory?this.loggerFactory(e):{log:function(){},error:function(){}}},e}());function $e(e){return We.create(e)}var Ge,qe="xxxx-xxxx-xxxx-xxxx";!(function(e){e[e.NORMAL=0]="NORMAL",e[e.CONNECTION_CLOSED=1]="CONNECTION_CLOSED",e[e.ERROR=2]="ERROR",e[e.CONNECTION_TERMINATED=3]="CONNECTION_TERMINATED"})(Ge||(Ge={}));var Ye=(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ke=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Je=(function(e){function t(t){var r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}var n;return Ye(t,e),n=t,t=n=Ke([ne.serializeId("@ChannelError")],t)})(ne.SerializableError),Ze=(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),Xe=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Qe=(function(e){function t(t){var r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}var n;return Ze(t,e),n=t,t=n=Xe([ne.serializeId("@ConnectionClosedError")],t)})(Je),et=(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),tt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},nt=(function(e){function t(t){var r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}var n;return et(t,e),n=t,t=n=tt([ne.serializeId("@UnhandledResponseError")],t)})(Je),rt=ke.create({channelId:ke.is.string,id:ke.is.string,error:ke.is.optional.any,type:ke.is.values("request","response","registration","kill","observe","unobserve","notify","event","ready"),refId:ke.is.optional.string,data:ke.is.any});function it(e){return ne.SerializableError.deserialize(e)||new Je("unknown")}function ot(e){return function(t,n,r,i){return void 0===r&&(r=void 0),void 0===i&&(i=""),{channelId:e,id:L(qe),refId:i,type:t,data:n,error:(function(e){if(e)return"string"==typeof e?new Je(e).serialize():e instanceof ne.SerializableError?ne.SerializableError.serialize(e):e instanceof Error?new Je(e.message).serialize():new Je("unknown").serialize()})(r)}}}var at=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},st=$e("ChannelBase").log,ut=(function(){function e(e){this.channelId=e,this.connectionStatus="closed",this.onRequest=new U,this.onEvent=new U,this.onClose=new U,this.onObserve=new U,this.observers=new Map,this.observables=new Set,this.requests=new Ce,this.queue=new Q(!0),this.eventHandlers=new Map,this.eventFactory=ot(this.channelId),this.eventHandlers.set("observe",this.handleObserveMessage).set("unobserve",this.handleUnobserveMessage).set("event",this.handleEventMessage).set("response",this.handleResponseMessage).set("request",this.handleRequestMessage).set("notify",this.handleNotifyMessage).set("kill",this.handleKillMessage)}return e.prototype.request=function(e,t,n){return(null===n||void 0===n?void 0:n.cancelPreviousRequestsWithSameType)&&this.queue.cancel({tag:e}),this.sendRequest(this.eventFactory("request",{type:e,data:t}),n)},e.prototype.event=function(e,t){this.sendEvent(this.eventFactory("event",{type:e,data:t}))},e.prototype.observe=function(e,t){return st("adding observer: %s",e),this.addObserver(e,t),this.sendRequest(this.eventFactory("observe",{objectName:e}))},e.prototype.unobserve=function(e,t){return this.removeObserver(e,t),this.getObserver(e).callbacks.size?Promise.resolve():this.sendRequest(this.eventFactory("unobserve",{objectName:e}))},e.prototype.notifyObservers=function(e,t){this.observables.has(e)&&this.sendEvent(this.eventFactory("notify",{object:t,objectName:e}))},e.prototype.setPort=function(e){this.port&&(this.port.close(),this.port.removeEventListener("message",this.handleMessage)),this.port=e,this.port.addEventListener("message",this.handleMessage),this.port.start()},e.prototype.unlock=function(){this.connectionStatus="opened",this.queue.unlock()},e.prototype.close=function(e){var t=e.closeCode,n=void 0===t?Ge.NORMAL:t,r=e.reason,i=void 0===r?"Transport was closed":r,o=e.error,a=void 0===o?new Qe(i):o,s=e.persistQueue,u=void 0!==s&&s;if(st("destroying",this.channelId,i),"closed"!==this.connectionStatus){this.closeCode=n,this.closeReason=i,this.closeError=a,this.connectionStatus="closed",this.cleanup(a,u),this.queue.lock();var c=this.port;if(c){c.removeEventListener("message",this.handleMessage);try{this.sendBypass(this.eventFactory("kill",void 0,a))}catch(e){}try{c.close()}catch(e){}}this.port=void 0,this.onClose.dispatch(this)}},e.prototype.cleanup=function(t,n){void 0===t&&(t=new e.CancelError("Cleanup")),void 0===n&&(n=!1),this.observers.clear(),n||this.queue.cancel(void 0,t),this.requests.drop(t)},e.prototype.sendRequest=function(t,n){var r=this;st("enqueue request: %o",t);var i=(t.data||{}).type;return new Promise(function(o,a){r.queue.push(new te(function(){r.requests.request((function(){return r.sendBypass(t)}),null===n||void 0===n?void 0:n.timeout).then(o).catch(a)},{onCancel:function(t){void 0===t&&(t=new e.CancelError("Request cancelled")),a(t)},tag:i}))})},e.prototype.sendEvent=function(e){var t=this;st("enqueue event: %o",e);var n=(e.data||{}).type;this.queue.push(new te(function(){t.sendBypass(e)},{tag:n}))},e.prototype.sendBypass=function(e){if(!this.port)throw new Je("Port not found");return st("sending message: %o",e),this.port.postMessage(e),e.id},e.prototype.handleMessage=function(e){var t,n=e.data;st("message handled: %o",n),(function(e){return rt.validate(e)})(n)&&n.channelId===this.channelId&&(e.stopImmediatePropagation(),null===(t=this.eventHandlers.get(n.type))||void 0===t||t(e))},e.prototype.handleResponseMessage=function(e){var t=e.data,n=t.refId,r=t.data,i=t.error;i?(st("handle response error: %o",i),this.requests.result(n,it(i))):(st("handle response: %o",e.data),this.requests.result(n,void 0,r))},e.prototype.handleRequestMessage=function(e){var t=this,n=e.data,r=n.data,i=n.id;this.onRequest.dispatch({type:r.type,payload:r.data,reject:function(e){t.sendBypass(t.eventFactory("response",void 0,e,i))},response:function(e){Promise.resolve(e).then((function(e){t.sendBypass(t.eventFactory("response",e,void 0,i))})).catch((function(e){t.sendBypass(t.eventFactory("response",void 0,e,i))}))}})},e.prototype.handleKillMessage=function(e){st("handle kill message: %o",e.data);var t=e.data.error?it(e.data.error):void 0;this.close({closeCode:Qe.is(t)?Ge.CONNECTION_CLOSED:Ge.ERROR,reason:"kill signal",error:t})},e.prototype.handleUnobserveMessage=function(e){var t;st("handle unobserve message: %o",e.data);var n=null===(t=e.data.data)||void 0===t?void 0:t.objectName;this.observables.delete(n),this.sendEvent(this.eventFactory("response",void 0,void 0,e.data.id))},e.prototype.handleObserveMessage=function(e){var t=this;st("handle observe message: %o",e);var n=e.data,r=n.data,i=n.id,o=r.objectName;this.observables.add(o),this.onObserve.dispatch({data:{objectName:o},notify:function(e){t.notifyObservers(o,e)}}),this.sendEvent(this.eventFactory("response",void 0,void 0,i))},e.prototype.handleNotifyMessage=function(e){st("handle notify message: %o",e.data);var t=e.data.data,n=t.objectName,r=t.object;this.getObserver(n).callbacks.forEach((function(e){return e(r)}))},e.prototype.handleEventMessage=function(e){st("handle event message: $o",e.data),this.onEvent.dispatch({type:e.data.data.type,data:e.data.data.data})},e.prototype.getObserver=function(e){var t=this.observers.get(e);return t||(t={callbacks:new Set},this.observers.set(e,t)),t},e.prototype.addObserver=function(e,t){this.getObserver(e).callbacks.add(t)},e.prototype.removeObserver=function(e,t){this.getObserver(e).callbacks.delete(t)},e.CancelError=Je,at([Y.bind],e.prototype,"handleMessage",null),at([Y.bind],e.prototype,"handleResponseMessage",null),at([Y.bind],e.prototype,"handleRequestMessage",null),at([Y.bind],e.prototype,"handleKillMessage",null),at([Y.bind],e.prototype,"handleUnobserveMessage",null),at([Y.bind],e.prototype,"handleObserveMessage",null),at([Y.bind],e.prototype,"handleNotifyMessage",null),at([Y.bind],e.prototype,"handleEventMessage",null),e})(),ct=(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),lt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},dt=$e("ChannelOutgoing").log,ft=(function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.channelTransportProvider=n,i.params=r,i.onConnectionEstablished=new U,i.eventHandlers.set("ready",i.handleReady),i}return ct(t,e),t.prototype.connect=function(){this.sendRegistrationEvent()},t.prototype.disposeTransport=function(){var e,t;null===(e=this.transport)||void 0===e||e.onClose.removeListener(this.handleClose),null===(t=this.transport)||void 0===t||t.onOpen.removeListener(this.handleOpen),this.transport=void 0,this.requestTransportCallback=void 0,this.connectionStatus="closed"},t.prototype.sendRegistrationEvent=function(e){var t,n=this;void 0===e&&(e=!1),this.ensureTransport()&&(dt("connecting"),this.connectionStatus="connecting",this.closeReason=void 0,this.closeCode=void 0,this.closeError=void 0,this.requests.request((function(){var e,t=n.eventFactory("registration",null===(e=n.params)||void 0===e?void 0:e.scope);dt("sending register event to receiver: %o, %s",t);var r=new MessageChannel;return n.setPort(r.port1),n.transport.send(t,[r.port2]),t.id}),null===(t=this.params)||void 0===t?void 0:t.connectTimeout).then((function(t){dt("connected, status: %o",status),t.manualUnlock||n.ready(e,t.payload)})).catch((function(e){dt("failed to connect: %o",e),n.close({closeCode:Ge.ERROR,reason:null===e||void 0===e?void 0:e.message,error:e,persistQueue:!0})})))},t.prototype.sendRequest=function(t){return"closed"===this.connectionStatus&&this.connect(),e.prototype.sendRequest.call(this,t)},t.prototype.sendEvent=function(t){return"closed"===this.connectionStatus&&this.connect(),e.prototype.sendEvent.call(this,t)},t.prototype.ensureTransport=function(){return this.transport&&this.transport.closed()&&this.disposeTransport(),this.transport||this.requestTransportCallback||this.requestTransport(),Boolean(this.transport)},t.prototype.requestTransport=function(){var e=this,t=(function(e){var t=!1;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t||(t=!0,e.apply(void 0,Re(n)))}})((function(n,r){t===e.requestTransportCallback&&(e.requestTransportCallback=void 0,r?e.close({closeCode:Ge.ERROR,reason:"Request transport callback error",error:r,persistQueue:!0}):(e.transport=n,e.transport.onClose.addListener(e.handleClose),e.transport.onOpen.addListener(e.handleOpen),"opened"===e.transport.connectionStatus?e.connect():(e.connectionStatus="closed",e.transport.connect())))}));this.requestTransportCallback=t,this.connectionStatus="connecting";try{this.channelTransportProvider(this.requestTransportCallback)}catch(e){this.close({closeCode:Ge.ERROR,reason:"Transport provider error",error:e,persistQueue:!0})}},t.prototype.handleClose=function(e){this.close({closeCode:Ge.ERROR,reason:null===e||void 0===e?void 0:e.message,error:e})},t.prototype.handleOpen=function(e){var t=e.reconnect;dt("handle open singal",t,this.connectionStatus),(t||"closed"===this.connectionStatus)&&(this.close({closeCode:Ge.CONNECTION_CLOSED,reason:"reconnecting"}),this.sendRegistrationEvent(t))},t.prototype.handleReady=function(e){this.ready(!1,e.data.data.payload)},t.prototype.ready=function(e,t){void 0===e&&(e=!1),this.unlock(),this.onConnectionEstablished.dispatch({reconnect:e,payload:t})},t.prototype.dispose=function(e,t){var n=this.connectionStatus;this.disposeTransport(),this.connectionStatus=n,this.close({closeCode:e,reason:t})},lt([Y.bind],t.prototype,"handleClose",null),lt([Y.bind],t.prototype,"handleOpen",null),lt([Y.bind],t.prototype,"handleReady",null),t})(ut),pt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ht=(function(){function e(e){void 0===e&&(e=!1),this.manualOpen=e,this.onMessage=new U,this.onClose=new U,this.onOpen=new U,this.connectionStatus="closed",this.connectionCount=0,this.queue=new Q(!0)}return e.prototype.send=function(e,t){var n=this;this.queue.push(new te(function(){n.sendBypass(e,t)}))},e.prototype.ping=function(e){var t=e?"@@@@ping_"+e:"@@@@ping";this.sendBypass(t)},e.prototype.pong=function(e){var t=e?"@@@@pong_"+e:"@@@@pong";this.sendBypass(t)},e.prototype.close=function(e){"closed"!==this.connectionStatus&&(this.connectionStatus="closed",this.queue.cancel(void 0,null===e||void 0===e?void 0:e.message),this.queue.lock(),this.onClose.dispatch(e))},e.prototype.handleOpen=function(){var e="opened"===this.connectionStatus;e||(this.connectionStatus="opened"),this.connectionCount++,this.onOpen.dispatch({reconnect:this.connectionCount>1}),e||this.queue.unlock()},e.prototype.handleMessage=function(e){if(this.validateMessage(e)){if(H(e.data)){var t=e.data.split("_"),n=t[0],r=t[1];switch(n){case"@@@@ping":return this.pong(r),void(this.manualOpen||this.handleOpen());case"@@@@pong":return void(this.manualOpen||"connecting"!==this.connectionStatus||this.handleOpen())}}"opened"===this.connectionStatus&&this.onMessage.dispatch(e)}},pt([Y.bind],e.prototype,"handleMessage",null),e})(),mt=(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),vt=(function(e){function t(t,n){var r=e.call(this)||this;return r.childWindow=t,r.targetOrigin=n,t.parent.addEventListener("message",r.handleMessage),r}return mt(t,e),t.prototype.connect=function(){this.connectionStatus="connecting",this.ping()},t.prototype.sendBypass=function(e,t){var n;null===(n=this.childWindow)||void 0===n||n.postMessage(e,this.targetOrigin,t)},t.prototype.validateMessage=function(e){return e.source===this.childWindow&&D(e.origin,[this.targetOrigin])},t.prototype.dispose=function(){var e;null===(e=this.childWindow)||void 0===e||e.parent.removeEventListener("message",this.handleMessage),this.childWindow=void 0,this.close()},t.prototype.closed=function(){var e;return Boolean(null===(e=this.childWindow)||void 0===e?void 0:e.closed)},t})(ht),gt=(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),yt=(function(e){function t(t,n,r,i){var o=e.call(this,!1)||this;return o.childWindow=t,o.currentWindow=n,o.targetOrigin=r,o.allowedOrigins=i,o.currentWindow.addEventListener("message",o.handleMessage),o}return gt(t,e),t.prototype.connect=function(){this.connectionStatus="connecting",this.ping()},t.prototype.sendBypass=function(e,t){var n;null===(n=this.childWindow)||void 0===n||n.postMessage(e,this.targetOrigin,t)},t.prototype.validateMessage=function(e){return D(e.origin,this.allowedOrigins)},t.prototype.dispose=function(){this.currentWindow.removeEventListener("message",this.handleMessage),this.childWindow=void 0,this.currentWindow=void 0,this.close()},t.prototype.closed=function(){return Boolean(this.childWindow.closed)},t})(ht),bt={},_t={},Ot=q&&q.__assign||function(){return(Ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(_t,"__esModule",{value:!0}),_t.getSettings=_t.updateSettings=void 0;var Et={clck:"https://yandex.ru/clck/click",project:"unknown",additional:{},level:"error"};_t.updateSettings=function(e){Et=Ot(Ot({},Et),e)};_t.getSettings=function(){return Et};var wt={},St={};Object.defineProperty(St,"__esModule",{value:!0}),St.send=void 0;var Ct=_t;St.send=function(e,t){var n=(function(e,t){return["/path="+e,t?"/vars="+t:"","/cts="+(new Date).getTime(),"/*"]})(e,t).join(""),r=Ct.getSettings().clck;if(r&&!(navigator&&navigator.sendBeacon&&navigator.sendBeacon(r,n)))if("undefined"!=typeof window&&window.fetch)fetch(r,{method:"POST",body:n});else{var i=new XMLHttpRequest;i.open("POST",r),i.send(n)}},(function(e){var t=q&&q.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},n=q&&q.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.handleError=e.sendError=e.baseNormalizeError=void 0;var r=St,i=_t;e.baseNormalizeError=function(e){void 0===e&&(e={});var t=e.filename||e.fileName||"",n=e.error&&e.error.stack||e.stack||"",r=e.message||"";return{file:t,line:e.lineno||e.lineNumber,col:e.colno||e.colNumber,stack:n,message:r,additional:e.additional,referrer:"undefined"!=typeof location&&location.href}};function o(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];"undefined"!=typeof console&&(t=console.error).call.apply(t,n([console,e],r))}e.sendError=function(e,t){void 0===t&&(t={});var n=i.getSettings(),a={"-url":e.file,"-line":e.line,"-col":e.col,"-stack":e.stack,"-env":n.env,"-msg":e.message,"-project":n.project,"-page":e.page||n.page,"-level":e.level,"-version":n.version,"-referrer":e.referrer,"-additional":t.additional,"-ua":"undefined"!=typeof navigator&&navigator.userAgent,"-ts":+new Date};n.debug&&o("[error-counter]",a),r.send(e.path,(function(e){var t=[];return Object.keys(e).map((function(n){if(e.hasOwnProperty(n)&&(e[n]||0===e[n])){var r=encodeURIComponent(e[n]).replace(/\*/g,"%2A");t.push(n+"="+r)}})),t.join(",")})(a))};e.handleError=function(n){var r=i.getSettings();n.path="690.2354";var a="";try{a=JSON.stringify(t(t({},r.additional),n.additional))}catch(e){o("[error-counter] json.stringify:",e)}e.sendError(n,{additional:a})}})(wt);var xt={};Object.defineProperty(xt,"__esModule",{value:!0}),xt.logError=void 0;var Tt=wt,Pt=["type","additional","level","referrer"];xt.logError=function(e,t){void 0===t&&(t={});var n=Tt.baseNormalizeError(e);n.message=[t.message,n.message].filter(Boolean).join("; ")||"Empty error";for(var r=0;r<Pt.length;r++){var i=Pt[r];t[i]?n[i]=t[i]:e&&e[i]&&(n[i]=e[i])}Tt.handleError(n)},(function(e){var t=q&&q.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=q&&q.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(_t,e),n(wt,e),n(xt,e)})(bt),bt.updateSettings({project:"messenger-widget-npm",version:"1.31.0",env:"production"});var kt="__logged__";var jt=function(e,t){if(e instanceof Error){if(function(e){return e&&!0===e[kt]}(e))return;Object.defineProperty(e,kt,{value:!0,enumerable:!1,configurable:!1})}bt.logError(e,t)},Rt=function(e){for(var t=(function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this;try{r=e.apply(this,t)||this}catch(e){throw jt(e),e}return r}return h(t,e),t})(e),n=function(n){if(!e.prototype.hasOwnProperty(n))return"continue";Object.defineProperty(t.prototype,n,{get:function(){var t=this,r=Object.getOwnPropertyDescriptor(e.prototype,n),i=r.get?r.get.call(t):r.value;if("function"!=typeof i)return i;function o(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{var a=i.apply(t,r);return z(a)&&"function"==typeof a.catch&&a.catch(jt),a}catch(t){throw jt(t,{additional:{method:n,target:e.name}}),t}}return Object.defineProperty(this,n,{value:o}),o},configurable:!0})},r=0,i=Object.keys(e.prototype);r<i.length;r++){n(i[r])}return t},It=["ready","close","chatChange","chatLeave","error","locationChange","members","unload","messageSent","catchUrlClick","userNeedReAssign","userLoaded","chatHistoryLoaded","chatListLoaded","chatLoadError","fullscreenOn","fullscreenOff","counter","unreadCountersByChats","channelSubscribed","channelUnsubscribed","authRequest","sendMessage"],At=function(){return Object.defineProperties({},It.reduce((function(e,t){return e[t]={get:function(){var e=new U;return Object.defineProperty(this,t,{value:e}),e},configurable:!0},e}),{}))},Dt=Symbol("API"),Mt=(function(){function e(e){this[Dt]=e}return e.prototype.serviceMeta=function(e){return this[Dt].serviceMeta(e)},e.prototype.pasteMessage=function(e){return this[Dt].pasteMessage(e)},e.prototype.setVisibility=function(e){return this[Dt].setVisibility(e)},e.prototype.setThemeVariables=function(e){return this[Dt].setThemeVariables(e)},e.prototype.chatMetadata=function(e){return this[Dt].chatMetadata(e)},e})(),Nt=(function(){return function(){this.getLog=new U,this.getEnv=new U,this.uiInterceptor=new U}})(),Lt=(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ft=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Bt=(function(e){function t(t){var r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}var n;return Lt(t,e),n=t,t=n=Ft([ne.serializeId("RequestCanceledError")],t)})(ne.SerializableError),Ut=(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),zt=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Vt=(function(e){function t(t){var r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}var n;return Ut(t,e),n=t,t=n=zt([ne.serializeId("CookieNeededError")],t)})(ne.SerializableError),Ht="widgetTransport";function Wt(){return Math.random().toString(36).substring(7)}var $t="undefined"!=typeof document,Gt="undefined"!=typeof window,qt="undefined"!=typeof navigator,Yt="undefined"!=typeof screen;function Kt(){return Gt&&window.location?window.location.href:""}function Jt(){return $t?document.referrer:""}function Zt(e,t){return(e||"").slice(0,t)}function Xt(){return Math.floor(1e6*Math.random())}var Qt=512;function en(e,t,n){(n||0===n)&&e.push(t+":"+(!0===n?"1":n))}function tn(e,t){var n=[];return e&&Object.keys(e).forEach((function(t){return en(n,t,e[t])})),en(n,"rn",Xt()),en(n,"c",!!qt&&navigator.cookieEnabled),en(n,"s",Yt?[screen.width,screen.height,screen.colorDepth].join("x"):""),en(n,"en",$t&&"string"==typeof document.charset?document.charset.toLowerCase():""),en(n,"t",Zt(t,Qt)),n.join(":")}var nn=1024;function rn(e){return Zt(e,nn)}function on(e,t){var n="https://mc.yandex.ru/watch/"+e+"?"+(function(e){return Object.keys(e).filter((function(t){var n=e[t];return""!==n&&void 0!==n&&null!==n})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")})(t);"undefined"!=typeof navigator&&navigator.sendBeacon?navigator.sendBeacon(n," "):"undefined"!=typeof fetch?fetch(n,{credentials:"include"}):"undefined"!=typeof Image&&((new Image).src=n)}function an(e){var t=e.browserInfo,n=e.counterId,r=e.pageParams,i=e.userVars,o={"browser-info":tn(t,r.title),rn:Xt(),ut:r.ut};r.url&&(o["page-url"]=rn(r.url)),r.referrer&&(o["page-ref"]=rn(r.referrer)),i&&(o["site-info"]=JSON.stringify(i)),on(n,o)}function sn(e,t,n){an({counterId:e,pageParams:{referrer:t&&void 0!==t.referrer?t.referrer:Jt(),title:t&&void 0!==t.title?t.title:$t?document.title:"",url:t&&void 0!==t.url?t.url:Kt()},userVars:n})}function un(e,t,n){var r,i;t?(r=Kt(),i="goal://"+(Gt&&window.location?window.location.hostname:"")+"/"+t):(r=Jt(),i=Kt()),an({counterId:e,pageParams:{referrer:r,url:i},userVars:n})}var cn="52122583";function ln(e,t){un(cn,e,t)}var dn=(function(){function e(){this.queue=new Q(!0)}return e.prototype.init=function(){window.navigator.onLine&&this.queue.unlock(),window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline)},e.prototype.handleOnline=function(){this.queue.unlock()},e.prototype.handleOffline=function(){this.queue.lock()},e.prototype.run=function(e,t){this.queue.push(e,t)},e.prototype.destroy=function(){window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline),this.queue.cancel()},v([Y.bind],e.prototype,"handleOnline",null),v([Y.bind],e.prototype,"handleOffline",null),e})(),fn=(function(){function e(e,t){this.data=e,this.defaultPrevented=!1,this.preventable=!1,this.preventable=Boolean(null===t||void 0===t?void 0:t.preventable)}return e.prototype.preventDefault=function(e){this.preventable&&(this.resolvedWith=e,this.defaultPrevented=!0)},e})();var pn=(function(){function e(e,t,n,r,i){this.widgetId=e,this.channelTransportFactory=t,this.initParams=n,this.events=r,this.handlers=i,this.onReloaded=new U,this.onClose=new U}return Object.defineProperty(e.prototype,"channel",{get:function(){return this.channelInstance||(this.channelInstance=(function(e,t,n){var r;return new ft(e,t,{scope:(r={},r[Ht]=n,r),connectTimeout:i})})(this.widgetId,this.channelTransportFactory,this.initParams),this.channelInstance.onClose.addListener(this.handleClose),this.channelInstance.onConnectionEstablished.addListener(this.handleConnectionEstablished),this.channelInstance.onEvent.addListener(this.handleEvent),this.channelInstance.onRequest.addListener(this.handleRequest)),this.channelInstance},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var e,t,n,r;null===(e=this.channelInstance)||void 0===e||e.onClose.removeListener(this.handleClose),null===(t=this.channelInstance)||void 0===t||t.onEvent.removeListener(this.handleEvent),null===(n=this.channelInstance)||void 0===n||n.onRequest.removeListener(this.handleRequest),null===(r=this.channelInstance)||void 0===r||r.dispose(),this.channelInstance=void 0},e.prototype.isConnectionClosed=function(){return!this.channelInstance||"closed"===this.channelInstance.connectionStatus},e.prototype.handleConnectionEstablished=function(e){e.reconnect&&this.onReloaded.dispatch()},e.prototype.handleClose=function(e){var t,n=e.closeCode===Ge.ERROR;n&&(null===(t=this.channelInstance)||void 0===t||t.disposeTransport()),this.onClose.dispatch({isCriticalError:n,error:e.closeError})},e.prototype.handleEvent=function(e){var t;null===(t=this.events[e.type])||void 0===t||t.dispatch(new fn(e.data))},e.prototype.handleRequest=function(e){var t=this.handlers[e.type];t&&t.hasListeners()?t.dispatch(e):e.reject(new nt("not_supported"))},v([Y.bind],e.prototype,"handleConnectionEstablished",null),v([Y.bind],e.prototype,"handleClose",null),v([Y.bind],e.prototype,"handleEvent",null),v([Y.bind],e.prototype,"handleRequest",null),e})();function hn(e){var t=document.createElement("iframe");return t.setAttribute("scrolling","no"),t.setAttribute("referrerpolicy","origin"),t.src=e.url,e.className&&(t.className=e.className),e.allow?t.setAttribute("allow",e.allow.join("; ")):t.setAttribute("allow","microphone"),t}function mn(){return Wt()}function vn(e){return function(t,n,r){var i=r.value;return{value:function(t){var n=new fn({type:e,params:t},{preventable:!0});return this.dispatchLC("LCBeforeRequest",n),n.defaultPrevented?Promise.resolve().then((function(){return n.resolvedWith})):i.call(this,t)}}}}var gn=(function(){function e(e,t){this.getTransport=e,this.dispatchLC=t}return e.prototype.iframeOpen=function(e){return this.getTransport().channel.request("iframeOpen",e,{cancelPreviousRequestsWithSameType:!0})},e.prototype.serviceMeta=function(e){return this.getTransport().channel.request("serviceMeta",e)},e.prototype.pasteMessage=function(e){return this.getTransport().channel.request("pasteMessage",e)},e.prototype.setVisibility=function(e){return this.getTransport().channel.request("setVisibility",e,{cancelPreviousRequestsWithSameType:!0})},e.prototype.setThemeVariables=function(e){return this.getTransport().channel.request("setThemeVariables",e,{cancelPreviousRequestsWithSameType:!0})},e.prototype.chatMetadata=function(e){return this.getTransport().channel.request("chatMetadata",e)},e.prototype.actions=function(e){return this.getTransport().channel.request("actions",e)},e.prototype.requestCallback=function(e){return this.getTransport().channel.request("requestCallback",e)},e.prototype.sendTextMessage=function(e){return this.getTransport().channel.request("sendTextMessage",e)},e.prototype.sendImage=function(e){return this.getTransport().channel.request("sendImage",e)},e.prototype.sendBotRequest=function(e){return this.getTransport().channel.request("sendBotRequest",e)},e.prototype.isChatCreated=function(e){return this.getTransport().channel.request("isChatCreated",e)},v([vn("iframeOpen")],e.prototype,"iframeOpen",null),v([vn("serviceMeta")],e.prototype,"serviceMeta",null),v([vn("pasteMessage")],e.prototype,"pasteMessage",null),v([vn("setVisibility")],e.prototype,"setVisibility",null),v([vn("setThemeVariables")],e.prototype,"setThemeVariables",null),v([vn("chatMetadata")],e.prototype,"chatMetadata",null),v([vn("actions")],e.prototype,"actions",null),v([vn("requestCallback")],e.prototype,"requestCallback",null),v([vn("sendTextMessage")],e.prototype,"sendTextMessage",null),v([vn("sendImage")],e.prototype,"sendImage",null),v([vn("sendBotRequest")],e.prototype,"sendBotRequest",null),v([vn("isChatCreated")],e.prototype,"isChatCreated",null),e=v([Rt],e)})();ut.CancelError=Bt;var yn=Symbol("API");var bn=(function(e){function t(t){return e.call(this,t,{events:At,handlers:Nt,api:Mt})||this}return h(t,e),t.prototype.preload=function(){this.transport.channel.connect()},t=v([Rt],t)})(function(){function e(e,n){var r=this;this.config=e,this.version="1.31.0",this.widgetId="msngr_widget_"+Wt(),this.plugins=[],this.forceSendOpenIframe=!0,this.onlineEnsurer=new dn,this[t]=new gn(function(){return r.transport},function(e,t){return r.dispatchLC(e,t)}),this.events=n.events(),this.handlers=new n.handlers,this.api=new n.api(this[yn]),bt.updateSettings({service:""+this.options.serviceId,additional:m(m({},bt.getSettings().additional),{workspaceId:this.options.workspaceId,orgId:this.options.orgId,widgetId:this.widgetId})}),(function(e,t){sn(cn,e,t)})(void 0,{serviceId:""+this.options.serviceId,workspaceId:""+this.options.workspaceId,orgId:""+this.options.orgId,version:this.version,stat:"object"==typeof this.options.stat?this.options.stat:void 0,visitId:this.widgetId}),this.lastShowData=this.options.iframeOpenData,this.events.ready.addListener((function(){r.dispatchLC("LCReady",new fn)})),this.events.close.addListener((function(){r.dispatchLC("LCHidden",new fn)})),this.proxy={events:this.events,options:this.options,reload:function(){return r.transport.channel.connect()},show:function(e,t){return r.show(e,t)},hide:function(){return r.hide()}}}var t;return e.prototype.init=function(){var e=this,t=this.options;return (function(e){if(!G(e.serviceId))throw new Error("serviceId is required")})(t),this.plugins.forEach((function(n){n.init(t,e.proxy)})),this.onlineEnsurer.init(),this},e.prototype.show=function(e,t){void 0===t&&(t=F);var n=new fn(e,{preventable:!0});if(this.dispatchLC("LCBeforeShow",n),n.defaultPrevented)t();else{var r=mn();if(e||this.forceSendOpenIframe){this.forceSendOpenIframe=!1;var i=e||this.lastShowData;this.lastShowData=i,this[yn].iframeOpen(m(m({},i),{visitId:this.widgetId,eventTimestamp:Date.now(),clickId:r,visible:!0})).then(t,t)}else this[yn].setVisibility({visible:!0}).catch(F),t();ln("widget-opened",{clickId:r}),this.dispatchLC("LCShown",new fn)}},e.prototype.hide=function(){var e=new fn(void 0,{preventable:!0});(this.dispatchLC("LCBeforeHide",e),e.defaultPrevented)||(this.transport.isConnectionClosed()||this[yn].setVisibility({visible:!1}).catch(F),ln("widget-closed",{clickId:mn()}),this.dispatchLC("LCHidden",new fn))},e.prototype.setUI=function(e){return this.uiPlugin=e,this.addPlugin(e)},e.prototype.addPlugin=function(e){return this.plugins.push(e),this},e.prototype.destroy=function(){var e,t;null===(e=this.transportInstance)||void 0===e||e.onClose.removeListener(this.handleErrorConnect),null===(t=this.transportInstance)||void 0===t||t.destroy(),this.transportInstance=void 0,this.onlineEnsurer.destroy(),this.dispatchLC("LCClose",new fn)},Object.defineProperty(e.prototype,"options",{get:function(){return this.config.values},enumerable:!1,configurable:!0}),e.prototype.dispatchLC=function(e,t){for(var n=0,r=this.plugins;n<r.length;n++){var i=r[n];"function"==typeof i[e]&&i[e](t)}return t},e.prototype.getIframeUrl=function(e){return this.config.getMessengerUrl(this.widgetId,2,m({utm_source:"widget",utm_medium:"iframe"},e))},e.prototype.handleErrorConnect=function(e){if(this.forceSendOpenIframe=!0,e.isCriticalError){var t=e.error||new Error("Connection Terminated");jt(t,{additional:{method:"handleErrorConnect",target:"AbstractWidget"}}),this.dispatchLC("LCErrorCritical",new fn({error:t}))}},Object.defineProperty(e.prototype,"transport",{get:function(){var e=this;return this.transportInstance||(this.transportInstance=new pn(this.widgetId,function(t){e.onlineEnsurer.run(new te(function(){if(!e.uiPlugin)throw new Error("UI plugin was not initialized");e.uiPlugin.getChildWindowTransport({urlProvider:function(){return e.getIframeUrl()},allow:e.options.allow},t)},{tag:"childWindowProvider"}),{tag:"childWindowProvider"})},{authToken:this.options.authToken,themeVariables:this.options.themeVariables,authPartition:this.options.authPartition},this.events,this.handlers),this.transportInstance.onClose.addListener(this.handleErrorConnect)),this.transportInstance},enumerable:!1,configurable:!0}),t=yn,v([Y.bind],e.prototype,"handleErrorConnect",null),e}());function _n(e){return function(t,n){var r=_n.prefix+e;"string"==typeof t&&(r+="__"+t);var i=[r],o={};return"object"==typeof t?o=t:"object"==typeof n&&(o=n),(function(e){return Object.keys(e).filter((function(t){var n=e[t];return n||0===n})).map((function(t){var n=t.trim(),r=e[t];return!0===r?"_"+n:"_"+n+"_"+r}))})(o).forEach((function(e){i.push(r+e)})),i.join(" ")}}function On(e,t,n){return _n(e)(t,n).split(" ").pop()||""}_n.prefix="ya-chat-";var En={ru:{close:"Закрыть","error-title":"Не удалось загрузить чат","error-try-again":"Попробовать ещё раз","button-text-default":"Напишите нам!","cookie-blocked-text":"К сожалению доступов к cookie нет.","new-window-button":"Подтвердите переход на новую страницу","support-unread-text":"Все обращения","support-unread-text-count":["Еще {value} обращение","Еще {value} обращения","Еще {value} обращений"]},en:{close:"Close","error-title":"Failed to load chat","error-try-again":"Try again","button-text-default":"Write to us!","cookie-blocked-text":"Unfortunately, there is no access to cookies.","new-window-button":"Confirm the transition to a new page","support-unread-text":"All requests","support-unread-text-count":["{value} more request","{value} more requests","{value} more requests"]},fr:{close:"Fermer","error-title":"Impossible de charger le chat","error-try-again":"Réessayer","button-text-default":"Write to us!","cookie-blocked-text":"Unfortunately, there is no access to cookies.","new-window-button":"Confirm the transition to a new page","support-unread-text":"All requests","support-unread-count":["{value} more request","{value} more requests","{value} more requests"]},hy:{close:"Փակել","error-title":"Չհաջողվեց բեռնել չաթը","error-try-again":"Կրկին փորձել","button-text-default":"Write to us!","cookie-blocked-text":"Unfortunately, there is no access to cookies.","new-window-button":"Confirm the transition to a new page","support-unread-text":"All requests","support-unread-text-count":["{value} more request","{value} more requests","{value} more requests"]},kk:{close:"Жабу","error-title":"Чатты жүктеу мүмкін емес","error-try-again":"Тағы бір рет көріңіз","button-text-default":"Напишите нам!","cookie-blocked-text":"К сожалению доступов к cookie нет.","new-window-button":"Подтвердите переход на новую страницу","support-unread-text":"Все обращения","support-unread-text-count":["Еще {value} обращение","Еще {value} обращения","Еще {value} обращений"]},sr:{close:"Zatvori","error-title":"Učitavanje ćaskanja nije uspelo","error-try-again":"Pokušajte još jednom","button-text-default":"Write to us!","cookie-blocked-text":"Unfortunately, there is no access to cookies.","new-window-button":"Confirm the transition to a new page","support-unread-text":"All requests","support-unread-text-count":["{value} more request","{value} more requests","{value} more requests"]},tr:{close:"Kapat","error-title":"Sohbet yüklenemedi","error-try-again":"Tekrar dene","button-text-default":"Write to us!","cookie-blocked-text":"Unfortunately, there is no access to cookies.","new-window-button":"Confirm the transition to a new page","support-unread-text":"All requests","support-unread-text-count":["{value} more request","{value} more requests","{value} more requests"]},uz:{close:"Yopish","error-title":"Chatni yuklash imkoni boʻlmadi","error-try-again":"Qayta urinish","button-text-default":"Write to us!","cookie-blocked-text":"Unfortunately, there is no access to cookies.","new-window-button":"Confirm the transition to a new page","support-unread-text":"All requests","support-unread-text-count":["{value} more request","{value} more requests","{value} more requests"]},he:{close:"סגור","error-title":"טעינת צ'אט נכשלה","error-try-again":"נסה שנית","button-text-default":"Write to us!","cookie-blocked-text":"Unfortunately, there is no access to cookies.","new-window-button":"Confirm the transition to a new page","support-unread-text":"All requests","support-unread-text-count":["{value} more request","{value} more requests","{value} more requests"]}},wn={ru:function(e,t){var n=Math.abs(t)%100;return n>=5&&n<=20?e[2]:1===(n%=10)?e[0]:n>=2&&n<=4?e[1]:e[2]},en:function(e,t){return 1===t?e[0]:e[1]}};function Sn(e,t,n){var r=(En[t]||{})[e]||"";return Array.isArray(r)?(function(e,t,n){var r=wn[t];if(r){var i=n;return"string"==typeof n&&(i=Number.parseInt(n),Number.isNaN(i))?e[0]:r(e,i).replace("{value}",n)}return e[0]})(r,t,n):r}var Cn=_n("error");var xn=_n("loader");var Tn=/^data-/,Pn=/-(.)/g;var kn=(function(){function e(e){this.context=e,this.refId="widget_ref"+Wt(),this.detached=!1,this.listeners={},this.childrens=new Map,this.effects=[],this.subscriptions=[]}return Object.defineProperty(e.prototype,"id",{get:function(){return'id="'+this.refId+'"'},enumerable:!1,configurable:!0}),e.prototype.useClassName=function(e,t,n){var r=this;return this.subscribe((function(t,n){r.node?r.node.className=e(t,n):r.className=e(t,n)}),t,n),e(this.context.props,null===n||void 0===n?void 0:n.value)},e.prototype.useStyle=function(e,t,n){var r=this;this.subscribe((function(t,n){if(r.node){var i=e(t,n);Object.keys(i).forEach((function(e){z(i[e])?r.node.style.setProperty(e,i[e],"important"):r.node.style[e]=""}))}else r.style=e(t,n)}),t,n);var i=e(this.context.props,null===n||void 0===n?void 0:n.value);return Object.keys(i).map((function(e){if(z(i[e]))return (function(e){return e.replace(/([a-z])([A-Z])/g,(function(e,t,n){return t+"-"+n.toLowerCase()}))})(e)+": "+i[e]})).filter(z).join(";")},e.prototype.useText=function(e,t,n){var r=this;return this.subscribe((function(t,n){r.node?r.node.innerText=e(t,n):r.innerText=e(t,n)}),t,n),e(this.context.props,null===n||void 0===n?void 0:n.value)},e.prototype.useChildren=function(e,t,n){var r=this,i=Wt();return this.childrens.set(i,{provider:e,node:void 0}),this.subscribe((function(t,n){var o=r.childrens.get(i);o.node&&w(o.node);var a=e(t,n);a&&(o.node=a,r.node.appendChild(a))}),t,n),""},e.prototype.useEffect=function(e,t,n){var r={id:Wt(),provider:e,result:void 0};this.effects.push(r),this.subscribe((function(t,n){r.result&&r.result(),r.result=e(t,n)}),t,n)},e.prototype.on=function(e,t){this.node&&this.listeners[e]&&this.node.removeEventListener(e,this.listeners[e]),this.listeners[e]=t,this.node&&this.node.addEventListener(e,t)},e.prototype.mount=function(){var e=document.getElementById(this.refId);if(!e)throw new Error("Attribute data-ref should be non empty string");"body"===(function(e){if(e.dataset)return e.dataset;for(var t=e.attributes,n={},r=0;r<t.length;r++){var i=t[r];i&&i.name.match(Tn)&&(n[i.name.slice(5).replace(Pn,(function(e,t){return t.toUpperCase()}))]=i.value)}return n})(e).attachTo&&(this.detached=!0,document.body.appendChild(e)),this.setNode(e)},e.prototype.setNode=function(e){var t=this;this.node=e,this.className&&(this.node.className=this.className),this.innerText&&(this.node.innerText=this.innerText),this.style&&Object.keys(this.style).forEach((function(e){t.node.style.setProperty(e,t.style[e],"important")})),this.childrens.forEach((function(e){var n=e.provider(t.context.props);n&&t.node.appendChild(n)})),Object.keys(this.listeners).forEach((function(n){e.addEventListener(n,t.listeners[n])})),this.effects.forEach((function(e){e.result=e.provider(t.context.props,void 0)}))},e.prototype.subscribe=function(e,t,n){var r=this,i=function(r){var i=r.prevValue,o=r.value;t.some((function(e){return i[e]!==o[e]}))&&e(o,null===n||void 0===n?void 0:n.value)};if(this.context.onPropsChanged.addListener(i),this.subscriptions.push((function(){r.context.onPropsChanged.removeListener(i)})),n){var o=function(t){e(r.context.props,t.value)};null===n||void 0===n||n.onChange.addListener(o),this.subscriptions.push((function(){n.onChange.removeListener(o)}))}},e.prototype.getNode=function(){return this.node},e.prototype.remove=function(){var e=this;this.subscriptions.forEach((function(e){return e()})),this.subscriptions=void 0,this.effects.forEach((function(e){var t;null===(t=e.result)||void 0===t||t.call(e)})),this.node&&(Object.keys(this.listeners).forEach((function(t){e.node.removeEventListener(t,e.listeners[t])})),this.detached&&w(this.node)),this.listeners=void 0,this.node=void 0,this.effects=void 0},e})(),jn=(function(){function e(e,t){this.getter=e,this.onChange=t}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getter()},enumerable:!1,configurable:!0}),e})(),Rn=(function(){function e(e,t){this.id=e,this.value=t,this.onChange=new U}return e.prototype.setState=function(e){var t=this.value;(function(e,t){if(e===t)return!0;if("object"==typeof e&&"object"==typeof t){for(var n in e)if(e[n]!==t[n])return!1;return!0}return!1})(e,this.value)||(this.value=m(m({},t),e),this.onChange.dispatch({value:this.value,prevValue:t}))},e.prototype.getValueProvider=function(){var e=this;return[new jn(function(){return e.value},this.onChange),function(t){e.setState(t(e.value))}]},e.prototype.destroy=function(){this.onChange.removeAllListener()},e})(),In=(function(){function e(e){this.refs=new Map,this.states=new Set,this.children=[],this._props=new Rn(Wt(),e)}return Object.defineProperty(e.prototype,"props",{get:function(){return this._props.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onPropsChanged",{get:function(){return this._props.onChange},enumerable:!1,configurable:!0}),e.prototype.getRef=function(e){return this.refs[e]},e.prototype.pipe=function(t){var n=new e(t(this.props));return this.onPropsChanged.addListener((function(e){var r=e.value;n.setProps(t(r))})),this.children.push(n),n},e.prototype.useState=function(e){var t=new Rn(Wt(),e);return this.states.add(t),t.getValueProvider()},e.prototype.setProps=function(e){this._props.setState(e)},e.prototype.useRef=function(){var e=new kn(this);return this.refs.set(e.refId,e),e},e.prototype.mount=function(e){this.fragments=e,this.refs.forEach((function(e){e.mount()})),this.children.forEach((function(e){e.mount()}))},e.prototype.destroy=function(){if(this.refs.forEach((function(e){e.remove()})),this.refs.clear(),this.onPropsChanged.removeAllListener(),this.children.forEach((function(e){e.destroy()})),this.children=[],this.states.forEach((function(e){e.destroy()})),this.states.clear(),this.fragments)for(var e=0;e<this.fragments.length;e++)w(this.fragments[e])},e})(),An=_n("base");function Dn(e,t){var n=e.useRef(),r=(function(e){var t=e.useRef();return"\n        <div\n            "+t.id+'\n            class="'+t.useClassName((function(e){var t=e.visible;return xn({visible:t})}),["visible"])+'">\n            <div class="'+xn("spinner")+'"></div>\n        </div>\n    '})(e.pipe((function(e){return{visible:"loader"===e.page}}))),i=(function(e){var t=e.useRef(),n=e.useRef();n.on("click",e.props.onRetryErrorClick);var r=e.props.lang;return"\n        <div\n            "+t.id+'\n            class="'+t.useClassName((function(e){var t=e.visible;return Cn({visible:t})}),["visible"])+'"\n        >\n            <div class="'+Cn("title")+'">'+Sn("error-title",r)+"</div>\n            <div "+n.id+' class="'+Cn("button")+'">'+Sn("error-try-again",r)+"</div>\n        </div>\n    "})(e.pipe((function(e){return{visible:"error"===e.page,lang:e.lang,onRetryErrorClick:e.onRetry}})));return'\n        <div class="'+An()+'">\n            '+(z(t)?t:"")+"\n            <div\n                "+n.id+'\n                class="'+n.useClassName((function(e){return An("mount",{visible:"messenger"===e.page,fullscreen:e.fullscreen})}),["page","fullscreen"])+'"\n            >\n                '+n.useChildren((function(e){if(e.iframe)return e.iframe.className=An("iframe"),e.iframe}),["iframe"])+"\n            </div>\n            "+r+"\n            "+i+"\n        </div>\n    "}var Mn=(function(){function e(e){this.template=e,this.ready=!1,this.destroyed=!1,this.initialized=!1}return e.prototype.render=function(e){if(!this.initialized)throw new Error("Widget should be initialized before mounting");!(function(e,t,n){var r=document.createDocumentFragment(),i=document.createElement("div");i.innerHTML=e(t);var o=i.firstElementChild;if(!o)throw new Error("Bad template");var a=document.createComment("noindex"),s=document.createComment("/noindex");r.appendChild(a),r.appendChild(o),r.appendChild(s),n.appendChild(r),t.mount([a,o,s])})(this.template,this.context,e)},e.prototype.init=function(e,t){var n;this.widgetProxy=t,t.events.fullscreenOn.addListener(this.handleFullscreenOn),t.events.fullscreenOff.addListener(this.handleFullscreenOff),this._context=new In(m({lang:this.options.lang||"ru",onRetry:this.handleErrorRetryClick},null===(n=this.contextProvider)||void 0===n?void 0:n.call(this,t))),this.initialized=!0},Object.defineProperty(e.prototype,"context",{get:function(){var e=this._context;return V(e,"Widget should be initalized before using context"),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){var e=this.widgetProxy;return V(e,"Widget should be initialzed before using options"),e.options},enumerable:!1,configurable:!0}),e.prototype.LCClose=function(){this.destroy()},e.prototype.iframeOpen=function(e){this.ready?this.showMount(e):this.showLoader(e)},e.prototype.toggleFullscreen=function(e){this.context.setProps({fullscreen:e})},e.prototype.showMount=function(e){this.ready=!0,this.context.setProps(m({page:"messenger"},e))},e.prototype.showError=function(e){this.context.setProps(m({page:"error"},e))},e.prototype.showLoader=function(e){this.context.setProps(m({page:"loader"},e))},e.prototype.destroy=function(){this.destroyed||(this.widgetProxy.events.fullscreenOn.removeListener(this.handleFullscreenOn),this.widgetProxy.events.fullscreenOff.removeListener(this.handleFullscreenOff),this.context.destroy(),this.ready=!1,this.destroyed=!0)},e.prototype.handleFullscreenOn=function(){this.toggleFullscreen(!0)},e.prototype.handleFullscreenOff=function(){this.toggleFullscreen(!1)},e.prototype.handleErrorRetryClick=function(){this.iframeOpen(),this.widgetProxy.reload()},v([Y.bind],e.prototype,"handleFullscreenOn",null),v([Y.bind],e.prototype,"handleFullscreenOff",null),v([Y.bind],e.prototype,"handleErrorRetryClick",null),e})(),Nn=_n("block");function Ln(e){return'\n        <div class="'+Nn()+'">\n            '+Dn(e)+"\n        </div>\n    "}function Fn(e,t,n){var r=e.urlProvider,i=e.allow,o=r({utm_medium:"iframe"}),a=t(o,i),s=new URL(o).origin;n(new vt(a,s))}function Bn(e,t){return String(t<e?t+"+":e)||""}var Un=(function(e){var t=void 0,n=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t&&(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))})(t.args,n))return t.result;var i=e.apply(void 0,Ae(n));return t={result:i,args:n},i};return n.clear=function(){t=void 0},n})((function(e){var t=(function(){var e;return(null===(e=window.top)||void 0===e?void 0:e.YandexApplicationsFeatureAvailability)?window.top:window})(),n=(function(e){if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(t){jt(t,{message:"Can not get yandex application availability feature",additional:{featureInfo:e}})}})(t.YandexApplicationsFeatureAvailability&&t.YandexApplicationsFeatureAvailability.getFeatureInfo(e));return{isAvailable:Boolean(n&&n.isAvailable),params:n&&n.params}})),zn=function(){return Un("messenger")},Vn=function(){return zn().isAvailable};Un.clear;var Hn=(function(e){function t(){return e.call(this,Ln)||this}return h(t,e),t.prototype.mount=function(e){this.render(e)},t.prototype.getChildWindowTransport=function(e,t){var n=this;Fn(e,(function(e,t){var r=hn({url:e,allow:t});return n.context.setProps({iframe:r}),r.contentWindow}),t)},t.prototype.LCShown=function(){this.iframeOpen()},t.prototype.LCReady=function(){this.showMount()},t.prototype.LCErrorCritical=function(){this.showError()},t})(Mn);function Wn(){return new Hn}var $n=!1;try{document.createEvent("TouchEvent"),$n=!0}catch(e){}var Gn=function(){return $n&&(Math.max(window.screen.width,window.screen.height)<900||(function(e){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)})(window.navigator.userAgent))},qn=function(){return (function(e){return/iPad|iPhone|iPod/.test(e)})(window.navigator.userAgent)},Yn=(function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return h(t,e),t})(ne.BaseError),Kn=(function(){function e(e){this.adapter=e}return e.prototype.show=function(){this.adapter.show()},e.prototype.hide=function(){this.adapter.hide()},e.prototype.remove=function(){this.adapter.remove()},e.prototype.ready=function(){},e.prototype.getChildWindowTransport=function(e,t){var n=this;Fn(e,(function(e,t){return n.remove(),n.adapter.create(e,t).contentWindow}),t)},e})(),Jn=(function(){function e(e){this.adapter=e}return e.prototype.show=function(){var e;null===(e=this.childWindow)||void 0===e||e.focus()},e.prototype.ready=function(){var e;null===(e=this.adapter)||void 0===e||e.ready()},e.prototype.hide=function(){},e.prototype.remove=function(){var e;window.removeEventListener("unload",this.handleUnload),null===(e=this.childWindow)||void 0===e||e.close()},e.prototype.getChildWindowTransport=function(e,t){var n=this;!(function(e,t,n){var r=(0,e.urlProvider)({utm_medium:"new_tab"});try{var i=t(r),o=new URL(r).origin;n(new yt(i,window,o,[o]))}catch(e){n(void 0,e)}})(e,(function(e){if(n.remove(),n.childWindow=window.open(e),!n.childWindow)throw new Yn("ChildWindow creation was failed");return window.addEventListener("unload",n.handleUnload),n.childWindow}),t)},e.prototype.handleUnload=function(){"visible"===window.document.visibilityState&&this.remove()},v([Y.bind],e.prototype,"handleUnload",null),e})(),Zn=[{name:"iframe",behavior:Kn},{name:"detached",behavior:Jn}],Xn=(function(){function e(){this.blockName="disable-page-scroll",this.POPUP_ANIMATION_TIMEOUT=300,this.marginLeft="",this.marginTop="",this.scrollX=0,this.scrollY=0,this.disabled=!1}return e.prototype.clearPageScrollTimeout=function(){window.clearTimeout(this.scrollTimeout)},e.prototype.handleChangeProps=function(e){e.visible&&e.isMobile?this.disable():this.enable()},e.prototype.disable=function(){var e=this;this.disabled||(this.clearPageScrollTimeout(),this.scrollTimeout=window.setTimeout((function(){try{var t=document.body;qn&&(e.scrollX=window.scrollX,e.scrollY=window.scrollY,e.marginLeft=t.style.marginLeft,e.marginTop=t.style.marginTop,t.style.marginLeft="-"+e.scrollX+"px",t.style.marginTop="-"+e.scrollY+"px",t.classList.add(On(e.blockName,{ios:!0}))),t.classList.add(On(e.blockName)),e.disabled=!0}catch(e){jt(e)}}),this.POPUP_ANIMATION_TIMEOUT))},e.prototype.enable=function(){try{if(this.clearPageScrollTimeout(),!this.disabled)return;var e=document.body;e.classList.remove(On(this.blockName)),qn&&(e.classList.remove(On(this.blockName,{ios:!0})),e.style.marginLeft=this.marginLeft,e.style.marginTop=this.marginTop,window.scrollTo(this.scrollX,this.scrollY)),this.disabled=!1}catch(e){jt(e)}},e})(),Qn=10,er=250;function tr(e,t,n,r){var i=t.getBoundingClientRect(),o=i.left,a=i.right,s=i.top,u=i.bottom,c=(function(e){return z(e)?e.split("-"):["bottom","left"]})(n),l="top"===c[0]?s:u,d="right"===c[1]?a:o,f=(function(){var e=window.innerWidth,t=window.innerHeight;return{left:0+Qn,top:0+Qn,right:0+e-Qn,bottom:0+t-Qn,width:e,height:t}})(),p=e.offsetWidth,h=(null===r||void 0===r?void 0:r.naturalHeight)||e.offsetHeight,m=(function(e,t,n,r,i){var o=r.offsetParent&&r.offsetParent.offsetTop||0,a="top"===i?n.top-Qn:e-(window.pageYOffset-o+n.bottom+2*Qn);return Math.max(er,Math.min(a,t))})(f.height,h,i,t,c[0]),v=f.left+(f.right-f.left)/2,g=f.top+(f.bottom-f.top)/2;return o+p>f.right&&(d=a>v?Math.max(a-p,Qn):Math.min(o,f.right-p)),u+m>f.bottom&&s>g&&(l=s-m),{left:Math.floor(d),top:Math.floor(l),height:m,naturalHeight:h}}var nr=_n("popup"),rr={left:void 0,top:void 0};var ir=(function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.props=r,i.hidden=!0,i.onToggled=new U,i.contextProvider=function(e){return m({popupTarget:r.popupTargetNode,popupPosition:r.popupTargetPosition,popupAutocloseable:r.autocloseable,isMobile:z(r.isMobile)?r.isMobile:Gn(),paranjaVisible:r.paranjaVisible,calculatePosition:r.calculatePosition,onClose:function(){return e.hide()},onNewTab:i.handleNewWindowClick,pageScrollController:i.props.pageScrollController||new Xn},n(e,r))},i.strategies=i.props.strategies||Zn,i.currentStrategyName=i.strategies[0].name,i.setBehavior(i.getStrategyByName(i.currentStrategyName)),i}return h(t,e),t.prototype.getChildWindowTransport=function(e,t){this.behavior.getChildWindowTransport(e,t)},t.prototype.LCReady=function(){this.showMount(),this.behavior.ready()},t.prototype.LCErrorCritical=function(e){var t=e.data.error;if(Yn.is(t))this.showNewWindowRequest();else{if(Vt.is(t)&&"iframe"===this.currentStrategyName&&this.getStrategyByName("detached"))try{return this.setBehavior(this.getStrategyByName("detached")),void this.widgetProxy.reload()}catch(e){}this.showError()}},t.prototype.LCHidden=function(){this.behavior.hide()},t.prototype.LCShown=function(){this.behavior.show()},t.prototype.hidePopup=function(){this.hidden||(this.hidden=!0,this.context.setProps({popupVisible:!1}),this.onToggled.dispatch({hidden:!0}))},t.prototype.showPopup=function(){this.hidden&&(this.hidden=!1,this.iframeOpen({popupVisible:!0}),this.onToggled.dispatch({hidden:!1}))},t.prototype.showNewWindowRequest=function(){this.context.setProps({page:"new-window-blocked"})},t.prototype.getStrategyByName=function(e){return this.strategies.filter((function(t){return t.name===e}))[0]},t.prototype.setBehavior=function(e){var t,n=this;this.behavior&&this.currentStrategyName===e.name||(null===(t=this.behavior)||void 0===t||t.remove(),this.currentStrategyName=e.name,"iframe"===e.name?this.behavior=new e.behavior({show:function(){n.showPopup()},hide:function(){n.hidePopup()},remove:function(){n.context.setProps({iframe:void 0})},create:function(e,t){var r=hn({url:e,allow:t});return n.context.setProps({iframe:r}),r}}):"detached"===e.name&&(this.behavior=new e.behavior({ready:function(){n.hidePopup()}})))},t.prototype.handleNewWindowClick=function(){this.setBehavior(this.getStrategyByName("detached"));try{this.widgetProxy.reload(),this.hidePopup()}catch(e){}},v([Y.bind],t.prototype,"handleNewWindowClick",null),t})(Mn),or=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.mount=function(){this.render(document.body)},t.prototype.setPopupTarget=function(e,t){this.context.setProps({popupTarget:e,popupPosition:t||this.context.props.popupPosition})},t})(ir),ar=_n("close");var sr=_n("new-window");var ur=_n("popup-ui");function cr(e,t){if(!e.props.lang)throw new Error("");var n=(function(e){var t=e.useRef(),n=e.useRef();return n.on("click",e.props.onCloseClick),"\n        <div\n            "+t.id+'\n            class="'+t.useClassName((function(e){var t=e.visible;return ar({visible:t})}),["visible"])+'"\n        >\n            <div '+n.id+' class="'+ar("button-box")+'">\n                <div class="'+ar("button")+'"></div>\n            </div>\n        </div>\n    '})(e.pipe((function(e){return{visible:e.page&&"messenger"!==e.page,onCloseClick:e.onClose}}))),r=(function(e){var t=e.props.lang,n=e.useRef(),r=e.useRef();return r.on("click",e.props.onOpenNewTabClick),"\n        <div\n            "+n.id+'\n            class="'+n.useClassName((function(e){var t=e.visible;return sr({visible:t})}),["visible"])+'"\n        >\n            <div class="'+sr("title")+'">\n                '+Sn("cookie-blocked-text",t)+"\n            </div>\n            <div "+r.id+' class="'+sr("button")+'">\n                '+Sn("new-window-button",t)+"\n            </div>\n        </div>\n    "})(e.pipe((function(e){return{visible:"new-window-blocked"===e.page,onOpenNewTabClick:e.onNewTab,lang:e.lang}}))),i=Dn(e.pipe((function(e){return{lang:e.lang,onRetry:e.onRetry,fullscreen:e.fullscreen,iframe:e.iframe,page:e.page}})),n);return (function(e,t,n){var r=e.useState(rr),i=r[0],o=r[1],a=e.useRef(),s=e.useRef(),u=e.useRef();return a.on("click",e.props.onParanjaClick),s.useEffect((function(e){function t(t){var n=t.target;n&&!s.getNode().contains(n)&&e.onParanjaClick()}return e.autocloseable&&e.visible&&document.addEventListener("click",t,!0),function(){document.removeEventListener("click",t,!0)}}),["visible","autocloseable","onParanjaClick"]),s.useEffect((function(e){function t(){o((function(t){return!e.visible||!e.target||e.isMobile||e.inner?rr:e.calculatePosition(u.getNode(),e.target,e.position,t)}))}return window.addEventListener("resize",t),window.addEventListener("scroll",t),window.addEventListener("orientationchange",t),t(),function(){window.removeEventListener("resize",t),window.removeEventListener("scroll",t),window.removeEventListener("orientationchange",t)}}),["target","position","visible","isMobile","inner","calculatePosition"]),s.useEffect((function(e){return function(){return e.pageScrollController.enable()}}),["pageScrollController"]),s.useEffect((function(e){e.pageScrollController.handleChangeProps(e)}),["visible","isMobile"]),'\n        <div\n            class="'+nr("container")+'"\n        >\n            <div\n                '+a.id+'\n                class="'+a.useClassName((function(e){return nr("paranja",{visible:e.visible&&(e.isMobile||e.paranjaVisible)})}),["visible","isMobile","paranjaVisible"])+'"\n            >\n            </div>\n            <div\n                '+s.id+'\n                style="'+s.useStyle((function(e,t){var n=t.left,r=t.top;return{left:z(n)?n+"px":void 0,top:z(r)?r+"px":void 0}}),[],i)+'"\n                class="'+s.useClassName((function(e){return nr({button:e.buttonMode,position:(function(e){return e.inner?"inner":e.target?"target":"fixed"})(e),desktop:!e.isMobile,mobile:e.isMobile,visible:e.visible,fullscreen:e.fullscreen})}),["buttonMode","target","isMobile","visible","fullscreen","inner"])+'"\n            >\n                <div\n                    '+u.id+'\n                    class="'+nr("content-wrapper")+'"\n                    style="'+u.useStyle((function(e,t){var n=t.height;return{height:z(n)?n+"px":void 0}}),[],i)+'"\n                >\n                    '+(z(n)?n:"")+"\n                    "+t+"\n                </div>\n            </div>\n        </div>\n    "})(e.pipe((function(e){return{isMobile:e.isMobile,onParanjaClick:e.onClose,buttonMode:e.buttonMode,position:e.popupPosition,autocloseable:e.popupAutocloseable,target:e.popupTarget,visible:e.popupVisible,fullscreen:e.fullscreen,inner:e.inner,paranjaVisible:e.paranjaVisible,calculatePosition:e.calculatePosition||tr,pageScrollController:e.pageScrollController}})),"\n            "+i+"\n            "+r+"\n        ",t)}function lr(e,t){return'\n        <div data-ref="popup-ui" class="'+ur()+'">\n            '+cr(e,t)+"\n        </div>\n    "}function dr(e){return new or(lr,function(){return{}},e)}var fr=_n("icon");var pr=_n("button");function hr(e,t){var n=e.useRef();n.on("click",e.props.onClick);var r=e.props.buttonText?'\n        <div class="'+pr("text")+'">\n            <div class="'+pr("text-container")+'">'+e.props.buttonText+"</div>\n        </div>":"";return"\n        <a "+n.id+' class="'+n.useClassName((function(e){return pr({mobile:e.isMobile,collapsed:e.collapsed,size:e.buttonSize,desktop:!e.isMobile,visible:e.visible})}),["isMobile","visible","buttonSize","collapsed"])+'">\n            <div class="'+pr("container")+'">\n                <div class="'+pr("icon")+'">\n                    <svg class="'+fr()+'" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <g clip-path="url(#clip-mssngr-widget-icon)">\n        <g filter="url(#filter0-mssngr-widget)">\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M14 0C2.8 0 0 2.8 0 14C0 25.2 2.8 28 14 28C25.2 28 28 25.2 28 14C28 2.8 25.2 0 14 0Z" fill="#00D7D7"/>\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M14 0C2.8 0 0 2.8 0 14C0 25.2 2.8 28 14 28C25.2 28 28 25.2 28 14C28 2.8 25.2 0 14 0Z" fill="url(#paint0_linear-mssngr-widget)"/>\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M14 0C2.8 0 0 2.8 0 14C0 25.2 2.8 28 14 28C25.2 28 28 25.2 28 14C28 2.8 25.2 0 14 0Z" fill="url(#paint1_linear-mssngr-widget)"/>\n        </g>\n            <path d="M25.0249 13.7106C24.9593 13.5028 24.8061 13.3169 24.5983 13.1965L8.49834 4.16217C7.86396 3.81217 7.0874 4.2606 7.0874 4.99342V7.11529V8.38404L25.0249 13.7106Z" fill="#FAFFFE"/>\n            <path d="M7.0874 20.9013V23.0231C7.0874 23.745 7.86396 24.2044 8.49834 23.8544L24.5983 14.831C24.8171 14.7106 24.9593 14.5247 25.0249 14.3169L7.0874 19.6216V20.9013Z" fill="#C8F4F9"/>\n            <path d="M7.08759 8.37787L5.87353 8.01693C5.07509 7.77631 4.38603 8.60756 4.7579 9.35131L5.41415 10.6529L6.87978 13.5732L7.09853 13.9997V8.37787H7.08759Z" fill="#DEF8FB"/>\n            <path d="M7.0874 13.9998H25.0796C25.0796 13.8904 25.0577 13.792 25.0249 13.6936L7.0874 8.37793V13.9998Z" fill="#DEF8FB"/>\n            <path d="M7.09853 14.0005L4.7579 18.6489C4.38603 19.3927 5.07509 20.2239 5.87353 19.9833L7.08759 19.6224V14.0005H7.09853Z" fill="#FAFFFE"/>\n            <path d="M7.0874 19.6219L25.0358 14.3063C25.0686 14.2078 25.0905 14.0984 25.0905 14H7.0874V19.6219Z" fill="#FAFFFE"/>\n        </g>\n        <defs>\n        <filter id="filter0-mssngr-widget" x="-25.7204" y="-14.7308" width="79.4408" height="79.4408" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n            <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n            <feOffset dy="10.9896"/>\n            <feGaussianBlur stdDeviation="12.8602"/>\n            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.06 0"/>\n            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n        </filter>\n        <linearGradient id="paint0_linear-mssngr-widget" x1="44.8437" y1="-28.5469" x2="14" y2="16.5156" gradientUnits="userSpaceOnUse">\n            <stop stop-color="white"/>\n            <stop offset="1" stop-color="white" stop-opacity="0"/>\n        </linearGradient>\n        <linearGradient id="paint1_linear-mssngr-widget" x1="14" y1="33.3594" x2="34.3437" y2="-11.4844" gradientUnits="userSpaceOnUse">\n            <stop stop-color="#00BCBC"/>\n            <stop offset="1" stop-color="white" stop-opacity="0"/>\n        </linearGradient>\n        <clipPath id="clip-mssngr-widget-icon">\n            <path d="M0 0H28V28H0V0Z" fill="white"/>\n        </clipPath>\n        </defs>\n    </svg>\n                </div>\n                '+r+"\n            </div>\n            "+(t||"")+"\n        </a>"}var mr=_n("badge");function vr(e,t){return t?(null===e||void 0===e?void 0:e.valueForChat)||0:(null===e||void 0===e?void 0:e.value)||0}var gr=_n("button-ui");function yr(e,t){var n=(function(e){var t,n,r=e.useState({count:vr(null===(t=e.props.unreadCounterPlugin)||void 0===t?void 0:t.lastValue,null===(n=e.props.unreadCounterPlugin)||void 0===n?void 0:n.shouldUseValueForChat)}),i=r[0],o=r[1],a=e.useRef(),s=e.useRef();return a.useEffect((function(e){var t=e.unreadCounterPlugin,n=function(e){o((function(){return{count:vr(e,null===t||void 0===t?void 0:t.shouldUseValueForChat)}}))};return t&&(o((function(){return{count:vr(t.lastValue,t.shouldUseValueForChat)}})),t.onChanged.addListener(n)),function(){null===t||void 0===t||t.onChanged.removeListener(n)}}),["unreadCounterPlugin"]),"\n        <div\n            "+a.id+'\n            class="'+a.useClassName((function(e,t){var n=t.count;return mr({"has-count":Boolean(n),type:e.badgeType,visible:Boolean(n)})}),["badgeType"],i)+'"\n        >\n            <div '+s.id+' class="'+mr("count")+'">\n                '+s.useText((function(e,t){return Bn(t.count,e.badgeMaxCount)}),["badgeMaxCount"],i)+"\n            </div>\n        </div>\n    "})(e.pipe((function(e){return{badgeMaxCount:e.badgeMaxCount,unreadCounterPlugin:e.unreadCounterPlugin,badgeType:e.badgeType}}))),r=cr(e.pipe((function(e){return{lang:e.lang,isMobile:e.isMobile,page:e.page,iframe:e.iframe,fullscreen:e.fullscreen,popupAutocloseable:e.popupAutocloseable,buttonMode:!0,popupVisible:e.popupVisible,popupPosition:void 0,popupTarget:void 0,paranjaVisible:e.paranjaVisible,onClose:e.onClose,onRetry:e.onRetry,onNewTab:e.onRetry,inner:!0,pageScrollController:e.pageScrollController}})),t);return'\n        <div class="'+gr()+'">\n            '+hr(e.pipe((function(e){return{isMobile:e.isMobile,lang:e.lang,collapsed:e.collapsed,buttonSize:e.buttonSize,buttonText:e.buttonText,visible:e.popupVisible,onClick:e.onButtonClick}})),n)+'\n            <div data-ref="popup-wrapper" class="'+gr("popup-wrapper")+'">\n                '+r+"\n            </div>\n        </div>\n    "}function br(e){return function(t){var n=(function(e,t){return m(m({},e),{isMobile:z(e.isMobile)?e.isMobile:Gn(),buttonText:z(e.buttonText)?e.buttonText:Sn("button-text-default",t),badgeType:e.badgeType||"num",badgeMaxCount:e.badgeMaxCount||99})})(e,t.options.lang),r=(function(e){var t=e.isMobile,n=e.buttonText,r=e.collapsedDesktop,i=e.collapsedTouch,o=t?i:r;return n?t||-1!==["always","never","hover"].indexOf(o)?t&&-1===["always","never"].indexOf(o)?"always":o:"hover":"always"})(n);return{buttonMode:!0,badgeMaxCount:n.badgeMaxCount||99,badgeType:n.badgeType||"num",collapsed:r,buttonSize:"always"===r?"large":"normal",buttonText:n.buttonText,unreadCounterPlugin:n.unreadCounterPlugin,paranjaVisible:n.paranjaVisible,pageScrollController:e.pageScrollController||new Xn,onButtonClick:function(){t.show()}}}}var _r=(function(e){function t(t){return e.call(this,yr,br(t),t)||this}return h(t,e),t.prototype.mount=function(e){void 0===e&&(e=document.body),this.render(e)},t})(ir);function Or(e){return new _r(e)}var Er=_n("support-header"),wr=99;function Sr(e){return e&&z(e.chatCount)&&z(e.valueForChat)?e.chatCount-(e.valueForChat>0?1:0):0}function Cr(e){var t,n=e.useState({count:Sr(null===(t=e.props.unreadCounterPlugin)||void 0===t?void 0:t.lastValue)}),r=n[0],i=n[1],o=e.useRef(),a=e.useRef();return a.useEffect((function(e){var t=function(e){i((function(){return{count:Sr(e)}}))},n=e.unreadCounterPlugin;return n&&(t(null===n||void 0===n?void 0:n.lastValue),n.onChanged.addListener(t)),function(){null===n||void 0===n||n.onChanged.removeListener(t)}}),["unreadCounterPlugin"]),'\n        <div class="'+Er()+'">\n            <a href="'+e.props.passportUrl+'" target="_blank" class="'+Er("logo")+'">\n                <svg width="58" height="24" viewBox="0 0 58 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0H46C52.6274 0 58 5.37259 58 12C58 18.6274 52.6274 24 46 24H12C5.37257 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0ZM12 1.06077C5.95843 1.06077 1.06077 5.95843 1.06077 12C1.06077 18.0416 5.95842 22.9392 12 22.9392H46C52.0416 22.9392 56.9392 18.0416 56.9392 12C56.9392 5.95843 52.0416 1.06077 46 1.06077H12Z" fill="black"/>\n                    <rect x="5.30371" y="4.64087" width="14.5856" height="14.5856" rx="7.29282" fill="#FC3F1D"/>\n                    <path d="M13.6244 16.3167H15.148V7.56531H12.9319C10.7031 7.56531 9.53204 8.71117 9.53204 10.3985C9.53204 11.7458 10.1742 12.5391 11.3201 13.3576L9.33057 16.3167H10.9801L13.1963 13.005L12.4282 12.4887C11.4964 11.8592 11.0431 11.3681 11.0431 10.3103C11.0431 9.37854 11.6978 8.74895 12.9444 8.74895H13.6244V16.3167Z" fill="white"/>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M45.2273 17.2309V17.2376H43.0988V6.37415H46.3853C47.2488 6.37415 48.0453 6.46785 48.7682 6.65527C49.491 6.84268 50.1202 7.14389 50.6624 7.55888C51.1979 7.97387 51.6196 8.52943 51.9208 9.21216C52.222 9.90158 52.3759 10.7449 52.3759 11.7423C52.3759 12.927 52.1082 13.931 51.5794 14.7409C51.0506 15.5508 50.321 16.1733 49.3973 16.595C48.4736 17.0167 47.4295 17.2309 46.2648 17.2309H45.2273ZM45.2273 15.6378V7.96718H46.1979C46.9743 7.96718 47.6704 8.08097 48.2728 8.30854C48.8753 8.53612 49.3505 8.93103 49.6919 9.47989C50.0332 10.0354 50.2072 10.7784 50.2072 11.7155C50.2072 12.5856 50.0332 13.3085 49.6852 13.8909C49.3371 14.4732 48.8485 14.9083 48.226 15.2028C47.6035 15.4973 46.8806 15.6378 46.0573 15.6378H45.2273Z" fill="black"/>\n                    <path d="M41.2246 17.2376V6.37419H39.1162V17.2376H41.2246Z" fill="black"/>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M35.4694 11.9337C35.4694 15.9614 32.2043 19.2265 28.1766 19.2265C24.1489 19.2265 20.8838 15.9614 20.8838 11.9337C20.8838 7.90597 24.1489 4.64087 28.1766 4.64087C27.6415 4.64087 27.108 4.69977 26.5857 4.8165L26.9197 6.31064C24.3427 6.88414 22.416 9.18392 22.416 11.9337C22.416 15.1152 24.9951 17.6943 28.1766 17.6943C31.3581 17.6943 33.9372 15.1152 33.9372 11.9337V11.9337H35.4694ZM28.1766 4.64087C32.2043 4.64087 35.4694 7.90597 35.4694 11.9337C35.4694 11.3986 35.4105 10.8651 35.2938 10.3428L33.7997 10.6768C33.2262 8.09976 30.9264 6.17311 28.1766 6.17311H28.1766V4.64087ZM28.1766 16.2453C29.9511 16.2453 31.4752 15.1733 32.1366 13.6416L30.7323 13.0294C30.3071 14.0199 29.3228 14.7137 28.1766 14.7137C27.0424 14.7137 26.0668 14.0344 25.6344 13.0605L24.2301 13.6728C24.8987 15.1878 26.4142 16.2453 28.1766 16.2453Z" fill="black"/>\n                </svg>\n            </a>\n            <a href="'+e.props.supportUrl+'" target="_blank" class="'+Er("unread")+'">\n                <div class="'+Er("unread-icon")+'">\n                    <svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 10.347c-.39 0-.623 0-1.12-.08-.623-.1-1.377.218-2.263.952.328-1.023.288-1.855-.12-2.497a3.855 3.855 0 0 1-.597-2.1c0-2.077 1.775-3.725 4.1-3.725 2.325 0 4.1 1.648 4.1 3.725 0 2.078-1.775 3.725-4.1 3.725zM.79 12.635c1.274.013 2.286-.24 3.036-.758.674.24 1.407.37 2.174.37 3.314 0 6-2.437 6-5.625C12 3.435 9.314.997 6 .997S0 3.435 0 6.622c0 1.46.564 2.763 1.493 3.746-.05.628-.336 1.276-.86 1.944a.2.2 0 0 0 .156.323zm14.452 1.72c-1.152.007-2.069-.225-2.75-.695-.617.22-1.29.34-1.992.34-.874 0-1.7-.185-2.434-.518 1.027-.075 1.739-.426 2.347-.725.517-.254.958-.471 1.454-.45a2.77 2.77 0 0 1 1.408.423c-.233-1.15.019-1.65.326-2.259.096-.191.198-.393.292-.63.932-2.344.082-4.855-.76-5.54C14.84 5.157 16 6.838 16 8.843a4.955 4.955 0 0 1-1.368 3.433c.045.567.3 1.153.767 1.756a.2.2 0 0 1-.157.323z" fill="currentColor"/></svg>\n                    <div\n                        '+a.id+'\n                        class="'+a.useClassName((function(e,t){return Er("unread-badge",{visible:Boolean(t.count)})}),[],r)+'"\n                    >\n                        '+a.useText((function(e,t){return Bn(t.count,wr)}),[],r)+"\n                    </div>\n                </div>\n                <div "+o.id+' class="'+Er("unread-text")+'">\n                    '+o.useText((function(e,t){return (function(e,t){return e?Sn("support-unread-text-count",t,e):Sn("support-unread-text",t)})(t.count,e.lang)}),["lang"],r)+"\n                </div>\n            </a>\n        </div>\n    "}function xr(e){return yr(e,Cr(e.pipe((function(e){return{lang:e.lang,passportUrl:e.passportUrl,supportUrl:e.supportUrl,unreadCounterPlugin:e.unreadCounterPlugin}}))))}var Tr=(function(e){function t(t){return e.call(this,xr,(function(e){return m(m({},br(t)(e)),{passportUrl:j(o,e.options.tld),supportUrl:j(a,e.options.tld)})}),t)||this}return h(t,e),t.prototype.mount=function(e){void 0===e&&(e=document.body),this.render(e)},t})(ir);function Pr(e){return new Tr(e)}function kr(e){return lr(e,Cr(e.pipe((function(e){return{lang:e.lang,passportUrl:e.passportUrl,supportUrl:e.supportUrl,unreadCounterPlugin:e.unreadCounterPlugin}}))))}function jr(e){var t=br(e);return new or(kr,function(n){return m(m({},t(n)),{passportUrl:j(o,n.options.tld),supportUrl:j(a,n.options.tld),unreadCounterPlugin:e.unreadCounterPlugin})},e)}var Rr=10,Ir=300,Ar=1e3*Rr,Dr=1e3*Ir,Mr=19,Nr=5;var Lr=(function(){function e(e){this.isStarted=!1,this.needFetch=!1,this.reqNum=0,this.rn=Math.floor(1e6*Math.random()),this.timeout=Ar,this.timeoutId=-1,this.params=e,this.fetch=this.fetch.bind(this),this.handleOnline=this.handleOnline.bind(this),this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}return Object.defineProperty(e.prototype,"shouldUseSavedData",{get:function(){return(!this.params.ns||0===this.params.ns.length)&&void 0===this.params.workspaceId},enumerable:!1,configurable:!0}),e.prototype.start=function(){!this.isStarted&&this.params.url&&window.navigator.cookieEnabled&&(this.isStarted=!0,this.bindEvents(),this.fetch())},e.prototype.stop=function(){this.isStarted=!1,this.clearTimeout(),this.unbindEvents()},e.prototype.removeData=function(){!(function(e){try{window.localStorage&&window.localStorage.removeItem(e)}catch(e){}})("yachat-unread")},e.prototype.fetch=function(){if(this.clearTimeout(),document.hidden||!window.navigator.onLine)return this.needFetch=!0,void this.retryFetch();if(this.needFetch=!1,this.shouldUseSavedData){var e=(function(e){try{var t=window.localStorage&&window.localStorage.getItem(e);if("string"==typeof t){var n=JSON.parse(t);if(n&&"object"==typeof n)return n}}catch(e){}return null})("yachat-unread");if(function(e){var t=Date.now();return Boolean(e&&e.currentTimestamp<t&&t<e.expiredTimestamp&&e.expiredTimestamp-t<=Dr&&e.hasAuth===E())}(e))return this.runCallback(e.response),void(this.timeoutId=window.setTimeout(this.fetch,(function(e){return e.expiredTimestamp-Date.now()})(e)))}this.makeRequest()},e.prototype.retryFetch=function(){this.clearTimeout(),this.timeoutId=window.setTimeout(this.fetch,this.timeout)},e.prototype.bindEvents=function(){document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),window.addEventListener("online",this.handleOnline,!1)},e.prototype.unbindEvents=function(){document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),window.removeEventListener("online",this.handleOnline,!1)},e.prototype.handleVisibilityChange=function(){this.needFetch&&!document.hidden&&this.fetch()},e.prototype.handleOnline=function(){this.needFetch&&this.fetch()},e.prototype.makeRequest=function(){var e=this,t=new XMLHttpRequest;t.open("GET",this.getUrl(),!0),t.withCredentials=!0,this.params.authToken&&(t.withCredentials=!1,t.setRequestHeader("Authorization",this.params.authToken),this.params.authPartition&&t.setRequestHeader("X-Passp-Partition",this.params.authPartition)),t.onload=function(){if(e.isStarted)if(200===t.status){var n;try{n=JSON.parse(t.responseText)}catch(e){n=null}if(n&&"object"==typeof n){if("Status"in n)return void e.handleError(n);if("Ttl"in n)return void e.handleResponse(n)}e.stop()}else e.handleError({Status:t.status})},t.onerror=t.onabort=t.ontimeout=function(){return e.handleError({Status:t.status})},t.send(null)},e.prototype.runCallback=function(e){"Ttl"in e&&!("Status"in e)&&this.params.callback({lastTimestamp:e.LastUnreadTsMcs,value:e.UnreadCount||0,valueForChat:e.ChatUnreadCount||0,chatCount:e.ChatCount||0})},e.prototype.getUrl=function(){this.reqNum++;var e=this.params,t=e.serviceId,n=e.workspaceId,r=e.url,i=e.chatId,o=e.guid,a=e.ns,s=e.withCountChats,u=e.orgId;return I(r,{all_ns:(function(e){return e===Mr?Nr:void 0})(t),parentOrigin:A(),rn:this.rn,reqNum:this.reqNum,chat_id:i,other_guid:o,serviceId:t,client:n,ns:a,count_chats:s?"1":void 0,organization_id:u})},e.prototype.clearTimeout=function(){window.clearTimeout(this.timeoutId)},e.prototype.handleResponse=function(e){this.runCallback(e),this.timeout=1e3*(function(e){return e<Rr?Rr:e>Ir?Ir:e})(e.Ttl),this.saveData(e,this.timeout),this.retryFetch()},e.prototype.handleError=function(e){this.timeout=(function(e,t){var n=Math.max(Ar,t);return 401===e||403===e?Dr:Math.min(2*n,Dr)})(e.Status,this.timeout),this.saveData(e,this.timeout),this.retryFetch()},e.prototype.saveData=function(e,t){if(this.shouldUseSavedData){var n=Date.now();!(function(e,t){try{window.localStorage&&window.localStorage.setItem(e,JSON.stringify(t))}catch(e){}})("yachat-unread",{currentTimestamp:n,expiredTimestamp:n+t,hasAuth:E(),response:e})}},e})(),Fr=(function(){function e(e,t){this.unreadUrl=e,this.unreadCounterFactory=t,this.onChanged=new U}return e.prototype.init=function(e,t){var n,r=e.serviceId,i=e.workspaceId,o=e.unreadCounterChatId,a=e.unreadCounterOtherGuid,s=e.unreadCounterNsFilter,u=e.unreadWithCountChats,c=e.orgId,l=e.authToken,d=e.authPartition;this.widgetProxy=t,this.widgetProxy.events.counter.addListener(this.handleUnreadCounter),this.unreadCounterClient=null===this||void 0===this?void 0:this.unreadCounterFactory({callback:this.update,url:j(this.unreadUrl),serviceId:r,workspaceId:i,chatId:o,guid:a,ns:s,withCountChats:u,orgId:c,authPartition:d,authToken:l}),null===(n=this.unreadCounterClient)||void 0===n||n.start()},e.prototype.handleUnreadCounter=function(e){var t=e.data;this.update(t)},e.prototype.update=function(e){var t=this.lastValue,n=e.valueForChat,r=void 0===n?0:n,i=e.value,o=void 0===i?0:i,a=e.lastTimestamp,s=void 0===a?0:a,u=e.seqnoForChat,c=void 0===u?0:u,l=e.chatCount,d=void 0===l?0:l;t&&o===t.value&&r===t.valueForChat&&s===t.lastTimestamp&&c===t.seqnoForChat&&d===t.chatCount||(this.lastValue={value:o,lastTimestamp:s,valueForChat:r,seqnoForChat:c,chatCount:d},this.onChanged.dispatch(this.lastValue))},Object.defineProperty(e.prototype,"shouldUseValueForChat",{get:function(){var e;return Boolean(null===(e=this.widgetProxy)||void 0===e?void 0:e.options.unreadCounterChatId)},enumerable:!1,configurable:!0}),e.prototype.LCClose=function(){var e;this.widgetProxy.events.counter.removeListener(this.handleUnreadCounter),null===(e=this.unreadCounterClient)||void 0===e||e.stop(),this.onChanged.removeAllListener()},e.prototype.LCReady=function(){var e;null===(e=this.unreadCounterClient)||void 0===e||e.stop()},v([Y.bind],e.prototype,"handleUnreadCounter",null),v([Y.bind],e.prototype,"update",null),e})(),Br="https://yandex.{tld}/messenger/api/unread_count",Ur="https://backend.messenger.yandex-team.ru/unread_count";function zr(){return new Fr(Br,function(e){return new Lr(e)})}function Vr(){return new Fr(Ur,function(e){return new Lr(e)})}var Hr=function(e,t){var n=e.guid,r=e.chatId,i=e.inviteHash,o=e.context,a=(function(){var e=zn();return e.params?e.params["available-paths"]:[]})();return i&&-1!==a.indexOf("messenger://chat/invite_byhash")?I("messenger://chat/invite_byhash",m({invite_hash:i,context:o},t)):r&&-1!==a.indexOf("messenger://chat/open")?I("messenger://chat/open",m({chat_id:r,context:o},t)):n&&-1!==a.indexOf("messenger://user/")?I("messenger://user/",m({user_id:n,context:o},t)):I("messenger://chat/list",m({context:o},t))},Wr=function(e){var t=e.serviceId,n=e.clickId,r=e.params,i=(function(e,t){if(Vn())return Hr(e,t)})(void 0===r?{}:r,{serviceId:t,clickId:n});return!!i&&(window.location.replace(i),ln("widget-opened-native",{clickId:n}),!0)},$r=(function(){function e(){}return e.prototype.init=function(e){this.serviceId=e.serviceId},e.prototype.LCBeforeRequest=function(e){Vn()&&e.preventDefault(Promise.reject(new Error("Native messenger does not support api")))},e.prototype.LCBeforeShow=function(e){Vn()&&(Wr({params:e.data,serviceId:this.serviceId}),e.preventDefault())},e})(),Gr=/^https?:\/\/yandex\.[^/]+\/chat/,qr=function(e){return"A"===e.tagName},Yr=(function(){function e(){}return e.prototype.init=function(e,t){Vn()||(this.widgetProxy=t,window.addEventListener("click",this.handleClick,!0))},e.prototype.LCClose=function(){Vn()||window.removeEventListener("click",this.handleClick,!0),this.widgetProxy=void 0},e.prototype.handleClick=function(e){for(var t,n=e.target;n;){if(qr(n)&&Gr.test(n.href))return null===(t=this.widgetProxy)||void 0===t||t.show({deeplink:n.href}),void e.preventDefault();n=n.parentElement}},v([Y.bind],e.prototype,"handleClick",null),e})()}.call(this,n(110))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(337);n(1923),t.withWide=r.withBemMod(i.cnMenu(),{wide:!0})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(0)),a=n(3),s=n(31),u=n(337);n(1925);const c=u.cnMenu("Icon"),l=e=>{const t=e,{needIconGlyph:n,children:i,innerRef:a,value:l,url:d,icon:f,iconLeft:p,iconRight:h}=t,m=r(t,["needIconGlyph","children","innerRef","value","url","icon","iconLeft","iconRight"]),{Text:v}=s.useComponentRegistry(u.cnMenu()),g=u.useMenuItem(Object.assign(Object.assign({},m),{type:"link"})),y=p||f;return o.createElement("a",Object.assign({ref:a},g,{href:d,role:"link"}),y&&y(c),o.createElement(v,null,i),h&&h(c))};t.withTypeNavigation=a.withBemMod(u.cnMenu(),{type:"navigation"},e=>{return t=>{const{type:n}=t,i=r(t,["type"]);return o.createElement(e,Object.assign({},i,{renderItem:l}))}})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(337);n(1927),t.withPaddingless=r.withBemMod(i.cnMenu(),{paddingless:!0})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(337);n(1929),t.withRightGlyph=r.withBemMod(i.cnMenu(),{rightGlyph:!0})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!(function(i,o,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),d="function",f=Math.round,p=Math.abs,h=Date.now;function m(e,t,n){return setTimeout(E(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function y(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var b=y((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),_=y((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function O(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function E(e,t){return function(){return e.apply(t,arguments)}}function w(e,t){return typeof e==d?e.apply(t&&t[0]||s,t):e}function S(e,t){return e===s?t:e}function C(e,t,n){g(k(t),(function(t){e.addEventListener(t,n,!1)}))}function x(e,t,n){g(k(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function P(e,t){return e.indexOf(t)>-1}function k(e){return e.trim().split(/\s+/g)}function j(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function R(e){return Array.prototype.slice.call(e,0)}function I(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];j(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function A(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:t)in e)return r;o++}return s}var D=1;function M(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var N="ontouchstart"in i,L=A(i,"PointerEvent")!==s,F=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=25,U=1,z=2,V=4,H=8,W=1,$=2,G=4,q=8,Y=16,K=$|G,J=q|Y,Z=K|J,X=["x","y"],Q=["clientX","clientY"];function ee(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){w(e.options.enable,[e])&&n.handler(t)},this.init()}function te(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&U&&r-i==0,a=t&(V|H)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,(function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=ne(t));i>1&&!n.firstMultiple?n.firstMultiple=ne(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,c=t.center=re(r);t.timeStamp=h(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=se(u,c),t.distance=ae(u,c),(function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==U&&o.eventType!==V||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)})(n,t),t.offsetDirection=oe(t.deltaX,t.deltaY);var l=ie(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=p(l.x)>p(l.y)?l.x:l.y,t.scale=a?(function(e,t){return ae(t[0],t[1],Q)/ae(e[0],e[1],Q)})(a.pointers,r):1,t.rotation=a?(function(e,t){return se(t[1],t[0],Q)+se(e[1],e[0],Q)})(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,(function(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=H&&(u>B||a.velocity===s)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,d=ie(u,c,l);r=d.x,i=d.y,n=p(d.x)>p(d.y)?d.x:d.y,o=oe(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o})(n,t);var d=e.element;T(t.srcEvent.target,d)&&(d=t.srcEvent.target);t.target=d})(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ne(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:f(n/t),y:f(r/t)}}function ie(e,t,n){return{x:t/e||0,y:n/e||0}}function oe(e,t){return e===t?W:p(e)>=p(t)?e<0?$:G:t<0?q:Y}function ae(e,t,n){n||(n=X);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function se(e,t,n){n||(n=X);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}ee.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(M(this.element),this.evWin,this.domHandler)}};var ue={mousedown:U,mousemove:z,mouseup:V},ce="mousedown",le="mousemove mouseup";function de(){this.evEl=ce,this.evWin=le,this.pressed=!1,ee.apply(this,arguments)}O(de,ee,{handler:function(e){var t=ue[e.type];t&U&&0===e.button&&(this.pressed=!0),t&z&&1!==e.which&&(t=V),this.pressed&&(t&V&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var fe={pointerdown:U,pointermove:z,pointerup:V,pointercancel:H,pointerout:H},pe={2:"touch",3:"pen",4:"mouse",5:"kinect"},he="pointerdown",me="pointermove pointerup pointercancel";function ve(){this.evEl=he,this.evWin=me,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(he="MSPointerDown",me="MSPointerMove MSPointerUp MSPointerCancel"),O(ve,ee,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=fe[r],o=pe[e.pointerType]||e.pointerType,a="touch"==o,s=j(t,e.pointerId,"pointerId");i&U&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(V|H)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ge={touchstart:U,touchmove:z,touchend:V,touchcancel:H},ye="touchstart",be="touchstart touchmove touchend touchcancel";function _e(){this.evTarget=ye,this.evWin=be,this.started=!1,ee.apply(this,arguments)}O(_e,ee,{handler:function(e){var t=ge[e.type];if(t===U&&(this.started=!0),this.started){var n=function(e,t){var n=R(e.touches),r=R(e.changedTouches);t&(V|H)&&(n=I(n.concat(r),"identifier",!0));return[n,r]}.call(this,e,t);t&(V|H)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var Oe={touchstart:U,touchmove:z,touchend:V,touchcancel:H},Ee="touchstart touchmove touchend touchcancel";function we(){this.evTarget=Ee,this.targetIds={},ee.apply(this,arguments)}O(we,ee,{handler:function(e){var t=Oe[e.type],n=function(e,t){var n=R(e.touches),r=this.targetIds;if(t&(U|z)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=R(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return T(e.target,u)})),t===U)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(V|H)&&delete r[a[i].identifier],i++;if(!s.length)return;return[I(o.concat(s),"identifier",!0),s]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var Se=2500,Ce=25;function xe(){ee.apply(this,arguments);var e=E(this.handler,this);this.touch=new we(this.manager,e),this.mouse=new de(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Te(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),Se)}}O(xe,ee,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&U?(this.primaryTouch=t.changedPointers[0].identifier,Te.call(this,t)):e&(V|H)&&Te.call(this,t)}).call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=Ce&&a<=Ce)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Pe=A(l.style,"touchAction"),ke=Pe!==s,je="auto",Re="manipulation",Ie="none",Ae="pan-x",De="pan-y",Me=(function(){if(!ke)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e})();function Ne(e,t){this.manager=e,this.set(t)}Ne.prototype={set:function(e){"compute"==e&&(e=this.compute()),ke&&this.manager.element.style&&Me[e]&&(this.manager.element.style[Pe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){w(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),(function(e){if(P(e,Ie))return Ie;var t=P(e,Ae),n=P(e,De);if(t&&n)return Ie;if(t||n)return t?Ae:De;if(P(e,Re))return Re;return je})(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=P(r,Ie)&&!Me[Ie],o=P(r,De)&&!Me[De],a=P(r,Ae)&&!Me[Ae];if(i){var s=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return i||o&&n&K||a&&n&J?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Le=1,Fe=2,Be=4,Ue=8,ze=Ue,Ve=16;function He(e){this.options=u({},this.defaults,e||{}),this.id=D++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=Le,this.simultaneous={},this.requireFail=[]}function We(e){return e&Ve?"cancel":e&Ue?"end":e&Be?"move":e&Fe?"start":""}function $e(e){return e==Y?"down":e==q?"up":e==$?"left":e==G?"right":""}function Ge(e,t){var n=t.manager;return n?n.get(e):e}function qe(){He.apply(this,arguments)}function Ye(){qe.apply(this,arguments),this.pX=null,this.pY=null}function Ke(){qe.apply(this,arguments)}function Je(){He.apply(this,arguments),this._timer=null,this._input=null}function Ze(){qe.apply(this,arguments)}function Xe(){qe.apply(this,arguments)}function Qe(){He.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(e,t){return(t=t||{}).recognizers=S(t.recognizers,et.defaults.preset),new tt(e,t)}He.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ge(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)?this:(e=Ge(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===j(t,e=Ge(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=Ge(e,this);var t=j(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<Ue&&r(t.options.event+We(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Ue&&r(t.options.event+We(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Le)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!w(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(ze|Ve|32)&&(this.state=Le),this.state=this.process(t),this.state&(Fe|Be|Ue|Ve)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},O(qe,He,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Fe|Be),i=this.attrTest(e);return r&&(n&H||!i)?t|Ve:r||i?n&V?t|Ue:t&Fe?t|Be:Fe:32}}),O(Ye,qe,{defaults:{event:"pan",threshold:10,pointers:1,direction:Z},getTouchAction:function(){var e=this.options.direction,t=[];return e&K&&t.push(De),e&J&&t.push(Ae),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&K?(i=0===o?W:o<0?$:G,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?W:a<0?q:Y,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return qe.prototype.attrTest.call(this,e)&&(this.state&Fe||!(this.state&Fe)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=$e(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),O(Ke,qe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ie]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Fe)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),O(Je,He,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[je]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(V|H)&&!i)this.reset();else if(e.eventType&U)this.reset(),this._timer=m((function(){this.state=ze,this.tryEmit()}),t.time,this);else if(e.eventType&V)return ze;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ze&&(e&&e.eventType&V?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),O(Ze,qe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ie]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Fe)}}),O(Xe,qe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|J,pointers:1},getTouchAction:function(){return Ye.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(K|J)?t=e.overallVelocity:n&K?t=e.overallVelocityX:n&J&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&e.eventType&V},emit:function(e){var t=$e(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),O(Qe,He,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Re]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&U&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=V)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=ze,this.tryEmit()}),t.interval,this),Fe):ze}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ze&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.7",et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ze,{enable:!1}],[Ke,{enable:!1},["rotate"]],[Xe,{direction:K}],[Ye,{direction:K},["swipe"]],[Qe],[Qe,{event:"doubletap",taps:2},["tap"]],[Je]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function tt(e,t){this.options=u({},et.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=(function(e){var t=e.options.inputClass;return new(t||(L?ve:F?we:N?xe:de))(e,te)})(this),this.touchAction=new Ne(this,this.options.touchAction),nt(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function nt(e,t){var n,r=e.element;r.style&&(g(e.options.cssProps,(function(i,o){n=A(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}tt.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&ze)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(Fe|Be|Ue)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof He)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=j(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return g(k(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return g(k(e),(function(e){t?n[e]&&n[e].splice(j(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&(function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)})(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(et,{INPUT_START:U,INPUT_MOVE:z,INPUT_END:V,INPUT_CANCEL:H,STATE_POSSIBLE:Le,STATE_BEGAN:Fe,STATE_CHANGED:Be,STATE_ENDED:Ue,STATE_RECOGNIZED:ze,STATE_CANCELLED:Ve,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:$,DIRECTION_RIGHT:G,DIRECTION_UP:q,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:J,DIRECTION_ALL:Z,Manager:tt,Input:ee,TouchAction:Ne,TouchInput:we,MouseInput:de,PointerEventInput:ve,TouchMouseInput:xe,SingleTouchInput:_e,Recognizer:He,AttrRecognizer:qe,Tap:Qe,Pan:Ye,Swipe:Xe,Pinch:Ke,Rotate:Ze,Press:Je,on:C,off:x,each:g,merge:_,extend:b,assign:u,inherit:O,bindFn:E,prefixed:A}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=et,(r=function(){return et}.call(t,n,t,e))===s||(e.exports=r)})(window,document)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(234),s=n(1076),u=n(274),c=n(558),l=i(n(123)),d=i(n(344)),f=n(335),p=n(392),h=n(16),m=n(830),v=n(245),g=n(548),y=n(28);n(1977);const b=y.cn("InviteForm");t.ShareDialogInviteForm=(({currentScreen:e,onChangeScreen:t,onExternalContactsConfirmation:n,onAddAlreadyAddedUser:r})=>{const{linkUrl:i,resourcePath:y,resourceId:_,resourceType:O,isB2bUser:E,pddOrgId:w,isTouch:S,lang:C}=o.useContext(u.ShareDialogContext),x="album"===O?_:y,{publicSettings:T,isUpdatingSettings:P,externalEmails:k,isEditAllowed:j}=p.useSelectors(x),R=h.useDispatch(),I=h.useSelector(m.getSuggestions),A=Boolean(i),[D,M]=o.useState([]),[N,L]=o.useState(c.AccessTypeValue.Read),[F,B]=o.useState(!1),U=o.useRef(null),z=o.useRef(null),V=o.useCallback(e=>{R(v.fetchSuggestions({query:e,exclude:D.map(({email:e})=>e),limit:E?30:10}))},[R,E,D]),H=o.useCallback(()=>{R(v.setSuggestions([]))},[R]),W=o.useCallback((e=!1)=>{B(e),n(e)},[n]);o.useEffect(()=>{k&&W(!0)},[k,W]);const $=o.useCallback(()=>{M([]),R(v.clearExternalEmails(y))},[R,y]);o.useEffect(()=>{e===a.Screen.Main&&($(),H())},[e,$,H]);const G=o.useRef();o.useEffect(()=>{!0!==G.current||!1!==P||k||t(a.Screen.Main),G.current=P},[P,t,k]);const q=o.useMemo(()=>[a.Screen.Picker,a.Screen.Suggest].includes(e),[e]),Y=o.useCallback(e=>{var n;if(1===e.length){const t=e[0],n=((null===T||void 0===T?void 0:T.accesses)||[]).filter(e=>!e.macros).findIndex(e=>e.type===t.entryType&&(g.getAccessEntryId(e)===t.entryId&&t.entryId||e.email===t.email&&t.email));if(-1!==n)return void r(n)}M(e);const i=e.length>0?a.Screen.Picker:a.Screen.Main;i===a.Screen.Picker&&S&&(null===(n=z.current)||void 0===n||n.blur()),t(i)},[t,r,null===T||void 0===T?void 0:T.accesses,S]),K=o.useCallback(()=>{S&&t(a.Screen.Suggest)},[S,t]),J=o.useCallback(()=>{$(),t(a.Screen.Main)},[t,$]),Z=o.useCallback((e=!1)=>{const n=D.map(({email:e,entryId:t,orgId:n,entryType:r})=>{const i={rights:[c.mapAccessTypeValueToPermission(N)]};switch(n&&r!==s.ContactType.User&&(i.org_id=n),r){case s.ContactType.User:return Object.assign(Object.assign({},i),t?{user_ids:[t]}:{emails:[e]});case s.ContactType.Department:return Object.assign(Object.assign({},i),t?{department_ids:[t]}:{});case s.ContactType.Group:return Object.assign(Object.assign({},i),t?{group_ids:[t]}:{})}return i}).filter(t=>{var n,r;return!(e&&(null===k||void 0===k?void 0:k.length)&&(null===(n=t.emails)||void 0===n?void 0:n[0])&&k.includes(null===(r=t.emails)||void 0===r?void 0:r[0]))});if(e&&(null===k||void 0===k?void 0:k.length)&&(M(D.filter(({email:e})=>!k.includes(e))),R(v.clearExternalEmails(y))),n.length){const e={id:y,type:O,pddOrgId:w,settings:{accesses:n}};R(A?v.updatePublicSettings(e):v.setPublic(e))}else t(a.Screen.Main)},[D,N,A,y,O,w,k,t,R]),X=o.useCallback(e=>{e.preventDefault(),Z()},[Z]),Q=o.useCallback(()=>{W(!1)},[W]),ee=o.useCallback(()=>{W(!1),Z(!0)},[Z,W]),te=o.useMemo(()=>D.map(e=>Object.assign(Object.assign({},e),{isError:null===k||void 0===k?void 0:k.includes(e.email)})),[D,k]);return o.default.createElement(o.default.Fragment,null,o.default.createElement("form",{className:b({expanded:q})},o.default.createElement(s.ContactPicker,{controlRef:z,suggestions:I,onSuggestionsUpdateRequested:V,onSuggestionsClearRequested:H,value:te,onChange:Y,onFocus:K,lang:C,placeholder:E?f.i18n(C,"suggest-placeholder"):f.i18n(C,"suggest-placeholder-b2c"),addonAfter:q&&!S?o.default.createElement(c.AccessTypeSelect,{className:b("AccessType"),value:N,onChange:L,disabled:!j}):null,autoFocus:!1,stretchInput:!0,scope:S?U:void 0,popupBottomOffset:50,maxHeight:200,isTouch:S,ariaLabels:{deleteButton:f.i18n(C,"delete-button"),popup:f.i18n(C,"suggest-popup-label"),isOuterBadgeLabel:f.i18n(C,"is-outer-badge"),avatarAlt:f.i18n(C,"user-avatar-alt")}}),e===a.Screen.Picker?o.default.createElement("div",{className:b("Footer",{touch:S})},S?o.default.createElement(o.default.Fragment,null,o.default.createElement(c.AccessTypeSelect,{className:b("FooterButton",{accessType:!0}),size:"l",view:"default",value:N,onChange:L,disabled:!j}),o.default.createElement(l.default,{className:b("FooterButton"),view:"action",size:"l",onClick:X,type:"submit",progress:P},f.i18n(C,"add-button"))):o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,{className:b("FooterButton"),view:"default",size:"m",onClick:J},f.i18n(C,"cancel-button")),o.default.createElement(l.default,{className:b("FooterButton"),view:"action",size:"m",onClick:X,type:"submit",progress:P},f.i18n(C,"add-button")))):null),S?o.default.createElement("div",{ref:U,className:b("TouchSuggestContainer",{expanded:e===a.Screen.Suggest})}):null,o.default.createElement(d.default,{visible:F,onClose:Q,title:f.i18n(C,"external-contacts-dialog-title"),submitButtonText:f.i18n(C,"continue-button"),cancelButtonText:f.i18n(C,"cancel-button"),cancelButtonProps:{view:"default"},submitButtonProps:{progress:P},onSubmit:ee,closeI18n:f.i18n(C,"close-label"),align:"top",compact:!0},f.i18n(C,"external-contacts-dialog-description")))})}),(function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DebounceInput=void 0;var i=s(n(0)),o=s(n(1948)),a=["element","onChange","value","minLength","debounceTimeout","forceNotifyByEnter","forceNotifyOnBlur","onKeyDown","onBlur","inputRef"];function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(null==e)return{};var n,r,i=(function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i})(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,i=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return (function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)})(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(function(e){!(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)})(n,i["default"].PureComponent);var t=p(n);function n(e){var r;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),v(h(r=t.call(this,e)),"onChange",(function(e){e.persist();var t=r.state.value,n=r.props.minLength;r.setState({value:e.target.value},(function(){var i=r.state.value;i.length>=n?r.notify(e):t.length>i.length&&r.notify(l(l({},e),{},{target:l(l({},e.target),{},{value:""})}))}))})),v(h(r),"onKeyDown",(function(e){"Enter"===e.key&&r.forceNotify(e);var t=r.props.onKeyDown;t&&(e.persist(),t(e))})),v(h(r),"onBlur",(function(e){r.forceNotify(e);var t=r.props.onBlur;t&&(e.persist(),t(e))})),v(h(r),"createNotifier",(function(e){if(e<0)r.notify=function(){return null};else if(0===e)r.notify=r.doNotify;else{var t=(0,o.default)((function(e){r.isDebouncing=!1,r.doNotify(e)}),e);r.notify=function(e){r.isDebouncing=!0,t(e)},r.flush=function(){return t.flush()},r.cancel=function(){r.isDebouncing=!1,t.cancel()}}})),v(h(r),"doNotify",(function(){r.props.onChange.apply(void 0,arguments)})),v(h(r),"forceNotify",(function(e){var t=r.props.debounceTimeout;if(r.isDebouncing||!(t>0)){r.cancel&&r.cancel();var n=r.state.value,i=r.props.minLength;n.length>=i?r.doNotify(e):r.doNotify(l(l({},e),{},{target:l(l({},e.target),{},{value:n})}))}})),r.isDebouncing=!1,r.state={value:void 0===e.value||null===e.value?"":e.value};var i=r.props.debounceTimeout;return r.createNotifier(i),r}return (function(e,t,n){t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1})})(n,[{key:"componentDidUpdate",value:function(e){if(!this.isDebouncing){var t=this.props,n=t.value,r=t.debounceTimeout,i=e.debounceTimeout,o=e.value,a=this.state.value;void 0!==n&&o!==n&&a!==n&&this.setState({value:n}),r!==i&&this.createNotifier(r)}}},{key:"componentWillUnmount",value:function(){this.flush&&this.flush()}},{key:"render",value:function(){var e,t,n=this.props,r=n.element,o=(n.onChange,n.value,n.minLength,n.debounceTimeout,n.forceNotifyByEnter),s=n.forceNotifyOnBlur,c=n.onKeyDown,d=n.onBlur,f=n.inputRef,p=u(n,a),h=this.state.value;e=o?{onKeyDown:this.onKeyDown}:c?{onKeyDown:c}:{},t=s?{onBlur:this.onBlur}:d?{onBlur:d}:{};var m=f?{ref:f}:{};return i.default.createElement(r,l(l(l(l({},p),{},{onChange:this.onChange,value:h},e),t),m))}}]),n})();t.DebounceInput=g,v(g,"defaultProps",{element:"input",type:"text",onKeyDown:void 0,onBlur:void 0,value:void 0,minLength:0,debounceTimeout:100,forceNotifyByEnter:!0,forceNotifyOnBlur:!0,inputRef:void 0})}),(function(e,t,n){(function(t){var n="Expected a function",r=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),p=Object.prototype.toString,h=Math.max,m=Math.min,v=function(){return f.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||(function(e){return!!e&&"object"==typeof e})(e)&&p.call(e)==i}(e))return r;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=function(e,t,r){var i,o,a,s,u,c,l=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var n=i,r=o;return i=o=void 0,l=t,s=e.apply(r,n)}function _(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-l>=a}function O(){var e=v();if(_(e))return E(e);u=setTimeout(O,(function(e){var n=t-(e-c);return f?m(n,a-(e-l)):n})(e))}function E(e){return u=void 0,p&&i?b(e):(i=o=void 0,s)}function w(){var e=v(),n=_(e);if(i=arguments,o=this,c=e,n){if(void 0===u)return (function(e){return l=e,u=setTimeout(O,t),d?b(e):s})(c);if(f)return u=setTimeout(O,t),b(c)}return void 0===u&&(u=setTimeout(O,t)),s}return t=y(t)||0,g(r)&&(d=!!r.leading,a=(f="maxWait"in r)?h(y(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),w.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=c=o=u=void 0},w.flush=function(){return void 0===u?s:E(v())},w}}).call(this,n(110))}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(391);var r=n(207);n.d(t,"useMultisuggestState",(function(){return r.a}));var i=n(208);n.d(t,"SuggestInput",(function(){return i.a}));var o=n(278);n.d(t,"Suggestion",(function(){return o.a}));var a=n(206);n.d(t,"SuggestionsList",(function(){return a.a}));var s=n(277);n.d(t,"SuggestPopup",(function(){return s.a}));var u=n(276);n.d(t,"PickedItem",(function(){return u.a})),n.d(t,"PickedList",(function(){return u.b}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmail=(e=>/.@[^@.]+\.[^@]*[^@.]$/.test(e))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Select=t.cnSelect=void 0;var i=n(1),o=i.__importStar(n(0)),a=n(28),s=n(31),u=n(998),c=n(219),l=n(68),d=n(271);n(1965),n(1966),n(1967),t.cnSelect=a.cn("Select2");t.Select=((r=(function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerRef=o.createRef(),t.triggerRef=o.createRef(),t}return i.__extends(n,e),n.prototype.componentDidMount=function(){this.forwardRefs()},n.prototype.componentDidUpdate=function(){this.forwardRefs()},n.prototype.render=function(){var e=this,n=this.props,r=n.addonAfter,a=n.addonBefore,u=n.className,f=n.disabled,p=n.onBlur,h=n.onClick,m=n.onKeyDown,v=n.opened,g=n.size,y=n.theme,b=n.value,_=n.view,O=n.style,E=n.checkable,w=void 0===E||E,S=n.iconProps,C=n.renderTrigger,x=n.renderTriggerIcon,T=n.activeDescendant,P=!(!w||!Array.isArray(b))&&b.length>0,k=_||S&&S.glyph?void 0:"arrow",j=!_||S&&S.type?void 0:"carets-v";return o.default.createElement(s.ComponentRegistryConsumer,{id:t.cnSelect()},(function(n){var s=n.Trigger,E=n.Icon;return o.default.createElement(d.MultiRenderOverrideProvider,{components:[[s,C],[E,x]]},(function(n,s){return o.default.createElement("span",{ref:c.mergeAllRefs(e.innerRef,e.props.innerRef),className:t.cnSelect({disabled:f},[u])},a,o.default.createElement(n,{width:"max",role:"listbox","aria-haspopup":"true",disabled:f,className:t.cnSelect("Button"),innerRef:e.triggerRef,style:O,size:g,theme:y,checked:P,view:_,onClick:h,onKeyDown:m,onBlur:p,pressKeys:[l.Keys.SPACE],iconRight:function(e){return o.default.createElement(s,i.__assign({size:g,className:e,direction:v?"top":"bottom",type:k,glyph:j},S))},"aria-activedescendant":T,"aria-expanded":v,"aria-multiselectable":Array.isArray(b)},e.getButtonText()),r)}))}))},n.prototype.forwardRefs=function(){c.mergeAllRefs(this.props.triggerRef)(this.triggerRef.current)},n.prototype.getButtonText=function(){var e=this.props,t=e.value,n=e.options,r=e.showAlwaysPlaceholder,i=e.placeholder,o=[].concat(t).filter((function(e){return void 0!==e}));if(!r&&o.length>0){var a=this.getOptionsText(n,o);if(a.length>0)return a}return i},n.prototype.getOptionsText=function(e,t){return u.flatMap((function(e){return e.items?e.items:e}),e).filter((function(e){return-1!==t.indexOf(e.value)})).map((function(e){return e.checkedText||e.content})).join(", ")},n})(o.PureComponent)).displayName=t.cnSelect(),r.defaultProps={placeholder:"—",value:""},r)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(0)),a=n(3),s=n(179),u=i(n(1969));t.withGlyphTypeCheck360=a.withBemMod(s.cnIcon(),{glyph:"type-check-360"},e=>t=>{var{className:n}=t,i=r(t,["className"]);return o.default.createElement(e,Object.assign({},i,{className:s.cnIcon({hasGlyph:!0},[n])}),o.default.createElement(u.default,null))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",d:"M5.942 11.937 2.243 7.828A1 1 0 0 0 .757 9.166l4.5 5a1 1 0 0 0 1.534-.057l8.5-11a1 1 0 1 0-1.582-1.223z"})));t.default=o}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",d:"m11.967 12.675.626 1.389a.5.5 0 0 1-.205.638l-.775.448a.5.5 0 0 1-.656-.141l-.895-1.244a1.433 1.433 0 0 0-2.565.345l-.538 1.425a.5.5 0 0 1-.597.306l-.865-.231a.5.5 0 0 1-.364-.564l.248-1.512a1.433 1.433 0 0 0-2.058-1.57l-1.389.627a.5.5 0 0 1-.638-.205l-.448-.776a.5.5 0 0 1 .141-.656l1.244-.894a1.433 1.433 0 0 0-.345-2.565L.463 6.957a.5.5 0 0 1-.306-.597l.232-.865a.5.5 0 0 1 .563-.364l1.512.247a1.433 1.433 0 0 0 1.57-2.058l-.627-1.388a.5.5 0 0 1 .206-.639l.775-.447a.5.5 0 0 1 .656.141l.894 1.244a1.433 1.433 0 0 0 2.565-.345L9.04.46a.5.5 0 0 1 .597-.306l.865.231a.5.5 0 0 1 .364.564l-.247 1.512a1.433 1.433 0 0 0 2.058 1.57l1.388-.627a.5.5 0 0 1 .639.205l.447.775a.5.5 0 0 1-.141.656l-1.244.895a1.432 1.432 0 0 0 .345 2.565l1.425.538a.5.5 0 0 1 .306.597l-.231.865a.5.5 0 0 1-.564.364l-1.512-.248a1.433 1.433 0 0 0-1.57 2.058M7.172 11.09a3.2 3.2 0 1 0 1.656-6.182 3.2 3.2 0 0 0-1.656 6.182"})));t.default=o}),(function(e,t,n){"use strict";var r=n(1081),i=n(1974);e.exports={setTankerProjectId:r.setTankerProjectId,addTranslation:r.addTranslation,i18n:r.getKey,I18N:i}}),(function(e,t,n){"use strict";var r=n(0),i=n(1081);function o(e,t,n){var i="string"==typeof e?r.createElement:r.cloneElement;return n?i(e,t,n):i(e,t)}var a={"&nbsp;":String.fromCharCode(160),"&mdash;":String.fromCharCode(8212),"&#8209;":String.fromCharCode(8209)},s=Object.keys(a).join("|");function u(e){var t=new RegExp("(?:"+s+")","g");return e.replace(t,(function(e){return a[e]}))}e.exports=function(e){var t=i.getKey(e.lang,e.keyset,e.loc,e),n={};r.Children.forEach(e.children,(function(e){var t=e.props["data-ref"]||e.ref;"string"==typeof t&&(n[t]=e)}));var a=(function e(t,n,r){for(var i=/<(x-([\w-]+)|br)(?:(?:\/>)|>(.*?)<\/\1>)/g,a=[],s=void 0,c=0;s=i.exec(r);){s.index>c&&a.push(u(r.slice(c,s.index))),c=i.lastIndex;var l=s[1],d=s[2],f=s[3],p=d?n[d]:l;if(!p)throw console.error("LOC keyset `%s` key `%s` child `%s` not found",t.keyset,t.loc,d),"LOC child "+d+" not found";var h=f?e(t,n,f):null;a.push(o(p,{key:c},h))}return c<r.length&&a.push(u(r.slice(c))),a})(e,n,t);if(!e.tag&&1===a.length&&r.isValidElement(a[0]))return a[0];var s=e.tag||"span",c={ref:e.innerRef,className:e.className};return r.createElement(s,c,a)}}),(function(e,t,n){(function(e){!(function(){var t=t||{};t.yandex_disk_ps_components=t.yandex_disk_ps_components||{},t.yandex_disk_ps_components["share-dialog2"]={"access-type-close":function(e){return"Закрыть доступ"},"access-type-close-label":function(e){return"Закрыт"},"access-type-read":function(e){return"Просмотр"},"access-type-settings":function(e){return"Настроить доступ"},"access-type-write":function(e){return"Редактирование"},"add-button":function(e){return"Добавить"},"album-link-title":function(e){return"Поделиться альбомом «<x-resource-name/>»"},"available-to-organization-only":function(e){return"Ссылка будет доступна только вашим коллегам"},"cancel-button":function(e){return"Отмена"},"choose-tariff":function(e){return"Выбрать тариф"},"close-access":function(e){return"Закрыть все доступы"},"close-label":function(e){return"Закрыть"},"continue-button":function(e){return"Продолжить"},"copy-link":function(e){return"Скопировать ссылку"},"delete-button":function(e){return"Удалить"},"delete-link-confirm-text-album":function(e){return"Ссылка удалится и доступ к альбому будет закрыт для всех, с кем вы поделились"},"delete-link-confirm-text-file":function(e){return"Ссылка удалится и доступ к файлу будет закрыт для всех, с кем вы поделились"},"delete-link-confirm-text-folder":function(e){return"Ссылка удалится и доступ к папке будет закрыт для всех, с кем вы поделились"},"delete-link-confirm-title":function(e){return"Закрыть все доступы?"},"disabled-copy-tooltip":function(e){return"Сначала откройте доступ к файлу"},"external-contacts-dialog-description":function(e){return"Оставьте в списке только пользователей с аккаунтами на Яндексе."},"external-contacts-dialog-title":function(e){return"Нельзя добавить внешние аккаунты"},"file-link-title":function(e){return"Поделиться файлом «<x-resource-name/>»"},"folder-link-title":function(e){return"Поделиться папкой «<x-resource-name/>»"},"forbid-download-audio-disabled-tooltip":function(e){return"Нельзя включить запрет скачивания для аудиофайла"},"forbid-download-disabled-tooltip":function(e){return"Нельзя включить запрет скачивания, когда выбран доступ на редактирование"},"forbid-download-tooltip":function(e){return"Кнопки «Скачать» и «Сохранить на Яндекс Диск» будут недоступны"},"invalid-password-message":function(e){return"Только латинские буквы и цифры"},"is-outer-badge":function(e){return"Внешний"},"link-expire-tooltip":function(e){return"Когда срок действия закончится, общий доступ будет закрыт"},more:function(e){return"Ещё"},"password-dialog-title":function(e){return"Введите пароль"},"password-disabled-tooltip":function(e){return"Нельзя установить пароль, когда выбран доступ на редактирование"},"password-input-placeholder":function(e){return"От 4 символов"},"password-tooltip":function(e){return"Чтобы увидеть ваш файл по ссылке, пользователь должен будет ввести пароль"},"password-tooltip-folder":function(e){return"Чтобы увидеть вашу папку по ссылке, пользователь должен будет ввести пароль"},"public-access-all":function(e){return"Всем, у кого есть ссылка"},"public-access-employees":function(e){return"Внутри организации"},"public-access-title":function(e){return"Общий доступ"},"public-info-date":function(e){return"До "+e.datetime},"public-info-no-download":function(e){return"Без скачивания"},"public-info-password":function(e){return"С паролем"},"qr-code-title":function(e){return"Скачать QR-код"},"readonly-info-message":function(e){return"Настраивать доступ могут только пользователи с правом на редактирование"},"ready-button":function(e){return"Готово"},"save-button":function(e){return"Сохранить"},"security-b2b-tooltip":function(e){return"Доступно только в тарифах «Оптимальный» \nили «Расширенный»"},"security-b2c-tooltip":function(e){return"Доступно только пользователям Яндекс 360 Премиум"},"set-private":function(e){return"Закрыть все доступы"},"settings-access":function(e){return"Уровень доступа"},"settings-date":function(e){return"Срок действия"},"settings-download":function(e){return"Запрет на скачивание"},"settings-organization":function(e){return"Только внутри организации"},"settings-password":function(e){return"Защита паролем"},"settings-password-set":function(e){return"Пароль установлен"},"settings-title":function(e){return"Настройки общего доступа"},"share-album-link-subject":function(e){return"Ссылка на альбом «"+e.title+"» на Яндекс.Диске"},"share-file-link-subject":function(e){return"Ссылка на файл «"+e.title+"» на Яндекс.Диске"},"share-folder-link-subject":function(e){return"Ссылка на папку «"+e.title+"» на Яндекс.Диске"},"show-qr":function(e){return"Показать QR-код"},"suggest-placeholder":function(e){return"Добавьте пользователей, подразделения или группы"},"suggest-placeholder-b2c":function(e){return"Добавьте пользователей"},"suggest-popup-label":function(e){return"Контакты"},"user-avatar-alt":function(e){return"Фото профиля"},"users-access-title":function(e){return"Пользователи с доступом"}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(137)(e))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(138)),s=n(274),u=n(893),c=n(558),l=n(234),d=i(n(559)),f=i(n(1979)),p=n(335),h=n(1082),m=n(392),v=n(16),g=n(245),y=n(548),b=n(28);n(1980);const _=b.cn("Accesses");t.ShareDialogAccesses=(({onOpenSettings:e,highlightedAccessIndex:t,onChangeHighlightedAccessIndex:n})=>{var r;const{lang:i,resourcePath:b,resourceType:O,resourceId:E,isTouch:w,isUserHasRightsToModifyAccess:S}=o.useContext(s.ShareDialogContext),C="album"===O?E:b,{publicSettings:x,availablePublicSettings:T,isUpdatingSettings:P}=m.useSelectors(C),k=v.useDispatch(),j=o.useMemo(()=>x&&"file"===O?x.accesses.filter(e=>{var t;return!(null===(t=e.macros)||void 0===t?void 0:t[0])}):[],[x,O]),{commonSettings:R,onPublicAccessChange:I}=h.usePublicAccess(),A=o.useMemo(()=>j.map(()=>o.createRef()),[j]),D=o.useRef(null),[M,N]=o.useState(0);o.useEffect(()=>{const e=D.current;if(!e)return;const t=e.getBoundingClientRect().width-e.scrollWidth;N(t)},[j]),o.useEffect(()=>{var e;-1!==t&&(null===(e=A[t].current)||void 0===e||e.scrollIntoView({behavior:"smooth"})),setTimeout(()=>{n(-1)},2500)},[t,n,A]);const L=o.useCallback(t=>{t===c.AccessTypeValue.Settings?e():I(t)},[I,e]),F=((e,t,n)=>{var r,i,o,a;return((null===(r=null===n||void 0===n?void 0:n.macros)||void 0===r?void 0:r[0])||(null===(a=null===(o=null===(i=null===t||void 0===t?void 0:t.default)||void 0===i?void 0:i[0])||void 0===o?void 0:o.macros)||void 0===a?void 0:a[0]))===l.Macros.Employees?p.i18n(e,"public-access-employees"):p.i18n(e,"public-access-all")})(i,T,R),B=((e,t,n)=>{const r=[];(null===n||void 0===n?void 0:n.available_until)&&r.push(p.i18n(e,"public-info-date",{datetime:a.default(new Date(1e3*n.available_until),"DD.MM.YYYY")}));const i=(null===t||void 0===t?void 0:t.rights)||[];return i.includes(l.Permission.ReadWithoutDownload)&&r.push(p.i18n(e,"public-info-no-download")),i.includes(l.Permission.ReadWithPassword)&&r.push(p.i18n(e,"public-info-password")),i.includes(l.Permission.ReadWithPasswordWithoutDownload)&&r.push(p.i18n(e,"public-info-password"),p.i18n(e,"public-info-no-download")),r.join(" • ")})(i,R,x),U=o.default.createElement("div",{className:_("PublicAccessAccess",{touch:w})},o.default.createElement(c.AccessTypeSelect,{value:c.mapPermissionToAccessTypeValue(R),onChange:L,compact:w,disabled:!S||P,hasSettings:"album"!==O,hasRevoke:!0}));return o.default.createElement("div",{className:_()},j.length?o.default.createElement(o.default.Fragment,null,o.default.createElement("h3",{className:_("Title")},p.i18n(i,"users-access-title")),o.default.createElement("div",{className:_("Users"),ref:D,style:{"--scroll-width":M+"px"}},j.map((e,n)=>o.default.createElement(u.User,{key:e.email,innerRef:A[n],className:_("User",{touch:w,highlighted:t===n}),email:e.email,isOuter:e.isOuter,department:e.department,position:e.position,displayName:e.displayName,avatarUrl:e.avatarUrl,color:e.color,mono:e.mono,isOuterBadgeLabel:p.i18n(i,"is-outer-badge"),avatarAlt:p.i18n(i,"user-avatar-alt"),compact:w,isTouch:w,lang:i,addonAfter:o.default.createElement(c.AccessTypeSelect,{value:c.mapPermissionToAccessTypeValue(e),onChange:((e,t)=>{if(!x)return;const n=y.getAccessFromReach(j);if(!n[e])return;const r=Object.assign({},n[e]);switch(t){case c.AccessTypeValue.Read:r.rights=[l.Permission.Read];break;case c.AccessTypeValue.Write:r.rights=[l.Permission.Write];break;case c.AccessTypeValue.Revoke:r.rights=[]}k(g.updatePublicSettings({id:b,type:O,settings:{accesses:[r]}}))}).bind(null,n),compact:w,disabled:!S||P,hasRevoke:!0})})))):null,o.default.createElement("h3",{className:_("Title")},p.i18n(i,"public-access-title")),o.default.createElement("div",{className:_("PublicAccess",{touch:w})},o.default.createElement("span",{className:_("PublicAccessIcon")},(null===(r=null===R||void 0===R?void 0:R.macros)||void 0===r?void 0:r[0])?o.default.createElement(f.default,null):o.default.createElement(d.default,null)),o.default.createElement("div",{className:_("PublicAccessText")},o.default.createElement("div",{className:_("PublicAccessTitle")},F),B&&!w?o.default.createElement("div",{className:_("PublicAccessInfo")},B):null,w?U:null),w?null:U))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",d:"M7.075 8.45a1 1 0 0 1-1.63 1.157 4 4 0 0 1 .434-5.142L8.886 1.46a4 4 0 0 1 5.657 5.657l-.707.707A1 1 0 0 1 12.42 6.41l.707-.707A2 2 0 1 0 10.3 2.874L7.294 5.88a2 2 0 0 0-.22 2.57m1.848-.902a1 1 0 1 1 1.627-1.164 4 4 0 0 1-.428 5.152l-3.005 3.005A4 4 0 0 1 1.46 8.886l.707-.707a1 1 0 0 1 1.414 1.414l-.707.707a2 2 0 1 0 2.829 2.828l3.005-3.005a2 2 0 0 0 .215-2.574"})));t.default=o}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(572)),s=n(274),u=n(1080),c=r(n(123)),l=i(n(539)),d=i(n(750)),f=i(n(267)),p=n(335),h=i(n(1982)),m=i(n(1983)),v=i(n(1984)),g=i(n(1985)),y=i(n(1986)),b=i(n(559));n(1987);const _=n(28).cn("Footer"),O=c.buttonIconProvider(h.default),E=c.buttonIconProvider(m.default),w=c.buttonIconProvider(v.default),S=c.buttonIconProvider(g.default),C={file:{subject:"share-file-link-subject",body:"share-file-link-body"},folder:{subject:"share-folder-link-subject",body:"share-folder-link-body"},album:{subject:"share-album-link-subject",body:"share-album-link-body"}};t.ShareDialogFooter=(({onShowQR:e,onSetPrivate:t})=>{const{lang:n,linkUrl:r,resourceType:i,resourceTitle:h,onCopyLinkClick:m,onClose:v,noDeleteButton:g,isTouch:x,isAndroid:T,hasAddressAccess:P,isUserHasRightsToModifyAccess:k,deselectClass:j}=o.useContext(s.ShareDialogContext),R=Boolean(r),[I,A]=o.useState(!1),D=o.useRef(null),M=o.useCallback(()=>{if(!r)return;const e=a.default.copy(r);m&&m(e),v()},[m,r,v]),N=o.useCallback(()=>{A(!I)},[I]),L=o.useCallback(()=>{A(!1)},[]),F=o.useCallback(n=>{switch(n.target.value){case"set-private":t();break;case"qr":e()}A(!1)},[t,e]),B=o.useMemo(()=>{const e={value:"qr",content:o.default.createElement(u.ListTileIcon,{Icon:y.default},p.i18n(n,"show-qr"))};return!g&&k?[{items:[e]},{items:[{value:"set-private",content:o.default.createElement(u.ListTileIcon,{Icon:b.default},P?p.i18n(n,"set-private"):p.i18n(n,"access-type-close"))}]}]:[e]},[n,g,k,P]),U=o.useCallback(()=>{const e=C[i];navigator.share({url:r,title:p.i18n(n,e.subject,{title:h})})},[n,r,i,h]),z=x?"l":"m",V=x&&"undefined"!=typeof navigator&&"function"==typeof navigator.share,H=o.default.createElement(c.default,{className:_("Button",{copy:!0}),onClick:M,size:z,view:"action",iconLeft:O,disabled:!R},p.i18n(n,"copy-link"));return o.default.createElement("div",{className:_({touch:x})},x||R?H:o.default.createElement(f.default,{tooltipContent:p.i18n(n,"disabled-copy-tooltip"),messageBoxClassName:_("CopyTooltip"),size:"m",direction:"top",tailType:"rounded",hasTail:!0},H),R?o.default.createElement(o.default.Fragment,null,V?o.default.createElement(c.default,{className:_("Button"),size:z,view:"default",onClick:U,icon:T?S:w}):null,o.default.createElement(c.default,{innerRef:D,className:_("Button",{more:!0}),size:z,view:"default",onClick:N,icon:E}),o.default.createElement(l.default,{className:j,view:"default",target:"anchor",visible:I,onClose:L,anchor:D,direction:["top-start","bottom-start"]},o.default.createElement(d.default,{size:"m",view:"default",items:B,onChange:F}))):null)})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 2a1 1 0 0 0 1 1h7.5a.5.5 0 0 1 .5.5v7.497a1 1 0 0 0 2 0V3.5A2.5 2.5 0 0 0 12.5 1H5a1 1 0 0 0-1 1M2.5 4h8A1.5 1.5 0 0 1 12 5.5v8a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 1 13.5v-8A1.5 1.5 0 0 1 2.5 4M3 6v7h7V6z",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M1 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0m5.5 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0m7-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.798 3.16a.5.5 0 0 0 .363.843H7V9a1 1 0 0 0 2 0V4.003h1.839a.5.5 0 0 0 .363-.844L8.363.157a.5.5 0 0 0-.726 0zM13 7a1 1 0 1 1 2 0v6.5a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5V7a1 1 0 1 1 2 0v6h10z",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.7 6.4a3.1 3.1 0 0 1-2.231-.948L7.097 7.105a3.1 3.1 0 0 1-.052 1.764l3.424 1.679a3.1 3.1 0 1 1-.85 1.81l-3.813-1.87a3.1 3.1 0 1 1 .167-5.06l3.646-1.786A3.1 3.1 0 1 1 12.7 6.4m1.2-3.1a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0m-1.2 10.6a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4m-7.4-6a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14 7a1 1 0 1 0 0-2h-3V2a1 1 0 1 0-2 0v3.5A1.5 1.5 0 0 0 10.5 7zM2 9a1 1 0 1 0 0 2h3v3a1 1 0 1 0 2 0v-3.5A1.5 1.5 0 0 0 5.5 9zm.2 3.6a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4M15 2.2a1.2 1.2 0 1 0-2.4 0 1.2 1.2 0 0 0 2.4 0m-8 .3v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5m8 11v-3A1.5 1.5 0 0 0 13.5 9h-3A1.5 1.5 0 0 0 9 10.5v3a1.5 1.5 0 0 0 1.5 1.5h3a1.5 1.5 0 0 0 1.5-1.5M5 3H3v2h2zm6 8h2v2h-2z",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(584),s=n(274),u=i(n(559)),c=i(n(1989)),l=i(n(1990)),d=i(n(1991)),f=i(n(1992)),p=i(n(1993)),h=i(n(538)),m=r(n(123)),v=i(n(1007)),g=i(n(1994)),y=i(n(381)),b=i(n(267)),_=i(n(996)),O=i(n(748)),E=n(558),w=n(1082),S=n(234),C=n(1030),x=n(16),T=n(245),P=n(392),k=n(335),j=n(28);n(1996);const R=j.cn("ShareDialogSettings"),I=m.buttonIconProvider(c.default),A={[S.Permission.Read]:S.Permission.ReadWithPassword,[S.Permission.ReadWithPassword]:S.Permission.Read,[S.Permission.ReadWithoutDownload]:S.Permission.ReadWithPasswordWithoutDownload,[S.Permission.ReadWithPasswordWithoutDownload]:S.Permission.ReadWithoutDownload,[S.Permission.Write]:S.Permission.Write},D={[S.Permission.Read]:S.Permission.ReadWithoutDownload,[S.Permission.ReadWithoutDownload]:S.Permission.Read,[S.Permission.ReadWithPassword]:S.Permission.ReadWithPasswordWithoutDownload,[S.Permission.ReadWithPasswordWithoutDownload]:S.Permission.ReadWithPassword,[S.Permission.Write]:S.Permission.Write};t.ShareDialogSettings=(({onBackClick:e,onDialogVisibilityChange:t})=>{var n,r,i,c;const{lang:j,userHasPublicSettingsFeature:M,readOnlyValue:N,externalOrganizationIds:L,deselectClass:F,countMetrikaFn:B,isTouch:U,isTablet:z,scope:V,isAndroid:H,isB2bUser:W,chooseTariffLink:$,resourcePath:G,resourceId:q,resourceType:Y,resourceMediaType:K,pddOrgId:J}=o.useContext(s.ShareDialogContext),{commonSettings:Z,onPublicAccessChange:X,getNewPublicSettings:Q}=w.usePublicAccess(),ee="album"===Y?q:G,{publicSettings:te,availablePublicSettings:ne,isUpdatingSettings:re}=P.useSelectors(ee),ie=x.useDispatch(),oe=o.useMemo(()=>(null===Z||void 0===Z?void 0:Z.rights)||[],[Z]),ae=o.useMemo(()=>oe.includes(S.Permission.Write),[oe]),se=o.useMemo(()=>0===oe.length,[oe]),[ue,ce]=o.useState(!1),[le,de]=o.useState(""),[fe,pe]=o.useState(!1),[he,me]=o.useState(!1),ve=o.useRef(null),ge=o.useCallback(e=>{ce(e),U&&t(e)},[t,U]),ye=o.useCallback(()=>{var e;const t=Q({macros:[(null===(e=null===Z||void 0===Z?void 0:Z.macros)||void 0===e?void 0:e[0])===S.Macros.Employees?S.Macros.All:S.Macros.Employees]});ie(T.updatePublicSettings({id:G,type:Y,settings:{accesses:t},positiveUpdate:!0}))},[Z,Q,G,Y,ie]),be=o.useCallback(()=>{const e=A[oe[0]],t=Q({rights:[e]}),n=oe.includes(S.Permission.ReadWithPassword)||oe.includes(S.Permission.ReadWithPasswordWithoutDownload),r=e===S.Permission.ReadWithPassword||e===S.Permission.ReadWithPasswordWithoutDownload,i={accesses:t};!n&&r?(ge(!0),pe(!0)):n&&!r&&(i.password=null,ie(T.updatePublicSettings({id:G,type:Y,settings:i,positiveUpdate:!0})))},[oe,Q,G,Y,ge,ie]),_e=o.useCallback(()=>{const e=D[oe[0]],t=Q({rights:[e]});ie(T.updatePublicSettings({id:G,type:Y,settings:{accesses:t},positiveUpdate:!0}))},[oe,Q,G,Y,ie]),Oe=o.useCallback(e=>{ie(T.updatePublicSettings({id:G,type:Y,settings:{available_until:e?e.getTime()/1e3:null},positiveUpdate:!0}))},[G,Y,ie]),Ee=o.useCallback((...e)=>B("security settings",...e),[B]),we=o.useCallback(()=>{e()},[e]),Se=o.useCallback(e=>{de(e.target.value)},[]),Ce=o.useCallback(()=>{le||ce(!1)},[le]),xe=o.useCallback(()=>{const e={password:le};if(fe){const t=A[oe[0]];e.accesses=Q({rights:[t]})}ie(T.updatePublicSettings({id:G,type:Y,settings:e,positiveUpdate:!0})),ge(!1),de("")},[le,G,Y,Q,oe,fe,ge,ie]),Te=o.useCallback(()=>{de(""),ge(!1)},[ge]),Pe=o.useCallback(()=>{ge(!0),pe(!1)},[ge]),ke=o.useCallback(()=>{B("choose tariff click")},[B]),je=o.useMemo(()=>C.checkPasswordForSymbols(le),[le]),Re=le.length<4||!je,Ie=o.useCallback(()=>{me(!0)},[]),Ae=o.useCallback(()=>{me(!1)},[]),De=U&&!M,Me=o.default.createElement(o.default.Fragment,null,W?k.i18n(j,"security-b2b-tooltip"):k.i18n(j,"security-b2c-tooltip"),o.default.createElement("div",{className:R("ChooseTariffButton")},o.default.createElement(m.default,{size:"s",view:W?"link":"premium",type:"link",target:"_blank",url:$,onClick:ke},k.i18n(j,"choose-tariff")))),Ne=se||!M,Le=ae||se||!M,Fe=o.default.createElement(h.default,{size:"m",view:"default",disabled:Ne,checked:Z?(null===(n=null===Z||void 0===Z?void 0:Z.macros)||void 0===n?void 0:n[0])===S.Macros.Employees:(null===(c=null===(i=null===(r=null===ne||void 0===ne?void 0:ne.default)||void 0===r?void 0:r[0])||void 0===i?void 0:i.macros)||void 0===c?void 0:c[0])===S.Macros.Employees,onChange:ye}),Be=oe.includes(S.Permission.ReadWithPassword)||oe.includes(S.Permission.ReadWithPasswordWithoutDownload),Ue=a.usePreviousValue(Be),ze=Be&&!(re&&!Ue),Ve=o.default.createElement(h.default,{size:"m",view:"default",checked:Be,disabled:Le,onChange:be});let He;Le?M?ae&&(He=k.i18n(j,"password-disabled-tooltip")):He=Me:He="folder"===Y?k.i18n(j,"password-tooltip-folder"):k.i18n(j,"password-tooltip");const We="audio"===K,$e=Le||We,Ge=o.default.createElement(h.default,{size:"m",view:"default",checked:oe.includes(S.Permission.ReadWithoutDownload)||oe.includes(S.Permission.ReadWithPasswordWithoutDownload),disabled:$e,onChange:_e});let qe;Le||We?M?ae?qe=k.i18n(j,"forbid-download-disabled-tooltip"):We&&!Le&&(qe=k.i18n(j,"forbid-download-audio-disabled-tooltip")):qe=Me:qe=k.i18n(j,"forbid-download-tooltip");const Ye={messageBoxClassName:M?void 0:R("NoFeatureTooltip",{b2b:W}),size:"m",direction:"right",align:"left",hasTail:!0,tailType:"rounded"},Ke=!M||se,Je=o.default.createElement(_.default,{lang:j,disabled:Ke,availableUntilDate:(null===te||void 0===te?void 0:te.available_until)?new Date(1e3*(null===te||void 0===te?void 0:te.available_until)):null,onChange:Oe,hasFeature:M,readOnlyValue:N,externalOrganizationId:null===L||void 0===L?void 0:L[0],deselectClass:F,countSecuritySettings:Ee,isSmartphone:U&&!z,scope:V,isAndroid:H,selectArrowIcon:!0});return o.default.createElement("div",{className:R({touch:U})},o.default.createElement("div",{className:R("Item")},o.default.createElement("span",{className:R("Icon")},o.default.createElement(u.default,null)),o.default.createElement("div",{className:R("Title")},k.i18n(j,"settings-access")),o.default.createElement("div",{className:R("Control")},o.default.createElement(E.AccessTypeSelect,{value:E.mapPermissionToAccessTypeValue(Z),onChange:X,disabled:re,hasRevoke:!0}))),J?o.default.createElement("div",{className:R("Item",{disabled:Ne}),onClick:De?Ie:void 0},o.default.createElement("span",{className:R("Icon")},o.default.createElement(f.default,null)),o.default.createElement("div",{className:R("Title")},k.i18n(j,"settings-organization")),o.default.createElement("div",{className:R("Control")},U?Fe:o.default.createElement(b.default,Object.assign({disabled:se&&M,tooltipContent:M?k.i18n(j,"available-to-organization-only"):Me},Ye),Fe))):null,o.default.createElement("div",{className:R("Item",{disabled:Le}),onClick:De?Ie:void 0},o.default.createElement("span",{className:R("Icon")},o.default.createElement(d.default,null)),o.default.createElement("div",{className:R("Title")},ze?k.i18n(j,"settings-password-set"):k.i18n(j,"settings-password")),o.default.createElement("div",{className:R("Control")},ue&&!U?o.default.createElement(o.default.Fragment,null,o.default.createElement(v.default,{className:R("PasswordInput"),view:"default",size:"s",value:le,onChange:Se,onBlur:Ce,autoFocus:!0,innerRef:ve,state:je?void 0:"error",placeholder:k.i18n(j,"password-input-placeholder")}),o.default.createElement(g.default,{view:"default",size:"s",anchor:ve,visible:!je,direction:"top",state:"warning",hasTail:!0},k.i18n(j,"invalid-password-message")),o.default.createElement(m.default,{size:"s",view:"default",onClick:xe,disabled:Re},k.i18n(j,"ready-button"))):o.default.createElement(o.default.Fragment,null,ze&&!ue?o.default.createElement(m.default,{className:R("EditPassword"),size:"s",view:"clear",icon:I,onClick:Pe}):null,U||!He?Ve:o.default.createElement(b.default,Object.assign({tooltipContent:He},Ye),Ve)))),o.default.createElement("div",{className:R("Item",{disabled:$e}),onClick:U?Ie:void 0},o.default.createElement("span",{className:R("Icon")},o.default.createElement(l.default,null)),o.default.createElement("div",{className:R("Title")},k.i18n(j,"settings-download")),o.default.createElement("div",{className:R("Control")},U||!qe?Ge:o.default.createElement(b.default,Object.assign({tooltipContent:qe},Ye),Ge))),o.default.createElement("div",{className:R("Item",{disabled:Ke}),onClick:De?Ie:void 0},o.default.createElement("span",{className:R("Icon")},o.default.createElement(p.default,null)),o.default.createElement("div",{className:R("Title")},k.i18n(j,"settings-date")),o.default.createElement("div",{className:R("Control")},U?Je:o.default.createElement(b.default,Object.assign({disabled:M,tooltipContent:Me},Ye),Je))),o.default.createElement("div",{className:R("Footer")},o.default.createElement(m.default,{view:"action",size:"m",onClick:we},k.i18n(j,"ready-button"))),De?o.default.createElement(O.default,{visible:he,isB2b:W,onClose:Ae,onSubmtiClick:ke,chooseTariffLink:$,lang:j}):null,U?o.default.createElement(y.default,{visible:ue,onClose:Te,title:k.i18n(j,"password-dialog-title"),useDrawer:!0,bigTitle:!0,noCloseButton:!0},o.default.createElement(v.default,{className:R("TouchPasswordInput"),view:"default",size:"m",value:le,placeholder:k.i18n(j,"password-input-placeholder"),onChange:Se,autoFocus:!0,state:je?void 0:"error",hint:je?void 0:k.i18n(j,"invalid-password-message")}),o.default.createElement(m.default,{size:"l",view:"action",onClick:xe,disabled:Re,width:"max"},k.i18n(j,"save-button"))):null)})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",d:"M14.47 4.36a6.8 6.8 0 0 0-1.202-1.628 6.8 6.8 0 0 0-1.625-1.2l-.002-.002.92-.92c.495-.494 1.308-.812 2.475.354 1.166 1.167.848 1.98.353 2.475zm-1.128 1.126L4.73 14.099a2.5 2.5 0 0 1-.861.562l-2.552.993a.75.75 0 0 1-.971-.97l.993-2.553a2.5 2.5 0 0 1 .562-.86l8.613-8.614a5.2 5.2 0 0 1 1.693 1.136c.5.5.88 1.077 1.135 1.693"})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 0a1 1 0 0 0-1 1v6.79q0 .71.1 1.414l.138.958-.047.046-.464-.741a10 10 0 0 0-1.405-1.765L4.91 7.29a1 1 0 1 0-1.413 1.413l3.8 3.8a1 1 0 0 0 1.414-.001l3.793-3.799A1 1 0 0 0 11.09 7.29l-.407.407a10 10 0 0 0-1.402 1.76l-.472.752-.046-.046.136-.96Q9 8.5 9 7.79V1a1 1 0 0 0-1-1M2 15a1 1 0 0 1 1-1h10a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none",viewBox:"0 0 16 17"},e),i.createElement("path",{fill:"currentColor",d:"M8 16c-.974 0-2.821-1.089-4.214-2.668-1.959-2.223-3.12-5.3-3.12-9.221a1 1 0 0 1 .732-.963C3.923 2.444 5.905 1.47 7.352.238a1 1 0 0 1 1.296 0c1.447 1.232 3.43 2.206 5.954 2.91a1 1 0 0 1 .731.963c0 3.921-1.16 6.998-3.12 9.22C10.822 14.912 8.975 16 8 16m-2.713-3.99c.6.68 1.257 1.218 1.897 1.595.423.25.804.395.816.395s.393-.145.816-.395a8 8 0 0 0 1.897-1.596c1.517-1.72 2.472-4.085 2.605-7.155Q10.149 3.87 8 2.277 5.851 3.87 2.682 4.854c.133 3.07 1.088 5.435 2.605 7.155"})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 0h-5A1.5 1.5 0 0 0 4 1.5V4H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-2V1.5A1.5 1.5 0 0 0 10.5 0M6 4h4V2H6zM2.5 6h11a.5.5 0 0 1 .5.5v1.17a6.6 6.6 0 0 1-.98.53c-1.012.45-2.64.925-5.02.925S3.992 8.65 2.98 8.2A6.6 6.6 0 0 1 2 7.67V6.5a.5.5 0 0 1 .5-.5M14 9.675a10 10 0 0 1-.27.125c-.897.398-2.125.784-3.73.966v.734a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-.734c-1.605-.182-2.833-.568-3.73-.966A10 10 0 0 1 2 9.675V13.5a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 .5-.5z",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 0a1 1 0 0 0-1 1v1h-.5A1.5 1.5 0 0 0 1 3.5v10A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-10A1.5 1.5 0 0 0 13.5 2H13V1a1 1 0 1 0-2 0v1H5V1a1 1 0 0 0-1-1M3 6v7h10V6zm8.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1995);t.default=r.default}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1130),o=r.compose(i.withViewDefault,r.composeU(i.withSizeS,i.withSizeL))(i.Tooltip);t.default=o}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(904);t.Spin=r.compose(r.composeU(i.withSizeM),r.composeU(i.withViewDefault))(i.Spin)}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.71 3.91a1 1 0 0 0-1.415-1.415L.497 7.293a1 1 0 0 0 0 1.414l4.798 4.798A1 1 0 0 0 6.71 12.09l-1.413-1.412a10 10 0 0 0-1.759-1.4l-.747-.469.046-.046.96.137q.702.1 1.414.1H15a1 1 0 1 0 0-2H5.21q-.71 0-1.414.1l-.959.138-.046-.047.75-.47a10 10 0 0 0 1.756-1.4z",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(274),s=i(n(2001)),u=n(335);n(2002);const c=n(28).cn("InfoMessage");t.ShareDialogInfoMessage=(()=>{const{lang:e,isUserHasRightsToModifyAccess:t}=o.useContext(a.ShareDialogContext);return t?null:o.default.createElement("div",{className:c({type:"info"})},o.default.createElement(s.default,{className:c("Icon")}),o.default.createElement("div",{className:c("Text")},u.i18n(e,"readonly-info-message")))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(0).memo(e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none",viewBox:"0 0 16 17"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 8.003a8 8 0 1 0 16 0 8 8 0 0 0-16 0m14 0a6 6 0 1 1-12 0 6 6 0 0 1 12 0M6.86 11.03c0-.672.492-1.14 1.14-1.14s1.14.468 1.14 1.14-.492 1.14-1.14 1.14-1.14-.468-1.14-1.14M7.58 4h.842a.75.75 0 0 1 .747.825l-.373 3.724a.5.5 0 0 1-.497.45h-.596a.5.5 0 0 1-.497-.45l-.373-3.724A.75.75 0 0 1 7.58 4",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(0)),s=o(n(528));t.default=(e=>t=>{const{modelsRoute:n,sk:i,onSkUpdate:o,uid:u,onAuthChanged:c,connectionId:l,fetchOptions:d}=t,f=r(t,["modelsRoute","sk","onSkUpdate","uid","onAuthChanged","connectionId","fetchOptions"]),p=a.useCallback((e,t)=>s.default({modelsRoute:n,apiMethod:e,requestParams:t,sk:i,onSkUpdate:o,uid:u,onAuthChanged:c,connectionId:l,options:d}),[n,i,o,u,c,l,d]),h=a.useCallback((e,t)=>p(e?"mpfs/album-unpublish":"mpfs/set-private",t),[p]),m=a.useCallback(({resourceId:e,accessType:t})=>p("mpfs/office-set-access-state",{resourceId:e,accessState:t}),[p]),v=a.useCallback(e=>p("mpfs/set-public-settings",e),[p]);return a.default.createElement(e,Object.assign({runDeleteLink:h,runChangeType:m,setLinkSettings:v},f))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15),i=n(42),o=n(19),a=n(39),s=n(95);t.positiveUnsetPublishResource=((e,t)=>(n,s)=>{const u=o.getResourceData(s(),e);if(!u)return;const c=u.meta.short_url,l=u.meta.office_access_state,d=u.meta.office_online_sharing_url;n(r.unsetPublishResource(e)),t.then(e=>(a.isDocsView(s())&&n(i.notify({operation:"publish",reverse:!0,status:"done",src:u})),e)).catch(()=>{n(r.setPublishResource(e,{short_url:c,office_access_state:l,office_online_sharing_url:d})),n(i.notify({operation:"publish",reverse:!0,status:"failed",src:{name:u.name,type:u.type}}))})}),t.positiveUpdateOfficeAccessState=((e,t,n)=>(a,s)=>{var u,c,l,d;const f=o.getResourceData(s(),e);if(!f)return;const p=f.meta.office_access_state,h={id:e,meta:Object.assign({},f.meta,{office_access_state:t})},m="all"===t&&((null===(u=f.publicSettings)||void 0===u?void 0:u.read_only)||(null===(c=f.publicSettings)||void 0===c?void 0:c.have_password)),v=null===(l=f.publicSettings)||void 0===l?void 0:l.read_only,g=null===(d=f.publicSettings)||void 0===d?void 0:d.have_password;m&&(h.publicSettings=Object.assign(Object.assign({},f.publicSettings),{read_only:!1,have_password:!1})),a(r.updateResource(h)),n.catch(()=>{const t=o.getResourceData(s(),e);if(!t)return;const n={id:e,meta:Object.assign({},t.meta,{office_access_state:p})};m&&(n.publicSettings=Object.assign(Object.assign({},t.publicSettings),{read_only:v,have_password:g})),a(r.updateResource(n)),a(i.notify({operation:"officeAccessTypeChange",status:"failed",src:{name:t.name,type:t.type}}))})}),t.fetchPublicLinkSettings=(e=>(t,n)=>{const o=n().resources[e];return s.api("mpfs/get-public-settings",{path:e},{retryCodes:[500,502,503,504],maxRetries:1}).then(n=>{t(r.updateResource({id:e,publicSettings:n}))}).catch(e=>{throw t(i.notify({operation:"getPublicLinkSettings",status:"failed",src:o})),e})});t.positiveChangePublicSettings=((e,t,n,a)=>(s,u)=>{const c=o.getResourceData(u(),e);if(!c)return;const[l,d]=((e,t)=>"external_organization_id"===e?["external_organization_ids",t?[t]:[]]:[e,t])(t,n),f=c.publicSettings[l];s(r.updateResource({id:e,publicSettings:Object.assign({},c.publicSettings,{[l]:d})})),a.catch(()=>{s(r.updateResource({id:e,publicSettings:Object.assign({},c.publicSettings,{[l]:f})})),s(i.notify({operation:"changePublicLinkSettings",status:"failed",src:c}))})})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"renameResource",(function(){return l}));var r=n(20),i=n(19),o=n(29),a=n(136),s=n(80),u=n(84),c=n(56),l=function(e){return function(t,n){t(Object(o.maybeBlockAction)())||(Object(s.isSagaOperation)(n(),u.OperationType.RENAME)?t(Object(c.renameOperation)(e)):t(Object(r.openDialog)("rename",{resourceId:e,onSubmit:function(o){if(!n().dialogs.rename.data.progress){t(Object(r.updateDialog)("rename",{progress:!0}));var s=ns.action.run("resource.rename",{id:e,name:o}),u=function(){var u=n().dialogs.rename;if(u.data&&u.state!==r.STATE.CLOSED&&u.data.resourceId===e){var c=s.get(".status"),l=Object(i.getResourceData)(n(),e,"type"),d=s.get(".reason"),f=s.get(".reasonText"),p={progress:!1};if(["canceled","failed"].includes(c)&&"exists"===d)p.message="Выберите другое имя — это уже занято другой папкой или файлом",t(Object(r.updateDialog)("rename",p));else if("failed"===c){if(f){p.message=f;var h=s.get(".reasonTextAux");h&&(p.message+=" "+h)}else p.message="NAME_HAS_SLASH"===d?"dir"===l?"Название папки не может содержать символ «/»":"Название файла не может содержать символ «/»":"NAME_EXCEEDS_MAX_LENGTH"===d?"dir"===l?"Название папки не может быть длиннее 255 символов":"Название файла не может быть длиннее 255 символов":"dir"===l?"Не удалось переименовать папку «"+yr.externals.entityify(o)+"»":"Не удалось переименовать файл «"+yr.externals.entityify(o)+"»";t(Object(r.updateDialog)("rename",p))}else"canceled"===c?t(Object(r.closeDialog)("rename",p)):"progressing"===c&&(t(Object(r.closeDialog)("rename",p)),t(Object(a.deselectAllStatesContext)()))}};s.on("ns-model-changed.status",u),u()}},onClose:function(){return t(Object(r.closeDialog)("rename"))}})))}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(270);n.d(t,"useOverlay",(function(){return r.useOverlay})),n.d(t,"OverlayManager",(function(){return r.OverlayManager}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n.n(r),o=n(4),a=n.n(o),s=n(5),u=n.n(s),c=n(8),l=n.n(c),d=n(6),f=n.n(d),p=n(7),h=n.n(p),m=n(2),v=n.n(m),g=n(0),y=n.n(g);function b(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return (function(n){f()(o,n);var r=b(o);function o(e){var t;return a()(this,o),(t=r.call(this,e))._onClick=t._onClick.bind(l()(t)),t.state={isTimer:!1},t}return u()(o,[{key:"componentWillUnmount",value:function(){this._timerId&&clearTimeout(this._timerId)}},{key:"_onClick",value:function(){var e,n=this;this.setState({isTimer:!0}),this._timerId=setTimeout((function(){n.setState({isTimer:!1})}),t),(e=this.props).onClick.apply(e,arguments)}},{key:"render",value:function(){var t=this.state.isTimer||this.props.disabled;return y.a.createElement(e,i()({},this.props,{disabled:t,onClick:this._onClick}))}}]),o})(g.Component)}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(2020);var r=n(18),i=n(20),o=n(42),a=n(39),s=n(14),u=n(9);function c(e){var t;return u.isFunction(e.getAsEntry)?t=e.getAsEntry():u.isFunction(e.webkitGetAsEntry)&&(t=e.webkitGetAsEntry()),t&&t.isFile&&u.isFunction(e.getAsFile)?e.getAsFile():t}function l(e){return e&&e.isDirectory}function d(e){return e&&!e.isDirectory}ns.View.define("dropzone",{events:{"dragleave .nb-dropzone":"close","drop .nb-dropzone":"dropFile","click .nb-dropzone":"close"},methods:{isDocsPage:function(){return Object(a.isDocsPage)(Object(r.default)().getState())},close:function(){Object(r.default)().dispatch(Object(i.closeDialog)("dropzone"))},dropFile:function(e){var t=this;document.body.dispatchEvent(new Event("mousedown")),e.preventDefault(),e.stopPropagation(),this.close();var n,i=e.originalEvent.dataTransfer;if(i.items){var a=u.filter(u.map(i.items,c),l),f=u.filter(u.map(i.items,c),d);n=ns.action.run("resource.upload",{dropzone:!0,folders:a,files:f}),s.default.count("tech","dropzone data transfer key","items")}else{if(!i.files||!i.files.length)return void Object(r.default)().dispatch(Object(o.notify)({cannotUploadFolder:!0}));n=ns.action.run("resource.upload",{dropzone:!0,files:i.files}),s.default.count("tech","dropzone data transfer key","files")}var p="/disk"===ns.page.current.params.idContext?"via drop to root":"via drop to folder";n.then((function(){s.default.count("actions","uploading","start upload",p),t.close()}))}}})}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"bindDragEvents",(function(){return m})),n.d(t,"unBindDragEvents",(function(){return v}));var r=n(18),i=n(20),o=n(125),a=n(39),s=n(112),u=n(29),c=!1,l=function(){c=!0},d=function(e){var t=Object(r.default)(),n=t.getState();if(e.preventDefault(),!Object(a.isDocsView)(n))if(Object(s.shouldRestrict)(n,{forLite:!0}))setTimeout((function(){t.dispatch(Object(u.maybeBlockAction)({forLite:!0}))}),500);else if(!c&&!Object(o.isDialogOpened)(t.getState(),"dropzone")){var l=e.dataTransfer&&e.dataTransfer.types;l&&(l.indexOf&&-1!==l.indexOf("Files")||l.contains&&l.contains("Files"))&&t.dispatch(Object(i.openDialog)("dropzone"))}},f=function(e){e.preventDefault(),e.stopPropagation()},p=function(e){e.preventDefault(),c=!1},h=function(e){e.preventDefault()},m=function(){window.addEventListener("dragstart",l),window.addEventListener("dragenter",d),window.addEventListener("dragover",f),window.addEventListener("dragend",p),window.addEventListener("drop",h)},v=function(){window.removeEventListener("dragstart",l),window.removeEventListener("dragenter",d),window.removeEventListener("dragover",f),window.removeEventListener("dragend",p),window.removeEventListener("drop",h)}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(11)),s=n(16),u=n(34),c=n(91),l=n(42),d=n(244),f=i(n(2023));n(2040);t.default=(({isFirstInQueue:e,data:t,width:n,setWidth:r})=>{const i=o.useRef(null),p=o.useRef(null),[h,m]=o.useState(!1),v=s.useDispatch(),{autoClose:g=!0,closeTime:y,id:b,count:_,typeResources:O}=t,E=o.useCallback(()=>{var t;if(!e)return;const n=null===(t=p.current)||void 0===t?void 0:t.nextElementSibling;if(n){const e=d.getNotifyWidth(n);r(e)}else r("")},[e,r]),w=o.useCallback(()=>{m(!1),E();const e=setTimeout(()=>{b&&v(l.removeNotification(b))},u.NOTIFICATIONS.CLOSING_ANIMATION_TIME);return()=>clearTimeout(e)},[b,E,v]),S=o.useCallback(()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),C=o.useCallback(()=>{g&&e&&(S(),i.current=setTimeout(()=>w(),y||u.NOTIFICATIONS.DEFAULT_CLOSE_TIME))},[e,g,y,S,w]);return o.useEffect(()=>(setTimeout(()=>m(!0),0),C(),()=>S()),[C,S]),o.useEffect(()=>{if(null===n){const e=d.getNotifyWidth(p.current);r(e)}return()=>{e&&""===n&&r(null)}},[e,n,r]),o.useEffect(()=>{if(e){const e=d.getNotifyWidth(p.current);r(e)}},[e,O,_]),o.default.createElement("div",{"data-test-id":"notification",role:"alert","aria-live":"assertive",ref:p,className:a.default()("notification").m({shown:h,"scroll-limit":t.browserScrollLimit,black:d.getTypeNotification(t)===c.NotificationType.black}),style:{width:null!==n&&void 0!==n?n:""},onClick:w,onMouseOver:S,onMouseLeave:C},o.default.createElement(f.default,{notifyData:t}))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(91),a=r(n(2024)),s=r(n(2037)),u=r(n(2038)),c=r(n(2039));t.default=(({notifyData:e})=>e.cannotUploadFolder?i.default.createElement(u.default,null):e.browserScrollLimit?i.default.createElement(c.default,{data:e}):e.status===o.Status.failed&&e.reason===o.Reason.READ_ONLY?i.default.createElement("div",{className:"notification__text"},i.default.createElement(s.default,{data:e})):e.operation?i.default.createElement("div",{className:"notification__text"},i.default.createElement(a.default,{data:e})):null)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(91),a=n(244),s=n(2025),u=n(2026),c=n(2027),l=n(2028),d=n(2029),f=n(2030),p=n(2031),h=n(2032),m=n(2033),v=n(2034),g=n(2035),y=n(2036),b=n(79),_=n(159);t.default=(({data:e})=>{var t,n,r,O,E,w,S,C;switch(e.operation){case o.Operations.move:return c.getMoveContent(e);case o.Operations.cleanTrash:return l.getTrashCleanContent(e);case o.Operations.delete:case o.Operations.leaveFolder:return i.default.createElement(u.DeleteOrLeaveFolder,{data:e});case o.Operations.rename:return d.getRenameContent(e);case o.Operations.createFolder:return i.default.createElement(s.FolderCreation,{data:e});case o.Operations.restore:return f.getRestoreContent(e);case o.Operations.copy:return p.getCopyContent(e);case o.Operations.upload:return h.getUploadContent(e);case o.Operations.publish:return m.getPublishContent(e);case o.Operations.acceptInvite:return v.getInviteAcceptContent(e);case o.Operations.rejectInvite:return v.getInviteRejectContent(e);case o.Operations.inviteUser:return i.default.createElement(v.InviteSendContent,{data:e});case o.Operations.accessFolder:return g.getFolderAccessContent(e);case o.Operations.createAlbum:return i.default.createElement(y.AlbumCreate,{data:e});case o.Operations.removeAlbum:return y.getAlbumRemoveContent(e);case o.Operations.publishAlbum:return y.getAlbumPublishContent(e);case o.Operations.addToAlbum:return i.default.createElement(y.AddToAlbum,{data:e});case o.Operations.removeResourceAlbum:return y.getAlbumRemoveResourceContent(e);case o.Operations.editAlbum:return y.getAlbumEditContent(e);case o.Operations.excludeFromAlbum:return y.getExcludeFromAlbumContent(e);case o.Operations.downloadAlbum:return"Не удалось скачать альбом. Попробуйте позже.";case o.Operations.download:{const{status:t,reason:n}=e;switch(t){case o.Status.failed:return a.isDirectory(e)?i.default.createElement(i.default.Fragment,null,"Не удалось скачать папку. Попробуйте позже."):n===o.Reason.large?i.default.createElement(i.default.Fragment,null,"Папка слишком большая. Попробуйте скачать её частями или используйте приложение Диска"):i.default.createElement(i.default.Fragment,null,"Не удалось скачать файл. Попробуйте позже.");default:return null}}case o.Operations.copyPublicLink:return e.status===o.Status.done?i.default.createElement(i.default.Fragment,null,"Ссылка скопирована"):null;case o.Operations.mergeAlbums:switch(e.status){case o.Status.done:return i.default.createElement(i.default.Fragment,null,"Альбомы объединены");case o.Status.failed:return i.default.createElement(i.default.Fragment,null,"Не удалось объединить альбомы");default:return null}case o.Operations.officeAccessTypeChange:return e.status===o.Status.failed?i.default.createElement(_.ContentWithNames,{loc:"Не удалось сменить права доступа к «"+yr.externals.entityify(b.I18N.$1)+"»"},i.default.createElement(_.ResourceName,{text:null!==(n=null===(t=e.src)||void 0===t?void 0:t.name)&&void 0!==n?n:""})):null;case o.Operations.getPublicLinkSettings:return e.status===o.Status.failed?i.default.createElement(i.default.Fragment,null,"Не удалось открыть настройки ссылки"):null;case o.Operations.changePublicLinkSettings:return e.status===o.Status.failed?i.default.createElement(i.default.Fragment,null,"Не удалось сохранить настройки ссылки"):null;case o.Operations.docsError:case o.Operations.any:return e.message;case o.Operations.unshare:return i.default.createElement(_.ContentWithNames,{loc:"Владелец закрыл доступ к папке «"+yr.externals.entityify(b.I18N.$1)+"». Она будет удалена с вашего Диска."},i.default.createElement(_.ResourceName,{text:null!==(r=null===e||void 0===e?void 0:e.nameFolder)&&void 0!==r?r:""}));case o.Operations.photosliceScroll:return null!==(O=e.reason)&&void 0!==O?O:null;case o.Operations.refuseAlbumsFaces:return e.status===o.Status.failed?i.default.createElement(i.default.Fragment,null,"Не удалось отключить группировку фото по людям"):null;case o.Operations["wfolio-create-project"]:{const t=null!==(w=null===(E=e.src)||void 0===E?void 0:E.name)&&void 0!==w?w:"";switch(e.status){case o.Status.done:return i.default.createElement(_.ContentWithNames,{loc:"Проект «"+yr.externals.entityify(b.I18N.$1)+"» создан"},i.default.createElement(_.ResourceName,{text:t}));case o.Status.failed:return i.default.createElement(_.ContentWithNames,{loc:"Не удалось создать проект «"+yr.externals.entityify(b.I18N.$1)+"»"},i.default.createElement(_.ResourceName,{text:t}));default:return null}}case o.Operations["wfolio-delete-project"]:{const t=null!==(C=null===(S=e.src)||void 0===S?void 0:S.name)&&void 0!==C?C:"";switch(e.status){case o.Status.done:return i.default.createElement(_.ContentWithNames,{loc:"Проект  «"+yr.externals.entityify(b.I18N.$1)+"» удалён"},i.default.createElement(_.ResourceName,{text:t}));case o.Status.failed:return i.default.createElement(_.ContentWithNames,{loc:"Не удалось удалить проект «"+yr.externals.entityify(b.I18N.$1)+"»"},i.default.createElement(_.ResourceName,{text:t}));default:return null}}default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(51),a=n(79),s=n(91),u=n(159),c=n(244);t.FolderCreation=(({data:e})=>{var t,n,r,l,d,f;const p=null!==(n=(null===e||void 0===e?void 0:e.nameFolderDst)||(null===(t=null===e||void 0===e?void 0:e.dst)||void 0===t?void 0:t.name))&&void 0!==n?n:"";switch(e.status){case s.Status.done:return!e.src&&e.committer?i.default.createElement(u.ContentWithNames,{loc:"Пользователь "+yr.externals.entityify(a.I18N.$2)+" создал папку "+yr.externals.entityify(a.I18N.$1)},i.default.createElement(o.Link,{className:"notification__link",href:`/client${null===(r=e.dst)||void 0===r?void 0:r.id}`},i.default.createElement(u.ResourceName,{text:(null===(l=e.dst)||void 0===l?void 0:l.name)||""})),i.default.createElement(u.ResourceName,{text:e.committer})):e.src?null:i.default.createElement(u.ContentWithNames,{loc:"Вы создали папку "+yr.externals.entityify(a.I18N.$1)},i.default.createElement(o.Link,{className:"notification__link",href:`/client${null===(d=e.dst)||void 0===d?void 0:d.id}`},i.default.createElement(u.ResourceName,{text:(null===(f=e.dst)||void 0===f?void 0:f.name)||""})));case s.Status.failed:return i.default.createElement(u.ContentWithNames,{loc:"Не удалось создать папку «"+yr.externals.entityify(a.I18N.$1)+"»"},i.default.createElement(u.ResourceName,{text:p}));case s.Status.exists:return i.default.createElement(i.default.Fragment,null,"Выберите другое имя — это уже занято другой папкой или файлом");case s.Status.canceled:if(c.isDirectory(e))switch(e.reason){case s.Reason.NAME_HAS_SLASH:return i.default.createElement(i.default.Fragment,null,"Название папки не может содержать символ «/»");case s.Reason.NAME_EXCEEDS_MAX_LENGTH:return i.default.createElement(i.default.Fragment,null,"Название папки не может быть длиннее 255 символов")}return null;default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=n(51),s=r(n(14)),u=n(111),c=n(402),l=n(91),d=n(244),f=n(159),p=n(79);t.DeleteOrLeaveFolder=(({data:e})=>{var t,n,r,h,m;const v=o.useDispatch();if(e.operation===l.Operations.leaveFolder&&e.role===l.Role.owner){const r=null!==(t=null===e||void 0===e?void 0:e.nameUser)&&void 0!==t?t:"",o=null!==(n=null===e||void 0===e?void 0:e.nameFolder)&&void 0!==n?n:"";return i.default.createElement(f.ContentWithNames,{loc:yr.externals.entityify(p.I18N.$1)+" больше не является участником папки «"+yr.externals.entityify(p.I18N.$2)+"»"},i.default.createElement(f.ResourceName,{text:r}),i.default.createElement(f.ResourceName,{text:o}))}const g=null!==(h=null===(r=e.src)||void 0===r?void 0:r.name)&&void 0!==h?h:"",y=null===(m=e.src)||void 0===m?void 0:m.type;switch(e.status){case l.Status.completed:case l.Status.done:{const{linksHost:t,canCleanVdTrash:n,count:r,vdTrashPath:o,vdHash:h,trash:m,vdTrashSize:b,typeResources:_}=e;if(e.dst){let e;const d=null!==b&&void 0!==b?b:m;return e=r&&_===l.TypeOfSrc.file?__i18n__.i18n.convert(["1 файл",yr.externals.entityify(r)+" файл",yr.externals.entityify(r)+" файла",yr.externals.entityify(r)+" файлов"],yr.externals.entityify(r))+" "+__i18n__.i18n.convert(["перемещён","перемещён","перемещены","перемещены"],yr.externals.entityify(r))+" в "+yr.externals.entityify(p.I18N.$1_OPEN)+"Корзину"+yr.externals.entityify(p.I18N.$1_CLOSE):r&&_===l.TypeOfSrc.dir?__i18n__.i18n.convert(["одна папка",yr.externals.entityify(r)+" папка",yr.externals.entityify(r)+" папки",yr.externals.entityify(r)+" папок"],yr.externals.entityify(r))+" "+__i18n__.i18n.convert(["перемещена","перемещена","перемещены","перемещены"],yr.externals.entityify(r))+" в "+yr.externals.entityify(p.I18N.$1_OPEN)+"Корзину"+yr.externals.entityify(p.I18N.$1_CLOSE):r&&"mix"===_?__i18n__.i18n.convert(["1 объект",yr.externals.entityify(r)+" объект",yr.externals.entityify(r)+" объекта",yr.externals.entityify(r)+" объектов"],yr.externals.entityify(r))+" "+__i18n__.i18n.convert(["перемещён","перемещён","перемещены","перемещены"],yr.externals.entityify(r))+" в "+yr.externals.entityify(p.I18N.$1_OPEN)+"Корзину"+yr.externals.entityify(p.I18N.$1_CLOSE):y===l.TypeOfSrc.dir?"Папка «"+yr.externals.entityify(p.I18N.$2)+"» перемещена в "+yr.externals.entityify(p.I18N.$1_OPEN)+"Корзину"+yr.externals.entityify(p.I18N.$1_CLOSE):"Файл «"+yr.externals.entityify(p.I18N.$2)+"» перемещён в "+yr.externals.entityify(p.I18N.$1_OPEN)+"Корзину"+yr.externals.entityify(p.I18N.$1_CLOSE),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",null,i.default.createElement(f.ContentWithNames,{loc:e},i.default.createElement(a.Link,{className:"notification__link",target:t?"_blank":"",href:`${t}/client${null!==o&&void 0!==o?o:"/trash"}`,onClick:()=>s.default.count("navigation","via notification","trash")}),!r&&g?i.default.createElement(f.ResourceName,{text:g}):null)),(!h||h&&n)&&i.default.createElement("div",null,i.default.createElement(a.Link,{className:"notification__link notification__link_action",onClick:()=>{v(c.doCleanTrash(Object.assign({},h&&{id:`/vd/${h}/trash`}))),s.default.count("actions","with resources","empty trash","via notification")}},"Очистить Корзину"),Number(d)>0&&` (${u.format(d,"length",3)})`))}if(d.isDirectory(e))return i.default.createElement(f.ContentWithNames,{loc:"Папка «"+yr.externals.entityify(p.I18N.$1)+"» была удалена"},i.default.createElement(f.ResourceName,{text:g}));if(r)switch(_){case l.TypeOfSrc.file:return __i18n__.i18n.convert(["1 файл",yr.externals.entityify(r)+" файл",yr.externals.entityify(r)+" файла",yr.externals.entityify(r)+" файлов"],yr.externals.entityify(r))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(r));case l.TypeOfSrc.dir:return __i18n__.i18n.convert(["одна папка",yr.externals.entityify(r)+" папка",yr.externals.entityify(r)+" папки",yr.externals.entityify(r)+" папок"],yr.externals.entityify(r))+" "+__i18n__.i18n.convert(["удалена","удалена","удалены","удалены"],yr.externals.entityify(r));case"mix":return __i18n__.i18n.convert(["1 объект",yr.externals.entityify(r)+" объект",yr.externals.entityify(r)+" объекта",yr.externals.entityify(r)+" объектов"],yr.externals.entityify(r))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(r));default:return null}return i.default.createElement(f.ContentWithNames,{loc:"Файл «"+yr.externals.entityify(p.I18N.$1)+"» был удален"},i.default.createElement(f.ResourceName,{text:g}))}case l.Status.failed:return d.isDirectory(e)?i.default.createElement(f.ContentWithNames,{loc:"Не удалось удалить папку «"+yr.externals.entityify(p.I18N.$1)+"»"},i.default.createElement(f.ResourceName,{text:g})):i.default.createElement(f.ContentWithNames,{loc:"Не удалось удалить файл «"+yr.externals.entityify(p.I18N.$1)+"»"},i.default.createElement(f.ResourceName,{text:g}));default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(9)),a=n(91),s=n(244),u=n(79),c=n(159);t.getMoveContent=(e=>{var t,n,r,l,d,f,p;const h=null!==(n=null===(t=e.dst)||void 0===t?void 0:t.name)&&void 0!==n?n:"",m=null!==(d=null===(l=o.default.last(null===(r=e.dst)||void 0===r?void 0:r.parents))||void 0===l?void 0:l.name)&&void 0!==d?d:"",v=null!==(p=null===(f=e.src)||void 0===f?void 0:f.name)&&void 0!==p?p:"";switch(e.status){case a.Status.done:return s.isDirectory(e)?i.default.createElement(c.ContentWithNames,{loc:"Папка «"+yr.externals.entityify(u.I18N.$1)+"» перемещена в папку «"+yr.externals.entityify(u.I18N.$2)+"»"},i.default.createElement(c.ResourceName,{text:h}),i.default.createElement(c.ResourceName,{text:m})):e.count?i.default.createElement(c.ContentWithNames,{loc:"Перемещено "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(e.count)+" объект",yr.externals.entityify(e.count)+" объекта",yr.externals.entityify(e.count)+" объектов"],yr.externals.entityify(e.count))+" в папку «"+yr.externals.entityify(u.I18N.$1)+"»"},i.default.createElement(c.ResourceName,{text:m})):i.default.createElement(c.ContentWithNames,{loc:"Файл «"+yr.externals.entityify(u.I18N.$1)+"» перемещен в «"+yr.externals.entityify(u.I18N.$2)+"»"},i.default.createElement(c.ResourceName,{text:h}),i.default.createElement(c.ResourceName,{text:m}));case a.Status.failed:return s.isDirectory(e)?i.default.createElement(c.ContentWithNames,{loc:"Не удалось переместить папку «"+yr.externals.entityify(u.I18N.$1)+"» в папку «"+yr.externals.entityify(u.I18N.$2)+"»"},i.default.createElement(c.ResourceName,{text:v}),i.default.createElement(c.ResourceName,{text:m})):i.default.createElement(c.ContentWithNames,{loc:"Не удалось переместить файл «"+yr.externals.entityify(u.I18N.$1)+"» в папку «"+yr.externals.entityify(u.I18N.$2)+"»"},i.default.createElement(c.ResourceName,{text:v}),i.default.createElement(c.ResourceName,{text:m}));case a.Status.canceled:return s.isDirectory(e)?i.default.createElement(c.ContentWithNames,{loc:"Перемещение папки «"+yr.externals.entityify(u.I18N.$1)+"» в папку «"+yr.externals.entityify(u.I18N.$2)+"» отменено"},i.default.createElement(c.ResourceName,{text:v}),i.default.createElement(c.ResourceName,{text:m})):i.default.createElement(c.ContentWithNames,{loc:"Перемещение файла «"+yr.externals.entityify(u.I18N.$1)+"» в папку «"+yr.externals.entityify(u.I18N.$2)+"» отменено"},i.default.createElement(c.ResourceName,{text:v}),i.default.createElement(c.ResourceName,{text:m}));default:return null}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(91);t.getTrashCleanContent=(e=>{switch(e.status){case r.Status.done:return"Корзина успешно очищена.";case r.Status.failed:return"Не удалось очистить Корзину.";default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(91),a=n(79),s=n(159),u=n(244);t.getRenameContent=(e=>{var t,n;const r=null!==(n=null===(t=e.src)||void 0===t?void 0:t.name)&&void 0!==n?n:"";switch(e.status){case o.Status.failed:if(u.isDirectory(e))switch(e.reason){case o.Reason.NAME_HAS_SLASH:return"Название папки не может содержать символ «/»";case o.Reason.NAME_EXCEEDS_MAX_LENGTH:return"Название папки не может быть длиннее 255 символов";case o.Reason.exists:return"Выберите другое имя — это уже занято другой папкой или файлом";default:return i.default.createElement(s.ContentWithNames,{loc:"Не удалось переименовать папку «"+yr.externals.entityify(a.I18N.$1)+"»"},i.default.createElement(s.ResourceName,{text:r}))}if(u.isFile(e))switch(e.reason){case o.Reason.NAME_HAS_SLASH:return"Название файла не может содержать символ «/»";case o.Reason.NAME_EXCEEDS_MAX_LENGTH:return"Название файла не может быть длиннее 255 символов";case o.Reason.exists:return"Выберите другое имя — это уже занято другой папкой или файлом"}return i.default.createElement(s.ContentWithNames,{loc:"Не удалось переименовать файл «"+yr.externals.entityify(a.I18N.$1)+"»"},i.default.createElement(s.ResourceName,{text:r}));default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(91),a=n(244),s=n(79),u=n(159);t.getRestoreContent=(e=>{var t,n,r,c;const l=null!==(n=null===(t=e.dst)||void 0===t?void 0:t.name)&&void 0!==n?n:"",d=null!==(c=null===(r=e.src)||void 0===r?void 0:r.name)&&void 0!==c?c:"";switch(e.status){case o.Status.done:{const t=null===e||void 0===e?void 0:e.typeResources;if(a.isDirectory(e))return i.default.createElement(u.ContentWithNames,{loc:"Папка «"+yr.externals.entityify(s.I18N.$1)+"» восстановлена"},i.default.createElement(u.ResourceName,{text:l}));if(e.count)switch(t){case o.TypeOfSrc.file:return __i18n__.i18n.convert(["1 файл",yr.externals.entityify(e.count)+" файл",yr.externals.entityify(e.count)+" файла",yr.externals.entityify(e.count)+" файлов"],yr.externals.entityify(e.count))+" "+__i18n__.i18n.convert(["восстановлен","восстановлен","восстановлены","восстановлены"],yr.externals.entityify(e.count));case o.TypeOfSrc.dir:return __i18n__.i18n.convert(["одна папка",yr.externals.entityify(e.count)+" папка",yr.externals.entityify(e.count)+" папки",yr.externals.entityify(e.count)+" папок"],yr.externals.entityify(e.count))+" "+__i18n__.i18n.convert(["восстановлена","восстановлена","восстановлены","восстановлены"],yr.externals.entityify(e.count));case"mix":return __i18n__.i18n.convert(["1 объект",yr.externals.entityify(e.count)+" объект",yr.externals.entityify(e.count)+" объекта",yr.externals.entityify(e.count)+" объектов"],yr.externals.entityify(e.count))+" "+__i18n__.i18n.convert(["восстановлен","восстановлен","восстановлены","восстановлены"],yr.externals.entityify(e.count));default:return null}return i.default.createElement(u.ContentWithNames,{loc:"Файл «"+yr.externals.entityify(s.I18N.$1)+"» восстановлен"},i.default.createElement(u.ResourceName,{text:l}))}case o.Status.failed:return a.isDirectory(e)&&e.reason?i.default.createElement(u.ContentWithNames,{loc:"Не удалось восстановить папку «"+yr.externals.entityify(s.I18N.$1)+"». "+yr.externals.entityify(e.reason)},i.default.createElement(u.ResourceName,{text:d})):a.isDirectory(e)?i.default.createElement(u.ContentWithNames,{loc:"Не удалось восстановить папку «"+yr.externals.entityify(s.I18N.$1)+"»"},i.default.createElement(u.ResourceName,{text:d})):e.reason?i.default.createElement(u.ContentWithNames,{loc:"Не удалось восстановить файл «"+yr.externals.entityify(s.I18N.$1)+"». "+yr.externals.entityify(e.reason)},i.default.createElement(u.ResourceName,{text:d})):i.default.createElement(u.ContentWithNames,{loc:"Не удалось восстановить файл «"+yr.externals.entityify(s.I18N.$1)+"»"},i.default.createElement(u.ResourceName,{text:d}));default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(9)),a=n(91),s=n(159),u=n(79),c=n(244);t.getCopyContent=(e=>{var t,n,r,l,d,f,p;const h=null!==(n=null===(t=e.dst)||void 0===t?void 0:t.name)&&void 0!==n?n:"",m=null!==(l=null===(r=e.src)||void 0===r?void 0:r.name)&&void 0!==l?l:"",v=null!==(p=null===(f=o.default.last(null===(d=e.dst)||void 0===d?void 0:d.parents))||void 0===f?void 0:f.name)&&void 0!==p?p:"";switch(e.status){case a.Status.done:return c.isDirectory(e)?i.default.createElement(s.ContentWithNames,{loc:"Папка «"+yr.externals.entityify(u.I18N.$1)+"» скопирована в папку «"+yr.externals.entityify(u.I18N.$2)+"»"},i.default.createElement(s.ResourceName,{text:h}),i.default.createElement(s.ResourceName,{text:v})):e.count?i.default.createElement(s.ContentWithNames,{loc:"Скопировано "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(e.count)+" объект",yr.externals.entityify(e.count)+" объекта",yr.externals.entityify(e.count)+" объектов"],yr.externals.entityify(e.count))+" в папку «"+yr.externals.entityify(u.I18N.$1)+"»"},i.default.createElement(s.ResourceName,{text:v})):i.default.createElement(s.ContentWithNames,{loc:"Файл «"+yr.externals.entityify(u.I18N.$1)+"» скопирован в папку «"+yr.externals.entityify(u.I18N.$2)+"»"},i.default.createElement(s.ResourceName,{text:h}),i.default.createElement(s.ResourceName,{text:v}));case a.Status.failed:return e.reason===a.Reason.NO_SPACE||e.reason===a.Reason.NO_SPACE_OWNER?"Недостаточно свободного места.":c.isDirectory(e)&&e.reason?i.default.createElement(s.ContentWithNames,{loc:"Не удалось скопировать папку «"+yr.externals.entityify(u.I18N.$1)+"» в папку «"+yr.externals.entityify(u.I18N.$2)+"». "+yr.externals.entityify(e.reason)},i.default.createElement(s.ResourceName,{text:m}),i.default.createElement(s.ResourceName,{text:v})):c.isDirectory(e)?i.default.createElement(s.ContentWithNames,{loc:"Не удалось скопировать папку «"+yr.externals.entityify(u.I18N.$1)+"» в папку «"+yr.externals.entityify(u.I18N.$2)+"»"},i.default.createElement(s.ResourceName,{text:m}),i.default.createElement(s.ResourceName,{text:v})):e.reason?i.default.createElement(s.ContentWithNames,{loc:"Не удалось скопировать файл «"+yr.externals.entityify(u.I18N.$1)+"» в папку «"+yr.externals.entityify(u.I18N.$2)+"». "+yr.externals.entityify(e.reason)},i.default.createElement(s.ResourceName,{text:m}),i.default.createElement(s.ResourceName,{text:v})):i.default.createElement(s.ContentWithNames,{loc:"Не удалось скопировать файл «"+yr.externals.entityify(u.I18N.$1)+"» в папку «"+yr.externals.entityify(u.I18N.$2)+"»"},i.default.createElement(s.ResourceName,{text:m}),i.default.createElement(s.ResourceName,{text:v}));default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(91),a=n(79),s=n(159);t.getUploadContent=(e=>{var t;switch(e.status){case o.Status.exists:return"Выберите другое имя — это уже занято другой папкой или файлом";case o.Status.failed:return i.default.createElement(s.ContentWithNames,{loc:"Не удалось загрузить файл «"+yr.externals.entityify(a.I18N.$1)+"»"},i.default.createElement(s.ResourceName,{text:null!==(t=null===e||void 0===e?void 0:e.nameDst)&&void 0!==t?t:""}));default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(91),a=n(244),s=n(79),u=n(159);t.getPublishContent=(e=>{var t,n;const r=null!==(n=null===(t=e.src)||void 0===t?void 0:t.name)&&void 0!==n?n:"";switch(e.status){case o.Status.done:return e.reverse?a.isDirectory(e)?i.default.createElement(u.ContentWithNames,{loc:"Публичная ссылка на папку «"+yr.externals.entityify(s.I18N.$1)+"» удалена"},i.default.createElement(u.ResourceName,{text:r})):i.default.createElement(u.ContentWithNames,{loc:"Публичная ссылка на файл «"+yr.externals.entityify(s.I18N.$1)+"» удалена"},i.default.createElement(u.ResourceName,{text:r})):null;case o.Status.failed:return e.reverse?a.isDirectory(e)?i.default.createElement(u.ContentWithNames,{loc:"Не удалось удалить публичную ссылку на папку «"+yr.externals.entityify(s.I18N.$1)+"»"},i.default.createElement(u.ResourceName,{text:r})):i.default.createElement(u.ContentWithNames,{loc:"Не удалось удалить публичную ссылку на файл «"+yr.externals.entityify(s.I18N.$1)+"»"},i.default.createElement(u.ResourceName,{text:r})):a.isDirectory(e)&&e.reason===o.Reason.NO_SPACE?i.default.createElement(i.default.Fragment,null,i.default.createElement(u.ContentWithNames,{loc:"Не удалось опубликовать папку «"+yr.externals.entityify(s.I18N.$1)+"»"},i.default.createElement(u.ResourceName,{text:r})),". $","На вашем Диске закончилось место"):a.isDirectory(e)?i.default.createElement(u.ContentWithNames,{loc:"Не удалось опубликовать папку «"+yr.externals.entityify(s.I18N.$1)+"»"},i.default.createElement(u.ResourceName,{text:r})):e.reason===o.Reason.NO_SPACE?i.default.createElement(i.default.Fragment,null,i.default.createElement(u.ContentWithNames,{loc:"Не удалось опубликовать файл «"+yr.externals.entityify(s.I18N.$1)+"»"},i.default.createElement(u.ResourceName,{text:r})),". $","На вашем Диске закончилось место"):i.default.createElement(u.ContentWithNames,{loc:"Не удалось опубликовать файл «"+yr.externals.entityify(s.I18N.$1)+"»"},i.default.createElement(u.ResourceName,{text:r}));default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=n(91),s=n(51),{I18N:u}=n(79),c=n(159);t.getInviteAcceptContent=(e=>{var t,n,r,o;if(e.role===a.Role.owner){const r=null!==(t=null===e||void 0===e?void 0:e.userName)&&void 0!==t?t:"";return i.default.createElement(c.ContentWithNames,{loc:"Ваше приглашение в папку «"+yr.externals.entityify(u.$1)+"» было принято. "+yr.externals.entityify(u.$2)+" теперь имеет доступ к файлам в ней."},i.default.createElement(c.ResourceName,{text:null!==(n=null===e||void 0===e?void 0:e.folderName)&&void 0!==n?n:""}),i.default.createElement(c.ResourceName,{text:r}))}const s=null!==(o=null===(r=e.invite)||void 0===r?void 0:r.folder_name)&&void 0!==o?o:"";switch(e.status){case a.Status.done:return i.default.createElement(c.ContentWithNames,{loc:"Приглашение в папку «"+yr.externals.entityify(u.$1)+"» принято"},i.default.createElement(c.ResourceName,{text:s}));case a.Status.failed:return i.default.createElement(c.ContentWithNames,{loc:"Не удалось принять приглашение в папку «"+yr.externals.entityify(u.$1)+"»"},i.default.createElement(c.ResourceName,{text:s}));default:return null}}),t.getInviteRejectContent=(e=>{var t,n;const r=null!==(n=null===(t=e.invite)||void 0===t?void 0:t.folder_name)&&void 0!==n?n:"";switch(e.status){case a.Status.done:return i.default.createElement(c.ContentWithNames,{loc:"Приглашение в папку «"+yr.externals.entityify(u.$1)+"» отклонено"},i.default.createElement(c.ResourceName,{text:r}));case a.Status.failed:return i.default.createElement(c.ContentWithNames,{loc:"Не удалось отклонить приглашение в папку «"+yr.externals.entityify(u.$1)+"»"},i.default.createElement(c.ResourceName,{text:r}));default:return null}}),t.InviteSendContent=(({data:e})=>{const t=o.useSelector(e=>e.config.urlsBase.support);switch(e.status){case a.Status.failed:return i.default.createElement(u,{loc:"Не удалось пригласить в общую папку. Доступ к Диску "+yr.externals.entityify(u.$1)},i.default.createElement(s.Link,{href:`${t}/disk/enlarge/disk-space.html#light`,view:"default",target:"_blank"},"ограничен"));default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(91),a=n(159),s=n(79);t.getFolderAccessContent=(e=>{const{role:t,rights:n,nameFolder:r=""}=e;if(t===o.Role.actor){if(!n)return i.default.createElement(a.ContentWithNames,{loc:"Владелец закрыл доступ к папке «"+yr.externals.entityify(s.I18N.$1)+"». Она будет удалена с вашего Диска."},i.default.createElement(a.ResourceName,{text:r}));if(660===n)return i.default.createElement(a.ContentWithNames,{loc:"Права доступа к папке «"+yr.externals.entityify(s.I18N.$1)+"» изменились: теперь у вас есть полный доступ."},i.default.createElement(a.ResourceName,{text:r}));if(640===n)return i.default.createElement(a.ContentWithNames,{loc:"Права доступа к папке «"+yr.externals.entityify(s.I18N.$1)+"» изменились: вы можете только просматривать файлы."},i.default.createElement(a.ResourceName,{text:r}))}return null})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(51),a=n(79),s=n(144),u=r(n(14)),c=n(91),l=n(159);t.AlbumCreate=(({data:e})=>{switch(e.status){case c.Status.done:return i.default.createElement(l.ContentWithNames,{loc:"Вы создали альбом «"+yr.externals.entityify(a.I18N.$1)+"»"},i.default.createElement(o.Link,{className:"notification__link",href:e.url},i.default.createElement(l.ResourceName,{text:e.title||""})));case c.Status.failed:return i.default.createElement(i.default.Fragment,null,"Не удалось создать альбом");default:return null}}),t.getAlbumRemoveContent=(e=>{const{status:t,title:n}=e;switch(t){case c.Status.done:return n?i.default.createElement(l.ContentWithNames,{loc:"Альбом «"+yr.externals.entityify(a.I18N.$1)+"» был удален"},i.default.createElement(l.ResourceName,{text:n})):"Альбом был удален";case c.Status.failed:return n?i.default.createElement(l.ContentWithNames,{loc:"Не удалось удалить альбом «"+yr.externals.entityify(a.I18N.$1)+"»"},i.default.createElement(l.ResourceName,{text:n})):"Не получилось удалить альбом";default:return null}}),t.getAlbumPublishContent=(e=>{var t;const{status:n,src:r,reverse:o}=e,s=null!==(t=null===r||void 0===r?void 0:r.title)&&void 0!==t?t:"";switch(n){case c.Status.done:return o?i.default.createElement(l.ContentWithNames,{loc:"Теперь альбом «"+yr.externals.entityify(a.I18N.$1)+"» виден только вам"},i.default.createElement(l.ResourceName,{text:s})):i.default.createElement(l.ContentWithNames,{loc:"Опубликован альбом «"+yr.externals.entityify(a.I18N.$1)+"»"},i.default.createElement(l.ResourceName,{text:s}));case c.Status.failed:return o?i.default.createElement(l.ContentWithNames,{loc:"Не удалось удалить публичную ссылку на альбом «"+yr.externals.entityify(a.I18N.$1)+"»"},i.default.createElement(l.ResourceName,{text:s})):i.default.createElement(l.ContentWithNames,{loc:"Не удалось опубликовать альбом «"+yr.externals.entityify(a.I18N.$1)+"»"},i.default.createElement(l.ResourceName,{text:s}));default:return null}}),t.AddToAlbum=(({data:e})=>{var t,n,r;const{status:d,typeAddition:f,count:p=""}=e,h=null!==(n=null===(t=e.dst)||void 0===t?void 0:t.title)&&void 0!==n?n:"";switch(d){case c.Status.done:{const t=i.default.createElement(o.Link,{className:"notification__link",href:`/client/albums/${null===(r=null===e||void 0===e?void 0:e.dst)||void 0===r?void 0:r.id}`,onClick:()=>u.default.count("navigation","via notification","albums")},i.default.createElement(l.ResourceName,{text:h}));return"half"===f?h?i.default.createElement(l.ContentWithNames,{loc:s.capitalize(__i18n__.i18n.convert(["один новый файл",yr.externals.entityify(p)+" новый файл",yr.externals.entityify(p)+" новых файла",yr.externals.entityify(p)+" новых файлов"],yr.externals.entityify(p))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],yr.externals.entityify(p))+" в альбом «"+yr.externals.entityify(a.I18N.$1)+"»")},t):i.default.createElement(i.default.Fragment,null,__i18n__.i18n.convert(["один новый файл",yr.externals.entityify(p)+" новый файл",yr.externals.entityify(p)+" новых файла",yr.externals.entityify(p)+" новых файлов"],yr.externals.entityify(p))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],yr.externals.entityify(p))+" в альбом"):1===p?h?i.default.createElement(l.ContentWithNames,{loc:s.capitalize("Файл добавлен в альбом «"+yr.externals.entityify(a.I18N.$1)+"»")},t):i.default.createElement(i.default.Fragment,null,"Файл добавлен в альбом"):h?i.default.createElement(l.ContentWithNames,{loc:s.capitalize(__i18n__.i18n.convert(["1 файл",yr.externals.entityify(p)+" файл",yr.externals.entityify(p)+" файла",yr.externals.entityify(p)+" файлов"],yr.externals.entityify(p))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],yr.externals.entityify(p))+" в альбом «"+yr.externals.entityify(a.I18N.$1)+"»")},t):i.default.createElement(i.default.Fragment,null,__i18n__.i18n.convert(["1 файл",yr.externals.entityify(p)+" файл",yr.externals.entityify(p)+" файла",yr.externals.entityify(p)+" файлов"],yr.externals.entityify(p))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],yr.externals.entityify(p))+" в альбом")}case c.Status.failed:return"none"===f?i.default.createElement(i.default.Fragment,null,"Выбранные файлы уже находятся в альбоме"):h?i.default.createElement(l.ContentWithNames,{loc:s.capitalize("Не удалось добавить "+__i18n__.i18n.convert(["1 файл",yr.externals.entityify(p)+" файл",yr.externals.entityify(p)+" файла",yr.externals.entityify(p)+" файлов"],yr.externals.entityify(p))+" в альбом «"+yr.externals.entityify(a.I18N.$1)+"»")},i.default.createElement(l.ResourceName,{text:h})):i.default.createElement(i.default.Fragment,null,"Не удалось добавить "+__i18n__.i18n.convert(["1 файл",yr.externals.entityify(p)+" файл",yr.externals.entityify(p)+" файла",yr.externals.entityify(p)+" файлов"],yr.externals.entityify(p))+" в альбом");default:return null}}),t.getAlbumRemoveResourceContent=(e=>{const{status:t,count:n=""}=e;switch(t){case c.Status.done:return n?__i18n__.i18n.convert(["1 файл",yr.externals.entityify(n)+" файл",yr.externals.entityify(n)+" файла",yr.externals.entityify(n)+" файлов"],yr.externals.entityify(n))+" "+__i18n__.i18n.convert(["убран","убран","убрано","убрано"],yr.externals.entityify(n))+" из альбома":"Файл убран из альбома";case c.Status.failed:return n?"Не удалось убрать "+__i18n__.i18n.convert(["1 файл",yr.externals.entityify(n)+" файл",yr.externals.entityify(n)+" файла",yr.externals.entityify(n)+" файлов"],yr.externals.entityify(n))+" из альбома":"Не удалось удалить файл из альбома";default:return null}}),t.getAlbumEditContent=(e=>{const{status:t,target:n,reason:r}=e;switch(t){case c.Status.done:return"cover"===n?"Обложка изменена":null;case c.Status.failed:return"title"===n?"Не удалось переименовать альбом":"cover"===n?"Не удалось изменить обложку":r===c.Reason.NAME_HAS_SLASH?"Название альбома не может содержать символ «/»":null;default:return null}}),t.getExcludeFromAlbumContent=(e=>{const{status:t,count:n=""}=e;switch(t){case c.Status.done:return n?__i18n__.i18n.convert([yr.externals.entityify(n)+" фото",yr.externals.entityify(n)+" фото",yr.externals.entityify(n)+" фото",yr.externals.entityify(n)+" фото"],yr.externals.entityify(n))+" скрыто из альбома":"Фото скрыто из альбома";case c.Status.failed:return n?"Не удалось скрыть "+__i18n__.i18n.convert([yr.externals.entityify(n)+" фото",yr.externals.entityify(n)+" фото",yr.externals.entityify(n)+" фото",yr.externals.entityify(n)+" фото"],yr.externals.entityify(n))+" из альбома":"Не удалось скрыть фото из альбома";case c.Status.cannotExclude:return"Некоторые фото нельзя убрать из альбома";default:return null}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.default=(({data:e})=>{const{reasonText:t,reasonTextAux:n}=e;return t&&n?i.default.createElement(i.default.Fragment,null,t,i.default.createElement("br",null),n):t?i.default.createElement(i.default.Fragment,null,t):i.default.createElement(i.default.Fragment,null,"Невозможно выполнить операцию. Файл доступен только для просмотра и скачивания.")})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=n(115),s=n(51),u=n(79),c=r(n(63)),l=o.connect(e=>({downloadAppLinks:{mac:e.config.links.downloadApp.mac,win:e.config.links.downloadApp.win,linux:e.config.links.downloadApp.linux},OSId:a.getOsId(e),uploadParam:e.config.sourcesDownloadApp.upload})),d={mac:"приложения для macOS",win:"программы для Windows",linux:"программы для Linux"};t.default=l(({OSId:e,downloadAppLinks:t,uploadParam:n})=>{var r,o;const a=null!==(r=t[e])&&void 0!==r?r:t.linux;return i.default.createElement(u.I18N,{className:"notification__text notification__text_long",loc:"Ваш браузер не поддерживает загрузку папок. Загрузите файлы по одному или с помощью "+yr.externals.entityify(u.I18N.$1)},i.default.createElement(s.Link,{target:"_blank",className:"notification__link",href:c.default.addParams(a,{src:n})},null!==(o=d[e])&&void 0!==o?o:d.linux))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(51),a=n(79);t.BrowserScrollLimit=(({data:e})=>i.default.createElement(a.I18N,{className:"notification__text notification__text_long",loc:"Показаны не все фотографии. Ваш браузер не поддерживает отображение большого количества фото. "+yr.externals.entityify(a.I18N.$1_OPEN)+"Установите Яндекс.Браузер"+yr.externals.entityify(a.I18N.$1_CLOSE)+", чтобы увидеть больше"},i.default.createElement(o.Link,{className:"notification__link",target:"_blank",href:e.link}))),t.default=t.BrowserScrollLimit}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){var r=n(101);e.exports=function(){return r.Date.now()}}),(function(e,t,n){var r=n(2047),i=n(128),o=n(230),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?a:+e}}),(function(e,t,n){var r=n(2048),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}}),(function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(2415);n(2063),t.withViewListTileRadio=r.withBemMod(i.cnRadiobox(),{view:"listtile-radio"})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"s"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.375 6.492c1.167 0 2.042-1.245 2.042-2.695 0-1.45-.753-2.297-2.042-2.297-1.289 0-2.042.847-2.042 2.297 0 1.45.875 2.695 2.042 2.695Zm0 4.008C1.637 10.5.552 9.992.12 9.642a.355.355 0 0 1-.118-.294C0 8.242 1.33 7.5 3.373 7.5s3.376.742 3.376 1.847a.356.356 0 0 1-.118.295c-.433.35-1.518.858-3.256.858Zm4.684-.535c1.583.107 3.11-.135 3.834-.593a.23.23 0 0 0 .105-.212c0-.698-1.07-1.568-2.998-1.568-.679 0-1.434.063-1.883.193.58.425.942 1.186.942 2.18ZM9 6.57c-.98 0-1.676-1.077-1.676-2.333 0-1.256.594-1.99 1.676-1.99 1.082 0 1.676.734 1.676 1.99S9.98 6.571 9 6.571Z"})}}]),n})(n(12).default)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(1093),s=n(1094),u=n(561),c=n(582),l=i(n(1193));n(2075);const d=i(n(11)),f=()=>d.default()("ListingTypeSelect"),p={tile:u.displayTilesIconProvider,icons:s.displayIconsIconProvider,list:a.displayListIconProvider,wow:c.displayWowIconProvider};t.default=(({value:e,onChange:t,typesNames:n,title:r,values:i})=>{const a=o.useCallback(e=>{t(e.target.value)},[t]);return o.default.createElement(l.default,{size:"m",view:"default",value:e,onChange:a,className:f(),menuClassName:f().e("Menu"),title:r,options:i.map(e=>({value:e,content:n[e],icon:p[e]}))})})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(1196)),a=r(n(1197)),s=r(n(605));t.default=(({toggleNextStep:e})=>i.default.createElement(s.default,{imageSrc:o.default,imageSrc2x:a.default,title:"Альбом семьи в вашем тарифе",description:"Делитесь эмоциями и воспоминаниями  в семейном альбоме.",buttonText:"Продолжить",onSubmit:e}))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=r(n(2083)),s=r(n(2084)),u=r(n(605)),c=r(n(14));t.default=o.connect(({config:{urlsBase:{passport:e}}})=>({passport:e}))(({toggleNextStep:e,passport:t})=>i.default.createElement(u.default,{imageSrc:a.default,imageSrc2x:s.default,title:"В вашей семье нет участников",description:"Добавьте членов семьи в Яндекс ID и они смогут смотреть и добавлять фото и видео.",buttonText:"Добавить фото",onSubmit:e,additionalButtonLink:{text:"Управлять семьей",url:t+"/family",onClick:()=>{c.default.count("family album onboarding","empty","additional click")}}}))}),(function(e,t){e.exports="/s3/disk/_/_4Sl5NxKzwyn3IMg8dCuVTiRAJ2i.png"}),(function(e,t){e.exports="/s3/disk/_/_cMKzw856pwrenRzZvNlMqLvTsFi.png"}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=n(79),s=r(n(2086)),u=r(n(605)),c=r(n(11));t.default=o.connect(({config:{urlsBase:{support:e}}})=>({support:e}))(({toggleNextStep:e,support:t})=>i.default.createElement(u.default,{title:"Все участники семьи смогут смотреть и добавлять фото и видео",description:i.default.createElement(a.I18N,{loc:"Для этого им нужен аккаунт на Яндексе и Диск. "+yr.externals.entityify(a.I18N.$1)},i.default.createElement("a",{className:c.default()("family-list-step").e("link"),href:t+"/disk/actions-files/spec-folders/albums.html#family-album__add_members",target:"_blank",rel:"noreferrer"},"Подробнее")),buttonText:"Добавить фото",onSubmit:e},i.default.createElement(s.default,null)))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(58),u=i(n(11));n(2087);const c=n(81),l=n(86),d=n(1096),f=()=>u.default()("scrollable-list");t.default=a.connect(e=>({urlAvatar:e.config.urlAvatar,members:s.getFamilyMembers(e),isDark:c.isContentDark(l.getThemeName(e))}))(({members:e,urlAvatar:t,isDark:n})=>{const[r,i]=o.useState(!1),[a,s]=o.useState(!1),u=o.useRef(null);o.useEffect(()=>{u.current&&u.current.offsetHeight<u.current.scrollHeight&&s(!0)},[u]);const c=o.useCallback(({target:e})=>{e.offsetHeight+e.scrollTop>=e.scrollHeight?s(!1):0===e.scrollTop?i(!1):(s(!0),i(!0))},[s,i]);return o.default.createElement("div",{className:f().m({isTouch:!1,dark:n,"fade-top":r,"fade-bottom":a})},o.default.createElement("div",{className:f().e("content"),onScroll:c,ref:u},o.default.createElement("div",{className:f().e("horizontal-wrapper")},o.default.createElement(d.FamilyMembersList,{members:e,urlAvatar:t}))))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiStepPopup=void 0;var r=n(2090);Object.defineProperty(t,"MultiStepPopup",{enumerable:!0,get:function(){return r.MultiStepPopup}})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiStepPopup=void 0;const s=o(n(0)),u=a(n(87)),c=a(n(2091)),l=n(2097),d=a(n(2099)),f=a(n(2103)),p=a(n(2105));function h({onSkip:e,skipButtonText:t}){return e&&t?s.default.createElement("div",{className:f.default.SkipButtonWrapper},s.default.createElement(l.Button,{onClick:e,view:"link",size:"m",className:f.default.SkipButton},t)):null}t.MultiStepPopup=function(e){const{stepsTotal:t,currentStep:n,currentStepIndex:r,visible:i,className:o,onClose:a,onSkip:m,isTouch:v,skipButtonText:g,finishButtonText:y,children:b,contentVerticalAlign:_}=e,O=r===t-1,E=n.skipButtonText||(O?y:g),w=n.hasSkipButton?E:void 0,S=O?a:m,C=n.hasSkipButton?S:void 0,x=s.useCallback(e=>s.default.createElement(s.default.Fragment,null,s.default.createElement(p.default,{className:u.default(e,{[f.default.isTouch]:v},f.default.whiteCloseIcon),url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xLjc5MyAxLjc5M2ExIDEgMCAwMDAgMS40MTRMNi41ODYgOGwtNC43OTMgNC43OTNhMSAxIDAgMTAxLjQxNCAxLjQxNEw4IDkuNDE0bDQuNzkzIDQuNzkzYTEgMSAwIDAwMS40MTQtMS40MTRMOS40MTQgOGw0Ljc5My00Ljc5M2ExIDEgMCAwMC0xLjQxNC0xLjQxNEw4IDYuNTg2IDMuMjA3IDEuNzkzYTEgMSAwIDAwLTEuNDE0IDB6IiBmaWxsPSIjZmZmZmZmIiBmaWxsLW9wYWNpdHk9Ii44Ii8+PC9zdmc+Cg=="}),s.default.createElement(p.default,{className:u.default(e,{[f.default.isTouch]:v},f.default.blackCloseIcon),url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xLjc5MyAxLjc5NmExIDEgMCAwIDAgMCAxLjQxNGw0Ljc5MyA0Ljc5My00Ljc5MyA0Ljc5M2ExIDEgMCAwIDAgMS40MTQgMS40MTRMOCA5LjQxN2w0Ljc5MyA0Ljc5M2ExIDEgMCAwIDAgMS40MTQtMS40MTRMOS40MTQgOC4wMDNsNC43OTMtNC43OTNhMSAxIDAgMCAwLTEuNDE0LTEuNDE0TDggNi41ODkgMy4yMDcgMS43OTZhMSAxIDAgMCAwLTEuNDE0IDB6IiBmaWxsPSIjMDAwIi8+PC9zdmc+"})),[v]);return s.default.createElement(c.default,{visible:i,className:u.default(f.default.Dialog,o,{[f.default.isTouch]:v}),trapFocus:!0,contentVerticalAlign:_},s.default.createElement(d.default,{total:t,current:r,isTouch:v}),b,s.default.createElement(h,{onSkip:C,skipButtonText:w}),n.hasCloseButton&&s.default.createElement(l.Button,{className:f.default.Close,onClick:a,size:"m",view:"clear",icon:x}))}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(2092);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(87)),a=r(n(2093)),s=r(n(2095));t.default=(({className:e,visible:t,onClose:n,keepMounted:r=!1,children:u,trapFocus:c,contentVerticalAlign:l})=>i.default.createElement(a.default,{theme:"normal",visible:t,onClose:n,className:o.default(s.default.Container,e),keepMounted:r,trapFocus:Boolean(c),contentVerticalAlign:l},u))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(2094);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1137),o=n(911),a=n(910),s=r.compose(i.withThemeNormal,o.withOutsideClick,a.withZIndex)(i.Modal);t.default=s}),(function(e,t,n){"use strict";n.r(t);n(2096);t.default={Container:"Dialog_Container_CDNCE",CloseButton:"Dialog_CloseButton_L8oSL",Icon:"Dialog_Icon_-dDVW"}}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var r=n(2098);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return r.Button}})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const r=n(3),i=n(412);t.Button=r.compose(r.composeU(i.withSizeM,i.withSizeXXL),r.composeU(i.withViewClear,i.withViewLink,i.withViewBrand))(i.Button)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(2100);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(0)),u=a(n(87)),c=a(n(2101));t.default=s.memo(({total:e,current:t,isTouch:n})=>{const r=s.useMemo(()=>[...new Array(e)],[e]);return s.default.createElement("div",{className:u.default(c.default.Carousel,{[c.default.isTouch]:n})},r.map((e,n)=>s.default.createElement("span",{key:`step-${n}`,className:u.default(c.default.CarouselElement,{[c.default.Selected]:n===t})})))})}),(function(e,t,n){"use strict";n.r(t);n(2102);t.default={Carousel:"Carousel_Carousel_36jKj",CarouselElement:"Carousel_CarouselElement_ZhGCZ",Selected:"Carousel_Selected_r7i-c",isTouch:"Carousel_isTouch_d6Uot",SkipButtonWrapper:"Carousel_SkipButtonWrapper_e1gYy"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(2104);t.default={Dialog:"MultiStepPopup_Dialog_TFcLH",Close:"MultiStepPopup_Close_Z8cFK",SkipButtonWrapper:"MultiStepPopup_SkipButtonWrapper_JOqh1",whiteCloseIcon:"MultiStepPopup_whiteCloseIcon_OMXwp",blackCloseIcon:"MultiStepPopup_blackCloseIcon_Zru3I",isTouch:"MultiStepPopup_isTouch_H09jD"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(2106);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(3),a=n(179),s=o.compose(a.withGlyphTypeCrossWebsearch)(a.Icon);t.default=(({url:e,className:t,glyph:n})=>i.default.createElement(s,{className:t,url:e,glyph:n}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMultiStepState=void 0;const r=n(0);function i(e,t){if(t<0)return 0;const n=e.length-1;return t>n?n:t}t.useMultiStepState=function(e,t=0){const[n,o]=r.useState(i(e,t)),a=r.useCallback(t=>{o(i(e,t))},[e]),s=r.useCallback(()=>{a(n+1)},[a,n]),u=r.useCallback(()=>{a(n-1)},[a,n]),c=r.useCallback(t=>{const n=e.findIndex(({id:e})=>e===t);i(e,n)===n&&a(n)},[a,e]),l=e[i(e,n)],d=i(e,n+1)===n;return{currentStepIndex:n,currentStep:l,toggleNextStep:s,togglePreviousStep:u,toggleStepByIndex:a,toggleStepById:c,isLastStep:d}}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(11)),a=i(n(0)),s=r(n(2111)),u=n(190),c=()=>o.default()("journal");t.default=(({locale:e,rootPath:t,diskPath:n,trashPath:r,countMetrika:i,fetchGroup:o,onSetVideoAutoplay:l,isPersonal:d,cluster:f})=>{const p=a.useMemo(()=>u.getClusterTitle(new Date(f.date)),[f]);return a.default.createElement("div",{className:c().e("cluster")},a.default.createElement("div",{className:c().e("cluster-title")},p),f.groups.map(u=>a.default.createElement(s.default,{key:u.group.id,group:u,locale:e,rootPath:t,diskPath:n,trashPath:r,countMetrika:i,fetchGroup:o,onSetVideoAutoplay:l,isPersonal:d})))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(9)),a=r(n(11)),s=i(n(0)),u=r(n(54)),c=r(n(23)),l=r(n(111)),d=r(n(262)),f=r(n(2112)),p=n(735),h=n(79),m=n(51),v=n(26),g=r(n(113)),y=r(n(925)),b=n(275),_=n(295),O=n(190),E=()=>a.default()("journal"),w=["click","root"],S=["click","trash"],C=["folder"],x=["file"],T=["more click"],P=({user:e,display:t="—"})=>e?s.default.createElement("span",{className:E().e("user")},o.default.has(e,"first_name")?[e.first_name,e.last_name].filter(Boolean).join(" "):e.login):s.default.createElement("span",null,t),k=({event:e,children:t})=>s.default.createElement(h.I18N,{loc:O.getTypedResourceName(e)},t),j=({event:e,action:t,rootPath:n,countMetrika:r})=>{const{path:i}=e,o=s.useMemo(()=>O.getEventResourceName(e),[e]),a=s.useMemo(()=>t===_.NavigationType.goToParent?i.startsWith("/attach/")?"Почтовые вложения":i.startsWith("/photounlim/")?"Все фото":c.default.parentname(i):o,[t,i,o]),l=s.useMemo(()=>O.getResourceType(e)===_.ResourceType.folder||t===_.NavigationType.goToParent?C:x.concat(c.default.extname(o)),[e,o,t]),d=s.useMemo(()=>O.getEventResourceUrl(e,n,t),[e,n,t]),f=s.useCallback(()=>{r(...l),u.default.go(d)},[l,d,r]);return e.event_type!==_.JournalEventType.dropTrash&&e.event_type!==_.JournalEventType.appendTrash&&e.resource?s.default.createElement(m.Link,{title:a,view:"default",className:E().e("link"),onClick:f},a):s.default.createElement("span",null,a)},R=(e,t,n,r)=>"/disk"===c.default.dirname(e.path)?s.default.createElement(m.Link,{view:"default",className:E().e("link"),onClick:()=>{r(...w),u.default.go(`/client${n}`)}}):s.default.createElement(j,{action:_.NavigationType.goToParent,event:e,rootPath:t,countMetrika:r}),I=({event:e,count:t,rootPath:n,countMetrika:r})=>t>1?s.default.createElement("span",null,O.getTypedResourcesNames(e,t)):s.default.createElement(k,{event:e},s.default.createElement(j,{countMetrika:r,rootPath:n,action:_.NavigationType.setSelected,event:e})),A=({event:e})=>s.default.createElement(k,{event:e},c.default.basename(e.from)),D=({event:e})=>{const{album:t,album_title:n}=void 0===e?{}:e,r=s.useMemo(()=>n||(null===t||void 0===t?void 0:t.title)||"Люди на фото",[n,t]),i=s.useMemo(()=>Boolean(t)&&!(n||(null===t||void 0===t?void 0:t.title)),[n,t]),o=s.useCallback(()=>u.default.go("/client/albums/"+(t&&t.album_id?t.album_id:"faces")),[t]);return i?s.default.createElement(m.Link,{view:"default",onClick:o},r):s.default.createElement("span",null,r)},M=({event:e})=>s.default.createElement("span",null,O.getPaymentAmount(e)),N=({event:e})=>s.default.createElement("span",null,O.getPaymentReason(e)),L=({className:e,group:t,locale:n,trashPath:r,diskPath:i,rootPath:o,countMetrika:a,toggleUsersListingVisibility:c})=>{const{events:[p],group:{type:v,user:g,owner:y,itemsCount:b,isCurrentUserOwner:w}}=t,C=s.useMemo(()=>O.getGroupDescription(t),[t]);switch(v){case _.JournalEventType.mkdir:case _.JournalEventType.copy:case _.JournalEventType.move:case _.JournalEventType.store:case _.JournalEventType.storeUpdate:case _.JournalEventType.storeDownload:case _.JournalEventType.setPrivate:return s.default.createElement(h.I18N,{loc:C,className:e},s.default.createElement(I,{countMetrika:a,rootPath:o,event:p,count:b}),R(p,o,i,a),s.default.createElement(P,{user:g}));case _.JournalEventType.setPublic:return s.default.createElement(h.I18N,{loc:C,className:e},p.resource_public_url?s.default.createElement(m.Link,{view:"default",href:p.resource_public_url,"data-external":"1"}):s.default.createElement("span",null),s.default.createElement(I,{countMetrika:a,rootPath:o,event:p,count:b}),R(p,o,i,a),s.default.createElement(P,{user:g}));case _.JournalEventType.photostreamStore:case _.JournalEventType.photounlimStore:return s.default.createElement(h.I18N,{loc:C,className:e},R(p,o,i,a),s.default.createElement(P,{user:g}));case _.JournalEventType.aviary:return s.default.createElement(h.I18N,{loc:C,className:e},s.default.createElement(j,{countMetrika:a,rootPath:o,action:_.NavigationType.setSelected,event:p}),R(p,o,i,a),s.default.createElement(P,{user:g}));case _.JournalEventType.rm:case _.JournalEventType.appendTrash:case _.JournalEventType.dropTrash:case _.JournalEventType.dropAllTrash:case _.JournalEventType.restoreTrash:return s.default.createElement(h.I18N,{loc:C,className:e},s.default.createElement(I,{countMetrika:a,rootPath:o,event:p,count:b}),s.default.createElement(m.Link,{view:"default",className:E().e("link"),onClick:()=>{a(...S),u.default.go(`/client${r}`)}}),s.default.createElement(P,{user:g}));case _.JournalEventType.rename:return s.default.createElement(h.I18N,{loc:C,className:e},s.default.createElement(A,{event:p}),s.default.createElement(j,{countMetrika:a,rootPath:o,action:_.NavigationType.setSelected,event:p}),s.default.createElement(P,{user:g}));case _.JournalEventType.importSocial:return s.default.createElement(h.I18N,{loc:C,className:e},s.default.createElement(I,{countMetrika:a,rootPath:o,event:p,count:b}),s.default.createElement("span",null,f.default.getTitleSocial(p.provider_id)),s.default.createElement(j,{countMetrika:a,rootPath:o,action:_.NavigationType.goToParent,event:p}),s.default.createElement(P,{user:g}));case _.JournalEventType.promoEnlarge:case _.JournalEventType.promoReduce:return s.default.createElement(h.I18N,{loc:C,className:e},l.default.format(Math.abs(p.new_limit-p.old_limit)),d.default.timestampToDate(Date.parse(p.service_end_date)/1e3,"DD.MM.YYYY"),p.product_names[n]);case _.JournalEventType.createAlbum:case _.JournalEventType.removeAlbum:case _.JournalEventType.createAlbumItem:case _.JournalEventType.appendAlbumItems:case _.JournalEventType.removeAlbumItems:case _.JournalEventType.changeAlbumPulicity:case _.JournalEventType.changeAlbumCover:case _.JournalEventType.changeAlbumTitle:return s.default.createElement(h.I18N,{loc:C,className:e},s.default.createElement(D,{event:p}));case _.JournalEventType.sentInvite:case _.JournalEventType.activateInvite:return C?s.default.createElement(h.I18N,{loc:C,className:e},s.default.createElement(P,{user:g||y,display:p.provider_login})):s.default.createElement("span",null);case _.JournalEventType.buy:case _.JournalEventType.prolong:case _.JournalEventType.prolongError:case _.JournalEventType.subscribe:case _.JournalEventType.unsubscribe:return C?s.default.createElement(h.I18N,{loc:C},s.default.createElement(M,{event:p}),s.default.createElement(N,{event:p})):s.default.createElement("span",null);case _.JournalEventType.inviteUser:case _.JournalEventType.changeRights:case _.JournalEventType.kickFromGroup:case _.JournalEventType.activateShare:case _.JournalEventType.rejectInvite:case _.JournalEventType.removeInvite:case _.JournalEventType.changeInviteRights:case _.JournalEventType.leaveGroup:case _.JournalEventType.unshareFolderUser:return C?s.default.createElement(h.I18N,{loc:C,className:e},s.default.createElement(P,{user:w?g:y,display:p.provider_login}),s.default.createElement(j,{countMetrika:a,rootPath:o,action:_.NavigationType.setSelected,event:p}),v===_.JournalEventType.unshareFolderUser?s.default.createElement(m.Link,{view:"default",className:E().e("link"),onClick:c}):void 0):s.default.createElement("span",null);case _.JournalEventType.addComment:case _.JournalEventType.likeComment:case _.JournalEventType.dislikeComment:return s.default.createElement(h.I18N,{loc:C,className:e},s.default.createElement(m.Link,{view:"default",className:E().e("link"),href:p.resource_public_url}));default:return s.default.createElement("span",{className:e})}},F=({event:e})=>s.default.createElement("div",{className:E().e("listing-item")},s.default.createElement("div",{className:E().e("listing-item-title")},O.getGroupTitle(e.event_date)),s.default.createElement(P,{user:e.user})),B=({event:e,rootPath:t,countMetrika:n})=>s.default.createElement("div",{className:E().e("listing-item")},s.default.createElement("div",{className:E().e("listing-item-title")},O.getGroupTitle(e.event_date)),s.default.createElement(j,{countMetrika:n,rootPath:t,action:_.NavigationType.setSelected,event:e})),U=({event:e,isStub:t,rootPath:n,children:r,resourceType:i,countMetrika:o,onSetVideoAutoplay:a})=>{const l=t||e.event_type===_.JournalEventType.appendTrash?_.NavigationType.setSelected:_.NavigationType.openSlider,d=O.getEventResourceUrl(e,n,l),f=O.getEventResourceName(e),h=O.getGroupTitle(e.event_date),v=s.useCallback(()=>{var t;i===_.ResourceType.video&&(null===(t=e.resource)||void 0===t?void 0:t.path)&&a(c.default.normalize(e.resource.path)),o("thumbnail",i),u.default.go(d)},[i,d,o,a,e]),g=p.classnames(E().e("listing-item-preview").m({stub:t,[i]:!0}),E().e("link"));return s.default.createElement(m.Link,{className:g,view:"default",onClick:v,title:`${h} ${f}`},r)},z=({event:e})=>{var t,n;const r=O.getResourceType(e);return r===_.ResourceType.photo?(null===(t=e.resource)||void 0===t?void 0:t.preview)?s.default.createElement("span",{className:E().e("listing-item-poster"),style:{backgroundImage:`url(${e.resource.preview})`}}):s.default.createElement(g.default,{type:"file",mediatype:"image",size:"m"}):r===_.ResourceType.video?s.default.createElement(s.default.Fragment,null,(null===(n=e.resource)||void 0===n?void 0:n.preview)?s.default.createElement("span",{className:E().e("listing-item-poster"),style:{backgroundImage:`url(${e.resource.preview})`}}):null,s.default.createElement(y.default,{className:E().e("play-icon"),size:"xl",iconSize:"xl"})):null},V=({event:e,rootPath:t,countMetrika:n,onSetVideoAutoplay:r})=>{var i;const o=O.getEventResourceName(e),a=O.getResourceType(e);return!e.resource||a!==_.ResourceType.photo&&a!==_.ResourceType.video?s.default.createElement("span",{className:E().e("listing-stub"),title:o?"Файл «"+yr.externals.entityify(o)+"» был перемещен или удален.":void 0}):s.default.createElement(U,{onSetVideoAutoplay:r,event:e,countMetrika:n,rootPath:t,resourceType:a,isStub:!(null===(i=e.resource)||void 0===i?void 0:i.preview)},s.default.createElement(z,{event:e}))};const H=e=>{const{countMetrika:t,fetchGroup:n,isUsersListingCollapsed:r,group:{events:i,fetching:o,group:{id:a,itemsCount:u}}}=e,c=O.getListingType(e.group),[l,d]=s.useState(c===_.ListingType.names&&i.length>b.contractListingAtLength),f=s.useMemo(()=>l?i.slice(0,b.contractedListingSize):i,[i,l]),p=s.useMemo(()=>u-i.length<b.eventsSize?"Показать все":l?"Показать ещё":"Ещё "+yr.externals.entityify(b.eventsSize),[i,u,l]),h=s.useCallback(()=>n(a),[a,n]),m=s.useCallback(()=>{l?(t(...T.concat("collapse")),d(!1)):(t(...T.concat("fetch")),h())},[l,d,h,t]);if(c){const t=(function(e){switch(e){case _.ListingType.images:return V;case _.ListingType.users:return F;default:return B}})(c);return c===_.ListingType.users&&r?null:s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:E().e("listing").m({media:c===_.ListingType.images})},f.map(n=>s.default.createElement(t,Object.assign({key:n.id,event:n},e)))),l||i.length<u?s.default.createElement(v.Button,{size:"xxs",view:"raised",disabled:o,onClick:m,className:E().e("more-button")},p):null)}return null},W=({group:e})=>s.default.createElement("span",{className:E().e("group-platform")},O.getPlatformName(e));t.default=(e=>{const{group:t,isPersonal:n}=e,r=s.useMemo(()=>O.getGroupTitle(t.group.max_date),[t]),[i,o]=s.useState(!0),a=s.useCallback(()=>{o(!i)},[i,o]);return s.default.createElement("div",{className:E().e("group-wrapper")},s.default.createElement("div",{className:E().e("group")},s.default.createElement("div",{className:E().e("group-title")},r),s.default.createElement(L,Object.assign({},e,{className:E().e("group-description"),toggleUsersListingVisibility:a})),n?s.default.createElement(W,Object.assign({},e)):null),s.default.createElement(H,Object.assign({},e,{isUsersListingCollapsed:i})))})}),(function(e,t,n){var r={mail:"Почта",vkontakte:"ВКонтакте",twitter:"Twitter",facebook:"Facebook",odnoklassniki:"Одноклассники",gplus:"Google+",moimir:"Мой мир",google:"Google",qr:"QR код",instagram:"Instagram"};e.exports={getTitleSocial:function(e){return r[e]}}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(79),a=n(16),s=r(n(11)),u=r(n(1187)),c=r(n(1188)),l=r(n(1189)),d=n(24);n(1190);const f=()=>s.default()("listing-search-stub");t.default=a.connect(({page:{search:e},resources:t})=>{const n=d.getCurrentVirtualDisk(e.scope);return{search:e,vdResource:n?t[n]:{}}})(({search:e,vdResource:t})=>{const n=d.getCurrentVirtualDiskRoot(e.scope),r=n||"";return i.default.createElement("div",{className:f()},i.default.createElement("div",{className:f().e("caption")},i.default.createElement(o.I18N,{loc:"В Истории не найдено записей по запросу «"+yr.externals.entityify(o.I18N.$1)+"»"},i.default.createElement("span",{className:f().e("query")},e.query))),i.default.createElement("div",{className:f().e("items")},i.default.createElement("a",{className:f().e("item").m({disk:!0}),href:`/client${r}/search?querySearch=${e.query}&scopeSearch=${encodeURIComponent(r+"/disk")}`},i.default.createElement("div",{className:f().e("item-icon-wrapper")},i.default.createElement(u.default,{className:f().e("item-icon")}),i.default.createElement(c.default,{className:f().e("item-glass-icon")})),i.default.createElement("div",{className:f().e("item-info")},n?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:f().e("item-caption")},"Поискать в общем диске"),i.default.createElement("div",{className:f().e("item-message")},i.default.createElement(o.I18N,{loc:"Все папки и файлы в "+yr.externals.entityify(o.I18N.$1)},t.name))):i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:f().e("item-caption")},"Поискать в Диске"),i.default.createElement("div",{className:f().e("item-message")},"Все папки и файлы в вашем Диске")))),i.default.createElement("a",{className:f().e("item").m({trash:!0}),href:`/client${r}/search?querySearch=${e.query}&scopeSearch=${encodeURIComponent(r+"/trash")}`},i.default.createElement("div",{className:f().e("item-icon-wrapper")},i.default.createElement(l.default,{className:f().e("item-icon")}),i.default.createElement(c.default,{className:f().e("item-glass-icon")})),i.default.createElement("div",{className:f().e("item-info")},i.default.createElement("div",{className:f().e("item-caption")},"Поискать в Корзине"),i.default.createElement("div",{className:f().e("item-message")},"Файл или папка могут оказаться тут случайно")))))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(753),o=n(1199),a=r(n(14));t.default=function(e,t){i.isPersonalJournal(e.getState())||a.default.count("navigation","direct link","vd journal"),(null===t||void 0===t?void 0:t.vdInfo)&&(0,e.dispatch)(o.updateVirtualDiskInfo(t.vdInfo))}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(97),u=n(15),c=n(29),l=n(39),d=n(74),f=i(n(1098)),p=i(n(2148)),h=i(n(14)),m=i(n(1102)),v=i(n(1103)),g=n(376),y=i(n(11)),b=()=>y.default()("Docs"),_={maybeFetchDocs:s.maybeFetchDocs,fetchNextDocs:s.fetchNextDocs,openOrEditResource:u.openOrEditResource,openEditor:c.openEditor,maybeBlockAction:c.maybeBlockAction},O=a.connect(e=>{const{page:{originalNSParams:{from:t,create:n}}}=e;return{resources:l.docsListResources(e),isOpenedFromEditor:"editor"===t,isLoading:l.docsListIsLoading(e),isComplete:l.docsListIsComplete(e),isEmpty:l.docsListIsEmpty(e),listingType:l.listingType(e),type:l.currentDocsType(e),filter:l.getFilterType(e),openCreateDialog:Boolean(n),isPortionsSupported:l.isPortionsSupported(e)}},_);t.default=v.default(O(({maybeFetchDocs:e,fetchNextDocs:t,openOrEditResource:n,resources:r,resourcesByIds:i,isLoading:a,isComplete:s,isEmpty:u,type:c,filter:l,isOpenedFromEditor:v,openCreateDialog:y,openEditor:_,listingProps:O,maybeBlockAction:E,isPortionsSupported:w})=>{o.useEffect(()=>{e()},[e,c,v]);const S=v?"from editor":"other";o.useEffect(()=>{h.default.countDocs("open docs",S)},[S]),o.useEffect(()=>{y&&_(c,"/disk")},[y,_,c]);const C=o.useCallback(e=>{if(E())return;n(e);const t=i[e];h.default.countDocs("open doc",t.isVicariousDoc?"vicarious":c)},[i,n,c,E]);return a&&(0===r.length&&w||!w)?o.default.createElement("div",{className:b().e("Spin-Wrap")},o.default.createElement(d.Spin,{view:"default",progress:!0,size:"m"})):u?o.default.createElement(p.default,null):o.default.createElement(o.default.Fragment,null,o.default.createElement(f.default,null),l!==g.FilterType.ALL&&0===r.length?o.default.createElement("div",{className:b().e("Empty-Filter")},l===g.FilterType.MY?"Пока нет ни одного вашего документа.":"С вами ещё не поделились документами."):null,o.default.createElement(m.default,Object.assign({},O,{onResourceOpen:C,resourcesByIds:i,resources:r,requestFetchNext:t,completed:s,loading:a})))}),"docs")}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=n(39),s=n(97),u=r(n(944)),c={setListingType:s.setListingType},l=o.connect(e=>({type:a.currentDocsType(e),listingType:a.listingType(e)}),c);t.default=l(({listingType:e,setListingType:t})=>i.default.createElement(u.default,{values:["tile","icons","list"],value:e,onChange:t}))}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(2122)),u=n(26),c=n(561),l=n(1094),d=n(1093),f=n(189),p=n(39),h=n(162),m=n(97),v=i(n(1099)),g=n(1100),y=i(n(11)),b=()=>y.default()("Docs-Touch-Listing-Settings"),_={setListingType:m.setListingType,setFilterType:m.setFilterType},O=a.connect(e=>({type:p.currentDocsType(e),listingType:p.listingType(e),filterType:p.getFilterType(e),isScansPage:h.isScansPage(e)}),_);t.default=O(({setListingType:e,setFilterType:t,filterType:n,isScansPage:r})=>{const[i,a]=o.useState(!1),p=o.useCallback(()=>{a(!i)},[i,a]),h=o.useCallback(()=>{a(!1)},[a]),m=o.useCallback(t=>{e(t),a(!1)},[a,e]),y=o.useCallback(e=>{t(e),a(!1)},[a,t]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.Button,{className:b().e("Button"),view:"clear",size:"s","aria-label":"Ещё",onClick:p,icon:f.moreIconProvider}),o.default.createElement(v.default,{render:({sortMap:e,sortOrderMap:t,sortOrgerList:u,setSortBy:f,setSortOrder:p,activeSortingType:v})=>o.default.createElement(s.default,{cls:b(),visible:i,onClose:h,items:(()=>{const i={name:"Вид",type:"menu",items:[{text:"Список",icon:d.displayListIconProvider,onClick:()=>m("list"),cls:b().e("Type").m({list:!0})},{text:"Плитка",icon:l.displayIconsIconProvider,onClick:()=>m("icons"),cls:b().e("Type").m({icons:!0})},{text:"Крупная плитка",icon:c.displayTilesIconProvider,onClick:()=>m("tile"),cls:b().e("Type").m({tile:!0})}]},o={name:"Сортировать по",type:"radiobox",value:v.sort,onChange:e=>{f(e.target.value),a(!1)},items:Object.entries(e).map(([e,t])=>({text:t,value:e}))},s={name:null,type:"radiobox",value:v.order,onChange:e=>{p(e.target.value),a(!1)},items:u.map(e=>({text:t[e],value:e}))};return r?[i,o,s]:[{name:"Показать",type:"radiobox",value:n,onChange:e=>{y(e.target.value)},items:Object.entries(g.FILTER_MAP).map(([e,t])=>({text:t,value:e}))},i,o,s]})()})}))})}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(0),v=n.n(m),g=n(147),y=n(64),b=n(897),_=n(898),O=n(11),E=n.n(O);n(2123);function w(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var S=function(){return E()()("menu-pane")},C=(function(e){l()(n,e);var t=w(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onMenuItemClick=r._onMenuItemClick.bind(u()(r)),r}return a()(n,[{key:"_onMenuItemClick",value:function(e){var t=e.target.value;t.onClick&&t.onClick()}},{key:"_getMenu",value:function(e){return v.a.createElement(y.Menu,{size:"m",view:"default",width:"max",paddingless:!0,wide:!0,onChange:this._onMenuItemClick},e.map((function(e,t){return v.a.createElement(y.Item,{key:t,className:e.cls,value:e,icon:e.icon},e.text)})))}},{key:"_getRadioBox",value:function(e,t){var n=e.onChange;return v.a.createElement(b.Radiobox,{key:t,value:e.value,view:"default",size:"m",onChange:n,className:S().e("radiobox")},e.items.map((function(e,t){return v.a.createElement(_.ListTileRadio,{key:t,value:e.value,onClick:null===n||void 0===n?void 0:n.bind(null,{target:{value:e.value}}),leftSpace:"xl",rightSpace:"xl",leadingRadio:!0},e.text)})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.visible,i=t.items,o=t.onClose;return v.a.createElement(g.Drawer,{className:S().mix(n),view:"default",visible:r,onClose:o},v.a.createElement("div",{className:S().e("content")},i.map((function(t,n){return"menu"===t.type||"radiobox"===t.type?v.a.createElement("div",{key:n,className:S().e("group")},t.name&&v.a.createElement("div",{className:S().e("group-name")},t.name),"radiobox"===t.type?e._getRadioBox(t,n):e._getMenu(t.items)):t.content}))))}}]),n})(m.Component);C.defaultProps={onClose:function(){}},t.default=C}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(26),u=n(85),c=n(64),l=n(189),d=n(39),f=n(376),p=n(97);n(2125);const h=i(n(11)),m=()=>h.default()("Docs-Header-Filter-Button");t.FILTER_MAP={[f.FilterType.ALL]:"Все файлы",[f.FilterType.MY]:"Только мои",[f.FilterType.OTHER]:"Со мной поделились"};const v={setFilterType:p.setFilterType},g=a.connect(e=>({filterType:d.getFilterType(e)}),v);t.default=g(({setFilterType:e,filterType:n})=>{const r=o.useRef(null),[i,a]=o.useState(!1),d=o.useCallback(()=>{a(!i)},[i,a]),f=o.useCallback(()=>{a(!1)},[a]),p=o.useCallback(t=>{e(t.target.value),a(!1)},[a,e]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(s.Button,{className:m(),view:"clear",size:"m","aria-label":"Ещё",onClick:d,icon:l.moreIconProvider,innerRef:r}),o.default.createElement(u.Popup,{className:m().e("Popup"),view:"default",target:"anchor",anchor:r,visible:i,direction:"bottom-end",onClose:f},o.default.createElement("div",{className:m().e("Filter-Title")},"Показать"),o.default.createElement(c.Menu,{view:"default",size:"m",value:n,onChange:p,rightGlyph:!0,wide:!0},Object.entries(t.FILTER_MAP).map(([e,t])=>o.default.createElement(c.Item,{key:e,value:e,className:m().e("Type").m({[e.toLowerCase()]:!0})},t)))))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"diskIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.232198 11.6427C-0.253337 10.6344 0.404654 9.05445 1.87142 7.51635C1.87377 7.51368 1.87627 7.51104 1.87891 7.50844L1.87997 7.5074C1.90219 7.48415 1.9246 7.46091 1.94718 7.43768C2.27426 7.08154 2.52407 6.56039 2.77448 6.03798C2.86598 5.84709 2.95756 5.65604 3.05302 5.47281C3.55246 4.51404 4.40326 3.62458 5.54902 3.08823C6.87392 2.4674 8.32067 2.44628 9.48935 2.81515C9.58064 2.84392 9.66929 2.87334 9.75682 2.90238L9.75698 2.90244L9.757 2.90244C10.1802 3.04287 10.5772 3.17461 11.1206 3.18338C13.2674 3.0394 14.9787 3.49564 15.5327 4.2663C15.6502 4.36888 15.7416 4.48545 15.8045 4.61599C16.497 6.05452 13.949 9.57228 9.67936 11.5721C5.41002 13.5721 1.0356 13.297 0.343025 11.8585C0.325247 11.8216 0.309743 11.7836 0.296483 11.7447C0.271259 11.7132 0.249785 11.6793 0.232198 11.6427ZM9.52512 11.2428L9.52509 11.2428C7.43642 12.2213 5.32786 12.6398 3.66961 12.6411C2.83947 12.6418 2.13679 12.538 1.61155 12.3579C1.07544 12.1741 0.78206 11.9321 0.670667 11.7008C0.563311 11.4778 0.565844 11.143 0.772947 10.6769C0.977704 10.2161 1.36078 9.68051 1.91227 9.11019C3.01297 7.97192 4.73165 6.74956 6.83463 5.76443C8.93753 4.77935 11.0032 4.22902 12.6132 4.09854C13.4198 4.03316 14.0935 4.07474 14.5939 4.20735C15.1016 4.34191 15.3701 4.55209 15.4768 4.77374C15.5876 5.00393 15.5926 5.37856 15.3989 5.90248C15.2091 6.41621 14.8474 7.01797 14.3227 7.65164C13.2746 8.91733 11.614 10.2644 9.52512 11.2428ZM12.4521 7.30603C12.7796 7.98665 11.4082 9.30507 9.38877 10.251C7.36929 11.197 5.46653 11.4121 5.139 10.7318C4.81146 10.0514 6.18282 8.73302 8.2023 7.78705C10.2218 6.84107 12.1245 6.6257 12.4521 7.30603Z",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(12));n(486);const s=r(n(11)),u=()=>s.default()("ufo-icon");class c extends a.default{_getDefaultSize(){return"xl"}getContent(){return o.default.createElement("span",{className:u().e("bg-icon").m({docx:!0})})}}t.default=c,t.docxIconProvider=a.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(12));n(486);const s=r(n(11)),u=()=>s.default()("ufo-icon");class c extends a.default{_getDefaultSize(){return"xl"}getContent(){return o.default.createElement("span",{className:u().e("bg-icon").m({xlsx:!0})})}}t.default=c,t.xlsxIconProvider=a.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(12));n(486);const s=r(n(11)),u=()=>s.default()("ufo-icon");class c extends a.default{_getDefaultSize(){return"xl"}getContent(){return o.default.createElement("span",{className:u().e("bg-icon").m({pptx:!0})})}}t.default=c,t.pptxIconProvider=a.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(12));n(486);const s=r(n(11)),u=()=>s.default()("ufo-icon");class c extends a.default{_getDefaultSize(){return"xl"}getContent(){return o.default.createElement("span",{className:u().e("bg-icon").m({open:!0})})}}t.default=c,t.openIconProvider=a.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(12));n(486);const s=r(n(11)),u=()=>s.default()("ufo-icon");class c extends a.default{_getDefaultSize(){return"xl"}getContent(){return o.default.createElement("span",{className:u().e("bg-icon").m({upload:!0})})}}t.default=c,t.uploadIconProvider=a.iconProvider(c)}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(509)),u=n(29),c=n(97),l=n(112),d=n(351);n(2139);const f=i(n(11)),p={upload:u.upload,watchUploadStates:c.watchUploadStates,maybeBlockAction:u.maybeBlockAction},h=a.connect((e,t)=>({transparentAbsolute:t.transparentAbsolute,restrict:l.shouldRestrict(e,{forLite:!0})}),p);t.default=h(({upload:e,transparentAbsolute:t,maybeBlockAction:n,restrict:r})=>{const i=o.useCallback((t,n)=>{e(t).then(n,n)},[e]),a=o.useCallback(()=>{n({forLite:!0})},[n]);return o.default.createElement(s.default,{accept:d.getAllAcceptedExts().map(e=>`.${e}`),cls:f.default()("Docs-Upload-Button").e("Button").m({"Transparent-Absolute":t}),onChange:i,onClick:a,theme:"raised",withoutInput:r})})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(85),a=n(64),s=r(n(1099));n(2142);const u=r(n(11)),c=()=>u.default()("Change-Sort-Type");t.default=(({onSortPopupClose:e,titleRef:t,popupVisible:n})=>i.default.createElement(s.default,{render:({sortMap:r,sortOrderMap:s,setSortOrder:u,sortOrgerList:l,setSortBy:d,activeSortingType:f})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(o.Popup,{className:c().e("Popup"),view:"default",target:"anchor",anchor:t,visible:n,direction:"bottom-end",onClose:e},i.default.createElement(a.Menu,{className:c().e("Menu"),view:"default",size:"m",width:"max",value:f.sort,onChange:t=>{d(t.target.value),e()},rightGlyph:!0,wide:!0},i.default.createElement(a.Group,null,Object.entries(r).map(([e,t])=>i.default.createElement(a.Item,{key:e,value:e,className:c().e("Sort-Type").m({[e.toLowerCase()]:!0})},t)))),i.default.createElement(a.Menu,{view:"default",className:c().e("Menu"),size:"m",width:"max",value:f.order,onChange:t=>{u(t.target.value),e()},rightGlyph:!0,wide:!0},i.default.createElement(a.Group,null,l.map(e=>i.default.createElement(a.Item,{key:e,value:e,className:c().e("Sort-Order").m({[e]:!0})},s[e]))))))}))}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(12),h=n(0),m=n.n(h);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"m"}},{key:"getContentSVG",value:function(){return m.a.createElement("path",{d:"M8 1L12 7H4L8 1ZM8 15L12 9H4L8 15Z",fill:"currentColor",fillRule:"nonzero"})}}]),n})(p.default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"documentIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 2C2.89543 2 2 2.89543 2 4V12C2 13.1046 2.89543 14 4 14H12C13.1046 14 14 13.1046 14 12V4C14 2.89543 13.1046 2 12 2H4ZM4 5.33333C4 4.96514 4.29848 4.66667 4.66667 4.66667H11.3333C11.7015 4.66667 12 4.96514 12 5.33333C12 5.70152 11.7015 6 11.3333 6H4.66667C4.29848 6 4 5.70152 4 5.33333ZM4.66667 7.33333C4.29848 7.33333 4 7.63181 4 8C4 8.36819 4.29848 8.66667 4.66667 8.66667H9.33333C9.70152 8.66667 10 8.36819 10 8C10 7.63181 9.70152 7.33333 9.33333 7.33333H4.66667ZM4.66667 10C4.29848 10 4 10.2985 4 10.6667C4 11.0349 4.29848 11.3333 4.66667 11.3333H10C10.3682 11.3333 10.6667 11.0349 10.6667 10.6667C10.6667 10.2985 10.3682 10 10 10H4.66667Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"presentationIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContent",value:function(){return h.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M13.543 5.70346C13.8445 6.43141 13.9997 7.21163 13.9997 7.99956H7.99968L7.99968 2C4.68612 2.00017 2 4.6864 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 6.461 13.4206 5.05733 12.468 3.99525C12.9196 4.49927 13.2833 5.07671 13.543 5.70346ZM11.8725 3.41682C10.9631 2.64767 9.82168 2.14429 8.56815 2.02655C9.16114 2.08299 9.7435 2.22752 10.2958 2.45628C10.8687 2.69358 11.4004 3.01786 11.8725 3.41682Z"}),h.a.createElement("circle",{cx:"8",cy:"8",r:"5.25",stroke:"currentColor",strokeWidth:"1.5"}))}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"tableIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 2C2.89543 2 2 2.89543 2 4V6.83333C2 7.10948 2.22386 7.33333 2.5 7.33333H6.83333C7.10948 7.33333 7.33333 7.10948 7.33333 6.83333V2.5C7.33333 2.22386 7.10948 2 6.83333 2H4ZM9.16667 2C8.89052 2 8.66667 2.22386 8.66667 2.5V6.83333C8.66667 7.10948 8.89053 7.33333 9.16667 7.33333H13.5C13.7761 7.33333 14 7.10948 14 6.83333V4C14 2.89543 13.1046 2 12 2H9.16667ZM2 9.16667C2 8.89053 2.22386 8.66667 2.5 8.66667H6.83333C7.10948 8.66667 7.33333 8.89052 7.33333 9.16667V13.5C7.33333 13.7761 7.10948 14 6.83333 14H4C2.89543 14 2 13.1046 2 12V9.16667ZM10.1667 12.5V10.1667H12.5V12C12.5 12.2761 12.2761 12.5 12 12.5H10.1667ZM8.66667 9.16667C8.66667 8.89053 8.89052 8.66667 9.16667 8.66667H13.5C13.7761 8.66667 14 8.89052 14 9.16667V12C14 13.1046 13.1046 14 12 14H9.16667C8.89053 14 8.66667 13.7761 8.66667 13.5V9.16667Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(39),u=n(29),c=i(n(14)),l=i(n(900)),d=i(n(899));n(2149);const f=i(n(11)),p=()=>f.default()("Docs-Stub"),h={openEditor:u.openEditor},m={docx:"Документ",xlsx:"Таблица",pptx:"Презентация"},v=a.connect(e=>{const{user:{isOfficeAllowed:t}}=e;return{type:s.currentDocsType(e),isOfficeAllowed:t}},h);t.default=v(({openEditor:e,isOfficeAllowed:t})=>{let n;n=t?"Создайте, откройте из вашего Диска или загрузите с компьютера":"Откройте из вашего Диска или загрузите с компьютера";const r=o.useCallback(t=>{e(t,"/disk"),c.default.countDocs("create doc",t,"stub")},[e]);return o.default.createElement("div",{className:p()},o.default.createElement("h1",{className:p().e("Title")},n),o.default.createElement("div",{className:p().e("Options")},t?Object.keys(m).map(e=>o.default.createElement("button",{key:e,className:p().e("Option"),onClick:()=>r(e)},o.default.createElement("span",{className:p().e("Option-Icon").m({[e]:!0})}),m[e])):null,o.default.createElement("div",{className:p().e("Option")},o.default.createElement("div",{className:p().e("Option-Icon").m({open:!0})}),"Открыть",o.default.createElement(d.default,{transparentAbsolute:!0}),o.default.createElement("span",{className:p().e("OptionFocus")})),o.default.createElement("div",{className:p().e("Option")},o.default.createElement("div",{className:p().e("Option-Icon").m({upload:!0})}),"Загрузить",o.default.createElement(l.default,{transparentAbsolute:!0}),o.default.createElement("span",{className:p().e("OptionFocus")}))))})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(16),a=r(n(365)),s=o.connect(({resources:e,environment:{agent:{OSFamily:t}}},{resourceId:n})=>({resource:n?e[n]:null,isAndroid:"Android"===t}));t.default=s(({resource:e,anchor:t,isAndroid:n,onClose:r})=>e?i.default.createElement(a.default,{visible:Boolean(e.id),resources:[e],target:"anchor",anchor:t,metrikaPath:["docs more"],directions:["bottom-right","top-right","bottom-left","top-left","left-center","right-center"],onClose:r,isAndroid:n}):null)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(97),u=n(29),c=n(30),l=i(n(2153)),d=i(n(2154)),f=i(n(363)),p=i(n(280)),h=i(n(1104)),m=n(26);n(2155);const v=i(n(11)),g=()=>v.default()("Docs-Resource-Actions"),y=({active:e,onActive:t,onHover:n,onClick:r,type:i})=>o.default.createElement(m.Button,{view:"tundora",size:"xxs",pin:"circle-circle",className:g().e("Button").m({Hoverable:!e,[i]:!0}),onClick:r,icon:e?t:n}),b={remoteTogglePinDoc:s.remoteTogglePinDoc,maybeBlockAction:u.maybeBlockAction},_=a.connect((e,{resourceId:t})=>{const n=e.resources[t];return{isPublic:!!n.meta.public,isPinned:!!n.pinned,canPublish:c.can(c.PUBLISH,n,e),canPin:c.can(c.PIN,n,e)}},b),O=e=>o.default.createElement(f.default,{cls:e,iconSize:"s"}),E=e=>o.default.createElement(p.default,{isAndroid:!1,cls:e,iconSize:"s"}),w=e=>o.default.createElement(l.default,{cls:e,iconSize:"s"}),S=e=>o.default.createElement(d.default,{cls:e,iconSize:"s"});t.default=_(({resourceId:e,isPublic:t,isPinned:n,onShareClick:r,remoteTogglePinDoc:i,maybeBlockAction:a,canPublish:s,onMoreClick:u,canPin:c})=>{const l=o.useCallback(()=>{!t&&a()||r(e)},[t,e,r,a]),d=o.useCallback(()=>{i(e)},[e,i]),f=o.useMemo(()=>o.default.createElement(h.default,{resourceId:e,className:g().e("Button").m({Hoverable:!0,More:!0}),onClick:u}),[e,u]),p=o.useMemo(()=>s||t?o.default.createElement(y,{onClick:l,active:t,onActive:O,onHover:E,type:"share"}):null,[s,l,t]),m=o.useMemo(()=>o.default.createElement(y,{onClick:d,active:n,onActive:w,onHover:S,type:"pin"}),[d,n]);return o.default.createElement("div",{className:g().e("Container")},f,p,c&&m)})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"docsPinBoldIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getViewBox",value:function(){return"0 0 16 16"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.17738 5.27452C2.91713 5.53486 2.91713 5.95686 3.17738 6.21719L6.00577 9.04586L2.24429 12.8073L1.77181 14.2236L3.18677 13.7505L6.94853 9.98871L9.77986 12.8203C10.0405 13.0803 10.4625 13.0803 10.7225 12.8203L10.9332 12.6103C12.3487 11.2026 12.5241 9.64758 12.0583 7.70632L14.4992 5.26679C14.7494 5.01673 14.8899 4.67751 14.8899 4.32379C14.8899 3.97008 14.7494 3.63086 14.4992 3.38079L12.6138 1.49674C12.0931 0.976229 11.2491 0.976229 10.7285 1.49674L8.28695 3.93693C6.36229 3.48626 4.78605 3.66586 3.38738 5.06452L3.17738 5.27452Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"docsPinStrokeIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getViewBox",value:function(){return"0 0 16 16"}},{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.2416 11.3964L4.60263 5.75686C5.48452 5.01903 6.47337 4.88152 7.98278 5.23496L8.70481 5.40402L11.671 2.4395L13.5564 4.3236L11.1156 6.76306L10.5874 7.29099L10.7616 8.01718C11.1268 9.53933 10.9934 10.51 10.2416 11.3964ZM3.17718 5.27437C2.91693 5.5347 2.91693 5.9567 3.17718 6.21703L6.00556 9.0457L2.24409 12.8072L1.77161 14.2235L3.18657 13.7503L6.94832 9.98855L9.77966 12.8202C10.0403 13.0802 10.4623 13.0802 10.7223 12.8202L10.933 12.6102C12.3485 11.2024 12.5239 9.64742 12.0581 7.70617L14.499 5.26664C14.7492 5.01658 14.8897 4.67735 14.8897 4.32364C14.8897 3.96992 14.7492 3.6307 14.499 3.38064L12.6136 1.49658C12.0929 0.976074 11.2489 0.976074 10.7283 1.49658L8.28675 3.93678C6.36209 3.48611 4.78585 3.6657 3.38718 5.06437L3.17718 5.27437Z"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(1201)),u=n(162),c=n(15),l=n(36),d=i(n(1102)),f=i(n(1103)),p=i(n(1098)),h=i(n(2166));n(2168);const m=i(n(11)),v={openScanResource:c.openScanResource,fetchCurrentListing:c.fetchCurrentListing},g=a.connect(e=>{const{environment:{session:{shouldShowScannerButton:t}},page:{page:n,idPage:r,idContext:i},resources:o}=e,a=o[i];return{page:n,idPage:r,resources:l.getResources(e),isScansLoading:u.isScansLoading(e),currentResource:a,isComplete:l.currentResourceIsComplete(e),shouldShowScannerButton:t}},v);t.default=f.default(g(({resourcesByIds:e,resources:t,fetchCurrentListing:n,isComplete:r,currentResource:i,listingProps:a,openScanResource:u,shouldShowScannerButton:c})=>{o.useEffect(()=>{n()},[n]);const l=o.useCallback(()=>!i||!e||i.isLoading,[i,e]);return t.length||l()?o.default.createElement(o.default.Fragment,null,!l()&&o.default.createElement(p.default,null),o.default.createElement(d.default,Object.assign({},a,{cls:m.default()("Scans").e("Listing").m({"With-Scanner-Button-Padding":c}).mix(a.cls),onResourceOpen:u,resourcesByIds:e,resources:t,requestFetchNext:n,completed:r,loading:l()})),c&&o.default.createElement(h.default,null)):o.default.createElement(o.default.Fragment,null,o.default.createElement(s.default,null),c&&o.default.createElement(h.default,null))}),"scans")}),(function(e,t){e.exports="/s3/disk/_/_12HIHiuBQbxTZBvBpTVSrtm2_bI.png"}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(11)),a=r(n(2161)),s=r(n(2162)),u=r(n(2163)),c=r(n(2164));n(2165);const l=()=>o.default()("listing-stub-scans-qr-code"),d={mail:{"1x":a.default,"2x":s.default},disk:{"1x":u.default,"2x":c.default}};t.default=(({staticHost:e,service:t,className:n})=>{const r=d[t];return i.default.createElement("div",{className:l().mix(n)},i.default.createElement("div",{className:l().e("code-wrapper")},i.default.createElement("img",{className:l().e("code").m({service:t}),src:e+r["1x"],srcSet:`${e}${r["2x"]} 2x`})),i.default.createElement("div",{className:l().e("text-wrapper")},i.default.createElement("div",{className:l().e("text")},"Cкачать"),i.default.createElement("div",{className:l().e("text")},"mail"===t?"Яндекс Почту":"Яндекс Диск")))})}),(function(e,t){e.exports="/s3/disk/_/_bnu33pJSMuUudn-FCxltPz7bGgB.png"}),(function(e,t){e.exports="/s3/disk/_/_5NgaOAvvo1tbbTyGOSw7Wmh2Sfc.png"}),(function(e,t){e.exports="/s3/disk/_/_7tOhgcwROEWKb84dqMZ5Kepw3PP.png"}),(function(e,t){e.exports="/s3/disk/_/_frVKHHROGhfOuIJr8mUEIr0vne5.png"}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(26),s=n(281),u=i(n(11));n(2167);t.default=(()=>{const e=o.useCallback(()=>{var e,t;null===(t=null===(e=window.HOST_API)||void 0===e?void 0:e.openScanner)||void 0===t||t.call(e)},[]);return o.default.createElement(a.Button,{className:u.default()("Start-Scanner-Button"),size:"xxl",view:"action",theme:"raised",pin:"circle-circle",icon:s.plusIconProvider,onClick:e})})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(164)),s=n(51);n(2170);const u=i(n(11)),{I18N:c}=n(79);var l;!(function(e){e.READY="READY",e.FAIL="FAIL",e.OUT_OF_SPACE="OUT_OF_SPACE"})(l=t.SAVE_STATUSES||(t.SAVE_STATUSES={}));t.default=(({status:e,folderUrl:t,onClose:n})=>{const r=o.useMemo(()=>{switch(e){case l.READY:return o.default.createElement(c,{loc:"Файл сохранен на ваш Яндекс Диск"+yr.externals.entityify(c.$1)+" в папку "+yr.externals.entityify(c.$2_OPEN)+"Загрузки"+yr.externals.entityify(c.$2_CLOSE)+"."},o.default.createElement("br",null),o.default.createElement(s.Link,{target:"_blank",theme:"normal",href:t}));case l.FAIL:return o.default.createElement(c,{loc:"Не удалось сохранить файл на Диск."+yr.externals.entityify(c.$1)+" Повторите попытку позже."},o.default.createElement("br",null));case l.OUT_OF_SPACE:return o.default.createElement(c,{loc:"Не удалось сохранить файл на Диск."+yr.externals.entityify(c.$1)+" Недостаточно свободного места."},o.default.createElement("br",null))}return""},[e,t]);return o.default.createElement(a.default,{visible:Boolean(e),onClose:n,closeButtonAriaLabel:"Закрыть",trapFocus:!1},o.default.createElement("div",{className:u.default()("Docs-View-Save-Modal").e("Content")},r))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(87)),s=n(2173),u=n(1106);n(2176),t.UXFeedbackComponent=(({accountId:e,className:t,uxfbController:n,onSaveUserInfoFail:r,defer:i})=>{const c=o.useRef(null),l=o.useRef(n),[d,f]=s.useIframeReducer(),[p,h]=o.useState(!i);o.useEffect(()=>{h(!0)},[]),o.useEffect(()=>{var e;const t=e=>{let n=!1;c.current&&e.data&&"uxfb/listener"===e.data.type&&(l.current||(l.current=new u.UXFeedbackIframeController),l.current.start(c.current,f),window.removeEventListener("message",t)),r&&e.data&&"cantSaveUserInfo"===e.data.type&&!n&&(n=!0,r())},n=()=>{var e,t;null===(t=null===(e=c.current)||void 0===e?void 0:e.contentWindow)||void 0===t||t.postMessage({type:"checkSaveUserInfo"},"*")};return window.addEventListener("message",t),n(),null===(e=c.current)||void 0===e||e.addEventListener("load",n),()=>{l.current&&l.current.stop(),window.removeEventListener("message",t)}},[]);const m=p?`https://yastatic.net/s3/psf/uxfeedback/v1.2/iframe.html?id=${e}`:"about:blank";return o.default.createElement("iframe",{ref:c,className:a.default("uxs-slide-back",t,d.classes),frameBorder:"0",src:m,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups",style:d.style})})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.useIframeReducer=(()=>{return r.useReducer((e,t)=>{switch(t.type){case"set-class":return Object.assign(Object.assign({},e),{classes:[...e.classes,t.className]});case"set-style":return Object.assign(Object.assign({},e),{style:Object.assign(Object.assign({},e.style),t.style)});case"remove-style":const n=Object.assign({},e.style);return t.keys.forEach(e=>{delete n[e]}),Object.assign(Object.assign({},e),{style:n});default:return e}},{classes:[],style:{}})})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getYaIdFromCookies=(()=>{const e=document.cookie,t=e.indexOf("_ym_uid"),n=e.indexOf(";",t),r=e.length,i=-1===n?r:n;return e.substring(t,i).replace("_ym_uid=","")}),t.objectToCookies=(e=>{return Object.entries(e).reduce((e,t)=>(e.push(t.map(encodeURIComponent).join("=")),e),[]).join("; ")})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.INFO="uxfb/info",e.CLIENT_HEIGHT="uxfb/clientHeight",e.SHOW_WIDGET_ICON="uxfb/showWidgetIcon",e.HISTORY="uxfb/history",e.SCROLL="uxfb/scroll",e.EVENT="uxfb/event",e.PROPERTIES="uxfb/properties",e.STYLE="uxfb/style",e.POSITION="uxfb/position",e.SIZE="uxfb/size",e.OPACITY="uxfb/opacity",e.CLASS="uxfb/class",e.IMAGE="uxfb/image"})(t.UXFeedbackMessageType||(t.UXFeedbackMessageType={}))}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(2178)),o=r(n(2179)),a=r(n(2180));t.default={lite:i.default,hard:o.default,hardDark:a.default}}),(function(e,t){e.exports="/s3/disk/_/_fszeyF4_Lhkmaa3YYmzmsu-x_OZ.svg"}),(function(e,t){e.exports="/s3/disk/_/_6VEhOQvb_8Fj8ItykZ0ssa0ze5t.png"}),(function(e,t){e.exports="/s3/disk/_/_9k3vl4cAfdCiIkC-F71hoZwq-Wa.png"}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(549);n(2184);const a=r(n(11));t.default=(({cls:e,theme:t,isMonochrome:n})=>{const r=n?o.SvgYaMonochrome:o.SvgYa;return i.default.createElement("span",{className:a.default()("logo-360").m({theme:t}).mix(e)},i.default.createElement(r,{logoLang:["ru","uk"].includes("ru")?"Ru":"En"}),i.default.createElement(o.Svg360,null))})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(2186)),o=r(n(2187)),a=r(n(2188));t.default={waitMobile:i.default,restrictMobile:o.default,restrictDesktop:a.default}}),(function(e,t){e.exports="/s3/disk/_/_EyZHRtxZdU-DJKThaZdzq_KdL.svg"}),(function(e,t){e.exports="/s3/disk/_/_5R_LzV3sdkQuUqIpro4Szr5r2iF.svg"}),(function(e,t){e.exports="/s3/disk/_/_9vsFun4ZTui6rMP8qknAPSLAVVx.svg"}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoverLayer=void 0;var u=a(n(0)),c=s(n(2191)),l=s(n(2193));t.CoverLayer=u.memo((function(e){var t=e.imageUrl,n=e.videoUrl;return u.default.createElement(u.default.Fragment,null,t&&u.default.createElement(c.default,r({},e)),n&&u.default.createElement(l.default,r({},e)))})),t.CoverLayer.defaultProps={contentPosition:"top center",ignoreBattery:!1}}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=n(1110),c=n(1111),l=n(2192);function d(e){return Boolean(e&&"object"==typeof e&&"1280"in e)}function f(e){return Boolean(e&&"object"==typeof e&&"jpeg"in e)}function p(e,t,n){var i=n?{media:"(min-width: "+n+"px)"}:{};return Object.values(l.IMAGE_TYPE).filter((function(e){return Boolean(t[e])})).map((function(o){return s.default.createElement("source",r({key:n+"-"+o,className:e.imageSource,srcSet:t[o],type:"image/"+o},i))}))}function h(e,t){var n=d(t)?t[l.MIN_IMAGE_SIZE]:t;return s.default.createElement(s.default.Fragment,null,d(t)?l.STOP_SET.map((function(n){return (function(e,t,n){return f(n)?p(e,n,t):s.default.createElement("source",{key:t,className:e.imageSource,srcSet:n,media:"(min-width: "+t+"px)"})})(e,n,t[n])})):null,f(t)?p(e,t):null,f(n)&&!f(t)?p(e,n):null,s.default.createElement("img",{className:e.imageSource,src:f(n)?n.jpeg:n,alt:""}))}var m={imageContent:"imageContent",imageSource:"imageSource"};t.default=s.memo((function(e){var t=e.imageUrl,n=e.className,r=e.contentPosition,i=c.useHashed(m),o=s.useMemo((function(){return (function(e,t){var n=t.contentPosition;return u.zip(["\n        ."+e.imageContent+" {\n          top:0;\n          left: 0;\n          pointer-events: none;\n        }","\n        ."+e.imageSource+" {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          "+u.prop("object-position",n)+"\n        }"].join("\n"))})(i,{contentPosition:r})}),[i,r]),a=s.useMemo((function(){return h(i,t)}),[i,t]);return s.default.createElement(s.default.Fragment,null,s.default.createElement("style",null,o),s.default.createElement("picture",{className:i.imageContent+" "+n,"aria-hidden":!0},a))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STOP_SET=t.MIN_IMAGE_SIZE=t.IMAGE_SIZE=t.IMAGE_TYPE=void 0,t.IMAGE_TYPE={webp:"webp",png:"png",jpeg:"jpeg"},t.IMAGE_SIZE={1920:"1920",1536:"1536",1366:"1366",1280:"1280"},t.MIN_IMAGE_SIZE=t.IMAGE_SIZE[1280],t.STOP_SET=Object.values(t.IMAGE_SIZE).filter((function(e){return e!==t.MIN_IMAGE_SIZE})).sort((function(e,t){return-1*e.localeCompare(t,void 0,{numeric:!0})}))}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=n(1110),c=n(2194),l=n(2195),d=n(1111);function f(e){return Boolean(e&&"object"==typeof e&&"mpeg"in e)}var p={webm:'video/webm; codecs="vp8"',mpeg:'video/mp4; codecs="avc1"'};var h={videoContent:"videoContent",videoSource:"videoSource"},m={loop:!0,muted:!0,autoPlay:!0,playsInline:!0,preload:"auto",pip:"false",disablePictureInPicture:!0};t.default=s.memo((function(e){var t=e.videoUrl,n=e.ignoreBattery,i=e.videoDisabled,o=e.className,a=e.contentPosition,v=d.useHashed(h),g=s.useMemo((function(){return (function(e,t){var n=t.contentPosition;return u.zip(["\n        ."+e.videoContent+" {\n          top: 0;\n          left: 0;\n          pointer-events: none;\n          object-fit: cover;\n          "+u.prop("object-position",n)+"\n        }","\n        ."+e.videoContent+"::-webkit-media-controls {\n          display: none;\n        }"].join("\n"))})(v,{contentPosition:a})}),[v,a]),y=s.useMemo((function(){return (function(e,t){return f(t)?s.default.createElement(s.default.Fragment,null,s.default.createElement("source",{src:t.webm,type:p.webm}),s.default.createElement("source",{src:t.mpeg,type:p.mpeg})):s.default.createElement("source",{className:e.videoSource,src:t})})(v,t)}),[v,t]),b=s.useMemo((function(){return!i}),[]),_=s.useRef(null),O=s.useRef(!0),E=c.useVisibility(),w=l.useCharging(n),S=s.useMemo((function(){return (function(e){return f(e)?e.webm+"-"+e.mpeg:e})(t)}),[t]);return s.useEffect((function(){var e;return null===(e=_.current)||void 0===e?void 0:e.setAttribute("muted","")}),[]),s.useEffect((function(){var e=!i&&w&&E;_.current&&(e&&!O.current?(O.current=!0,_.current.play()):!e&&O.current&&(O.current=!1,_.current.pause()))})),s.default.createElement(s.default.Fragment,null,s.default.createElement("style",null,g),s.default.createElement("video",r({key:S,className:v.videoContent+" "+o,ref:_},m,{autoPlay:b,"aria-hidden":!0}),y))}))}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useVisibility=void 0;var r=n(0);t.useVisibility=function(){var e=r.useState(!0),t=e[0],n=e[1],i=r.useCallback((function(){n("visible"===document.visibilityState)}),[]);return r.useEffect((function(){return document.addEventListener("visibilitychange",i,!1),i(),function(){return document.removeEventListener("visibilitychange",i,!1)}}),[i]),t}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCharging=void 0;var r=n(0),i=null,o=null;t.useCharging=function(e){void 0===e&&(e=!1);var t=r.useState(o),n=t[0],a=t[1],s=r.useState(!0),u=s[0],c=s[1];return r.useEffect((function(){n||e||(i||(i=(null===navigator||void 0===navigator?void 0:navigator.getBattery)?navigator.getBattery().then((function(e){return o=e})):Promise.resolve(null)),i).then((function(e){return a(e)}))}),[n,e]),r.useEffect((function(){if(n&&!e){var t=function(){return c(n.charging)};return t(),n.addEventListener("chargingchange",t),function(){return n.removeEventListener("chargingchange",t)}}c(!0)}),[n,e]),u}}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(2200),u=n(397),c=n(1060),l=n(81),d=i(n(14)),f=n(86),p=n(490),h=n(786),m=n(224),v=n(577),g=n(112);let y;y=n(2204).desktopRegistry;const b={resetCurrentPromo:v.resetCurrentPromo},_=a.connect(e=>{const{config:{urlsBase:{"cloud-api":t,yandex360:n}},user:{uid:r}}=e,i=p.getUserSubcription(e),o=f.getThemeName(e),a=p.getProject(),s=p.getPlatform(),u=p.getServerDate(e),c=p.makeGetNow(u),d=p.getCurrentPromo(e),h=p.getPlugins(e),m=p.getTranslations(e),v=p.getImages(e),y=g.shouldShowOverdraftFullscreen(e)||g.shouldShowB2bFreeWarningFullscreen(e);return{cloudApi:t,tuning:n,uid:r,subscription:i,isDark:l.isPageDark(o),theme:l.getPageTheme(o),project:a,platform:s,getNow:c,currentPromo:d,plugins:h,translations:m,images:v,doNotShowPromo:y}},b),O=(...e)=>d.default.count(...e);t.default=_(({cloudApi:e,uid:t,subscription:n,isDark:r,tuning:i,theme:a,project:l,platform:d,getNow:f,currentPromo:p,plugins:v,translations:g,images:b,doNotShowPromo:_,resetCurrentPromo:E})=>{const w=o.useMemo(()=>h.getDsClient(e,t),[e,t]),S=o.useMemo(()=>({tuning:i}),[i]);return _||!p?null:o.default.createElement(s.PromoRenderer,{lang:"ru",currentPromo:p,sendMetric:O,theme:a,darkTheme:c.theme,lightTheme:u.theme,isDark:r||!1,dsClient:w,getNow:f,registry:y,urls:S,uid:t,project:l,platform:d,plugins:v,translations:g,hasSubscription:n===m.Subscription.paid,imageStore:b,onClose:E})})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerPromoRenderer=t.PromoRenderer=void 0;var i=n(1112);Object.defineProperty(t,"PromoRenderer",{enumerable:!0,get:function(){return r(i).default}});var o=n(1112);Object.defineProperty(t,"ServerPromoRenderer",{enumerable:!0,get:function(){return o.ServerPromoRenderer}})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):(function(e){return e instanceof n?e:new n(function(t){t(e)})})(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoRenderer=void 0;const s=o(n(0)),u=n(1048),c=n(178),l=n(345),d=n(1049),f=n(487),p=n(139),h=n(1035),m=n(346),v=n(2202);t.PromoRenderer=(({currentPromo:e,sendMetric:t,theme:n,darkTheme:r,lightTheme:i,isDark:o,dsClient:g,getNow:y,lang:b,plugins:_,onShow:O,onClose:E,registry:w,urls:S,uid:C,hasSubscription:x,project:T,isActive:P,deactivate:k,translations:j,imageStore:R,platform:I})=>{const A=s.useMemo(()=>new u.MetricsLogger(t,e.format,e.promo.name,{hasSubscription:x}),[e.format,e.promo.name,t,x]),D=s.useRef(),M=s.useCallback(()=>{var t,n;if(k(),E&&E(),D.current&&e.promo.saveTimestampOnClose){const r=y();null===(t=D.current)||void 0===t||t.savePromoShow(e.promo.name,r,null===(n=D.current)||void 0===n?void 0:n.getShowCountByPromo(e.promo.name))}},[e.promo.name,e.promo.saveTimestampOnClose,y,k,E]),N=s.useMemo(()=>{const t={darkTheme:r,lightTheme:i};return e.promo.themeSource&&"default"!==e.promo.themeSource?"dark"===e.promo.themeSource?Object.assign({theme:r,isDark:!0},t):Object.assign({theme:i,isDark:!1},t):Object.assign({theme:n,isDark:o},t)},[e.promo.themeSource,i,n,o,r]),L=e.promo.name,F=s.useMemo(()=>({keysetId:e.promo.keysetId||L,lang:b,translations:j}),[L,e.promo.keysetId,b,j]),B=s.useMemo(()=>({urls:S,uid:C,project:T,promoId:L,platform:I||v.getPlatformByProject(T)}),[S,C,T,L,I]),U=s.useMemo(()=>({imageStore:R||{}}),[R]);p.useOnce(()=>{a(void 0,void 0,void 0,(function*(){const t=yield h.getService(g);if(t&&(D.current=t,!e.promo.saveTimestampOnClose)){const n=y();t.savePromoShow(e.promo.name,n,t.getShowCountByPromo(e.promo.name))}A.logPromoShow(),null===O||void 0===O||O()})).catch()});const z=null===_||void 0===_?void 0:_.find(t=>t.id===e.promo.name),V={isActive:P,onDeactivate:M};let H=null;switch(e.format){case"topline":const t=(null===z||void 0===z?void 0:z.Component)||w.topline;H=t?s.default.createElement(t,Object.assign({promo:e.promo},V)):null;break;case"tooltip":const n=(null===z||void 0===z?void 0:z.Component)||w.tooltip;H=n?s.default.createElement(n,Object.assign({promo:e.promo},V)):null;break;case"popup":const r=(null===z||void 0===z?void 0:z.Component)||w.popup;H=r?s.default.createElement(r,Object.assign({promo:e.promo},V)):null;break;case"fullscreen":const i=(null===z||void 0===z?void 0:z.Component)||w.fullscreen;H=i?s.default.createElement(i,Object.assign({promo:e.promo},V)):null;break;case"banner":const o=(null===z||void 0===z?void 0:z.Component)||w.banner;H=o?s.default.createElement(o,Object.assign({promo:e.promo},V)):null;break;case"custom":if(null===z||void 0===z?void 0:z.Component){const t=null===z||void 0===z?void 0:z.Component;H=s.default.createElement(t,Object.assign({promo:e.promo},V))}}return s.default.createElement(u.MetricsContext.Provider,{value:A},s.default.createElement(c.ThemeContext.Provider,{value:N},s.default.createElement(d.PluginContext.Provider,{value:z},s.default.createElement(l.TranslationsContext.Provider,{value:F},s.default.createElement(m.EnvironmentContext.Provider,{value:B},s.default.createElement(f.ImagesContext.Provider,{value:U},H))))))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformByProject=t.TOUCH_PROJECTS=void 0;const r=n(224);t.TOUCH_PROJECTS=[r.Project.diskTouch,r.Project.mailTouch,r.Project.tuningTouch];t.getPlatformByProject=(e=>t.TOUCH_PROJECTS.includes(e)?r.Platform.touch:r.Platform.desktop)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(0));t.default=function(e,t={}){return n=>{const[r,i]=a.useState((null===t||void 0===t?void 0:t.isActive)||!1),o=a.useCallback(()=>{i(!0)},[i]),{onDeactivate:s}=n,u=a.useCallback(()=>{i(!1),s&&s()},[i,s]);return a.default.createElement(e,Object.assign({activate:o,deactivate:u,isActive:r},n))}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.desktopRegistry=void 0;const r=n(2205),i=n(2229),o=n(2231),a=n(2267);t.desktopRegistry={fullscreen:r.DesktopFullscreenPromo,popup:i.PopupPromo,tooltip:o.TooltipPromo,topline:a.TopLinePromo}}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2206),t)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopFullscreenPromo=void 0;const a=o(n(0)),s=n(163),u=n(2207),c=n(139),l=n(2208),d=n(178),f=n(345),p=n(346),h=n(487),m=n(396);t.DesktopFullscreenPromo=(({isActive:e,promo:t,onDeactivate:n})=>{const{lang:r}=a.useContext(f.TranslationsContext),i=c.useCampaignPromoActions(n),o=c.useThemeType(),{theme:v}=a.useContext(d.ThemeContext),g=c.useTranslation("Title"),y=c.useBenefits(t.benefits),b=c.useMainTuningButton(t,i.onActionButtonClick),_=c.useSecondaryTuningButton(t,i.onSecondaryButtonClick),{platform:O}=a.useContext(p.EnvironmentContext),{imageStore:E}=a.useContext(h.ImagesContext),w=a.useMemo(()=>{const e=m.getPromoPicturesByNames(E.backgrounds,t.backgroundNames);return m.getPromoImage(e,{themeType:o,lang:r,platform:O},t.background)},[E,t,r,O,o]),S=a.useMemo(()=>{const e=m.getPromoPicturesByNames(E.pictures,t.pictureNames);return m.getPromoImage(e&&e.length?e:t.images,{themeType:o,lang:r,platform:O},t.illustration)},[E,r,O,t,o]),{isDisclaimerVisible:C}=t,x=a.useRef(document.documentElement);return u.usePreventScroll({enabled:e,containerRef:x}),a.default.createElement(l.CampaignFullscreen,{lang:r,visible:e,title:g,className:s.cnTheme(v),background:w,illustration:S,onClose:i.onClose,onCloseButtonClick:i.onCloseButtonClick,benefits:y,mainButton:b,secondaryButton:_,themeType:o,isDisclaimerVisible:C})})}),(function(e,t,n){"use strict";n.r(t);var r=n(563);n.d(t,"usePreventScroll",(function(){return r.a}))}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2209),t)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CampaignFullscreen=void 0;const u=s(n(0)),c=o(n(2210)),l=n(2225),d=n(223);t.CampaignFullscreen=(({className:e,background:t,illustration:n,onClose:r,onCloseButtonClick:i,benefits:o,title:s,mainButton:f,secondaryButton:p,visible:h,lang:m,themeType:v,isDisclaimerVisible:g})=>{const{customTexts:y}=f,b=a(f,["customTexts"]),_=d.LANGS_FALLBACK_EN.includes(m)?"en":"ru";return u.default.createElement(c.Container,{visible:h,className:e,background:t,onClose:r,isDisclaimerVisible:g},u.default.createElement(c.CloseButton,{onClick:i}),u.default.createElement(c.Content,null,u.default.createElement(c.Benefits,null,u.default.createElement(c.Logo,{lang:_,themeType:v}),u.default.createElement(c.Title,null,s),o.map((e,t)=>u.default.createElement(c.BenefitItem,{key:`bi-${t}`,icon:e.icon},e.text)),u.default.createElement(c.ButtonsWrapper,null,u.default.createElement(c.PromoButton,Object.assign({hasSecondRow:Boolean(y.infoText)},b),u.default.createElement(l.PromoButtonContent,Object.assign({},y))),p&&u.default.createElement(c.PromoButton,Object.assign({hasSecondRow:Boolean(p.customTexts.infoText)},p),u.default.createElement(l.PromoButtonContent,Object.assign({},p.customTexts))))),u.default.createElement(c.Illustration,{illustration:n})))})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2211),t)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoButton=t.ButtonsWrapper=t.BenefitItem=t.Title=t.Logo=t.Illustration=t.Benefits=t.Content=t.CloseButton=t.Container=void 0;const u=o(n(0)),c=s(n(87)),l=n(788),d=n(787),f=n(390),p=n(1046),h=n(1113),m=n(2217),v=n(139),g=s(n(2223)),y=n(223);t.Container=(e=>{var{className:t,background:n,children:r,visible:i,isDisclaimerVisible:o}=e,s=a(e,["className","background","children","visible","isDisclaimerVisible"]);const d=v.useImagePreload(n),h=v.useCommonText(y.AD_PROMO_DISCLAIMER);return u.default.createElement(p.Modal,Object.assign({visible:i&&d,className:c.default(t,g.default.root),zIndexGroupLevel:1},s),u.default.createElement("div",{className:g.default.promoContentWrapper},u.default.createElement(l.Image,{alt:"Background",className:g.default.background,src:null===n||void 0===n?void 0:n.src,srcSet:null===n||void 0===n?void 0:n.srcSet,stub:u.default.createElement("div",{className:g.default.backgroundStub}),"aria-hidden":!0}),r,o&&u.default.createElement("div",{className:g.default.promoDisclaimer},u.default.createElement(f.Text,{typography:"body-short-s",align:"center",weight:"medium"},h))))});t.CloseButton=(e=>{var{className:t}=e,n=a(e,["className"]);const r=u.useCallback(e=>u.default.createElement(h.CrossIcon24,{className:e}),[]),i=v.useCommonText(y.CLOSE_COMMON_TEXT);return u.default.createElement("div",{className:c.default(t,g.default.close)},u.default.createElement(d.Button,Object.assign({className:g.default.closeButton,size:"xxl",view:"clear",icon:r,"aria-label":i},n)))});t.Content=(e=>{var{className:t,children:n}=e,r=a(e,["className","children"]);return u.default.createElement("div",Object.assign({className:c.default(g.default.contentWrapper,t)},r),u.default.createElement("div",{className:g.default.content},n))});t.Benefits=(e=>{var{className:t}=e,n=a(e,["className"]);return u.default.createElement("div",Object.assign({className:c.default(t,g.default.benefits)},n))});t.Illustration=(({className:e,illustration:t})=>u.default.createElement("div",{className:c.default(e,g.default.illustration)},u.default.createElement(l.Image,{alt:"Illustration",className:g.default.image,src:null===t||void 0===t?void 0:t.src,srcSet:null===t||void 0===t?void 0:t.srcSet,stub:u.default.createElement("div",{className:g.default.imageStub}),"aria-hidden":!0})));t.Logo=(e=>u.default.createElement("div",{className:c.default(g.default.logo),"aria-hidden":!0},u.default.createElement(m.YaLogoIcon,Object.assign({className:g.default.icon},e))));t.Title=(e=>{var{className:t}=e,n=a(e,["className"]);return u.default.createElement(f.Text,Object.assign({className:c.default(t,g.default.title),weight:"bold",typography:"headline-l"},n))});t.BenefitItem=(({icon:e,className:t,children:n})=>u.default.createElement("div",{className:c.default(t,g.default.benefitItem)},u.default.createElement(l.Image,{src:e,className:g.default.benefitItemImage}),u.default.createElement(f.Text,{typography:"subheader-m",className:g.default.benefitItemText},n)));t.ButtonsWrapper=(e=>u.default.createElement("div",Object.assign({},e,{className:c.default(e.className,g.default.buttonsWrapper)})));t.PromoButton=(e=>{var{hasSecondRow:t}=e,n=a(e,["hasSecondRow"]);const r=n.url?{type:"link",target:"_blank",rel:"noopener"}:{};return u.default.createElement(d.Button,Object.assign({view:"premium",size:"xxl"},r,n,{className:c.default(n.className,g.default.promoButton,{[g.default.tall]:t})}))})}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withGenericIcon=void 0;const o=i(n(0)),a=i(n(87)),s=i(n(2213));t.withGenericIcon=function(e){return function(t){const{size:n,className:i,iconClassName:u}=t,c=r(t,["size","className","iconClassName"]);return n&&(c.width=`${n}px`,c.height=`${n}px`),o.default.createElement("span",{className:a.default(i,s.default.root)},o.default.createElement(e,Object.assign({},c,{className:a.default(u,s.default.icon)})))}}}),(function(e,t,n){"use strict";n.r(t);n(2214);t.default={root:"GenericIcon_root_rsK7A",icon:"GenericIcon_icon_jEnnt"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.207 6.207a1 1 0 0 0-1.414-1.414L12 10.586 6.207 4.793a1 1 0 0 0-1.414 1.414L10.586 12l-5.793 5.793a1 1 0 1 0 1.414 1.414L12 13.414l5.793 5.793a1 1 0 0 0 1.414-1.414L13.414 12l5.793-5.793Z",fill:"currentColor"})));t.default=o}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.792 1.793a1 1 0 0 0 0 1.414L6.585 8l-4.793 4.793a1 1 0 1 0 1.414 1.414L8 9.414l4.793 4.793a1 1 0 0 0 1.414-1.414L9.413 8l4.793-4.793a1 1 0 1 0-1.414-1.414L7.999 6.586 3.206 1.793a1 1 0 0 0-1.414 0Z",clipRule:"evenodd"})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2218),t)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.YaLogoIcon=t.logo=void 0;const i=r(n(0)),o=n(224),a=r(n(2219)),s=r(n(2220)),u=r(n(2221)),c=r(n(2222));t.logo={[o.ThemeType.dark]:{en:a.default,ru:s.default},[o.ThemeType.light]:{en:u.default,ru:c.default}};t.YaLogoIcon=(({lang:e,themeType:n,className:r})=>{const o=t.logo[n][e];return i.default.createElement(o,{className:r})})}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({viewBox:"0 0 246 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{clipPath:"url(#prefix__a)"},r.createElement("path",{d:"M155.387 40c11.045 0 20-8.954 20-20s-8.955-20-20-20c-11.046 0-20 8.954-20 20s8.954 20 20 20Z",fill:"url(#prefix__b)"}),r.createElement("path",{d:"M155.386 31.6c3.755 0 6.8-5.194 6.8-11.6 0-6.407-3.045-11.6-6.8-11.6-3.756 0-6.8 5.193-6.8 11.6 0 6.406 3.044 11.6 6.8 11.6Z",fill:"#fff"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M142.638 10.8c-2.018-.104-4.45 4.12-4.45 9.198 0 5.08 2.432 9.302 4.45 9.198 2.001-.104 3.15-4.119 3.15-9.198 0-5.079-1.149-9.094-3.15-9.198ZM168.138 29.197c2.018.103 4.45-4.12 4.45-9.199s-2.432-9.302-4.45-9.198c-2.001.104-3.15 4.12-3.15 9.198 0 5.08 1.149 9.095 3.15 9.198Z",fill:"#fff"})),r.createElement("path",{d:"M192.677 8.908h-9.759V4.556h16.132V7.24l-6.858 9.184c5.584.79 8.309 4.261 8.309 9.407s-3.21 9.712-10.635 9.712c-2.768 0-5.36-.747-7.339-1.845v-4.438c1.979.966 3.824 2.197 7.386 2.197 3.562 0 5.408-2.506 5.408-5.583 0-3.429-2.197-5.536-6.33-5.536h-2.944v-2.683l6.634-8.746h-.004Zm10.24 12.394c0-10.639 3.605-17.274 11.605-17.274 2.901 0 4.789.614 6.373 1.408v4.442c-1.802-1.013-3.781-1.803-6.283-1.803-4.485 0-6.592 3.078-6.944 10.197 1.318-2.154 3.605-3.429 6.506-3.429 5.009 0 8.395 3.472 8.395 9.846 0 6.858-4.219 10.858-9.408 10.858-6.506 0-10.24-4.485-10.24-14.24m10.155-2.288c-2.944 0-4.88 2.33-4.88 6.064 0 4.086 1.845 6.373 4.528 6.373 2.858 0 4.527-2.24 4.527-6.416 0-4.175-1.845-6.02-4.175-6.02Zm22.505 16.528c-5.536 0-10.197-4.262-10.197-15.781 0-10.858 4.528-15.733 10.197-15.733 5.67 0 10.154 4.175 10.154 15.733s-4.57 15.78-10.154 15.78Zm.043-27.386c-2.725 0-4.922 2.725-4.922 11.562s2.154 11.69 4.922 11.69c3.12 0 4.837-3.69 4.837-11.604 0-8.614-2.24-11.648-4.837-11.648ZM15.312 35.108v-5.177c0-3.905-.483-5.045-1.974-8.292L5.528 4.616H0l10.003 21.761v8.731h5.309Zm3.466-15.75L25.27 4.616h-5.396L13.38 19.358h5.397Zm55.456 16.189c2.456 0 4.475-1.14 5.879-3.29l.263 2.851h4.826V4.616H79.98v11.012c-1.316-1.974-3.247-3.027-5.528-3.027-5.046 0-8.555 4.256-8.555 11.626 0 7.284 3.422 11.32 8.336 11.32Zm32.071-1.93V29.36c-1.624 1.096-4.344 2.062-6.888 2.062-3.817 0-5.265-1.8-5.484-5.484h12.591v-2.764c0-7.678-3.378-10.574-8.599-10.574-6.362 0-9.389 4.87-9.389 11.539 0 7.678 3.773 11.407 10.442 11.407 3.334 0 5.791-.878 7.327-1.93ZM40.627 20.06c0-5.353-2.72-7.371-8.249-7.371-3.422 0-6.186 1.448-7.765 2.588v4.52c1.667-1.36 4.212-2.94 7.151-2.94 2.501 0 3.642.877 3.642 3.247v1.403h-.834c-7.985 0-11.539 2.589-11.539 7.196 0 4.255 2.72 6.712 6.757 6.712 3.071 0 4.387-1.009 5.396-2.062h.22c.044.57.22 1.316.395 1.755h5.089a55.541 55.541 0 0 1-.263-5.396V20.06Zm9.476-.79c.965-1.185 2.501-2.194 4.387-2.194 1.843 0 2.677.79 2.677 2.457v15.575h5.22V19.007c0-4.388-1.754-6.318-6.01-6.318-3.115 0-4.958 1.14-6.01 2.194h-.264l-.131-1.843h-5.09v22.068h5.221V19.27Zm72.259 15.838h5.879l-7.195-11.363 6.23-10.705h-5.221l-3.773 6.669-4.212-6.67h-5.879l6.669 10.574-6.932 11.495h5.309l4.431-7.458 4.694 7.458ZM75.769 16.725c2.808 0 4.212 2.238 4.212 7.327 0 5.133-1.492 7.37-4.431 7.37-2.852 0-4.256-2.193-4.256-7.195 0-5.22 1.492-7.502 4.475-7.502Zm22.068 0c2.589 0 3.378 2.15 3.378 4.914v.439h-7.282c.131-3.51 1.403-5.353 3.904-5.353ZM35.406 29.843c-.658.965-1.887 1.755-3.73 1.755-2.193 0-3.29-1.272-3.29-3.203 0-2.544 1.799-3.422 6.274-3.422h.746v4.87Z",fill:"#fff"}),r.createElement("defs",null,r.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 25.6 -33.2388 0 155.387 14.4)"},r.createElement("stop",{stopColor:"#FF9A6F"}),r.createElement("stop",{offset:.61,stopColor:"#FF6427"}),r.createElement("stop",{offset:1,stopColor:"#EB581E"})),r.createElement("clipPath",{id:"prefix__a"},r.createElement("path",{fill:"#fff",transform:"translate(135.387)",d:"M0 0h40v40H0z"})))));t.default=o}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({viewBox:"0 0 245 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M153.323 41.002c11.185 0 20.252-8.955 20.252-20.002 0-11.047-9.067-20.003-20.252-20.003C142.138.997 133.07 9.953 133.07 21s9.068 20.002 20.253 20.002Z",fill:"url(#prefix__a)"}),r.createElement("path",{d:"M153.324 32.606c3.803 0 6.886-5.194 6.886-11.602S157.127 9.4 153.324 9.4s-6.886 5.195-6.886 11.603c0 6.408 3.083 11.602 6.886 11.602Z",fill:"#fff"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M140.409 11.798c-2.044-.104-4.507 4.12-4.507 9.2 0 5.08 2.463 9.304 4.507 9.2 2.027-.104 3.19-4.12 3.19-9.2 0-5.08-1.163-9.096-3.19-9.2ZM166.233 30.198c2.044.104 4.507-4.12 4.507-9.2 0-5.08-2.463-9.304-4.507-9.2-2.027.104-3.19 4.12-3.19 9.2 0 5.08 1.163 9.096 3.19 9.2Z",fill:"#fff"}),r.createElement("path",{d:"M14.971 9.628h-2.37c-4.348 0-6.629 2.168-6.629 5.378 0 3.641 1.582 5.335 4.832 7.503l2.68 1.778-7.73 11.408H0l6.937-10.192C2.94 22.678.703 19.947.703 15.306c0-5.81 4.082-9.756 11.854-9.756h7.726v30.14h-5.312V9.629Zm27.182 4.251v21.816h-5.27v-9.108h-6.98v9.108h-5.225v-21.82h5.226v8.63h6.98v-8.63h5.269v.004Zm23.532 26.626h-4.827v-4.814H49.132v4.814H44.3v-8.892h1.625c1.844-3.642 2.195-10.54 2.195-15.875v-1.863h15.237v17.738h2.328v8.892Zm-7.55-22.552h-5.53v.652c0 3.773-.394 9.714-1.844 13.012h7.379V17.953h-.005Zm19.276 17.996c-6.675 0-10.452-3.642-10.452-11.103 0-6.546 3.03-11.318 9.397-11.318 5.227 0 8.605 2.82 8.605 10.366v2.73h-12.6c.218 3.515 1.71 5.247 5.487 5.247 2.547 0 5.312-.825 6.894-1.863v4.205c-1.492 1-3.995 1.736-7.33 1.736Zm-5.05-13.14h7.288v-.431c0-2.69-.789-4.772-3.383-4.772-2.593 0-3.777 1.778-3.91 5.204m21.338 2.168V35.69h-5.226V13.875h5.226v10.061l7.379-10.06h5.269l-7.379 10.06 8.386 11.75h-5.929l-7.73-10.713.004.005Zm13.346-.174c0-6.593 3.469-11.276 10.144-11.276 2.59 0 4.523.432 5.621 1.041v4.379c-1.055-.652-3.031-1.342-5.051-1.342-3.425 0-5.312 2.383-5.312 7.067 0 4.425 1.535 7.198 5.27 7.198 2.195 0 3.777-.563 5.093-1.473v4.209c-1.274.91-2.984 1.342-5.402 1.342-6.98 0-10.363-3.989-10.363-11.145ZM190.94 9.843h-9.749V5.549h16.116v2.647l-6.851 9.061c5.577.78 8.3 4.205 8.3 9.282s-3.207 9.582-10.624 9.582c-2.765 0-5.355-.736-7.331-1.82v-4.379c1.976.953 3.82 2.168 7.378 2.168 3.559 0 5.402-2.473 5.402-5.509 0-3.383-2.195-5.462-6.324-5.462h-2.941v-2.646l6.628-8.63h-.004Zm10.23 12.229c0-10.497 3.601-17.044 11.592-17.044 2.899 0 4.785.606 6.367 1.39V10.8c-1.801-1-3.777-1.779-6.277-1.779-4.48 0-6.585 3.036-6.936 10.061 1.316-2.125 3.601-3.383 6.499-3.383 5.003 0 8.386 3.426 8.386 9.714 0 6.766-4.214 10.713-9.398 10.713-6.499 0-10.229-4.425-10.229-14.05m10.144-2.257c-2.941 0-4.875 2.3-4.875 5.983 0 4.031 1.844 6.288 4.523 6.288 2.855 0 4.523-2.21 4.523-6.33s-1.843-5.941-4.171-5.941ZM233.8 36.126c-5.53 0-10.186-4.205-10.186-15.57 0-10.713 4.523-15.523 10.186-15.523 5.664 0 10.144 4.12 10.144 15.523 0 11.403-4.566 15.57-10.144 15.57Zm.043-27.02c-2.722 0-4.918 2.689-4.918 11.408 0 8.718 2.153 11.534 4.918 11.534 3.117 0 4.832-3.642 4.832-11.45 0-8.498-2.238-11.492-4.832-11.492Z",fill:"#fff"}),r.createElement("defs",null,r.createElement("radialGradient",{id:"prefix__a",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 25.6034 -33.6585 0 153.323 15.399)"},r.createElement("stop",{stopColor:"#FF9A6F"}),r.createElement("stop",{offset:.61,stopColor:"#FF6427"}),r.createElement("stop",{offset:1,stopColor:"#EB581E"})))));t.default=o}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({viewBox:"0 0 246 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{clipPath:"url(#prefix__a)"},r.createElement("path",{d:"M155.387 40c11.045 0 20-8.954 20-20s-8.955-20-20-20c-11.046 0-20 8.954-20 20s8.954 20 20 20Z",fill:"url(#prefix__b)"}),r.createElement("path",{d:"M155.386 31.6c3.755 0 6.8-5.194 6.8-11.6 0-6.407-3.045-11.6-6.8-11.6-3.756 0-6.8 5.193-6.8 11.6 0 6.406 3.044 11.6 6.8 11.6Z",fill:"#fff"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M142.638 10.8c-2.018-.104-4.45 4.12-4.45 9.198 0 5.08 2.432 9.302 4.45 9.198 2.001-.104 3.15-4.119 3.15-9.198 0-5.079-1.149-9.094-3.15-9.198ZM168.138 29.197c2.018.103 4.45-4.12 4.45-9.199s-2.432-9.302-4.45-9.198c-2.001.104-3.15 4.12-3.15 9.198 0 5.08 1.149 9.095 3.15 9.198Z",fill:"#fff"})),r.createElement("path",{d:"M192.677 8.908h-9.759V4.556h16.132V7.24l-6.858 9.184c5.584.79 8.309 4.261 8.309 9.407s-3.21 9.712-10.635 9.712c-2.768 0-5.36-.747-7.339-1.845v-4.438c1.979.966 3.824 2.197 7.386 2.197 3.562 0 5.408-2.506 5.408-5.583 0-3.429-2.197-5.536-6.33-5.536h-2.944v-2.683l6.634-8.746h-.004Zm10.24 12.394c0-10.639 3.605-17.274 11.605-17.274 2.901 0 4.789.614 6.373 1.408v4.442c-1.802-1.013-3.781-1.803-6.283-1.803-4.485 0-6.592 3.078-6.944 10.197 1.318-2.154 3.605-3.429 6.506-3.429 5.009 0 8.395 3.472 8.395 9.846 0 6.858-4.219 10.858-9.408 10.858-6.506 0-10.24-4.485-10.24-14.24m10.155-2.288c-2.944 0-4.88 2.33-4.88 6.064 0 4.086 1.845 6.373 4.528 6.373 2.858 0 4.527-2.24 4.527-6.416 0-4.175-1.845-6.02-4.175-6.02Zm22.505 16.528c-5.536 0-10.197-4.262-10.197-15.781 0-10.858 4.528-15.733 10.197-15.733 5.67 0 10.154 4.175 10.154 15.733s-4.57 15.78-10.154 15.78Zm.043-27.386c-2.725 0-4.922 2.725-4.922 11.562s2.154 11.69 4.922 11.69c3.12 0 4.837-3.69 4.837-11.604 0-8.614-2.24-11.648-4.837-11.648ZM15.312 35.108v-5.177c0-3.905-.483-5.045-1.974-8.292L5.528 4.616H0l10.003 21.761v8.731h5.309Zm3.466-15.75L25.27 4.616h-5.396L13.38 19.358h5.397Zm55.456 16.189c2.456 0 4.475-1.14 5.879-3.29l.263 2.851h4.826V4.616H79.98v11.012c-1.316-1.974-3.247-3.027-5.528-3.027-5.046 0-8.555 4.256-8.555 11.626 0 7.284 3.422 11.32 8.336 11.32Zm32.071-1.93V29.36c-1.624 1.096-4.344 2.062-6.888 2.062-3.817 0-5.265-1.8-5.484-5.484h12.591v-2.764c0-7.678-3.378-10.574-8.599-10.574-6.362 0-9.389 4.87-9.389 11.539 0 7.678 3.773 11.407 10.442 11.407 3.334 0 5.791-.878 7.327-1.93ZM40.627 20.06c0-5.353-2.72-7.371-8.249-7.371-3.422 0-6.186 1.448-7.765 2.588v4.52c1.667-1.36 4.212-2.94 7.151-2.94 2.501 0 3.642.877 3.642 3.247v1.403h-.834c-7.985 0-11.539 2.589-11.539 7.196 0 4.255 2.72 6.712 6.757 6.712 3.071 0 4.387-1.009 5.396-2.062h.22c.044.57.219 1.316.395 1.755h5.089a55.541 55.541 0 0 1-.263-5.396V20.06Zm9.476-.79c.965-1.185 2.501-2.194 4.387-2.194 1.843 0 2.677.79 2.677 2.457v15.575h5.22V19.007c0-4.388-1.754-6.318-6.01-6.318-3.115 0-4.958 1.14-6.01 2.194h-.264l-.131-1.843h-5.09v22.068h5.221V19.27Zm72.259 15.838h5.879l-7.195-11.363 6.23-10.705h-5.221l-3.773 6.669-4.212-6.67h-5.879l6.669 10.574-6.932 11.495h5.309l4.431-7.458 4.694 7.458ZM75.769 16.725c2.808 0 4.212 2.238 4.212 7.327 0 5.133-1.492 7.37-4.431 7.37-2.852 0-4.256-2.193-4.256-7.195 0-5.22 1.492-7.502 4.475-7.502Zm22.068 0c2.589 0 3.378 2.15 3.378 4.914v.439h-7.282c.131-3.51 1.403-5.353 3.904-5.353ZM35.406 29.843c-.658.965-1.887 1.755-3.73 1.755-2.193 0-3.29-1.272-3.29-3.203 0-2.544 1.799-3.422 6.274-3.422h.746v4.87Z",fill:"#000"}),r.createElement("defs",null,r.createElement("radialGradient",{id:"prefix__b",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 25.6 -33.2388 0 155.387 14.4)"},r.createElement("stop",{stopColor:"#FF9A6F"}),r.createElement("stop",{offset:.61,stopColor:"#FF6427"}),r.createElement("stop",{offset:1,stopColor:"#EB581E"})),r.createElement("clipPath",{id:"prefix__a"},r.createElement("path",{fill:"#fff",transform:"translate(135.387)",d:"M0 0h40v40H0z"})))));t.default=o}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({viewBox:"0 0 245 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M153.323 41.002c11.185 0 20.252-8.955 20.252-20.002 0-11.047-9.067-20.003-20.252-20.003C142.138.997 133.07 9.953 133.07 21s9.068 20.002 20.253 20.002Z",fill:"url(#prefix__a)"}),r.createElement("path",{d:"M153.324 32.606c3.803 0 6.886-5.194 6.886-11.602S157.127 9.4 153.324 9.4s-6.886 5.195-6.886 11.603c0 6.408 3.083 11.602 6.886 11.602Z",fill:"#fff"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M140.409 11.798c-2.044-.104-4.507 4.12-4.507 9.2 0 5.08 2.463 9.304 4.507 9.2 2.027-.104 3.19-4.12 3.19-9.2 0-5.08-1.163-9.096-3.19-9.2ZM166.233 30.198c2.044.104 4.507-4.12 4.507-9.2 0-5.08-2.463-9.304-4.507-9.2-2.027.104-3.19 4.12-3.19 9.2 0 5.08 1.163 9.096 3.19 9.2Z",fill:"#fff"}),r.createElement("path",{d:"M14.971 9.628h-2.37c-4.348 0-6.629 2.168-6.629 5.378 0 3.641 1.582 5.335 4.832 7.503l2.68 1.778-7.73 11.408H0l6.937-10.192C2.94 22.678.703 19.947.703 15.306c0-5.81 4.082-9.756 11.854-9.756h7.726v30.14h-5.312V9.629Zm27.182 4.251v21.816h-5.27v-9.108h-6.98v9.108h-5.225v-21.82h5.226v8.63h6.98v-8.63h5.269v.004Zm23.532 26.626h-4.827v-4.814H49.132v4.814H44.3v-8.892h1.625c1.844-3.642 2.195-10.54 2.195-15.875v-1.863h15.237v17.738h2.328v8.892Zm-7.55-22.552h-5.53v.652c0 3.773-.394 9.714-1.844 13.012h7.379V17.953h-.005Zm19.276 17.996c-6.675 0-10.452-3.642-10.452-11.103 0-6.546 3.03-11.318 9.397-11.318 5.227 0 8.605 2.82 8.605 10.366v2.73h-12.6c.218 3.515 1.71 5.247 5.487 5.247 2.547 0 5.312-.825 6.894-1.863v4.205c-1.492 1-3.995 1.736-7.33 1.736Zm-5.05-13.14h7.288v-.431c0-2.69-.789-4.772-3.383-4.772-2.593 0-3.777 1.778-3.91 5.204m21.338 2.168V35.69h-5.226V13.875h5.226v10.061l7.379-10.06h5.269l-7.379 10.06 8.386 11.75h-5.929l-7.73-10.713.004.005Zm13.346-.174c0-6.593 3.469-11.276 10.144-11.276 2.59 0 4.523.432 5.621 1.041v4.379c-1.055-.652-3.031-1.342-5.051-1.342-3.425 0-5.312 2.383-5.312 7.067 0 4.425 1.535 7.198 5.27 7.198 2.195 0 3.777-.563 5.093-1.473v4.209c-1.274.91-2.984 1.342-5.402 1.342-6.98 0-10.363-3.989-10.363-11.145ZM190.94 9.843h-9.749V5.549h16.116v2.647l-6.851 9.061c5.577.78 8.3 4.205 8.3 9.282s-3.207 9.582-10.624 9.582c-2.765 0-5.355-.736-7.331-1.82v-4.379c1.976.953 3.82 2.168 7.378 2.168 3.559 0 5.402-2.473 5.402-5.509 0-3.383-2.195-5.462-6.324-5.462h-2.941v-2.646l6.628-8.63h-.004Zm10.23 12.229c0-10.497 3.601-17.044 11.592-17.044 2.899 0 4.785.606 6.367 1.39V10.8c-1.801-1-3.777-1.779-6.277-1.779-4.48 0-6.585 3.036-6.936 10.061 1.316-2.125 3.601-3.383 6.499-3.383 5.003 0 8.386 3.426 8.386 9.714 0 6.766-4.214 10.713-9.398 10.713-6.499 0-10.229-4.425-10.229-14.05m10.144-2.257c-2.941 0-4.875 2.3-4.875 5.983 0 4.031 1.844 6.288 4.523 6.288 2.855 0 4.523-2.21 4.523-6.33s-1.843-5.941-4.171-5.941ZM233.8 36.126c-5.53 0-10.186-4.205-10.186-15.57 0-10.713 4.523-15.523 10.186-15.523 5.664 0 10.144 4.12 10.144 15.523 0 11.403-4.566 15.57-10.144 15.57Zm.043-27.02c-2.722 0-4.918 2.689-4.918 11.408 0 8.718 2.153 11.534 4.918 11.534 3.117 0 4.832-3.642 4.832-11.45 0-8.498-2.238-11.492-4.832-11.492Z",fill:"#000"}),r.createElement("defs",null,r.createElement("radialGradient",{id:"prefix__a",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 25.6034 -33.6585 0 153.323 15.399)"},r.createElement("stop",{stopColor:"#FF9A6F"}),r.createElement("stop",{offset:.61,stopColor:"#FF6427"}),r.createElement("stop",{offset:1,stopColor:"#EB581E"})))));t.default=o}),(function(e,t,n){"use strict";n.r(t);n(2224);t.default={contentHorizontalMargin:"40px",benefitsRightMargin:"52px",logoHeight:"40px",logoMidHeight:"32px",logoMinHeight:"28px",root:"Fullscreen_root_IbVrl",background:"Fullscreen_background_84rVN",backgroundStub:"Fullscreen_backgroundStub_3QG1D",close:"Fullscreen_close_XbzpK",closeButton:"Fullscreen_closeButton_HREI7",contentWrapper:"Fullscreen_contentWrapper_xkpNY",content:"Fullscreen_content_xhU-j",benefits:"Fullscreen_benefits_d4OX-",image:"Fullscreen_image_HV5yL",imageStub:"Fullscreen_imageStub_KATvx",logo:"Fullscreen_logo_vb5EV",icon:"Fullscreen_icon_qTrn2",illustration:"Fullscreen_illustration_Gojg9",title:"Fullscreen_title_uTUgc",benefitItem:"Fullscreen_benefitItem_RzUav",benefitItemImage:"Fullscreen_benefitItemImage_cj23V",buttonsWrapper:"Fullscreen_buttonsWrapper_M-1cV",promoButton:"Fullscreen_promoButton_BdXJ7",tall:"Fullscreen_tall_a21oN",benefitItemText:"Fullscreen_benefitItemText_qj8Jx",promoContentWrapper:"Fullscreen_promoContentWrapper_fWUQV",promoDisclaimer:"Fullscreen_promoDisclaimer_T0Zq9"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2226),t)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoButtonContent=void 0;const i=r(n(0)),o=r(n(87)),a=n(390),s=r(n(2227));t.PromoButtonContent=(({text:e,crossedPrice:t,actualPrice:n,infoText:r})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(a.Text,{className:s.default.text,typography:"body-short-l"},e),t?i.default.createElement(a.Text,{typography:"body-short-l",className:o.default(s.default.text,s.default.crossed)},t):null,n?i.default.createElement(a.Text,{className:s.default.text,typography:"body-short-l"},t?n:` ${n}`):null,r?i.default.createElement(a.Text,{typography:"body-short-s",className:o.default(s.default.text,s.default.infoText)},r):null))}),(function(e,t,n){"use strict";n.r(t);n(2228);t.default={crossed:"PromoButtonContent_crossed_mBdU6",text:"PromoButtonContent_text_tz0ov",infoText:"PromoButtonContent_infoText_lEJvj"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2230),t)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PopupPromo=void 0;const a=o(n(0)),s=n(163),u=n(127),c=n(178),l=n(139),d=n(345),f=n(396),p=n(346),h=n(487);t.PopupPromo=(({isActive:e,promo:t,onDeactivate:n})=>{const{theme:r}=a.useContext(c.ThemeContext),i=l.useThemeType(),o=l.usePromoActions(n),m=l.usePromoTranslations(),{titleText:v,descriptionText:g,cancelButtonText:y,actionButtonText:b}=m,_=l.usePromoLink(t),{isDisclaimerVisible:O}=t,{lang:E}=a.useContext(d.TranslationsContext),{platform:w}=a.useContext(p.EnvironmentContext),{imageStore:S}=a.useContext(h.ImagesContext),C=a.useMemo(()=>{const e=f.getPromoPicturesByNames(S.pictures,t.pictureNames);return f.getPromoImage(e&&e.length?e:t.images,{themeType:i,lang:E,platform:w},t.illustration)},[S,E,w,t,i]),x=a.useMemo(()=>{const e=f.getPromoPicturesByNames(S.backgrounds,t.backgroundNames);return f.getPromoImage(e,{themeType:i,lang:E,platform:w},t.background)},[S,t,E,w,i]);return a.default.createElement(u.Popup,{visible:e,className:s.cnTheme(r),background:x,onClose:o.onClose,onCloseClick:o.onCloseButtonClick,isDisclaimerVisible:O},a.default.createElement(u.PopupContent,{image:C},a.default.createElement(u.PopupTexts,null,v&&a.default.createElement(u.PopupTitle,null,v),g&&a.default.createElement(u.PopupDescription,null,g)),a.default.createElement(u.PopupButtons,null,y&&a.default.createElement(u.PopupCancelButton,{width:"max",onClick:o.onCancelButtonClick},y),a.default.createElement(u.PopupActionButton,{view:t.actionButtonView,url:_,onClick:o.onActionButtonClick,width:y?"max":void 0},b))))})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2232),t)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipPromo=void 0;const a=o(n(0)),s=n(163),u=n(139),c=n(178),l=n(345),d=n(346),f=n(487),p=n(1033),h=n(396),m=n(2233);t.TooltipPromo=(({promo:e,isActive:t,onDeactivate:n})=>{const r=u.usePromoLink(e),{theme:i}=a.useContext(c.ThemeContext),{lang:o}=a.useContext(l.TranslationsContext),{platform:v}=a.useContext(d.EnvironmentContext),{imageStore:g}=a.useContext(f.ImagesContext),{isDisclaimerVisible:y}=e,b=u.useThemeType(),_=u.usePromoTranslations(),O=u.usePromoActions(n),E=a.useRef(p.getVisiblePromoAnchorElement(e.anchor)),{image:w,color:S}=a.useMemo(()=>{var t;const n=h.getPromoPicturesByNames(g.backgrounds,e.backgroundNames);return h.getPromoImageWithColor(n,{themeType:b,lang:o,platform:v},e.background,null===(t=e.background)||void 0===t?void 0:t[b].color)},[g,e,o,v,b]),C=a.useMemo(()=>{const t=h.getPromoPicturesByNames(g.pictures,e.pictureNames);return h.getPromoImage(t&&t.length?t:e.images,{themeType:b,lang:o,platform:v},e.illustration)},[g,o,v,e,b]);return a.default.createElement(m.TooltipPromo,{anchor:E,link:r,direction:e.direction,visible:t,className:s.cnTheme(i),backgroundSources:w,backgroundColor:S,isDisclaimerVisible:y,onClose:O.onClose,image:C,texts:_,actions:O,actionButtonView:e.actionButtonView})})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2234),t)}),(function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipPromo=void 0;const o=i(n(0)),a=n(2235);t.TooltipPromo=(e=>{var{link:t,image:n,texts:i,isDisclaimerVisible:s,actionButtonView:u,actions:c}=e,l=r(e,["link","image","texts","isDisclaimerVisible","actionButtonView","actions"]);const d=Boolean(i.actionButtonText||i.cancelButtonText);return o.default.createElement(a.Tooltip,Object.assign({hasClose:!1,hasIcon:Boolean(n),texts:i,isDisclaimerVisible:s},l),n&&o.default.createElement(a.TooltipSideImage,{image:n,width:80,height:80}),o.default.createElement(a.TooltipContent,null,i.titleText&&o.default.createElement(a.TooltipTitle,null,i.titleText),i.descriptionText&&o.default.createElement(a.TooltipDescription,null,i.descriptionText),d&&o.default.createElement(a.TooltipButtons,null,o.default.createElement(a.TooltipActionButton,{view:u,url:t,onClick:c.onActionButtonClick},i.actionButtonText),i.cancelButtonText&&o.default.createElement(a.TooltipCancelButton,{onClick:c.onCancelButtonClick},i.cancelButtonText))),o.default.createElement(a.TooltipCustomClose,{onClick:c.onCloseButtonClick}))})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2236),t)}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipCorner=t.TooltipCancelButton=t.TooltipActionButton=t.TooltipButtons=t.TooltipDescription=t.TooltipTitle=t.TooltipContent=t.TooltipCustomClose=t.TooltipSideImage=t.Tooltip=void 0;const u=o(n(0)),c=s(n(87)),l=n(2237),d=n(390),f=s(n(2239)),p=n(787),h=n(788),m=n(1113),v=n(139),g=n(1115),y=n(223),b=["top-start","top","top-end"];t.Tooltip=(e=>{var{anchor:t,onClose:n,className:r,children:i,texts:o,backgroundSources:s,isDisclaimerVisible:d,backgroundColor:p,hasIcon:h,contentClassName:m}=e,v=a(e,["anchor","onClose","className","children","texts","backgroundSources","isDisclaimerVisible","backgroundColor","hasIcon","contentClassName"]);const y=u.useCallback(e=>null===n||void 0===n?void 0:n(e,"click"),[n]);u.useEffect(()=>{const e=null===t||void 0===t?void 0:t.current;return e&&e.addEventListener("click",y),()=>{e&&e.removeEventListener("click",y)}},[t,y]);const _={style:{"--custom-bg-color":p}};return u.default.createElement(l.MessageBoxPopup,Object.assign({view:"default",size:"m",layout:"functional",direction:"bottom",opaque:!0,hasTail:!0,tailType:"rounded",visible:!0,background:s&&u.default.createElement("img",{alt:"Background",className:f.default.background,src:s.src,srcSet:s.srcSet,"aria-hidden":!0}),className:c.default(r,f.default.container,{[f.default.withIcon]:h}),anchor:t,onClose:n,"data-test-id":"promozavr-tooltip"},_,v),u.default.createElement("div",{className:c.default(f.default.root,m)},d&&u.default.createElement(g.Disclaimer,{popupDirection:b,currentPromoType:(null===o||void 0===o?void 0:o.titleText)?"tooltipAbsolute":"tooltipRelative"}),i))});t.TooltipSideImage=(e=>{var{image:t}=e,n=a(e,["image"]);return u.default.createElement("div",{className:f.default.iconContainer},u.default.createElement(h.Image,Object.assign({className:f.default.icon,src:t.src,srcSet:t.srcSet,width:80,height:80},n)))});t.TooltipCustomClose=(e=>{const t=u.useCallback(e=>u.default.createElement(m.CrossIcon,{className:e,width:16,height:16}),[]),n=v.useCommonText(y.CLOSE_COMMON_TEXT);return u.default.createElement("div",{className:f.default.close},u.default.createElement(p.Button,Object.assign({view:"clear",size:"s",icon:t,"aria-label":n,"data-test-id":"promozavr-tooltip-close"},e)))});t.TooltipContent=(e=>u.default.createElement("div",Object.assign({},e,{className:c.default(e.className,f.default.contentContainer)})));t.TooltipTitle=(e=>{var{className:t}=e,n=a(e,["className"]);return u.default.createElement(d.Text,Object.assign({as:"h2",weight:"medium",typography:"body-short-xl",className:c.default(t,f.default.title)},n))});t.TooltipDescription=(e=>{var{className:t}=e,n=a(e,["className"]);return u.default.createElement(d.Text,Object.assign({typography:"body-short-l",className:c.default(t,f.default.desc)},n))});t.TooltipButtons=(e=>{var{className:t}=e,n=a(e,["className"]);return u.default.createElement("div",Object.assign({className:c.default(t,f.default.buttons)},n))});t.TooltipActionButton=(e=>{const{url:t}=e;return t?u.default.createElement(p.Button,Object.assign({view:"brand",size:"m",type:"link",target:"_blank",rel:"noopener","data-test-id":"promozavr-tooltip-cta"},e)):u.default.createElement(p.Button,Object.assign({view:"brand",size:"m","data-test-id":"promozavr-tooltip-cta"},e))});t.TooltipCancelButton=(e=>u.default.createElement(p.Button,Object.assign({view:"clear",size:"m"},e)));t.TooltipCorner=(e=>{var{illustrationSources:t,width:n,height:r}=e,i=a(e,["illustrationSources","width","height"]);return u.default.createElement(l.Corner,Object.assign({width:n,height:r},i),u.default.createElement(h.Image,{width:n,height:r,src:t.src,srcSet:t.srcSet}))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Corner=t.MessageBoxPopup=void 0;const r=n(3),i=n(31),o=n(903);Object.defineProperty(t,"Corner",{enumerable:!0,get:function(){return o.Corner}});const a=n(246),s=n(2238),u=r.compose(a.withViewDefault,a.withTargetAnchor)(a.Popup),c=new i.Registry({id:o.cnMessageBox()});c.set("Popup",u),t.MessageBoxPopup=r.compose(r.composeU(o.withSizeM),o.withViewDefault,i.withRegistry(c))(s.MessageBoxPopup)}),(function(e,t,n){"use strict";n.r(t);var r=n(1114);for(var i in r)"default"!==i&&(function(e){n.d(t,e,(function(){return r[e]}))})(i)}),(function(e,t,n){"use strict";n.r(t);n(2240);t.default={container:"Tooltip_container_iQWB9",withIcon:"Tooltip_withIcon_M486N",contentContainer:"Tooltip_contentContainer_HADuz",root:"Tooltip_root_6uGm8",close:"Tooltip_close_PpCbs",background:"Tooltip_background_n0ACD",title:"Tooltip_title_-zHML",desc:"Tooltip_desc_BkAdN",buttons:"Tooltip_buttons_1qiOg",iconContainer:"Tooltip_iconContainer_fOnj2"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Disclaimer=void 0;const s=o(n(0)),u=a(n(87)),c=n(163),l=n(139),d=n(390),f=n(2242),p=n(2247),h=a(n(2249)),m=a(n(2251)),v=a(n(2253)),g=a(n(2255)),y=a(n(2257)),b=a(n(2259)),_=a(n(2261)),O=a(n(2263)),E=a(n(2265)),w=n(223),S=n(178);t.Disclaimer=(({popupDirection:e,currentPromoType:t})=>{const[n,r]=s.default.useState(!1),i=s.useRef(null),o={tooltipRelative:{popup:m.default.popup,promoDisclaimerText:u.default(m.default.promoDisclaimerText,g.default.promoDisclaimerText)},tooltipAbsolute:{popup:m.default.popup,promoDisclaimerText:u.default(m.default.promoDisclaimerText,v.default.promoDisclaimerText)},topline:y.default,mobileFullscreen:b.default,drawer:_.default,banner:O.default,touchBanner:E.default},a=s.useCallback(()=>{r(!0)},[r]),C=s.useCallback(()=>{r(!1)},[r]),{darkTheme:x}=s.useContext(S.ThemeContext),T=l.useCommonText(w.AD_PROMO_DISCLAIMER),P=l.useCommonText(w.AD_FOR_DISCLAIMER);return s.default.createElement("div",{className:u.default(o[t].promoDisclaimerText,h.default.promoDisclaimerText)},s.default.createElement("div",{className:o[t].additionalTextProperties},s.default.createElement(d.Text,{typography:"body-short-s",className:u.default(o[t].promoInfoText,h.default.promoInfoText)},P)),s.default.createElement(f.InformerIcon,{tooltipRef:i,onMouseEnter:a,onMouseLeave:C}),s.default.createElement(p.Popup,{className:u.default(o[t].popup,h.default.popup,c.cnTheme(x)),direction:e,view:"default",target:"anchor",anchor:i,visible:n},s.default.createElement(d.Text,{weight:"medium",typography:"body-short-s",className:u.default(h.default.textPopupDisclaimer,o[t].promoInfoText)},T)))})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2243),t)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InformerIcon=void 0;const i=r(n(0)),o=r(n(2244)),a=r(n(2246));t.InformerIcon=(({tooltipRef:e,onMouseEnter:t,onMouseLeave:n})=>{const r={ref:e,onMouseEnter:t,onMouseLeave:n};return i.default.createElement("div",Object.assign({},r),i.default.createElement(a.default,{className:o.default.informer}))})}),(function(e,t,n){"use strict";n.r(t);n(2245);t.default={informer:"InformerIcon_informer_tyCr3"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=Object(r.memo)(e=>r.createElement("svg",i({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8Zm14 0A6 6 0 1 1 2 8a6 6 0 0 1 12 0Zm-6.43 4.586c-1.025 0-1.361-.628-1.361-1.21 0-.244.076-.611.137-.825l.604-2.49h-.79a.25.25 0 0 1-.243-.306l.077-.331a.35.35 0 0 1 .272-.264l2.357-.473a.5.5 0 0 1 .584.611l-.955 3.832a.19.19 0 0 0 .329.17l.869-1.002a.325.325 0 0 1 .511.399l-.402.573c-.734 1.07-1.407 1.316-1.989 1.316Zm-.346-7.428c0 .505.397.933 1.101.933.689 0 1.194-.382 1.347-.994.03-.123.045-.26.045-.368 0-.504-.397-.933-1.101-.933-.673 0-1.194.383-1.347.995-.03.122-.045.26-.045.367Z",fill:"#3A424B",fillOpacity:.2})));t.default=o}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2248),t)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=void 0;const r=n(3),i=n(246);t.Popup=r.compose(i.withViewDefault,i.withTargetAnchor,i.withThemeNormal)(i.Popup)}),(function(e,t,n){"use strict";n.r(t);n(2250);t.default={promoDisclaimerText:"Disclaimer_promoDisclaimerText_PJrpt",popup:"Disclaimer_popup_b9hq6",promoInfoText:"Disclaimer_promoInfoText_wtd3Y"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(2252);t.default={promoDisclaimerText:"Tooltip_promoDisclaimerText_tItfE",popup:"Tooltip_popup_om4bm"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(2254);t.default={promoDisclaimerText:"TooltipAbsolute_promoDisclaimerText_P-lxN"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(2256);t.default={promoDisclaimerText:"TooltipRelative_promoDisclaimerText_y5gry"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(2258);t.default={promoDisclaimerText:"Topline_promoDisclaimerText_-Ot3V",popup:"Topline_popup_RnYH7"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(2260);t.default={promoDisclaimerText:"MobileFullscreen_promoDisclaimerText_2b5Ft",popup:"MobileFullscreen_popup_hALyp"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(2262);t.default={promoDisclaimerText:"Drawer_promoDisclaimerText_6SrhC",popup:"Drawer_popup_UX1qY",additionalTextProperties:"Drawer_additionalTextProperties_w-Gsn"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(2264);t.default={promoDisclaimerText:"Banner_promoDisclaimerText_lTrtg",popup:"Banner_popup_lH6T8",promoInfoText:"Banner_promoInfoText_8Cjuo"}}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);n(2266);t.default={promoDisclaimerText:"TouchBanner_promoDisclaimerText_VenbH",popup:"TouchBanner_popup_hbzCD"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TopLinePromo=void 0;const s=o(n(0)),u=a(n(142)),c=n(163),l=n(2268),d=n(139),f=n(178),p=n(487),h=n(396);t.TopLinePromo=(({promo:e})=>{const t=d.useTranslation("Title"),n=d.useThemeType(),{theme:r}=s.useContext(f.ThemeContext),{imageStore:i}=s.useContext(p.ImagesContext),o=d.usePromoActions(u.default),a=d.usePromoLink(e),m=s.useMemo(()=>{const t=h.getPromoPicturesByNames(i.backgroundsCss,e.backgroundCssNames),r=null===t||void 0===t?void 0:t.find(e=>e.theme===n);return r?r.css:e.background?e.background[n]:void 0},[i,n,e]),[v,g,y,b]=s.useMemo(()=>{var t,n,r,o,a,s,u,c,l,d,f,p;return[null!==(r=null===(n=null===(t=null===i||void 0===i?void 0:i.icons)||void 0===t?void 0:t.find(t=>t.name===e.iconLeftName))||void 0===n?void 0:n.url)&&void 0!==r?r:e.imageLeftSvg,null!==(s=null===(a=null===(o=null===i||void 0===i?void 0:i.icons)||void 0===o?void 0:o.find(t=>t.name===e.iconRightName))||void 0===a?void 0:a.url)&&void 0!==s?s:e.imageRightSvg,null!==(l=null===(c=null===(u=null===i||void 0===i?void 0:i.pictures)||void 0===u?void 0:u.find(t=>t.name===e.imageLeftName))||void 0===c?void 0:c.urls)&&void 0!==l?l:e.imageLeftPng,null!==(p=null===(f=null===(d=null===i||void 0===i?void 0:i.pictures)||void 0===d?void 0:d.find(t=>t.name===e.imageRightName))||void 0===f?void 0:f.urls)&&void 0!==p?p:e.imageRightPng]},[i,e]),{isDisclaimerVisible:_}=e;return s.default.createElement(l.TopLine,{text:t,backgroundImage:m,imageLeftSvg:v,imageRightSvg:g,isDisclaimerVisible:_,link:a,className:c.cnTheme(r),onClick:o.onActionButtonClick,imageContainerSize:e.imageContainerSize,imageLeftPng:y,imageRightPng:b})})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2269),t)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TopLine=void 0;const i=r(n(0)),o=r(n(87)),a=n(2270),s=n(390),u=r(n(2272)),c=n(1054),l=n(1115),d=["bottom-start","bottom","bottom-end"],f=e=>`url(${e})`,p=e=>({maskImage:e,"-webkit-mask":e,"-webkit-mask-size":"contain","mask-size":"contain","-webkit-mask-repeat":"no-repeat","-webkit-mask-position":"100%"}),h=({containerSize:e,imagePngUrls:t,iconSvg:n,containerClass:r})=>i.default.createElement("div",{className:o.default(u.default.iconContainer,r),style:(e=>({"--icon-container-width-desktop":null===e||void 0===e?void 0:e.widthDesktop,"--icon-container-height-desktop":null===e||void 0===e?void 0:e.heightDesktop,"--icon-container-width-touch":null===e||void 0===e?void 0:e.widthTouch,"--icon-container-height-touch":null===e||void 0===e?void 0:e.heightTouch}))(e)},t&&!n?i.default.createElement("img",{alt:"Topline Image",srcSet:t}):null,n&&!t?i.default.createElement("div",{className:o.default(u.default.icon),style:p(f(n))}):null,n&&t?i.default.createElement("div",{className:o.default(u.default.icon),style:p(f(n))}):null);t.TopLine=(({backgroundImage:e,text:t,isDisclaimerVisible:n,link:r,className:f,onClick:p,imageLeftSvg:m,imageRightSvg:v,imageContainerSize:g,imageLeftPng:y,imageRightPng:b})=>{var _,O;const E=y&&(null===(_=c.getSrcsForImage(y))||void 0===_?void 0:_.srcSet),w=b&&(null===(O=c.getSrcsForImage(b))||void 0===O?void 0:O.srcSet),S=!(m||v||E||w);return i.default.createElement(a.Link,{className:o.default(f,u.default.container,{[u.default.noImage]:S}),style:{backgroundImage:e},href:r,target:"_blank",onClick:p},(E||m)&&g?i.default.createElement(h,{containerSize:g,imagePngUrls:E,iconSvg:m,containerClass:u.default.left}):null,i.default.createElement(s.Text,{typography:"headline-l",className:n?o.default(u.default.text,u.default.textWithDisclaimer):u.default.text},t),(w||v)&&g?i.default.createElement(h,{containerSize:g,imagePngUrls:w,iconSvg:v,containerClass:o.default(u.default.right,{[u.default.hidden]:n})}):null,n&&i.default.createElement(l.Disclaimer,{popupDirection:d,currentPromoType:"topline"}))})}),(function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2271),t)}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Link=void 0;const i=r(n(0)),o=n(393);t.Link=(e=>i.default.createElement(o.Link,Object.assign({},e)))}),(function(e,t,n){"use strict";n.r(t);n(2273);t.default={container:"TopLine_container_XItoJ",noImage:"TopLine_noImage_OpVUG",icon:"TopLine_icon_Xdp9L",text:"TopLine_text_m3VaJ",iconContainer:"TopLine_iconContainer_gGmEF",left:"TopLine_left_ktImj",right:"TopLine_right_TjG7-",textWithDisclaimer:"TopLine_textWithDisclaimer_hqfSA",hidden:"TopLine_hidden_RVr45"}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(39),u=n(86),c=n(81),l=i(n(2275)),d=i(n(1101)),f=i(n(2278)),p=i(n(2295)),h=i(n(2300));n(2303);const m=i(n(11)),v=()=>m.default()("LeftColumn"),g=a.connect(e=>({isDocsPage:s.isDocsPage(e),isDocsView:s.isDocsView(e),themeName:u.getThemeName(e)}));let y=0,b=0;t.default=g(({isDocsPage:e,isDocsView:t,themeName:n})=>{const r=o.useRef(null),i=o.useRef(null),a=o.useRef(null),s=o.useRef(null),[u,m]=o.useState(0),g=!e&&!t,_=o.useCallback(()=>{if(s.current&&a.current&&r.current){const e=r.current.getBoundingClientRect(),t=s.current.getBoundingClientRect(),n=a.current.getBoundingClientRect(),i=e.top>0?n.bottom:n.height+y,o=t.top-i-b;o!==u&&m(o)}},[u]);o.useEffect(()=>{if(i.current&&a.current&&g)return y=parseInt(getComputedStyle(i.current).top.replace("px",""),10),b=parseInt(getComputedStyle(a.current).marginBottom.replace("px",""),10),_(),window.addEventListener("scroll",_),window.addEventListener("resize",_),()=>{window.removeEventListener("scroll",_),window.removeEventListener("resize",_)}},[g,_]);const O=o.useCallback(()=>{_()},[_]);return o.default.createElement("div",{className:v().mix(c.getPageClassName(n)),ref:r},o.default.createElement("div",{className:v().e("InnerWrapperTop")},o.default.createElement("div",{className:v().e("StickyWrapperTop"),ref:i},o.default.createElement("div",{ref:a,className:v().e("Buttons").mix(c.getContentClassName(n))},e?o.default.createElement(d.default,null):o.default.createElement(l.default,null)),o.default.createElement(f.default,{maxHeight:u}))),o.default.createElement("div",{ref:s,className:v().e("InnerWrapperBottom")},t?null:o.default.createElement(p.default,{className:c.getContentClassName(n),onChangeCollapsed:O}),e?null:o.default.createElement(h.default,null)))})}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(57),u=n(58),c=n(112),l=n(29),d=n(29),f=n(65),p=i(n(509)),h=i(n(2407)),m=n(281),v=i(n(14)),g=n(92),y={openEditor:d.openEditor,createFolder:d.createFolder,requestNewAlbumTitle:f.requestNewAlbumTitle,upload:d.upload,maybeBlockAction:l.maybeBlockAction},b=a.connect(e=>{const{user:{isOfficeAllowed:t},page:{idContext:n},environment:{agent:r}}=e,i=s.getOverdraftType(e),o=g.getIsInsideVirtualDisk(e);return{familyRoleMetrikaKey:u.getFamilyRoleMetrikaKey(e),hasFamilyFeature:u.hasFamilyFeature(e),isOfficeAllowed:t,isFamilyCreationAllowed:u.isFamilyCreationAllowed(e),idContext:n,disableUploadButton:!o&&s.shouldNotifyOverdraft(e)&&!i,restrict:c.shouldRestrict(e,{forLite:!0}),isFirefox:"Firefox"===r.BrowserName}},y);t.default=b(({isOfficeAllowed:e,isFamilyCreationAllowed:t,familyRoleMetrikaKey:n,hasFamilyFeature:r,disableUploadButton:i,restrict:a,idContext:s,upload:u,openEditor:c,createFolder:l,requestNewAlbumTitle:d,maybeBlockAction:f,isFirefox:g})=>{const y=o.useCallback((e,t)=>{u(e).then(t,t)},[u]),b=o.useCallback(()=>{f({forLite:!0}),v.default.count("interface elements","upload button","click")},[f]),_=o.useCallback(e=>{l(e)},[l]),O=o.useCallback(e=>{c(e,s)},[s,c]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(p.default,{width:"max",text:"Загрузить",title:"Загрузить файлы",onChange:y,onClick:b,disabled:i,withoutInput:a}),o.default.createElement(h.default,{isOfficeAllowed:e,isFamilyCreationAllowed:t,familyRoleMetrikaKey:n,hasFamilyFeature:r,onFolderCreate:_,onEditorOpen:O,onCreateAlbum:d,iconLeft:m.plusIconProvider,isFirefox:g}))})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(152),u=n(570),c=n(39),l=n(29),d=n(15),f=n(51),p=i(n(2279)),h=i(n(2280)),m=i(n(2281)),v=i(n(2282)),g=i(n(2283)),y=i(n(2284)),b=i(n(2285)),_=i(n(2286)),O=i(n(2287)),E=i(n(485)),w=i(n(2288)),S=i(n(926)),C=i(n(1202)),x=i(n(2289)),T=i(n(2290)),P=i(n(2291)),k=i(n(2292)),j=i(n(2293)),R=i(n(1095)),I=i(n(14)),A=n(24),D=i(n(38));n(2294);const M=i(n(11)),N=()=>M.default()("LeftColumnNavigation"),L=R.default(f.Link),F={albums:o.default.createElement(p.default,null),albumsWithPromo:o.default.createElement(P.default,null),aux:o.default.createElement(h.default,null),docx:o.default.createElement(m.default,null),downloads:o.default.createElement(v.default,null),files:o.default.createElement(g.default,null),journal:o.default.createElement(y.default,null),photo:o.default.createElement(b.default,null),pptx:o.default.createElement(_.default,null),recent:o.default.createElement(O.default,null),wfolio:o.default.createElement(E.default,null),scans:o.default.createElement(w.default,null),shared:o.default.createElement(S.default,null),trash:o.default.createElement(C.default,null),view:o.default.createElement(x.default,null),xlsx:o.default.createElement(T.default,null),family:o.default.createElement(k.default,null),lockedFamily:o.default.createElement(j.default,null)},B={changeIdContext:l.changeIdContext,setShouldNotRestoreScroll:d.setShouldNotRestoreScroll},U=a.connect(e=>({invitesCount:u.getNonFamilyInvitesCount(e),familyInvitesCount:u.getFamilyInvitesCount(e),items:s.getLeftColumnItems(e),isDocsPage:c.isDocsPage(e),isVirtualDisk:A.isVirtualDiskPath(e.page.idContext)}),B);t.default=U(({items:e,invitesCount:t,familyInvitesCount:n,isDocsPage:r,changeIdContext:i,setShouldNotRestoreScroll:a,isVirtualDisk:s,maxHeight:u})=>{const c=o.useCallback((e,t)=>{r?I.default.count("docs","navigation",t.id):(e.preventDefault(),i(t.idContext),I.default.count("navigation","via tabs",t.id)),a(!0)},[r,i,a]),l=o.useCallback((e,t)=>{e.keyCode===D.default.KEYS.ENTER&&c(e,t)},[c]),d=e.map(e=>{let i=f.Link,a=null;e.idContext&&!s&&["/trash","/disk"].includes(e.idContext)&&(i=L,a={id:e.idContext,type:`navigation-${e.idContext.slice(1)}`,isFixed:!0,scrollContainerSelector:"."+N()});const u=e.idContext&&["/shared","/published"].includes(e.idContext)&&t>0,d="/family"===e.idContext&&n>0;return o.default.createElement(i,Object.assign({key:e.id,className:N().e("Item").m({type:e.id,current:e.current,"with-counter":u}),onClick:t=>c(t,e),onKeyDown:t=>l(t,e),role:"tab","aria-selected":!!e.current||void 0},a||{},r?{href:e.url}:{tabindex:"0"}),o.default.createElement("span",{className:N().e("Icon")},F[e.icon||e.id]),e.name,u?o.default.createElement("span",{className:N().e("Counter")},Math.min(t,99)):null,d?o.default.createElement("span",{className:N().e("Counter")},Math.min(n,99)):null)}),p=u?{maxHeight:u}:void 0;return o.default.createElement("nav",{style:p,className:N()},d)})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 0a1 1 0 0 0 0 2h10a1 1 0 1 0 0-2H3zm-.5 3A1.5 1.5 0 0 0 1 4.5v9A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 13.5 3h-11zm2.899 6.282a.468.468 0 0 0-.655.158l-1.68 2.855a.468.468 0 0 0 .404.705h9.064c.32 0 .545-.313.444-.616l-1.841-5.522a.468.468 0 0 0-.828-.12l-2.486 3.551a.468.468 0 0 1-.634.127L5.399 9.281zM4 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 1h11A1.5 1.5 0 0 1 15 2.5v11a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5v-11A1.5 1.5 0 0 1 2.5 1zM3 5v8h10V5H3zm2 4a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H6a1 1 0 0 0-1 1z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3zm-.334 4.445c0-.49.398-.889.888-.889h8.89a.889.889 0 1 1 0 1.778h-8.89a.889.889 0 0 1-.888-.889zm.887 2.667a.889.889 0 0 0 0 1.778h6.222a.889.889 0 1 0 0-1.778H3.553zm0 3.555a.889.889 0 0 0 0 1.778h7.111a.889.889 0 0 0 0-1.778H3.553z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M7.454 11.671a.75.75 0 0 0 1.092 0l3.609-3.828A.5.5 0 0 0 11.791 7H10V2a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v5H4.208a.5.5 0 0 0-.363.843l3.61 3.828zM3 13a1 1 0 1 0 0 2h10a1 1 0 1 0 0-2H3z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 0A1.5 1.5 0 0 0 2 1.5v13A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5V5.95a3.5 3.5 0 0 0-1.025-2.475l-2.45-2.45A3.5 3.5 0 0 0 8.05 0H3.5zM7 2.5a.5.5 0 0 1 .5-.5h.55a1.5 1.5 0 0 1 1.06.44l2.45 2.45A1.5 1.5 0 0 1 12 5.95v.55a.5.5 0 0 1-.5.5H8a1 1 0 0 1-1-1V2.5z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("path",{fill:"currentColor",d:"M1.22717 5.7221C0.713689 5.7221 0.36228 5.20389 0.552269 4.72686L2.05339 0.957764C2.26868 0.417197 3.0004 0.33647 3.32835 0.817104L3.984 1.77798C5.20611 0.971963 6.67038 0.502329 8.24466 0.502329C12.5242 0.502329 15.9935 3.9716 15.9935 8.25116L15.9935 8.27546L15.9935 8.28935C15.9935 10.7955 14.7888 13.0221 12.9235 14.4285C11.6234 15.4148 10.0024 16 8.24466 16C6.6851 16 5.23338 15.5394 4.01792 14.7468C2.29134 13.6307 1.03091 11.8457 0.627579 9.73163C0.6191 9.68718 0.614245 9.64289 0.612807 9.59905C0.600216 9.52732 0.588611 9.45525 0.578005 9.38286C0.500466 8.85356 0.866687 8.36163 1.39598 8.28409C1.92528 8.20655 2.41722 8.57277 2.49476 9.10207C2.90582 11.9081 5.32447 14.0628 8.24466 14.0628C11.4543 14.0628 14.0563 11.4608 14.0563 8.25116C14.0563 5.04149 11.4543 2.43954 8.24466 2.43954C7.07609 2.43954 5.98772 2.78427 5.076 3.37835L5.90016 4.58619C6.22919 5.0684 5.88385 5.7221 5.30009 5.7221H1.22717Z"}),h.a.createElement("path",{fill:"currentColor",d:"M9.11641 5.34535C9.11641 4.8639 8.72611 4.47361 8.24466 4.47361C7.76321 4.47361 7.37292 4.8639 7.37292 5.34535V8.73547C7.37292 9.00985 7.50211 9.26823 7.72162 9.43286L9.65883 10.8858C10.044 11.1746 10.5904 11.0966 10.8793 10.7114C11.1681 10.3263 11.0901 9.77985 10.7049 9.49098L9.11641 8.29959V5.34535Z"}))}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h11A1.5 1.5 0 0 1 15 2.5v11a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5v-11zm3.487 6.696a.5.5 0 0 1 .7-.168l1.91 1.215a.5.5 0 0 0 .677-.135l2.656-3.794a.5.5 0 0 1 .884.129l1.967 5.899a.5.5 0 0 1-.475.658H3.124a.5.5 0 0 1-.43-.754l1.793-3.05zM6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M13.909 2.606A7.964 7.964 0 0 1 16 8a8 8 0 1 1-8-8 7.967 7.967 0 0 1 5.909 2.606zm.002.003-.002-.003.002.003zM14.667 8H8V1.334A6.667 6.667 0 0 1 14.667 8z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.982 3.075a1 1 0 0 0-.243-1.393L9 7.731V4a1 1 0 1 0-2 0v4.25a1 1 0 0 0 .425.818l3.2 2.25a1 1 0 0 0 1.393-.243z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("g",{clipPath:"url(#a)"},h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 11.533a.8.8 0 0 0-.8-.8h-.4a.8.8 0 0 0-.8.8v.967A2.5 2.5 0 0 0 3.5 15h.842a.8.8 0 0 0 .8-.8v-.4a.8.8 0 0 0-.8-.8H3.5a.5.5 0 0 1-.5-.5v-.967zM4.342 3a.8.8 0 0 0 .8-.8v-.4a.8.8 0 0 0-.8-.8H3.5A2.5 2.5 0 0 0 1 3.5v.8a.8.8 0 0 0 .8.8h.4a.8.8 0 0 0 .8-.8v-.8a.5.5 0 0 1 .5-.5h.842zM13 4.3a.8.8 0 0 0 .8.8h.4a.8.8 0 0 0 .8-.8v-.8A2.5 2.5 0 0 0 12.5 1h-.925a.8.8 0 0 0-.8.8v.4a.8.8 0 0 0 .8.8h.925a.5.5 0 0 1 .5.5v.8zm0 7.233a.8.8 0 0 1 .8-.8h.4a.8.8 0 0 1 .8.8v.967a2.5 2.5 0 0 1-2.5 2.5h-.925a.8.8 0 0 1-.8-.8v-.4a.8.8 0 0 1 .8-.8h.925a.5.5 0 0 0 .5-.5v-.967zM.95 7a.95.95 0 0 0-.95.95v.1c0 .525.425.95.95.95h14.1a.95.95 0 0 0 .95-.95v-.1a.95.95 0 0 0-.95-.95H.95z"})),h.a.createElement("defs",null,h.a.createElement("clipPath",{id:"a"},h.a.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"}))))}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M10.218 9.11c-.731.047-1.51.07-2.335.07-.826 0-1.604-.023-2.334-.07.21 3.905 1.485 6.89 2.334 6.89.85 0 2.125-2.985 2.335-6.89zM3.96 8.961c.12 2.816.758 5.152 1.624 6.657C2.352 14.625 0 11.591 0 8.001v-.074c1.047.49 2.366.832 3.961 1.034zM.191 6.25c.889.522 2.143.898 3.759 1.12.081-2.963.735-5.422 1.634-6.986C2.894 1.211.814 3.452.191 6.25zm5.333 1.278C5.621 3.315 6.988 0 7.884 0c.895 0 2.262 3.315 2.358 7.528-.73.05-1.516.076-2.36.076a34.4 34.4 0 0 1-2.358-.076zm6.278 1.434c1.595-.202 2.914-.545 3.961-1.034v.073c0 3.59-2.352 6.624-5.584 7.617.865-1.505 1.504-3.84 1.623-6.656zm3.77-2.711c-.888.522-2.142.898-3.758 1.119-.082-2.963-.736-5.422-1.634-6.986 2.69.827 4.77 3.068 5.393 5.867z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 0a3 3 0 0 0-3 3v3.611a.5.5 0 0 0 .5.5h6.111a.5.5 0 0 0 .5-.5V.5a.5.5 0 0 0-.5-.5H3zm6.389 0a.5.5 0 0 0-.5.5v6.111a.5.5 0 0 0 .5.5h6.11a.5.5 0 0 0 .5-.5V3a3 3 0 0 0-3-3H9.39zM0 9.389a.5.5 0 0 1 .5-.5h6.111a.5.5 0 0 1 .5.5v6.11a.5.5 0 0 1-.5.5H3a3 3 0 0 1-3-3V9.39zm10.389 5.11v-4.11h4.11v2.61a1.5 1.5 0 0 1-1.5 1.5h-2.61zm-1.5-5.11a.5.5 0 0 1 .5-.5h6.11a.5.5 0 0 1 .5.5v3.61a3 3 0 0 1-3 3H9.39a.5.5 0 0 1-.5-.5V9.39z"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",fill:"none"},h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.416 1H3.333a.833.833 0 0 0-.833.833v.334c0 .46.373.833.833.833H9c0-.711.148-1.388.416-2ZM15 7.9a5.002 5.002 0 0 1-5.9-3.904H2.555C1.692 3.996 1 4.722 1 5.61v8.779c0 .891.696 1.614 1.556 1.614h10.888c.86 0 1.556-.723 1.556-1.614V7.9ZM8.974 9.37 6.56 11.918 5.493 10.91a.226.226 0 0 0-.16-.06.225.225 0 0 0-.156.066l-2.27 2.32a.119.119 0 0 0-.023.134c.021.045.068.074.12.074h9.865a.132.132 0 0 0 .12-.073.118.118 0 0 0-.022-.133L9.3 9.37a.225.225 0 0 0-.163-.068.225.225 0 0 0-.164.068ZM6 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}),h.a.createElement("circle",{cx:"14",cy:"3",r:"3",fill:"#FF3737"}))}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p);function m(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=(function(e){u()(n,e);var t=m(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M8.39 15.243a.691.691 0 0 1-.78 0C6.006 14.164 0 9.853 0 5.78c0-5.344 6.28-6.2 8-2.6 1.72-3.6 8-2.744 8 2.6 0 4.073-6.006 8.385-7.61 9.464z",fill:"currentColor"})}}]),n})(n(12).default)}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g={position:"relative",right:"-1px"},y=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContent",value:function(){return h.a.createElement("svg",{style:g,width:21,height:16,onClick:this.props.onClick,viewBox:"0 0 21 16"},h.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.61 14.243C6.006 13.164 0 8.853 0 4.78c0-5.344 6.28-6.2 8-2.6 1.474-3.085 6.298-2.897 7.647.583A5 5 0 0 0 11 7.75v.127a3.496 3.496 0 0 0-1.5 2.873v2.708c-.459.34-.845.607-1.11.785a.691.691 0 0 1-.78 0ZM13 7.75a3 3 0 1 1 6 0v1.5a1.5 1.5 0 0 1 1.5 1.5v3.75A1.5 1.5 0 0 1 19 16h-6a1.5 1.5 0 0 1-1.5-1.5v-3.75a1.5 1.5 0 0 1 1.5-1.5v-1.5Zm2.752-1.48A1.502 1.502 0 0 0 14.5 7.75v1.498h3V7.75a1.5 1.5 0 0 0-1.748-1.48Z",clipRule:"evenodd"}))}}]),n})(m.default);y.propTypes=m.default.propTypes}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(111)),u=i(n(63)),c=i(n(14)),l=i(n(2296)),d=n(26),f=n(51),p=i(n(2298)),h=i(n(279)),m=n(57),v=n(44),g=n(59),y=i(n(579)),b=n(81),_=n(86),O=n(19),E=n(92),w=n(24);n(2299);const S=i(n(11)),C=()=>S.default()("InfoSpace"),x=e=>o.default.createElement(h.default,{cls:e,iconSize:"s"}),T=Date.now(),P={saveSettings:g.saveSettings,updateSettings:g.updateSettings},k=a.connect(e=>{const{environment:{session:{locale:t,serverTime:n}},settings:{lastShownInfoSpaceDiscountId:r},page:{idContext:i}}=e,o=m.shouldShowInfoSpaceDiscount(e,T),a=o&&m.getInfoSpaceDiscountData(e,T),s=i&&w.getCurrentVirtualDisk(i);return{used:m.getTargetUsed(e),limit:m.getTargetLimit(e),locale:t,serverTime:n,tuningButtonText:m.getTuningButtonInfo(e).text,buyButtonUrl:v.getBuyButtonUrl(e),shouldShowBuyButton:v.shouldShowBuyButton(e),percentageOfUsed:m.getPercentageOfUsed(e),shouldShowDiscount:o,discountData:a,lastShownInfoSpaceDiscountId:r,isDark:b.isContentDark(_.getThemeName(e)),isInsideVirtualDisk:E.getIsInsideVirtualDisk(e),virtualDiskName:s?O.getResourceData(e,s,"name"):null}},P),j=(...e)=>{c.default.count("navigation","via link in sidebar",...e)},R=C().e("TextDiscount");t.default=k(({limit:e,used:t,shouldShowBuyButton:n,buyButtonUrl:r,percentageOfUsed:i,tuningButtonText:a,className:c,locale:h,serverTime:m,shouldShowDiscount:v,discountData:g,lastShownInfoSpaceDiscountId:b,saveSettings:_,updateSettings:O,isDark:E,virtualDiskName:w,isInsideVirtualDisk:S,onChangeCollapsed:P})=>{var k,I,A,D,M,N;const L=o.useMemo(()=>s.default.formatSpace(e-t),[e,t]),F=o.useMemo(()=>s.default.formatSpace(e),[e]),B=o.useMemo(()=>s.default.formatSpace(t-e),[e,t]),[U,z]=o.useState(!1),[V,H]=o.useState(!1),[W,$]=o.useState(""),[G,q]=o.useState(!1),Y=o.useRef(null),K=o.useRef(null),J=o.useCallback(()=>m+Date.now()-T,[m]),Z=o.useCallback(()=>{Y.current&&(clearInterval(Y.current),Y.current=null)},[Y]),X=o.useCallback(()=>{K.current&&(clearTimeout(K.current),K.current=null)},[K]),Q=o.useCallback(e=>{null!==g&&void 0!==g&&g.shouldCollapse||(j("tuning","close"),e.stopPropagation(),e.preventDefault(),Z(),_({key:"timestampLastCollapseInfoSpaceDiscount",value:String(J())}),z(!0))},[g,Z,_,J]),ee=o.useCallback(()=>{const{shouldExpandWithAnimation:e}=g;e&&(_({key:"timestampLastExpandInfoSpaceDiscount",value:String(J())}),H(!0))},[g,J,_]),te=o.useCallback(()=>{const{shouldCollapse:e,shouldShowTimer:t}=g;!e&&t&&(Y.current=setInterval(()=>{const e=(null===g||void 0===g?void 0:g.finishDiscountTime)||0,t=Math.floor((e-J())/1e3);let n;if(t<0)n="";else{const e=y.default(t,":");n=(5===e.length?"00:":7===e.length?"0":"")+e}if(!n)return q(!0),void Z();$(n)},1e3))},[g,J,Z]);let ne;const re=o.useCallback(()=>{X(),O({key:"timestampLastUpdateInfoSpaceDiscount",value:String(J())}),ne()},[O,J,ne,X]),ie=o.useCallback(()=>{const{canShowTimer:e,shouldShowTimer:t,timeWithTimer:n}=g,r=J(),i=n-r+1;e&&!t&&r<n&&i<Math.pow(2,31)-1&&(K.current=setTimeout(re,i))},[g,J,K,re]),oe=o.useCallback(()=>{const{canShowTimer:e,attentionTimer:t,timeAttentionTimer:n,shouldShowTimer:r}=g,i=J(),o=n-i+1;e&&r&&!t&&i<n&&o<Math.pow(2,31)-1&&(K.current=setTimeout(re,o))},[g,J,K,re]),ae=o.useCallback(()=>{const{shouldCollapse:e,canShowTimer:t,finishDiscountTime:n}=g;if(!G&&e||!t){const e=n-J();(!K.current&&e<Math.pow(2,31)-1||e<=0)&&(K.current=setTimeout(()=>{q(!0)},e>0?e:0))}},[g,G,J,K]);ne=o.useCallback(()=>{v&&(ee(),te(),ie(),oe(),ae())},[v,ae,ee,te,oe,ie]),o.useEffect(()=>{V&&ne()},[V,ne]),o.useEffect(()=>{v&&(ee(),te(),ie(),oe(),ae());const{discountId:e}=g;return v&&e!==b&&_({key:"lastShownInfoSpaceDiscountId",value:e}),()=>{Z(),X()}},[v,ee,te,ie,oe,ae,Z,X,g,b,_]),o.useEffect(()=>{j("tuning show")},[]);const se=i>=90,ue=(n=!1)=>t>e?"Превышено  на "+yr.externals.entityify(B):se?__i18n__.i18n.convert(["Остался","Остался","Осталось","Осталось"],yr.externals.entityify(Number(L.split(" ")[0])))+"  "+yr.externals.entityify(L)+" из "+yr.externals.entityify(F):n?yr.externals.entityify(L)+" из "+yr.externals.entityify(F):"Свободно "+yr.externals.entityify(L)+" из "+yr.externals.entityify(F),ce=o.useRef(null),le=o.useCallback(()=>{j("tuning")},[]),de=v&&!G,fe=de&&(g.shouldCollapse||g.shouldExpandWithAnimation&&!V);let pe={className:C().m({full:!de&&se,discount:de,notanimation:de&&!(U||V),expanded:de&&!fe,attention:de&&g.attentionTimer&&Boolean(W)}).mix(c),title:ue()};n&&(pe=Object.assign(Object.assign({},pe),{onClick:le,href:u.default.addParams(r,{from:"disk_buybtn"}),target:"_blank",rel:"noopener noreferrer"}));const he=o.useCallback(e=>{e.target.classList.contains(R)&&P()},[P]);de&&(pe=Object.assign(Object.assign({},pe),{onAnimationEnd:he,style:{backgroundImage:`url(${null===(k=null===g||void 0===g?void 0:g.payload)||void 0===k?void 0:k.background})`,backgroundPosition:"50% 50%",backgroundSize:"cover"}}));const me=null===(I=null===g||void 0===g?void 0:g.payload)||void 0===I?void 0:I.textColor,ve={};return me&&(ve.style={color:me}),!S||t||e?o.default.createElement(f.Link,Object.assign({},pe),de?o.default.createElement(d.Button,{className:C().e("CollapseButton"),onClick:Q,size:"xxs",view:"clear-inverse","aria-label":"Свернуть","aria-hidden":U,tabIndex:U?-1:void 0,icon:x}):null,S&&w?o.default.createElement("div",{className:C().e("Header")},o.default.createElement("div",{className:C().e("Title")},w),o.default.createElement("div",{className:C().e("Text")},ue("en"===h))):null,o.default.createElement("div",{className:C().e("IndicatorWrapper")},o.default.createElement(l.default,{cls:C().e("Indicator"),value:i,shouldShowDiscount:de})),S?null:o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:C().e("Footer")},o.default.createElement("div",{className:C().e("Text")},ue("en"===h)),de?o.default.createElement("div",{className:C().e("DiscountImage")},o.default.createElement("img",{src:null===(A=null===g||void 0===g?void 0:g.payload)||void 0===A?void 0:A.imgUrl})):null,de?o.default.createElement("div",Object.assign({className:R},ve),g.shouldShowTimer&&W?o.default.createElement("div",{className:C().e("Timer")},o.default.createElement(p.default,{iconSize:"m"}),o.default.createElement("div",{className:C().e("TimerText")},W)):null,null===(D=null===g||void 0===g?void 0:g.payload)||void 0===D?void 0:D.text):null,n?o.default.createElement(d.Button,Object.assign({},v&&!G||E?{view:E?"brand":"action"}:{view:"raised"},{size:"m",width:"max",className:C().e("Button"),innerRef:ce,tabIndex:-1}),o.default.createElement("span",{className:C().e("ButtonTextWrapper")},a),v&&!G&&(null===(M=null===g||void 0===g?void 0:g.payload)||void 0===M?void 0:M.imgSmallUrl)?o.default.createElement("div",{className:C().e("DiscountValue")},o.default.createElement("img",{className:C().e("DiscountSmallImage"),src:null===(N=null===g||void 0===g?void 0:g.payload)||void 0===N?void 0:N.imgSmallUrl})):null):null))):null})}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=(n(2297),n(0)),h=n.n(p),m=n(11),v=n.n(m);function g(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(){return v()()("indicator-bar")},b="normal",_="medium",O="full",E=(function(e){u()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getLoadValue",value:function(){return this.props.value<50?b:this.props.value<90?_:O}},{key:"render",value:function(){return h.a.createElement("div",{className:y().m({load:this._getLoadValue(),discount:this.props.shouldShowDiscount}).mix(this.props.cls)},h.a.createElement("div",{className:y().e("value"),style:{width:this.props.value.toFixed(2)+"%"}}))}}]),n})(p.PureComponent);E.defaultProps={value:0},t.default=E}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(12),h=n(0),m=n.n(h);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"m"}},{key:"getContentSVG",value:function(){return m.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm0-2A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm3.357-3.736a1 1 0 0 0-.342-1.371L9 7.683V5a1 1 0 1 0-2 0v3.25a1 1 0 0 0 .486.857l2.5 1.5a1 1 0 0 0 1.371-.342z"})}}]),n})(p.default)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=i(n(14)),u=n(51),c=i(n(2301));n(2302);const l=i(n(11)),d=()=>l.default()("AppLink"),f=a.connect(e=>{const{environment:{agent:{OSFamily:t}},config:{urlsBase:{yandex360:n}}}=e;return{OSFamily:t,yandex360:n}});t.default=f(({OSFamily:e,yandex360:t})=>{const n=o.useCallback(()=>{s.default.count("interface elements","install soft")},[]),r=o.useMemo(()=>t=>o.default.createElement(c.default,{cls:t,windows:"Windows"===e}),[e]);return o.default.createElement("div",{className:d()},o.default.createElement(u.Link,{theme:"primary",className:d().e("Link"),href:t+"/disk/download?src=Yandex.Sidebar",target:"_blank",onClick:n,iconLeft:r},"Установить приложение"))})}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12),v=n(25),g=n.n(v);function y(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var b=(function(e){u()(n,e);var t=y(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return h.a.createElement("g",{fillRule:"evenodd",fill:"currentColor"},h.a.createElement("path",{fillRule:"nonzero",d:"M3 17h10.7a.3.3 0 0 1 .3.3v1.4a.3.3 0 0 1-.3.3H1.3a.3.3 0 0 1-.3-.3v-1.4a.3.3 0 0 1 .3-.3H2V6a1 1 0 0 1 1-1h16.7a.3.3 0 0 1 .3.3v.4a.3.3 0 0 1-.3.3H3v11z"}),h.a.createElement("path",{fillRule:"nonzero",d:"M16 8v9h5V8h-5zm0-1h5a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1z"}),this.props.windows?h.a.createElement("path",{d:"M12 14l-2.143-.306v-1.837H12V14zm-2.857-.408L7 13.286v-1.429h2.143v1.735zM12 9v2.143H9.857V9.306L12 9zm-2.857.408v1.735H7V9.714l2.143-.306z"}):null)}}]),n})(m.default);b.PropTypes={windows:g.a.bool},t.default=b}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n.n(r),o=n(22),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(2),y=n.n(g),b=(n(2305),n(16)),_=n(0),O=n.n(_),E=n(85),w=n(64),S=n(601),C=n(113),x=n(57),T=n(112),P=n(29),k=n(11),j=n.n(k),R=n(14),I=n(65),A=n(24);function D(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var M=function(){return j()()("context-menu-create-popup")},N=["context menu","empty"],L=(function(e){h()(n,e);var t=D(n);function n(e){var r;return u()(this,n),(r=t.call(this,e))._onUploadInputChange=r._onUploadInputChange.bind(f()(r)),r._onUploadClick=r._onUploadClick.bind(f()(r)),r._resetFileInput=r._resetFileInput.bind(f()(r)),r._onCreateFolderClick=r._onCreateFolderClick.bind(f()(r)),r._onCreateAlbumClick=r._onCreateAlbumClick.bind(f()(r)),r._onPopupOutsideClick=r._onPopupOutsideClick.bind(f()(r)),r._onMenuItemClick=r._onMenuItemClick.bind(f()(r)),r._fileInputRef=O.a.createRef(),r}return l()(n,[{key:"_resetFileInput",value:function(){this._fileInputRef.current&&(this._fileInputRef.current.value="")}},{key:"_onUploadInputChange",value:function(){var e=this._fileInputRef.current&&this._fileInputRef.current.files;e&&e.length&&(this.props.upload(e).then(this._resetFileInput,this._resetFileInput),this.props.onClose())}},{key:"_onUploadClick",value:function(){this.props.maybeBlockAction({forLite:!0})?this.props.onClose():R.default.count.apply(R.default,a()(N.concat(["upload"])))}},{key:"_onCreateFolderClick",value:function(){this.props.createFolder(),this.props.onClose(),R.default.count.apply(R.default,a()(N.concat(["new folder"])))}},{key:"_onCreateResourceClick",value:function(e){var t=this.props,n=t.openEditor,r=t.idContext,i=t.onClose;n(e,r.startsWith("/disk/")||Object(A.isPathInsideVirtualDiskFiles)(r)?r:"/disk"),i(),R.default.count.apply(R.default,a()(N.concat(["new ".concat(e)])))}},{key:"_onCreateAlbumClick",value:function(){this.props.requestNewAlbumTitle(),this.props.onClose(),R.default.count.apply(R.default,a()(N.concat(["new album"])))}},{key:"_onMenuItemClick",value:function(e){switch(e.target.value){case"new-folder":this._onCreateFolderClick();break;case"docx":case"xlsx":case"pptx":this._onCreateResourceClick(e.target.value);break;case"album":this._onCreateAlbumClick();break;case"upload":this._onUploadClick()}}},{key:"_onPopupOutsideClick",value:function(){this.props.onClose(),R.default.count.apply(R.default,a()(N.concat(["close"])))}},{key:"_getResourceIconProvider",value:function(e){return function(t){return O.a.createElement(C.default,i()({cls:t},e,{size:"xs"}))}}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.position,r=e.isOfficeAllowed,i=e.isInsideVirtualDisk,o=e.hideUploadItem,a=e.restrict;return O.a.createElement(E.Popup,{className:M().mix("js-prevent-deselect"),onClose:this._onPopupOutsideClick,visible:t,view:"default",position:n,direction:["bottom-start","bottom-end","top-start","top-end"],motionless:!0},O.a.createElement(w.Menu,{className:M().e("menu"),view:"default",size:"m",wide:!0,onChange:this._onMenuItemClick},O.a.createElement(w.Group,null,O.a.createElement(w.Item,{key:"folder",value:"new-folder",className:M().e("item").m({"new-folder":!0}),icon:this._getResourceIconProvider({type:"dir_plus"})},"Новая папка"),r&&O.a.createElement(O.a.Fragment,null,O.a.createElement(w.Item,{key:"docx",value:"docx",className:M().e("item").m({word:!0}),icon:this._getResourceIconProvider({ext:"doc"})},"Текстовый документ"),O.a.createElement(w.Item,{key:"xlsx",value:"xlsx",className:M().e("item").m({excel:!0}),icon:this._getResourceIconProvider({ext:"xls"})},"Таблица"),O.a.createElement(w.Item,{key:"pptx",value:"pptx",className:M().e("item").m({powerpoint:!0}),icon:this._getResourceIconProvider({ext:"ppt"})},"Презентация")),i?null:O.a.createElement(w.Item,{key:"album",value:"album",className:M().e("item").m({album:!0}),icon:this._getResourceIconProvider({type:"album"})},"Альбом")),!o&&O.a.createElement(w.Group,{paddingless:!0},O.a.createElement(w.Item,{value:"upload",highlighted:!0,className:M().e("menu-item").m({type:"upload"}),icon:S.a},O.a.createElement("span",{className:M().e("upload-input-wrapper")},"Загрузить файлы",!a||i?O.a.createElement("input",{ref:this._fileInputRef,type:"file",className:M().e("upload-input"),multiple:!0,onChange:this._onUploadInputChange}):null)))))}}]),n})(_.Component),F={upload:P.upload,openEditor:P.openEditor,createFolder:P.createFolder,requestNewAlbumTitle:I.requestNewAlbumTitle,goToUrl:P.goToUrl,maybeBlockAction:P.maybeBlockAction};t.default=Object(b.connect)((function(e){var t=e.page.idContext,n=e.user.isOfficeAllowed,r=Object(x.getOverdraftType)(e),i=Object(A.isPathInsideVirtualDiskFiles)(t),o=Object(T.shouldRestrict)(e,{forLite:!0});return{idContext:t,isOfficeAllowed:n,hideUploadItem:!i&&Object(x.shouldNotifyOverdraft)(e)&&!r,isInsideVirtualDisk:i,restrict:o}}),F)(L)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(16),a=r(n(0)),s=i(n(14)),u=i(n(63)),c=i(n(111)),l=n(57),d=n(59),f=n(44),p=n(34),h=n(26),m=n(51),v=i(n(1203)),g=i(n(2307)),y=i(n(138)),b=e=>a.default.createElement(v.default,{iconSize:"m",cls:e});n(2308);const _=i(n(11)),O=()=>_.default()("overdraft-block"),{I18N:E}=n(79),w={updateSettings:d.updateSettings},S=o.connect(e=>({buttonText:l.getTuningButtonInfo(e).text,helpLink:e.config.links.help.diskPro+"#end",buyButtonUrl:u.default.addParams(f.getBuyButtonUrl(e),{from:"disk_overdraft_block"}),overdraftType:l.getOverdraftType(e),overdraftValue:c.default.formatSpace(l.getSpaceOverdraftValue(e)),blockOverdraftDate:l.getBlockOverdraftDate(e)}),w);t.default=S(({buttonText:e,helpLink:t,buyButtonUrl:n,overdraftType:r,overdraftValue:i,blockOverdraftDate:o,updateSettings:u})=>{const c=a.useCallback((...e)=>{r?s.default.count("interface elements","overdrafts",r,"overdraft_header",...e):s.default.count("interface elements","overdraft_header",...e)},[r]);a.useEffect(()=>{c("show")},[c]);const l=a.useCallback(()=>{c("close"),u({closedOverdraftBlock:!0})},[u,c]),d=a.useCallback(()=>{c(r?"buy_button":"buy")},[r,c]);if(r){const e=o&&y.default(o,"D mmmm",["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]),t=r===p.OVERDRAFT_TYPES.LITE?"Ваш Диск переполнен на "+yr.externals.entityify(i)+". "+yr.externals.entityify(e)+" Диск заблокируется насовсем. Добавьте место или удалите лишнее.":"Ваш Диск будет заблокирован "+yr.externals.entityify(e)+". Файлы занимают на "+yr.externals.entityify(i)+" больше, чем у вас есть. Удалите лишнее или добавьте место.";return a.default.createElement("div",{className:O(),title:t},a.default.createElement(g.default,{className:O().e("icon-exclamation")}),r===p.OVERDRAFT_TYPES.LITE?a.default.createElement(E,{className:O().e("message-wrapper"),loc:yr.externals.entityify(E.$1_OPEN)+"Ваш Диск переполнен на "+yr.externals.entityify(i)+"."+yr.externals.entityify(E.$1_CLOSE)+" "+yr.externals.entityify(e)+" Диск заблокируется насовсем. Добавьте место или удалите лишнее."},a.default.createElement("b",{className:O().e("message-strong")})):a.default.createElement(E,{className:O().e("message-wrapper"),loc:yr.externals.entityify(E.$1_OPEN)+"Ваш Диск будет заблокирован "+yr.externals.entityify(e)+". Файлы занимают на "+yr.externals.entityify(i)+" больше, чем у вас есть."+yr.externals.entityify(E.$1_CLOSE)+" Удалите лишнее или добавьте место."},a.default.createElement("b",{className:O().e("message-strong")})),a.default.createElement(h.Button,{type:"link",url:n,className:O().e("button-add-space"),target:"_blank",size:"s",view:"raised",onClick:d},"Добавить место"))}return a.default.createElement("div",{className:O()},a.default.createElement(E,{className:O().e("message-wrapper"),loc:yr.externals.entityify(E.$1_OPEN)+"Доступ к Диску "+yr.externals.entityify(E.$2_OPEN)+"ограничен."+yr.externals.entityify(E.$2_CLOSE)+" Ваши файлы занимают больше места, чем у вас есть."+yr.externals.entityify(E.$1_CLOSE)+" Удалите лишнее или увеличьте объём Диска."},a.default.createElement("b",{className:O().e("message-strong")}),a.default.createElement(m.Link,{theme:"normal",className:O().e("help-link"),href:t})),a.default.createElement(h.Button,{type:"link",url:n,className:O().e("button"),target:"_blank",size:"s",view:"raised",onClick:d},e),a.default.createElement(h.Button,{className:O().e("close-button"),onClick:l,size:"s",view:"clear-inverse","aria-label":"Закрыть",icon:b}))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(12));t.default=class extends o.default{getContentSVG(){return i.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M0 8.003a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm14 0a6 6 0 1 1-12 0 6 6 0 0 1 12 0zM6.86 11.03c0-.672.492-1.14 1.14-1.14.648 0 1.14.468 1.14 1.14 0 .672-.492 1.14-1.14 1.14-.648 0-1.14-.468-1.14-1.14zM7.58 4h.842a.75.75 0 0 1 .747.824l-.373 3.724a.5.5 0 0 1-.497.45h-.596a.5.5 0 0 1-.497-.45l-.373-3.724A.75.75 0 0 1 7.58 4z"})}}}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(16),a=r(n(0)),s=i(n(896)),u=n(34),c=n(1109);t.default=o.connect(e=>{const{config:{links:{help:{b2bFree:t},b2bAdminProducts:n}},user:{b2b_restriction_status:r,isConnectAdmin:i}}=e;return{helpLink:t,b2bAdminProducts:n,b2b_restriction_status:r,isConnectAdmin:i}})(({helpLink:e,b2bAdminProducts:t,b2b_restriction_status:n,isConnectAdmin:r})=>{const i=a.useCallback((...e)=>{c.countB2bFree(n,r?"notification-admin":"notification-user",...e)},[r,n]);a.useEffect(()=>{i("show")},[i]);const o=a.useCallback(()=>{i("сlick_button_buy")},[i]),l=a.useCallback(()=>{i("сlick_button_help")},[i]),d=a.useMemo(()=>r?n===u.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?"Для сервисов вашей организации скоро включится режим просмотра. Чтобы и дальше использовать все возможности, выберите и оплатите тариф.":"Для вашей организации сервисы переведены в режим просмотра. Выберите платный тариф, чтобы снова пользоваться всеми возможностями.":n===u.B2B_RESTRICTION_STATUSES.WAIT_NOTIFICATION?"Скоро сервисы организации, к которой подключён ваш аккаунт, перейдут в режим просмотра. Чтобы и дальше использовать  все возможности, свяжитесь с администратором вашей организации.":"Для вашей организации сервисы переведены в режим просмотра. Свяжитесь с администратором, чтобы восстановить вcе возможности.",[n,r]);return a.default.createElement(s.default,{type:"warn",className:"b2b-free-block",title:d,mainButtonProps:r?{url:t,onClick:o,text:"Выбрать тариф"}:void 0,secondaryButtonProps:{url:e,onClick:l,text:"Подробнее"}})})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t);var r=n(35),i=n(18),o=n(19),a=n(15),s=n(9),u=n(23);function c(e,t,n){if("dir"===n.resource.type)return e(t,n)}ns.events.on("ufo-resource-create",s.wrap((function(e,t){var n=ns.Model.getValid("tree",{id:u.dirname(t.resource.id)});n&&n.insert(function(e){var t=ns.Model.get("tree",{id:e.id});return t.setData($.extend(!0,{resource:[]},e)),t.bindResource(),t}(t.resource),0)}),c)),ns.events.on("ufo-resource-destroy",s.wrap((function(e,t){var n=ns.Model.getValid("tree",{id:t.resource.id});n&&n.chainDestroy()}),c)),ns.Model.define("tree",{params:{id:null},split:{model_id:"tree",items:".resource",params:{id:".id"}},methods:{_init:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.super_._init.apply(this,t),s.bindAll(this,"chainDestroy","onResourceChanged"),this.bindResource(),this.off("ns-model-destroyed"),this.on("ns-model-destroyed",(function(e,t){!t||!t.model||t.data&&t.data.model||this.remove(t.model)}))},bindResource:function(){this.unbindResource(),this.unsubscribeUpdateResource=this.subscribeUpdateResource(this.params.id,{"meta.public":this.onResourceChanged,"state.hidden":this.onResourceChanged,"state.blocked":this.onResourceChanged,"state.part":this.onResourceChanged,"meta.group.gid":this.onResourceChanged,"meta.group.rights":this.onResourceChanged,"meta.wfolio_project_id":this.onResourceChanged},(function(){}))},unbindResource:function(){this.unsubscribeUpdateResource&&this.unsubscribeUpdateResource()},preprocessData:function(e){if(!e||e.error||e.code)return(e=this.getData()||{resource:[]}).state={loaded:!0},e;e.resource||(e.resource=[]),s.each(e.resource.concat([e]),(function(e){return r.default.preprocess(e)}));var t=Object(i.default)(),n=Object(o.getResourceData)(t.getState(),this.params.id,"state");return n||t.dispatch(Object(a.updateResources)([e])),e.state=s.extend({loading:!1,loaded:!s.isEmpty(e.resource),expanded:!!this.get(".state.expanded")||"/disk"===this.params.id},n||{}),e},expand:function(){this.get(".state.loading")||(this.isLoaded()?this.set(".state.expanded",!0):(this.fetch().then(this.expand.bind(this)),this.set(".state.loading",!0)))},collapse:function(){this.get(".state.expanded")&&this.set(".state.expanded",!1),this.models.forEach((function(e){e.collapse()}))},toggle:function(e){(void 0!==e?e:!this.get(".state.expanded"))?this.expand():this.collapse()},chainDestroy:function(){s.invokeMap(this.models.slice(),"chainDestroy"),ns.Model.destroy(this),this.unbindResource()},onResourceChanged:function(){if(this.isValid()){var e=this.getData(),t=Object(o.getResourceData)(Object(i.default)().getState(),this.params.id)||{},n=s.pick(e.state,"loading","loaded","expanded");s.extend(e,t),s.extend(n,t.state),e.state=n,this.setData(e)}},fetch:function(){var e=this;return ns.Model.get("queueRequest").push(this).then((function(){e.set(".state.loaded",!0)}))},isLoaded:function(){return!!this.get(".state.loaded")},isEmpty:function(){return 0===this.models.length}}})}),(function(e,t,n){"use strict";n.r(t);var r=n(18);n(400).define("stateTree",{methods:{preprocessData:function(e){var t,n=null===(t=Object(r.default)().getState().dialogs)||void 0===t||null===(t=t.selectFolder)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.folderId;return e.selected=n||this.DEFAULT_FOLDER,e},select:function(e){this.set(".selected",e)},deselect:function(){this.select(this.DEFAULT_FOLDER)},DEFAULT_FOLDER:"/disk"}})}),(function(e,t,n){"use strict";n.r(t),n.d(t,"listenScrollAndResize",(function(){return c})),n.d(t,"stopListenScrollAndResize",(function(){return l}));n(2323),n(2324);var r=n(9),i=n.n(r),o=$(window),a=n(1204),s={},u=i.a.debounce((function(){var e={top:window.pageYOffset-window.innerHeight,bottom:window.pageYOffset+2*window.innerHeight};i.a.each(s,(function(t,n){(function(e){return!e||!e.parentNode||(e.contains?!document.body.contains(e):null===document.getElementById(e.id))})(t.node)||t.loaded?delete s[n]:a.isElInRect({el:t.node,rect:e,fnGetRectEl:a.getRect})&&t.load()}))}),100),c=function(){o.on("scroll resize",u)},l=function(){o.off("scroll resize",u)};nb.define("icon-resource",{events:{init:"onInit"},onInit:function(){this.$node=$(this.node),this.$preview=this.$node.find(".js-icon-preview"),this.$cover=this.$node.find(".js-cover-preview"),this.src=window.location.protocol+this.$preview.data("src"),this.params=this.$node.data("params"),this.load=i.a.once(this.load),0!==this.$preview.length&&(s[this.id]=this,u())},load:function(){var e=this.$preview[0];if(e){"cover"===this.params["image-sizing"]?this.$cover.css("background-image","url("+this.src+")"):this.$preview.attr("src",this.src),this.trigger("startLoading",this.src);var t=this;e.complete&&0!==e.naturalWidth?this.onPreviewLoaded():(function n(){e.complete?e.naturalWidth?t.onPreviewLoaded():t.onPreviewFailed():requestAnimationFrame(n)})()}},onPreviewLoaded:function(){this.loaded=!0,this.$node.addClass("nb-icon-resource_loaded-preview"),this.trigger("load",this.src)},onPreviewFailed:function(){this.trigger("fail",this.src)},destroy:function(){this.nbdestroy()}})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=i(n(381)),s=i(n(123)),u=n(28).cn("LimitUploadDialog"),c=n(525),l=i(n(285)),d=i(n(2330)),f=i(n(2332));n(2337);t.default=(({lang:e,files:t,limitSize:n,onClose:r,onBuy:i,countMetrikaFn:p,visible:h,zIndexGroupLevel:m=1,useDrawer:v,className:g,dialogTitle:y,dialogText:b,buyButtonText:_,cancelButtonText:O})=>{o.useEffect(()=>{h&&p("open")},[h,p]);const E=o.useCallback(()=>{r(),p("close")},[r,p]),w=o.useCallback(()=>{i(),p("buy")},[i,p]),S=o.useCallback(()=>{r(),p("cancel")},[r,p]),C=Object.assign({visible:h,onClose:E,closeI18n:d.default(e,"close"),className:u({touch:v},[g]),zIndexGroupLevel:m},v?{useDrawer:!0,noCloseButton:!0}:null),x=o.useMemo(()=>t.length,[t]),T=o.useMemo(()=>1===x,[x]),P=o.useMemo(()=>{const n=t.reduce((e,t)=>e+t.size,0);return c.getSpaceString(n,d.default(e,"spaceUnits").split("|"),d.default(e,"fractionSeparator"))},[t,e]),k=o.useMemo(()=>T&&t[0].name||d.default(e,"nFiles",{count:String(x)}),[t,e,x,T]);return o.default.createElement(a.default,Object.assign({},C),o.default.createElement("div",{className:u("Image")}),o.default.createElement("div",{className:u("Title")},y||d.default(e,T?"titleSingle":"titleMulti")),o.default.createElement("div",{className:u("Text")},b||d.default(e,"text",{size:c.getSpaceString(n,d.default(e,"spaceUnits").split("|"),d.default(e,"fractionSeparator"))})),o.default.createElement("div",{className:u("Files")},o.default.createElement(f.default,{className:u("Files-Icon"),name:T?"file":"files",small:v}),o.default.createElement("div",{className:u("Files-Name"),title:T?k:""},T?o.default.createElement(l.default,{text:k,width:v?200:290}):k),o.default.createElement("div",{className:u("Files-Size")},`(${P})`)),o.default.createElement("div",{className:u("Buttons-Wrapper")},o.default.createElement(s.default,{className:u("Button-Buy"),view:"action",size:v?"xl":"xxl",onClick:w},_||d.default(e,"chooseTariff")),o.default.createElement(s.default,{className:u("Button-Cancel"),view:v?"clear":"default",size:v?"xl":"xxl",onClick:S},O||d.default(e,"close"))))})}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(536),i={};i.ru=n(2331);t.default=((e,t,n)=>r.getComponentI18n(i,"ps-limit-upload-dialog",e,t,n))}),(function(e,t,n){(function(e){!(function(){var t;(t=t||{}).tanker=t.tanker||{},t.tanker.dynamic={gender:function(e){return (function(e){return e[e.gender]})(e)},plural:function(e){return (function(e){var t=isNaN(parseInt(e.count))?0:e.count,n=t%10,r=t%100;return 1==n&&11!=r?e.one:n>1&&n<5&&(r<10||r>20)?e.some:e.many})(e)},plural_adv:function(e){return (function(e){return 0===(isNaN(parseInt(e.count))?0:e.count)?e.none:t.tanker.dynamic.plural({count:e.count,one:e.one,some:e.some,many:e.many})})(e)},toggle:function(e){return (function(e){return Boolean(e.condition)?e.true:e.false})(e)}},(t=t||{}).yandex_disk_ps_components=t.yandex_disk_ps_components||{},t.yandex_disk_ps_components["ps-limit-upload-dialog"]={chooseTariff:function(e){return"Выбрать тариф"},close:function(e){return"Закрыть"},fractionSeparator:function(e){return","},nFiles:function(e){return e.count+" "+t.tanker.dynamic.plural({count:"        \n        "+e.count+"     \n    ",one:"файл",some:"файла",many:"файлов"})},spaceUnits:function(e){return"байт|КБ|МБ|ГБ|ТБ"},text:function(e){return"Подключите Яндекс 360 Премиум, чтобы загружать файлы размером от "+e.size},titleMulti:function(e){return"Слишком большие файлы"},titleSingle:function(e){return"Слишком большой файл"}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(137)(e))}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(2333)),a=r(n(2334)),s=r(n(2335)),u=r(n(2336)),c={file:o.default,files:s.default,fileSmall:a.default,filesSmall:u.default};t.default=(({name:e,className:t,small:n})=>i.default.createElement("div",{className:t,dangerouslySetInnerHTML:{__html:c[e+(n?"Small":"")]}}))}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.205 2h3.786c.775 0 1.043.028 1.34.096.297.069.56.178.818.34.258.161.468.33 1.015.878l2.522 2.522c.547.547.717.757.879 1.015.161.258.27.521.338.818.069.297.097.565.097 1.34v9.786c0 1.114-.116 1.519-.334 1.926a2.272 2.272 0 0 1-.945.945c-.407.218-.811.334-1.926.334h-7.59c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C5.116 20.314 5 19.91 5 18.795V5.205c0-1.115.116-1.519.334-1.926.218-.407.538-.727.945-.945C6.686 2.116 7.09 2 8.205 2zm0 2c-.427 0-.694.019-.849.049a.353.353 0 0 0-.134.049.275.275 0 0 0-.124.124.353.353 0 0 0-.049.134c-.03.155-.049.422-.049.849v13.59c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.125c.06.031.073.036.134.048.155.03.422.049.849.049h7.59c.427 0 .694-.019.849-.049a.353.353 0 0 0 .134-.049.275.275 0 0 0 .125-.124.353.353 0 0 0 .048-.134c.03-.155.049-.422.049-.849V10h-2.795c-1.114 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C11.116 8.314 11 7.91 11 6.795V4H8.205zM13 4.083v2.712c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.124c.06.032.073.037.134.049.155.03.422.049.849.049h2.711a.676.676 0 0 0-.047-.088c-.079-.126-.18-.245-.598-.662l-2.52-2.521c-.418-.417-.537-.52-.662-.598A.69.69 0 0 0 13 4.083z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="21" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 2h4.757a3 3 0 0 1 2.122.879L14 4l1.621 1.621a3 3 0 0 1 .879 2.122V16.5A1.5 1.5 0 0 1 15 18H6a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 6 2zm4.5 2v3a1 1 0 0 0 1 1h3v8h-8V4h4z" fill="currentColor"></path></svg>'}),(function(e,t){e.exports='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.205 1h3.786c.775 0 1.043.028 1.34.097.297.068.56.177.818.338.258.162.468.332 1.015.88l2.522 2.52c.547.548.717.758.879 1.016.161.258.27.521.338.818.069.297.097.565.097 1.34v8.786c0 1.114-.116 1.519-.334 1.926a2.272 2.272 0 0 1-.945.945c-.407.218-.811.334-1.926.334h-7.59c-1.115 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C6.116 18.314 6 17.91 6 16.795V4.205c0-1.115.116-1.519.334-1.926.218-.407.538-.727.945-.945C7.686 1.116 8.09 1 9.205 1zm0 2c-.427 0-.694.019-.849.049a.353.353 0 0 0-.134.049.275.275 0 0 0-.124.124.353.353 0 0 0-.049.134c-.03.155-.049.422-.049.849v12.59c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.125c.06.031.073.036.134.048.155.03.422.049.849.049h7.59c.427 0 .694-.019.849-.049a.353.353 0 0 0 .134-.049.275.275 0 0 0 .125-.124.353.353 0 0 0 .048-.134c.03-.155.049-.422.049-.849V9h-2.795c-1.114 0-1.519-.116-1.926-.334a2.272 2.272 0 0 1-.945-.945C12.116 7.314 12 6.91 12 5.795V3H9.205zM14 3.083v2.712c0 .427.019.694.049.849.012.06.017.074.049.134a.275.275 0 0 0 .124.124c.06.032.073.037.134.049.155.03.422.049.849.049h2.711a.676.676 0 0 0-.047-.088c-.079-.126-.18-.245-.598-.662l-2.52-2.521c-.418-.417-.537-.52-.662-.598A.69.69 0 0 0 14 3.083z" fill="currentColor"></path><path d="M6 6v0a2 2 0 0 0-2 2v11a3 3 0 0 0 3 3h7a2 2 0 0 0 2-2v0" stroke="currentColor" stroke-width="2"></path></svg>'}),(function(e,t){e.exports='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 16.997a1 1 0 0 0-1-1H5.5a.5.5 0 0 1-.5-.5V7a1 1 0 1 0-2 0v8.497a2.5 2.5 0 0 0 2.5 2.5H12a1 1 0 0 0 1-1zM14.5 15h-7A1.5 1.5 0 0 1 6 13.5v-10A1.5 1.5 0 0 1 7.5 2h4c1 0 2.195.695 3 1.5.805.805 1.5 2 1.5 3v7a1.5 1.5 0 0 1-1.5 1.5zm-.5-2V4H8v9h6z" fill="currentColor"></path><path d="M11 3h1.6l1.2.8L15 5.4V7h-3a1 1 0 0 1-1-1V3z" fill="currentColor"></path></svg>'}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(9)),a=i(n(0)),s=n(16),u=n(26),c=n(256),l=n(79),d=n(58),f=n(20),p=n(1118),h=r(n(1119)),m=r(n(1120)),v=i(n(35)),g=n(58),y=n(56),b=r(n(14));n(1121);const _=r(n(11)),O=()=>_.default()("family-folder-creation"),E=s.connect((e,{dialog:t})=>{if(t&&t.data){const{onSubmit:n,onClose:r,message:i,progress:o}=t.data,{config:{urlAvatar:a}}=e;return{visible:t.state===f.STATE.OPENED,familyRoleMetrikaKey:g.getFamilyRoleMetrikaKey(e),hasFamilyFeature:g.hasFamilyFeature(e),onSubmit:n,onClose:r,urlAvatar:a,members:d.getFamilyMembers(e),progress:o,errorText:i}}return{visible:!1,familyRoleMetrikaKey:""}});t.FamilyFolderCreationDialog=(({familyRoleMetrikaKey:e,hasFamilyFeature:t,errorText:n,members:r,visible:i,progress:d,urlAvatar:f,onSubmit:g,onClose:_})=>{const E=s.useDispatch(),w=a.useRef(null),S=a.useMemo(()=>a.default.createElement(m.default,null),[]),[C,x]=a.useState("Моя семья"),T=a.useMemo(()=>v.default.validateName(C),[C]),P=o.default.get(v.resourceNameValidationResultI18n,[T,"dir"]),k=a.useMemo(()=>r.map(({avatar:e,name:t,leader:n})=>({avatar:{url:`${f}${e}/islands-middle`,additionalIcon:n?S:null},label:t})),[r,f,S]),j=a.useCallback(e=>{x(e.target.value)},[]),R=a.useCallback(n=>{n.preventDefault(),b.default.count("interface elements","dialog","create family folder","create",{role:e,feature:t}),null===g||void 0===g||g(C),E(y.submitConfirmation({name:C}))},[g,C,e,t,E]),I=a.useCallback(()=>{null===_||void 0===_||_(),E(y.cancelConfirmation())},[_,E]);a.useEffect(()=>{w.current&&(i?(x("Моя семья"),w.current.select(),w.current.focus()):w.current.blur()),i&&b.default.count("interface elements","dialog","create family folder","open",{role:e,feature:t})},[i,e,t]);const A=Boolean(n||P),D=""===C||Boolean(P);return a.default.createElement(p.FamilyModal,{visible:i,onClose:I},a.default.createElement("form",{onSubmit:R},a.default.createElement("h2",{className:O().e("title")},"Укажите название семейной папки"),a.default.createElement(c.Textinput,{className:O().e("input"),view:"default",size:"l",controlRef:w,onChange:j,value:C,disabled:d,state:A?"error":void 0,hint:n||P}),a.default.createElement("p",{className:O().e("text")},a.default.createElement(l.I18N,{loc:"К файлам этой папки получат доступ все участники "+yr.externals.entityify(l.I18N.$1)+". Доступ к файлу можно редактировать после создания."},a.default.createElement("b",null,"семейного тарифа"))),a.default.createElement(h.default,{members:k}),a.default.createElement("div",{className:O().e("button")},a.default.createElement(u.Button,{progress:d,disabled:D,view:"action",type:"submit",width:"max",size:"l"},"Создать"))))});const w=E(t.FamilyFolderCreationDialog);w.dialogName="familyFolderCreation",t.default=w}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(610));n(2341);const a=r(n(11)),s=()=>a.default()("family-member");t.default=(e=>{const t=void 0!==e.onClick;return i.default.createElement("div",{className:s().m({button:t}),onClick:e.onClick,role:t?"button":void 0},e.avatar&&i.default.createElement("div",{className:s().e("avatar")},i.default.createElement(o.default,{url:e.avatar.url,size:28}),e.avatar.additionalIcon&&i.default.createElement("div",{className:s().e("avatar-add-icon-wrapper")},e.avatar.additionalIcon)),i.default.createElement("span",{className:s().e("label")},e.label),e.rightIcon&&i.default.createElement("div",{className:s().e("right-icon-wrapper")},e.rightIcon))})}),(function(e,t,n){}),(function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"selectArrowIconProvider",(function(){return y}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),d=n(2),f=n.n(d),p=n(0),h=n.n(p),m=n(12);function v(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=(function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return h.a.createElement("path",{d:"M13.3 5L8.5 9.7 3.7 5l-.7.7L8.5 11 14 5.7",fill:"currentColor"})}}]),n})(m.default),y=Object(m.iconProvider)(g)}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(58),s=n(16),u=n(20),c=n(1118),l=i(n(1119)),d=(n(2345),i(n(1120))),f=i(n(2347)),p=n(58);n(1121);const h=i(n(11)),m=n(26),v=()=>h.default()("family-album-access"),g=s.connect((e,{dialog:t})=>{if(t&&t.data){const{onClose:n}=t.data,{config:{urlAvatar:r,urlsBase:{passport:i}}}=e;return{visible:t.state===u.STATE.OPENED,hasFamilyFeature:p.hasFamilyAlbumFeature(e),onClose:n,urlAvatar:r,members:a.getFamilyMembers(e),passport:i}}return{visible:!1}});t.FamilyAlbumAccessDialog=(({members:e,visible:t,urlAvatar:n,onClose:r,passport:i})=>{const a=o.useMemo(()=>o.default.createElement(d.default,null),[]),s=o.useMemo(()=>o.default.createElement(f.default,null),[]),u=o.useMemo(()=>e.map(({avatar:e,name:t,leader:r})=>({avatar:{url:`${n}${e}/islands-middle`,additionalIcon:r?a:null},label:t})),[e,n,a]);return o.default.createElement(c.FamilyModal,{visible:t,onClose:r},o.default.createElement("div",{className:v()},o.default.createElement("h2",{className:v().e("title")},"Доступ к альбому"),o.default.createElement("p",{className:v().e("text")},"Альбом доступен всем участникам вашей семьи"),o.default.createElement(l.default,{members:u}),o.default.createElement(m.Button,{size:"m",view:"clear",type:"link",url:i+"/family",target:"_blank",className:v().e("button")},s,o.default.createElement("span",{className:v().e("text-wrapper")},"Управлять семьей"))))});const y=g(t.FamilyAlbumAccessDialog);y.dialogName="familyAlbumAccess",t.default=y}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=n(195),a=n(26),s=n(407);n(2346);const u=r(n(11)),c=n(1096),l=()=>u.default()("family-touch-modal");t.TouchModal=(({visible:e,members:t,passport:n,crossIcon:r,onClose:u,urlAvatar:d})=>{const f=e=>i.default.createElement(a.Button,{size:"m",view:e,type:"link",url:n+"/family",target:"_blank",className:l().e("button").m({clear:"clear"===e})},r,i.default.createElement("span",{className:l().e("text-wrapper")},"Управлять семьей"));return i.default.createElement(s.Modal,{className:l(),visible:e,theme:"normal",onClose:u},i.default.createElement("div",{className:l().e("body")},i.default.createElement("header",{className:l().e("header")},i.default.createElement(a.Button,{className:l().e("back-button"),view:"clear",size:"s","aria-label":"Назад",icon:o.backArrowIconProvider,onClick:u}),i.default.createElement("h2",{className:l().e("title")},"Доступ к альбому")),0===t.length?i.default.createElement("div",{className:l().e("stub")},i.default.createElement("div",{className:l().e("stub-icon")}),i.default.createElement("span",{className:l().e("stub-title")},"В вашей семье нет участников"),i.default.createElement("span",{className:l().e("stub-description")},"Вы можете добавить участников семьи  в настройках Яндекс ID"),f("raised")):i.default.createElement(i.default.Fragment,null,i.default.createElement("span",{className:l().e("sub-title")},"Ваша семья"),i.default.createElement(c.FamilyMembersList,{members:t,urlAvatar:d}),f("clear"))))})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(12));t.default=class extends o.default{getContentSVG(){return i.default.createElement("path",{fill:"CurrentColor",d:"M14 9.503a1 1 0 0 1 1 1v3a1.5 1.5 0 0 1-1.5 1.5h-11a1.5 1.5 0 0 1-1.5-1.5v-11a1.5 1.5 0 0 1 1.5-1.5h3a1 1 0 1 1 0 2H3v10h10v-2.5a1 1 0 0 1 1-1Zm-1.7-6.716v-.324l-1.15.315a6.259 6.259 0 0 1-1.65.221c-.6 0-1-.448-1-1.001a1 1 0 0 1 1-1H14a1 1 0 0 1 1 1v4.505a1 1 0 0 1-1 1c-.552 0-1-.403-1-1 0-.56.075-1.117.222-1.656l.313-1.147h-.32l-1.078 1.437a9.999 9.999 0 0 1-.93 1.072l-3.5 3.498a1 1 0 1 1-1.414-1.414l3.5-3.5c.334-.332.69-.641 1.065-.923L12.3 2.787Z"})}}}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(28),s=i(n(381)),u=i(n(123));n(2349);const c=i(n(2350)),l=a.cn("DocsCopyConfirmDialog");t.default=(({className:e,onClose:t,onSubmit:n,visible:r,toExtension:i,useDrawer:a,lang:d,countMetrikaFn:f,autofocusSubmit:p=!0})=>{const h=o.useRef(null);o.useEffect(()=>{p&&requestAnimationFrame(()=>{h.current&&h.current.focus()})},[r,p]),o.useEffect(()=>{r&&f("open")},[r,f]);return o.default.createElement(s.default,{useDrawer:a,noCloseButton:a,title:c.default(d,"dialog-docs-copy-confirmation_title",{toExtension:null===i||void 0===i?void 0:i.toUpperCase()}),onClose:()=>{t(),f("close")},visible:r,className:l({touch:a},[e]),closeI18n:c.default(d,"close")},o.default.createElement("div",{className:l("modal")},o.default.createElement("span",{className:l("description")},c.default(d,"dialog-docs-copy-confirmation_subtitle")),o.default.createElement("div",{className:l("btn-wrapper")},o.default.createElement(u.default,{className:l("button"),view:"default",size:a?"xl":"m",onClick:()=>{t(),f("click cancel")}},c.default(d,"dialog-docs-copy-confirmation_cancel")),o.default.createElement(u.default,{innerRef:h,className:l("button"),view:"action",size:a?"xl":"m",onClick:()=>{n(),f("click submit")}},c.default(d,"dialog-docs-copy-confirmation_submit")))))})}),(function(e,t,n){}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(536),i={};i.ru=n(2351);t.default=((e,t,n)=>r.getComponentI18n(i,"dialog-docs-copy-confirmation",e,t,n))}),(function(e,t,n){(function(e){!(function(){var t=t||{};t.yandex_disk_ps_components=t.yandex_disk_ps_components||{},t.yandex_disk_ps_components["dialog-docs-copy-confirmation"]={close:function(e){return"Закрыть"},"dialog-docs-copy-confirmation_cancel":function(e){return"Отмена"},"dialog-docs-copy-confirmation_submit":function(e){return"Создать копию и редактировать"},"dialog-docs-copy-confirmation_subtitle":function(e){return"Копию можно редактировать. Исходный файл будет доступен для просмотра на Диске."},"dialog-docs-copy-confirmation_title":function(e){return"Формат файла устарел. Создайте копию в "+e.toExtension}},e&&e.exports?e.exports=t:(window.i18n=window.i18n||{},window.i18n.ru=t)})()}).call(this,n(137)(e))}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(16),v=n(0),g=n.n(v),y=n(164),b=n(1178),_=n.n(b),O=n(20),E=n(15),w=n(18),S=n(30),C=n(9),x=n.n(C),T=n(11),P=n.n(T),k=n(45);n(2362);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var R=(function(e){l()(n,e);var t=j(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){this.maybeFetchFolder()}},{key:"componentDidUpdate",value:function(e){e.resourceId!==this.props.resourceId&&this.props.visible&&this.maybeFetchFolder(),e.resourceId!==this.props.resourceId||this.props.resource||this._onDialogClose()}},{key:"maybeFetchFolder",value:function(){var e=this;if(!this.props.resource){var t=this.props.resourceId;this.props.fetchSingleResource(t).then((function(t){Object(S.can)(S.SHARE_ACCESS,t,Object(w.default)().getState())||e._onDialogClose()})).catch((function(){e._onDialogClose()}))}}},{key:"_onDialogClose",value:function(){this.props.visible&&this.props.closeDialog("access-folder")}},{key:"render",value:function(){return this.props.resource?g.a.createElement(y.default,{cls:P()()("access-folder-dialog").mix(k.LISTING_PREVENT_DESELECT_CLASS),onClose:this._onDialogClose,closeButtonAriaLabel:"Закрыть",visible:this.props.visible},g.a.createElement(_.a,null)):null}}]),n})(v.Component),I={closeDialog:O.closeDialog,fetchSingleResource:E.fetchSingleResource},A=Object(m.connect)((function(e,t){var n=t.dialog,r=x.a.get(e,"page.originalNSParams.idDialog");return{visible:n&&n.state===O.STATE.OPENED,resourceId:r,resource:r&&e.resources[r]}}),I)(R);A.dialogName="access-folder",t.default=A}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(1076),u=n(26),c=n(491),l=n(1122),d=n(180),f=i(n(14));n(2356);const p=i(n(11)),h=n(273),m=()=>p.default()("AccessFolderInviteForm");t.AccessFolderInviteForm=(({onAddAlreadyAddedUser:e})=>{const t=a.useDispatch(),n=a.useSelector(h.getSuggestions),r=a.useSelector(h.getAccessFolderUsers),i=a.useSelector(h.getIsAccessFolderInvitingUser),p=a.useSelector(h.getIsCurrentFolderShared),[v,g]=o.useState([]),[y,b]=o.useState(l.AccessType.read),_=o.useCallback(e=>{b(e.target.value)},[]),O=o.useCallback(e=>{if(e.preventDefault(),!v.length)return;const{groupid:n,email:r,fromSuggest:i}=v[0],o=v[0].entryType||v[0].type,a="user"===o?r:n,s="user"===o?"email":"ya_directory";a&&(t(d.inviteUser({userid:a,service:s,rights:l.mapAccessTypeToRights(y)})),g([]),p||f.default.count("actions","shared folders","share folder (first invite)",y===l.AccessType.read?"ro":"rw"),i?f.default.count("actions","shared folders","invite user","contact from suggest",s):f.default.count("actions","shared folders","invite user","direct email"))},[v,y,p,t]),E=o.useCallback(e=>o.default.createElement(u.Button,Object.assign({},e,{view:"clear","aria-label":l.ACCESS_TYPE_NAMES[y]})),[y]),w=o.default.createElement(c.Select,{className:m().e("AccessType"),size:"m",view:"default",value:y,onChange:_,renderTrigger:E,options:[{value:l.AccessType.read,content:l.ACCESS_TYPE_NAMES[l.AccessType.read]},{value:l.AccessType.write,content:l.ACCESS_TYPE_NAMES[l.AccessType.write]}]}),S=o.useCallback(e=>{t(d.fetchSuggestions(e))},[t]),C=o.useCallback(()=>{t(d.setSuggestions([]))},[t]),x=o.useCallback(t=>{const n=t.slice(-1);if(n.length){r.find(e=>e.email===n[0].email)&&e(n.pop())}g(n)},[r,e]);return o.default.createElement("form",{className:m(),onSubmit:O},o.default.createElement("div",{className:m().e("InputWrap")},o.default.createElement(s.ContactPicker,{value:v,onChange:x,suggestions:n,onSuggestionsUpdateRequested:S,onSuggestionsClearRequested:C,placeholder:"Введите имя или эл. почту",addonAfter:w,ariaLabels:{deleteButton:"Удалить",popup:"Контакты",isOuterBadgeLabel:"Внешний",avatarAlt:"Фото профиля"},autoFocus:!0,stretchInput:!1,lang:"ru"})),o.default.createElement(u.Button,{className:m().e("Button"),size:"m",view:"action",type:"submit",progress:i,disabled:0===v.length&&!i},"Пригласить"))})}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),o=r(n(12));class a extends o.default{getContentSVG(){return i.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M8 .756A.75.75 0 0 1 9.164.131l3.391 2.244a.75.75 0 0 1 0 1.25L9.164 5.87A.75.75 0 0 1 8 5.245V4a5 5 0 1 0 5 5 1 1 0 1 1 2 0 7 7 0 1 1-7-7V.756Z"})}}t.default=a,t.retryIconProvider=(e=>i.default.createElement(a,{cls:e}))}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(180),u=n(273),c=n(1122),l=n(74),d=n(893),f=i(n(14));n(2358);const p=i(n(11)),h=()=>p.default()("AccessFolderUsersList");t.AccessFolderUsersList=(({highlighted:e,onChangeHighlighted:t})=>{const n=a.useDispatch(),r=a.useSelector(u.getAccessFolderUsers),i=a.useSelector(u.getIsAccessFolderUsersLoading),p=o.useMemo(()=>r.reduce((e,t)=>(e[t.email]=o.createRef(),e),{}),[r]),m=o.useRef(r);o.useEffect(()=>{m.current=r},[r]),o.useEffect(()=>{i||f.default.count("interface elements","folder access dialog","show",m.current.length?"filled":"empty")},[i]),o.useEffect(()=>{var n;e&&(p[e]&&(null===(n=p[e].current)||void 0===n||n.scrollIntoView({behavior:"smooth"})),setTimeout(()=>{t()},2500))},[e,t,p]),o.useEffect(()=>{n(s.maybeFetchAccessFolderUsers())},[n]);const v=o.useCallback((e,t)=>{const{value:r}=t.target;switch(r){case c.AccessType.revoke:n(s.revokeAccess({email:e.email})),f.default.count("actions","shared folders","revoke access"),f.default.count("interface elements","folder access dialog","revoke access");break;case c.AccessType.retry:n(s.inviteUser({userid:e.email,service:"email",rights:e.rights})),f.default.count("actions","shared folders","invite user","resend invite");break;case c.AccessType.write:case c.AccessType.read:n(s.changeRights({email:e.email,rights:c.mapAccessTypeToRights(r)})),f.default.count("actions","shared folders","change access rights",r===c.AccessType.read?"ro":"rw"),f.default.count("interface elements","folder access dialog","change access rights",r===c.AccessType.read?"ro":"rw")}},[n]);let g;return g=i?o.default.createElement("div",{className:h().e("InnerWrap")},o.default.createElement(l.Spin,{className:h().e("Spin"),view:"default",size:"m",progress:!0})):r.length?r.map(t=>o.default.createElement(d.User,{key:t.uid,className:h().e("User").m({highlighted:e===t.email}),innerRef:p[t.email],innerProps:{role:"row"},email:t.email,isOuter:t.isOuter,displayName:t.displayName,avatarUrl:t.avatarUrl,color:t.color,mono:t.mono,position:t.position,department:t.department,addonAfter:o.default.createElement(c.AccessTypeSelect,{user:t,onChange:v}),lang:"ru",isOuterBadgeLabel:"Внешний",avatarAlt:"Фото профиля"})):o.default.createElement("div",{className:h().e("InnerWrap")},o.default.createElement("div",{className:h().e("Message")},"Вы ещё никого не пригласили")),o.default.createElement("div",{className:h()},g)})}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),a=n(16),s=n(26),u=i(n(1123)),c=n(273);n(2360);const l=i(n(11)),d=n(180);t.AccessFolderFooter=(()=>{const e=a.useDispatch(),t=a.useSelector(c.getIsCurrentFolderShared),n=a.useSelector(c.getAccessFolderResource),r=null===n||void 0===n?void 0:n.id,i=o.useCallback(()=>{e(d.unshareFolder({id:r}))},[r,e]);return o.default.createElement("div",{className:l.default()("AccessFolderFooter")},t?o.default.createElement(s.Button,{size:"m",view:"default",onClick:i,iconLeft:e=>o.default.createElement(u.default,{cls:e})},"Закрыть доступ всем"):null)})}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(2364)),o=r(n(2365)),a=r(n(2366)),s=r(n(2367)),u=r(n(2368)),c=r(n(2369)),l=r(n(2370)),d=r(n(2371)),f=r(n(2372)),p=r(n(2373)),h=[{size:24,url:i.default},{size:32,url:o.default},{size:64,url:a.default},{size:72,url:s.default},{size:120,url:u.default},{size:152,url:c.default},{size:167,url:l.default},{size:180,url:d.default},{size:192,url:f.default},{size:512,url:p.default}];t.default=[...h.map(e=>Object.assign(Object.assign({},e),{rel:"icon"})),...h.map(e=>Object.assign(Object.assign({},e),{rel:"apple-touch-icon"}))]}),(function(e,t){e.exports="/s3/disk/_/_dLiDw0Ops4o7TpmL59j2LxNpCTj.png"}),(function(e,t){e.exports="/s3/disk/_/_2onFaQAK8wbPguoNvUo365LChdc.png"}),(function(e,t){e.exports="/s3/disk/_/_e5Lih-IUDMdP8msksc1dFYQqtLL.png"}),(function(e,t){e.exports="/s3/disk/_/_1oXby-5uE6PMd_65Tw7yFLe2sN5.png"}),(function(e,t){e.exports="/s3/disk/_/_9MX6afd-pJtBPSHep5WXi8iLycD.png"}),(function(e,t){e.exports="/s3/disk/_/_46WE4LTx01WFhtbq75mfhvArswE.png"}),(function(e,t){e.exports="/s3/disk/_/_bhdoV4ugtta7q9O-a5yXF9-cspc.png"}),(function(e,t){e.exports="/s3/disk/_/_DFML0rcO3JNoIzdkP3UxjpU0gq.png"}),(function(e,t){e.exports="/s3/disk/_/_bknTExFJzyUb8T26iO8p42qIVCX.png"}),(function(e,t){e.exports="/s3/disk/_/_4zn7edgAovua6xlZ_g_2tmhGwgf.png"}),(function(e,t,n){!(function(){var e=yr.cmpNN,t=yr.cmpSN,n=yr.nodeset2xml,r=yr.nodeset2boolean,i=yr.nodeset2attrvalue,o=yr.nodeset2scalar,a=yr.scalar2attrvalue,s=(yr.xml2attrvalue,yr.scalar2xml),u=(yr.xml2scalar,yr.simpleScalar),c=yr.simpleBoolean,l=yr.selectNametest,d=yr.closeAttrs,f=new yr.Module;var p=[0,"models",0,"*",2,function(e,n,r,i){return t("ok",l("status",n,[]))}];f.k2={},f.k2.n=function(e,t,n,r){return e.s(p,t.doc.root)},f.k2.u=function(e,t,n,r){return t.name},f.k2.b=function(e,t,n,r,i){var o=[0,"*",2,function(e,t,n,r){return"status"!=t.name}];return e.s(o,t)},f.k2.ut="scalar",f.k2.bt="nodeset";var h=[0,"models",0,"*",2,function(e,n,r,i){return t("error",l("status",n,[]))}];f.k3={},f.k3.n=function(e,t,n,r){return e.s(h,t.doc.root)},f.k3.u=function(e,t,n,r){return t.name},f.k3.b=function(e,t,n,r,i){var o=[0,"*",2,function(e,t,n,r){return"status"!=t.name}];return e.s(o,t)},f.k3.ut="scalar",f.k3.bt="nodeset",f.f44=function(e,t,n,r,i,o,a,s,u,c){o=void 0===o?[]:o,a=void 0===a?[]:a,s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c;return yr.externals["_ns-view-call"]([t.doc.root],i,o,a,s,u,c)},f.f45=function(e,t,n,r,i,o,a,s,u,c,l){a=void 0===a?[]:a,s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c,l=void 0===l?[]:l;return yr.externals["_ns-model-call"]([t.doc.root],i,o,a,s,u,c,l)},f.f46=function(e,t,n,r,i,o,a,s,u,c){a=void 0===a?[]:a,s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c;return yr.externals["_ns-view-call-scalar"]([t.doc.root],i,o,a,s,u,c)},f.f47=function(e,t,n,r,i,o,a,s,u,c,l){s=void 0===s?[]:s,u=void 0===u?[]:u,c=void 0===c?[]:c,l=void 0===l?[]:l;return yr.externals["_ns-model-call-scalar"]([t.doc.root],i,o,a,s,u,c,l)},f.f48=function(e,t,n,r,i,o){var a="";return a+=d(i),a+=o};var m=[0,"*"];f.f49=function(e,t,n,r,i,o,a){a=void 0===a?[]:a;var s="";return s+=e.a(e,0,e.n(m,yr.externals["_nb-wrap"](o,a)),"nb",i)};var v=[0,"name"],g=[0,"size"],y=[0,"theme"],b=[0,"type"];f.f50=function(e,n,i,a,s,u){u=void 0===u?[]:u;var c=s.a.class;if(s.a.class=c?c.addscalar(" nb-"+o(e.n(v,u))):new yr.scalarAttr(" nb-"+o(e.n(v,u))),r(e.n(g,u))&&!t("m",e.n(g,u))||r(e.n(y,u))&&!t("normal",e.n(y,u))||r(e.n(b,u))){var l="";t("s",e.n(g,u))?l+="-small":t("xs",e.n(g,u))?l+="-extra-small":t("l",e.n(g,u))?l+="-large":t("xl",e.n(g,u))&&(l+="-extra-large");var d=l;l="";!t("normal",e.n(y,u))&&r(e.n(y,u))&&(l+="-"+o(e.n(y,u)));var f=l;l="";r(e.n(b,u))&&(l+="-"+o(e.n(b,u)));var p=l;c=s.a.class;s.a.class=c?c.addscalar(" _nb"+d+f+p+"-"+o(e.n(v,u))):new yr.scalarAttr(" _nb"+d+f+p+"-"+o(e.n(v,u)))}else{var c=s.a.class;s.a.class=c?c.addscalar(" _nb-normal-"+o(e.n(v,u))):new yr.scalarAttr(" _nb-normal-"+o(e.n(v,u)))}return s.a},f.f51=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="s";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"ico",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f52=function(e,n,r,i,o,a){a=void 0===a?[]:a;var s="",u={};u.size="m",u.theme="normal";var c=u;return s+=d(o),t("file",e.n(b,a))?s+=e.f("f49",n,r,i,o,"buttonAttach",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):t("inline",e.n(b,a))?s+=e.f("f49",n,r,i,o,"buttonSpan",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):t("label",e.n(b,a))?s+=e.f("f49",n,r,i,o,"buttonLabel",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):t("link",e.n(b,a))?s+=e.f("f49",n,r,i,o,"buttonLink",yr.externals["_nb-extend"](yr.object2nodeset(c),a)):s+=e.f("f49",n,r,i,o,"button",yr.externals["_nb-extend"](yr.object2nodeset(c),a)),s};var _=[0,"attrs",0,"name"],O=[0,"icon"];f.f53=function(e,t,n,i,a,s){if(e.f("f50",t,n,i,a,yr.object2nodeset(function(){var e={};return e.name="button",e.size=yr.nodeset2data(l("size",t,[])),e.theme=yr.nodeset2data(l("theme",t,[])),e}())),c("disabled",t)){var d=a.a.class;a.a.class=d?d.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),a.a.tabindex=new yr.scalarAttr("-1"),"button"==s&&(a.a.disabled=new yr.scalarAttr("disabled"))}if(c("tabindex",t)&&!c("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(u("tabindex",t))),"attach"==s){d=a.a.class;a.a.class=d?d.addscalar(" _nb-attach-button"):new yr.scalarAttr(" _nb-attach-button")}if("button"==s&&(c("name",t)&&(a.a.name=new yr.scalarAttr(u("name",t))),r(e.s(_,t))&&(a.a.name=new yr.scalarAttr(o(e.s(_,t))))),!r(l("content",t,[]))&&(c("icon",t)||c("iconText",t))){d=a.a.class;a.a.class=d?d.addscalar(" _nb-with-only-button"):new yr.scalarAttr(" _nb-with-only-button")}return a.a},f.f54=function(e,t,r,i,o){var a="";return a+=d(o),c("iconText",t)&&(a+='<span class="nb-icon _nb-icon-text">',a+=n(l("iconText",t,[])),a+="</span>"),c("content",t)&&(a+=u("content",t)),a};f.f55=function(e,t,n,i,o){if(!r(l("static",t,[]))){var a=o.a.class;o.a.class=a?a.addscalar(" _init"):new yr.scalarAttr(" _init"),o.a["data-nb"]=new yr.scalarAttr("button")}return o.a},f.f56=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.none="none";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"popupMenu",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f57=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.none="none";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"popup",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f58=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};(u={}).modal="true",u.width="auto",u.height="auto",u.minHeight="auto",u.maxHeight="auto",s["data-nb"]=u;var u;(u={}).none="none",s.close=u;var c=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"modalPopup",yr.externals["_nb-deep-extend"](yr.object2nodeset(c),o))},f.f59=function(e,t,n,r,i,a){a=void 0===a?[]:a;var s="";return s+=d(i),s+='<div class="_nb-popup-content">',s+=o(a),s+="</div>"},f.f60=function(e,t,n,r,i,a){a=void 0===a?[]:a;var s="";return s+=d(i),s+='<div class="_nb-popup-title">',s+=o(a),s+="</div>"};var E=[0,"data"],w=[0,"data",0,"*"],S=[1,0];f.f61=function(e,t,n,r,i,a){a=void 0===a?[]:a;var s="";if(s+=d(i),s+="<div",i.a={class:new yr.scalarAttr("_nb-popup-buttons")},i.s="div",s+=e.a(e,0,a,"nb-main-attrs",i),s+=d(i),e.n(w,a).length)for(var u=e.n(E,a),c=0,l=u.length;c<l;c++){var f=u[c];s+=e.f("f52",f,c,l,i,e.s(S,f))}else s+=o(e.n(E,a));return s+="</div>"};var C=[0,"class"],x=[0,"attrs"],T=[0,"attrs",0,"*"];f.f62=function(e,t,n,i,a,s){s=void 0===s?[]:s;var u="";u+=d(a),u+="<a",a.a={class:new yr.scalarAttr("_nb-popup-close")},a.s="a";for(var c="",l=0,f=(m=e.n(C,s)).length;l<f;l++){var p=m[l];c+=" "+o(e.s(S,p))}var h=a.a.class;if(a.a.class=h?h.addscalar(c):new yr.scalarAttr(c),r(e.n(x,s))){var m;for(l=0,f=(m=e.n(T,s)).length;l<f;l++){p=m[l];a.a[p.name]=new yr.scalarAttr(o(e.s(S,p)))}}return u+=d(a),u+="</a>"},f.f63=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m",s.theme="normal",s.type="radio";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"radio-button",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f64=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m",s.theme="normal",s.direction="bottom";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"select",yr.externals["_nb-extend"](yr.object2nodeset(u),o))};var P=[0,"text"],k=[0,"value"],j=[0,"selected"],R=[0,"separator"];f.f65=function(e,t,i,a,s,u){u=void 0===u?[]:u;var c="";if(c+=d(s),c+="<option",s.a={},s.s="option",r(e.n(R,u)))s.a.separator=new yr.scalarAttr("true");else{if(s.a.label=new yr.scalarAttr(o(e.n(P,u))),s.a.value=new yr.scalarAttr(o(e.n(k,u))),s.a["data-icon"]=new yr.scalarAttr(o(e.n(O,u))),r(e.n(C,u)))for(var l=e.n(C,u),f=0,p=l.length;f<p;f++){var h=l[f],m=s.a["data-class"];s.a["data-class"]=m?m.addscalar(" "+o(e.s(S,h))):new yr.scalarAttr(" "+o(e.s(S,h)))}r(e.n(j,u))&&(s.a.selected=new yr.scalarAttr("")),c+=d(s),c+=n(e.n(P,u))}return c+=d(s),c+="</option>"},f.f66=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m",s.type="checkbox",s.theme="normal";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"checkbox",yr.externals["_nb-extend"](yr.object2nodeset(u),o))};var I=[0,"leftContent"],A=[0,"rightContent"],D=[0,"labelContent"],M=[0,"reset"],N=[0,"ghost"],L=[0,"error"],F=[0,"hint"];f.f67=function(e,n,i,o,a,s){s=void 0===s?[]:s;var u="",c={};c.size="s";var l=c;return u+=d(a),r(e.n(I,s))||r(e.n(A,s))||r(e.n(D,s))||r(e.n(M,s))||r(e.n(N,s))||r(e.n(L,s))||r(e.n(F,s))?t("multiline",e.n(b,s))?u+=e.f("f49",n,i,o,a,"textarea",yr.externals["_nb-extend"](yr.object2nodeset(l),s)):u+=e.f("f49",n,i,o,a,"input",yr.externals["_nb-extend"](yr.object2nodeset(l),s)):t("multiline",e.n(b,s))?u+=e.f("f49",n,i,o,a,"textareaSimple",yr.externals["_nb-extend"](yr.object2nodeset(l),s)):u+=e.f("f49",n,i,o,a,"inputSimple",yr.externals["_nb-extend"](yr.object2nodeset(l),s)),u},f.f68=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="";return a+=d(i),a+=e.f("f49",t,n,r,i,"input-group",o)},f.f69=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.bar="true",s.start="0",s.type="percentage",s.title=" ";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"progress",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f70=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.theme="dark";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"paranja",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f71=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.content="";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"island",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f72=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={},u={};u.size="s",u.type="file",u.theme="pseudo",u.class="_nb-dropzone-button",s.button=u;var c=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"dropzone",yr.externals["_nb-deep-extend"](yr.object2nodeset(c),o))},f.f73=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"loader",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f74=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.value=0,s.type="range",s.size="s",s.orientation="horiz";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"slider",yr.externals["_nb-deep-extend"](yr.object2nodeset(u),o))},f.f75=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"tabs",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f76=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.search="true",s.buttonContent="Find";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"arrow",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f77=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={},u={};u.search="true",u.buttonContent="Найти",u.class="_nb-header-arrow",s.arrow=u,s.services=!0,s.settings=!0,s.yaHref="http://yandex.ru";var c=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"header",yr.externals["_nb-deep-extend"](yr.object2nodeset(c),o))},f.f78=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"user",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f79=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.countMax="10",s.type="default";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"suggest",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.f80=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.leftText="On",s.rightText="Off",s.size="s";var u=s;return a+=d(i),a+=e.f("f49",t,n,r,i,"toggler",yr.externals["_nb-extend"](yr.object2nodeset(u),o))},f.v197=function(e,t,n,r){return yr.externals.getConfig()},f.v198=function(e,t,n,r){return yr.externals.getEnvironment()},f.v199=function(e,t,n,r){return yr.externals.getConsts()},f.f81=function(e,t,n,r,i,o,a){a=void 0===a?[]:a;var s="";return s+=e.a(e,0,e.n(m,yr.externals["nb-wrap"](o,a)),"nb",i)};f.f82=function(e,t,n,r,i){return yr.externals.addShowHookMetrika("count",u("key",t.doc.root),i)},f.f83=function(e,t,n,r,i){return yr.externals.addShowHookMetrika("reach",u("key",t.doc.root),i)};var B=[0,"published"];f.f84=function(e,t,n,i,a,s){var u="";if(u+=d(a),u+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource-public")},a.s="div",r(e.n(C,yr.object2nodeset(s)))){var c=a.a.class;a.a.class=c?c.addscalar(" "+o(e.n(C,yr.object2nodeset(s)))):new yr.scalarAttr(" "+o(e.n(C,yr.object2nodeset(s))))}return u+=d(a),r(e.n(B,yr.object2nodeset(s)))&&(u+=e.f("f51",t,n,i,a,yr.object2nodeset(function(){var e={};e.icon="published";var t={};return t["aria-label"]="Общий доступ",e.attrs=t,e}()))),u+="</div>"},f.f85=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="s",s["size-icon-video"]="s";var u=s;return a+=e.a(e,0,e.n(m,yr.externals["nb-wrap"]("icon-resource",yr.externals["nb-extend"](yr.object2nodeset(u),o))),"nb",i)};f.f86=function(e,n,r,i){return c("preview",n)&&(t("image",l("type",n,[]))||t("document",l("type",n,[]))||t("book",l("type",n,[]))||t("video",l("type",n,[])))},f.f87=function(e,t,n,r,i,o){o=void 0===o?[]:o;var a="",s={};s.size="m";var u=s;return a+=d(i),a+=e.f("f81",t,n,r,i,"loader-thin",yr.externals["nb-extend"](yr.object2nodeset(u),o))};var U=[0,"views",0,"*"],z=[0,"tree",0,"*"],V=[0,"views",0,"*"],H=[0,"views",0,"ns-view-collection-container",0,"*"],W=[0,"data-nb",0,"*"],$=[0,"attrs",0,"multiple"],G=[0,"attrs",0,"title"],q=[0,"attrs",0,"accept"],Y=[0,"popupMenu"],K=[1,1,0,"name"],J=[1,1,0,"size"],Z=[0,"select"];var X=[0,"items",2,function(e,t,n,i){return r(l("selected",t,[]))}],Q=[0,"error",0,"direction"],ee=[0,"error",0,"class"],te=[0,"error",0,"content"],ne=[0,"hint",0,"text"],re=[0,"hint",0,"ghost"],ie=[0,"dropzone"],oe=[0,"handle",0,"class"];function ae(e,n,r,i){return!t("true",l("search",n,[]))}var se=[0,"arrow",2,ae];var ue=[0,"arrow",2,ae,2,function(e,t,n,r){return c("href",t)}],ce=[0,"settings",0,"content"],le=[0,"services",0,"content"],de=[0,"auth",0,"content"],fe=[0,"user"],pe=[0,"user",0,"content"],he=[0,"input",0,"attrs"],me=[0,"input",0,"leftContent"],ve=[0,"input",0,"rightContent"],ge=[0,"input",0,"labelContent"],ye=[0,"input",0,"reset"],be=[0,"input",0,"ghost"],_e=[0,"input",0,"error"],Oe=[0,"input",0,"hint"];var Ee=[2,function(e,n,r,i){return t("default",l("type",n,[]))},0,"item"];var we=[2,function(e,n,r,i){return t("username",l("type",n,[]))},0,"item"];var Se=[0,"user",2,function(e,n,r,i){return t("suggest",l("mod",n,[]))&&c("usernameHighlighted",n)},0,"username"],Ce=[1,1,0,"usernameHighlighted"];var xe=[0,"user",2,function(e,n,r,i){return t("suggest",l("mod",n,[]))&&c("emailHighlighted",n)},0,"email"],Te=[1,1,0,"emailHighlighted"],Pe=[0,"icon-resource"];var ke=[0,"icon-resource",2,function(e,n,r,i){return t("cover",l("image-sizing",n,[]))}];var je=[0,"icon-resource",2,function(e,t,n,r){return c("static",t)}];var Re=[0,"icon-resource",2,function(e,t,n,r){return c("icon",t)}],Ie=[0,"agent",0,"OSFamily"],Ae=[0,"tree"],De=[0,"state",0,"hidden"],Me=[0,"meta",0,"public"],Ne=[0,"state",0,"expanded"],Le=[0,"state",0,"blocked"],Fe=[0,"state",0,"part"],Be=[0,"meta",0,"group",0,"rights"],Ue=[0,"meta",0,"group"],ze=[0,"creatingSharedFolder"],Ve=[0,"meta",0,"group",0,"is_owned"],He=[0,"isWfolioCreate"],We=[0,"isMove"],$e=[0,"hasGroupFolder"],Ge=[0,"meta",0,"group",0,"gid"],qe=[0,"parentId"],Ye=[0,"isSelectedAcrossSeveralFolders"],Ke=[0,"meta",0,"wfolio_project_id"],Je=[0,"state",0,"loading"];f.t67=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(U,t),"ns-view",i)},f.t67.j=1,f.t67.a=1,f.t68=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.n(z,yr.document(e.s(S,t))),"ns-build-view",i)},f.t68.j=m,f.t68.a=0,f.t69=function(e,t,n,r,i){var o="";return o+=d(i),o+="<div",i.a={},i.s="div",o+=e.a(e,0,e.s(S,t),"ns-build-view-content",i),o+=d(i),o+="</div>"},f.t69.j=m,f.t69.a=0,f.t70=function(e,t,n,i,a){var s="",c=u("state",t.doc.root);if(a.a.class=new yr.scalarAttr("ns-view-"+o(l("id",t.doc.root,[]))+" "+o(l("uniqueId",t.doc.root,[]))),a.a["data-key"]=new yr.scalarAttr(o(l("key",t.doc.root,[]))),"placeholder"==c){var d=a.a.class;a.a.class=d?d.addscalar(" ns-view-placeholder"):new yr.scalarAttr(" ns-view-placeholder"),r(l("collection",t.doc.root,[]))?s+=e.a(e,0,e.s(S,t),"ns-view-collection",a):s+=e.a(e,0,e.s(S,t),"ns-view-desc",a)}else{var f="";f+=e.a(e,0,e.s(S,t),"ns-view-add-class",{a:{}});d=a.a.class;a.a.class=d?d.addxml(f):new yr.xmlAttr(f),s+=e.a(e,0,e.s(S,t),"ns-view-add-attrs",a),s+="loading"==c?e.a(e,0,e.s(S,t),"ns-view-async-content",a):"error"==c?e.a(e,0,e.s(S,t),"ns-view-error-content",a):e.a(e,0,e.s(S,t),"ns-view-content",a)}return s},f.t70.j=m,f.t70.a=0,f.t71=function(e,t,n,r,i){return""},f.t71.j=m,f.t71.a=0,f.t72=function(e,t,n,r,i){return""},f.t72.j=m,f.t72.a=0,f.t73=function(e,t,n,i,o){var a="";return r(l("collection",t.doc.root,[]))?(a+=d(o),a+="<div",o.a={class:new yr.scalarAttr("ns-view-container-desc")},o.s="div",a+=e.a(e,0,e.s(S,t),"ns-view-collection",o),a+=d(o),a+="</div>"):a+=e.a(e,0,e.s(S,t),"ns-view-desc",o),a},f.t73.j=m,f.t73.a=0,f.t74=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(V,t.doc.root),"ns-view",i)},f.t74.j=m,f.t74.a=0,f.t75=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(H,t.doc.root),"ns-view",i)},f.t75.j=m,f.t75.a=0,f.t76=function(e,t,n,r,i){return""},f.t76.j=m,f.t76.a=0,f.t77=function(e,t,n,r,i){return""},f.t77.j=m,f.t77.a=0,f.t78=function(e,t,n,r,i){var a="";a+=e.a(e,0,e.s(S,t),"nb-attrs",i),a+=e.a(e,0,l("*",t,[]),"nb-attrs",i),c("id",t)&&(i.a.id=new yr.scalarAttr(u("id",t)));for(var s="",d=0,f=(m=l("class",t,[])).length;d<f;d++){var p=m[d];s+=" "+o(e.s(S,p))}var h=i.a.class;if(i.a.class=h?h.addscalar(s):new yr.scalarAttr(s),c("mixin-nb",t)){for(s="",d=0,f=(m=l("mixin-nb",t,[])).length;d<f;d++){p=m[d];s+=" "+o(e.s(S,p))}h=i.a["data-nb"];i.a["data-nb"]=h?h.addscalar(s):new yr.scalarAttr(s)}for(d=0,f=(m=e.s(W,t)).length;d<f;d++){p=m[d];i.a["data-nb-"+p.name]=new yr.scalarAttr(o(e.s(S,p)))}var m;for(d=0,f=(m=e.s(T,t)).length;d<f;d++){p=m[d];i.a[p.name]=new yr.scalarAttr(o(e.s(S,p)))}return a},f.t78.j=m,f.t78.a=0,f.t79=function(e,t,n,r,i){var o="";return o+=e.a(e,0,e.s(S,t),"nb-content",i)},f.t79.j=m,f.t79.a=0,f.t80=function(e,n,r,i,o){var a="";a+=d(o),a+="<img",o.a={src:new yr.scalarAttr("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7")},o.s="img";var s="";return s+="nb-icon nb-",s+=u("size",n),t("",l("icon",n,[]))||(s+="-",s+=u("icon",n)),s+="-icon",o.a.class=new yr.scalarAttr(s),a+=e.a(e,0,e.s(S,n),"nb-main-attrs",o),a+=d(o),a+=""},f.t80.j=[0,"ico"],f.t80.a=0,f.t81=function(e,t,n,r,i){var o="";return o+=d(i),o+="<button",i.a={},i.s="button",e.f("f53",t,n,r,i,"button"),e.f("f55",t,n,r,i),o+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),o+=d(i),o+='<span class="_nb-button-content">',c("icon",t)&&(o+=e.f("f51",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(l("icon",t,[])),e}()))),o+=e.f("f54",t,n,r,i),o+="</span>",o+="</button>"},f.t81.j=[0,"button"],f.t81.a=0,f.t82=function(e,t,n,r,i){var o="";return o+=d(i),o+="<a",i.a={},i.s="a",e.f("f53",t,n,r,i,"link"),e.f("f55",t,n,r,i),o+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),o+=d(i),o+='<span class="_nb-button-content">',c("icon",t)&&(o+=e.f("f51",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(l("icon",t,[])),e}()))),o+=e.f("f54",t,n,r,i),o+="</span>",o+="</a>"},f.t82.j=[0,"buttonLink"],f.t82.a=0,f.t83=function(e,t,n,r,i){var o="";return o+=d(i),o+="<span",i.a={},i.s="span",e.f("f53",t,n,r,i,"span"),e.f("f55",t,n,r,i),o+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),o+=d(i),o+='<span class="_nb-button-content">',c("icon",t)&&(o+=e.f("f51",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(l("icon",t,[])),e}()))),o+=e.f("f54",t,n,r,i),o+="</span>",o+="</span>"},f.t83.j=[0,"buttonSpan"],f.t83.a=0,f.t84=function(e,t,n,r,i){var o="";return o+=d(i),o+="<label",i.a={},i.s="label",e.f("f53",t,n,r,i,"label"),e.f("f55",t,n,r,i),o+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),o+=d(i),o+='<span class="_nb-button-content">',c("icon",t)&&(o+=e.f("f51",t,n,r,i,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(l("icon",t,[])),e}()))),o+=e.f("f54",t,n,r,i),o+="</span>",o+="</label>"},f.t84.j=[0,"buttonLabel"],f.t84.a=0,f.t85=function(e,t,n,i,a){var s="";if(s+=d(a),s+="<label",a.a={},a.s="label",e.f("f53",t,n,i,a,"attach"),e.f("f55",t,n,i,a),s+=e.a(e,0,e.s(S,t),"nb-main-attrs",a),s+=d(a),s+='<span class="_nb-file-intruder">',s+='<span class="_nb-file-intruder-inner">',s+="<input",a.a={class:new yr.scalarAttr("_nb-file-intruder-input"),type:new yr.scalarAttr("file")},a.s="input",(r(e.s($,t))||c("multiple",t))&&(a.a.multiple=new yr.scalarAttr("multiple")),c("name",t)&&(a.a.name=new yr.scalarAttr(u("name",t))),r(e.s(_,t))&&(a.a.name=new yr.scalarAttr(o(e.s(_,t)))),r(e.s(G,t))){var f=a.a.title;a.a.title=f?f.addscalar(o(e.s(G,t))):new yr.scalarAttr(o(e.s(G,t)))}return c("disabled",t)&&(a.a.disabled=new yr.scalarAttr("disabled")),r(e.s(q,t))&&(a.a.accept=new yr.scalarAttr(o(e.s(q,t)))),s+=d(a),s+="",s+='<span class="_nb-file-intruder-focus"></span>',s+="</span>",s+="</span>",s+='<span class="_nb-button-content">',c("icon",t)&&(s+=e.f("f51",t,n,i,a,yr.object2nodeset(function(){var e={};return e.icon=yr.nodeset2data(l("icon",t,[])),e}()))),s+=e.f("f54",t,n,i,a),s+="</span>",s+="</label>"},f.t85.j=[0,"buttonAttach"],f.t85.a=0,f.t86=function(e,t,n,i,o){var a="";if(a+=d(o),a+="<div",o.a={class:new yr.scalarAttr("nb-popup _nb-popup _init")},o.s="div",!c("static",t)){o.a["data-nb"]=new yr.scalarAttr("popup");var s=o.a.class;o.a.class=s?s.addscalar(" _nb-is-hidden"):new yr.scalarAttr(" _nb-is-hidden")}return a+=e.a(e,0,e.s(S,t),"nb-main-attrs",o),r(l("withoutTail",t,[]))&&(o.a["data-nb-withoutTail"]=new yr.scalarAttr("true")),a+=e.a(e,0,e.s(S,t),"nb-popup-menu-content",o),a+=d(o),a+="</div>"},f.t86.j=Y,f.t86.a=0,f.t87=function(e,t,n,r,i){var o="";return o+=d(i),o+="<ul",i.a={class:new yr.scalarAttr("_nb-popup-menu")},i.s="ul",o+=e.a(e,0,l("menu",t,[]),"nb-popup-menu-content-item",i),o+=d(i),o+="</ul>"},f.t87.j=Y,f.t87.a=0,f.t88=function(e,t,n,r,i){var o="";return o+=d(i),c("separator",t)?o+='<li class="_nb-popup-separator"></li>':(o+='<li class="_nb-popup-line">',o+="<a",i.a={class:new yr.scalarAttr("_nb-popup-link")},i.s="a",c("href",t)&&(i.a.href=new yr.scalarAttr(u("href",t))),o+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),o+=d(i),o+=u("content",t),o+="</a>",o+="</li>"),o},f.t88.j=[0,"menu"],f.t88.a=0,f.t89=function(e,t,n,i,o){var a="";return a+=d(o),a+="<div",o.a={class:new yr.scalarAttr("nb-popup _nb-popup _init _nb-is-hidden"),"data-nb":new yr.scalarAttr("popup")},o.s="div",a+=e.a(e,0,e.s(S,t),"nb-main-attrs",o),r(l("withoutTail",t,[]))&&(o.a["data-nb-withoutTail"]=new yr.scalarAttr("true")),a+=d(o),c("close",t)&&(a+=e.f("f62",t,n,i,o,l("close",t,[]))),c("titleContent",t)&&(a+=e.f("f60",t,n,i,o,l("titleContent",t,[]))),c("content",t)&&(a+=e.f("f59",t,n,i,o,l("content",t,[]))),a+="</div>"},f.t89.j=[0,"popup"],f.t89.a=0,f.t90=function(e,t,n,r,i){var o="";o+=d(i),c("static",t)&&(o+=e.f("f70",t,n,r,i)),o+="<div",i.a={},i.s="div",e.f("f50",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="popup",e.theme=yr.nodeset2data(l("theme",t,[])),e.type="modal",e}()));var a=i.a.class;i.a.class=a?a.addscalar(" _init"):new yr.scalarAttr(" _init");a=i.a.class;if(i.a.class=a?a.addscalar(" _nb-popup"):new yr.scalarAttr(" _nb-popup"),!c("static",t)){i.a["data-nb"]=new yr.scalarAttr("popup");a=i.a.class;i.a.class=a?a.addscalar(" _nb-is-hidden"):new yr.scalarAttr(" _nb-is-hidden")}return o+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),o+=d(i),o+='<div class="_nb-popup-i">',c("close",t)&&(o+=e.f("f62",t,n,r,i,l("close",t,[]))),c("titleContent",t)&&(o+=e.f("f60",t,n,r,i,l("titleContent",t,[]))),c("content",t)&&(o+=e.f("f59",t,n,r,i,l("content",t,[]))),c("buttons",t)&&(o+=e.f("f61",t,n,r,i,l("buttons",t,[]))),o+="</div>",o+="</div>"},f.t90.j=[0,"modalPopup"],f.t90.a=0,f.t91=function(e,t,n,i,a){var s="",f="radio-button_"+yr.externals["_nb-uniq"]();s+=d(a),s+="<div",a.a={},a.s="div",e.f("f50",t,n,i,a,yr.object2nodeset(function(){var e={};return e.name="radio-button",e.size=yr.nodeset2data(l("size",t,[])),e.theme=yr.nodeset2data(l("theme",t,[])),e}()));var p=a.a.class;a.a.class=p?p.addscalar(" nb-group"):new yr.scalarAttr(" nb-group"),s+=e.a(e,0,e.s(S,t),"nb-main-attrs",a),s+=d(a);for(var h=l("group",t,[]),m=0,v=h.length;m<v;m++){var g=h[m],y="nb-radio-button_"+yr.externals["_nb-uniq"]();s+='<span class="_nb-radio-button-button nb-complex-group-item">',s+="<input",a.a={class:new yr.scalarAttr("_nb-radio-button-radio"),type:new yr.scalarAttr("radio"),value:new yr.scalarAttr(o(l("value",g,[]))),id:new yr.scalarAttr(y)},a.s="input",c("checked",g)&&(a.a.checked=new yr.scalarAttr("checked")),c("disabled",g)&&(a.a.disabled=new yr.scalarAttr("disabled")),c("tabindex",g)&&!c("disabled",g)&&(a.a.tabindex=new yr.scalarAttr(u("tabindex",g)));var b="";r(l("name",g,[]))?b+=u("name",g):r(e.s(_,g))?b+=o(e.s(_,g)):r(e.s(K,g))?b+=o(e.s(K,g)):b+=f,a.a.name=new yr.scalarAttr(b),s+=d(a),s+="",s+=e.f("f52",g,m,v,a,yr.externals["_nb-extend"](e.s(S,g),yr.object2nodeset(function(){var t={};(n=[]).push("nb-complex-group-item-subject"),n.push("js-button"),t.class=n,t.type="label",t.static=!0,t.id=!1,t.size=yr.nodeset2data(e.s(J,g));var n;return(n={}).for=y,n["data-value"]=yr.nodeset2data(l("value",g,[])),t.attrs=n,t}()))),s+="</span>"}return s+="</div>"},f.t91.j=[0,"radio-button"],f.t91.a=0,f.t92=function(e,i,a,s,f){var p="",h=e.s(X,i).length>0;p+=d(f),p+="<span",f.a={"data-nb-direction":new yr.scalarAttr(o(l("direction",i,[]))),"data-nb":new yr.scalarAttr("select"),tabindex:new yr.scalarAttr("0")},f.s="span",e.f("f53",i,a,s,f,"span");var m=f.a.class;if(f.a.class=m?m.addscalar(" nb-select _init _nb-select-button"):new yr.scalarAttr(" nb-select _init _nb-select-button"),t("s",l("size",i,[]))){m=f.a.class;f.a.class=m?m.addscalar(" _nb-small-normal-select"):new yr.scalarAttr(" _nb-small-normal-select")}p+=e.a(e,0,e.s(S,i),"nb-main-attrs",f),c("within",i)&&(f.a["data-nb-within"]=new yr.scalarAttr(u("within",i))),c("appendto",i)&&(f.a["data-nb-appendto"]=new yr.scalarAttr(u("appendto",i))),c("tabindex",i)&&!c("disabled",i)&&(f.a.tabindex=new yr.scalarAttr(u("tabindex",i))),c("maxHeight",i)&&(f.a["data-nb-maxheight"]=new yr.scalarAttr(u("maxHeight",i))),p+=d(f),p+='<span class="_nb-button-content">';for(var v=l("items",i,[]),g=0,y=v.length;g<y;g++){var b=v[g];(h&&c("selected",b)||!h&&0==g)&&(p+=n(l("text",b,[])))}return p+="</span>",p+='<span class="_nb-select-helper"></span>',p+="<select",f.a={class:new yr.scalarAttr("_nb-select-fallback")},f.s="select",r(l("disabled",i,[]))&&(f.a.disabled=new yr.scalarAttr("disabled")),c("name",i)&&(f.a.name=new yr.scalarAttr(u("name",i))),r(e.s(_,i))&&(f.a.name=new yr.scalarAttr(o(e.s(_,i)))),p+=e.a(e,0,e.s(S,i),"nb-select-options",f),p+=d(f),p+="</select>",p+="<span",f.a={},f.s="span",e.f("f50",i,a,s,f,yr.object2nodeset(function(){var e={};return e.name="select-dropdown",e.size=yr.nodeset2data(l("size",i,[])),e.theme=yr.nodeset2data(l("theme",i,[])),e}())),p+=d(f),p+="</span>",p+="</span>"},f.t92.j=Z,f.t92.a=0,f.t93=function(e,t,n,r,o){var a="";a+=d(o);for(var s=l("items",t,[]),u=0,f=s.length;u<f;u++){var p=s[u];if(c("group",p)){a+='<optgroup label="'+i(l("text",p,[]))+'" data-nb-type="'+i(l("type",p,[]))+'">';for(var h=l("group",p,[]),m=0,v=h.length;m<v;m++){var g=h[m];a+=e.f("f65",g,m,v,o,e.s(S,g))}a+="</optgroup>"}else a+=e.f("f65",p,u,f,o,e.s(S,p))}return a},f.t93.s=[1,Z],f.t93.a=[1,0],f.t94=function(e,n,i,a,s){var f="",p="";c("id",n)?p+=u("id",n):p+=yr.externals["_nb-uniq"]();var h=p;f+=d(s),f+="<label",s.a={"data-nb":new yr.scalarAttr("checkbox"),for:new yr.scalarAttr("nb-checkbox_"+h)},s.s="label",f+=e.a(e,0,e.s(S,n),"nb-main-attrs",s),e.f("f50",n,i,a,s,yr.object2nodeset(function(){var e={};return e.name="checkbox",e.size=yr.nodeset2data(l("size",n,[])),c("type",n)&&(e.type=yr.nodeset2data(l("type",n,[]))),e}()));var m=s.a.class;if(s.a.class=m?m.addscalar(" _init"):new yr.scalarAttr(" _init"),c("disabled",n)){m=s.a.class;s.a.class=m?m.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}if(f+=d(s),f+="<input",s.a={class:new yr.scalarAttr("_nb-checkbox-input"),id:new yr.scalarAttr("nb-checkbox_"+h)},s.s="input",t("button",l("type",n,[]))?s.a.type=new yr.scalarAttr("checkbox"):s.a.type=new yr.scalarAttr(u("type",n)),c("name",n)&&(s.a.name=new yr.scalarAttr(u("name",n))),c("tabindex",n)&&!c("disabled",n)&&(s.a.tabindex=new yr.scalarAttr(u("tabindex",n))),c("disabled",n)&&(s.a.disabled=new yr.scalarAttr("disabled")),c("checked",n)&&(s.a.checked=new yr.scalarAttr("checked")),l("value",n,[]).length&&(s.a.value=new yr.scalarAttr(u("value",n))),f+=d(s),f+="",t("button",l("type",n,[])))f+=e.f("f52",n,i,a,s,yr.externals["_nb-extend"](e.s(S,n),yr.object2nodeset(function(){var e={};e.type="inline",e.static=!0,e.id=!1,e.attrs=!1;var t=[];return t.push("_nb-checkbox-label"),e.class=t,e}())));else{if(f+="<span",s.a={class:new yr.scalarAttr("_nb-checkbox-flag ")},s.s="span",t("checkbox",l("type",n,[]))){m=s.a.class;s.a.class=m?m.addscalar("_nb-checkbox-normal-flag"):new yr.scalarAttr("_nb-checkbox-normal-flag")}else if(c("type",n)){m=s.a.class;s.a.class=m?m.addscalar("_nb-checkbox-"+o(l("type",n,[]))+"-flag"):new yr.scalarAttr("_nb-checkbox-"+o(l("type",n,[]))+"-flag")}f+=d(s),f+='<span class="_nb-checkbox-flag-icon"></span>',f+="</span>",f+='<span class="_nb-checkbox-label">',r(l("content",n,[]))&&(f+=u("content",n)),f+="</span>"}return f+="</label>"},f.t94.j=[0,"checkbox"],f.t94.a=0,f.t95=function(e,i,a,s,f){var p="",h="nb-input_error"+yr.externals["_nb-uniq"]();p+=d(f),p+="<label",f.a={},f.s="label",e.f("f50",i,a,s,f,yr.object2nodeset(function(){var e={};return e.name="input",c("size",i)&&(e.size=yr.nodeset2data(l("size",i,[]))),e.type="complex",e}())),p+=e.a(e,0,e.s(S,i),"nb-main-attrs",f);var m=f.a.class;if(f.a.class=m?m.addscalar(" _init"):new yr.scalarAttr(" _init"),r(l("static",i,[]))||(f.a["data-nb"]=new yr.scalarAttr("input")),c("disabled",i)){m=f.a.class;f.a.class=m?m.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),f.a["data-nb-disabled"]=new yr.scalarAttr("true")}if(c("ghost",i)){m=f.a.class;f.a.class=m?m.addscalar(" _nb-is-ghost"):new yr.scalarAttr(" _nb-is-ghost"),f.a["data-nb-ghost"]=new yr.scalarAttr("true")}c("error",i)&&(f.a["data-nb-error"]=new yr.scalarAttr('{ "id": "'+h+'", "direction":"'+o(e.s(Q,i))+'"}')),p+=d(f),c("error",i)&&(p+=e.f("f57",i,a,s,f,yr.object2nodeset(function(){var t={};return t.class=o(e.s(ee,i))+" _nb-error-popup",t.content=yr.nodeset2data(e.s(te,i)),t.id=h,t}()))),c("leftContent",i)&&(p+='<span class="_nb-input-left">',p+=u("leftContent",i),p+="</span>"),c("rightContent",i)&&(p+='<span class="_nb-input-right">',p+=u("rightContent",i),p+="</span>"),c("reset",i)&&(p+='<span class="_nb-input-reset"></span>'),p+='<span class="_nb-input-content">',!c("hint",i)||t("",e.s(ne,i))||!t("",l("content",i,[]))&&c("content",i)||(p+='<span class="_nb-input-hint">',p+='<span class="_nb-input-hint-inner">',r(e.s(re,i))?(p+='<span class="_nb-input-hint-ghost"></span>',p+='<span class="_nb-input-hint-content">',p+=n(e.s(ne,i)),p+="</span>"):p+=n(l("hint",i,[])),p+="</span>",p+="</span>"),p+="<input",f.a={type:new yr.scalarAttr("text"),class:new yr.scalarAttr("_nb-input-controller"),value:new yr.scalarAttr(o(l("content",i,[])))},f.s="input";for(var v=e.s(T,i),g=0,y=v.length;g<y;g++){var b=v[g];f.a[b.name]=new yr.scalarAttr(o(e.s(S,b)))}return c("name",i)&&(f.a.name=new yr.scalarAttr(u("name",i))),c("tabindex",i)&&!c("disabled",i)&&(f.a.tabindex=new yr.scalarAttr(u("tabindex",i))),c("disabled",i)&&(f.a.disabled=new yr.scalarAttr("disabled")),c("hint",i)&&!t("",e.s(ne,i))&&(f.a.placeholder=new yr.scalarAttr(u("hint",i))),p+=d(f),p+="",p+='<span class="_nb-input-view"> </span>',p+="</span>",p+="</label>"},f.t95.j=[0,"input"],f.t95.a=0,f.t96=function(e,t,i,a,s){var f="",p="nb-input_error"+yr.externals["_nb-uniq"]();f+=d(s),f+="<label",s.a={},s.s="label",e.f("f50",t,i,a,s,yr.object2nodeset(function(){var e={};return e.name="input",c("size",t)&&(e.size=yr.nodeset2data(l("size",t,[]))),e.type="complex",e}()));var h=s.a.class;if(s.a.class=h?h.addscalar(" _init"):new yr.scalarAttr(" _init"),f+=e.a(e,0,e.s(S,t),"nb-main-attrs",s),r(l("static",t,[]))||(s.a["data-nb"]=new yr.scalarAttr("input")),c("disabled",t)){h=s.a.class;s.a.class=h?h.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),s.a["data-nb-disabled"]=new yr.scalarAttr("true")}if(c("ghost",t)){h=s.a.class;s.a.class=h?h.addscalar(" _nb-is-ghost _init"):new yr.scalarAttr(" _nb-is-ghost _init"),s.a["data-nb-ghost"]=new yr.scalarAttr("true")}if(c("error",t)){h=s.a.class;s.a.class=h?h.addscalar(" _init"):new yr.scalarAttr(" _init"),s.a["data-nb-error"]=new yr.scalarAttr('{ "id": "'+p+'", "direction":"'+o(e.s(Q,t))+'" }'),f+=d(s),f+=e.f("f57",t,i,a,s,yr.object2nodeset(function(){var n={};return n.class="_nb-error-popup",n.content=yr.nodeset2data(e.s(te,t)),n.id=p,n}()))}f+=d(s),c("reset",t)&&(f+='<span class="_nb-input-reset"></span>'),c("leftContent",t)&&(f+='<span class="_nb-input-left">',f+=u("leftContent",t),f+="</span>"),c("rightContent",t)&&(f+='<span class="_nb-input-right">',f+=u("rightContent",t),f+="</span>"),f+='<span class="_nb-input-content">',f+="<textarea",s.a={class:new yr.scalarAttr("_nb-input-controller")},s.s="textarea";for(var m=e.s(T,t),v=0,g=m.length;v<g;v++){var y=m[v];s.a[y.name]=new yr.scalarAttr(o(e.s(S,y)))}return c("name",t)&&(s.a.name=new yr.scalarAttr(u("name",t))),c("tabindex",t)&&!c("disabled",t)&&(s.a.tabindex=new yr.scalarAttr(u("tabindex",t))),c("disabled",t)&&(s.a.disabled=new yr.scalarAttr("disabled")),f+=d(s),c("content",t)&&(f+=n(l("content",t,[]))),f+="</textarea>",f+='<span class="_nb-input-view"> </span>',f+="</span>",f+="</label>"},f.t96.j=[0,"textarea"],f.t96.a=0,f.t97=function(e,t,n,i,a){var s="";s+=d(a),s+="<input",a.a={type:new yr.scalarAttr("text"),value:new yr.scalarAttr(o(l("content",t,[]))),"data-nb-type":new yr.scalarAttr("simple")},a.s="input",e.f("f50",t,n,i,a,yr.object2nodeset(function(){var e={};return e.name="input",c("size",t)&&(e.size=yr.nodeset2data(l("size",t,[]))),e.type="simple",e}()));var f=a.a.class;if(a.a.class=f?f.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(S,t),"nb-main-attrs",a),c("name",t)&&(a.a.name=new yr.scalarAttr(u("name",t))),c("tabindex",t)&&!c("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(u("tabindex",t))),r(l("static",t,[]))||(a.a["data-nb"]=new yr.scalarAttr("input")),c("disabled",t)){f=a.a.class;a.a.class=f?f.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),a.a.disabled=new yr.scalarAttr("disabled"),a.a["data-nb-disabled"]=new yr.scalarAttr("true")}return s+=d(a),s+=""},f.t97.j=[0,"inputSimple"],f.t97.a=0,f.t98=function(e,t,i,o,a){var s="";s+=d(a),s+="<textarea",a.a={"data-nb-type":new yr.scalarAttr("simple")},a.s="textarea",e.f("f50",t,i,o,a,yr.object2nodeset(function(){var e={};return e.name="input",c("size",t)&&(e.size=yr.nodeset2data(l("size",t,[]))),e.type="simple",e}()));var f=a.a.class;if(a.a.class=f?f.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(S,t),"nb-main-attrs",a),c("name",t)&&(a.a.name=new yr.scalarAttr(u("name",t))),c("tabindex",t)&&!c("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(u("tabindex",t))),r(l("static",t,[]))||(a.a["data-nb"]=new yr.scalarAttr("input")),c("disabled",t)){f=a.a.class;a.a.class=f?f.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),a.a.disabled=new yr.scalarAttr("disabled"),a.a["data-nb-disabled"]=new yr.scalarAttr("true")}return s+=d(a),c("content",t)&&(s+=n(l("content",t,[]))),s+="</textarea>"},f.t98.j=[0,"textareaSimple"],f.t98.a=0,f.t99=function(e,t,n,r,i){var o="";if(o+=d(i),o+="<div",i.a={class:new yr.scalarAttr("nb-input-group"),"data-nb":new yr.scalarAttr("input-group")},i.s="div",o+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),c("disabled",t)){var a=i.a.class;i.a.class=a?a.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),i.a["data-nb-disabled"]=new yr.scalarAttr("true")}o+=d(i);for(var s=l("*",t,[]),u=0,f=s.length;u<f;u++){var p=s[u];"button"==p.name?o+=e.f("f52",p,u,f,i,e.s(S,p)):"input"==p.name&&(o+=e.f("f67",p,u,f,i,e.s(S,p)))}return o+="</div>"},f.t99.j=[0,"input-group"],f.t99.a=0,f.t100=function(e,r,a,f,p){var h="";h+=d(p),h+="<div",p.a={"data-nb":new yr.scalarAttr("progress"),"data-nb-type":new yr.scalarAttr(o(l("type",r,[])))},p.s="div",e.f("f50",r,a,f,p,yr.object2nodeset(function(){var e={};return e.name="progress",e.type=yr.nodeset2data(l("type",r,[])),e}()));var m=p.a.class;return p.a.class=m?m.addscalar(" _init"):new yr.scalarAttr(" _init"),h+=e.a(e,0,e.s(S,r),"nb-main-attrs",p),h+=d(p),c("bar",r)&&(h+='<div class="_nb-progress-bar js-bar" style="width: '+i(l("start",r,[]))+'%"></div>'),c("title",r)&&(h+='<div class="_nb-progress-title js-title">',t("percentage",l("type",r,[]))?h+=s(u("start",r)+"%"):h+=n(l("title",r,[])),h+="</div>"),h+='<input type="hidden" value="'+i(l("start",r,[]))+'%"/>',h+="</div>"},f.t100.j=[0,"progress"],f.t100.a=0,f.t101=function(e,t,n,r,i){var o="";return o+=d(i),o+="<div",i.a={},i.s="div",e.f("f50",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="paranja",e.theme=yr.nodeset2data(l("theme",t,[])),e}())),o+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),o+=d(i),c("content",t)&&(o+=u("content",t)),o+="</div>"},f.t101.j=[0,"paranja"],f.t101.a=0,f.t102=function(e,n,r,i,o){var a="",s="";c("type",n)?s+="-"+u("type",n):s+="";var f=s;s="";t("s",l("padding",n,[]))?s+="-small":t("l",l("padding",n,[]))?s+="-large":t("m",l("padding",n,[]))&&(s+="");var p=s;a+=d(o),a+="<div",o.a={},o.s="div",a+=e.a(e,0,e.s(S,n),"nb-main-attrs",o);var h=o.a.class;return o.a.class=h?h.addscalar(" nb-island _nb"+p+f+"-island"):new yr.scalarAttr(" nb-island _nb"+p+f+"-island"),a+=d(o),c("content",n)&&(a+=u("content",n)),a+="</div>"},f.t102.j=[0,"island"],f.t102.a=0,f.t103=function(e,r,i,o,a){var s="";return s+=d(a),s+="<div",a.a={},a.s="div",e.f("f50",r,i,o,a,yr.object2nodeset(function(){var e={};return e.name="dropzone",e.type=yr.nodeset2data(l("type",r,[])),e}())),s+=e.a(e,0,e.s(S,r),"nb-main-attrs",a),s+=d(a),c("head",r)&&(s+='<div class="_nb-dropzone-head">',s+=n(l("head",r,[])),s+="</div>"),c("content",r)&&(s+='<div class="_nb-dropzone-text">',c("content",r)&&(s+=u("content",r)),t("false",l("button",r,[]))||(s+=e.f("f52",r,i,o,a,l("button",r,[]))),s+="</div>"),t("modal",l("type",r,[]))&&(s+='<div class="_nb-dropzone-cover"></div>'),s+="</div>"},f.t103.j=ie,f.t103.a=0,f.t104=function(e,t,n,r,i){var a="";if(a+=d(i),a+="<span",i.a={},i.s="span",e.f("f50",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="loader",e.size=yr.nodeset2data(l("size",t,[])),e}())),a+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),a+=d(i),a+="<span",i.a={class:new yr.scalarAttr("_nb-loader-spinner")},i.s="span",c("color",t)){var s=i.a.class;i.a.class=s?s.addscalar(" _nb-loader-"+o(l("color",t,[]))+"-spinner"):new yr.scalarAttr(" _nb-loader-"+o(l("color",t,[]))+"-spinner")}return a+=d(i),a+="</span>",a+="</span>"},f.t104.j=[0,"loader"],f.t104.a=0,f.t105=function(e,n,a,s,f){var p="";p+=d(f),p+="<div",f.a={},f.s="div",e.f("f50",n,a,s,f,yr.object2nodeset(function(){var e={};return e.name="slider",e.size=yr.nodeset2data(l("size",n,[])),e}()));var h=f.a.class;if(f.a.class=h?h.addscalar(" _init _nb-"+o(l("orientation",n,[]))+"-slider _nb-slider-"+o(l("type",n,[]))+"-handle"):new yr.scalarAttr(" _init _nb-"+o(l("orientation",n,[]))+"-slider _nb-slider-"+o(l("type",n,[]))+"-handle"),p+=e.a(e,0,e.s(S,n),"nb-main-attrs",f),f.a["data-nb-value"]=new yr.scalarAttr(o(l("value",n,[]))),c("static",n)||(f.a["data-nb"]=new yr.scalarAttr("slider")),c("disabled",n)){h=f.a.class;f.a.class=h?h.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}if(p+=d(f),p+='<div class="_nb-slider-body _nb-slider-'+i(l("type",n,[]))+'-body">',p+="<label",f.a={class:new yr.scalarAttr("ui-slider-handle")},f.s="label",t("s",l("size",n,[]))){h=f.a.class;f.a.class=h?h.addscalar(" _nb-slider-small-handle"):new yr.scalarAttr(" _nb-slider-small-handle")}else{h=f.a.class;f.a.class=h?h.addscalar(" _nb-slider-handle"):new yr.scalarAttr(" _nb-slider-handle")}if(r(e.s(oe,n))){h=f.a.class;f.a.class=h?h.addscalar(" "+o(e.s(oe,n))):new yr.scalarAttr(" "+o(e.s(oe,n)))}if(c("tabindex",n)&&!c("disabled",n)&&(f.a.tabindex=new yr.scalarAttr(u("tabindex",n))),p+=d(f),p+="<span",f.a={class:new yr.scalarAttr("nb-button-content")},f.s="span",c("content",n)){h=f.a.class;f.a.class=h?h.addscalar(" nb-is-hidden"):new yr.scalarAttr(" nb-is-hidden")}return p+=d(f),p+="<input",f.a={tabindex:new yr.scalarAttr("-1"),class:new yr.scalarAttr("_nb-slider-fallback"),type:new yr.scalarAttr("text"),value:new yr.scalarAttr(o(l("value",n,[]))),readonly:new yr.scalarAttr("readonly")},f.s="input",c("name",n)&&(f.a.name=new yr.scalarAttr(o(l("name",n,[])))),p+=d(f),p+="",p+="</span>",c("content",n)&&(p+=u("content",n)),p+="</label>",p+="</div>",p+="</div>"},f.t105.j=[0,"slider"],f.t105.a=0,f.t106=function(e,t,r,i,o){var s="",f="tabs-"+yr.externals["_nb-uniq"]();s+=d(o),s+="<div",o.a={"data-nb":new yr.scalarAttr("tabs")},o.s="div",e.f("f50",t,r,i,o,yr.object2nodeset(function(){var e={};return e.name="tabs",e.size=yr.nodeset2data(l("size",t,[])),c("rise",t)&&(e.type="rise-"+u("rise",t)),e}()));var p=o.a.class;o.a.class=p?p.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(S,t),"nb-main-attrs",o),s+=d(o),s+='<ul class="_nb-tabs-tabs">';for(var h=0,m=(y=l("items",t,[])).length;h<m;h++){var v=y[h];if(s+="<li",o.a={class:new yr.scalarAttr("_nb-tabs-tab")},o.s="li",c("active",v)){var g=o.a.class;o.a.class=g?g.addscalar(" ui-tabs-active"):new yr.scalarAttr(" ui-tabs-active")}s+=d(o),s+='<a class="_nb-tabs-link _link" href="#'+a(f)+"-"+a(h)+'">',s+=n(l("title",v,[])),s+="</a>",s+="</li>"}s+="</ul>";var y;for(h=0,m=(y=l("items",t,[])).length;h<m;h++){v=y[h];s+='<div class="_nb-tabs-panel" id="'+a(f)+"-"+a(h)+'">',c("content",v)&&(s+=u("content",v)),s+="</div>"}return s+="</div>"},f.t106.j=[0,"tabs"],f.t106.a=0,f.t107=function(e,t,n,r,i){var o="",a="";c("text",t)?a+='<a href="'+u("href",t)+'" class="_nb-search-arrow-label">'+u("text",t)+"</a>":a+="";var s=a;a="";c("requests",t)?a+=" — "+u("requests",t):a+="";var f=a;return o+=d(i),o+="<form",i.a={"data-nb":new yr.scalarAttr("arrow"),class:new yr.scalarAttr("nb-arrow _init _nb-search-arrow")},i.s="form",o+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),o+=d(i),o+='<span class="_nb-arrow-tail"></span>',o+=e.f("f52",t,n,r,i,yr.object2nodeset(function(){var e={};e.size="m",e.class="_nb-search-arrow-button",e.tabindex=yr.nodeset2data(l("buttonTabindex",t,[])),e.content=yr.nodeset2data(l("buttonContent",t,[]));var n={};return n.type="submit",e.attrs=n,e}())),o+='<div class="_nb-search-arrow-content">',o+=e.f("f67",t,n,r,i,yr.object2nodeset(function(){var e={};e.size="m",e.class="_nb-search-arrow-input",e.tabindex=yr.nodeset2data(l("inputTabindex",t,[])),e.leftContent=s;(n={}).autocomplete="off",n.value=yr.nodeset2data(l("value",t,[])),n.name="text",e.attrs=n;var n;return(n={}).text=f,n.ghost=!0,e.hint=n,e}())),o+="</div>",o+="</form>"},f.t107.j=[0,"arrow"],f.t107.a=0,f.t108=function(e,t,r,i,o){var a="";return a+=d(o),a+="<div",o.a={class:new yr.scalarAttr("_nb-service-arrow")},o.s="div",a+=e.a(e,0,e.s(S,t),"nb-main-attrs",o),a+=d(o),a+='<span class="_nb-arrow-tail"></span>',a+=n(l("text",t,[])),a+="</div>"},f.t108.j=se,f.t108.a=0,f.t109=function(e,t,r,i,a){var s="";return s+=d(a),s+="<a",a.a={href:new yr.scalarAttr(o(l("href",t,[]))),class:new yr.scalarAttr("_nb-service-arrow")},a.s="a",s+=e.a(e,0,e.s(S,t),"nb-main-attrs",a),s+=d(a),s+='<span class="_nb-arrow-tail"></span>',s+=n(l("text",t,[])),s+="</a>"},f.t109.j=ue,f.t109.a=0,f.t110=function(e,t,n,a,s){var u="";return u+=d(s),u+="<div",s.a={class:new yr.scalarAttr("nb-header _init"),"data-nb":new yr.scalarAttr("header")},s.s="div",u+=e.a(e,0,e.s(S,t),"nb-main-attrs",s),u+=d(s),u+='<div class="_nb-header-actions">',c("settings",t)&&(r(e.s(ce,t))?u+=o(e.s(ce,t)):(u+='<div class="_nb-header-button">',u+='<div class="_nb-header-button-icon">',u+=e.f("f51",t,n,a,s,yr.object2nodeset(function(){var e={};return e.icon="settings",e.size="m",e}())),u+="</div>",u+="</div>")),c("services",t)&&(r(e.s(le,t))?u+=o(e.s(de,t)):(u+='<div class="_nb-header-button">',u+='<div class="_nb-header-button-icon">',u+=e.f("f51",t,n,a,s,yr.object2nodeset(function(){var e={};return e.icon="services",e.size="m",e}())),u+="</div>",u+="</div>")),c("user",t)&&(r(e.s(pe,t))?u+=o(e.s(pe,t)):u+=e.f("f78",t,n,a,s,l("user",t,[]))),c("auth",t)&&r(e.s(de,t))&&(u+=o(e.s(de,t))),u+="</div>",u+='<div class="_nb-header-main">',u+='<a href="'+i(l("yaHref",t,[]))+'" class="_nb-header-logo"></a>',u+=e.f("f76",t,n,a,s,l("arrow",t,[])),u+="</div>",u+="</div>"},f.t110.j=[0,"header"],f.t110.a=0,f.t111=function(e,t,n,r,i){var o="";o+=d(i),o+="<span",i.a={},i.s="span",e.f("f50",t,n,r,i,yr.object2nodeset(function(){var e={};return e.name="user",e.size=yr.nodeset2data(l("size",t,[])),e}()));var a=i.a.class;if(i.a.class=a?a.addscalar(" _init"):new yr.scalarAttr(" _init"),c("justify",t)){a=i.a.class;i.a.class=a?a.addscalar(" _nb-user_justify"):new yr.scalarAttr(" _nb-user_justify")}if(o+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),c("rightToLeft",t)){a=i.a.class;i.a.class=a?a.addscalar(" _nb-user_rtl"):new yr.scalarAttr(" _nb-user_rtl")}else{var a=i.a.class;i.a.class=a?a.addscalar(" _nb-user_ltr"):new yr.scalarAttr(" _nb-user_ltr")}return o+=e.a(e,0,e.s(S,t),"nb-user-pic",i),o+=e.a(e,0,e.s(S,t),"nb-user-name",i),o+=d(i),o+="</span>"},f.t111.j=fe,f.t111.a=0,f.t112=function(e,t,r,i,a){var s="";if(s+=d(a),s+="<span",a.a={},a.s="span",e.f("f50",t,r,i,a,yr.object2nodeset(function(){var e={};return e.name="user-avatar",e.size=yr.nodeset2data(l("size",t,[])),e}())),c("userpic",t)){var f=a.a.style;a.a.style=f?f.addscalar(" background-image: url('"+o(l("userpic",t,[]))+"')"):new yr.scalarAttr(" background-image: url('"+o(l("userpic",t,[]))+"')")}return s+=d(a),u("notices",t)>0&&(s+='<span class="_nb-user-notice-count">',s+=n(l("notices",t,[])),s+="</span>"),s+="</span>"},f.t112.j=fe,f.t112.a=0,f.t113=function(e,t,r,o,a){var s="";return s+=d(a),s+='<span class="_nb-user-label">',s+='<span class="_nb-user-name _link" title="'+i(l("username",t,[]))+'">',s+=n(l("username",t,[])),s+="</span>",c("email",t)&&(s+='<span class="_nb-user-email" title="'+i(l("email",t,[]))+'">',s+=n(l("email",t,[])),s+="</span>"),s+="</span>"},f.t113.j=fe,f.t113.a=0,f.t114=function(e,t,n,r,i){var a="";if(a+=d(i),a+="<div",i.a={class:new yr.scalarAttr("nb-suggest _init"),"data-nb":new yr.scalarAttr("suggest")},i.s="div",i.a["data-countMax"]=new yr.scalarAttr(u("countMax",t)),i.a["data-type"]=new yr.scalarAttr(u("type",t)),i.a["data-size"]=new yr.scalarAttr(u("size",t)),i.a["data-source"]=new yr.scalarAttr(u("source",t)),i.a["data-highlight"]=new yr.scalarAttr(u("highlight",t)),i.a["data-class-suggest"]=new yr.scalarAttr("nb-island _nb-fly-island _nb-suggest-container _nb-"+o(l("size",t,[]))+"-suggest"),c("class",t)){var s=i.a["data-class-suggest"];i.a["data-class-suggest"]=s?s.addscalar(" "+o(l("classSuggest",t,[]))):new yr.scalarAttr(" "+o(l("classSuggest",t,[])))}if(a+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),c("disabled",t)){s=i.a.class;i.a.class=s?s.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}return a+=d(i),a+=e.f("f67",t,n,r,i,yr.object2nodeset(function(){var n={};return n.size=yr.nodeset2data(l("size",t,[])),n.class="_nb-suggest-input",n.attrs=yr.nodeset2data(e.s(he,t)),n.tabindex=yr.nodeset2data(l("tabindex",t,[])),n.disabled=yr.nodeset2data(l("disabled",t,[])),n.name=yr.nodeset2data(l("name",t,[])),n.content=yr.nodeset2data(l("content",t,[])),n.leftContent=yr.nodeset2data(e.s(me,t)),n.rightContent=yr.nodeset2data(e.s(ve,t)),n.labelContent=yr.nodeset2data(e.s(ge,t)),n.reset=yr.nodeset2data(e.s(ye,t)),n.ghost=yr.nodeset2data(e.s(be,t)),n.error=yr.nodeset2data(e.s(_e,t)),n.hint=yr.nodeset2data(e.s(Oe,t)),n}())),a+="</div>"},f.t114.j=[0,"suggest"],f.t114.a=0,f.t115=function(e,t,n,r,i){var o="";return o+=d(i),o+="<li",i.a={class:new yr.scalarAttr("_nb-suggest-item")},i.s="li",o+=e.a(e,0,l("item",t,[]),"nb-suggest",i),o+=d(i),o+="</li>"},f.t115.j=1,f.t115.a=1,f.t116=function(e,t,n,r,i){var o="";return o+=d(i),c("labelContent",t)&&(o+=u("labelContent",t)),o},f.t116.j=Ee,f.t116.a=1,f.t117=function(e,t,n,r,i){var o="",a={};a.size=yr.nodeset2data(l("size",t.doc.root,[])),a.mod="suggest";var s=[];c("username",t)?s+=yr.nodeset2data(l("username",t,[])):c("email",t)&&(s+=yr.nodeset2data(l("email",t,[]))),a.username=s,a.rightToLeft=!0,c("username",t)&&c("email",t)&&(a.email=yr.nodeset2data(l("email",t,[]))),a.justify=!0,c("userpic",t)&&(a.userpic=yr.nodeset2data(l("userpic",t,[]))),c("usernameHighlighted",t)&&(a.usernameHighlighted=yr.nodeset2data(l("usernameHighlighted",t,[]))),c("emailHighlighted",t)&&(a.emailHighlighted=yr.nodeset2data(l("emailHighlighted",t,[])));var u=a;return o+=d(i),o+=e.f("f78",t,n,r,i,yr.object2nodeset(u))},f.t117.j=we,f.t117.a=1,f.t118=function(e,t,n,r,i){var a="";return a+=d(i),a+=o(e.s(Ce,t))},f.t118.j=Se,f.t118.a=0,f.t119=function(e,t,n,r,i){var a="";return a+=d(i),a+=o(e.s(Te,t))},f.t119.j=xe,f.t119.a=0,f.t120=function(e,t,r,i,a){var s="";s+=d(a),s+="<a",a.a={"data-nb":new yr.scalarAttr("toggler")},a.s="a",e.f("f50",t,r,i,a,yr.object2nodeset(function(){var e={};return e.name="toggler",e.size=yr.nodeset2data(l("size",t,[])),e}()));var f=a.a.class;if(a.a.class=f?f.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=e.a(e,0,e.s(S,t),"nb-main-attrs",a),c("checked",t)){f=a.a.class;a.a.class=f?f.addscalar(" _nb-is-checked"):new yr.scalarAttr(" _nb-is-checked")}if(c("tabindex",t)&&!c("disabled",t)&&(a.a.tabindex=new yr.scalarAttr(u("tabindex",t))),c("disabled",t)){f=a.a.class;a.a.class=f?f.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}s+=d(a),s+='<label class="_nb-toggler-label">',s+="<input",a.a={type:new yr.scalarAttr("checkbox"),class:new yr.scalarAttr("_nb-toggler-checkbox")},a.s="input";for(var p=e.s(T,t),h=0,m=p.length;h<m;h++){var v=p[h];a.a[v.name]=new yr.scalarAttr(o(e.s(S,v)))}return c("name",t)&&(a.a.name=new yr.scalarAttr(u("name",t))),c("checked",t)&&(a.a.checked=new yr.scalarAttr("checked")),c("disabled",t)&&(a.a.disabled=new yr.scalarAttr("disabled")),s+=d(a),s+="",s+="</label>",s+='<span class="_nb-toggler-container">',s+='<span class="_nb-toggler-sticker _nb-toggler-left-sticker">',s+='<span class="_nb-toggler-text">',s+=n(l("leftText",t,[])),s+="</span>",s+="</span>",s+='<span class="_nb-toggler-sticker _nb-toggler-right-sticker">',s+='<span class="_nb-toggler-text">',s+=n(l("rightText",t,[])),s+="</span>",s+="</span>",s+="</span>",s+='<span class="_nb-toggler-knob"></span>',s+="</a>"},f.t120.j=[0,"toggler"],f.t120.a=0,f.t121=function(e,n,r,i,a){var s="";if(s+=d(a),s+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource _init nb-icon-resource_size-"+o(l("size",n,[])))},a.s="div",c("clickable",n)){var u=a.a.class;a.a.class=u?u.addscalar(" nb-icon-resource_clickable"):new yr.scalarAttr(" nb-icon-resource_clickable")}if(t("cover",l("image-sizing",n,[]))){u=a.a.class;a.a.class=u?u.addscalar(" nb-icon-resource_cover"):new yr.scalarAttr(" nb-icon-resource_cover")}if(c("preview",n)&&c("static",n)){u=a.a.class;a.a.class=u?u.addscalar(" nb-icon-resource_loaded-preview"):new yr.scalarAttr(" nb-icon-resource_loaded-preview")}return a.a["data-nb"]=new yr.scalarAttr("icon-resource"),a.a["data-params"]=new yr.scalarAttr(yr.externals.json(e.s(S,n))),s+=e.a(e,0,e.s(S,n),"nb-main-attrs",a),s+=d(a),s+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource__wrap")},a.s="div",t("video-stub",l("preview",n,[]))?s+=e.a(e,0,e.s(S,n),"nb-icon-resource-video-stub",a):(s+=e.a(e,0,e.s(S,n),"nb-icon-resource-icon",a),e.f("f86",n,r,i)&&(s+=e.a(e,0,e.s(S,n),"nb-icon-resource-preview",a))),s+=d(a),s+="</div>",s+="</div>"},f.t121.j=Pe,f.t121.a=0,f.t122=function(e,n,r,i,o){var a="";if(a+=d(o),a+="<div",o.a={class:new yr.scalarAttr("nb-icon-resource__image nb-icon-resource__image_preview")},o.s="div",t("document",l("type",n,[]))){var s=o.a.class;o.a.class=s?s.addscalar(" nb-icon-resource__image_document"):new yr.scalarAttr(" nb-icon-resource__image_document")}if(t("dark",l("theme",n,[]))){s=o.a.class;o.a.class=s?s.addscalar(" nb-icon-resource__image_no-outline"):new yr.scalarAttr(" nb-icon-resource__image_no-outline")}return a+=d(o),a+=e.f("f84",n,r,i,o,(function(){var e={};return e.class="nb-icon-resource__public",e.published=yr.nodeset2data(l("published",n,[])),e})()),a+=e.a(e,0,e.s(S,n),"nb-icon-resource-image",o),a+="</div>"},f.t122.j=Pe,f.t122.a=0,f.t123=function(e,t,n,r,i){var a="";return a+=d(i),a+="<img",i.a={},i.s="img",i.a.class=new yr.scalarAttr("nb-icon-resource__img nb-icon-resource__img_size-"+o(l("size",t,[]))+" js-icon-preview"),i.a["data-src"]=new yr.scalarAttr(u("preview",t)),i.a.src=new yr.scalarAttr("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="),a+=d(i),a+=""},f.t123.j=Pe,f.t123.a=0,f.t124=function(e,t,n,r,i){var o="";return o+=d(i),o+='<div class="nb-icon-resource__img js-cover-preview">',o+="<img",i.a={class:new yr.scalarAttr("nb-icon-resource__img-fake js-icon-preview")},i.s="img",i.a["data-src"]=new yr.scalarAttr(u("preview",t)),i.a.src=new yr.scalarAttr("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="),o+=d(i),o+="",o+="</div>"},f.t124.j=ke,f.t124.a=0,f.t125=function(e,t,n,r,i){var a="";return a+=d(i),a+="<img",i.a={},i.s="img",i.a.class=new yr.scalarAttr("nb-icon-resource__img nb-icon-resource__img_size-"+o(l("size",t,[]))),i.a.src=new yr.scalarAttr(u("preview",t)),a+=d(i),a+=""},f.t125.j=je,f.t125.a=0,f.t126=function(e,t,n,r,i){var o="";return o+=d(i),o+='<div class="nb-icon-resource__video-stub">',o+=e.f("f84",t,n,r,i,(function(){var e={};return e.class="nb-icon-resource__public",e.published=yr.nodeset2data(l("published",t,[])),e})()),o+="</div>"},f.t126.j=Pe,f.t126.a=0,f.t127=function(e,n,r,i,a){var s="",c="";t("xxl",l("size",n,[]))?c+="xl":c+=u("size",n);var f=c;if(s+=d(a),s+="<div",a.a={class:new yr.scalarAttr("nb-icon-resource__image nb-icon-resource__image_icon file-icon file-icon_size_"+f)},a.s="div",t("dir",l("type",n,[])))if(t("dir",l("icon",n,[]))){p=a.a.class;a.a.class=p?p.addscalar(" file-icon_dir"):new yr.scalarAttr(" file-icon_dir")}else{var p=a.a.class;a.a.class=p?p.addscalar(" file-icon_dir_"+o(l("icon",n,[]))):new yr.scalarAttr(" file-icon_dir_"+o(l("icon",n,[])))}else{p=a.a.class;a.a.class=p?p.addscalar(" file-icon_"+o(l("icon",n,[]))+" nb-icon-resource__image_file"):new yr.scalarAttr(" file-icon_"+o(l("icon",n,[]))+" nb-icon-resource__image_file")}return s+=d(a),e.f("f86",n,r,i)||(s+=e.f("f84",n,r,i,a,(function(){var e={};return e.class="nb-icon-resource__public",e.published=yr.nodeset2data(l("published",n,[])),e})())),s+="</div>"},f.t127.j=Re,f.t127.a=0,f.t128=function(e,t,n,r,i){var a="";if(a+=d(i),a+="<div",i.a={class:new yr.scalarAttr("nb-loader-thin nb-loader-thin_"+o(l("size",t,[]))+" "),"data-nb":new yr.scalarAttr("loader-thin")},i.s="div",a+=e.a(e,0,e.s(S,t),"nb-main-attrs",i),c("centered",t)){var s=i.a.class;i.a.class=s?s.addscalar(" nb-loader-thin_centered"):new yr.scalarAttr(" nb-loader-thin_centered")}return a+=d(i),a+='<div class="nb-loader-thin__spinner">',a+='<div class="nb-loader-thin__circle"></div>',a+="</div>",c("content",t)&&(a+='<span class="nb-loader-thin__text js-text">',a+=u("content",t),a+="</span>"),a+="</div>"},f.t128.j=[0,"loader-thin"],f.t128.a=0,f.t129=function(e,t,n,i,o){var a="",s=e.f("f44",t,n,i,"isDocsPage"),u="";u+=d({a:{}}),r(s)?u+="Загрузить документы с компьютера":yr.externals.modernizr("folderupload")?u+="Загрузить файлы и папки на Яндекс.Диск":u+="Загрузить файлы на Яндекс.Диск";var c=u;(u={}).head=c;var l="";l+=e.a(e,0,e.s(S,t),"dropzone__content",{a:{}}),u.content=l,u.type="modal",u.button="false";var f=u;return a+=d(o),a+=e.f("f72",t,n,i,o,yr.object2nodeset(f)),a+=e.f("f70",t,n,i,o)},f.t129.j=ie,f.t129.a=0,f.t130=function(e,n,i,o,a){var s="",u=e.f("f44",n,i,o,"isDocsPage"),c="";t("Windows",e.n(Ie,yr.object2nodeset(e.v("v198",n.doc.root))))?c+="Windows":t("MacOS",e.n(Ie,yr.object2nodeset(e.v("v198",n.doc.root))))&&(c+="Mac OS");var l=c;return s+=d(a),s+='<div class="dropzone__content">',l&&!r(u)&&(s+="Файлы и папки больше 2 ГБ загружайте с помощью программы для "+yr.externals.entityify(l)),s+="</div>"},f.t130.j=ie,f.t130.a=0,f.t131=function(e,t,n,r,i){var o="";return o+=d(i),o+='<div class="b-text b-text_center b-tree__async">',o+=e.f("f87",t,n,r,i),o+="</div>"},f.t131.j=Ae,f.t131.a=0,f.t132=function(e,t,n,i,o){var a="";return a+=d(o),a+=" b-listing_view_list b-tree__item",r(e.n(De,e.k("k2","tree",t.doc.root)))&&(a+=" _hidden"),a+=e.a(e,0,e.k("k2","tree",t.doc.root),"tree-root-class",o)},f.t132.j=Ae,f.t132.a=0,f.t133=function(e,t,n,r,i){var o="",a={};a.size="s",a.class="b-tree__loader";var s=a;return o+=e.a(e,0,e.k("k2","tree",t.doc.root),"tree-root",i),o+=d(i),o+=e.f("f87",t,n,r,i,yr.object2nodeset(s)),o+="<div",i.a={class:new yr.scalarAttr("b-tree__sub ns-view-container-desc")},i.s="div",i.a.role=new yr.scalarAttr("group"),o+=e.a(e,0,e.s(S,t),"ns-view-collection",i),o+=d(i),o+="</div>"},f.t133.j=Ae,f.t133.a=0,f.t134=function(e,n,o,c,f){var p="",h=yr.externals.getAlias(u("id",n)),m={};m.icon=yr.nodeset2data(l("icon",n,[])),m.type=yr.nodeset2data(l("type",n,[])),m.size="s",r(e.s(Me,n))&&(m.published=!0),m.class="b-tree__icon";var v=m;return f.a.tabindex=new yr.scalarAttr(0),f.a.role=new yr.scalarAttr("treeitem"),r(e.s(Ne,n))?f.a["aria-expanded"]=new yr.scalarAttr("true"):f.a["aria-expanded"]=new yr.scalarAttr("false"),p+=d(f),p+='<div class="b-tree__line"></div>',t("/disk",l("id",n,[]))||t("vd",l("type",n,[]))||(p+='<div class="b-tree__toggle b-tree__toggle_expanded_'+i(e.s(Ne,n))+' js-folders-toggle"></div>'),p+='<div class="b-tree__name" title="'+a(h)+'">',p+=e.f("f85",n,o,c,f,yr.object2nodeset(v)),p+=s(h),p+="</div>"},f.t134.j=Ae,f.t134.a=0,f.t135=function(n,i,o,a,s){var u="",c=l("id",i,[]),f=n.f("f44",i,o,a,"getOperationParams");var p=[0,"resourceIds",2,function(t,n,r,i){return e(t.s(S,n),c)}],h=n.n(p,f).length>0,m=n.f("f44",i,o,a,"isDefaultFolder",c);return u+=d(s),(r(n.s(Le,i))||r(n.s(Fe,i))||t("640",n.s(Be,i))||h||r(n.s(Ue,i))&&r(n.n(ze,f))||t(0,n.s(Ve,i))&&r(n.n(He,f)))&&(u+=" b-tree__item_disabled_subtree js-disabled js-disabled-subtree"),r(n.n(We,f))&&r(n.n($e,f))&&r(n.s(Ge,i))&&(u+=" b-tree__item_disabled_subtree js-disabled js-disabled-subtree"),(e(l("id",i,[]),n.n(qe,f))&&r(n.n(We,f))&&!r(n.n(Ye,f))||r(n.n(He,f))&&(t("/disk",l("id",i,[]))||r(n.s(Ke,i)))||r(n.n(He,f))&&r(m))&&(u+=" b-tree__item_disabled_self js-disabled"),(t("/disk",l("id",i,[]))||t("vd",l("type",i,[]))||r(n.s(Ne,i)))&&(u+=" b-tree__item_expanded"),r(n.s(Je,i))&&(u+=" b-tree__item_waiting"),u},f.t135.j=Ae,f.t135.a=0,f.matcher={"":{"":["t67"]},"ns-view":{"*":["t68"]},"ns-build-view":{"*":["t69"]},"ns-build-view-content":{"*":["t70"]},"ns-view-add-class":{"*":["t71"],tree:["t132","t71"]},"ns-view-add-attrs":{"*":["t72"]},"ns-view-content":{"*":["t73"],dropzone:["t129","t73"],tree:["t133","t73"]},"ns-view-desc":{"*":["t74"]},"ns-view-collection":{"*":["t75"]},"ns-view-async-content":{"*":["t76"],tree:["t131","t76"]},"ns-view-error-content":{"*":["t77"]},"nb-main-attrs":{"*":["t78"]},"nb-main-content":{"*":["t79"]},nb:{ico:["t80"],button:["t81"],buttonLink:["t82"],buttonSpan:["t83"],buttonLabel:["t84"],buttonAttach:["t85"],popupMenu:["t86"],popup:["t89"],modalPopup:["t90"],"radio-button":["t91"],select:["t92"],checkbox:["t94"],input:["t95"],textarea:["t96"],inputSimple:["t97"],textareaSimple:["t98"],"input-group":["t99"],progress:["t100"],paranja:["t101"],island:["t102"],dropzone:["t103"],loader:["t104"],slider:["t105"],tabs:["t106"],arrow:["t109","t108","t107"],header:["t110"],user:["t111"],suggest:["t114"],toggler:["t120"],"icon-resource":["t121"],"loader-thin":["t128"]},"nb-popup-menu-content":{popupMenu:["t87"]},"nb-popup-menu-content-item":{menu:["t88"]},"nb-select-options":{"":["t93"],select:["t93"]},"nb-user-pic":{user:["t112"]},"nb-user-name":{user:["t113"],username:["t118"],email:["t119"]},"nb-suggest":{"":["t115"],item:["t117","t116"]},"nb-icon-resource-preview":{"icon-resource":["t122"]},"nb-icon-resource-image":{"icon-resource":["t125","t124","t123"]},"nb-icon-resource-video-stub":{"icon-resource":["t126"]},"nb-icon-resource-icon":{"icon-resource":["t127"]},dropzone__content:{dropzone:["t130"]},"tree-root":{tree:["t134"]},"tree-root-class":{tree:["t135"]}},f.imports=[],yr.register("common",f)})()}),(function(e,t,n){var r=n(9),i=n(23),o=n(63),a=n(34),s=function(e){var t=/^\/vd\/([^\/]+)/.exec(e);return t&&t[0]&&t[0]+"/search"},u=function(e){return"/journal"===e||/^\/vd\/[^\/]+\/journal$/.test(e)};e.exports=function(e){var t=e.ns,c=e.defaultFolders,l=e.settings,d=e.config,f=e.environment,p=e.user,h=["docx","xlsx","pptx"];r.extend(t.router.regexps,{dialog:["dropzone","upload","slider","access-folder","select"].join("|"),page:["docs"].join("|"),slice:"\\/(?:"+["albums","photo","journal","error"].join("|")+")",action:["add-to-album","create-album"].join("|"),recent:"/recent",doctype:h.join("|")});var m=function(e){if(d.isDocsHost)return"/docs?type=docx"+(e["test-id"]?"&test-id="+e["test-id"]:"");var r=t.params2query(e);return r=r?"?"+r:"","/feed"===l.lastContext?"/client/disk"+r:("undefined"!=typeof window&&n(14).count("navigation","via redirect",l.lastContext.slice(1)),"/client"+l.lastContext+r)},v=function(e){if(!c.hasVirtualDisks||e.path&&!/^\/([^/]+)\/(trash|disk|search|journal)($|\/|\|)/.test(e.path))return"/client/disk"},g=function(e){if("/album"===e.path&&!f.session.experiment.showFamilyAlbum)return"/client/disk";var t="undefined"==typeof window;return t&&!c.familyFolders||!t&&!n(18).default().getState().defaultFolders.familyFolders?"/client/disk":void 0};return{redirect:{"/":m,"/client":m,"/docs":function(e){return d.isDocsHost?e.type&&h.includes(e.type)?void 0:"/docs?type=docx"+(e["test-id"]?"&test-id="+e["test-id"]:""):"/client/disk"},"/docs/{type:doctype}":function(e){return o.addParams("/docs",e)},"/client/feed":function(e){return"item"!==e.feedType?e.notifications_open?"/client/recent?notifications_open=1":"/client/recent":"/client/published"},"/client/mail":"/client/disk","/auth":function(e){return e.openSupport?"/client/disk?openSupport=1":"/client/disk"},"/client{slash:slashOptional}":"/client/disk","/client/hidden":"/client/disk","/client/hidden{path:path}":"/client/disk","/client/share":"/client/disk","/client/share{path:path}":"/client/disk","/client/camera":"/client"+c.folders.photostream,"/client/downloads":"/client"+c.folders.downloads,"/client/screenshots":"/client"+c.folders.screenshots,"/client/social":"/client"+c.folders.social,"/client/yavideo":"/client/disk","/client/yavideo{path:any}":"/client/disk","/client/journal{path:path}":"/client/journal","/folder":"/client/disk","/search-app":"/client/photo","/gift":function(e){return"/tuning?reduxDialog=promo&dialogData=".concat(JSON.stringify({code:e.code}))},"/payment":"/tuning","/payment{path:any}":function(e){return"/tuning".concat(i.escape(e.path))},"/pay{path:any}":"/tuning","/tuning/gift":function(e){return"/tuning?reduxDialog=promo&dialogData=".concat(JSON.stringify({code:e.code}))},"/tuning-soft":"/tuning","/client/search":function(e){if(!Object.values(a.SEARCH_SCOPES).includes(e.scopeSearch))return"/client/disk"},"/client/vd":v,"/client/vd{path:any}":v,"/client/family":g,"/client/family{path:any}":g,"/client/wfolio":function(){if(![a.WFOLIO_STATES.ENABLED,a.WFOLIO_STATES.READY_WITH_PROJECTS,a.WFOLIO_STATES.READY_EMPTY,a.WFOLIO_STATES.DISALBE_INFO_SENDING_IN_PROGRESS,a.WFOLIO_STATES.DISABLED_WITH_PROJECTS,a.WFOLIO_STATES.DISABLED_UNAUTHORIZED,a.WFOLIO_STATES.DISABLED_EMPTY].includes(null===p||void 0===p?void 0:p.wfolio_state))return"/client/disk"},"/{path:any}":function(e){return d.isDocsHost&&"view"!==e.idPage&&!["","docs","docs/view","client/error"].includes(e.path)?"/docs?type=docx":!d.isDocsHost||"view"!==e.idPage||e.url&&!f.agent.isMobile?void 0:"/docs?type=docx"}},route:{"/notes":"notes","/client/albums/{albumId:any}":"client-dualPane","/client{idContext:slice}{slash:slashOptional}{separator:pipe}{dialog:dialog}{idDialog:path}":"client-dualPane","/client{idContext:slice}{slash:slashOptional}{separator:pipe}{dialog:dialog}":"client-dualPane","/client{idContext:slice}":"client-dualPane","/client{idContext:slice}{separator:pipe}{action:action}":"client-dualPane","/client{idContext:slice}{separator:pipe}{action:action}{idAlbum:path}":"client-dualPane","/client{idContext:path}{slash:slashOptional}{separator:pipe}{dialog:dialog}{idDialog:path}":"client-dualPane","/client{idContext:path}{slash:slashOptional}{separator:pipe}{dialog:dialog}":"client-dualPane","/{page:page}/{idPage:any}":"client-dualPane","/client{idContext:path}":"client-dualPane","/client/search":"client-dualPane","/{page:page}/{idPage:any}{separator:pipe}{dialog:dialog}":"client-dualPane","/{page:page}{separator:pipe}{dialog:dialog}":"client-dualPane","/{page:page}":"client-dualPane"},rewriteParams:{notes:function(){if("undefined"!=typeof window){var e=n(18).default,t=n(2376),r=t.goToNotes;e().dispatch(r())}},client:y,"client-dualPane":y}};function y(e){if(e.idApp="client",e.albumId)return (function(e){return e.idContext="/album/"+e.albumId,e})(e);if(u(e.idContext))return (function(e){return e.scopeSearch=e.idContext,e})(e);if(delete e.slash,delete e.separator,e.querySearch&&e.scopeSearch){var t=s(e.idContext);e.idContext=(t?t+"/":"/search/")+(e.typeSearch?e.typeSearch+"/":"")+e.querySearch+e.scopeSearch}if("select"===e.dialog&&(e.selectResource=e.idDialog,delete e.dialog,delete e.idDialog),"access-folder"===e.dialog&&(e.reduxDialog=e.dialog,delete e.dialog),e.idApp="client","undefined"!=typeof window){var r=(0,n(18).default)().getState();if("scans"===e.idPage){var i=n(162).getScansPath;e.idContext=i(r)}if(e.idContext){var o=(0,n(130).getStatesContext)(r,e.idContext);o.dialog&&(e.dialog=o.dialog)}}return e}}}),(function(e,t,n){"use strict";n.r(t),n.d(t,"goToNotes",(function(){return i}));var r=n(14),i=function(){return function(){r.default.count(["interface elements","header","promo notes","click link"]),location.assign("/notes")}}}),,,,,,,,,,,,,,(function(e,t,n){"use strict";n.r(t);n(1238),n(1239);var r=n(912),i=n.n(r);window.yr=i.a;n(1277);var o=n(1138),a=n.n(o);window.nb=a.a;n(1278);var s=n(1139),u=n.n(s);window.Vow=u.a;n(1280);var c=n(568),l=n.n(c);n(973),n(1281);window.no=l.a;n(1282),n(1309),n(1310),n(1311),n(1312),n(1313),n(1314),n(1315),n(1316),n(1317),n(1318),n(1319),n(247);var d,f=n(9),p=n.n(f),h=n(22),m=n.n(h),v=n(10),g=n.n(v),y=n(9),b=n(117),_=n(34),O=n(23),E=n(111),w=n(144),S=n(35).default,C=n(262),x=n(63),T=n(571),P=n(69).getPreloadedData,k=n(290);y.pluck=function(e,t){return y.map(e,(function(e){return e[t]}))};var j=(d={entityify:ns.entityify,deentityify:ns.deentityify,encodeURIComponent:encodeURIComponent,escapePath:O.escape,isParent:O.isParent,dirname:O.dirname,basename:O.basename,extname:O.extname,getAlias:S.getAlias,capitalize:w.capitalize,trim:$.trim,round:Math.round.bind(Math),range:function(){return y.range.apply(y,arguments).map((function(e){return{data:e}}))},getConfig:function(){return[{data:b}]},getEnvironment:no.value(P("environment")),getConsts:no.value(_),makeUrlRelative:x.makeRelative,replaceParam:x.replaceParam,stringCrop:w.crop,breakNumber:w.breakNumber,substring:function(e,t,n){return(e=e||"").substr(t,n)},stringLength:function(e){return e.length},json:function(e){return JSON.stringify(e[0].data)},parseJSON:function(e){return[{data:JSON.parse(e[0].data)}]},timestampToDate:C.timestampToDate,timestampCurrent:function(){return(new Date).getTime()/1e3},getTimestamp:function(e){return new Date(e).getTime()/1e3},reverse:function(e){return y.clone(e).reverse()},last:function(e){return[y.last(e)]},contains:function(e,t){return e.some((function(e){return e.data===t}))},formatSpace:E.format,breakLongWords:function(e,t){void 0===t&&(t=12);var n=new RegExp(".{1,"+t+"}","g");return y.map(e.split(" "),(function(e){return y.map(e.match(n)||[],ns.entityify).join("<wbr />")})).join(" ")},sum:function(e){return y.reduce(y.pluck(e,"data"),(function(e,t){return e+t}),0)},now:function(){return Math.round(Date.now()/1e3)},modernizr:function(e){return k[e]},split:function(e,t,n){var r=e.split(t,n),i=[];return $.each(r,(function(e,t){i.push({data:t})})),i},split2Nodeset:function(e,t){return yr.array2nodeset(e.split(t||","))},join:function(e,t){return y.pluck(y.pluck(e,"data"),"item")[0].join(t||",")},toLowerCase:function(e){return e.toLowerCase()},getFullYear:function(){return(new Date).getFullYear()}},g()(d,"nb-extend",(function(e,t){if(t&&t[0])if("string"==typeof t)e[0].data.content=t;else{var n=e[0].data,r=t[0].data,i=y.extend({},n,r);e[0].data=i}return e})),g()(d,"nb-wrap",(function(e,t){var n={};return t&&t.length&&(n[e]=1===t.length?t[0].data:y.pluck(t,"data")),[{data:n,name:"",parent:null,doc:t[0].doc}]})),g()(d,"nb-uniq",T),g()(d,"getHost",x.getHost),d);"undefined"!=typeof i18n&&(j.i18n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i18n.apply(void 0,[e].concat(m()(n.map(ns.entityify))))},j.i18n_unsafe=i18n);var R=j,I=(n(977),n(1153)),A=n.n(I),D=n(14),M=n(611),N=n(35),L=n(54),F=n.n(L),B=n(165),U={listing:function(e){var t=e.params;return!t.dialog&&(/^\/disk/.test(t.idContext)||["/trash","/shared","/published","/recent","/family","/wfolio"].includes(t.idContext))},slider:function(e){return"slider"===e.params.dialog},photo:function(e){var t=e.params;return!t.dialog&&"/photo"===t.idContext},albums:function(e){return"/albums"===e.params.idContext},album:function(e){return"client-album"===e.page&&/^[^/]+$/.test(e.params.url)},journal:function(e){return"/journal"===e.params.idContext},remember:function(e){return e.params.idContext&&e.params.idContext.startsWith("/remember/")},vd:function(e){return e.params.idContext&&e.params.idContext.startsWith("/vd/")}},z=n(117),V=n.n(z),H=n(92),W=n(30),G=n(17),q=n(18),Y=n(19),K=n(402),J=n(83),Z=n(52),X=n(97),Q=n(39),ee=n(162),te=n(405),ne=n(351),re=n(24),ie=n(916),oe=n(275),ae=n(190),se=n(357);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n(272),n(1794),n(1795),n(1796),n(1797),n(1799);var ce=n(9),le=n(117),de=n(54),fe=n(23),pe=n(121);n(1800),n(1820),ns.action.define("listing.openFolder",(function(e,t){return!!(t.id!==ns.page.current.params.idContext||"/journal"===t.id||"/photo"===t.id&&ns.page.current.params.filter||ns.page.current.params.idDialog)&&(t.from&&D.default.countNavigation(t.id,t.from),de.go("/client"+fe.escape(t.id)+Object(ie.getDebugSearchParams)()),!0)})),ns.action.define("selected.create-operation",(function(e,t){ns.action.run(t.actionName,{idsResources:Object(q.default)().getState().statesContext.selected})})),ns.action.define("resource.upload",(function(e,t){var n,r,i=(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({},t),o=i.folderDst||ns.page.current.params.idContext,a=Object(q.default)().getState();if(Object(Q.isDocsPage)(a)&&(i.files=Array.isArray(i.files)?i.files.filter(ne.filterDocsFiles):Object.values(i.files).filter(ne.filterDocsFiles),i.folders&&(i.folders=[]),t.files.length===i.files.length&&(null===(n=t.folders)||void 0===n?void 0:n.length)===(null===(r=i.folders)||void 0===r?void 0:r.length)||Object(q.default)().dispatch(Object(X.showNotAllowedExtNotification)()),0===i.files.length))return Vow.resolve();var s=Object(G.collectEntriesStats)([].concat(m()(i.files||[]),m()(i.folders||[])),a.environment.session.requestId),u=function(){var e=Object.assign({statsId:s},i);i.dropzone?setTimeout((function(){Object(q.default)().dispatch(Object(J.l)(o,e))}),50):Object(q.default)().dispatch(Object(J.l)(o,e)),Object(q.default)().dispatch(Object(X.redirectToDocsPageOnLoadFiles)(i.files))};return!i.folderDst&&(!/^\/disk(?:$|\/)/.test(o)&&!Object(re.isPathInsideVirtualDiskFiles)(o)||Object(H.isReadOnlyVdResource)(o,a)||!Object(Y.isExistsResource)(a,o)||Object(Y.getResourceData)(a,o,"meta.group.readonly")||Object(ee.isScansPage)(a)||Object.values(Object(se.getDefaultFolders)(a).folders).includes(o)&&!Object(Y.getResourceData)(a,o,"meta.resource_id"))?(ns.Model.get("stateTree").set(".selected","/disk"),new Promise(function(e,t){Object(q.default)().dispatch(Object(Z.add)("select-folder",{dialogParams:{type:"upload",title:"Куда загрузить?",submitButtonText:"Загрузить"},onSubmit:function(t){var n=t.folderId;o=n,u(),e()},onReject:function(){t()}}))})):(u(),Vow.resolve())})),ns.action.define("resource.move",(function(e,t){var n;t.idsResources?n=pe.create("move",ce.map(t.idsResources,(function(e){return{idSrc:e,idFolderDst:t.idFolderDst}}))):(t.id,de.isSearch()&&D.default.count("about search","actions","move"),n=pe.create("move",{idSrc:t.id,idFolderDst:t.idFolderDst}));var r=function(e){e.on("ns-model-changed.status",(function(){if("done"===e.get(".status")){var t=ns.page.current.params.idContext,n=e.get(".idSrc"),r=e.get(".idDst");n&&r&&(fe.isParent(n,t)||t===n)&&de.go("/client"+fe.escape(t.replace(new RegExp("^"+n),r)))}}))};return ce.isArray(n)?ce.each(n,r):r(n),n})),ns.action.define("resource.rename",(function(e,t){var n=t.id,r=pe.create("rename",{idSrc:n,nameProposed:t.name});return r.on("ns-model-changed.status",(function(){var e=ns.page.current.params.idContext,t=r.get(".idSrc"),n=r.get(".idDst");if("done"===r.get(".status")&&t&&n&&(fe.isParent(t,e)||e===t)){var i="/client"+e.replace(new RegExp("^"+$.ui.autocomplete.escapeRegex(t)),n);de.go(fe.escape(i))}})),r})),ns.action.define("folder.create",(function(e,t){return pe.create("createFolder",{idFolderDst:ns.page.current.params.idContext,creatingFamilyFolder:t.isFamily,creatingSharedFolder:t.isFamily})})),ns.action.define("dialog-create-shared-folder.open",(function(){var e=pe.create("createFolder",{idFolderDst:"/shared",creatingSharedFolder:!0});e.on("status.done",(function(){ns.action.run("dialog-access-folder.open",{id:e.get(".idDst")})}))})),ns.action.define("dialog-access-folder.open",(function(e,t){var n=t.id,r=ns.router.generateUrl(ns.page.current.page,Object.assign({},ns.page.current.params,{reduxDialog:"access-folder",idDialog:n}));return de.go(r)})),ns.action.define("trash.clean",(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).id;return setTimeout((function(){Object(q.default)().dispatch(Object(K.doCleanTrash)({id:t}))}),100),!0})),ns.action.define("app.search",(function(e,t){return Object(ae.isJournalIdContext)(t.scopeSearch)?(D.default.count.apply(D.default,m()(oe.textFilterMetrika)),Object(q.default)().dispatch(Object(te.setJournalFilter)({id:Object(ae.getJournalId)(t.scopeSearch),filters:{text:t.querySearch}}))):ns.action.run("app.search-disk",t)})),ns.action.define("app.search-disk",(function(e,t){return ns.Model.invalidate("resources",(function(e){return e.params.querySearch&&e.params.scopeSearch})),de.go(de.getUrlBase({querySearch:t.querySearch,scopeSearch:t.scopeSearch,typeSearch:t.typeSearch})),!0})),ns.action.define("editor.open",(function(e,t){var n=function(e){var n=le.links.disk+"/editnew/"+t.extension+fe.escape(e)+"?sk="+le.skExternal;t.source&&(n+="&source=".concat(t.source)),t.filename&&(n+="&filename=".concat(encodeURIComponent(t.filename))),window.open(n,"_blank")},r=t.idContext,i=Object(q.default)().getState();r&&Object(Y.isExistsResource)(i,r)&&Object(W.can)(W.CREATE_INSIDE,Object(Y.getResourceData)(i,r),i)?n(r):Object(q.default)().dispatch(Object(Z.add)("select-folder",{dialogParams:{type:"create-document",title:"Выберите место для нового документа"},onSubmit:function(e){var t=e.folderId;n(t)}}))}));var he=n(406),me=n(80),ve=n(56),ge=n(23),ye=n(9),be=n(121),_e=["copy","move","trash"],Oe=new he.a("/check-online");ns.Model.define("operationsActive",{events:{"ns-model-init":"oninit"},methods:{oninit:function(){var e=this;Oe.addOnlineEventListener((function(){e.revive()}))},preprocessData:function(e){return ye.filter(e,(function(e){return ye.includes(_e,e.type)}))},revive:function(){return ns.request([this]).then(this.createOperations.bind(this))},createOperations:function(){var e=Object(q.default)(),t=[],n=[];this.getData().forEach((function(r){var i,o,a,s,u=be.getTypeNormalized(r);Object(me.isSagaOperation)(e.getState(),u)?t.push({type:u,oid:r.id,src:Object(ge.normalize)((null===(i=r.data)||void 0===i?void 0:i.source)||(null===(o=r.data)||void 0===o?void 0:o.path)),dst:Object(ge.normalize)((null===(a=r.data)||void 0===a?void 0:a.destination)||(null===(s=r.data)||void 0===s?void 0:s.target))}):n.push(r)})),ye.each(n,(function(e){be.catchUp(e)})),e.dispatch(Object(ve.initActiveOperations)(t))}}});var Ee=n(4),we=n.n(Ee),Se=n(5),Ce=n.n(Se),xe=n(8),Te=n.n(xe),Pe=n(6),ke=n.n(Pe),je=n(7),Re=n.n(je),Ie=n(2),Ae=n.n(Ie),De=(n(1821),n(16)),Me=n(0),Ne=n.n(Me),Le=n(1154),Fe=n.n(Le),Be=n(931),Ue=(n(1933),n(181)),ze=n(38),Ve=n(45),He=n(74),We=n(33),$e=n.n(We),Ge=n(166),qe=n.n(Ge),Ye=n(205),Ke=n.n(Ye),Je=n(216);var Ze=function(e,t){Object.keys(t).forEach((function(n){"x"!==n&&"y"!==n&&"scale"!==n&&(e.style[n]=t[n])}));var n="";void 0===t.x&&void 0===t.y||(n+="translate3d(".concat(t.x||0,"px, ").concat(t.y||0,"px, 0)")),void 0!==t.scale&&(n+=" scale(".concat(t.scale,")")),n&&(e.style.webkitTransform=e.style.transform=n)},Xe=(function(){function e(t,n,r){we()(this,e),this._viewportSize=t,this._elements=n,this._elementsSize=r}return Ce()(e,[{key:"start",value:function(e,t){this._initialData=t,this._currentData=this._extractTransformData(e),this._toggleElementsTransform(!0)}},{key:"move",value:function(e){this._currentData=this._extractTransformData(e),this._onMove(),this._applyChangesToElements(this._currentData)}},{key:"end",value:function(){var e=this,t=this._isTransformComplete(),n=t?this._getCompleteTransformValues():this._getInitialTransformValues(),r=Object.keys(this._currentData).some((function(t){return e._currentData[t]!==n[t]}))?200:void 0;return Promise.resolve(this._applyChangesToElements(n,r)).then((function(){return e._finishTransform(),t?e._getTransformResult():Promise.reject(!1)}))}},{key:"_onMove",value:function(){}},{key:"_extractTransformData",value:function(e){}},{key:"isExternalFinishTransform",value:function(){return!1}},{key:"_finishTransform",value:function(){this.isExternalFinishTransform()||this._toggleElementsTransform(!1)}},{key:"finishTransform",value:function(){this._toggleElementsTransform(!1)}},{key:"_getCompleteTransformValues",value:function(){}},{key:"_getInitialTransformValues",value:function(){return{}}},{key:"_getTransformResult",value:function(){}},{key:"_isTransformComplete",value:function(){return!1}},{key:"_calculateElementStyles",value:function(e){}},{key:"_applyChangesToElements",value:function(e,t){var n=this,r=[];if(this._eachElement((function(i){var o=n._setStylesToElement(i,n._calculateElementStyles(e),t);t&&r.push(o)})),t)return Promise.all(r)}},{key:"_setStylesToElement",value:function(e,t,n){if(n)return new Promise(function(r){var i=function t(){r(),e.removeEventListener("transitionend",t),e.removeEventListener("webkitTransitionEnd",t),Ze(e,{transition:""})},o=Object.assign({},t,{transition:"".concat(n,"ms ease")});e.addEventListener("transitionend",i),e.addEventListener("webkitTransitionEnd",i),Ze(e,o)});Ze(e,t)}},{key:"_toggleElementsTransform",value:function(e){this._eachElement((function(t){t.classList.toggle("new-composite-layer",e),e||(t.style.transform="",t.style.opacity="")}))}},{key:"_eachElement",value:function(e){var t=this;this._elements instanceof Element?e.call(this,this._elements):Object.keys(this._elements).forEach((function(n){t._elements[n]&&e.call(t,t._elements[n],n)}))}}]),e})();function Qe(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var et=(function(e){ke()(n,e);var t=Qe(n);function n(e,r){var i;return we()(this,n),(i=t.call(this,e,r))._elements=r,i._neighbourName="",i}return Ce()(n,[{key:"isExternalFinishTransform",value:function(){return!0}},{key:"_extractTransformData",value:function(e){return{deltaX:e.deltaX}}},{key:"_isTransformComplete",value:function(){var e=Math.abs(this._currentData.deltaX)/this._viewportSize.width;return Boolean(e>.3&&this._elements[this._neighbourName])}},{key:"_getCompleteTransformValues",value:function(){return{deltaX:this._viewportSize.width*Math.sign(this._currentData.deltaX)}}},{key:"_getInitialTransformValues",value:function(){return{deltaX:0}}},{key:"_onMove",value:function(){this._neighbourName=this._currentData.deltaX<0?"next":"prev"}},{key:"_applyChangesToElements",value:function(e,t){var n=[this._setStylesToElement(this._elements.current,this._calculateMainItemStyles(e),t)];if(this._elements[this._neighbourName]){var r=this._setStylesToElement(this._elements[this._neighbourName],this._calculateNeighbourItemStyles(e),t);n.push(r)}return Promise.all(n)}},{key:"_getTransformResult",value:function(){return-Math.sign(this._currentData.deltaX)}},{key:"_calculateMainItemStyles",value:function(e){var t=Math.abs(e.deltaX)/this._viewportSize.width;return 0===e.deltaX?{x:0,opacity:1,scale:1}:e.deltaX<0?{x:e.deltaX,opacity:1-t,scale:1}:{x:0,opacity:1-t,scale:1-.2*t}}},{key:"_calculateNeighbourItemStyles",value:function(e){var t=Math.abs(e.deltaX)/this._viewportSize.width;return{x:"prev"===this._neighbourName?e.deltaX-this._viewportSize.width:0,opacity:t,scale:.8+.2*t}}}]),n})(Xe);function tt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var nt=(function(e){ke()(n,e);var t=tt(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"isExternalFinishTransform",value:function(){return!0}},{key:"_extractTransformData",value:function(e){return{deltaY:e.deltaY}}},{key:"_getTransformResult",value:function(){return!0}},{key:"_getInitialTransformValues",value:function(){return{deltaY:0}}},{key:"_getCompleteTransformValues",value:function(){return{deltaY:Math.sign(this._currentData.deltaY)*this._viewportSize.height}}},{key:"_isTransformComplete",value:function(){return Math.abs(this._currentData.deltaY/this._viewportSize.height)>.2}},{key:"_calculateElementStyles",value:function(e){var t=Math.abs(e.deltaY/this._viewportSize.height);return{y:e.deltaY,opacity:1-t}}}]),n})(Xe);function rt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var it=function(e,t,n,r,i){return(Math.min(Math.max(r,e),t)-e-n/2)*i},ot=function(e,t,n,r,i){return(Math.min(Math.max(r,e),t)-e-n/2)*i},at=(function(e){ke()(n,e);var t=rt(n);function n(e,r,i){var o;return we()(this,n),(o=t.call(this,e,r,i))._elementsSize=i,o}return Ce()(n,[{key:"_extractTransformData",value:function(e){var t=this._currentData||this._initialData;this.dx=this.dx||0,this.dy=this.dy||0;var n=Math.min(e.scale*this._initialData.scale,10),r=n/t.scale-1,i=t.scale/this._initialData.scale,o=i*this._elementsSize.width,a=i*this._elementsSize.height,s=this._elementsSize.left+(this._elementsSize.width-o)/2-this.dx,u=this._elementsSize.top+(this._elementsSize.height-a)/2-this.dy,c=it(s,s+o,o,e.center.x,r),l=ot(u,u+a,a,e.center.y,r);return this.dx+=c,this.dy+=l,{scale:n,x:t.x-c,y:t.y-l}}},{key:"_calculateElementStyles",value:function(e){return e}}]),n})(Xe);function st(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var ut=(function(e){ke()(n,e);var t=st(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"_extractTransformData",value:function(e){return{velocityX:e.velocityX,velocityY:e.velocityY,x:this._initialData.x+e.deltaX,y:this._initialData.y+e.deltaY,scale:this._initialData.scale}}},{key:"_calculateElementStyles",value:function(e){return e}}]),n})(Xe);function ct(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var lt=(function(e){ke()(n,e);var t=ct(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"start",value:function(e,t){this._reset=t.scale>1,t.scale>1?this._currentData={x:0,y:0,scale:1}:(e=Object.assign({},e,{scale:5}),qe()(Ae()(n.prototype),"start",this).call(this,e,t))}},{key:"end",value:function(){var e=this,t=this._applyChangesToElements(this._currentData,200);return t?t.then((function(){return e._currentData})):Promise.reject()}}]),n})(at);var dt=n(114);n(1935);function ft(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var pt=null;function ht(e){e instanceof Error&&setTimeout((function(){throw e}),0)}"undefined"!=typeof window&&(pt=n(1934));var mt={SWIPE_TO_CLOSE:"SWIPE_TO_CLOSE",SWIPE_TO_CHANGE:"SWIPE_TO_CHANGE",DOUBLE_TAP_TO_ZOOM:"DOUBLE_TAP_TO_ZOOM",PINCH_TO_ZOOM:"PINCH_TO_ZOOM",MOVE_ZOOMED:"MOVE_ZOOMED",WHEEL_TO_ZOOM:"WHEEL_TO_ZOOM"},vt=Object.assign({GESTURE:"gesture"},Je.b.ACTION_SOURCE),gt=(function(e){ke()(n,e);var t=ft(n);function n(e){var r,i;return we()(this,n),(i=t.call(this,e)).state={isZoomed:!1,toolbarVisible:!0},i._onPanH=i._onPanH.bind(Te()(i)),i._onPanV=i._onPanV.bind(Te()(i)),i._onPinch=i._onPinch.bind(Te()(i)),i._onPan=i._onPan.bind(Te()(i)),i._onDbTap=i._onDbTap.bind(Te()(i)),i._onTap=i._onTap.bind(Te()(i)),i._onWheel=i._onWheel.bind(Te()(i)),i._setZoomedState=i._setZoomedState.bind(Te()(i)),i._setToolbarVisible=i._setToolbarVisible.bind(Te()(i)),i._setRef=i._setRef.bind(Te()(i)),i._setContainerRef=i._setContainerRef.bind(Te()(i)),i.getContainerRef=i.getContainerRef.bind(Te()(i)),i._setItemsContainerRef=i._setItemsContainerRef.bind(Te()(i)),i.sliderApi={setToolbarVisible:i._setToolbarVisible},i._gesturesToRecognizers=(r={},g()(r,mt.SWIPE_TO_CLOSE,"verticalPan"),g()(r,mt.SWIPE_TO_CHANGE,"horizontalPan"),g()(r,mt.DOUBLE_TAP_TO_ZOOM,"dbtap"),g()(r,mt.PINCH_TO_ZOOM,"pinch"),g()(r,mt.MOVE_ZOOMED,"pan"),r),i}return Ce()(n,[{key:"setState",value:function(e,t){var r=this.state.toolbarVisible;qe()(Ae()(n.prototype),"setState",this).call(this,e,t),"boolean"==typeof e.toolbarVisible&&e.toolbarVisible!==r&&this.props.onToolbarVisibilityChange(e.toolbarVisible)}},{key:"componentDidMount",value:function(){this._mountTimestamp=Date.now(),this._bindGestures(),this._resetZoomedState()}},{key:"componentWillUnmount",value:function(){this._unbindGestures()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.state.toolbarVisible&&e.activeResource&&this.props.activeResource&&e.shouldSetToolbarVisible&&this.setState({toolbarVisible:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props.activeResource||{},n=e.activeResource||{},r=t.id!==n.id,i=this._getItemsRefs().current;r&&(this._toggleZoomGestures(!this.props.activeResource.content),this._currentTransform&&this._currentTransform.isExternalFinishTransform()&&(this._currentTransform._elements.next===i||this._currentTransform._elements.prev===i)&&this._currentTransform.finishTransform())}},{key:"_getItemsRefs",value:function(){return this._sliderBaseRef.getItemsRefs()}},{key:"_getActiveImageRef",value:function(){return this._getItemsRefs().current.querySelector("img")}},{key:"_bindGestures",value:function(){this._hammerManager=new pt.Manager(this._itemsContainerRef,{cssProps:Ke()(pt.defaults,["touchCallout"])}),this._hammerRecognisers={horizontalPan:new pt.Pan({event:"panh",direction:pt.DIRECTION_HORIZONTAL}),verticalPan:new pt.Pan({event:"panv",threshold:20,direction:pt.DIRECTION_VERTICAL}),pinch:new pt.Pinch,pan:new pt.Pan({enable:!1}),dbtap:new pt.Tap({event:"dbtap",taps:2,threshold:20,posThreshold:20}),tap:new pt.Tap},this._hammerManager.add([this._hammerRecognisers.pinch,this._hammerRecognisers.horizontalPan,this._hammerRecognisers.verticalPan,this._hammerRecognisers.pan,this._hammerRecognisers.dbtap,this._hammerRecognisers.tap]),this._hammerRecognisers.verticalPan.requireFailure(this._hammerRecognisers.pinch),this._hammerRecognisers.horizontalPan.requireFailure(this._hammerRecognisers.pinch),this._hammerManager.on("panhstart panhmove panhend panhcancel",this._onPanH),this._hammerManager.on("panvstart panvmove panvend panvcancel",this._onPanV),this._hammerManager.on("pinchstart pinchmove pinchend pinchcancel",this._onPinch),this._hammerManager.on("panstart panmove panend pancancel",this._onPan),this._hammerManager.on("dbtap",this._onDbTap),this._hammerRecognisers.tap.requireFailure(this._hammerRecognisers.dbtap),this._hammerManager.on("tap",this._onTap),this._toggleGestures(Object.values(mt),!0),this._toggleZoomGestures(!this.props.activeResource.content),this._itemsContainerRef&&this._itemsContainerRef.addEventListener("dragstart",dt.b)}},{key:"_unbindGestures",value:function(){this._hammerManager.destroy(),this._itemsContainerRef&&(this._itemsContainerRef.removeEventListener("touchend",dt.b),this._itemsContainerRef.removeEventListener("wheel",this._onWheel),this._itemsContainerRef.removeEventListener("dragstart",dt.b))}},{key:"_onWheel",value:function(e){var t=this;Object(dt.b)(e);var n=e.wheelDeltaY||e.wheelDelta||-120*Math.sign(e.deltaY)||0;if(0!==n){var r=n/1e3,i=this._getActiveImageRef();if(i){var o=i.getBoundingClientRect(),a=this._zoomedValues.scale,s=a+r;s=Math.max(s,1);var u=(s=Math.min(s,10))/a-1,c=it(o.left,o.right,o.width,e.clientX,u),l=ot(o.top,o.bottom,o.height,e.clientY,u);this._setZoomedState({scale:s,x:this._zoomedValues.x-c,y:this._zoomedValues.y-l}),Ze(i,this._zoomedValues),this._timer&&clearTimeout(this._timer),this._timer=setTimeout((function(){return t._resetImagePosition()}),200)}}}},{key:"_resetImagePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._getActiveImageRef();if(t){if(this._zoomedValues.scale>1&&!e){var n=t.getBoundingClientRect(),r=window.innerHeight-n.bottom,i=window.innerWidth-n.right,o=!0;if(n.height<innerHeight?this._zoomedValues.y=0:n.top>0?this._zoomedValues.y-=n.top:r>0?this._zoomedValues.y+=r:o=!1,n.width<innerWidth?(this._zoomedValues.x=0,o=!0):n.left>0?(this._zoomedValues.x-=n.left,o=!0):i>0&&(this._zoomedValues.x+=i,o=!0),!o)return}else this._resetZoomedState();!(function(e,t,n){if(n)return new Promise(function(r){var i=function t(){r(),e.removeEventListener("transitionend",t),e.removeEventListener("webkitTransitionEnd",t),Ze(e,{transition:"all 0s ease 0s"})},o=Object.assign({},t,{transition:"".concat(n,"ms ease")});e.addEventListener("transitionend",i),e.addEventListener("webkitTransitionEnd",i),Ze(e,o)});Ze(e,t)})(t,this._zoomedValues,200)}}},{key:"_toggleZoomGestures",value:function(e){if(this._toggleGestures([mt.PINCH_TO_ZOOM,mt.DOUBLE_TAP_TO_ZOOM],e),this._toggleGestures([mt.MOVE_ZOOMED],this.state.isZoomed&&e),this._itemsContainerRef){var t=this.props.enabledGestures.includes(mt.WHEEL_TO_ZOOM);e?(this._itemsContainerRef.addEventListener("touchend",dt.b),t&&this._itemsContainerRef.addEventListener("wheel",this._onWheel)):(this._itemsContainerRef.removeEventListener("touchend",dt.b),t&&this._itemsContainerRef.removeEventListener("wheel",this._onWheel))}}},{key:"_onActiveResourceChange",value:function(e,t,n){if(this._sliderBaseRef){var r=this._sliderBaseRef.isCurrentResourceAnImage(),i=e&&!e.content;r!==i&&this._toggleZoomGestures(i),t<0?this._sliderBaseRef.switchToPrevious(n):this._sliderBaseRef.switchToNext(n)}}},{key:"_toggleGestures",value:function(e,t){var n=this;e.forEach((function(e){var r=n._gesturesToRecognizers[e];if(r&&n._hammerRecognisers){var i=n.props.enabledGestures.includes(e);n._hammerRecognisers[r].set({enable:t&&i})}}))}},{key:"_setZoomedState",value:function(e){this.props.onZoomStateChange(e),this._zoomedValues=e;var t=e.scale>1;this._toggleIsZoomed(t),this.setState({toolbarVisible:!t}),this._toggleGestures([mt.SWIPE_TO_CHANGE,mt.SWIPE_TO_CLOSE],!t),this._toggleGestures([mt.MOVE_ZOOMED],t)}},{key:"_resetZoomedState",value:function(){this._setZoomedState({scale:1,x:0,y:0})}},{key:"_toggleIsZoomed",value:function(e){e=void 0===e?!this.state.isZoomed:e,this.setState({isZoomed:e})}},{key:"_onPanH",value:function(e){var t=this;if("panhstart"===e.type||this._currentTransform instanceof et){var n=Object(dt.a)(Object(Je.c)(this.props));"panhstart"===e.type?(this._currentTransform=new et(this.props.viewportSize,this._getItemsRefs()),this._currentTransform.start(e)):"panhmove"===e.type||"panhcancel"===e.type?this._currentTransform&&this._currentTransform.move(e):"panhend"===e.type&&this._currentTransform&&this._currentTransform.end().then((function(e){t._onActiveResourceChange(t.props.resources[n+e],e,vt.GESTURE)})).catch(ht)}}},{key:"_onPanV",value:function(e){var t=this;if("panvstart"===e.type||this._currentTransform instanceof nt)switch(e.type){case"panvstart":this._container&&(this._currentTransform=new nt(this.props.viewportSize,this._container),this._currentTransform.start(e));break;case"panvmove":this._currentTransform&&this._currentTransform.move(e);break;case"panvend":case"panvcancel":this._currentTransform&&this._currentTransform.end().then((function(){t.props.onClose(vt.GESTURE)})).catch(ht)}}},{key:"_onPinch",value:function(e){switch(e.type){case"pinchstart":var t=this._getActiveImageRef();if(!t)return;var n=t.getBoundingClientRect();this._currentTransform=new at(this.props.viewportSize,t,n),this._currentTransform.start(e,this._zoomedValues),this._setZoomedState(this._currentTransform._extractTransformData(e));break;case"pinchmove":this._currentTransform&&this._currentTransform.move(e);break;case"pinchend":case"pinchcancel":this._currentTransform&&(this._setZoomedState(this._currentTransform._currentData),this._resetImagePosition())}}},{key:"_onPan",value:function(e){switch(e.type){case"panstart":var t=this._getActiveImageRef();if(t){var n=t.getBoundingClientRect();this._currentTransform=new ut(this.props.viewportSize,t,{width:n.width,height:n.height}),this._currentTransform.start(e,this._zoomedValues)}break;case"panmove":this._currentTransform&&this._currentTransform.move(e);break;case"panend":case"pancancel":this._currentTransform&&(this._setZoomedState(this._currentTransform._currentData),this._resetImagePosition())}}},{key:"_onDbTap",value:function(e){var t=this._getActiveImageRef();if(t){var n=t.getBoundingClientRect();this._currentTransform=new lt(this.props.viewportSize,t,n),this._currentTransform.start(e,this._zoomedValues),this._currentTransform.end(),this._setZoomedState(this._currentTransform._currentData)}}},{key:"_setToolbarVisible",value:function(e){this.setState({toolbarVisible:e})}},{key:"_shouldHandleTap",value:function(e){var t=e.target;return!(!this._mountTimestamp||e.timeStamp-this._mountTimestamp<300)&&(!e.target.closest("video")&&(!(!this._container||!this._container.contains(t))&&(!this.props.disableTapOnSelectors.length||!this.props.disableTapOnSelectors.some((function(e){return t.closest(e)})))))}},{key:"_onTap",value:function(e){this._shouldHandleTap(e)&&this._setToolbarVisible(!this.state.toolbarVisible)}},{key:"_setRef",value:function(e){this._sliderBaseRef=e}},{key:"_setContainerRef",value:function(e){this._container=e}},{key:"getContainerRef",value:function(){return this._container}},{key:"_setItemsContainerRef",value:function(e){this._itemsContainerRef=e}},{key:"render",value:function(){return Ne.a.createElement(Je.b,$e()({},this.props,{toolbarVisible:!this.props.shouldHideToolbar&&this.state.toolbarVisible,sliderApi:this.sliderApi,ref:this._setRef,containerRef:this._setContainerRef,itemsContainerRef:this._setItemsContainerRef}))}}]),n})(Me.Component),yt=function(){};gt.defaultProps=Object.assign({enabledGestures:[mt.SWIPE_TO_CLOSE,mt.SWIPE_TO_CHANGE,mt.DOUBLE_TAP_TO_ZOOM,mt.PINCH_TO_ZOOM,mt.MOVE_ZOOMED,mt.WHEEL_TO_ZOOM],onZoomStateChange:yt,onToolbarVisibilityChange:yt,onToolbarAnimationEnd:yt,disableTapOnSelectors:[],shouldSetToolbarVisible:!1,shouldHideToolbar:!1},Je.b.defaultProps),gt.ToolbarLeft=Je.b.ToolbarLeft,gt.ToolbarRight=Je.b.ToolbarRight;var bt=gt,_t=n(602),Ot=n(113),Et=n(603),wt=n(51),St=n(26),Ct=n(397),xt=n(163),Tt=n(11),Pt=n.n(Tt);n(1936);function kt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var jt=function(){return Pt()()("resource-preview")},Rt=(function(e){ke()(n,e);var t=kt(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"_getImageOrIcon",value:function(){var e=this.props,t=e.resource,n=t.defaultPreview,r=t.meta,i=r.mediatype,o=r.previewLoadFailed,a=t.ext,s=t.virus,u=e.iconSize,c=e.imageSize,l=e.nonce,d=e.onImageLoadError,f=e.onImageLoadSuccess,p="undefined"==typeof window,h=function(){return Ne.a.createElement(Et.a,{key:"image",cls:jt().e("image"),onError:d,onLoad:f,src:"".concat(n,"&size=").concat(c,"x").concat(c)})};return!n||o||s?Ne.a.createElement(Ot.default,{ext:a,mediatype:i,shadow:!0,size:u,type:s?"virus":""}):p&&l?[h(),Ne.a.createElement("script",{key:"script",nonce:l,dangerouslySetInnerHTML:{__html:(function(e){return"\nvar preview = document.querySelector('.resource-preview__image');\nif (preview) {\n  var drp = Math.max(window.devicePixelRatio || 1, 1);\n  var imageSize = Math.min(document.documentElement.clientWidth - 80, document.documentElement.clientHeight);\n  preview.src = '".concat(e,"&' + 'size={{imageSize}}x{{imageSize}}'.replace('{{imageSize}}', imageSize).replace('{{imageSize}}', imageSize);\n}")})(n)}})]:h()}},{key:"render",value:function(){var e=this._getImageOrIcon();return this.props.openWith&&(e=Ne.a.createElement(wt.Link,$e()({theme:"normal"},this.props.openWith),e),this.props.openButtonPosition&&(e=Ne.a.createElement("div",{className:jt().m({"button-position":this.props.openButtonPosition,"button-visible":this.props.openButtonVisible})},e,Ne.a.createElement("div",{className:jt().e("overlay")}),Ne.a.createElement("div",{className:jt().e("button-wrap").mix(Object(xt.cnTheme)(Ct.theme))},Ne.a.createElement(St.Button,$e()({view:"raised",size:"m",pin:"circle-circle",className:jt().e("open-button")},this.props.openWith),this.props.openButtonText))))),e}}]),n})(Me.PureComponent);Rt.defaultProps={iconSize:"l",imageSize:400};var It=Rt,At=(n(1937),function(e){var t=e.name,n=e.cls;return Ne.a.createElement("div",{className:Pt()()("resource-name").mix(n)},t)}),Dt=n(501),Mt=(n(1940),n(12));function Nt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var Lt=(function(e){ke()(n,e);var t=Nt(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return Ne.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M6 2l17 10L6 22z"})}}]),n})(Mt.default),Ft=Object(Mt.iconProvider)(Lt);function Bt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var Ut=(function(e){ke()(n,e);var t=Bt(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return Ne.a.createElement("path",{fill:"currentColor",d:"M4 2h5v20H4V2zm11 0h5v20h-5V2z"})}}]),n})(Mt.default),zt=Object(Mt.iconProvider)(Ut),Vt=n(579),Ht=n.n(Vt),Wt=n(409),$t=n(556);n(1941);function Gt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var qt=function(){return Pt()()("audio-player")},Yt=null,Kt=(function(e){ke()(n,e);var t=Gt(n);function n(e){var r;return we()(this,n),(r=t.call(this,e)).state={isPlaying:!1,requestingUrl:!1,isReady:!1,error:!1,hidePlayButton:!1,canPlay:!r.props.detectPlayability,currentTime:0},r._onPlayPauseButtonClick=r._onPlayPauseButtonClick.bind(Te()(r)),r._onAudioCanPlay=r._onAudioCanPlay.bind(Te()(r)),r._onAudioTimeUpdate=r._onAudioTimeUpdate.bind(Te()(r)),r._onAudioEnded=r._onAudioEnded.bind(Te()(r)),r._onProgressDown=r._onProgressDown.bind(Te()(r)),r._onProgressMove=r._onProgressMove.bind(Te()(r)),r._onError=r._onError.bind(Te()(r)),r._onAudioPlay=r._onAudioPlay.bind(Te()(r)),r._onAudioPause=r._onAudioPause.bind(Te()(r)),r}return Ce()(n,[{key:"componentDidMount",value:function(){if(this.props.detectPlayability){var e=Boolean(Object(Wt.a)(this.props.mimetype));if(this.setState({canPlay:e}),!e)return}this._audioElement=document.createElement("audio"),this._audioElement.className=qt().e("audio-element"),document.body.appendChild(this._audioElement),this._audioElement.addEventListener("canplay",this._onAudioCanPlay),this._audioElement.addEventListener("timeupdate",this._onAudioTimeUpdate),this._audioElement.addEventListener("ended",this._onAudioEnded),this._audioElement.addEventListener("error",this._onError),this._audioElement.addEventListener("play",this._onAudioPlay),this._audioElement.addEventListener("pause",this._onAudioPause),this._documentPointerListener=Object($t.a)({isTouch:this.props.isTouch,scope:this._progress,onBeforeStart:this._onProgressDown,onMove:this._onProgressMove}),this.props.autoplay?this._requestAndPlay():this.props.preloadMeta&&(this._audioElement.preload="metadata",this._updateUrl())}},{key:"componentDidUpdate",value:function(e){var t;this.state.isPlaying||(!this.props.autoplay||e.autoplay||null!==(t=this._audioElement)&&void 0!==t&&t.src?this.props.preloadMeta&&!e.preloadMeta&&this._audioElement&&(this._audioElement.preload="metadata",this._updateUrl()):this._requestAndPlay())}},{key:"componentWillUnmount",value:function(){this._audioElement&&(this._pause(),document.body.removeChild(this._audioElement),this._documentPointerListener&&this._documentPointerListener.clearListeners(),this._audioElement.removeEventListener("canplay",this._onAudioCanPlay),this._audioElement.removeEventListener("timeupdate",this._onAudioTimeUpdate),this._audioElement.removeEventListener("ended",this._onAudioEnded),this._audioElement.removeEventListener("error",this._onError),this._audioElement.removeEventListener("play",this._onAudioPlay),this._audioElement.removeEventListener("pause",this._onAudioPause))}},{key:"_onAudioPlay",value:function(){this.toggleIsPlaying(!0)}},{key:"_onAudioPause",value:function(){var e;null!==(e=this._audioElement)&&void 0!==e&&e.ended||this.toggleIsPlaying(!1)}},{key:"toggleIsPlaying",value:function(e){void 0===e&&(e=!this.state.isPlaying),this.state.isPlaying!==e&&(this.props.onPlayStateChange({isPlaying:e}),e?this._audioUrl?this._play():this._requestAndPlay():(this._pause(),this._playOnReady=!1))}},{key:"maybeResetCurrentTime",value:function(){this._audioElement&&isFinite(this._audioElement.duration)&&(this._audioElement.currentTime=0,this.setState({currentTime:0}))}},{key:"_setCurrentTimeFromPoint",value:function(e){if(this._progressRect&&this._audioElement){var t=Math.max(this._progressRect.left,e.clientX||0);t=Math.min(this._progressRect.right,t);var n=(t-=this._progressRect.left)/this._progressRect.width*this._audioElement.duration;this._audioElement.currentTime=n,this.setState({currentTime:n})}}},{key:"_onProgressDown",value:function(e){this._progressRect=this._progress&&this._progress.getBoundingClientRect(),this._setCurrentTimeFromPoint(e)}},{key:"_onProgressMove",value:function(e,t){this._setCurrentTimeFromPoint(t)}},{key:"_onAudioCanPlay",value:function(){this.setState({isReady:!0,requestingUrl:!1}),this._playOnReady&&this.toggleIsPlaying(!0)}},{key:"_onAudioTimeUpdate",value:function(){this._audioElement&&this.setState({currentTime:this._audioElement.currentTime})}},{key:"_onAudioEnded",value:function(){this.setState({isPlaying:!1}),this.props.onAudioEnded()}},{key:"_onError",value:function(){this.setState({error:!0}),this.props.preloadMeta||(this.setState({isPlaying:!1,canPlay:!1,hidePlayButton:!0}),this.props.onPlayError())}},{key:"_updateUrl",value:function(){var e=this;return this.props.requestAudioUrl().then((function(t){e._audioUrl=t,e._audioElement&&(e._audioElement.src=t)})).catch((function(){e.setState({isPlaying:!1,requestingUrl:!1})}))}},{key:"_requestAndPlay",value:function(){var e=this;this.setState({requestingUrl:!0}),this._updateUrl().then((function(){e._audioElement&&e._audioElement.load(),e._playOnReady=!0}))}},{key:"_onPlayPauseButtonClick",value:function(){this.state.hidePlayButton||this.toggleIsPlaying(!this.state.isPlaying)}},{key:"_play",value:function(){if(this.state.error)return this.setState({isPlaying:!1,canPlay:!1,hidePlayButton:!0}),void this.props.onPlayError();this.setState({isPlaying:!0}),Yt&&Yt!==this&&Yt.toggleIsPlaying(!1),Yt=this,this._audioElement&&this._audioElement.play()}},{key:"_pause",value:function(){this.setState({isPlaying:!1}),this._audioElement&&this._audioElement.pause(),Yt===this&&(Yt=null)}},{key:"_getTimeLine",value:function(){var e=this,t=this._audioElement&&isFinite(this._audioElement.duration),n=0,r=null;return this._audioElement&&t&&(n=this.state.currentTime/this._audioElement.duration*100,r=Ht()(Math.round(this._audioElement.duration))),Ne.a.createElement("div",{className:qt().e("time-line")},Ne.a.createElement("div",{className:qt().e("time").m({current:!0})},Ht()(Math.round(this.state.currentTime))),Ne.a.createElement("div",{className:qt().e("progress"),ref:function(t){e._progress=t}},Ne.a.createElement("div",{className:qt().e("progress-percent"),style:{width:n.toFixed(2)+"%"}})),Ne.a.createElement("div",{className:qt().e("time").m({duration:!0})},r))}},{key:"render",value:function(){var e,t;return Ne.a.createElement("div",{className:qt().m({ready:this.state.isReady,play:this.state.isPlaying,preload:this.props.preloadMeta,"hide-play":this.state.hidePlayButton,"detect-playability":this.props.detectPlayability,"can-play":this.state.canPlay,theme:this.props.theme})},Ne.a.createElement("div",{className:qt().e("resource"),onClick:this._onPlayPauseButtonClick},Ne.a.createElement(Ot.default,{cls:qt().e("resource-icon"),size:"l",mediatype:"audio",shadow:!0}),Ne.a.createElement(St.Button,{view:"dark",pin:"circle-circle",size:"xxl","aria-label":this.state.isPlaying?null===(e=this.props.ariaLabels)||void 0===e?void 0:e.pause:null===(t=this.props.ariaLabels)||void 0===t?void 0:t.play,className:qt().e("play-pause-button"),icon:this.state.isPlaying||this.state.requestingUrl?zt:Ft})),Ne.a.createElement(At,{name:this.props.resourceName,cls:qt().e("resource-name")}),this._getTimeLine())}}]),n})(Me.Component),Jt=function(){};Kt.defaultProps={isTouch:!1,theme:"light",preloadMeta:!1,onPlayStateChange:Jt,onPlayError:Jt,onAudioEnded:Jt};var Zt=Kt,Xt=n(59),Qt=n(15),en=n(502),tn=n(112),nn=n(29);function rn(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var on=(function(e){ke()(n,e);var t=rn(n);function n(e){var r;return we()(this,n),(r=t.call(this,e))._playerStoppedByResourceChange=!1,r._requestAudioUrl=r._requestAudioUrl.bind(Te()(r)),r._onPlayStateChange=r._onPlayStateChange.bind(Te()(r)),r._onAudioEnded=r._onAudioEnded.bind(Te()(r)),r}return Ce()(n,[{key:"_stopPlayerOnResourceChange",value:function(){this._playerStoppedByResourceChange=!0,this._player&&this._player.toggleIsPlaying(!1)}},{key:"componentDidUpdate",value:function(e){"slider"===e.dialog&&!this.props.dialog&&this._player&&this._player.toggleIsPlaying(!1),e.idDialog!==this.props.idDialog&&e.idDialog===this.props.resourceId&&this._stopPlayerOnResourceChange(),"slider"===this.props.dialog&&this.props.autoplay&&e.idDialog!==this.props.idDialog&&this.props.idDialog===this.props.resourceId&&this._player&&(this._player.maybeResetCurrentTime(),this._player.toggleIsPlaying(!0))}},{key:"_onPlayStateChange",value:function(e){var t=e.isPlaying;this._playerStoppedByResourceChange?this._playerStoppedByResourceChange=!1:this.props.idDialog===this.props.resourceId&&this.props.updateSettings({autoplayAudio:t})}},{key:"_onAudioEnded",value:function(){this.props.playNextAudio()}},{key:"_requestAudioUrl",value:function(){return this.props.maybeBlockAction()?Promise.reject():Object(Qt.fetchResourceUrl)({idResource:this.props.resourceId,inline:!0})}},{key:"render",value:function(){var e=this;return Ne.a.createElement(Zt,{ref:function(t){e._player=t},theme:"dark",autoplay:this.props.autoplay&&this.props.idDialog===this.props.resourceId,isTouch:this.props.isMobile,resourceName:this.props.resourceName,requestAudioUrl:this._requestAudioUrl,onPlayStateChange:this._onPlayStateChange,onAudioEnded:this._onAudioEnded,ariaLabels:{play:"Прослушать",pause:"Пауза"}})}}]),n})(Me.Component),an={playNextAudio:en.d,updateSettings:Xt.updateSettings,maybeBlockAction:nn.maybeBlockAction},sn=Object(De.connect)((function(e,t){var n=t.resourceId,r=e.resources,i=e.page,o=i.idDialog,a=i.dialog,s=e.environment.agent.isMobile,u=e.settings.autoplayAudio,c=r[n]||{};return{dialog:a,idDialog:o,resourceId:c.id,resourceName:c.name||"",isMobile:s,autoplay:u&&!Object(tn.shouldRestrict)(e,{forLite:!0})}}),an)(on),un=n(142),cn=n.n(un),ln=n(1157),dn=n.n(ln),fn=n(68);n(1942);function pn(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var hn,mn=function(){return Pt()()("video-player")},vn={BUFFERING:"buffering",PLAY:"play",PAUSE:"pause"},gn=!1,yn=(function(e){ke()(n,e);var t=pn(n);function n(e){var r;return we()(this,n),(r=t.call(this,e))._waitPlayerReadyToPlay=!1,r.state={videosReady:Boolean(r.props.videos),apiReady:gn,isPlaybackInProgress:!1,isPlayerSkinSeeking:!1,hidePreview:!1,width:void 0,height:void 0},r._onPlayerReady=r._onPlayerReady.bind(Te()(r)),r._onPlayerStateChange=r._onPlayerStateChange.bind(Te()(r)),r._onPlayerSkinSeeking=r._onPlayerSkinSeeking.bind(Te()(r)),r._onPlayerSkinSeeked=r._onPlayerSkinSeeked.bind(Te()(r)),r._onWindowResize=r._onWindowResize.bind(Te()(r)),r._onOverlayClicked=r._onOverlayClicked.bind(Te()(r)),r._nodeRef=r._nodeRef.bind(Te()(r)),r._videoContainerRef=r._videoContainerRef.bind(Te()(r)),r._onKeyDown=r._onKeyDown.bind(Te()(r)),r._onPointerEvent=r._onPointerEvent.bind(Te()(r)),r._aspectRatio=0,r}return Ce()(n,[{key:"componentDidMount",value:function(){var e=this;hn||(hn=dn()({src:this.props.iframeApiURL})).catch((function(t){e.props.onError(t)})),gn||hn.then((function(){gn=!0,e.setState({apiReady:!0})})),this.state.videosReady&&this._startKeepAspectRatioHandling(this.props.videos)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._onWindowResize),this._onResizeRequest&&cancelAnimationFrame(this._onResizeRequest)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.state.videosReady&&e.videos&&e.videos.length&&(this._startKeepAspectRatioHandling(e.videos),this.setState({videosReady:!0})),e.forceDestroyPlayer&&this._playerInited&&this._destroyStreamPlayer()}},{key:"componentDidUpdate",value:function(e,t){var n;(t.width===this.state.width&&t.height===this.state.height||this.props.onPlayerResize(),!this._playerInited&&this.state.apiReady&&this.state.videosReady&&this.props.initPlayer&&!this.props.forceDestroyPlayer&&(this._onWindowResize(),this._initPlayer(),this.props.onPlayerResize()),this._isPlayerReady&&this.props.autoplay&&!e.autoplay)&&(this._streamPlayer.play(),null===(n=this._streamPlayer.skin)||void 0===n||n.focus())}},{key:"_initPlayer",value:function(){var e,t=this;this._playerInited=!0;var n=this.props.videos.find((function(e){return"adaptive"===e.dimension}));n&&(e=n.url),this._isPlayerReady=!1;var r={lang:this.props.lang,useFriendlyFrame:!0,version:this.props.videoPlayerVersion,source:{additionalParams:{from:"disk"},streams:[{url:e}],preview:this._getPreviewUrl()},element:this._videoContainer,autoplay:this.props.autoplay&&"preview"!==this.props.displayType,autoQuality:!1,size:{width:"100%",height:"100%"},skinParams:{skinConfig:{focusOnInit:!0,useVideoHeightAsName:!0}}};this._streamPlayer=window.Ya.playerApi.init(r),this._streamPlayer.on("Ready",this._onPlayerReady),this._streamPlayer.on("PlayingStateChange",this._onPlayerStateChange),this.props.autoplay&&this._onPlayerStateChange({playingState:vn.PLAY}),this._streamPlayer.on("SkinReady",(function(){var n=t._streamPlayer.skin;n&&(n.on("Seeking",t._onPlayerSkinSeeking),n.on("Seeked",t._onPlayerSkinSeeked),t.props.addExternalConfig&&n.updateExternalPlayerConfig({player_item_id:e,player_id:"disk"}))}))}},{key:"_onKeyDown",value:function(e){var t=[fn.Keys.SPACE,fn.Keys.LEFT,fn.Keys.UP,fn.Keys.RIGHT,fn.Keys.DOWN];return!(this._isPlayerReady&&this._streamPlayer&&"started"===this._streamPlayer.getState().startStage&&t.includes(e.keyCode))||(e.stopPropagation(),!1)}},{key:"_onPointerEvent",value:function(e){return!this._isPlayerReady||!this._streamPlayer||"started"!==this._streamPlayer.getState().startStage||(e.stopPropagation(),!1)}},{key:"_getPreviewUrl",value:function(){if(this._previewUrl)return this._previewUrl;if(this.props.previewBase){var e=this.props.videos.reduce((function(e,t){var n=t.size;return n&&(!e.height||e.height<n.height)?n:e}),{});return this._previewUrl=this.props.previewBase+"&size=".concat(e.width,"x").concat(e.height),this._previewUrl}}},{key:"_onOverlayClicked",value:function(){var e;this.props.preventOverlayClick&&this.props.preventOverlayClick()||("preview"===this.props.displayType&&this.setState({hidePreview:!0}),this._isPlayerReady?(this._streamPlayer.play(),null===(e=this._streamPlayer.skin)||void 0===e||e.focus(),this.setState({isPlaybackInProgress:!0}),this.props.onPlayChange(!0)):this._waitPlayerReadyToPlay=!0)}},{key:"_onPlayerReady",value:function(){var e;(this._isPlayerReady=!0,this.props.onPlayerReady(),this._waitPlayerReadyToPlay)&&(this._waitPlayerReadyToPlay=!1,this._streamPlayer.play(),null===(e=this._streamPlayer.skin)||void 0===e||e.focus());this._videoContainer&&(this._videoContainer.addEventListener("pointerdown",this._onPointerEvent),this._videoContainer.addEventListener("pointerup",this._onPointerEvent),this._videoContainer.addEventListener("pointermove",this._onPointerEvent),this._videoContainer.addEventListener("pointercancel",this._onPointerEvent),this._videoContainer.addEventListener("keydown",this._onKeyDown))}},{key:"_destroyStreamPlayer",value:function(){this._streamPlayer.destroy(),this._streamPlayer=null,this._playerInited=!1,this._isPlayerReady=!1,this.setState({hidePreview:!1,isPlaybackInProgress:!1}),this._videoContainer&&(this._videoContainer.removeEventListener("pointerdown",this._onPointerEvent),this._videoContainer.removeEventListener("pointerup",this._onPointerEvent),this._videoContainer.removeEventListener("pointermove",this._onPointerEvent),this._videoContainer.removeEventListener("pointercancel",this._onPointerEvent),this._videoContainer.removeEventListener("keydown",this._onKeyDown))}},{key:"_onPlayerStateChange",value:function(e){var t=e&&e.playingState,n=[vn.PLAY,vn.BUFFERING].includes(t),r=n!==this.state.isPlaybackInProgress;r&&this.setState({isPlaybackInProgress:n}),!this.state.isPlayerSkinSeeking&&r&&this.props.onPlayChange(n)}},{key:"_onPlayerSkinSeeking",value:function(){!this.state.isPlayerSkinSeeking&&this.setState({isPlayerSkinSeeking:!0})}},{key:"_onPlayerSkinSeeked",value:function(){this.state.isPlayerSkinSeeking&&this.setState({isPlayerSkinSeeking:!1})}},{key:"_hasOverlay",value:function(){var e=this.props.isMobile||!this.state.hidePreview;return("preview"===this.props.displayType||this.props.isMobile)&&!this.state.isPlaybackInProgress&&!this.state.isPlayerSkinSeeking&&e}},{key:"_getOverlay",value:function(){if(this._hasOverlay()){var e=this.props.isMobile;return Ne.a.createElement("div",{className:mn().e("overlay").m({mobile:e}),onClick:this._onOverlayClicked},this.state.hidePreview||"preview"!==this.props.displayType?null:Ne.a.createElement("button",{className:mn().e("overlay-button").m({mobile:e})},Ne.a.createElement(Lt,{iconSize:e?"xxl":"xxxl"})))}return null}},{key:"_startKeepAspectRatioHandling",value:function(e){var t=e[0].size;this._aspectRatio=t.width/t.height,window.addEventListener("resize",this._onWindowResize),this._onWindowResize()}},{key:"_onWindowResize",value:function(){var e=this;this._onResizeRequest=requestAnimationFrame((function(){if(e._node){var t,n;if("width"===e.props.fitTo)t=(n=e._node.offsetWidth)/e._aspectRatio;else{var r=getComputedStyle(e._node).maxHeight;(n=(t=Math.max(parseInt(r,10)||0,e._node.offsetHeight))*e._aspectRatio)>e._node.offsetWidth&&(t=(n=e._node.offsetWidth)/e._aspectRatio)}e.setState({width:n,height:t})}}))}},{key:"_nodeRef",value:function(e){this._node=e}},{key:"_videoContainerRef",value:function(e){this._videoContainer=e}},{key:"render",value:function(){var e,t=!1;if(this.state.apiReady&&this.state.videosReady){var n={};this.state.width&&(n={width:this.state.width+"px",height:this.state.height+"px"});var r=null,i=this._getPreviewUrl();"preview"!==this.props.displayType||this.state.hidePreview||(t=!0,i&&(t=!0,r=Ne.a.createElement("div",{className:mn().e("preview"),style:{backgroundImage:"url(".concat(i,")")}}))),e=Ne.a.createElement("div",{className:mn().e("container"),style:n},Ne.a.createElement("div",{className:mn().e("player"),ref:this._videoContainerRef}),this._getOverlay(),r,this.props.toolbar||null)}else e=this.props.error?this.props.error:Ne.a.createElement(He.Spin,{view:"default",size:"l",progress:!0,className:mn().e("spin")});return Ne.a.createElement("div",{className:mn().m({"has-overlay":this._hasOverlay(),"preview-visible":t}).mix(this.props.cls),ref:this._nodeRef},e)}}]),n})(Me.Component);yn.defaultProps={initPlayer:!0,autoplay:!1,displayType:"player",fitTo:"width",onStateChange:cn.a,onPlayChange:cn.a,onPlayerResize:cn.a,onPlayerReady:cn.a,onError:cn.a,addExternalConfig:!1};var bn=yn;function _n(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var On=(function(e){ke()(n,e);var t=_n(n);function n(e){var r;return we()(this,n),(r=t.call(this,e))._preventOverlayClick=r._preventOverlayClick.bind(Te()(r)),r}return Ce()(n,[{key:"componentDidMount",value:function(){this.props.fetchVideoInfo(this.props.resourceId),D.default.count("interface elements","video","show")}},{key:"componentDidUpdate",value:function(e){this.props.forceDestroyPlayer&&!e.forceDestroyPlayer&&this.props.autoplay&&this.props.updateSettings({videoAutoPlayId:null})}},{key:"_preventOverlayClick",value:function(){return this.props.maybeBlockAction()}},{key:"render",value:function(){var e=this.props,t=e.resourceId,n=e.resources[t],r=n.defaultPreview,i=n.meta,o=i.videoInfo,a=i.videoInfoLoadFailed,s=o||{},u=s.streamId,c=s.videos,l=p.a.omit(this.props,["resourceId","resources"]);return Ne.a.createElement(bn,$e()({},l,{lang:"ru",displayType:l.autoplay?"player":"preview",previewBase:r,streamId:u,videos:c,error:a&&"Ошибка",addExternalConfig:!0,preventOverlayClick:this._preventOverlayClick}))}}]),n})(Me.PureComponent),En={fetchVideoInfo:Qt.fetchVideoInfo,updateSettings:Xt.updateSettings,maybeBlockAction:nn.maybeBlockAction},wn=Object(De.connect)((function(e,t){var n=t.resourceId,r=t.forceDestroyPlayer,i=e.config,o=i.links.videoPlayerIframeApi,a=i.videoPlayerVersion,s=e.settings.videoAutoPlayId;return{resources:e.resources,iframeApiURL:o,videoPlayerVersion:a,autoplay:s===n&&!Object(tn.shouldRestrict)(e,{forLite:!0}),forceDestroyPlayer:r}}),En)(On),Sn=n(557),Cn=n(932),xn=n(504),Tn=n.n(xn),Pn=n(595),kn=n(336),jn=n(210),Rn=n(359),In=n(348),An=n(360),Dn=n(505),Mn=n(506),Nn=n(361),Ln=n(362),Fn=n(213),Bn=n(259),Un=n(921),zn=n(922),Vn=n(507),Hn=n(1159),Wn=n.n(Hn),$n=(n(147),n(209)),Gn=n(36),qn=n(156),Yn=n(125),Kn=n(258),Jn=n(98),Zn=n(596);function Xn(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var Qn=(function(e){ke()(n,e);var t=Xn(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return Ne.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.021 17.174a600.2 600.2 0 002.19-2.165l.315-.315c.95-.955 1.706-1.729 2.317-2.374 1.493-1.58 1.537-3.872.162-5.32-1.273-1.339-3.281-1.333-4.547.014L12 8.564l-.728-.775-.73-.775C9.278 5.667 7.27 5.66 5.997 7c-1.376 1.447-1.33 3.74.161 5.318.647.683 1.422 1.477 2.317 2.374l.317.317c.364.364.961.955 2.183 2.16l.003.002L12 18.182l1.021-1.008zm6.433-11.551c2.121 2.231 2.053 5.732-.158 8.071-.624.66-1.391 1.445-2.354 2.413l-.317.317c-.366.365-.953.945-2.197 2.172l-1.724 1.702-.704.696-.703-.696-1.724-1.702-.003-.002c-1.227-1.21-1.825-1.8-2.194-2.17l-.317-.318a131.464 131.464 0 01-2.354-2.412c-2.211-2.339-2.28-5.84-.159-8.07C6.61 3.45 9.948 3.46 12 5.643c2.053-2.184 5.39-2.193 7.454-.021z",fill:"currentColor"})}}]),n})(Mt.default),er=Object(Mt.iconProvider)(Qn),tr=n(40),nr=n(95),rr=n(13),ir=n(65),or=n(215),ar=n(42),sr=function(e,t,n){return function(r){r(Object(Qt.setResourceData)(e,{state:t,itemId:n},"favorite"))}},ur=function(){return function(e,t){var n=t().personalAlbums;return n.favoriteAlbumId?Promise.resolve(n.favoriteAlbumId):Object(tr.a)("createFavoriteAlbum").then((function(t){return t?(e({type:rr.FETCH_ALBUM_SUCCESS,payload:{album:t}}),t.id):Promise.reject(null)}))}},cr=function(e){return e.favorite&&e.favorite.state},lr=Object(De.connect)(null,{updateFavoritesInfo:function(e){return function(t,n){var r=Object(qn.getSliderResources)(n()).sliderResources.filter((function(e){return void 0===e.favorite&&Object(W.can)(W.ADD_TO_ALBUM,e,n())}));if(r.length>100){var i=r.findIndex((function(t){return t.id===e.id}));r.splice(i+100),r.splice(0,r.length-100)}return t(Object(Qt.batchSetResourceData)(r.map((function(e){return[e.id,{state:!1},"favorite"]})))),t(function(e){return function(t,n){var r=n().resources,i=Object(or.a)(e).map((function(e){return r[e].meta.resource_id}));return i.length?Object(tr.a)("albumFindInFavorites",{resourceIds:JSON.stringify(i)}):Promise.resolve([])}}(r.map((function(e){return e.id})))).then((function(e){var n=r.reduce((function(t,n){var r=e.find((function(e){return e.resource_id===n.meta.resource_id}));return r&&t.push([n.id,{state:!0,itemId:r.item_id},"favorite"]),t}),[]);t(Object(Qt.batchSetResourceData)(n))}))}},toggleFavorite:function(e){return function(t){if(!t(Object(nn.maybeBlockAction)())){if(e.favorite&&e.favorite.state){var n=e.favorite.itemId;if(!n)return;return t(sr(e.id,!1,e.favorite.itemId)),Object(nr.api)("mpfs/bulk-album-item-remove",{operations:[{itemId:n}]}).then((function(n){var r;null!==(r=n[0])&&void 0!==r&&r.error?t(sr(e.id,!0,e.favorite.itemId)):t(ur()).then((function(n){t(Object(ir.removeItemsFromAlbum)(n,[e.id]))}))})).catch((function(n){n&&"HTTP_404"===n.id?t(sr(e.id,!1)):(t(sr(e.id,!0,e.favorite.itemId)),t(Object(ar.notify)({operation:"removeResourceAlbum",status:"failed"})))}))}return t(sr(e.id,!0)),t(ur()).then((function(n){t(Object(ir.addToAlbum)(e.id,n,{shouldShowNotification:!1})).then((function(n){n||t(sr(e.id,!1))}))})).catch((function(){t(Object(ar.notify)({operation:"addToAlbum",status:"failed",count:1,dst:{title:"Избранные"}})),t(sr(e.id,!1))}))}}}})(Ne.a.memo((function(e){var t=e.resource,n=e.updateFavoritesInfo,r=e.toggleFavorite,i=e.metrikaContext,o=e.className;Object(Me.useEffect)((function(){"slider"===i&&D.default.count("favorite","show",i,t.meta.mediatype)}),[t.id,t.meta.mediatype,i]),Object(Me.useEffect)((function(){void 0===t.favorite&&n(t)}),[t.id]);var a=cr(t);return Ne.a.createElement(St.Button,{view:"clear-inverse",size:"m",onClick:function(){D.default.count("favorite",cr(t)?"remove":"add",i),r(t)},disabled:(function(e){return e.favorite&&(e.favorite.state&&!e.favorite.itemId||!e.favorite.state&&Boolean(e.favorite.itemId))})(t),className:Pt()()("favorite-button").m({state:a?"on":"off"}).mix(o),"aria-label":a?"Убрать из избранного":"Добавить в избранное",icon:a?Zn.b:er})}))),dr=n(32),fr=n(81),pr=n(86);function hr(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var mr,vr=function(){return Pt()()("slider")},gr=[{id:W.PUBLISH,group:1,hidePriority:3},{id:W.EDIT,icon:An.editIconProvider,group:1},{id:W.TOGGLE_FAVORITES,group:1,hidePriority:3},{id:W.DOWNLOAD,icon:In.downloadIconProvider,group:1,hidePriority:1},{id:W.EXCLUDE_FROM_ALBUM,icon:Bn.unseenIconProvider,group:1,hidePriority:2},{id:W.EXCLUDE_FROM_GEO_ALBUM,icon:Bn.unseenIconProvider,group:1,hidePriority:2},{id:W.EXCLUDE_FROM_PERSONAL_ALBUM,icon:Bn.unseenIconProvider,group:1,hidePriority:2},{id:W.DELETE,icon:Fn.trashIconProvider,group:1},{id:W.COPY,icon:Rn.copy2IconProvider,group:2,hidden:!0},{id:W.MOVE,icon:Nn.moveIconProvider,group:2,hidden:!0},{id:W.RENAME,icon:Ln.renameIconProvider,group:2,hidden:!0},{id:W.GO_TO_FILE,icon:Dn.goToFileIconProvider,group:2,hidden:!0},{id:W.SET_AS_COVER,group:4,icon:Vn.coverIconProvider,hidden:!0},{id:W.SHOW_FULLSIZE,group:4,icon:zn.externalIconProvider,hidden:!0},{id:W.ADD_TO_ALBUM,icon:kn.addToAlbumIconProvider,group:4,hidden:!0},{id:W.FOTKI_INFO,group:10,icon:Un.noneIconProvider,hidden:!0},{id:W.VERSIONS,icon:Mn.historyIconProvider,group:6,hidden:!0}].map((function(e){return Object.assign({iconOnly:!0,text:W.titles[e.id]},e)})),br=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},_r=(function(e){ke()(n,e);var t=hr(n);function n(e){var r;return we()(this,n),(r=t.call(this,e)).state={viewport:br(),shouldSetToolbarVisible:!1,isOpenDrawer:!1,isIframeOpened:!1},r._updateViewport=function(){var e=br();r.setState({viewport:e})},r._updateViewportDebounced=p.a.debounce(r._updateViewport,250),r._closeSlider=r._closeSlider.bind(Te()(r)),r._onCloseButtonClick=r._onCloseButtonClick.bind(Te()(r)),r._handleActiveResourceChange=r._handleActiveResourceChange.bind(Te()(r)),r._onActionButtonClick=r._onActionButtonClick.bind(Te()(r)),r._onMoreButtonClick=r._onMoreButtonClick.bind(Te()(r)),r._getToolbarChildren=r._getToolbarChildren.bind(Te()(r)),r._onFirstPreviewLoad=r._onFirstPreviewLoad.bind(Te()(r)),r._dropdownRefs={},r._closeAllDropdowns=r._closeAllDropdowns.bind(Te()(r)),r.sliderRef=Ne.a.createRef(),r}return Ce()(n,[{key:"_onSliderOpenedChange",value:function(e){e?(this._updateViewport(),window.addEventListener("orientationchange",this._updateViewportDebounced),window.addEventListener("resize",this._updateViewportDebounced),this.props.isIosSafari&&window.addEventListener("orientationchange",this._closeAllDropdowns)):(window.removeEventListener("orientationchange",this._updateViewportDebounced),window.removeEventListener("resize",this._updateViewportDebounced),this.props.isIosSafari&&window.removeEventListener("orientationchange",this._closeAllDropdowns))}},{key:"componentDidMount",value:function(){this.props.sliderOpened&&(this._onSliderOpenedChange(!0),this._fetchSliderResource())}},{key:"componentDidUpdate",value:function(e){var t,n,r=this.props,i=r.currentSliderResource,o=r.sliderOpened;null===e.currentSliderResource&&"compressed"===(null===i||void 0===i||null===(t=i.meta)||void 0===t?void 0:t.mediatype)?this.setState({isOpenDrawer:!0,isIframeOpened:!0}):(null===(n=e.currentSliderResource)||void 0===n?void 0:n.id)!==(null===i||void 0===i?void 0:i.id)&&this.setState({isIframeOpened:!1}),!e.sliderOpened&&o&&(B.a.reachBlockAndFinishCollectTimings("slider"),this._fetchSliderResource())}},{key:"componentWillUnmount",value:function(){this.props.sliderOpened&&this._onSliderOpenedChange(!1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.currentSliderResource&&e.currentSliderResource.id,n=this.props.currentSliderResource&&this.props.currentSliderResource.id,r=e.currentSliderResource?e.currentSliderResource.meta.mediatype:"unknown";t&&t!==n&&(this._countMetrika("show",r),this._closeAllDropdowns());var i=t!==n&&e.sliderResourceView===ze.RESOURCE_VIEWS.VIDEO;i!==this.state.shouldSetToolbarVisible&&this.setState({shouldSetToolbarVisible:i}),e.sliderOpened!==this.props.sliderOpened&&(this._onSliderOpenedChange(e.sliderOpened),e.sliderOpened&&e.currentSliderResource&&this._countMetrika("open",r))}},{key:"_fetchSliderResource",value:function(){var e=this;this.props.currentSliderResource||this.props.fetchSliderResourceIfNeed().then((function(){e.props.currentSliderResource&&e._countMetrika("open",e.props.currentSliderResource.meta.mediatype)}))}},{key:"_getMetrikaBranch",value:function(){var e=this.props,t=e.idContext,n=e.photoMetrikaSection,r=e.currentAlbumType;return"/photo"===t?n:0===t.indexOf("/album/")?["album",r]:0===t.indexOf("/remember/")?["photo block"]:["files"]}},{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];D.default.count.apply(D.default,["interface elements","slider"].concat(m()(this._getMetrikaBranch()),t))}},{key:"_closeSlider",value:function(e){var t=this.props.currentSliderResource&&this.props.currentSliderResource.id;this.props.closeNsDialog("slider"),this._countMetrika("close",e),this.props.updateSettings({autoplayAudio:!1}),this.props.shouldScrollToResource.shouldScroll&&t&&this.props.setScrollToResource(t,this.props.shouldScrollToResource.shouldSelect)}},{key:"_onCloseButtonClick",value:function(){this._closeSlider(vt.BUTTON)}},{key:"_getCloseButton",value:function(){return Ne.a.createElement(St.Button,{className:vr().e("button").m({close:!0}),onClick:this._onCloseButtonClick,size:"m",view:"clear-inverse","aria-label":"Закрыть",icon:jn.close2IconProvider})}},{key:"_handleActiveResourceChange",value:function(e,t,n){this.props.moveSlider(t),this._countMetrika(t>0?"next image":"previous image",n)}},{key:"_getPublishButton",value:function(){var e,t=this.props.currentSliderResource;return Ne.a.createElement(Sn.a,{onlyIcon:!0,onlyIconButtonProps:{view:"clear-inverse"},key:W.PUBLISH,objectIds:[t.id],metrikaContext:["slider"].concat(m()(this._getMetrikaBranch())),dropdownRef:this._setDropdownRef.bind(this,"publish"),shareDialogScope:{current:null===(e=this.sliderRef)||void 0===e||null===(e=e.current)||void 0===e?void 0:e.getContainerRef()}})}},{key:"_onActionButtonClick",value:function(e){this.props.onAction(e),this._countMetrika(e,this.props.currentSliderResource.meta.mediatype)}},{key:"_onMoreButtonClick",value:function(){this.props.isIosSafari&&window.dispatchEvent(new Event("resize")),this._countMetrika("actions dropdown","show")}},{key:"_getActions",value:function(){var e=this,t=this.props,n=t.currentSliderResource,r=t.currentAlbumType,i=t.actions,o=t.isMobile,a=t.isIosSafari;if(!n)return null;var s=gr.filter((function(e){return Boolean(i[e.id])})),u=Ne.a.createElement(Cn.default,{theme:"clear-inverse",metrikaContext:["slider"].concat(m()(this._getMetrikaBranch())),resource:n,isIosSafari:a,iconOnly:!0,createRef:this._setDropdownRef.bind(this,"info")});return s.length&&s.unshift({content:u,iconOnly:!0,group:1,hidePriority:3,id:"info",text:"Информация"}),s=s.map((function(t){return Object.assign({},t,i[t.id],t.id===W.PUBLISH?{content:function(t){return!t&&e._getPublishButton()}}:null,t.id===W.TOGGLE_FAVORITES?{content:function(e){return!e&&Ne.a.createElement(lr,{resource:n,metrikaContext:"slider",className:vr().e("favorite-button")})}}:null,t.id===W.COPY&&"family"===r?{group:1,hidePriority:1,hidden:!1}:null,i[t.id]&&!i[t.id].text?{text:Object(W.getTitle)(t.id,[n])}:null)})),Ne.a.createElement(Dt.default,{view:"clear-inverse",ref:this._setDropdownRef.bind(this,"groupable"),key:"groupable-buttons",buttons:s,onMoreOpen:this._onMoreButtonClick,onButtonClick:this._onActionButtonClick,moreButtonsText:"Ещё",isMobile:o,isIosSafari:a,useMobilePane:o,collapsible:!0})}},{key:"_getSliderResource",value:function(e){var t=this,n=e.id,r=e.name,i=e.meta,o=i.mediatype,a=i.sizes,s=Object(Ue.resourceView)(e),u={id:n,name:r,mediatype:o},c=this.props,l=c.setNsLoadPreviewError,d=c.editResource,f=c.openDv,p=c.currentSliderResource,h=p.id===n;switch(s){case ze.RESOURCE_VIEWS.IMAGE:u.previewBaseUrl=e.defaultPreview,u.originalUrl=e.xxxlPreview,this.props.useSrcSet&&(u.srcSet=Object(Kn.b)(a),u.srcSetFallback=Object(Kn.a)(a,"L")),this.props.fitToWidthPreviews&&(u.fitToWidth=!0);break;case ze.RESOURCE_VIEWS.VIDEO:u.content=function(e){var r=e.setToolbarVisible;return Ne.a.createElement(wn,{initPlayer:h,forceDestroyPlayer:!h,fitTo:"height",resourceId:n,isMobile:t.props.isMobile,onPlayChange:function(e){r(!e)}})};break;case ze.RESOURCE_VIEWS.AUDIO:u.content=Ne.a.createElement(sn,{resourceId:n});break;default:var m,v={imageSize:Math.min(this.state.viewport.width-80,this.state.viewport.height),resource:e,onImageLoadError:function(){return l(n)}},g=this.props.canViewResource(e),y=this.props.canEditResource(e),b="compressed"===e.meta.mediatype;(g||y)&&Object.assign(v,{openWith:{onClick:function(){!b||e.id!==p.id||t.state.isOpenDrawer&&t.state.isIframeOpened||!g?y?(d(e.id),t._countMetrika("edit from preview",o)):b?(t.setState({isOpenDrawer:!0,isIframeOpened:!0}),t._countMetrika("view acrhive in slider",o)):(f(n),t._countMetrika("view in DV",o)):(t._countMetrika("open",o),t.setState({isOpenDrawer:!0,isIframeOpened:!0}))}},openButtonPosition:"bottom",openButtonVisible:!0,openButtonText:y?"Редактировать":"Просмотреть"});var _=Ne.a.createElement("div",{className:vr().e("default-content")},Ne.a.createElement(It,v),Ne.a.createElement(At,{name:r}));if(b&&e.id===p.id&&g){var O=Object(Pn.getDvSliderUrl)({id:e.id,name:e.name,isVicariousDoc:e.isVicariousDoc,public_hash:e.meta.public_hash,docviewer:this.props.docviewer,isDark:this.props.isDark}),E=Ne.a.createElement(Wn.a,{isMobile:!1,dvUrl:O});m=this.state.isIframeOpened?E:_}else m=_;u.content=m}return u}},{key:"_setDropdownRef",value:function(e,t){this._dropdownRefs[e]=t}},{key:"_closeAllDropdowns",value:function(){var e=this;Object.keys(this._dropdownRefs).forEach((function(t){return e._dropdownRefs[t]&&e._dropdownRefs[t].closeDropdown()}))}},{key:"_getToolbarChildren",value:function(e){return[Ne.a.createElement(bt.ToolbarRight,{key:"right"},e?null:this._getActions(),this._getCloseButton())]}},{key:"_onFirstPreviewLoad",value:function(){this.props.sliderFirstPreviewFinished(Date.now())}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentSliderResource,r=t.isMobile,i=t.sliderOpened,o=t.sliderResources,a=t.hasOpenedDialogs,s=t.possiblyHasPrevious,u=t.possiblyHasNext,c=t.fetchSliderResources,l=t.useSrcSet;if(!i)return null;var d={content:Ne.a.createElement(He.Spin,{view:"default",size:"l",progress:!0})},f=[];return n&&0!==o.length?o.forEach((function(t){var r=e._getSliderResource(t);t.id===n.id&&(d=r),f.push(r)})):f.push(d),Ne.a.createElement(bt,{ref:this.sliderRef,cls:vr().mix([Ve.LISTING_PREVENT_DESELECT_CLASS,_t.a]),activeResource:d,onClose:this._closeSlider,resources:f,possiblyHasPrevious:s,possiblyHasNext:u,fetchResources:c,arrowLabels:{left:"Предыдущий файл",right:"Следующий файл"},shouldSetToolbarVisible:this.state.shouldSetToolbarVisible,shouldHideToolbar:this.state.isOpenDrawer&&!1,onActiveResourceChange:this._handleActiveResourceChange,showSwitchArrows:!r,showBackgroundWhileLoadNext:!r,enableKeyboardControl:!a,enabledGestures:r?[mt.SWIPE_TO_CLOSE,mt.SWIPE_TO_CHANGE,mt.DOUBLE_TAP_TO_ZOOM,mt.PINCH_TO_ZOOM,mt.MOVE_ZOOMED]:[mt.MOVE_ZOOMED,mt.WHEEL_TO_ZOOM],toolbarChildren:this._getToolbarChildren,viewportSize:this.state.viewport,onZoomStateChange:this._closeAllDropdowns,useSrcSet:l,disableTapOnSelectors:[".video-player__touch-overlay"],onFirstPreviewLoad:this._onFirstPreviewLoad})}}]),n})(Me.Component),Or={closeNsDialog:nn.closeNsDialog,moveSlider:en.c,setNsLoadPreviewError:Qt.setNsLoadPreviewError,setScrollToResource:Qt.setScrollToResource,openDv:Qt.openDv,editResource:Qt.editResource,fetchSliderResourceIfNeed:Qt.fetchSliderResourceIfNeed,fetchSliderResources:en.a,updateSettings:Xt.updateSettings,sliderFirstPreviewFinished:$n.sliderFirstPreviewFinished},Er=Tn()(Object(De.connect)((function(e){var t=Object(Gn.getCurrentSliderResource)(e),n=e.environment.agent,r=e.config.urlsBase.docviewer,i=Object(qn.getSliderResources)(e),o=i.sliderResources,a=i.possiblyHasPrevious,s=i.possiblyHasNext;return{filter:e.page.filter,idContext:e.page.idContext,currentSliderResource:t,isIosSafari:"iOS"===n.OSFamily&&"Safari"===n.BrowserBase,isMobile:n.isMobile,shouldScrollToResource:Object(Gn.shouldScrollToResource)(e),sliderOpened:Object(Gn.getSliderStateOpened)(e),sliderResourceView:Object(Ue.resourceView)(t),sliderResources:o,possiblyHasPrevious:a,possiblyHasNext:s,currentResource:Object(Gn.getCurrentResource)(e),hasOpenedDialogs:Object(Yn.hasOpenedDialogs)(e),photoMetrikaSection:Object(Jn.getMetrikaSection)(e),canViewResource:function(t){return Object(W.can)(W.VIEW,t,e)},canEditResource:function(t){return Object(W.can)(W.EDIT,t,e)},currentAlbumType:Object(dr.getCurrentAlbumType)(e),isDark:Object(fr.isContentDark)(Object(pr.getThemeName)(e)),docviewer:r}}),Or)(_r),(function(e){var t=Object(Gn.getCurrentSliderResource)(e);return t?[t]:[]})),wr=n(1160),Sr=n.n(wr),Cr=n(597);function xr(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}n(2019),mr=n(2021),ns.View.define("widgetsWrap"),ns.layout.define("react-widgets",{widgetsWrap:{"widgets@":function(e){var t={};return e.isOpenedDropzone?(t.dropzone=!0,t):t}}});var Tr=(function(e){ke()(n,e);var t=xr(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"componentDidMount",value:function(){mr.bindDragEvents()}},{key:"componentWillUnmount",value:function(){mr.unBindDragEvents()}},{key:"render",value:function(){return Ne.a.createElement(Cr.a,{overrideParams:this.props,viewName:"widgetsWrap",layoutName:"react-widgets"})}}]),n})(Me.Component),Pr=Object(De.connect)((function(e){return{isOpenedDropzone:Object(Yn.isDialogOpened)(e,"dropzone"),isDocsPage:Object(Q.isDocsPage)(e)}}))(Tr),kr=n(1161),jr=n.n(kr),Rr=n(257),Ir=n(508),Ar=n(517);n(2042);function Dr(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var Mr=function(){return Pt()()("operations-progress")},Nr={copy:Rn.default,move:Nn.default,delete:Fn.default,restore:Ir.default},Lr={wait:{multi:"Идет подготовка. Пожалуйста, подождите",copy:"Подготовка к копированию. Пожалуйста, подождите",move:"Подготовка к перемещению. Пожалуйста, подождите",delete:"Подготовка к удалению. Пожалуйста, подождите",restore:"Подготовка к восстановлению. Пожалуйста, подождите","wfolio-create-project":"Подготовка к созданию проекта Wfolio. Пожалуйста, подождите","wfolio-delete-project":"Подготовка к  удалению проекта Wfolio. Пожалуйста, подождите"},start:{multi:"Операции начались",copy:"Копирование началось",move:"Перемещение началось",delete:"Удаление началось",restore:"Восстановление началось","wfolio-create-project":"Создаётся проект Wfolio","wfolio-delete-project":"Удаляется проект Wfolio"},progress:{multi:function(e,t){return"Обработано "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},createAlbum:function(){return"Создается альбом"},addToAlbum:function(){return"Файлы добавляются в альбом"},mergeAlbums:function(){return"Альбомы объединяются"},cleanTrash:function(){return"Очистка Корзины"},copy:function(e,t){return 1===e?"Копируется":"Скопировано "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},move:function(e,t){return 1===e?"Перемещается":"Перемещено "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},delete:function(e,t){return 1===e?"Удаляется":"Удалено "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},restore:function(e,t){return 1===e?"Восстановление":"Восстановлено  "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},rename:function(e,t){return 1===e?"Переименовывается":"Переименовано "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},excludeFromAlbum:function(e,t){return 1===e?"Скрыто 1 фото":"Скрыто "+__i18n__.i18n.convert([yr.externals.entityify(t)+" фото",yr.externals.entityify(t)+" фото",yr.externals.entityify(t)+" фото",yr.externals.entityify(t)+" фото"],yr.externals.entityify(t))+" из "+yr.externals.entityify(e)},"wfolio-create-project":function(e,t){return 1===e?"Создаётся проект Wfolio":"Создано проектов: "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)},"wfolio-delete-project":function(e,t){return 1===e?"Удаляется проект Wfolio":"Удалено проектов: "+yr.externals.entityify(t)+" из "+yr.externals.entityify(e)}}},Fr=(function(e){ke()(n,e);var t=Dr(n);function n(e){var r;return we()(this,n),(r=t.call(this,e))._closeTimer=null,r.state={allOperationsRequested:!1,typeRequestedOperations:null},r._resetStartedState=r._resetStartedState.bind(Te()(r)),r}return Ce()(n,[{key:"componentDidUpdate",value:function(e){var t=this;e.hasStartingOperations&&!this.props.hasStartingOperations&&Lr.start[this.props.activeOperationsType]&&!this.props.contextOperationsData&&(this.setState({allOperationsRequested:!0,typeRequestedOperations:this.props.activeOperationsType}),this._closeTimer=setTimeout((function(){t._resetStartedState()}),5e3)),this._closeTimer&&(this.props.contextOperationsData||this.props.hasStartingOperations)&&this._resetStartedState()}},{key:"_resetStartedState",value:function(){this.setState({allOperationsRequested:!1,typeRequestedOperations:null}),this._closeTimer&&clearTimeout(this._closeTimer),this._closeTimer=null}},{key:"_getIcon",value:function(){var e=Nr[this.state.typeRequestedOperations||this.props.activeOperationsType];return e?Ne.a.createElement("div",{className:Mr().e("icon")},Ne.a.createElement(e,null)):null}},{key:"_getContent",value:function(){var e,t=this.props,n=t.hasStartingOperations,r=t.activeOperationsType,i=t.contextOperationsData;if(n)e=Lr.wait[r];else if(i){var o=i.total,a=i.finished,s=i.type;e=Lr.progress[s]&&Lr.progress[s](o,a)}else this.state.allOperationsRequested&&(e=Lr.start[this.state.typeRequestedOperations]);return Ne.a.createElement("div",{className:Mr().e("content")},this.state.allOperationsRequested&&!i?this._getIcon():Ne.a.createElement(He.Spin,{className:Mr().e("spin"),size:"xxs",view:"dark",progress:!0}),Ne.a.createElement("div",{className:Mr().e("text")},e))}},{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.hasStartingOperations,r=e.activeOperationsType,i=e.contextOperationsData;return r&&(n||this.state.allOperationsRequested||i)?Ne.a.createElement("div",{className:Mr().m({mobile:t})},Ne.a.createElement(Rr.MessageBox,{view:"default",size:"l",onClose:this.state.allOperationsRequested&&!i?this._resetStartedState:void 0},Ne.a.createElement(Rr.Wrapper,{align:"left"},this._getContent()))):null}}]),n})(Me.Component),Br=Object(De.connect)((function(e){return{isMobile:e.environment.agent.isMobile,hasStartingOperations:Object(Ar.hasStartingOperations)(e),activeOperationsType:Object(Ar.getActiveOperationsType)(e),contextOperationsData:Object(Ar.getContextOperationsData)(e)}}))(Fr),Ur=n(1126),zr=n(1162),Vr=n.n(zr),Hr=n(1163),Wr=n.n(Hr),$r=n(141),Gr=Object($r.default)({loader:function(){return n.e(9).then(n.bind(null,2426))},webpack:function(){return[2426]},modules:["./listing"]}),qr=(n(2059),n(63)),Yr=n.n(qr),Kr=n(148);function Jr(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var Zr=function(){return Pt()()("direct")},Xr=(function(e){ke()(n,e);var t=Jr(n);function n(e){var r;return we()(this,n),(r=t.call(this,e)).state={blockId:null,renderIframe:!1,isDark:e.isDark},r._onReceiveMessage=r._onReceiveMessage.bind(Te()(r)),r._checkDirectVisibilityDebounced=p.a.debounce(r._checkDirectVisibility.bind(Te()(r)),250),r._updatedAt=0,r}return Ce()(n,[{key:"_setUpdateTime",value:function(){this._updatedAt=Date.now()}},{key:"_onReceiveMessage",value:function(e){var t=e.data||{},n=t.id,r=t.type;n===this._getSearchParams()&&this._iframe&&("click"===r&&this._iframe.click(),"mouseup"===r&&document.dispatchEvent(new Event("mouseup")))}},{key:"_getSearchParams",value:function(){var e=this.props.nonce;return"?"+[e&&"nonce="+e,this.state.blockId&&"type="+this.state.blockId,this.state.isDark&&"dark=1"].filter(Boolean).join("&")}},{key:"_checkDirectVisibility",value:function(){var e=Boolean(this._container&&this._container.offsetParent);if(e&&this._container){var t=this._getBlockId();t&&(this.setState({blockId:t,renderIframe:!0}),window.removeEventListener("resize",this._checkDirectVisibilityDebounced))}return e}},{key:"_getBlockId",value:function(){return this._container?this._getBlockTypeByWidth(this._container.getBoundingClientRect().width):null}},{key:"_getBlockTypeByWidth",value:function(e){var t=this.props.isDark;return e<1030?t?"R-I-104220-183":"R-I-104220-182":e<1350?t?"R-I-104220-164":"R-I-104220-163":t?"R-I-104220-167":"R-I-104220-166"}},{key:"componentDidMount",value:function(){window.addEventListener("message",this._onReceiveMessage),this._checkDirectVisibility()||window.addEventListener("resize",this._checkDirectVisibilityDebounced),this._setUpdateTime()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this._onReceiveMessage),this._checkDirectVisibilityDebounced.cancel()}},{key:"componentDidUpdate",value:function(e){if(this.state.renderIframe&&e.isDark!==this.props.isDark){var t=this._getBlockId();if(t)return this.setState({blockId:t,isDark:this.props.isDark}),void this._setUpdateTime()}if(Date.now()-this._updatedAt>3e4&&this._iframe&&this._iframe.contentWindow)try{this._iframe.contentWindow.location.reload(!0),this._setUpdateTime()}catch(e){Object(Kr.log)({event:"directFrameReloadCatch",error:e.message,iframeSrc:this._iframe.getAttribute("src")})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.position,i=t.tuningUrl;return Ne.a.createElement("div",{className:Zr().m({position:r}).mix(n),ref:function(t){e._container=t}},this.state.renderIframe?[Ne.a.createElement("iframe",{key:"iframe",className:Zr().e("iframe"),ref:function(t){e._iframe=t},scrolling:"no",src:"/direct.html".concat(this._getSearchParams())}),"top"===r?null:Ne.a.createElement("div",{className:Zr().e("remove-ads"),key:"remove-ads"},Ne.a.createElement(wt.Link,{href:"".concat(Yr.a.addParams(i,{from:"disk_direct"})),onClick:function(){D.default.count("interface elements","disable ad")},view:"default"},"Отключить рекламу"))]:null)}}]),n})(Me.Component),Qr=Object(De.connect)((function(e){return{isDark:Object(fr.isContentDark)(Object(pr.getThemeName)(e))}}))(Xr),ei=Object($r.default)({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,2427))},webpack:function(){return[2427]},modules:["./photo2"]}),ti=Object($r.default)({loader:function(){return n.e(3).then(n.bind(null,2430))},webpack:function(){return[2430]},modules:["./albums2"]}),ni=Object($r.default)({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,2428))},webpack:function(){return[2428]},modules:["./album2"]}),ri=n(374),ii=n(354);function oi(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var ai=function(){return Pt()()("albums2")},si=(function(e){ke()(n,e);var t=oi(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"componentDidMount",value:function(){D.default.count("interface elements","geo meta-album","show")}},{key:"render",value:function(){var e=this.props.isMobile;return Ne.a.createElement("div",{className:ai().m({mobile:e,desktop:!e,geo:!0})},Ne.a.createElement(ri.default,{cls:ai().e("header"),title:"Места и поездки",backUrl:"/client/albums",mode:"normal"}),Ne.a.createElement(ii.default,{albumType:"geo"}))}}]),n})(Me.Component),ui=Object(De.connect)((function(e){return{isMobile:e.environment.agent.isMobile}}))(si),ci=n(189),li=n(64),di=n(85),fi=n(126);function pi(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var hi=function(){return Pt()()("albums2")},mi=(function(e){ke()(n,e);var t=pi(n);function n(e){var r;return we()(this,n),(r=t.call(this,e)).state={menuOpened:!1},r._toggleMenu=r._toggleMenu.bind(Te()(r)),r._onHideFacesClick=r._onHideFacesClick.bind(Te()(r)),r._buttonRef=Ne.a.createRef(),r._onMenuItemClick=r._onMenuItemClick.bind(Te()(r)),r}return Ce()(n,[{key:"componentDidMount",value:function(){D.default.count("interface elements","faces meta-album","show")}},{key:"_toggleMenu",value:function(){this.setState({menuOpened:!this.state.menuOpened})}},{key:"_onHideFacesClick",value:function(){this._toggleMenu(),this.props.refuseAlbumsFaces()}},{key:"_onMenuItemClick",value:function(e){"hide-faces"===e.target.value&&this._onHideFacesClick()}},{key:"_getMenu",value:function(){return Ne.a.createElement(li.Menu,{view:"default",size:"m",wide:!0,onChange:this._onMenuItemClick},Ne.a.createElement(li.Item,{key:"hide-faces",value:"hide-faces"},"Отключить группировку фото по людям"))}},{key:"_getControls",value:function(){return this.props.canShowAlbumsFaces?Ne.a.createElement("div",{className:hi().e("controls")},Ne.a.createElement(St.Button,{innerRef:this._buttonRef,size:"s",view:"clear",className:hi().e("button"),"aria-label":"Ещё",onClick:this._toggleMenu,icon:ci.moreIconProvider}),Ne.a.createElement(di.Popup,{view:"default",visible:this.state.menuOpened,anchor:this._buttonRef,direction:["bottom-end"],onClose:this._toggleMenu,target:"anchor"},this._getMenu())):null}},{key:"render",value:function(){var e=this.props.isMobile;return Ne.a.createElement("div",{className:hi().m({mobile:e,desktop:!e,faces:!0})},Ne.a.createElement(ri.default,{cls:hi().e("header"),title:"Люди на фото",backUrl:"/client/albums",mode:"normal"},this._getControls()),Ne.a.createElement(ii.default,{albumType:"faces"}))}}]),n})(Me.Component),vi={refuseAlbumsFaces:fi.refuseAlbumsFaces},gi=Object(De.connect)((function(e){var t=e.environment.agent.isMobile;return{canShowAlbumsFaces:Object(dr.canShowAlbumsFaces)(e),isMobile:t}}),vi)(mi),yi=n(1164),bi=n.n(yi),_i=n(1165),Oi=n.n(_i);n(2118);function Ei(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var wi=n(79).I18N,Si=(function(e){ke()(n,e);var t=Ei(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"componentDidMount",value:function(){D.default.count("interface elements","error page",this.props.reason||"unknown reason")}},{key:"_onReloadClick",value:function(){window.location.reload()}},{key:"render",value:function(){return Ne.a.createElement("div",{className:Pt()()("error").m({mobile:this.props.isMobile})},Ne.a.createElement(wi,{loc:"Сервер временно недоступен, попробуйте "+yr.externals.entityify(wi.$1)},Ne.a.createElement(wt.Link,{view:"default",onClick:this._onReloadClick},"обновить страницу")))}}]),n})(Me.Component),Ci=Object(De.connect)((function(e){return{isMobile:e.environment.agent.isMobile,reason:e.page.originalNSParams.reason}}))(Si),xi=n(1166),Ti=n.n(xi),Pi=n(1167),ki=n.n(Pi),ji=n(583),Ri=n.n(ji),Ii=n(1168),Ai=n.n(Ii),Di=Object($r.default)({loader:function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,2429))},webpack:function(){return[2429]},modules:["./remember-block"]}),Mi=n(1169),Ni=n.n(Mi),Li=n(928),Fi=n.n(Li),Bi=(n(2189),{updateSettings:Xt.updateSettings}),Ui=Object(De.connect)((function(e){return{isMobile:e.environment.agent.isSmartphone}}),Bi)((function(e){var t=e.isMobile,n=e.updateSettings,r=Object(Me.useCallback)((function(){n({closedOverdraftScreen:!0})}),[n]);return Ne.a.createElement("div",{className:t?"b2b-free-screen-mobile":"b2b-free-screen"},Ne.a.createElement(Fi.a,{onClose:r}))})),zi=n(1170),Vi=n.n(zi),Hi=n(1171),Wi=n.n(Hi),$i=n(34),Gi=n(490),qi=n(44),Yi=n(57),Ki=n(104),Ji=n(945),Zi=(n(1184),n(365),n(103)),Xi=n.n(Zi),Qi=(n(2198),Object(De.connect)((function(e){return{dialogs:e.dialogs}}))((function(e){var t=e.dialogs,n=e.components,r=Object(Me.useState)(!1),i=Xi()(r,2),o=i[0],a=i[1];return Object(Me.useEffect)((function(){a(!0)}),[]),o?Ne.a.createElement(Ne.a.Fragment,null,Object.keys(t).filter((function(e){return Boolean(n[e])})).map((function(e){var r=n[e];return Ne.a.createElement(r,{key:e,dialog:t[e]})}))):null}))),eo=n(515),to=n(1172);function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oo(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=Ae()(e);if(t){var i=Ae()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Re()(this,n)}}var ao,so,uo,co,lo=function(){return Pt()()("root")};ao=n(2274).default,so=n(2304).default,uo=n(2306).default,co=n(2309).default;var fo=[];fo=n(2394).default;var po=["topbar"],ho=(function(e){ke()(n,e);var t=oo(n);function n(e,r){var i;return we()(this,n),(i=t.call(this,e,r)).state={contextMenuCreatePosition:null,isClient:!1},i._directMetrikaCounted=!1,i._onContextMenu=i._onContextMenu.bind(Te()(i)),i._onContextMenuCreatePopupClose=i._onContextMenuCreatePopupClose.bind(Te()(i)),i._closeChatWidget=i._closeChatWidget.bind(Te()(i)),i._setRef=i._setRef.bind(Te()(i)),i.getRef=i.getRef.bind(Te()(i)),i._setHideWidget=i._setHideWidget.bind(Te()(i)),i._ref=null,i}return Ce()(n,[{key:"_setRef",value:function(e){this._ref=e}},{key:"getRef",value:function(){return this._ref}},{key:"componentDidCatch",value:function(e){"error"!==this.props.page&&F.a.go("/client/error","preserve",{reason:"react_catch",error:e}),setTimeout((function(){throw e}))}},{key:"_maybeSaveScroll",value:function(e,t){(!e.isUploaderOpenedInTouch&&t.isUploaderOpenedInTouch||!e.isSuggestOpenedInTouch&&t.isSuggestOpenedInTouch||!e.isOverdraftScreenOpenedInTouch&&t.isOverdraftScreenOpenedInTouch)&&(this._savedScroll=window.pageYOffset)}},{key:"_maybeRestoreScroll",value:function(e,t){(e.isUploaderOpenedInTouch&&!t.isUploaderOpenedInTouch||e.isSuggestOpenedInTouch&&!t.isSuggestOpenedInTouch||e.isOverdraftScreenOpenedInTouch&&!t.isOverdraftScreenOpenedInTouch)&&Object(Ji.c)(this._savedScroll||0,{silent:!0})}},{key:"_maybeUpdateBodyThemeClasses",value:function(e,t){var n,r,i=Object(fr.getContentClassName)(t.themeName),o=Object(fr.getContentClassName)(e.themeName);i!==o&&((n=document.body.classList).remove.apply(n,m()(o.split(" "))),(r=document.body.classList).add.apply(r,m()(i.split(" "))))}},{key:"UNSAFE_componentWillUpdate",value:function(e){this._maybeSaveScroll(this.props,e)}},{key:"componentDidUpdate",value:function(e){!this._directMetrikaCounted&&this.props.idContext&&this.props.canShowWebClientAds&&(this.props.showWebClientAds?D.default.count("stat","ad","direct"):D.default.count("stat","ad","disable"),this._directMetrikaCounted=!0),this._maybeUpdateBodyThemeClasses(e,this.props),this._maybeRestoreScroll(e,this.props)}},{key:"componentDidMount",value:function(){this.setState(io(io({},this.state),{},{isClient:!0}))}},{key:"_onContextMenu",value:function(e){var t=[".".concat(Ve.LISTING_ITEM_CLASS),".".concat($i.PREVENT_CUSTOM_CONTEXT_MENU_CLASS),".popup2",".modal",".Popup2",".Modal",".direct",".footer"].join(", ");this.props.showContextMenu&&!e.target.closest(t)&&(e&&e.target&&e.target.dispatchEvent(new Event("click",{bubbles:!1})),e.preventDefault(),this.setState(io(io({},this.state),{},{contextMenuCreatePosition:{x:e.pageX,y:e.pageY}})),D.default.count("context menu","empty","show"))}},{key:"_onContextMenuCreatePopupClose",value:function(){this.setState(io(io({},this.state),{},{contextMenuCreatePosition:null}))}},{key:"_setHideWidget",value:function(e){this._hideWidget=e}},{key:"_closeChatWidget",value:function(){var e;null===(e=this._hideWidget)||void 0===e||e.call(this)}},{key:"_getDefaultContent",value:function(){var e=this.props,t=e.page,n=e.whiteInnerContent,r=e.hideFooter,i=e.noBorderRadius,o=e.nonce,a=e.tuningUrl,s=e.shouldShowOverdraftBlock,u=e.shouldShowB2bFreeBlock,c=e.isReadOnlyActive,l=e.readOnlyType,d=e.isMobile,f=e.readOnlyUrl,p="listing"===t&&this.props.canShowWebClientAds&&this.props.showWebClientAds;return Ne.a.createElement("div",{key:"content",className:lo().e("content").m({"has-bottom-ad":p,page:t})},Ne.a.createElement(ao,null),Ne.a.createElement("div",{className:lo().e("content-wrap"),onContextMenu:"listing"===t?this._onContextMenu:void 0},c&&Ne.a.createElement(Vr.a,{type:l,isMobile:d,url:f}),s?Ne.a.createElement(uo,null):null,u?Ne.a.createElement(co,null):null,Ne.a.createElement(Wr.a,null),Ne.a.createElement("div",{className:lo().e("content-inner").m({white:n,"no-border-radius":i,page:t})},Ne.a.createElement("div",{className:lo().e("content-container")},this._getPageComponent())),p?Ne.a.createElement(Qr,{cls:lo().e("bottom-ad"),nonce:o,tuningUrl:a}):null,"listing"!==t?null:Ne.a.createElement(so,{onClose:this._onContextMenuCreatePopupClose,visible:!!this.state.contextMenuCreatePosition,position:this.state.contextMenuCreatePosition}),r?null:Ne.a.createElement(Be.default,{className:lo().e("footer")})))}},{key:"_getPageComponent",value:function(){switch(this.props.page){case"album":return Ne.a.createElement(ni,{closeChatWidget:this._closeChatWidget});case"albums":return Ne.a.createElement(ti,null);case"geo":return Ne.a.createElement(ui,null);case"faces":return Ne.a.createElement(gi,null);case"familyAlbum":return Ne.a.createElement(bi.a,null);case"photo":return Ne.a.createElement(ei,{closeChatWidget:this._closeChatWidget});case"journal":return Ne.a.createElement(Oi.a,null);case"remember-block":return Ne.a.createElement(Di,{closeChatWidget:this._closeChatWidget});case"docs":return this.props.isDocsView?Ne.a.createElement(ki.a,{getRootRef:this.getRef}):Ne.a.createElement(Ti.a,null);case"error":return Ne.a.createElement(Ci,null);case"listing":return Ne.a.createElement(Gr,{closeContextMenu:this._onContextMenuCreatePopupClose,closeChatWidget:this._closeChatWidget});default:return null}}},{key:"_getNavigation",value:function(){return this.props.isUploaderOpenedInTouch,null}},{key:"render",value:function(){var e,t=this.props,n=t.page,r=t.mobileAppHeader,i=t.shouldShowOverdraftScreen,o=t.shouldShowOverdraftBlock,a=t.showB2bFreeWarningScreen,s=t.shouldMountUploader,u=t.isUploaderOpenedInTouch,c=t.isSuggestOpenedInTouch,l=t.isOverdraftScreenOpenedInTouch,d=t.overdraftType,f=t.isMobile,p=t.isDocsView,h=t.isCoverLayerEnabled,m=t.idContext,v=t.shouldShowPromozavr,y=Object(re.getIsVirtualDiskList)(String(m)),b=[Ne.a.createElement(Ri.a,{key:"a11y"}),Ne.a.createElement(Fe.a,{key:"header",setHideWidget:this._setHideWidget})],_=l||u||c;i?b.push(Ne.a.createElement(Ni.a,{key:"overdraft-screen"})):a?b.push(Ne.a.createElement(Ui,{key:"b2b-free-screen"})):b.push(y?null:Ne.a.createElement(Sr.a,{key:"resources-action-bar",metrikaContext:po}),Ne.a.createElement(Er,{key:"slider"}),this._getNavigation(),_?null:this._getDefaultContent(),Ne.a.createElement(Qi,{key:"dialogs",components:fo}),Ne.a.createElement(Pr,{key:"widgets"}),Ne.a.createElement(jr.a,{key:"notifications"}),Ne.a.createElement(Br,{key:"operations-progress"}),s?Ne.a.createElement(Ur.b,{key:"uploader"}):null);var O=a&&f||i&&(!d||f);return Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement(Ai.a,null),Ne.a.createElement("div",{className:lo().m((e={page:n,"docs-view":p,"mobile-app-header":r,"overdraft-screen":O,"overdraft-block":o},g()(e,"overdraft-"+d,o&&Boolean(d)),g()(e,"uploader-mobile",u),g()(e,"ps-header",!0),g()(e,"with-cover-layer",h),e))},Ne.a.createElement(Wi.a,null),h&&Ne.a.createElement(Vi.a,null),Ne.a.createElement("div",{className:lo().e("wrapper"),ref:this._setRef},b,v&&this.state.isClient&&Ne.a.createElement(Me.Suspense,{fallback:null},Ne.a.createElement(to.Promozavr,null)))))}}]),n})(Me.Component),mo=Object(De.connect)((function(e){var t=e.page.idContext,n=e.environment,r=n.agent,i=r.isMobile,o=r.isInMobileApp,a=r.BrowserName,s=r.BrowserVersion,u=n.session.nonce,c=e.uploader,l=c.visible,d=c.opened,f=e.config.urlsBase.support,p=Object(qi.getPage)(e),h=Object(tn.shouldShowOverdraftFullscreen)(e);return{isMobile:i,idContext:t,whiteInnerContent:["listing","photo","albums","album","familyAlbum","remember-block","geo","journal","faces","docs"].includes(p)&&!1,canShowWebClientAds:(function(e){return!(Object(Gn.getListingStubId)(e)&&Object(Gn.isEmptyResource)(e)||"/trash"===e.page.idContext&&Object(Gn.isEmptyResource)(e)||"recent"===Object(Gn.getListingStubId)(e)||e.environment.agent.isMobile)})(e),hideFooter:Object(qi.isFooterHidden)(e),showWebClientAds:(function(e){var t;return null===(t=e.user.features)||void 0===t||null===(t=t.advertising)||void 0===t?void 0:t.enabled})(e),showContextMenu:(function(e){var t=e.page.idContext,n=e.environment.agent.isMobile,r=Object(Gn.isEmptyResource)(e)&&Boolean(Object(Gn.getListingStubId)(e));return!n&&"/trash"!==t&&!Object(re.getIsVirtualDiskList)(t)&&!Object(re.isVirtualDiskTrash)(t)&&t.indexOf("/attach/YaFotki")<0&&!r})(e),nonce:u,page:p,isReadOnlyActive:Object(eo.isReadOnlyActive)(e),readOnlyType:Object(eo.readOnlyType)(e),readOnlyUrl:f+"/disk/enlarge/disk-space.html#limit",isDocsView:Object(Q.isDocsView)(e),tuningUrl:Object(qi.getBuyButtonUrl)(e),mobileAppHeader:o,shouldShowOverdraftScreen:h,shouldShowOverdraftBlock:Object(tn.shouldShowOverdraftBlock)(e),shouldShowB2bFreeBlock:Object(tn.shouldNotifyFreeB2b)(e),overdraftType:Object(Yi.getOverdraftType)(e),shouldMountUploader:l,isUploaderOpenedInTouch:d&&!1,isSuggestOpenedInTouch:Object(Ki.b)(e)&&!1,isOverdraftScreenOpenedInTouch:h&&!1,themeName:Object(pr.getThemeName)(e),noBorderRadius:"MobileSafari"===a&&s<"14",isCoverLayerEnabled:Object(pr.isCoverLayerEnabled)(e),shouldShowPromozavr:Object(Gi.shouldShowPromozavr)(e),showB2bFreeWarningScreen:Object(tn.shouldShowB2bFreeWarningFullscreen)(e)}}))(ho),vo=n(102),go=n(69),yo=n(594),bo=n(106),_o=n.n(bo),Oo=n(598),Eo=n.n(Oo),wo=n(153),So=n(214),Co=n(250);n(2363);p.a.extend(yr.externals,R),n(2374),B.a.init("client",U),ns.router.routes=n(2375)({ns:ns,defaultFolders:Object(go.getPreloadedData)("defaultFolders"),settings:Object(yo.preprocessSettings)(Object(go.getPreloadedData)("settings"),Object(q.default)().getState().environment.agent.isSmartphone),config:Object(go.getPreloadedData)("config"),environment:Object(go.getPreloadedData)("environment"),user:Object(go.getPreloadedData)("userCurrent")}),n.p=V.a.links.static.host+V.a.externalStaticPath;!(function(){document.body.classList.remove("no-transition");var e=Object(q.default)(),t=Object(go.getPreloadedData)("space")||{};N.default.DEFAULT_FOLDERS_DATA["/trash"].meta={size:t.trash||0},Object.keys(N.default.DEFAULT_FOLDERS_DATA).forEach((function(t){e.dispatch(Object(Qt.setResourceData)(t,Object.assign({id:t},N.default.DEFAULT_FOLDERS_DATA[t])))})),Eo.a.preloadReady().then((function(){A.a.initApp();var t=e.getState(),n=ns.page.current.params.idResourceDownload;if(n&&(delete ns.page.current.params.idResourceDownload,F.a.go(ns.router.generateUrl(ns.page.current.page,ns.page.current.params)),Object(Y.isExistsResource)(t,n)?ns.action.run("resource.download",{idResource:n}):e.dispatch(Object(Qt.fetchSingleResource)(n)).then((function(){ns.action.run("resource.download",{idResource:n})}))),t.environment.session.loadingFailed||F.a.onBeforeFirstRender(e,Object(go.getPreloadedData)()),ns.page.current.params.hide_overdraft_screen){var r=new URL(location.href);r.searchParams.delete("hide_overdraft_screen"),ns.history.replaceState(r.toString())}if(_o.a.hydrate(Ne.a.createElement(De.Provider,{store:e},Ne.a.createElement(Co.b,null,Ne.a.createElement(mo,null))),document.getElementById("app")),Object(vo.isUserCanHaveDisk)(t)){ns.Model.get("operationsActive").revive(),Object(M.subscribe)();var i=new he.a("/check-online");i.addOfflineEventListener((function(){e.dispatch(function(e){return{type:rr.UPDATE_ENVIRONMENT,payload:e}}({offlineTime:Date.now()}))})),i.addOnlineEventListener((function(t,n){n<=Qt.offlineThreshold||(e.dispatch(Object(wo.fetchSpace)()),e.dispatch(Object(So.fetchInvitesToFolders)(!0)),"listing"===Object(qi.getPage)(e.getState())&&e.dispatch(Object(Qt.fetchCurrentListing)(!1,!0)))}))}}));var n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=e.findIndex((function(e,n){return 0===n?t<=e:t<e}));return-1===o?i+e[e.length-1]+n:0===o?r+e[0]+n:e[o-1]+n+" - "+(e[o]-1)+n},r=e.getState(),i=Object(Q.isDocsPage)(r);D.default.init(i?V.a.docsMetrikaCounterId:V.a.metrikaCounterId,q.default,null,(function(){var t={version:r.environment.session.version},i=(r.space||{}).limit,o=Object(Yi.getPercentageOfUsed)(r),a=i/1024/1024/1024,s=Object(H.getIsInsideVirtualDisk)(e.getState()),u=Object(H.isCurrentContextReadonlyVdResource)(e.getState());return r.user.uid&&Object.assign(t,{"inside vd":s?u?"readonly":"read+write":"0",space:n([10,25,50,75,100],o,"%","< ","> "),"space total":n([10,50,100,300,600,1e3,2e3],a,"","","> ")}),t}),{experiments:Object(go.getPreloadedData)("environment.session.metrikaExperiments")})})()}),(function(e,t,n){"use strict";var r,i;n.r(t),(function(e){e[e.day=0]="day",e[e.month=1]="month",e[e.year=2]="year"})(r||(r={})),(function(e){e[e.PrevCell=0]="PrevCell",e[e.NextCell=1]="NextCell",e[e.UpperCell=2]="UpperCell",e[e.LowerCell=3]="LowerCell",e[e.FirstCell=4]="FirstCell",e[e.LastCell=5]="LastCell",e[e.StartCell=6]="StartCell",e[e.EndCell=7]="EndCell",e[e.PrevView=8]="PrevView",e[e.NextView=9]="NextView",e[e.PrevExtraView=10]="PrevExtraView",e[e.NextExtraView=11]="NextExtraView"})(i||(i={}));var o=n(1),a=n(0),s=n(929);function u(e,t,n){var r=e.value,i=e.viewDate,u=t.isCalendarFocused,c=t.activeView,l=t.getCellState,d=t.focusDate,f=t.selectDate,p=l(r,i),h=p.isSelected,m=p.isDisabled,v=p.isFocused,g=p.isSameView,y=p.isToday,b=u&&v,_="range"===t.mode?t.highlightDate:null,O=Object(s.a)({disabled:m,onPress:function(){f(r)}}).pressProps;Object(a.useEffect)((function(){b&&n.current&&n.current.focus()}),[b,n]);var E=Object(o.__assign)(Object(o.__assign)({},O),{role:"button","aria-selected":h,"aria-disabled":m,"aria-hidden":!g,"aria-label":void 0});return m||(E.tabIndex=g&&v?0:-1,E.onFocus=function(){g&&!v&&d(r)}),"range"!==t.mode||m||(E.onMouseEnter=function(){null===_||void 0===_||_(r)}),y&&"day"===c&&(E["aria-current"]="date"),{cellState:p,cellProps:{role:"gridcell"},buttonProps:E}}var c=n(408);function l(e,t){var n=e.readOnly,r=e.disabled,o=t.mode,a=t.focusedDate,s=t.focusCalendar,u=t.focusDate,l=t.moveDate,d=Object(c.a)().isRTL;return{gridProps:{role:"grid","aria-readonly":n,"aria-disabled":r,"aria-multiselectable":"multiple"===o||"range"===o,onFocus:function(){s(!0)},onBlur:function(e){var t=e.relatedTarget;e.currentTarget.contains(t)||s(!1)},onKeyDown:function(e){var t=null;switch(e.key){case"ArrowLeft":t=d?i.NextCell:i.PrevCell;break;case"ArrowRight":t=d?i.PrevCell:i.NextCell;break;case"ArrowUp":t=i.UpperCell;break;case"ArrowDown":t=i.LowerCell;break;case"Home":t=e.shiftKey?i.FirstCell:i.StartCell;break;case"End":t=e.shiftKey?i.LastCell:i.EndCell;break;case"PageUp":t=e.shiftKey?i.PrevExtraView:i.PrevView;break;case"PageDown":t=e.shiftKey?i.NextExtraView:i.NextView}null!==t&&(e.preventDefault(),u(l(a,t)))}}}}var d=n(2452),f=n(1003),p=n(2451),h=new Date(-621355968e5),m=new Date(864e13),v=n(53),g=n(43);function y(e){Object(g.a)(1,arguments);var t=Object(v.a)(e);return t.setDate(1),t.setHours(0,0,0,0),t}var b=n(2449);function _(e){Object(g.a)(1,arguments);var t=Object(v.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function O(e){Object(g.a)(1,arguments);var t=Object(v.a)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function E(e){Object(g.a)(1,arguments);var t=Object(v.a)(e);return t.setHours(0,0,0,0),t}var w=n(71);function S(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(w.a)(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());return o.setMonth(n.getMonth()+r+1,0),i>=o.getDate()?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function C(e,t){return Object(g.a)(2,arguments),S(e,12*Object(w.a)(t))}function x(e,t){return Object(g.a)(2,arguments),S(e,-Object(w.a)(t))}function T(e,t){return Object(g.a)(2,arguments),C(e,-Object(w.a)(t))}function P(e,t){Object(g.a)(2,arguments);var n=E(e),r=E(t);return n.getTime()===r.getTime()}function k(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(v.a)(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function j(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(v.a)(t);return n.getFullYear()===r.getFullYear()}var R=n(593),I=n(1143);function A(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(w.a)(t),i=n.getFullYear(),o=n.getDate(),a=new Date(0);a.setFullYear(i,r,15),a.setHours(0,0,0,0);var s=Object(I.a)(a);return n.setMonth(r,Math.min(o,s)),n}function D(e,t){if(Object(g.a)(2,arguments),"object"!==Object(R.a)(t)||null===t)throw new RangeError("values parameter must be an object");var n=Object(v.a)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=A(n,t.month)),null!=t.date&&n.setDate(Object(w.a)(t.date)),null!=t.hours&&n.setHours(Object(w.a)(t.hours)),null!=t.minutes&&n.setMinutes(Object(w.a)(t.minutes)),null!=t.seconds&&n.setSeconds(Object(w.a)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds(Object(w.a)(t.milliseconds)),n)}function M(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(w.a)(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function N(e,t){return Object(g.a)(2,arguments),M(e,7*Object(w.a)(t))}var L=n(368),F=n(287);function B(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function U(e,t){void 0===t&&(t={});var n=t.firstDayOfWeek,r=void 0===n?0:n,i=[],o=e.getMonth(),a=e.getFullYear(),s=(y(e).getDay()-r)%7;s<0&&(s+=7);for(var u=Object(I.a)(e),c=Math.ceil((s+u)/7),l=0;l<c;l++){i.push([]);for(var d=0;d<7;d++){var f=new Date(a,o,7*l+d-s+1);i[l].push(f)}}return i}function z(e,t,n){void 0===n&&(n={});var r=n.firstDayOfWeek;switch(t){case i.NextCell:return M(e,1);case i.PrevCell:return (function(e,t){return Object(g.a)(2,arguments),M(e,-Object(w.a)(t))})(e,1);case i.LowerCell:return N(e,1);case i.UpperCell:return (function(e,t){return Object(g.a)(2,arguments),N(e,-Object(w.a)(t))})(e,1);case i.FirstCell:return y(e);case i.LastCell:return (function(e){Object(g.a)(1,arguments);var t=Object(v.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t})(e);case i.StartCell:return Object(L.a)(e,{weekStartsOn:r});case i.EndCell:return (function(e,t){var n,r,i,o,a,s,u,c;Object(g.a)(1,arguments);var l=Object(F.a)(),d=Object(w.a)(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t?void 0:null===(a=t.locale)||void 0===a?void 0:null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(u=l.locale)||void 0===u?void 0:null===(c=u.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Object(v.a)(e),p=f.getDay(),h=6+(p<d?-7:0)-(p-d);return f.setDate(f.getDate()+h),f.setHours(23,59,59,999),f})(e,{weekStartsOn:r});case i.PrevView:return x(e,1);case i.NextView:return S(e,1);case i.PrevExtraView:return T(e,1);case i.NextExtraView:return C(e,1);default:return e}}var V=4,H=3;function W(e,t){return t.getFullYear()-e.getFullYear()}function $(e){for(var t=[],n=0,r=0;n<V;n++){t.push([]);for(var i=0;i<H;i++)t[n].push(S(e,r++))}return t}function G(e,t){switch(t){case i.NextCell:return S(e,1);case i.PrevCell:return x(e,1);case i.LowerCell:return S(e,H);case i.UpperCell:return x(e,H);case i.StartCell:case i.FirstCell:return A(e,0);case i.EndCell:case i.LastCell:return A(e,11);case i.PrevView:return T(e,1);case i.NextView:return C(e,1);default:return e}}var q=n(2450),Y=6,K=4,J=Y*K;function Z(e){return Math.floor(e.getFullYear()/J)*J}function X(e){return Z(e)+J-1}function Q(e){var t=Z(e);return Object(b.a)(Object(q.a)(e,t))}function ee(e){var t=X(e);return O(Object(q.a)(e,t))}function te(e,t){var n=Z(e);return(Z(t)-n)/J}function ne(e,t){return C(e,t*J)}function re(e,t){return T(e,t*J)}function ie(e){for(var t=[],n=0,r=0;n<Y;n++){t.push([]);for(var i=0;i<K;i++)t[n].push(C(e,r++))}return t}function oe(e,t){switch(t){case i.NextCell:return C(e,1);case i.PrevCell:return T(e,1);case i.LowerCell:return C(e,K);case i.UpperCell:return T(e,K);case i.StartCell:case i.FirstCell:return Object(q.a)(e,Z(e));case i.EndCell:case i.LastCell:return Object(q.a)(e,X(e));case i.PrevView:return re(e,1);case i.NextView:return ne(e,1);default:return e}}function ae(e,t){return e&&t?t<e?{start:t,end:e}:{start:e,end:t}:{start:null!==e&&void 0!==e?e:t,end:null}}function se(e,t){return{day:y,month:b.a,year:Q}[e](t)}function ue(e,t){return{day:_,month:O,year:ee}[e](t)}function ce(e,t){return{day:E,month:y,year:b.a}[e](t)}function le(e,t,n){return{day:B,month:W,year:te}[e](t,n)}function de(e,t,n){return{day:S,month:C,year:ne}[e](t,n)}function fe(e,t,n){return{day:x,month:T,year:re}[e](t,n)}function pe(e,t,n){return 0===le(e,t,n)}function he(e,t,n){if(!n.start||!n.end)return!1;var r=ce(e,t);return r>=ce(e,n.start)&&r<=ce(e,n.end)}function me(e,t,n){return{day:P,month:k,year:j}[e](t,n)}function ve(e,t,n){return E(Object(p.a)(e.getTime(),t.getTime(),n.getTime()))}function ge(e,t,n){return{day:U,month:$,year:ie}[e](t,n)}function ye(e,t,n){var r=n.getDate(),i=n.getMonth();return{day:function(e){return e},month:function(e){return D(e,{date:r})},year:function(e){return D(e,{date:r,month:i})}}[e](t)}function be(e,t){Object(g.a)(2,arguments);var n=Object(v.a)(e),r=Object(v.a)(t);return n.getTime()===r.getTime()}function _e(e){var t=e.value,n=e.defaultFocusedDate,i=void 0===n?t:n,s=e.onChange,u=e.autoFocus,c=void 0!==u&&u,l=e.readOnly,v=void 0!==l&&l,g=e.disabled,y=void 0!==g&&g,b=e.min,_=void 0===b?h:b,O=e.max,E=void 0===O?m:O,w=e.viewsCount,S=void 0===w?1:w,C=e.minCalendarView,x=void 0===C?"day":C,T=e.defaultCalendarView,P=void 0===T?x:T,k=e.maxCalendarView,j=void 0===k?"year":k,R=Object(a.useMemo)((function(){return new Date(_)}),[_]),I=Object(a.useMemo)((function(){return new Date(E)}),[E]),A=Object(a.useMemo)((function(){return t?new Date(t):void 0}),[t]),D=Object(f.a)(),M=Object(o.__read)(Object(a.useState)((function(){return Z(P)})),2),N=M[0],L=M[1],F=Object(o.__read)(Object(a.useState)(c),2),B=F[0],U=F[1],V=Object(o.__read)(Object(a.useState)((function(){return K(i?new Date(i):new Date)})),2),H=V[0],W=V[1],$=Object(o.__read)(Object(a.useState)((function(){return J(N,H)})),2),q=$[0],Y=$[1];function K(e){return ce(x,ve(e,R,I))}function J(e,t){var n=fe(e,I,S-1);return ye(e,se(e,ve(t,R,R>n?R:n)),t)}function Z(e){var t=Object(p.a)(r[e],r[x],r[j]);return r[t]}function X(e,t){void 0===t&&(t=0);var n=r[e]+t,i=r[n];return Z(null!==i&&void 0!==i?i:e)}function Q(e,t){var n=ve(ce(x,t),R,I);if(!be(H,n)){W(n);var r=ye(e,(function(e,t,n,r){var i=n-1,o=le(e,t,r),a=Math.min(o,0)+Math.max(o,i)-i;return 0!==a?de(e,t,a):t})(e,q,S,n),n);be(q,r)||Y(r)}}function ee(e,t){if(!(r[e]<r[x]||r[e]>r[j])){e!==N&&L(e);var n=K(t);be(H,n)||W(n);var i=le(N,q,J(N,n)),o=fe(e,J(e,n),i);be(q,o)||Y(o)}}var te=Object(a.useMemo)((function(){return (function(e,t,n,r){for(var i=[],o=0;o<n;o++){var a=de(e,t,o),s=ae(se(e,a),ue(e,a));i.push({viewDate:a,viewRange:s,data:ge(e,a,r)})}return i})(N,q,S,{firstDayOfWeek:D})}),[q,S,N,D]);return{mode:"single",value:A,isCalendarFocused:B,baseDate:q,focusedDate:H,activeView:N,views:te,focusCalendar:U,focusDate:function(e){Q(N,e)},selectDate:function(e){if(!v&&!y&&he(N,e,ae(R,I))){var t=X(N,-1);t!==N?ee(t,e):(Q(t,e),v||t!==x||null===s||void 0===s||s({value:e}))}},getCellState:function(e,t){var n=new Date,r=pe(N,e,t);return{isDisabled:y||!he(N,e,ae(R,I)),isFocused:r&&me(N,e,H),isSameView:r,isSelected:!!A&&me(N,e,A),isToday:me(N,e,n),isWeekend:"day"===N&&Object(d.a)(e)}},moveDate:function(e,t){return (function(e,t,n,r){return{day:z,month:G,year:oe}[e](t,n,r)})(N,e,t,{firstDayOfWeek:D})},setView:function(e){ee(e,H)},canNavigateTo:function(e){var t=se(N,R),n=new Date(Math.max(t.getTime(),se(N,fe(N,I,S-1)).getTime()));return he(N,e,ae(t,n))},navigateTo:function(e){var t=ye(N,e,H);if(!be(q,t)){Y(t);var n=K(function(e,t,n,r){var i=le(e,t,n),o=i+r-1;return i>0||o<0?de(e,t,Math.abs(i)<Math.abs(o)?i:o):t}(N,H,t,S));be(H,n)||W(n)}},moveView:X}}function Oe(e){var t=e.value,n=(e.defaultValue,e.onChange),r=Object(o.__rest)(e,["value","defaultValue","onChange"]),i=_e(Object(o.__assign)(Object(o.__assign)({},r),{value:null===t||void 0===t?void 0:t[0],onChange:function(e){var r,i=null!==(r=null===t||void 0===t?void 0:t.slice())&&void 0!==r?r:[],o=i.findIndex((function(t){return be(t,e.value)}));-1!==o?i.splice(o,1):i.push(e.value),null===n||void 0===n||n({value:i})}}));return Object(o.__assign)(Object(o.__assign)({},i),{mode:"multiple",value:t,getCellState:function(e,n){var r,a=i.getCellState(e,n);return Object(o.__assign)(Object(o.__assign)({},a),{isSelected:null!==(r=null===t||void 0===t?void 0:t.some((function(t){return me(i.activeView,t,e)})))&&void 0!==r&&r})}})}function Ee(e){var t,n=e.value,r=(e.defaultValue,e.onChange),i=Object(o.__rest)(e,["value","defaultValue","onChange"]),s=Object(o.__read)(Object(a.useState)(null),2),u=s[0],c=s[1],l=_e(Object(o.__assign)(Object(o.__assign)({},i),{value:null!==(t=null===n||void 0===n?void 0:n.start)&&void 0!==t?t:void 0,onChange:function(e){c(u?null:e.value),null===r||void 0===r||r({value:ae(u,e.value)})}})),d=l.activeView,f=l.focusedDate,p=l.focusDate,h=l.getCellState,m=u?ae(u,f):n&&ae(n.start,n.end);return Object(o.__assign)(Object(o.__assign)({},l),{mode:"range",value:n,highlightDate:function(e){u&&p(e)},getCellState:function(e,t){var n=h(e,t),r=!!m&&he(d,e,m),i=!(null===m||void 0===m||!m.start)&&me(d,e,m.start),a=!(null===m||void 0===m||!m.end)&&me(d,e,m.end),s=!!u&&me(d,e,u),c=Boolean(u)&&r,l=c?i&&s:i,f=c?a&&s:a;return Object(o.__assign)(Object(o.__assign)({},n),{isDisabled:n.isDisabled||!pe(d,e,t),isRangePreview:Boolean(u)&&r,isRangePreviewStart:c&&i,isRangePreviewEnd:c&&a,isRangeSelected:!u&&r,isSelectionStart:c?i&&s:i,isSelectionEnd:c?a&&s:a,isSelected:l||f})}})}n.d(t,"CalendarNavigationAction",(function(){return i})),n.d(t,"useCalendarCell",(function(){return u})),n.d(t,"useCalendar",(function(){return l})),n.d(t,"useSingleCalendarState",(function(){return _e})),n.d(t,"useMultipleCalendarState",(function(){return Oe})),n.d(t,"useRangeCalendarState",(function(){return Ee}))}),(function(e,t,n){"use strict";n.r(t);var r=n(3),i=n(28),o=Object(i.cn)("DateTimeField"),a=(n(1528),Object(r.createClassNameModifier)(o(),{pin:"brick-brick"})),s=(n(1529),Object(r.createClassNameModifier)(o(),{pin:"brick-clear"})),u=(n(1530),Object(r.createClassNameModifier)(o(),{pin:"brick-round"})),c=(n(1531),Object(r.createClassNameModifier)(o(),{pin:"clear-brick"})),l=(n(1532),Object(r.createClassNameModifier)(o(),{pin:"clear-clear"})),d=(n(1533),Object(r.createClassNameModifier)(o(),{pin:"clear-round"})),f=(n(1534),Object(r.createClassNameModifier)(o(),{pin:"round-brick"})),p=(n(1535),Object(r.createClassNameModifier)(o(),{pin:"round-clear"})),h=(n(1536),Object(r.createClassNameModifier)(o(),{size:"s"})),m=(n(1537),Object(r.createClassNameModifier)(o(),{size:"m"})),v=(n(1538),Object(r.createClassNameModifier)(o(),{view:"default"})),g=n(1),y=n(0),b=n.n(y),_=n(2453),O=n(78),E=(n(1539),Object(y.forwardRef)((function(e,t){var n=e.className,r=e.children,i=Object(g.__rest)(e,["className","children"]);return b.a.createElement("div",Object(g.__assign)({ref:t,className:o(null,[n])},i,{tabIndex:-1}),b.a.createElement("div",{className:o("Box")}),b.a.createElement("div",{className:o("Wrapper")},r))}))),w=(n(1543),function(e){var t=e.segment,n=e.state,r=e.className,i=Object(g.__rest)(e,["segment","state","className"]),a=t.isDisabled,s=t.isPlaceholder,u=t.isValid,c=Object(O.useDateTimeFieldSegment)(e,n).segmentProps,l=Object(O.mergeProps)(i,c);return b.a.createElement("span",Object(g.__assign)({className:o("EditableSegment",{placeholder:s,disabled:a,invalid:!u},[r])},l),t.text)});n(1542);var S=function(e){var t=e.segment,n=e.className,r=Object(g.__rest)(e,["segment","className"]);return b.a.createElement("span",Object(g.__assign)({className:o("LiteralSegment",null,[n])},r,{role:"presentation"}),t.text)};var C=function(e){var t=e.segment,n=e.state,r=Object(g.__rest)(e,["segment","state"]);return t.isEditable?b.a.createElement(w,Object(g.__assign)({},r,{segment:t,state:n})):b.a.createElement(S,{segment:t})};n(1541);var x=Object(y.forwardRef)((function(e,t){var n=e.className,r=e.state,i=Object(g.__rest)(e,["className","state"]),a=Object(O.useDateTimeField)(i),s=a.fieldProps,u=a.segmentProps;return b.a.createElement("span",Object(g.__assign)({ref:t,className:o("Control",null,[n])},s),r.segments.map((function(e,t){return b.a.createElement(C,Object(g.__assign)({key:t,segment:e,state:r},u))})))})),T=(n(1540),Object(y.forwardRef)((function(e,t){var n=e.children,r=e.className,i=e.name,a=Object(g.__rest)(e,["children","className","name"]);return b.a.createElement("span",Object(g.__assign)({ref:t,className:o("Slot",{name:i},[r])},a),n)})));n(1544);var P=function(){var e=Object(_.b)().focusNext,t=Object(O.usePress)({onPressStart:function(t){"mouse"===t.source&&e({from:t.target,tabbable:!0})}}).pressProps;return b.a.createElement("span",Object(g.__assign)({},t,{className:o("RangeDash"),role:"presentation"}))};n.d(t,"DateTimeField",(function(){return j})),n.d(t,"DateTimeRangeField",(function(){return R})),n.d(t,"cnDateTimeField",(function(){return o}));var k=Object(r.compose)(Object(r.composeU)(a,s,u,c,l,d,f,p),Object(r.composeU)(h,m),v),j=k((function(e){var t=e.addonBefore,n=e.addonAfter,r=e.className,i=e["data-testid"],a=e.autoFocus,s=Object(g.__rest)(e,["addonBefore","addonAfter","className","data-testid","autoFocus"]),u=s.disabled,c=Object(y.useRef)(null),l=Object(O.useDateTimeFieldState)(s),d=Object(g.__read)(Object(y.useState)(!1),2),f=d[0],p=d[1],h=Object(O.useFocusWithin)({disabled:u,onFocusWithinChange:p}).focusWithinProps;return b.a.createElement(E,Object(g.__assign)({className:o({disabled:u,focused:f},[r])},h,{"data-testid":i}),t&&b.a.createElement(T,{name:"before"},t),b.a.createElement(T,{ref:c,name:"control"},b.a.createElement(_.a,{scopeRef:c,autoFocus:a},b.a.createElement(x,Object(g.__assign)({state:l},s)))),n&&b.a.createElement(T,{name:"after"},n))})),R=k((function(e){var t,n=e.addonBefore,r=e.addonAfter,i=e.className,a=e.value,s=void 0===a?{start:null,end:null}:a,u=e.onChange,c=e["data-testid"],l=e.autoFocus,d=Object(g.__rest)(e,["addonBefore","addonAfter","className","value","onChange","data-testid","autoFocus"]),f=d.disabled,p=Object(y.useRef)(null),h=Object(g.__read)(Object(y.useState)(!1),2),m=h[0],v=h[1],w=Object(O.useFocusWithin)({disabled:f,onFocusWithinChange:v}).focusWithinProps,S=Object(y.useCallback)((function(e){null===u||void 0===u||u({value:{start:e.value,end:s.end}})}),[u,s.end]),C=Object(y.useCallback)((function(e){null===u||void 0===u||u({value:{start:s.start,end:e.value}})}),[u,s.start]),k=Object(O.useDateTimeFieldState)(Object(g.__assign)(Object(g.__assign)({},d),{value:s.start,onChange:S})),j=Object(O.useDateTimeFieldState)(Object(g.__assign)(Object(g.__assign)({},d),{value:s.end,onChange:C,min:null!==(t=s.start)&&void 0!==t?t:d.min}));return b.a.createElement(E,Object(g.__assign)({className:o({disabled:f,focused:m},[i])},w,{"data-testid":c}),n&&b.a.createElement(T,{name:"before"},n),b.a.createElement(T,{ref:p,name:"control"},b.a.createElement(_.a,{scopeRef:p,autoFocus:l},b.a.createElement(x,{state:k}),b.a.createElement(P,null),b.a.createElement(x,{state:j}))),r&&b.a.createElement(T,{name:"after"},r))}))}),(function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"atMeeting",(function(){return p})),n.d(r,"attachments",(function(){return h})),n.d(r,"calendar",(function(){return m})),n.d(r,"call",(function(){return v})),n.d(r,"cancellation",(function(){return g})),n.d(r,"contactEmail",(function(){return y})),n.d(r,"copy",(function(){return b})),n.d(r,"copyDone",(function(){return _})),n.d(r,"createEvent",(function(){return O})),n.d(r,"createFilter",(function(){return E})),n.d(r,"createFilters",(function(){return w})),n.d(r,"deleteContact",(function(){return S})),n.d(r,"deleteContactConfirmationDescription",(function(){return C})),n.d(r,"deleteContactConfirmationTitle",(function(){return x})),n.d(r,"department",(function(){return T})),n.d(r,"email",(function(){return P})),n.d(r,"event",(function(){return k})),n.d(r,"eventDurationAllDay",(function(){return j})),n.d(r,"eventDurationSameDay",(function(){return R})),n.d(r,"externalContact",(function(){return I})),n.d(r,"longEventDuration",(function(){return A})),n.d(r,"messenger",(function(){return D})),n.d(r,"more",(function(){return M})),n.d(r,"open",(function(){return N})),n.d(r,"openCalendar",(function(){return L})),n.d(r,"position",(function(){return F})),n.d(r,"showAttachments",(function(){return B})),n.d(r,"showMails",(function(){return U})),n.d(r,"staff",(function(){return z})),n.d(r,"thread",(function(){return V})),n.d(r,"writeMail",(function(){return H}));var i={};n.r(i),n.d(i,"atMeeting",(function(){return W})),n.d(i,"attachments",(function(){return $})),n.d(i,"calendar",(function(){return G})),n.d(i,"call",(function(){return q})),n.d(i,"cancellation",(function(){return Y})),n.d(i,"contactEmail",(function(){return K})),n.d(i,"copy",(function(){return J})),n.d(i,"copyDone",(function(){return Z})),n.d(i,"createEvent",(function(){return X})),n.d(i,"createFilter",(function(){return Q})),n.d(i,"createFilters",(function(){return ee})),n.d(i,"deleteContact",(function(){return te})),n.d(i,"deleteContactConfirmationDescription",(function(){return ne})),n.d(i,"deleteContactConfirmationTitle",(function(){return re})),n.d(i,"department",(function(){return ie})),n.d(i,"email",(function(){return oe})),n.d(i,"event",(function(){return ae})),n.d(i,"eventDurationAllDay",(function(){return se})),n.d(i,"eventDurationSameDay",(function(){return ue})),n.d(i,"externalContact",(function(){return ce})),n.d(i,"longEventDuration",(function(){return le})),n.d(i,"messenger",(function(){return de})),n.d(i,"more",(function(){return fe})),n.d(i,"open",(function(){return pe})),n.d(i,"openCalendar",(function(){return he})),n.d(i,"position",(function(){return me})),n.d(i,"showAttachments",(function(){return ve})),n.d(i,"showMails",(function(){return ge})),n.d(i,"staff",(function(){return ye})),n.d(i,"thread",(function(){return be})),n.d(i,"writeMail",(function(){return _e}));var o={};n.r(o),n.d(o,"atMeeting",(function(){return Oe})),n.d(o,"attachments",(function(){return Ee})),n.d(o,"calendar",(function(){return we})),n.d(o,"call",(function(){return Se})),n.d(o,"cancellation",(function(){return Ce})),n.d(o,"contactEmail",(function(){return xe})),n.d(o,"copy",(function(){return Te})),n.d(o,"copyDone",(function(){return Pe})),n.d(o,"createEvent",(function(){return ke})),n.d(o,"createFilter",(function(){return je})),n.d(o,"createFilters",(function(){return Re})),n.d(o,"deleteContact",(function(){return Ie})),n.d(o,"deleteContactConfirmationDescription",(function(){return Ae})),n.d(o,"deleteContactConfirmationTitle",(function(){return De})),n.d(o,"department",(function(){return Me})),n.d(o,"email",(function(){return Ne})),n.d(o,"event",(function(){return Le})),n.d(o,"eventDurationAllDay",(function(){return Fe})),n.d(o,"eventDurationSameDay",(function(){return Be})),n.d(o,"externalContact",(function(){return Ue})),n.d(o,"longEventDuration",(function(){return ze})),n.d(o,"messenger",(function(){return Ve})),n.d(o,"more",(function(){return He})),n.d(o,"open",(function(){return We})),n.d(o,"openCalendar",(function(){return $e})),n.d(o,"position",(function(){return Ge})),n.d(o,"showAttachments",(function(){return qe})),n.d(o,"showMails",(function(){return Ye})),n.d(o,"staff",(function(){return Ke})),n.d(o,"thread",(function(){return Je})),n.d(o,"writeMail",(function(){return Ze}));var a={};n.r(a),n.d(a,"atMeeting",(function(){return Xe})),n.d(a,"attachments",(function(){return Qe})),n.d(a,"calendar",(function(){return et})),n.d(a,"call",(function(){return tt})),n.d(a,"cancellation",(function(){return nt})),n.d(a,"contactEmail",(function(){return rt})),n.d(a,"copy",(function(){return it})),n.d(a,"copyDone",(function(){return ot})),n.d(a,"createEvent",(function(){return at})),n.d(a,"createFilter",(function(){return st})),n.d(a,"createFilters",(function(){return ut})),n.d(a,"deleteContact",(function(){return ct})),n.d(a,"deleteContactConfirmationDescription",(function(){return lt})),n.d(a,"deleteContactConfirmationTitle",(function(){return dt})),n.d(a,"department",(function(){return ft})),n.d(a,"email",(function(){return pt})),n.d(a,"event",(function(){return ht})),n.d(a,"eventDurationAllDay",(function(){return mt})),n.d(a,"eventDurationSameDay",(function(){return vt})),n.d(a,"externalContact",(function(){return gt})),n.d(a,"longEventDuration",(function(){return yt})),n.d(a,"messenger",(function(){return bt})),n.d(a,"more",(function(){return _t})),n.d(a,"open",(function(){return Ot})),n.d(a,"openCalendar",(function(){return Et})),n.d(a,"position",(function(){return wt})),n.d(a,"showAttachments",(function(){return St})),n.d(a,"showMails",(function(){return Ct})),n.d(a,"staff",(function(){return xt})),n.d(a,"thread",(function(){return Tt})),n.d(a,"writeMail",(function(){return Pt}));var s={};n.r(s),n.d(s,"atMeeting",(function(){return kt})),n.d(s,"attachments",(function(){return jt})),n.d(s,"calendar",(function(){return Rt})),n.d(s,"call",(function(){return It})),n.d(s,"cancellation",(function(){return At})),n.d(s,"contactEmail",(function(){return Dt})),n.d(s,"copy",(function(){return Mt})),n.d(s,"copyDone",(function(){return Nt})),n.d(s,"createEvent",(function(){return Lt})),n.d(s,"createFilter",(function(){return Ft})),n.d(s,"createFilters",(function(){return Bt})),n.d(s,"deleteContact",(function(){return Ut})),n.d(s,"deleteContactConfirmationDescription",(function(){return zt})),n.d(s,"deleteContactConfirmationTitle",(function(){return Vt})),n.d(s,"department",(function(){return Ht})),n.d(s,"email",(function(){return Wt})),n.d(s,"event",(function(){return $t})),n.d(s,"eventDurationAllDay",(function(){return Gt})),n.d(s,"eventDurationSameDay",(function(){return qt})),n.d(s,"externalContact",(function(){return Yt})),n.d(s,"longEventDuration",(function(){return Kt})),n.d(s,"messenger",(function(){return Jt})),n.d(s,"more",(function(){return Zt})),n.d(s,"open",(function(){return Xt})),n.d(s,"openCalendar",(function(){return Qt})),n.d(s,"position",(function(){return en})),n.d(s,"showAttachments",(function(){return tn})),n.d(s,"showMails",(function(){return nn})),n.d(s,"staff",(function(){return rn})),n.d(s,"thread",(function(){return on})),n.d(s,"writeMail",(function(){return an}));var u={};n.r(u),n.d(u,"atMeeting",(function(){return sn})),n.d(u,"attachments",(function(){return un})),n.d(u,"calendar",(function(){return cn})),n.d(u,"call",(function(){return ln})),n.d(u,"cancellation",(function(){return dn})),n.d(u,"contactEmail",(function(){return fn})),n.d(u,"copy",(function(){return pn})),n.d(u,"copyDone",(function(){return hn})),n.d(u,"createEvent",(function(){return mn})),n.d(u,"createFilter",(function(){return vn})),n.d(u,"createFilters",(function(){return gn})),n.d(u,"deleteContact",(function(){return yn})),n.d(u,"deleteContactConfirmationDescription",(function(){return bn})),n.d(u,"deleteContactConfirmationTitle",(function(){return _n})),n.d(u,"department",(function(){return On})),n.d(u,"email",(function(){return En})),n.d(u,"event",(function(){return wn})),n.d(u,"eventDurationAllDay",(function(){return Sn})),n.d(u,"eventDurationSameDay",(function(){return Cn})),n.d(u,"externalContact",(function(){return xn})),n.d(u,"longEventDuration",(function(){return Tn})),n.d(u,"messenger",(function(){return Pn})),n.d(u,"more",(function(){return kn})),n.d(u,"open",(function(){return jn})),n.d(u,"openCalendar",(function(){return Rn})),n.d(u,"position",(function(){return In})),n.d(u,"showAttachments",(function(){return An})),n.d(u,"showMails",(function(){return Dn})),n.d(u,"staff",(function(){return Mn})),n.d(u,"thread",(function(){return Nn})),n.d(u,"writeMail",(function(){return Ln}));var c=n(0),l=n.n(c),d=n(87),f=n.n(d);const p="Сейчас на встрече",h="Вложения",m="Встреча",v="Позвонить",g="Отмена",y="E-mail",b="Скопировать",_="Скопировано",O="Создать встречу",E="Создать правило",w="Создать правила",S="Удалить контакт",C="Все добавленные данные о контакте будут утеряны.",x=function(e){return"Вы уверены, что хотите удалить контакт "+e.name+"?"},T="Подразделение",P="Письмо",k=function(e){return e.name+" будет с вами на встрече"},j=function(e){return e.date+", весь день"},R=function(e){return e.date+" "+e.timeStart+" — "+e.timeEnd},I="Внешний контакт",A=function(e){return e.dateFrom+" — "+e.dateTo},D="Чат",M="Ещё",N="Открыть",L="Посмотреть календарь",F="Должность",B="Посмотреть вложения",U="Посмотреть письма",z="Стафф",V="Переписка",H="Написать письмо",W="In a meeting",$="Attachments",G="Meeting",q="Call",Y="Cancel",K="E-mail",J="Copy",Z="Copied",X="Create meeting",Q="Create a filter",ee="Create rules",te="Delete contact",ne="You'll lose all of this contact's data.",re=function(e){return"Delete "+e.name+" from your contacts?"},ie="Department",oe="Email",ae=function(e){return e.name+" will be with you at the meeting"},se=function(e){return e.date+", all day"},ue=function(e){return e.date+" "+e.timeStart+" — "+e.timeEnd},ce="Внешний контакт",le=function(e){return e.dateFrom+" — "+e.dateTo},de="Chat",fe="More",pe="Open",he="View calendar",me="Job title",ve="View attachments",ge="View emails",ye="Staff",be="Threads",_e="Write email",Oe="Şu anda toplantıda",Ee="Ekler",we="Toplantı",Se="Ara",Ce="İptal",xe="E-posta adresi",Te="Kopyala",Pe="Kopyalandı",ke="Toplantı oluştur",je="Kural oluştur",Re="Filtre oluştur",Ie="Kişiyi sil",Ae="Eklenen tüm iletişim bilgileri kaybolacak.",De=function(e){return e.name+" kişisini silmek istediğinize emin misiniz?"},Me="Departman",Ne="E-posta",Le=function(e){return e.name+" sizinle toplantıda olacak"},Fe=function(e){return e.date+", tüm gün"},Be=function(e){return e.date+" "+e.timeStart+" — "+e.timeEnd},Ue="Внешний контакт",ze=function(e){return e.dateFrom+" — "+e.dateTo},Ve="Sohbet",He="Daha fazla",We="Aç",$e="Takvimi görüntüle",Ge="Pozisyon",qe="Ekleri görüntüle",Ye="E-postaları görüntüle",Ke="Personel",Je="Yazışmalar",Ze="E-posta yaz",Xe="Зараз на сустрэчы",Qe="Укладанні",et="Сустрэча",tt="Тэлефанаваць",nt="Скасаваць",rt="E-mail",it="Капіяваць",ot="Скапіявана",at="Стварыць сустрэчу",st="Стварыць правіла",ut="Стварыць правілы",ct="Выдаліць кантакт",lt="Усе дададзеныя даныя аб кантакце будуць страчаны.",dt=function(e){return"Вы ўпэўненыя, што жадаеце выдаліць кантакт "+e.name+"?"},ft="Падраздзяленне",pt="Ліст",ht=function(e){return e.name+" будзе з вамі на сустрэчы"},mt=function(e){return e.date+", увесь дзень"},vt=function(e){return e.date+" "+e.timeStart+" — "+e.timeEnd},gt="Внешний контакт",yt=function(e){return e.dateFrom+" — "+e.dateTo},bt="Чат",_t="Яшчэ",Ot="Адкрыць",Et="Паглядзець каляндар",wt="Пасада",St="Паглядзець далучэнні",Ct="Паглядзець лісты",xt="Стаф",Tt="Перапіска",Pt="Напісаць ліст",kt="Қазір кездесуде",jt="Тіркемелер",Rt="Кездесу",It="Қоңырау шалу",At="Болдырмау",Dt="E-mail",Mt="Көшіру",Nt="Көшірілді",Lt="Кездесу құру",Ft="Ереже жасау",Bt="Ережелер жасау",Ut="Контактіні жою",zt="Контактінің барлық қосылған деректері жоғалады.",Vt=function(e){return e.name+" контактісін жойғыңыз келетініне сенімдісіз бе?"},Ht="Бөлімше",Wt="Хат",$t=function(e){return e.name+" сізбен бірге кездесуде болады"},Gt=function(e){return e.date+", күні бойы"},qt=function(e){return e.date+" "+e.timeStart+" — "+e.timeEnd},Yt="Внешний контакт",Kt=function(e){return e.dateFrom+" — "+e.dateTo},Jt="Чат",Zt="Тағы",Xt="Ашу",Qt="Күнтізбені қарау",en="Лауазымы",tn="Тіркемелерді қарау",nn="Хаттарды қарау",rn="Стафф",on="Жазысу",an="Хат жазу",sn="Hozir uchrashuvda",un="Sarmoya",cn="Uchrashuv",ln="Chaqiruv",dn="Bekor qilish",fn="Email",pn="Nusxa olish",hn="Nusxa olindi",mn="Uchrashuv yaratish",vn="Qoida yaratish",gn="Qoidalar yaratish",yn="Kontaktni oʻchirish",bn="Kontaktga oid barcha kiritilgan maʼlumotlar oʻchib ketadi.",_n=function(e){return"Haqiqatan "+e.name+" ismli kontaktni oʻchirmoqchimisiz?"},On="Boʻlinma",En="Xat",wn=function(e){return e.name+" siz bilan uchrashuvda qatnashadi"},Sn=function(e){return e.date+", butun kun"},Cn=function(e){return e.date+" "+e.timeStart+" — "+e.timeEnd},xn="Внешний контакт",Tn=function(e){return e.dateFrom+" — "+e.dateTo},Pn="Chat",kn="Yana",jn="Ochish",Rn="Taqvimni ochish",In="Lavozim",An="Biriktirmalarni koʻrish",Dn="Xatlarni koʻrish",Mn="Xodimlar",Nn="Yozishma",Ln="Xat yozish",Fn={ru:r,be:a,kk:s,en:i,tr:o,uz:u},Bn=e=>{const t=(e=>Object.keys(Fn).indexOf(e)>-1)(e)?e:"ru";return e=>Fn[t][e]},Un=/[^a-zа-яё0-9]/i,zn=/['"()<>]/g,Vn=/^[a-zа-яё0-9]/i,Hn=/[A-ZА-ЯЁ]/g,Wn=e=>{return Object(c.useMemo)(()=>Object.assign(Object.assign({},e.avatar||{mono:((e,t)=>{if(!e)return"";if(!(e=(e=String(e)).replace(zn,"")))return"";const n=e.split(Un);let r=n[0].match(Hn)||[];return r.length&&e.charAt(0).match(Hn)&&(r=r.slice(1)),(e=t?e.charAt(0):-1!==e.indexOf("@")&&Vn.test(e)?e.charAt(0):2===n[0].length?n[0]:r.length?n[0].charAt(0)+r[0]:n.length>1?n[0].charAt(0)+n[1].charAt(0):n[0].charAt(0)).toUpperCase()})(e.email[0],!1)}),{textColor:"#FFFFFF"}),[e.avatar,e.email])};n(1952);var $n="Skeleton_root_WP2DO";const Gn=e=>"number"==typeof e?`${e}px`:e,qn=({className:e,width:t,height:n})=>{const r=Object.assign(Object.assign({},void 0!==t&&{"--skeleton-width":Gn(t)}),{"--skeleton-height":Gn(n)});return l.a.createElement("div",{className:f()(e,$n),style:r})};n(1953);var Yn={root:"Avatar_root_ROXG2",s:"Avatar_s_CXJpB",m:"Avatar_m_jBEB9",l:"Avatar_l_sntMI",skeleton:"Avatar_skeleton_VnyV-",image:"Avatar_image_uuz1G"};const Kn={s:24,m:44,l:72},Jn=({className:e,avatar:t,loading:n,size:r="l"})=>n?l.a.createElement(qn,{className:f()(Yn.skeleton,e),width:Kn[r],height:Kn[r]}):t?"url"in t?l.a.createElement("div",{className:f()(e,Yn.root,Yn[r])},l.a.createElement("img",{className:Yn.image,src:t.url,alt:""})):l.a.createElement("div",{className:f()(e,Yn.root,Yn[r]),style:{"--monogram-bg-color":t.color,"--monogram-text-color":t.textColor}},t.mono):null;var Zn=n(3),Xn=n(260);const Qn=Object(Zn.compose)(Object(Zn.composeU)(Xn.withWeightMedium,Xn.withTypographyCaptionM,Xn.withTypographyBodyShortM,Xn.withTypographyBodyShortL,Xn.withTypographyBodyShortXL))(Xn.Text);n(1954);var er="ContactSummary_root_p5DFH",tr="ContactSummary_avatar_m-xtI",nr="ContactSummary_content_M25B1",rr="ContactSummary_contentItem_cYRjS",ir="ContactSummary_field_UskWW",or="ContactSummary_external_xGzdE";const ar=({className:e,locale:t,contact:n})=>{const r=Bn(t),i=(e=>{return Object(c.useMemo)(()=>{var t,n,r,i;const o=[null===(t=e.name)||void 0===t?void 0:t.last,null===(n=e.name)||void 0===n?void 0:n.first,null===(r=e.name)||void 0===r?void 0:r.middle].filter(Boolean).join(" ");return o||((null===(i=e.name)||void 0===i?void 0:i.full)?e.name.full:e.displayName||"")},[e.name,e.displayName])})(n),o=Wn(n),a=n.email[0],s=Object(c.useMemo)(()=>{const e=["position","department"];return e.every(e=>!n[e])?null:l.a.createElement("div",{className:rr},e.map(e=>Boolean(n[e])&&l.a.createElement(Qn,{key:e,as:"div",typography:"body-short-m",className:ir,overflow:"ellipsis",maxLines:6},n[e])))},[n]);return l.a.createElement("div",{className:f()(e,er)},l.a.createElement(Jn,{size:"m",avatar:o,className:tr}),l.a.createElement("div",{className:nr},l.a.createElement("div",{className:rr},l.a.createElement(Qn,{className:ir,as:"div",weight:"medium",typography:"body-short-l",overflow:"ellipsis",maxLines:5},i),l.a.createElement(Qn,{as:"div",typography:"body-short-m",color:"secondary",overflow:"ellipsis",maxLines:3},a)),n.isExternal&&l.a.createElement("div",{className:f()(or,rr)},l.a.createElement(Qn,{typography:"body-short-m"},r("externalContact"))),s))};n.d(t,"ContactSummary",(function(){return ar}))}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=(n(2310),n(16)),v=n(0),g=n.n(v),y=n(9),b=n.n(y),_=n(35),O=n(23),E=n(155),w=n(510),S=n(20),C=n(45),x=n(115),T=n(56),P=n(11),k=n.n(P);function j(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var R=function(){return k()()("resource-rename-dialog")},I=(function(e){l()(n,e);var t=j(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onRenameDialogClose=r._onRenameDialogClose.bind(u()(r)),r._onRenameDialogSubmit=r._onRenameDialogSubmit.bind(u()(r)),r._onRenameTextChange=r._onRenameTextChange.bind(u()(r)),r._toggleConfirmationDialogVisible=r._toggleConfirmationDialogVisible.bind(u()(r)),r._cancelFileExtensionChange=r._cancelFileExtensionChange.bind(u()(r)),r._confirmFileExtensionChange=r._confirmFileExtensionChange.bind(u()(r)),r.state={renameText:r._getRenameText(),initialExtension:r.props.resource.ext||"",newExtension:r.props.resource.ext||""},r}return a()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.visible||e.visible!==this.props.visible}},{key:"componentDidUpdate",value:function(e){(this.props.visible&&!e.visible||this.props.resource&&this.props.resource.id!==(e.resource||{}).id)&&this.setState({renameText:this._getRenameText(),initialExtension:this.props.resource.ext||"",newExtension:this.props.resource.ext||""})}},{key:"_cancelFileExtensionChange",value:function(){var e=this,t=Object(O.revertFileExtension)(this.state.renameText,this.state.initialExtension,this.state.newExtension);this.setState({renameText:t,newExtension:this.state.initialExtension},(function(){e._confirmFileExtensionChange()}))}},{key:"_confirmFileExtensionChange",value:function(){this._toggleConfirmationDialogVisible(),this._rename()}},{key:"_toggleConfirmationDialogVisible",value:function(){this.setState({isConfirmationDialogVisible:!this.state.isConfirmationDialogVisible})}},{key:"_onRenameDialogClose",value:function(){this.setState({renameText:this._getRenameText()}),"function"==typeof this.props.onClose&&this.props.onClose(),this.props.cancelConfirmation()}},{key:"_getRenameText",value:function(){var e=this.props,t=e.resource,n=e.nameSuffix;return Object(O.addNameSuffix)(t.name||"","dir"===t.type,n)}},{key:"_rename",value:function(){"function"==typeof this.props.onSubmit&&this.props.onSubmit(this.state.renameText),this.props.submitConfirmation({name:this.state.renameText})}},{key:"_onRenameDialogSubmit",value:function(){if("dir"!==this.props.resource.type){var e=Object(O.extname)(this.state.renameText,!1);!this.props.noChangeExtensionConfirmation&&this.state.initialExtension&&this.state.renameText&&e.toLowerCase()!==this.state.initialExtension?(this.setState({newExtension:e}),this._toggleConfirmationDialogVisible()):this._rename()}else this._rename()}},{key:"_onRenameTextChange",value:function(e){this.setState({renameText:e})}},{key:"_getValidationErrorText",value:function(){var e=this.props.resource.type,t=_.default.validateName(this.state.renameText);return t&&b.a.get(_.resourceNameValidationResultI18n,[t,e])}},{key:"_formatFileExtension",value:function(e){return e.length<10?e:"".concat(e.slice(0,7),"...")}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.text,r=e.resource,i=e.errorText,o=e.visible,a=e.isMobile,s=e.isIosSafari,u=e.progress,c=e.submitButtonText,l=void 0===c?"Сохранить":c,d=e.hasCancelButton,f=this._getValidationErrorText();return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.default,{cls:R().m({hidden:this.state.isConfirmationDialogVisible}).mix(C.LISTING_PREVENT_DESELECT_CLASS),title:t,renameText:this.state.renameText,dontSelectExtention:!r||"dir"!==r.type,errorText:i||f,submitButtonText:l,submitDisabled:!Boolean(this.state.renameText)||Boolean(f),onSubmit:this._onRenameDialogSubmit,cancelButtonText:d&&!a?"Отменить":void 0,closeButtonAriaLabel:"Закрыть",onCancel:this._onRenameDialogClose,onClose:this._onRenameDialogClose,onTextChange:this._onRenameTextChange,visible:o,isIosSafari:s,autofocusButton:!0,progress:u},n?g.a.createElement("div",{className:R().e("text")},n):null),g.a.createElement(E.default,{cls:R().e("confirmation-dialog").mix(C.LISTING_PREVENT_DESELECT_CLASS),closeButtonAriaLabel:"Закрыть",title:"Расширение будет изменено!",visible:this.state.isConfirmationDialogVisible,onClose:this._toggleConfirmationDialogVisible,onCancel:this._cancelFileExtensionChange,onSubmit:this._confirmFileExtensionChange,cancelButtonText:"Оставить ."+yr.externals.entityify(this._formatFileExtension(this.state.initialExtension)),submitButtonText:this.state.newExtension?"Использовать ."+yr.externals.entityify(this._formatFileExtension(this.state.newExtension)):"Убрать расширение",autofocusButton:!0},g.a.createElement("div",{className:"rename-dialog__content"},"После изменения расширения этот файл может перестать открываться в программах")))}}]),n})(v.Component);I.defaultProps={resource:{},visible:!1,title:"Переименовать"};var A={submitConfirmation:T.submitConfirmation,cancelConfirmation:T.cancelConfirmation},D=Object(m.connect)((function(e,t){var n=t.dialog,r=e.resources,i=e.environment.agent.isMobile,o=Object(x.isIosSafariSelector)(e);if(n&&n.data){var a=n.data,s=a.resourceId,u=a.onSubmit,c=a.onClose,l=a.message,d=a.title,f=a.text,p=a.progress,h=a.nameSuffix,m=a.submitButtonText,v=a.hasCancelButton,g=a.noChangeExtensionConfirmation;return{visible:n.state===S.STATE.OPENED,isMobile:i,isIosSafari:o,resource:r[s]||{},onSubmit:u,onClose:c,title:d,text:f,progress:p,nameSuffix:h,submitButtonText:m,hasCancelButton:v,noChangeExtensionConfirmation:g,errorText:l}}return{visible:!1,isIosSafari:o,resource:{}}}),A)(I);D.dialogName="rename";var M=D,N=n(164),L=n(141);function F(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var B=Object(L.default)({loader:function(){return n.e(5).then(n.bind(null,2520))},isDialog:!0}),U=(function(e){l()(n,e);var t=F(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r}return a()(n,[{key:"_onDialogClose",value:function(){this.props.closeDialog("fotkiInfo")}},{key:"render",value:function(){return this.props.visible||this.props.resourceId?g.a.createElement(N.default,{cls:k()()("fotki-info-dialog").mix(C.LISTING_PREVENT_DESELECT_CLASS),onClose:this._onDialogClose,closeButtonAriaLabel:"Закрыть",visible:this.props.visible},g.a.createElement(B,{resourceId:this.props.resourceId})):null}}]),n})(v.Component),z={closeDialog:S.closeDialog},V=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n&&n.state===S.STATE.OPENED,resourceId:n&&n.data&&n.data.resourceId}}),z)(U);V.dialogName="fotkiInfo";var H=V,W=n(22),G=n.n(W),q=(n(2312),n(407)),Y=(n(147),n(894)),K=n(14);function J(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Z=["interface elements","versions list"],X=Object(L.default)({loader:function(){return n.e(13).then(n.bind(null,2519))},isDialog:!0}),Q=(function(e){l()(n,e);var t=J(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onCloseVersionsDialog=r._onCloseVersionsDialog.bind(u()(r)),r}return a()(n,[{key:"_onCloseVersionsDialog",value:function(){this.props.closeVersionsDialog(),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];K.default.count.apply(K.default,G()(Z.concat(t)))})("close")}},{key:"render",value:function(){var e=this.props.visible;return g.a.createElement(q.Modal,{theme:"normal",onClose:this._onCloseVersionsDialog,visible:e,className:k()()("versions-dialog").mix(C.LISTING_PREVENT_DESELECT_CLASS)},g.a.createElement(X,{visible:e}))}}]),n})(v.Component),ee={closeVersionsDialog:Y.closeVersionsDialog},te=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n&&n.state===S.STATE.OPENED}}),ee)(Q);te.dialogName="versions";var ne=te,re=(n(2313),n(113)),ie=n(29);function oe(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var ae=function(){return k()()("document-edit-confirmation-dialog")},se=(function(e){l()(n,e);var t=oe(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r._onDialogSubmit=r._onDialogSubmit.bind(u()(r)),r}return a()(n,[{key:"_onDialogClose",value:function(){this.props.closeDialog("documentEditConfirmation")}},{key:"_isPathValid",value:function(){return this.props.data.originalPath&&(this.props.data.originalPath.startsWith("/edit")||this.props.data.originalPath.startsWith("/editnew"))}},{key:"_onDialogSubmit",value:function(){this._onDialogClose(),this._isPathValid()&&this.props.openUrlWithSk(this.props.data.originalPath)}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.data;return g.a.createElement(E.default,{visible:t,cls:ae(),onSubmit:this._onDialogSubmit,onClose:this._onDialogClose,onCancel:this._onDialogClose,closeButtonAriaLabel:"Закрыть",submitButtonText:"new"===n.type?"Создать":"Открыть",cancelButtonText:"Отменить"},g.a.createElement(re.default,{cls:ae().e("icon"),size:"m",ext:n.ext,shadow:!0}),g.a.createElement("div",{className:ae().e("text")},"new"===n.type?"Создать новый документ?":"Открыть для редактирования документ «"+yr.externals.entityify(n.fileName)+"»?"))}}]),n})(v.Component),ue={closeDialog:S.closeDialog,openUrlWithSk:ie.openUrlWithSk},ce=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n.state===S.STATE.OPENED,data:n.data||{}}}),ue)(se);ce.dialogName="documentEditConfirmation";var le=ce;n(2314);function de(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var fe=function(){return k()()("invite-folder-confirmation-dialog")},pe=(function(e){l()(n,e);var t=de(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r}return a()(n,[{key:"_onDialogClose",value:function(){this.props.closeDialog("inviteFolderConfirmation")}},{key:"render",value:function(){return g.a.createElement(E.default,{visible:this.props.visible,cls:fe(),onClose:this._onDialogClose,onCancel:this._onDialogClose,closeButtonAriaLabel:"Закрыть",cancelButtonText:"Закрыть",cancelButtonProps:{view:"raised",size:"m"}},g.a.createElement("div",{className:fe().e("text")},"Приглашение в папку не найдено или более не действительно"))}}]),n})(v.Component),he={closeDialog:S.closeDialog},me=Object(m.connect)((function(e,t){var n=t.dialog;return{visible:n.state===S.STATE.OPENED,data:n.data||{}}}),he)(pe);me.dialogName="inviteFolderConfirmation";var ve=me,ge=(n(2315),n(597)),ye=n(257),be=n(284),_e=n(600),Oe=n(157),Ee=n(19),we=n(26),Se=n(195),Ce=n(24),xe=n(92),Te=n(32),Pe=n(191);n(1092),n(2317),n(2318);nb.define("loader-thin",{events:{init:function(){this.$node=$(this.node),this.$text=this.$node.find(".js-text")}},showText:function(){this.$text.show()},hideText:function(){this.$text.hide()},show:function(){this.$node.removeClass("nb-is-hidden")},hide:function(){this.$node.addClass("nb-is-hidden")}});n(2319);var ke=n(68),je=n(84);n(2320),n(2321),n(2322);var Re,Ie=n(9),Ae=n(18).default,De=n(20).updateDialog,Me=n(52).getActiveConfirmationOperation,Ne=[ke.Keys.UP,ke.Keys.DOWN,ke.Keys.LEFT,ke.Keys.RIGHT,ke.Keys.HOME,ke.Keys.END];function Le(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}ns.ViewCollection.define("tree",{models:{tree:"updateView"},paramsRewrite:function(e){var t;return e.id=e.id||(null===(t=Ae().getState().dialogs)||void 0===t||null===(t=t.selectFolder)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.folderId)||"/disk",e},split:{intoViews:"tree",byModel:"tree"},events:{"ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy","click .js-folders-toggle":"toggleSubfoldersOnClick",keydown:"keydown",dblclick:"toggleSubfoldersOnClick",click:"select",tap:"select"},methods:{keydown:function(e){switch(Ne.includes(e.keyCode)&&(e.stopPropagation(),e.preventDefault()),e.keyCode){case ke.Keys.RIGHT:this.toggleSubfolders(!0);break;case ke.Keys.LEFT:this.models.tree.get(".state.expanded")?this.toggleSubfolders(!1):this.selectParentNode();break;case ke.Keys.UP:this.selectNextNode(-1);break;case ke.Keys.DOWN:this.selectNextNode(1);break;case ke.Keys.HOME:this.selectFirstNode();break;case ke.Keys.END:this.selectLastNode()}},onhtmlinit:function(){Ie.bindAll(this,"updateSelected"),this.scrollableContainer=this.node.closest(".select-folder-dialog__tree"),this.updateSelected(),ns.Model.get("stateTree").on("ns-model-changed.selected",this.updateSelected),ns.Model.get("stateTree").on("ns-model-changed.focused",this.updateSelected)},onhtmldestroy:function(){ns.Model.get("stateTree").off("ns-model-changed.selected",this.updateSelected),ns.Model.get("stateTree").off("ns-model-changed.focused",this.updateSelected)},_getNodes:function(){return $(this.$node.closest(".ns-view-treeWrap")[0].querySelectorAll(".ns-view-tree")).filter(":visible")},_selectNode:function(e){var t=new URLSearchParams(e.dataset.key);ns.Model.get("stateTree").select(t.get("id"))},selectFirstNode:function(){var e=this._getNodes();this._selectNode(e[0])},selectLastNode:function(){var e=this._getNodes();this._selectNode(e[e.length-1])},selectParentNode:function(){var e=this.$node.parents(".ns-view-tree")[0];this._selectNode(e)},selectNextNode:function(e){var t=this._getNodes(),n=t.index(this.$node),r=t[Math.max(0,Math.min(t.length-1,n+e))];this._selectNode(r)},updateSelected:function(){var e=ns.Model.get("stateTree").get(".selected"),t=e===this.params.id,n=this.$node.hasClass("js-disabled");(this.$node.toggleClass("b-tree__item_selected",t).attr({"aria-selected":t&&!n,"aria-disabled":n,tabindex:t?0:-1}),t)&&(this.node.focus(),this.scrollableContainer.getBoundingClientRect().top>this.node.getBoundingClientRect().top&&this.node.scrollIntoView(),Ae().dispatch(De("selectFolder",{folderId:e,selectedFolderDisabled:n})))},select:function(e){e&&e.stopPropagation(),this.$node.hasClass("js-disabled")||ns.Model.get("stateTree").select(this.params.id)},toggleSubfoldersOnClick:function(e){e.stopPropagation(),this.toggleSubfolders()},toggleSubfolders:function(e){this.$node.hasClass("js-disabled-subtree")||this.models.tree.toggle("boolean"==typeof e?e:void 0)},getOperationParams:function(){var e=Me();if(!e)return{resourceIds:[]};if(e.isSagaOperation){var t=e.srcs,n=e.type,r=t.length&&Object(O.dirname)(t[0]),i=t.length>1&&t.some((function(e){return Object(O.dirname)(e)!==r})),o=Ae().getState().resources;return{isMove:n===je.OperationType.MOVE,isWfolioCreate:"wfolio-create-project"===e.type,resourceIds:t,parentId:r,isSelectedAcrossSeveralFolders:i,hasGroupFolder:t.map((function(e){return o[e]})).some((function(e){var t=e.meta.group;return t&&t.gid&&t.is_root})),creatingSharedFolder:!1}}var a=Boolean(e&&e.get(".gid")),s=e&&e.get(".idSrc"),u=Ae().getState(),c=u.statesContext.selected,l=u.resources,d=a?c:s?[s]:[],f=d.length&&Object(O.dirname)(d[0]),p=d.length>1&&d.some((function(e){return Object(O.dirname)(e)!==f}));return{isMove:e&&"move"===e.getType(),resourceIds:d,parentId:f,isSelectedAcrossSeveralFolders:p,hasGroupFolder:d.map((function(e){return l[e]})).some((function(e){var t=e.meta.group;return t&&t.gid&&t.is_root})),creatingSharedFolder:e&&e.get(".creatingSharedFolder")}},isDefaultFolder:function(e){var t=Ae().getState().defaultFolders;return Object.values(t.folders).some((function(t){return e[0].data===t}))}}}),Re=n(2412).default;var Fe=function(){return k()()("select-folder-dialog")};ns.View.define("treeWrap"),ns.layout.define("react-tree",{treeWrap:"tree&"});var Be=(function(e){l()(n,e);var t=Le(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={isUnlimWarningHidden:!1,isDisabledFolderWarningHidden:!1,isTreeLoaded:!1},r._onSelectFolder=r._onSelectFolder.bind(u()(r)),r._onBackClick=r._onBackClick.bind(u()(r)),r._onUnlimWarningClose=r._onUnlimWarningClose.bind(u()(r)),r._onDisabledFolderWarningClose=r._onDisabledFolderWarningClose.bind(u()(r)),r._onSubmit=r._onSubmit.bind(u()(r)),r._setCreateFolderFormRef=r._setCreateFolderFormRef.bind(u()(r)),r._onClose=r._onClose.bind(u()(r)),r._onMoveToVirtualDiskWarningClose=r._onMoveToVirtualDiskWarningClose.bind(u()(r)),r._getMoveToVirtualDisWarning=r._getMoveToVirtualDisWarning.bind(u()(r)),r._isResourceDisabled=r._isResourceDisabled.bind(u()(r)),r._getVdAdditionalFields=r._getVdAdditionalFields.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){this._countMetrika("open"),this.props.diskWebSelectFolderListingExp||this._updateTreeLoadingState()}},{key:"componentDidUpdate",value:function(e){this.state.isDisabledFolderWarningHidden&&this.props.diskWebSelectFolderListingExp&&(this.props.folderId!==e.folderId||this.props.visible&&!e.visible)&&this.setState({isDisabledFolderWarningHidden:!1}),this.props.visible&&!e.visible&&(this._countMetrika("open"),this.state.isUnlimWarningHidden&&this.setState({isUnlimWarningHidden:!1}),this._createFolderFormRef&&this._createFolderFormRef.reset()),this.props.diskWebSelectFolderListingExp||this.props.folderId===e.folderId||this._updateTreeLoadingState()}},{key:"_updateTreeLoadingState",value:function(){var e=this;if(this.props.folderId){var t=ns.Model.get("tree",{id:Object(Ce.getCurrentVirtualDisk)(this.props.folderId)||"/disk"});this.setState({isTreeLoaded:t.isValid()}),t.isValid()||t.once("ns-model-changed",(function(){e.setState({isTreeLoaded:!0})}))}}},{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];K.default.count.apply(K.default,["interface elements","select folder dialog",this.props.type,this.props.diskWebSelectFolderListingExp?"listing":"tree"].concat(t))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=!this.props.visible&&e.visible,n=!this.props.folderId&&e.folderId;!t&&!n||this.props.diskWebSelectFolderListingExp||(ns.Model.get("stateTree").select(e.folderId),ns.Model.get("tree",{id:Object(Ce.getCurrentVirtualDisk)(e.folderId)||"/disk"}).collapse())}},{key:"_onSubmit",value:function(){var e=this.props.diskWebSelectFolderListingExp?this.props.folderId:ns.Model.get("stateTree").get(".selected");this.props.onSubmit({folderId:e}),this._countMetrika("submit",String(e.split("/").length-2))}},{key:"_onClose",value:function(){this.props.onCancel(),this._countMetrika("close")}},{key:"_onUnlimWarningClose",value:function(){this.setState({isUnlimWarningHidden:!0})}},{key:"_onDisabledFolderWarningClose",value:function(){this.setState({isDisabledFolderWarningHidden:!0})}},{key:"_onMoveToVirtualDiskWarningClose",value:function(){this.setState({isMoveToVirtualDiskWarningHidden:!0})}},{key:"_getMoveToVirtualDisWarning",value:function(){var e,t,n=this.props.currentResource;return"shared"===(null===n||void 0===n?void 0:n.icon)?t="При перемещении папки "+yr.externals.entityify(n.name)+" у приглашённых пользователей отключится доступ, но сохранится копия текущей версии папки.":null!==n&&void 0!==n&&null!==(e=n.meta)&&void 0!==e&&e.short_url?t="dir"===n.type?"При перемещении папки "+yr.externals.entityify(n.name)+" будет удалена публичная ссылка на неё и все публичные ссылки внутри папки.":"При перемещении файла "+yr.externals.entityify(n.name)+" публичная ссылка на него будет удалена.":"dir"===(null===n||void 0===n?void 0:n.type)&&(t="При перемещении "+yr.externals.entityify(n.name)+" все публичные ссылки внутри этой папки буду удалены."),t}},{key:"_getWarnings",value:function(){var e,t=this.props,n=t.unlimWarningText,r=t.disableState,i=r.disabled,o=r.text,a=t.type,s=[],u=Object(Ce.isPathInsideVirtualDiskFiles)(this.props.folderId),c=(null===(e=this.props.currentResource)||void 0===e?void 0:e.id)&&!Object(Ce.isPathInsideVirtualDiskFiles)(this.props.currentResource.id);if(!n||u||this.state.isUnlimWarningHidden||s.push({key:"unlim",text:n,onClose:this._onUnlimWarningClose}),i&&!this.state.isDisabledFolderWarningHidden&&s.push({key:"disabled",text:o,onClose:this._onDisabledFolderWarningClose}),"move"===a&&u&&c&&!this.state.isMoveToVirtualDiskWarningHidden){var l=this._getMoveToVirtualDisWarning();l&&s.push({key:"moveToVdWarning",text:l,onClose:this._onMoveToVirtualDiskWarningClose})}var d=s.map((function(e){var t=e.key,n=e.text,r=e.onClose;return g.a.createElement(ye.MessageBox,{className:Fe().e("warning"),view:"default",size:"m",key:t,onClose:r},g.a.createElement(ye.Wrapper,{align:"left",leading:g.a.createElement(be.a,null)},n))}));return d.length?g.a.createElement("div",{className:Fe().e("warning-list-wrapper")},d):null}},{key:"_setCreateFolderFormRef",value:function(e){this._createFolderFormRef=e}},{key:"_getCustomFooter",value:function(){if("create-folder"!==this.props.type||this.props.creatingFamilyFolder)return null;var e=this.props.disableState.disabled;return g.a.createElement(Re,{createRef:this._setCreateFolderFormRef,dialogName:"selectFolder",disableButton:e})}},{key:"_onSelectFolder",value:function(e){this.props.updateDialog("selectFolder",{folderId:e})}},{key:"_onBackClick",value:function(){this.props.updateDialog("selectFolder",{folderId:void 0})}},{key:"_isResourceDisabled",value:function(e){var t=e.type,n=e.id,r=e.state,i=e.meta,o=this.props.creatingSharedFolder;return!["dir","vd"].includes(t)||_.default.isTrash(n)||Boolean(r&&r.disabled)||Boolean(o&&i&&i.group)||this.props.isReadOnlyVdResourceByPath(n)}},{key:"_getVdAdditionalFields",value:function(e){var t=this.props.isReadOnlyVdResourceByPath(e.id),n=g.a.createElement(Pe.default,{tooltipCls:Fe().e("tooltip"),text:"Файлы и папки нельзя копировать и перемещать на Диск, если он доступен только для просмотра.",direction:["bottom"],showDelay:0},"Только просмотр");return[{type:"readonly-label",position:Oe.POSITIONS.ALWAYS_RIGHT,content:t?n:null}]}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.diskWebSelectFolderListingExp,r=e.folderId,i=e.selectedFolderDisabled,o=e.title,a=e.type,s=e.submitButtonText,u=e.disableState.disabled,c=e.hasVirtualDisks,l=e.virtualDiskName,d=e.creatingFamilyFolder,f=e.isCurrentAlbumFamily,p=n?u:!this.state.isTreeLoaded||!r||i,h=c&&!["journal-filter","move"].includes(a),m=h&&!f?g.a.createElement(we.Button,{size:"xl",view:"clear",className:Fe().e("button"),"aria-label":"Ещё",onClick:this._onBackClick,iconLeft:Se.backArrowIconProvider},l||"Мой Диск"):null,v=null;t&&(v=r?n?g.a.createElement(g.a.Fragment,null,m,g.a.createElement(_e.default,{cls:Fe().e("listing"),folderId:r,isResourceDisabled:this._isResourceDisabled,onSelectResource:this._onSelectFolder})):g.a.createElement(g.a.Fragment,null,m,g.a.createElement("div",{role:"tree"},g.a.createElement(ge.a,{cls:Fe().e("tree"),layoutName:"react-tree",viewName:"treeWrap",renderSpin:!0}))):g.a.createElement(_e.default,{cls:Fe().e("listing").m({vd:!0}),folderId:Ce.VIRTUAL_DISKS_ROOT,isResourceDisabled:this._isResourceDisabled,isSelectable:!1,onResourceOpen:this._onSelectFolder,getAdditionalFields:this._getVdAdditionalFields,openOnSingleClick:!0}));return g.a.createElement(E.default,{cls:Fe().m({touch:!1,"create-folder":"create-folder"===a&&!d,"is-available-disk-list":h}).mix(C.LISTING_PREVENT_DESELECT_CLASS),onSubmit:this._onSubmit,onClose:this._onClose,onCancel:this._onClose,visible:t,title:o?g.a.createElement("div",{className:Fe().e("title")},o):null,noCloseButton:!1,submitButtonText:s||"Выбрать",submitDisabled:p,cancelButtonText:"Отменить",closeButtonAriaLabel:"Закрыть",autofocusButton:!1,useMobilePane:!1},g.a.createElement("div",{className:Fe().e("content")},v,r&&this._getWarnings(),r&&this._getCustomFooter()))}}]),n})(v.Component),Ue={updateDialog:S.updateDialog,openDialog:S.openDialog},ze=Object(m.connect)((function(e,t){var n=t.dialog,r=n.data,i=r.title,o=r.type,a=r.creatingFamilyFolder,s=r.creatingSharedFolder,u=r.unlimWarningText,c=r.submitButtonText,l=r.folderId,d=r.selectedFolderDisabled,f=r.onSubmit,p=r.onCancel,h=r.resourceId,m=r.treeLoaded,v=e.environment.session.experiment.disk_web_select_folder_listing_exp,g=e.defaultFolders.hasVirtualDisks;if(n){var y=l&&Object(Ce.getCurrentVirtualDisk)(l);return{diskWebSelectFolderListingExp:v,visible:n.state===S.STATE.OPENED,folderId:Object(xe.isReadOnlyVdResource)(l,e)?void 0:l,selectedFolderDisabled:d,creatingFamilyFolder:a,creatingSharedFolder:s,disableState:v?(function(e){var t=e.resources,n=e.statesContext.selected,r=e.dialogs.selectFolder;if(!r||r.state!==S.STATE.OPENED)return{disabled:!1};var i,o,a=r.data,s=a.folderId,u=a.type,c=a.resourceId,l=a.creatingSharedFolder,d=t[s],f=["move","copy"].includes(u),p=[];if(f&&(o=(p=c?[c]:n).map((function(e){return t[e]})).filter(Boolean).some((function(e){var t=e.meta;return t&&t.group&&t.group.gid&&t.group.is_root}))),(d.parents||[]).map((function(e){return e.id})).concat(d.id).every((function(e){var n=t[e];return b.a.get(n,"state.blocked")||b.a.get(n,"state.part")?i="Данная папка заблокирована для действий, выберите другую":640===b.a.get(n,"meta.group.rights")?i="У вас недостаточно прав для действий в этой папке":f&&p.some((function(t){return t===e}))?i="move"===u?"Нельзя переместить папку внутри её самой":"Нельзя копировать папку внутри её самой":l&&b.a.get(n,"meta.group")?i="Нельзя создать общую папку внутри другой общей папки":"move"===u&&o&&b.a.get(n,"meta.group.gid")&&(i="Нельзя переместить общую папку в общую папку"),!i})),!i&&"move"===u){var h=p.length&&Object(O.dirname)(p[0]);p.length>1&&p.some((function(e){return Object(O.dirname)(e)!==h}))||d.id!==h||(i=1===p.length?"Перемещаемый объект уже в этой папке, выберите другую":"Перемещаемые объекты уже в этой папке, выберите другую")}return{disabled:Boolean(i),text:i}})(e):{disabled:!1},title:i,type:o,unlimWarningText:u,submitButtonText:c,onSubmit:f,onCancel:p,hasVirtualDisks:g,virtualDiskName:y?Object(Ee.getResourceData)(e,y,"name"):null,currentResource:Object(Ee.getResourceData)(e,h),resourceId:h,treeLoaded:m,isReadOnlyVdResourceByPath:function(t){return Object(xe.isReadOnlyVdResource)(t,e)},isCurrentAlbumFamily:Object(Te.isCurrentAlbumFamily)(e)}}return{visible:!1}}),Ue)(Be);ze.dialogName="selectFolder";var Ve=ze,He=(n(2325),n(344)),We=n.n(He);function $e(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Ge=function(){return k()()("client-confirmation-dialog")},qe=(function(e){l()(n,e);var t=$e(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onSubmit=r._onSubmit.bind(u()(r)),r._onSubmitAll=r._onSubmitAll.bind(u()(r)),r._onClose=r._onClose.bind(u()(r)),r._onRejectAll=r._onRejectAll.bind(u()(r)),r}return a()(n,[{key:"_onSubmit",value:function(){this.props.onSubmit()}},{key:"_onSubmitAll",value:function(){this.props.onSubmitAll()}},{key:"_onClose",value:function(){this.props.onReject()}},{key:"_onRejectAll",value:function(){this.props.onRejectAll()}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.isMobile,r=e.isIosSafari,i=e.title,o=e.fotkiResourceName,a=e.text,s=e.isGroup,u=e.submitButtonText,c=e.cancelButtonText,l=e.cancelAll,d=e.submitAllButtonText,f=e.actionButton,p=e.useNewDialog,h=Boolean(o),m=!n||h?"string"==typeof c?c:"Отменить":"";return p?g.a.createElement(We.a,{visible:t,title:i,submitButtonText:u,cancelButtonText:m,onSubmit:this._onSubmit,onClose:this._onClose,className:Ge().toString(),closeI18n:"Закрыть"},a):g.a.createElement(E.default,{cls:Ge().m({"no-title":!i}).mix([C.LISTING_PREVENT_DESELECT_CLASS].concat(h?"fotki-warning":[])),submitButtonText:u||"Заменить",extraButtonText:s?d||"Заменить все":"",cancelButtonText:m,onSubmit:this._onSubmit,onExtraButtonClick:this._onSubmitAll,actionButton:f,onCancel:l&&s?this._onRejectAll:this._onClose,onClose:this._onClose,closeButtonAriaLabel:"Закрыть",visible:t,isIosSafari:r,autofocusButton:!0},i?g.a.createElement("div",{className:Ge().e("title")},i):null,g.a.createElement("div",{className:Ge().e("content")},o?g.a.createElement("div",{className:"fotki-warning__resource-name"},o):null,a))}}]),n})(v.Component),Ye=Object(m.connect)((function(e,t){var n=t.dialog;if(n){var r=n.data,i=r.isGroup,o=r.title,a=r.fotkiResourceName,s=r.text,u=r.submitButtonText,c=r.cancelButtonText,l=r.cancelAll,d=r.submitAllButtonText,f=r.actionButton,p=r.onSubmit,h=r.onSubmitAll,m=r.onReject,v=r.onRejectAll,g=r.progress,y=r.useNewDialog;return{visible:n.state===S.STATE.OPENED,isGroup:i,title:o,fotkiResourceName:a,text:s,submitButtonText:u,cancelButtonText:c,cancelAll:l,submitAllButtonText:d,actionButton:f,onSubmit:p,onSubmitAll:h,onReject:m,onRejectAll:v,progress:g,useNewDialog:y,isMobile:e.environment.agent.isMobile,isIosSafari:Object(x.isIosSafariSelector)(e)}}return{visible:!1}}))(qe);Ye.dialogName="confirmation";var Ke=Ye,Je=n(74),Ze=n(51),Xe=n(12);function Qe(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var et=(function(e){l()(n,e);var t=Qe(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return g.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M1 3.714l8.842-1.557v9.272H1V3.714zm9.947-1.767L22 0v11.429H10.947V1.947zM1 20.157v-7.715h8.842v9.272L1 20.157zm9.947 1.896v-9.581H22V24l-11.053-1.947z"})}}]),n})(Xe.default);Object(Xe.iconProvider)(et);function tt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var nt=(function(e){l()(n,e);var t=tt(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"_getDefaultSize",value:function(){return"l"}},{key:"getContentSVG",value:function(){return g.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M20.56 18.795a12.642 12.642 0 0 1-1.34 2.28c-.705.95-1.282 1.608-1.727 1.974-.69.6-1.428.907-2.22.924-.567 0-1.252-.153-2.05-.463-.799-.308-1.534-.461-2.206-.461-.705 0-1.46.153-2.27.461-.809.31-1.461.472-1.96.488-.759.03-1.515-.285-2.27-.95-.481-.397-1.084-1.078-1.805-2.043-.775-1.031-1.411-2.226-1.91-3.589C.268 15.944 0 14.519 0 13.139c0-1.58.361-2.944 1.084-4.086a6.194 6.194 0 0 1 2.27-2.173 6.372 6.372 0 0 1 3.07-.82c.603 0 1.393.177 2.375.523.98.348 1.608.524 1.883.524.206 0 .905-.206 2.089-.617 1.12-.381 2.064-.539 2.838-.477 2.098.16 3.674.943 4.722 2.352-1.876 1.075-2.804 2.581-2.786 4.513.017 1.505.594 2.758 1.728 3.752A5.719 5.719 0 0 0 21 17.7c-.139.38-.285.744-.44 1.094zM16 .507c0 1.267-.434 2.45-1.298 3.545-1.044 1.302-2.306 2.054-3.674 1.936a4.207 4.207 0 0 1-.028-.48c0-1.217.496-2.519 1.377-3.583.44-.54 1-.987 1.678-1.345.677-.352 1.318-.547 1.92-.58.018.17.025.339.025.507z"})}}]),n})(Xe.default),rt=(Object(Xe.iconProvider)(nt),!0),it=function(){rt=!1},ot=function(){var e=document.getElementById("url-scheme-iframe");return e||((e=document.createElement("iframe")).id="url-scheme-iframe",e.style.display="none",document.body.appendChild(e)),e},at=function(e,t){return rt=!0,window.addEventListener("blur",it),new Promise(function(n){if(t){var r=ot();r.contentWindow&&r.contentWindow.location.assign(e)}else window.location.assign(e);setTimeout((function(){n({info:!0,hasApp:!rt}),window.removeEventListener("blur",it)}),2e3)})},st=function(e){var t=ot();return t.contentWindow&&t.contentWindow.location.assign(e),new Promise(function(e){setTimeout((function(){e({info:!1})}),5e3)})};var ut=function(e,t,n){return"Firefox"===t?st(e):at(e,n)};var ct=n(1117),lt=n.n(ct),dt=n(369);n(2326);function ft(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var pt=function(){return k()()("download-big-folder-dialog")},ht=(function(e){l()(n,e);var t=ft(n);function n(e){var r;i()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(u()(r)),r._onDownloadApp=r._onDownloadApp.bind(u()(r)),r._onLinkAboutAppClick=r._onLinkAboutAppClick.bind(u()(r)),r.state={checked:!1};var o=["YandexBrowser","Chrome","Edge"].includes(r.props.browserName),a="Windows"===r.props.osFamily;return r._tryDownloadWithApp=a&&o&&!r.props.isForceCanNotUseApp,r._osHasApp=["Windows","MacOS"].includes(r.props.osFamily),r._title=r.props.title,r._tryDownloadWithApp&&(r._title=r.props.titleTryDownload),r._description=r.props.description,r.props.isForceCanNotUseApp?r._description=r.props.descriptionIfCanNotUseApp:r._tryDownloadWithApp?r._description=r.props.descriptionTryDownload:r._osHasApp&&(r._description=r.props.descriptionOsHasApp),r._buttonText=r.props.buttonText,"Windows"===r.props.osFamily&&(r._buttonText=r.props.buttonTextWindows),r}return a()(n,[{key:"componentDidMount",value:function(){var e=this,t="without buttons";if(this._tryDownloadWithApp?t="with loader":this._osHasApp&&(t="download through app"),this.props.countMetrika("open popup",t),this._tryDownloadWithApp){var n=this.props.getDownloadUrlScheme(this.props.folderId);this._timerGoToCustomUrlScheme=setTimeout((function(){e.props.countMetrika("try open url scheme"),n.then((function(t){e._promiseGoToCustomUrlScheme=lt()(ut(t,e.props.browserName)),e._promiseGoToCustomUrlScheme.promise.then((function(t){t.info?e.setState({checked:!0,info:!0,hasApp:t.hasApp}):e.setState({checked:!0,info:!1}),e.props.countMetrika(t.info?t.hasApp?"successed open url scheme":"failed open url scheme":"could not check url scheme")})).catch((function(){}))}))}),2e3)}}},{key:"componentWillUnmount",value:function(){this._timerGoToCustomUrlScheme&&clearTimeout(this._timerGoToCustomUrlScheme),this._promiseGoToCustomUrlScheme&&this._promiseGoToCustomUrlScheme.cancel()}},{key:"_onClose",value:function(){this.props.onClose()}},{key:"_onDownloadApp",value:function(){this.props.getLinkApp("Windows"===this.props.osFamily?{downloadFolder:this.props.folderId}:{}).then((function(e){Object(dt.a)(e)})),this.props.countMetrika("click download app",this.props.osFamily),this.props.onClose()}},{key:"_getButtons",value:function(){if(!["Windows","MacOS"].includes(this.props.osFamily)||this.props.isForceCanNotUseApp)return null;var e="Windows"===this.props.osFamily?et:nt;return g.a.createElement(we.Button,{className:pt().e("button"),view:!this._tryDownloadWithApp||this.state.checked&&(!this.state.checked||!this.state.hasApp&&this.state.info)?"action":"raised",size:"m",onClick:this._onDownloadApp,iconLeft:function(t){return g.a.createElement(e,{iconSize:"m",cls:t})}},this._buttonText)}},{key:"_getSpinner",value:function(){return!this._tryDownloadWithApp||this.state.checked?null:g.a.createElement(Je.Spin,{view:"default",progress:!0,size:"xxs",className:pt().e("spin")})}},{key:"_getLinkAboutApp",value:function(){return!this._tryDownloadWithApp&&this._osHasApp&&this.props.linkAboutApp?g.a.createElement(Ze.Link,{className:pt().e("about-link"),target:"_blank",theme:"normal",href:this.props.linkAboutApp,onClick:this._onLinkAboutAppClick},this.props.linkAboutAppText):null}},{key:"_onLinkAboutAppClick",value:function(){this.props.countMetrika("click link about app")}},{key:"_getDescription",value:function(){var e=this._description;return this._tryDownloadWithApp&&this.state.checked&&(this.state.info?this.state.hasApp||(e=this.props.descriptionNoApp):e=this.props.descriptionNoInfoApp),g.a.createElement("div",{className:pt().e("description")},e,this._getLinkAboutApp(),this._getSpinner())}},{key:"render",value:function(){return g.a.createElement(N.default,{cls:pt().mix(C.LISTING_PREVENT_DESELECT_CLASS),title:this._title,onClose:this._onClose,visible:!0},this._getDescription(),this._getButtons())}}]),n})(v.Component),mt=n(40);function vt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var gt=(function(e){l()(n,e);var t=vt(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onDialogClose=r._onDialogClose.bind(u()(r)),r._getLinkApp=r._getLinkApp.bind(u()(r)),r._getDownloadUrlScheme=r._getDownloadUrlScheme.bind(u()(r)),r}return a()(n,[{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];K.default.count.apply(K.default,["interface elements","big folder"].concat(t))}},{key:"_onDialogClose",value:function(){this.props.closeDialog("download-big-folder")}},{key:"_getLinkApp",value:function(e){return Object(mt.a)("linkApp",e.downloadFolder?{id:this.props.folderId}:{}).then((function(e){return e.url}))}},{key:"_getDownloadUrlScheme",value:function(){return Object(mt.a)("getDownloadUrlScheme",{id:this.props.folderId})}},{key:"render",value:function(){return this.props.visible?g.a.createElement(ht,{title:"Папка слишком большая",titleTryDownload:"Папка скачается с помощью Яндекс.Диска для компьютера",buttonText:"Установить Яндекс.Диск",buttonTextWindows:"Установить Диск и скачать папку",description:"Её нельзя скачать целиком через браузер, но вы можете скачать её по частям.",descriptionTryDownload:"Папка слишком большая, её нельзя скачать целиком через браузер.\n Сейчас автоматически откроется программа для компьютера и начнётся скачивание",descriptionOsHasApp:"Её нельзя скачать целиком через браузер. Скачайте папку с помощью программы для компьютера.",descriptionNoApp:"Папка слишком большая, её нельзя скачать целиком через браузер.\n Не удалось обнаружить программу на компьютере. Установите её, и скачивание папки начнётся автоматически.",descriptionNoInfoApp:"Папка слишком большая, её нельзя скачать целиком через браузер.\n Сейчас автоматически откроется программа для компьютера и начнётся скачивание. Если программы нет, установите ее.",descriptionIfCanNotUseApp:"Её нельзя скачать целиком через браузер. Откройте папку и скачайте файлы по одному.",linkAboutAppText:"Подробнее",folderId:this.props.folderId,osFamily:this.props.osFamily,browserName:this.props.browserName,linkAboutApp:this.props.linkAboutApp,tryDownloadWithApp:this.props.tryDownloadWithApp,needInstallAppToDownload:this.props.needInstallAppToDownload,onClose:this._onDialogClose,getDownloadUrlScheme:this._getDownloadUrlScheme,getLinkApp:this._getLinkApp,countMetrika:this._countMetrika,isForceCanNotUseApp:this.props.isVdFolder}):null}}]),n})(v.Component),yt={closeDialog:S.closeDialog},bt=Object(m.connect)((function(e,t){var n=e.environment.agent,r=n.BrowserName,i=n.OSFamily,o=e.config.links,a=t.dialog,s=Object(Ce.isPathInsideVirtualDiskFiles)(a.data.folderId);return{visible:a.state===S.STATE.OPENED,osFamily:i,browserName:r,folderId:a.data.folderId,linkAboutApp:"".concat(o.help.disk,"actions-files/download.html#download-big-folder"),isVdFolder:s}}),yt)(gt);bt.dialogName="download-big-folder";var _t=bt,Ot=n(354),Et=n(126),wt=n(65),St=n(52);n(2327);function Ct(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var xt=function(){return k()()("select-album-dialog")},Tt=(function(e){l()(n,e);var t=Ct(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(u()(r)),r._onSelectAlbum=r._onSelectAlbum.bind(u()(r)),r._onBackClick=r._onBackClick.bind(u()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){this.props.fetchAlbums()}},{key:"_onClose",value:function(){this.props.updateDialog("selectAlbum",{}),Object(St.decideSelectAlbum)(!1),this.props.onCancel()}},{key:"_onSelectAlbum",value:function(e){if("new"===e)this.props.createAlbum(this.props.resourcesIds),K.default.count("interface elements","select album dialog","new");else if("faces"===e)this.props.updateDialog("selectAlbum",{albumType:e});else{if("merge"!==this.props.dialogAction){var t=this.props.resourcesIds.length>1?"group":"file";([this.props.albumType,e].includes("family")||this.props.albums.some((function(t){return t.id===e&&"family"===t.album_type})))&&K.default.count("actions","add to family album",this.props.calledFrom,t),K.default.count("actions","add to album",this.props.calledFrom,t)}else K.default.count("actions","merge album",this.props.isPageAlbum?"album page":"albums list");var n=e;if("favorites"===e)n=this.props.albums.find((function(t){return t.id===e})).personalAlbumId;if([this.props.albumType,e].includes("family"))n=this.props.albums.find((function(t){return t.id===e})).personalAlbumId;this.props.decideSelectAlbum(!0,n)}}},{key:"_onBackClick",value:function(){this.props.updateDialog("selectAlbum",{albumType:null})}},{key:"_getContent",value:function(){if(!this.props.visible)return null;var e=this.props.albumType&&"merge"!==this.props.dialogAction;return g.a.createElement("div",null,g.a.createElement("div",{className:xt().e("title")},e?g.a.createElement(Se.default,{onClick:this._onBackClick}):null,"Выберите альбом"),g.a.createElement("div",{className:xt().e("listing")},g.a.createElement(Ot.default,{scrollingElementSelector:"."+xt()+" .Modal-Wrapper",albumType:this.props.albumType,onAlbumClick:this._onSelectAlbum,albums:this.props.albums,readonly:!0})))}},{key:"render",value:function(){return g.a.createElement(N.default,{visible:this.props.visible,onClose:this._onClose,closeButtonAriaLabel:"Закрыть",cls:xt().m({noanimated:"merge"===this.props.dialogAction}).mix(C.LISTING_PREVENT_DESELECT_CLASS)},this._getContent())}}]),n})(v.Component),Pt={updateDialog:S.updateDialog,closeDialog:S.closeDialog,createAlbum:wt.createAlbum,decideSelectAlbum:St.decideSelectAlbum,fetchAlbumsListing:Et.fetchAlbumsListing,fetchAlbums:Et.fetchAlbums},kt=Object(m.connect)((function(e,t){var n=t.dialog,r=n.data,i=r.onCancel,o=r.albumType,a=r.excludeAlbumsIds,s=r.action,u=Object(Te.getAlbumsForSelect)(e,o,a||[]),c="sidebar";return"slider"===e.page.dialog?c="slider":"/photo"===e.page.idContext&&(c="photo toolbar"),{isPageAlbum:Object(Te.isPageAlbum)(e),dialogAction:s,calledFrom:c,albumType:o,visible:n.state===S.STATE.OPENED,albums:u,resourcesIds:("string"==typeof n.data.ids?[n.data.ids]:n.data.ids)||[],onCancel:i}}),Pt)(Tt);kt.dialogName="selectAlbum";var jt=kt;function Rt(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var It=(function(e){l()(n,e);var t=Rt(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={title:r.props.title||r._getDefaultTitle()},r._onClose=r._onClose.bind(u()(r)),r._onSubmit=r._onSubmit.bind(u()(r)),r._onTitleChanged=r._onTitleChanged.bind(u()(r)),r}return a()(n,[{key:"componentWillReceiveProps",value:function(e){(e.visible&&!this.props.visible||this.props.title!==e.title)&&this.setState({title:e.title||this._getDefaultTitle()})}},{key:"_getDefaultTitle",value:function(){return this.props.isFacesAlbum?"Имя":"Новый альбом"}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.isIosSafari,r=e.progress,i=e.isFacesAlbum,o=this._getErrorText(),a=this.props.title?"Переименовать":i?"Укажите имя":"Укажите название альбома";return g.a.createElement(w.default,{cls:k()()("album-title-dialog").mix(C.LISTING_PREVENT_DESELECT_CLASS),visible:t,title:a,renameText:this.state.title,errorText:o,submitButtonText:this.props.title?"Сохранить":"Продолжить",submitDisabled:this._isSubmitDisabled(),closeButtonAriaLabel:"Закрыть",onClose:this._onClose,onSubmit:this._onSubmit,onTextChange:this._onTitleChanged,isIosSafari:n,progress:r,zIndex:2e3})}},{key:"_onClose",value:function(){this.props.onClose()}},{key:"_onSubmit",value:function(){this._isSubmitDisabled()||this.props.onSubmit(this.state.title)}},{key:"_onTitleChanged",value:function(e){this.setState({title:e})}},{key:"_getErrorText",value:function(){return this.props.errorText?this.props.errorText:this._isEmptyTitle()?"Название альбома не может быть пустым.":this._isLongTitle()?"Название альбома не может быть длиннее 255 символов":null}},{key:"_isEmptyTitle",value:function(){return!this.state.title.trim().length}},{key:"_isLongTitle",value:function(){return this.state.title.length>255}},{key:"_isSubmitDisabled",value:function(){return this._isEmptyTitle()||this._isLongTitle()}}]),n})(v.Component),At=Object(m.connect)((function(e,t){var n=t.dialog,r=Object(x.isIosSafariSelector)(e);return n&&n.data?Object.assign({visible:n.state===S.STATE.OPENED,isIosSafari:r},n.data):{visible:!1,isIosSafari:r}}))(It);At.dialogName="album-title";var Dt=At,Mt=n(1173),Nt=n.n(Mt),Lt=n(1174),Ft=n.n(Lt),Bt=n(1175),Ut=n.n(Bt),zt=n(1176),Vt=n.n(zt),Ht=n(942),Wt=n(1177),$t=n.n(Wt),Gt=[M,Ht.FamilyFolderCreationDialog,Ht.FamilyAlbumAccessDialog,H,ne,le,ve,Ve,Ke,_t,jt,Dt,Nt.a,Ft.a,Ut.a,Vt.a,$t.a].concat([n(2352).default]).reduce((function(e,t){return e[t.dialogName]=t,e}),{});t.default=Gt}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(929),o=n(2453),a=n(495);function s(e){var t=Object(o.b)().focusNext,n=Object(a.a)(e.id),s=Object(i.a)({onPressStart:function(e){var n=e.currentTarget,r=e.target,i=e.source,o=document.activeElement;"mouse"===i&&(!n.contains(o)||r!==o&&r!==n)&&t({from:r,tabbable:!0})}}).pressProps,u=Object(r.__assign)(Object(r.__assign)({},s),{role:"group",id:n,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"]});return{fieldProps:u,segmentProps:{"aria-controls":e["aria-controls"],"aria-haspopup":e["aria-haspopup"],"aria-invalid":e["aria-invalid"],"aria-labelledby":u["aria-labelledby"]||u.id}}}var u=n(0),c=n(408),l=n(933),d=n(1005);function f(e,t){if(function(e){return/^[0-9\u0660-\u0669\u06f0-\u06f9]+$/.test(e)}(t)||/^[ap]$/i.test(t)){var n=(function(e){return e=e.replace(/[\u0660-\u0669]/g,(function(e){return String(e.charCodeAt(0)-1632)})).replace(/[\u06f0-\u06f9]/g,(function(e){return String(e.charCodeAt(0)-1776)})),Number(e)})(t);if("dayPeriod"===e){var r=t.toLowerCase();return"a"===r||1===n?1:"p"===r||2===n?2:null}if(isFinite(n))return n}return null}function p(e,t){var n=e.segment,a=n.type,s=n.value,p=n.max,h=n.text,m=n.isValid,v=n.isDisabled,g=t.resolvedOptions,y=t.increment,b=t.decrement,_=t.extraIncrement,O=t.extraDecrement,E=t.incrementToMax,w=t.decrementToMin,S=t.setSegmentValue,C=Object(c.a)().isRTL,x=Object(o.b)(),T=x.focusNext,P=x.focusPrevious,k=Object(r.__read)(Object(u.useState)(""),2),j=k[0],R=k[1],I=(function(e,t){var n=e.value,r=e.min,i=e.max,o={value:null!==n&&void 0!==n?n:void 0,min:r,max:i};if("hour"!==e.type)return o;var a=t.hourCycle,s=null!==n&&void 0!==n?n:0;switch(a){case"h11":o.value=s%12,o.min=0,o.max=11,i<12?(o.min=r,o.max=i):r>=12&&(o.min=r-12,o.max=i-12);break;case"h12":o.value=s%12||12,o.min=1,o.max=12,i<12?(o.min=r,o.max=i):r>=12&&(o.min=r-12,o.max=i-12),o.min=o.min||12,o.max=o.max||12,o.min>o.max&&(o.min=1,o.max=12);break;case"h24":o.value=s||24,o.min=r||24,o.max=i||24,o.min>o.max&&(o.min=1,o.max=24);break;case"h23":o.value=s,o.min=r,o.max=i;break;default:throw new Error("Invalid hour cycle")}return o})(n,g),A=Object(d.a)(Object(r.__assign)(Object(r.__assign)({},I),{textValue:h,disabled:v,onIncrement:Object(u.useCallback)((function(){return y(a)}),[y,a]),onDecrement:Object(u.useCallback)((function(){return b(a)}),[b,a]),onExtraIncrement:Object(u.useCallback)((function(){return _(a)}),[_,a]),onExtraDecrement:Object(u.useCallback)((function(){return O(a)}),[O,a]),onIncrementToMax:Object(u.useCallback)((function(){return E(a)}),[E,a]),onDecrementToMin:Object(u.useCallback)((function(){return w(a)}),[w,a])})).spinButtonProps,D=Object(i.a)({onPressStart:function(e){"mouse"===e.source&&e.currentTarget.focus()}}).pressProps,M=Object(u.useCallback)((function(e){S(a,e),(null===e||10*e>=p)&&R("")}),[p,S,a]),N={"aria-invalid":!m,tabIndex:0,onKeyDown:Object(u.useCallback)((function(e){if(!(["Tab","Shift","Alt","Meta"].includes(e.key)||e.ctrlKey||e.metaKey)){e.preventDefault();var t={from:e.currentTarget,tabbable:!0};switch(e.key){case"ArrowLeft":(C?T:P)(t);break;case"ArrowRight":(C?P:T)(t);break;case"Backspace":v||null===s?P(t):M(null);break;default:var n=j+e.key,r=f(a,n);if(v||null===r)return;e.stopPropagation(),M(r);var i=p.toString().length;n.length>=i||10*r>=p?T(t):R(n)}}}),[j,T,P,v,C,p,M,a,s]),onFocus:Object(u.useCallback)((function(){R("")}),[])};return v||(N.inputMode="numeric",N.contentEditable=!0,N.suppressContentEditableWarning=!0),{segmentProps:Object(l.a)(A,D,N)}}var h,m=n(1002),v=n(2450),g={year:10,month:3,day:7,hour:2,minute:5,second:5},y=Object(v.a)(new Date(0,0,1,0,0,0,0),1),b=new Date(9999,12,0,23,59,59,999),_=n(2451);!(function(e){e[e.dayPeriod=1]="dayPeriod",e[e.second=2]="second",e[e.minute=4]="minute",e[e.hour=8]="hour",e[e.day=16]="day",e[e.month=32]="month",e[e.year=64]="year"})(h||(h={}));var O={second:0,minute:0,hour:0,day:1,month:1,year:1},E={second:59,minute:59,hour:23,day:31,month:12,year:9999},w=(function(){function e(e){void 0===e&&(e={}),this.components={day:null,hour:null,minute:null,second:null,month:null,year:null},this.filledComponentsMask=0,this.set("day",e.day),this.set("hour",e.hour),this.set("dayPeriod",e.dayPeriod),this.set("minute",e.minute),this.set("second",e.second),this.set("month",e.month),this.set("year",e.year)}return e.from=function(t){if(void 0===t&&(t=null),null===t)return new e;var n=new Date(t),r=n.getHours();return new e({dayPeriod:r<12?1:2,second:n.getSeconds(),minute:n.getMinutes(),hour:r,day:n.getDate(),month:n.getMonth()+1,year:n.getFullYear()})},e.isSame=function(e,t,n){switch(e){case"year":return C(t,n);case"month":return x(t,n);case"day":return T(t,n);case"hour":return P(t,n);case"minute":return k(t,n);case"second":return j(t,n);case"dayPeriod":return T(t,n)&&S("dayPeriod",t,n)}},e.isEqual=function(e,t){return j(e,t)},e.isDateComponentType=function(e){return e in h},e.prototype.get=function(e,t){var n,r;switch(e){case"dayPeriod":var i=this.components.hour;return null===i?null!==t&&void 0!==t?t:null:i<12?1:2;default:return null!==(r=null!==(n=this.components[e])&&void 0!==n?n:t)&&void 0!==r?r:null}},e.prototype.has=function(e){return(this.filledComponentsMask&e)===e},e.prototype.with=function(t,n){var i;return new e(Object(r.__assign)(Object(r.__assign)({},this.components),((i={})[t]=n,i)))},e.prototype.toDate=function(e){var t=this.get("month",e.getMonth()+1)-1,n=new Date;return n.setFullYear(this.get("year",e.getFullYear()),t,this.get("day",e.getDate())),n.setHours(this.get("hour",e.getHours()),this.get("minute",e.getMinutes()),this.get("second",e.getSeconds()),0),n.getMonth()!==t&&n.setDate(0),n},e.prototype.set=function(e,t){switch(void 0===t&&(t=null),e){case"dayPeriod":if(null!==t){var n=this.get("hour",0),r=n>=12;t>1!==r?this.components.hour=r?n-12:n+12:this.has(h.hour)||(this.components.hour=0),this.invalidateMask("hour",this.get("hour"))}break;default:this.components[e]=null===t?null:Object(_.a)(t,O[e],E[e])}this.invalidateMask(e,this.get(e))},e.prototype.invalidateMask=function(e,t){null===t?this.filledComponentsMask&=~h[e]:this.filledComponentsMask|=h[e]},e})();function S(e,t,n){return t.get(e)===n.get(e)}function C(e,t){return S("year",e,t)}function x(e,t){return C(e,t)&&S("month",e,t)}function T(e,t){return x(e,t)&&S("day",e,t)}function P(e,t){return T(e,t)&&S("hour",e,t)}function k(e,t){return P(e,t)&&S("minute",e,t)}function j(e,t){return k(e,t)&&S("second",e,t)}var R=n(2449),I=n(53),A=n(43);function D(e){return Object(A.a)(1,arguments),Object(I.a)(e).getTime()}var M=n(1143);function N(e,t){return e.formatToParts(t).map((function(e){return"dayperiod"===e.type&&(e.type="dayPeriod"),e}))}var L=(function(){function e(e){var t=e.formatter,n=e.min,r=e.max,i=e.placeholder,o=Object(R.a)(new Date);this.formatter=t,this.resolvedOptions=(function(e){var t=e.resolvedOptions();return void 0!==t.hour&&void 0===t.hourCycle&&(t.hourCycle=t.hour12?"h12":"h23"),t})(t),this.minSpecified=Boolean(null!==n&&void 0!==n&&n),this.maxSpecified=Boolean(null!==r&&void 0!==r&&r),this.minTime=D(null!==n&&void 0!==n?n:y),this.maxTime=D(null!==r&&void 0!==r?r:b),this.min=w.from(this.minTime),this.max=w.from(this.maxTime),this.placeholder=D(null!==i&&void 0!==i?i:o),this.numberFormatter=new Intl.NumberFormat(this.resolvedOptions.locale,{useGrouping:!1}),this.placeholderParts=N(this.formatter,this.placeholder),this.requiredSegments=this.getSegmentsMaskFromFormatParts(this.placeholderParts),this.baseDate=o}return e.prototype.getSegments=function(e){var t=this;return this.formatToParts(e).map((function(n){if(!w.isDateComponentType(n.type))return{type:n.type,text:n.value,isEditable:!1};var r=e.get(n.type),i=t.getLimits(e,n.type),o=i.min,a=i.max,s=null===r,u=null===r||Object(_.b)(r,o,a),c=!s&&u&&o===a;return{type:n.type,text:n.value,isEditable:!0,value:r,min:o,max:a,isDisabled:c,isValid:u,isPlaceholder:s}}))},e.prototype.getLimits=function(e,t){var n={min:0,max:0};switch(t){case"year":n.min=this.min.get("year"),n.max=this.max.get("year");break;case"month":n.min=1,n.max=12,w.isSame("year",e,this.min)&&(n.min=this.min.get("month")),w.isSame("year",e,this.max)&&(n.max=this.max.get("month"));break;case"day":if(n.min=1,n.max=31,e.has(h.year|h.month)){var r=new Date(e.get("year"),e.get("month")-1);n.max=Object(M.a)(r)}w.isSame("month",e,this.min)&&(n.min=this.min.get("day")),w.isSame("month",e,this.max)&&(n.max=this.max.get("day"));break;case"hour":n.min=0,n.max=23,w.isSame("day",e,this.min)&&(n.min=this.min.get("hour")),w.isSame("day",e,this.max)&&(n.max=this.max.get("hour"));break;case"dayPeriod":n.min=1,n.max=2,w.isSame("day",e,this.min)&&(n.min=this.min.get("dayPeriod")),w.isSame("day",e,this.max)&&(n.max=this.max.get("dayPeriod"));break;case"minute":n.min=0,n.max=59,w.isSame("hour",e,this.min)&&(n.min=this.min.get("minute")),w.isSame("hour",e,this.max)&&(n.max=this.max.get("minute"));break;case"second":n.min=0,n.max=59,w.isSame("minute",e,this.min)&&(n.min=this.min.get("second")),w.isSame("minute",e,this.max)&&(n.max=this.max.get("second"))}return n},e.prototype.moveByStep=function(e,t,n){var r=e.get(t),i=this.getLimits(e,t),o=i.min,a=i.max;return null===r||r<o||r>a?this.getInitialValueForStep(t,n,o,a):(function(e,t,n,r,i){void 0===i&&(i=!1);var o=e;if(i){o+=t>0?1:-1;var a=Math.abs(t);o=(t>0?Math.ceil:Math.floor)(o/a)*a}else(o+=t)<n?o=r-(n-o-1):o>r&&(o=n+(o-r-1));return o<n||o>r?t>0?n:r:o})(Object(_.a)(r,o,a),n,o,a,"hour"===t||"minute"===t||"second"===t)},e.prototype.setSegmentValue=function(e,t,n){if(null!==n){var r=this.getLimits(e,t);n=Object(_.a)(n,r.min,r.max)}return e.with(t,n)},e.prototype.toDate=function(e){var t=e.toDate(this.baseDate),n=t.getDate();return e.has(this.requiredSegments)&&n===e.get("day",n)&&Object(_.b)(t.getTime(),this.minTime,this.maxTime)?t:null},e.prototype.normalizeDateComponents=function(e){var t,n,i=e;try{for(var o=Object(r.__values)(["year","minute","day","hour","month","second"]),a=o.next();!a.done;a=o.next()){var s=a.value;null===e.get(s)&&w.isSame(s,this.min,this.max)&&(i=i.with(s,this.min.get(s)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i!==e?i:e},e.prototype.formatValue=function(e,t){var n=this.numberFormatter.format(e);return"numeric"===t?n:n.padStart(2,this.numberFormatter.format(0))},e.prototype.getInitialValueForStep=function(e,t,n,r){return"year"===e?t>0&&this.minSpecified?n:t<0&&this.maxSpecified?r:Object(_.a)(this.baseDate.getFullYear(),n,r):t>0?this.min.get(e,n):this.max.get(e,r)},e.prototype.getSegmentsMaskFromFormatParts=function(e){return e.reduce((function(e,t){return w.isDateComponentType(t.type)?e|h[t.type]:e}),0)},e.prototype.formatToParts=function(e){var t=this;return N(this.formatter,e.toDate(new Date(this.placeholder))).map((function(n,i){if(w.isDateComponentType(n.type)){var o=e.get(n.type);if(null===o)return t.placeholderParts[i];if("day"===n.type){var a=t.resolvedOptions.day;return Object(r.__assign)(Object(r.__assign)({},n),{value:t.formatValue(o,a)})}}return n}))},e})();function F(e){var t=e.value,n=void 0===t?null:t,i=e.min,o=e.max,a=e.placeholder,s=e.formatOptions,c=e.disabled,l=e.readOnly,d=e.onChange,f=Object(u.useRef)(null),p=Object(m.a)(s),h=Object(u.useMemo)((function(){return new L({formatter:p,min:i,max:o,placeholder:a})}),[p,o,i,a]),v=Object(r.__read)(Object(u.useState)((function(){return h.normalizeDateComponents(w.from(n))})),2),y=v[0],b=v[1],_=Object(u.useMemo)((function(){return f.current!==n?w.from(n):y}),[n,y]);f.current=n;var O=Object(u.useMemo)((function(){return h.getSegments(_)}),[h,_]),E=Object(u.useCallback)((function(e,t){if(!c&&!l){var n=h.setSegmentValue(_,e,t);if(!w.isEqual(_,n)){b(n);var r=h.toDate(n);r!==f.current&&(null===d||void 0===d||d({value:r})),f.current=r}}}),[c,l,h,_,d]),S=Object(u.useCallback)((function(e,t){var n=h.moveByStep(_,e,t);E(e,n)}),[h,_,E]),C=Object(u.useCallback)((function(e){return S(e,1)}),[S]),x=Object(u.useCallback)((function(e){return S(e,-1)}),[S]),T=Object(u.useCallback)((function(e){return S(e,g[e]||1)}),[S]),P=Object(u.useCallback)((function(e){return S(e,-(g[e]||1))}),[S]),k=Object(u.useCallback)((function(e){var t=h.getLimits(_,e).max;E(e,t)}),[h,E,_]),j=Object(u.useCallback)((function(e){var t=h.getLimits(_,e).min;E(e,t)}),[h,E,_]);return{resolvedOptions:h.resolvedOptions,segments:O,setSegmentValue:E,increment:C,decrement:x,extraIncrement:T,extraDecrement:P,incrementToMax:k,decrementToMin:j}}n.d(t,"useDateTimeField",(function(){return s})),n.d(t,"useDateTimeFieldSegment",(function(){return p})),n.d(t,"useDateTimeFieldState",(function(){return F}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(2425),o=n(604),a=n(261),s=n(591),u=n(416);function c(e,t){for(var n=new o.a(e,function(e){var n=(function(e){return!Object(u.c)(e)&&Object(s.a)(e)&&Object(a.a)(e)>=0})(e);return t&&n?t(e):n}),r=[],i=[],c=0,l=null;l=n.next();){var d=Object(a.a)(l);0===d?i.push(l):r.push({index:c++,tabIndex:d,node:l})}return r.sort((function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(i)}var l,d="focusTrapGuard";function f(){return document.activeElement}function p(e,t){return e.contains(t)}function h(e){var t=document.createElement("span");return t.tabIndex=e,Object.assign(t.style,{width:"1px",height:0,padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"}),t.setAttribute("aria-hidden","true"),t.dataset[d]="true",t}function m(e){return Boolean(e.dataset[d])}function v(e){e.parentNode&&e.parentNode.removeChild(e)}!(function(e){e[e.None=0]="None",e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(l||(l={}));var g=(function(){function e(){this.instances=[],this.direction=l.None,this.lastActiveElement=null,this.onDocumentFocusIn=this.onDocumentFocusIn.bind(this),this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this),this.onMouseDown=this.onMouseDown.bind(this)}return e.getInstance=function(){return this.manager||(this.manager=new e),this.manager},e.prototype.activate=function(e){this.preventLastFocusIn(),0===this.instances.length&&this.attachEvents(),this.instances.push(e),this.autoFocus(e)},e.prototype.deactivate=function(e){this.preventLastFocusIn(),this.instances=this.instances.filter((function(t){return t!==e})),0===this.instances.length&&this.detachEvents()},e.prototype.autoFocus=function(e){var t=e.getScope(),n=e.getOptions().autoFocus,o=f();!n||o&&p(t,o)||(!(function(e){var t=Object(r.__read)(c(e,(function(e){return!m(e)})),1)[0];Object(i.a)(t)})(t),this.focusScope(t))},e.prototype.focusScope=function(e){var t=f();t&&p(e,t)||Object(i.a)(e,!0)},e.prototype.checkFocusInCurrentScope=function(){var e=this.instances[this.instances.length-1];e&&this.checkFocusIn(e)},e.prototype.preventLastFocusIn=function(){this.raf&&cancelAnimationFrame(this.raf)},e.prototype.checkFocusIn=function(e){var t=e.getScope(),n=this.direction,r=this.lastActiveElement,o=f();if(this.lastActiveElement=o,this.direction=l.None,o&&f()!==document.body&&!p(t,o)){var a=c(t,(function(e){return!m(e)})),s=a.indexOf(o);if(0===a.length)this.focusScope(t);else if(-1===s){var u=(function(e,t,n){return-1===e?0:t>0?(t+e+n)%t:-1})(r?a.indexOf(r):-1,a.length,n);Object(i.a)(a[u])}}},e.prototype.attachEvents=function(){document.addEventListener("focusin",this.onDocumentFocusIn,!0),document.addEventListener("keydown",this.onDocumentKeyDown,!0),document.addEventListener("mousedown",this.onMouseDown,!0)},e.prototype.detachEvents=function(){document.removeEventListener("focusin",this.onDocumentFocusIn,!0),document.removeEventListener("keydown",this.onDocumentKeyDown,!0),document.removeEventListener("mousedown",this.onMouseDown,!0)},e.prototype.onDocumentFocusIn=function(){var e=this;this.raf=requestAnimationFrame((function(){e.checkFocusInCurrentScope()}))},e.prototype.onDocumentKeyDown=function(e){"Tab"!==e.key||e.altKey||e.ctrlKey||e.metaKey||(this.direction=e.shiftKey?l.Backward:l.Forward)},e.prototype.onMouseDown=function(){this.direction=l.None},e})(),y=(function(){function e(e,t,n){void 0===n&&(n={}),this.options={autoFocus:!0},this.active=!1,this.cleanupFns=[],this.manager=e,this.scope=t,this.setOptions(n)}return e.prototype.getScope=function(){return this.scope},e.prototype.activate=function(){this.active||(this.active=!0,this.attachGuards(),this.activateInManager())},e.prototype.deactivate=function(){this.active&&(this.active=!1,this.cleanupFns.forEach((function(e){return e()})),this.cleanupFns=[])},e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e){this.options=Object(r.__assign)(Object(r.__assign)({},this.options),e)},e.prototype.attachGuards=function(){var e=h(1),t=h(0);this.scope.insertAdjacentElement("beforebegin",e),this.scope.insertAdjacentElement("afterend",t),this.cleanupFns.push((function(){v(e),v(t)}))},e.prototype.activateInManager=function(){var e=this;this.manager.activate(this),this.cleanupFns.push((function(){e.manager.deactivate(e)}))},e})();function b(e,t){void 0===t&&(t={});var n=g.getInstance();return new y(n,e,t)}var _=n(0),O=n(938),E=O.a?_.useLayoutEffect:_.useEffect;function w(e){var t=e.enabled,n=e.restoreFocusRef,r=Object(_.useRef)(null),i=Object(_.useRef)(null);t&&!r.current&&(r.current=O.a?document.activeElement:null),Object(_.useEffect)((function(){i.current=n?n.current:null})),Object(_.useEffect)((function(){if(t)return function(){var e=i.current||r.current;r.current=null,i.current=null,e&&e.focus&&document.body.contains(e)&&e!==document.activeElement&&e.focus()}}),[t])}function S(e){var t=e.scopeRef,n=e.enabled,r=e.restoreFocusRef,i=e.restoreFocus,o=void 0===i||i,a=e.autoFocus,s=void 0===a||a,u=Object(_.useRef)(null),c=Object(_.useRef)(null),l=Object(_.useMemo)((function(){return{autoFocus:s}}),[s]);Object(_.useEffect)((function(){u.current&&u.current.setOptions(l)}),[l]),E((function(){c.current!==t.current&&(c.current=t.current,u.current&&(u.current.deactivate(),u.current=null),c.current&&(u.current=b(c.current,l),n&&u.current.activate()))})),E((function(){if(n&&u.current)return u.current.activate(),function(){var e;null===(e=u.current)||void 0===e||e.deactivate()}}),[n]),w({enabled:n&&o,restoreFocusRef:r})}n.d(t,"createFocusTrap",(function(){return b})),n.d(t,"useFocusTrap",(function(){return S})),n.d(t,"useRestoreFocus",(function(){return w}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n(915);function a(e){if(e){var t=e.value.length;e.setSelectionRange(t,t)}}function s(e,t){var n=e.as,s=void 0===n?"input":n,u=e.type,c=void 0===u?"text":u,l=e.autoComplete,d=void 0===l?"off":l,f=Object(r.__rest)(e,["as","type","autoComplete"]),p=Object(o.a)(e,t).focusableProps,h={};return"input"===s&&(h={type:c}),Object(i.useLayoutEffect)((function(){"textarea"===s&&a(t.current)}),[s,t,e.autoFocus]),{ElementType:s,inputProps:Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({autoComplete:d},f),p),h)}}var u=n(2425);function c(e,t){var n=e.disabled,o=Object(r.__read)(Object(i.useState)(!1),2),s=o[0],c=o[1];return{isShown:s,buttonProps:{disabled:n,onPress:function(){c(!s),t.current&&Object(u.b)(t.current),requestAnimationFrame((function(){a(t.current)}))},preventFocusOnPress:!0,tabIndex:-1},inputProps:{type:s?"text":"password"}}}function l(e,t){var n=e.onChange,r=e.value,o=e.disabled;return{isActive:!(e.readOnly||o)&&Boolean(r),buttonProps:{disabled:o,onPress:Object(i.useCallback)((function(){if(t.current){Object(u.b)(t.current);var e=Object.create({});e.target=t.current,e.currentTarget=t.current,t.current.value="",null===n||void 0===n||n(e)}}),[t,n]),preventFocusOnPress:!0,tabIndex:-1}}}function d(e,t){var n=e.value,r=e.enabled;Object(i.useLayoutEffect)((function(){if(t.current&&r){var e=t.current;e.style.height="auto",e.style.height=e.scrollHeight+"px"}}),[t,n,r])}n.d(t,"useTextField",(function(){return s})),n.d(t,"usePasswordField",(function(){return c})),n.d(t,"useClearButton",(function(){return l})),n.d(t,"useAutoResize",(function(){return d}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=Object(r.createContext)(null),o=n(1),a=n(915),s=n(929),u=n(933),c=n(411);function l(e,t){var n,l=e.checked,d=e.defaultChecked,f=e.disabled,p=e.name,h=e.onChange,m=e.readOnly,v=e.state,g=Object(o.__rest)(e,["checked","defaultChecked","disabled","name","onChange","readOnly","state"]),y=Object(a.a)(e,t).focusableProps,b=Object(s.a)(e),_=b.isPressed,O=b.pressProps,E=Object(r.useContext)(i),w=E?E.selectedValue===e.value:null!==l&&void 0!==l?l:d,S=(null===E||void 0===E?void 0:E.isReadOnly)||m;return{isPressed:_,rootProps:O,inputProps:Object(u.a)(g,y,{type:"radio",onChange:S?void 0:function(e){var t;E?null===(t=E.setSelectedValue)||void 0===t||t.call(E,e):null===h||void 0===h||h(e)},"aria-invalid":"invalid"===v||void 0,"aria-checked":w||e.defaultChecked,"aria-readonly":S||void 0,autoComplete:Object(c.a)()?"off":void 0,checked:w,name:null!==(n=null===E||void 0===E?void 0:E.name)&&void 0!==n?n:p,disabled:(null===E||void 0===E?void 0:E.isDisabled)||f})}}function d(e){e.onChange;var t=e.disabled,n=e.readOnly,r=Object(o.__rest)(e,["onChange","disabled","readOnly"]);return{rootProps:Object(o.__assign)(Object(o.__assign)({},r),{role:"radiogroup","aria-disabled":t,"aria-readonly":n})}}var f=n(495);function p(e){var t=e.disabled,n=e.readOnly,r=e.name,i=e.value,o=e.onChange;return{isDisabled:t,name:Object(f.a)(r),isReadOnly:n,selectedValue:i,setSelectedValue:o}}n.d(t,"RadioGroupContext",(function(){return i})),n.d(t,"useRadio",(function(){return l})),n.d(t,"useRadioGroup",(function(){return d})),n.d(t,"useRadioGroupState",(function(){return p}))}),(function(e,t,n){"use strict";n.r(t);var r=n(135),i=n.n(r),o=n(41),a=n(40),s=n(95),u=n(14),c=n(58),l=n(54),d=n.n(l),f=n(35),p=n(67),h=n(22),m=n.n(h),v=n(10),g=n.n(v),y=n(32),b=n(34);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=i.a.mark((function e(){var t,n,r,a,s,u,c,l,d,f,h,v,g,_;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.select)(y.getCurrentAlbumId);case 3:return t=e.sent,e.next=6,Object(o.put)(Object(p.updateAlbum)({id:t,isLoading:!0}));case 6:return n={albumId:t,amount:b.PORTION_SIZE,loadAlbumData:"1"},e.next=9,Object(o.select)(y.getCurrentAlbum);case 9:return((r=e.sent).clusters&&r.clusters.length||(r.bufferedPhotos||[]).length)&&(a="",(r.bufferedPhotos||[]).length?(s=r.bufferedPhotos[r.bufferedPhotos.length-1],a=s.itemId):(u=r.clusters[r.clusters.length-1],a=u.items[u.items.length-1].itemId),n.lastItemId=a,n.loadAlbumData="0"),e.next=13,Object(o.getContext)("rawFetchModel");case 13:return c=e.sent,e.next=16,Object(o.call)(c,"albumWithItems",n);case 16:return l=e.sent,e.next=19,Object(o.getContext)("resourceHelper");case 19:return d=e.sent,e.next=22,Object(o.select)();case 22:return f=e.sent,e.next=25,Object(o.call)(d.preprocessResources,l.resources,f);case 25:if(h=e.sent,!l.album.public){e.next=30;break}return e.next=29,Object(o.call)(d.fixShortUrl,l.album.public.short_url);case 29:l.album.public.short_url=e.sent;case 30:return h=h.map((function(e){return Object.assign({},e,O({albumIds:[].concat(m()(e.albumIds||[]),[t])},O({},"favorites"===l.album.album_type?{favorite:{state:!0,itemId:l.album.items.find((function(t){return t.id===e.id})).itemId}}:{})))})),e.next=33,Object(o.put)(Object(p.fetchAlbumSuccess)({album:l.album,resources:h}));case 33:e.next=52;break;case 35:return e.prev=35,e.t0=e.catch(0),e.next=39,Object(o.select)(y.getCurrentAlbumId);case 39:return v=e.sent,e.next=42,Object(o.put)(Object(p.updateAlbum)({id:v,isLoading:!1}));case 42:return e.next=44,Object(o.getContext)("pageHelper");case 44:if(g=e.sent,"HTTP_404"!==e.t0.id){e.next=50;break}return e.next=48,Object(o.call)(g.go,"/client/albums");case 48:e.next=52;break;case 50:return e.next=52,Object(o.call)(g.go,"/client/error","preserve",{reason:"album2_fetch_error",error:e.t0});case 52:return e.prev=52,e.next=55,Object(o.cancelled)();case 55:if(!e.sent){e.next=61;break}return e.next=58,Object(o.select)(y.getCurrentAlbumId);case 58:return _=e.sent,e.next=61,Object(o.put)(Object(p.updateAlbum)({id:_,isLoading:!1}));case 61:return e.finish(52);case 62:case"end":return e.stop()}}),e,null,[[0,35,52,62]])})),w=n(100),S=n(13),C=Object(w.createAction)(S.ADD_TO_SELECTED,(function(e){return{payload:{resourcesIds:e}}})),x=n(130),T=i.a.mark((function e(t){var n,r,a,s,u,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.put)(Object(p.setIsSelectingPhotos)(!0));case 3:return e.next=6,Object(o.select)(y.getCurrentAlbum);case 6:if(n=e.sent,r=n.clusters,a=n.isCompleted,-1!==(s=r.findIndex((function(e){return e.id===t})))){e.next=12;break}return e.abrupt("break",24);case 12:return u=r[s].items,e.next=15,Object(o.put)(C(u.map((function(e){return e.id}))));case 15:return e.next=17,Object(o.select)(x.getSelectedResources);case 17:if(c=e.sent,!(a||s<r.length-1||c.length>=b.MAX_ACTIONABLE_SELECTION)){e.next=20;break}return e.abrupt("break",24);case 20:return e.next=22,Object(o.call)(E);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),setTimeout((function(){throw e.t0}),0);case 29:return e.prev=29,e.next=32,Object(o.put)(Object(p.setIsSelectingPhotos)(!1));case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[0,26,29,33]])})),P=i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,e.next=3,Object(o.race)({cancel1:Object(o.take)(S.DESELECT_ALL),cancel2:Object(o.take)(S.DESELECT_RESOURCES),cancel3:Object(o.take)(p.toggleAlbumItemSelection.type),ok:Object(o.call)(T,n)});case 3:case"end":return e.stop()}}),e)})),k=i.a.mark(j);function j(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.setContext)({pageHelper:d.a,resourceHelper:f.default});case 2:return e.next=4,Object(o.all)([Object(o.takeLeading)(p.fetchAlbumWithItems.type,E),Object(o.takeEvery)(p.selectAllItemsInCluster,P)]);case 4:case"end":return e.stop()}}),k)}var R=n(1145),I=n.n(R),A=n(1147),D=n.n(A),M=n(1148),N=n.n(M),L=n(1149),F=n.n(L),B=n(917),U=n.n(B),z=n(146),V=n.n(z),H=n(1150),W=n.n(H),$=n(1151),G=n.n($),q=n(1152),Y=n.n(q);n.d(t,"default",(function(){return Z}));var K=i.a.mark(Z),J=[j,I.a,N.a,F.a,U.a,V.a,W.a,G.a,Y.a];function Z(e,t){var n;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(o.setContext)({dispatch:e,getState:t,rawFetchModel:a.a,api:s.api,metrikaHelper:u.default});case 2:return n=Object(c.hasFamily)(t())?[].concat(J,[D.a]):J,r.next=5,Object(o.all)(n.map(o.spawn));case 5:case"end":return r.stop()}}),K)}}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(16),a=n(578),s=n.n(a),u=n(1155),c=n.n(u),l=n(85),d=n(26),f=n(22),p=n.n(f),h=n(4),m=n.n(h),v=n(5),g=n.n(v),y=n(8),b=n.n(y),_=n(6),O=n.n(_),E=n(7),w=n.n(E),S=n(2),C=n.n(S),x=n(602),T=n(73),P=n(371);function k(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=C()(e);if(t){var i=C()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w()(this,n)}}var j,R=(function(e){O()(n,e);var t=k(n);function n(){return m()(this,n),t.apply(this,arguments)}return g()(n,[{key:"_getDefaultSize",value:function(){return"m"}},{key:"getContentSVG",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{fill:"currentColor",d:"M1.227 5.722a.726.726 0 0 1-.675-.995L2.053.957a.726.726 0 0 1 1.275-.14l.656.961a7.749 7.749 0 0 1 12.01 6.473v.038a7.673 7.673 0 0 1-3.07 6.14A7.714 7.714 0 0 1 8.244 16c-1.559 0-3.01-.46-4.226-1.253a7.69 7.69 0 0 1-3.39-5.015.857.857 0 0 1-.015-.133 7.742 7.742 0 0 1-.035-.216.969.969 0 1 1 1.917-.28 5.813 5.813 0 0 0 11.561-.852 5.812 5.812 0 0 0-8.98-4.873L5.9 4.586a.726.726 0 0 1-.6 1.136H1.227z"}),i.a.createElement("path",{fill:"currentColor",d:"M9.116 5.345a.872.872 0 0 0-1.743 0v3.39c0 .275.13.533.349.698l1.937 1.453a.872.872 0 0 0 1.046-1.395L9.116 8.3V5.345z"}))}}]),n})(n(12).default),I=n(113),A=n(11),D=n.n(A),M=(n(1858),function(){return D()()("suggest-item")}),N=function(e){var t=e.type,n=e.ext;switch(t){case"history":return i.a.createElement(R,null);case"content":return i.a.createElement(P.a,null);case"folders":return i.a.createElement(I.default,{type:"dir"});case"files":return i.a.createElement(I.default,{ext:n});default:return null}},L=function(e){var t=e.item;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:M().e("icon")},i.a.createElement(N,{type:t.type,ext:"files"===t.type?t.key.split(".").pop():""})),i.a.createElement("div",{className:M().e("content")},i.a.createElement("div",{className:M().e("text"),dangerouslySetInnerHTML:{__html:t["suggest-text"]}})))},F=n(104),B=n(36),U=n(29),z=n(173),V=n(81),H=n(86),W=n(10),$=n.n(W),G=n(38),q=n.n(G),Y=n(14),K=(j={},$()(j,q.a.KEYS.ENTER,"enter"),$()(j,q.a.KEYS.ESC,"esc"),$()(j,q.a.KEYS.UP,"up"),$()(j,q.a.KEYS.RIGHT,"right"),$()(j,q.a.KEYS.DOWN,"down"),j),J=n(209);n(1859);function Z(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=C()(e);if(t){var i=C()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w()(this,n)}}var X=n(9),Q=(function(e){O()(n,e);var t=Z(n);function n(e){var r;return m()(this,n),(r=t.call(this,e))._renderItem=r._renderItem.bind(b()(r)),r._changeActive=r._changeActive.bind(b()(r)),r._handleItemSelect=r._handleItemSelect.bind(b()(r)),r._changeQuery=r._changeQuery.bind(b()(r)),r._onSubmit=r._onSubmit.bind(b()(r)),r._onStateChanged=r._onStateChanged.bind(b()(r)),r._onKeyDown=r._onKeyDown.bind(b()(r)),r._onResizeDebounced=X.debounce(r._onResize.bind(b()(r)),250),r}return g()(n,[{key:"componentDidMount",value:function(){var e=this.props.suggestQuery;this.props.getSuggestResult(e,{suggestTypes:e&&e.length?z.e.full:z.e.zero}),window.addEventListener("resize",this._onResizeDebounced)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._onResizeDebounced)}},{key:"componentDidUpdate",value:function(e){var t=this.props.suggestQuery;this.props.isSearchActive||t||!e.suggestQuery||this._suggest&&this._suggest.fold()}},{key:"_onResize",value:function(){this.props.isSearchActive&&this._suggest&&this._suggest.fold()}},{key:"_renderItem",value:function(e){return i.a.createElement(L,{item:e})}},{key:"_changeActive",value:function(e){this.props.updateSuggestActivation(e)}},{key:"_handleItemSelect",value:function(e,t){return["history","content"].includes(e.type)&&this._onSubmitText(e.text,!1),this.props.suggestItemSelectAction(e,t,!0)}},{key:"_changeQuery",value:function(e){this.props.getSuggestResult(e)}},{key:"_onSubmitText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e||this.props.suggestQuery;n&&(this.props.diskSearchStarted(),t&&this.props.sendSearchMetrika("input-submit",{queryText:n}),this.props.getSuggestResult(e),this.props.searchAction(n,this.props.searchScope,"formSearch"),this.props.updateSuggestActivation(!1))}},{key:"_onSubmit",value:function(){this._onSubmitText(this.props.suggestQuery)}},{key:"_onStateChanged",value:function(e){e===T.b.UNFOLDED_ACTIVE&&(this.props.isSearchSessionStarted?this.props.sendSearchMetrika("input-focus"):this.props.startSearchSession(),Y.count.apply(void 0,p()(function(e){var t="disk";return"/photo"===e?t="photo":e.startsWith("/album")?t="album":"/trash"===e?t="trash":"/journal"===e?t="history":"/attach"===e&&(t="attach"),["interface elements","search","click",t]}(this.props.idContext)))),this.props.isSuggestDisabled||Object(Y.countSuggest)(e===T.b.UNFOLDED_ACTIVE?"show":"close")}},{key:"_onKeyDown",value:function(e){!(function(e){K[e]&&Y.default.count("interface elements","search suggest","navigation",K[e])})(e.keyCode)}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestItems,r=t.suggestQuery,o=t.searchPlaceholder,a=t.isSuggestDisabled,s=t.isSliderOpened;return i.a.createElement(x.b,{ref:function(t){e._suggest=t},cls:D()()("client-suggest").toString(),suggestQuery:r,isNarrow:!0,maxLength:100,iconPosition:"right",placeholderDefault:o,placeholderCustom:o,suggestItems:n,renderItem:this._renderItem,showClose:!0,searchButtonText:"Найти",getShowText:function(e){return e.text},getItemType:function(e){return e.type},handleItemSelect:this._handleItemSelect,onTextChange:this._changeQuery,onSubmit:this._onSubmit,onActiveChange:this._changeActive,keepTextWhenFolded:!0,noSuggestPopup:a,noBubbleList:!0,theme:"ps-header",toneDefault:"suggest-ps-header-light",onStateChanged:this._onStateChanged,onKeyDown:this._onKeyDown,ignoreKeyboardEvents:s,popupClassName:this.props.popupClassName})}}]),n})(r.Component),ee={searchAction:U.search,getSuggestResult:z.a,updateSuggestActivation:z.f,startSearchSession:z.c,sendSearchMetrika:z.b,suggestItemSelectAction:z.d,diskSearchStarted:J.diskSearchStarted},te=Object(o.connect)((function(e){var t=e.page.idContext,n=e.suggest,r=n.items,i=n.query,o=Object(H.getThemeName)(e);return{idContext:t,suggestItems:r,suggestQuery:i,searchScope:Object(F.g)(e),searchPlaceholder:Object(F.f)(e),isSearchActive:Object(F.b)(e),isSuggestDisabled:Object(F.d)(e),isSearchSessionStarted:Object(F.c)(e),isSliderOpened:Object(B.isSliderOpened)(e),popupClassName:o&&Object(V.isPageDark)(o)&&!Object(V.isContentDark)(o)?Object(V.getContentClassName)(o):void 0}}),ee)(Q),ne=n(115),re=n(39),ie=n(57),oe=n(102),ae=n(1156),se=n.n(ae),ue=c()(s.a);t.default=Object(o.connect)((function(e,t){var n=t.showWidget,r=t.unreadCount,i=e.config,o=i.urlsBase,a=i.domain,s=i.yandexuid,u=i.environment,c=i.links.passport.auth,l=e.user,d=e.page.currentUrl,f=e.environment.session,p=f.locale,h=f.showDocsInHeader,m=f.experiment.disk_web_new_user_block_exp,v=e.settings,g=v.closedOverdraftScreen,y=v.roNoB2cTariffPromo,b=e.suggest.query,_=Object(H.getThemeName)(e);return{showWidget:n,unreadCount:r,urlsBase:o,user:l,isUnAuth:Object(oe.isUnAuth)(e),authLink:c,domain:a,locale:p,yandexuid:s,currentUrl:d,shouldShowYaPlus:Object(ne.shouldShowYaPlus)(e),isSearchActive:Object(F.b)(e),isDocsPage:Object(re.isDocsPage)(e),shouldShowDocuments:h||Object(re.isDocsPage)(e),isShownNewOverdraftScreen:Object(ie.getOverdraftType)(e)&&!g,showFan:l.isB2b,enabledNoB2cTariffPromo:Boolean(y&&y.enabled),themeName:_,suggestQuery:b,enabledUserId:Boolean(m),passportEnv:["development","testing"].includes(u)?"test":"prod"}}))((function(e){var t,n=e.showWidget,o=e.unreadCount,a=e.className,s=e.urlsBase,u=e.user,c=e.isUnAuth,f=e.authLink,p=e.domain,h=e.locale,m=e.yandexuid,v=e.currentUrl,g=e.shouldShowYaPlus,y=e.isSearchActive,b=e.isDocsPage,_=e.shouldShowDocuments,O=e.isShownNewOverdraftScreen,E=e.showFan,w=e.enabledNoB2cTariffPromo,S=e.enabledUserId,C=e.themeName,x=e.suggestQuery,T=e.passportEnv,P=Object(r.useMemo)((function(){return{Admin:s.admin,Calendar:s.calendar,Contact:s.mail+"/#contacts",Disk:s.disk,Fan:s.fan,Mail:s.mail,Messenger:s.q,Notes:b?s.notes:"/notes",Premium:"".concat(s.yandex360,"/premium-plans"),Telemost:s.telemost,Documents:b?"/":s.documents}}),[s,b]),k=Object(r.useCallback)((function(){Y.default.count.apply(Y.default,arguments)}),[]),j=Object(r.useRef)(null),R=Object(r.useRef)(null),I=Object(r.useCallback)((function(){window.location.assign(f)}),[f]),A=i.a.createElement(se.a,null),D=b||O;return i.a.createElement(ue,{links:P,allServicesLink:s.all,isB2bAdmin:u.isConnectAdmin,isB2bUser:u.isB2b,currentService:b?"Documents":"Disk",tld:p,lang:h,timeZone:u.timezone,userProps:c?void 0:{uid:u.uid,name:u.name,avatarId:u.avatarId,yu:m,avatarHost:u.avatarHost,retpath:v,ariaLabel:"Аккаунт",yaplusAvailable:g,hasPlus:u.hasYaPlus,fetchMail:!0,colorScheme:Object(V.isContentDark)(C)?"dark":"light",env:T},noUserName:!0,LegoPopup:l.Popup,morePopupProps:{mainOffset:8},useLegoV3:!0,theme:Object(V.isPageDark)(C)?"dark":"light",popupTheme:Object(V.isContentDark)(C)?"dark":"light",className:[a,Object(V.getPageClassName)(C)].join(" "),countMetrikaFn:k,searchOpened:y||Boolean(x),leftContent:D?null:i.a.createElement(te,null),customLogoUrl:null===(t=u.wsHeader)||void 0===t?void 0:t.company_logo,yandex360Link:w||u.isB2b||u.hasProSubscription?"/client/disk":s.yandex360,refs:{header:j,servicesRefs:{Premium:R}},onlyUserHTMLInSSR:!0,showDocuments:_,showFan:E,LegoButton:d.Button,onLoginClick:I,loginButtonProps:{view:"default"},hideTuning:w,rightContent:A,useUserID:S,onUserIdSupportClick:n,supportChatCounter:o})}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=(function(){function e(e){this.cache=null,this.factory=e}return e.prototype[Symbol.iterator]=function(){var e,t,n,i,o,a,s,u,c,l,d;return Object(r.__generator)(this,(function(f){switch(f.label){case 0:if(null!==this.cache)return[3,9];this.cache=[],f.label=1;case 1:f.trys.push([1,6,7,8]),e=Object(r.__values)(this.factory()),t=e.next(),f.label=2;case 2:return t.done?[3,5]:(a=t.value,this.cache.push(a),[4,a]);case 3:f.sent(),f.label=4;case 4:return t=e.next(),[3,2];case 5:return[3,8];case 6:return n=f.sent(),u={error:n},[3,8];case 7:try{t&&!t.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}return[7];case 8:return[2];case 9:f.trys.push([9,14,15,16]),i=Object(r.__values)(this.cache),o=i.next(),f.label=10;case 10:return o.done?[3,13]:[4,a=o.value];case 11:f.sent(),f.label=12;case 12:return o=i.next(),[3,10];case 13:return[3,16];case 14:return s=f.sent(),l={error:s},[3,16];case 15:try{o&&!o.done&&(d=i.return)&&d.call(i)}finally{if(l)throw l.error}return[7];case 16:return[2]}}))},e})();var a=(function(){function e(){}return e.prototype.build=function(e){var t=e.children,n=this;return new o(function(){var e,o,a,s,u,c,l,d,f,p,h,m,v,g;return Object(r.__generator)(this,(function(y){switch(y.label){case 0:e=[],i.Children.forEach(t,(function(t){e.push(t)})),o=0,y.label=1;case 1:y.trys.push([1,12,13,14]),a=Object(r.__values)(e),s=a.next(),y.label=2;case 2:if(s.done)return[3,11];u=s.value,c=n.getNodes({element:u},o),y.label=3;case 3:y.trys.push([3,8,9,10]),v=void 0,l=Object(r.__values)(c),d=l.next(),y.label=4;case 4:return d.done?[3,7]:[4,d.value];case 5:y.sent(),o++,y.label=6;case 6:return d=l.next(),[3,4];case 7:return[3,10];case 8:return f=y.sent(),v={error:f},[3,10];case 9:try{d&&!d.done&&(g=l.return)&&g.call(l)}finally{if(v)throw v.error}return[7];case 10:return s=a.next(),[3,2];case 11:return[3,14];case 12:return p=y.sent(),h={error:p},[3,14];case 13:try{s&&!s.done&&(m=a.return)&&m.call(a)}finally{if(h)throw h.error}return[7];case 14:return[2]}}))})},e.prototype.getNodes=function(e,t,n){var i,o,a,s,u,c,l,d,f,p,h,m,v,g,y,b;return Object(r.__generator)(this,(function(_){switch(_.label){case 0:return(i=this.getCollectionElement(e))?[3,3]:(u=this.createNode(e))?[4,u]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2];case 3:o=i.type.getCollectionNode(i.props),_.label=4;case 4:_.trys.push([4,15,16,17]),a=Object(r.__values)(o),s=a.next(),_.label=5;case 5:if(s.done)return[3,14];u=s.value,c=this.getKey(i,u,t,n),l=this.getNodes(Object(r.__assign)(Object(r.__assign)({},u),{key:c}),t,n),_.label=6;case 6:_.trys.push([6,11,12,13]),y=void 0,d=Object(r.__values)(l),f=d.next(),_.label=7;case 7:if(f.done)return[3,10];if(p=f.value,e.type&&e.type!==p.type)throw new Error('Invalid node type. Expected: "'+e.type+'", actual: "'+p.type+'"');return[4,p];case 8:_.sent(),t++,_.label=9;case 9:return f=d.next(),[3,7];case 10:return[3,13];case 11:return h=_.sent(),y={error:h},[3,13];case 12:try{f&&!f.done&&(b=d.return)&&b.call(d)}finally{if(y)throw y.error}return[7];case 13:return s=a.next(),[3,5];case 14:return[3,17];case 15:return m=_.sent(),v={error:m},[3,17];case 16:try{s&&!s.done&&(g=a.return)&&g.call(a)}finally{if(v)throw v.error}return[7];case 17:return[2]}}))},e.prototype.createNode=function(e){var t=e.key,n=e.type,i=e.content,a=e.props,s=void 0===a?{}:a,u=e.hasChildren,c=void 0!==u&&u,l=e.children;if(null==t||null==n)return null;var d=this,f={type:n,key:t,props:s,content:i,hasChildren:c,children:new o(function(){var e,t,n,i,o,a,s,u,p,h,m,v,g;return Object(r.__generator)(this,(function(y){switch(y.label){case 0:if(!l||!c)return[2];e=0,y.label=1;case 1:y.trys.push([1,12,13,14]),t=Object(r.__values)(l()),n=t.next(),y.label=2;case 2:if(n.done)return[3,11];i=n.value,o=d.getNodes(i,e,f),y.label=3;case 3:y.trys.push([3,8,9,10]),v=void 0,a=Object(r.__values)(o),s=a.next(),y.label=4;case 4:return s.done?[3,7]:[4,s.value];case 5:y.sent(),e++,y.label=6;case 6:return s=a.next(),[3,4];case 7:return[3,10];case 8:return u=y.sent(),v={error:u},[3,10];case 9:try{s&&!s.done&&(g=a.return)&&g.call(a)}finally{if(v)throw v.error}return[7];case 10:return n=t.next(),[3,2];case 11:return[3,14];case 12:return p=y.sent(),h={error:p},[3,14];case 13:try{n&&!n.done&&(m=t.return)&&m.call(t)}finally{if(h)throw h.error}return[7];case 14:return[2]}}))})};return f},e.prototype.getCollectionElement=function(e){var t=e.element;if(t){if(!(function(e){return Object(i.isValidElement)(e)&&"function"==typeof e.type&&"function"==typeof e.type.getCollectionNode})(t))throw new Error("Unknown element");return t}return null},e.prototype.getKey=function(e,t,n,r){return null!=t.key?t.key:t.element?void 0:null!=e.key?e.key:(null===r||void 0===r?void 0:r.key)?(null===r||void 0===r?void 0:r.key)+"."+n:"$."+n},e})();function s(e,t){var n=e.children,r=Object(i.useRef)(t);return r.current=t,Object(i.useMemo)((function(){var e=(new a).build({children:n});return r.current(e)}),[n])}n.d(t,"CollectionBuilder",(function(){return a})),n.d(t,"useCollection",(function(){return s}))}),(function(e,t,n){"use strict";function r(e,t){var n=e.disabled,r=e.readOnly;return{groupProps:{role:"group",onKeyDown:function(e){n||r||" "===e.key&&(e.preventDefault(),e.stopPropagation(),t.setOpen(!0))}},triggerProps:{tabIndex:-1,onPress:function(){t.setOpen(!t.isOpen)}}}}n.r(t);var i=n(1),o=n(0);function a(e,t){var n=new Date(e);return Boolean(n.getHours()||n.getMinutes()||n.getSeconds()||n.getMilliseconds())?new Date(e):(t=new Date(t),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n)}function s(e){var t=e.onChange,n=e.value,r=void 0===n?null:n,s=Object(o.useMemo)((function(){return r?new Date(r):null}),[r]),u=Object(i.__read)(Object(o.useState)(!1),2),c=u[0],l=u[1];return{value:s,setValue:function(e){c&&l(!1),e.value&&s&&(e.value=a(e.value,s)),null===t||void 0===t||t({value:e.value})},isOpen:c,setOpen:l}}function u(e){var t=e.onChange,n=e.value,r=void 0===n?{start:null,end:null}:n,s=Object(i.__read)(Object(o.useState)(!1),2),u=s[0],c=s[1];return{value:r,setValue:function(e){u&&e.value.start&&e.value.end&&c(!1),e.value.start&&r.start&&(e.value.start=a(e.value.start,r.start)),e.value.end&&r.end&&(e.value.end=a(e.value.end,r.end)),null===t||void 0===t||t({value:e.value})},isOpen:u,setOpen:c}}n.d(t,"useDatePicker",(function(){return r})),n.d(t,"useDatePickerState",(function(){return s})),n.d(t,"useDateRangePickerState",(function(){return u}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(208),a=n(206),s=n(269),u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function c(e){var{highlightedSuggestionIndex:t,setHighlightedSuggestionIndex:n,popupRef:r,scope:o,isPopupVisible:c,listBoxId:l}=e,d=u(e,["highlightedSuggestionIndex","setHighlightedSuggestionIndex","popupRef","scope","isPopupVisible","listBoxId"]);return i.a.createElement(s.Portal,{scope:o,visible:c},i.a.createElement(a.a,Object.assign({activeIndex:t,listBoxId:l,setHighlightedSuggestionIndex:n,suggestionListRef:r},d)))}var l=n(94),d=n(207),f=n(413),p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const h=e=>{var{onMouseLeave:t,onMouseEnter:n}=e,r=p(e,["onMouseLeave","onMouseEnter"]);const{inputProps:a,popupProps:s,ctx:u}=Object(d.a)(r);return i.a.createElement(f.a.Provider,{value:u},i.a.createElement("label",{className:l.a.Multisuggest,htmlFor:a.id},i.a.createElement(o.a,Object.assign({},a)),i.a.createElement(c,Object.assign({},s))))};n(391);var m=n(278),v=n(277),g=n(276);n.d(t,"Multisuggest",(function(){return h})),n.d(t,"useMultisuggestState",(function(){return d.a})),n.d(t,"SuggestInput",(function(){return o.a})),n.d(t,"Suggestion",(function(){return m.a})),n.d(t,"SuggestionsList",(function(){return a.a})),n.d(t,"SuggestPopup",(function(){return v.a})),n.d(t,"PickedItem",(function(){return g.a})),n.d(t,"PickedList",(function(){return g.b}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n.n(i);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s,u=["bottom","height","left","right","top","width"],c=new Map,l=function e(){var t=[];c.forEach((function(e,n){var r=n.getBoundingClientRect();(function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),u.some((function(n){return e[n]!==t[n]}))})(r,e.rect)&&(e.rect=r,t.push(e))})),t.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),s=window.requestAnimationFrame(e)};var d="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function f(e,t){void 0===t&&(t={width:0,height:0});var n=i.useState(e.current),r=n[0],o=n[1],a=i.useReducer(p,t),u=a[0],f=a[1],h=i.useRef(!1);return d((function(){e.current!==r&&o(e.current)})),d((function(){if(r&&!h.current){h.current=!0;var e=r.getBoundingClientRect();f({rect:e})}}),[r]),i.useEffect((function(){if(r){var e=(function(e,t){return{observe:function(){var n=0===c.size;c.has(e)?c.get(e).callbacks.push(t):c.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[t]}),n&&l()},unobserve:function(){var n=c.get(e);if(n){var r=n.callbacks.indexOf(t);r>=0&&n.callbacks.splice(r,1),n.callbacks.length||c.delete(e),c.size||cancelAnimationFrame(s)}}}})(r,(function(e){f({rect:e})}));return e.observe(),function(){e.unobserve()}}}),[r]),u}function p(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e}var h=function(){return 50},m=function(e){return e},v=function(e,t){return e[t?"offsetWidth":"offsetHeight"]},g=function(e){for(var t=Math.max(e.start-e.overscan,0),n=Math.min(e.end+e.overscan,e.size-1),r=[],i=t;i<=n;i++)r.push(i);return r};function y(e){var t,n=e.size,r=void 0===n?0:n,o=e.estimateSize,s=void 0===o?h:o,u=e.overscan,c=void 0===u?1:u,l=e.paddingStart,p=void 0===l?0:l,y=e.paddingEnd,_=void 0===y?0:y,O=e.parentRef,E=e.horizontal,w=e.scrollToFn,S=e.useObserver,C=e.initialRect,x=e.onScrollElement,T=e.scrollOffsetFn,P=e.keyExtractor,k=void 0===P?m:P,j=e.measureSize,R=void 0===j?v:j,I=e.rangeExtractor,A=void 0===I?g:I,D=E?"width":"height",M=E?"scrollLeft":"scrollTop",N=i.useRef({scrollOffset:0,measurements:[]}),L=i.useState(0),F=L[0],B=L[1];N.current.scrollOffset=F;var U=(S||f)(O,C)[D];N.current.outerSize=U;var z=i.useCallback((function(e){O.current&&(O.current[M]=e)}),[O,M]),V=w||z;w=i.useCallback((function(e){V(e,z)}),[z,V]);var H=i.useState({}),W=H[0],$=H[1],G=i.useCallback((function(){return $({})}),[]),q=i.useRef([]),Y=i.useMemo((function(){var e=q.current.length>0?Math.min.apply(Math,q.current):0;q.current=[];for(var t=N.current.measurements.slice(0,e),n=e;n<r;n++){var i=k(n),o=W[i],a=t[n-1]?t[n-1].end:p,u="number"==typeof o?o:s(n),c=a+u;t[n]={index:n,start:a,size:u,end:c,key:i}}return t}),[s,W,p,r,k]),K=((null==(t=Y[r-1])?void 0:t.end)||p)+_;N.current.measurements=Y,N.current.totalSize=K;var J=x?x.current:O.current,Z=i.useRef(T);Z.current=T,d((function(){if(J){var e=function(e){var t=Z.current?Z.current(e):J[M];B(t)};return e(),J.addEventListener("scroll",e,{capture:!1,passive:!0}),function(){J.removeEventListener("scroll",e)}}B(0)}),[J,M]);var X=(function(e){var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,o=b(0,i,(function(e){return t[e].start}),r),a=o;for(;a<i&&t[a].end<r+n;)a++;return{start:o,end:a}})(N.current),Q=X.start,ee=X.end,te=i.useMemo((function(){return A({start:Q,end:ee,overscan:c,size:Y.length})}),[Q,ee,c,Y.length,A]),ne=i.useRef(R);ne.current=R;var re=i.useMemo((function(){for(var e=[],t=function(t,n){var r=te[t],i=a(a({},Y[r]),{},{measureRef:function(e){if(e){var t=ne.current(e,E);if(t!==i.size){var n=N.current.scrollOffset;i.start<n&&z(n+(t-i.size)),q.current.push(r),$((function(e){var n;return a(a({},e),{},((n={})[i.key]=t,n))}))}}}});e.push(i)},n=0,r=te.length;n<r;n++)t(n);return e}),[te,z,E,Y]),ie=i.useRef(!1);d((function(){ie.current&&$({}),ie.current=!0}),[s]);var oe=i.useCallback((function(e,t){var n=(void 0===t?{}:t).align,r=void 0===n?"start":n,i=N.current,o=i.scrollOffset,a=i.outerSize;"auto"===r&&(r=e<=o?"start":e>=o+a?"end":"start"),"start"===r?w(e):"end"===r?w(e-a):"center"===r&&w(e-a/2)}),[w]),ae=i.useCallback((function(e,t){var n=void 0===t?{}:t,i=n.align,o=void 0===i?"auto":i,s=(function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i})(n,["align"]),u=N.current,c=u.measurements,l=u.scrollOffset,d=u.outerSize,f=c[Math.max(0,Math.min(e,r-1))];if(f){if("auto"===o)if(f.end>=l+d)o="end";else{if(!(f.start<=l))return;o="start"}var p="center"===o?f.start+f.size/2:"end"===o?f.end:f.start;oe(p,a({align:o},s))}}),[oe,r]),se=i.useCallback((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ae.apply(void 0,t),requestAnimationFrame((function(){ae.apply(void 0,t)}))}),[ae]);return{virtualItems:re,totalSize:K,scrollToOffset:oe,scrollToIndex:se,measure:G}}var b=function(e,t,n,r){for(;e<=t;){var i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else{if(!(o>r))return i;t=i-1}}return e>0?e-1:0};function _(e){var t=e.estimate,n=e.items,r=e.renderElement,a=e.focusedIndex,s=void 0===a?null:a,u=Object(i.useRef)(null),c=Object(i.useCallback)((function(e){return"number"==typeof t?t:t(n[e])}),[t,n]),l=y({size:n.length,parentRef:u,estimateSize:c});return Object(i.useEffect)((function(){null!==s&&l.scrollToIndex(s,{align:"auto"})}),[s,n.length,t]),{innerProps:{style:{position:"relative",height:l.totalSize}},containerProps:{style:{overflowY:"auto"},ref:u},virtualItems:l.virtualItems.map((function(e){return o.a.createElement(i.Fragment,{key:e.key},r({element:n[e.index],style:{transform:"translateY("+e.start+"px)",position:"absolute",top:0,left:0}}))}))}}function O(e){var t=e.collection,n=e.children,i=_({items:t,renderElement:function(e){var t=e.element,r=e.style;return o.a.createElement("div",{style:r},n({element:t}))},estimate:e.estimate,focusedIndex:e.focusedIndex}),a=i.containerProps,s=i.innerProps,u=i.virtualItems;return o.a.createElement("div",{ref:a.ref,style:Object(r.__assign)(Object(r.__assign)({},a.style),{height:e.height,maxHeight:e.maxHeight})},o.a.createElement("div",{style:s.style},u))}n.d(t,"VirtualCollection",(function(){return O})),n.d(t,"useVirtualized",(function(){return _}))}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=n(0),v=n.n(m),g=n(256),y=n(85),b=(n(2114),n(26)),_=n(587),O=n(366),E=n(9),w=n.n(E),S=n(11),C=n.n(S);function x(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var T=function(){return C()()("calendar")},P=w.a.memoize((function(){return w.a.times(7,(function(e){return __i18n__.i18n.index(["пн","вт","ср","чт","пт","сб","вс"],yr.externals.entityify(e))}))})),k=w.a.memoize((function(){return w.a.times(12,(function(e){return __i18n__.i18n.index(["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],yr.externals.entityify(e))}))})),j=(function(e){l()(n,e);var t=x(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onPrevMonthButtonClick=r._onPrevMonthButtonClick.bind(u()(r)),r._onNextMonthButtonClick=r._onNextMonthButtonClick.bind(u()(r)),r.state={currentMonthTimestamp:r.props.timestamp},r}return a()(n,[{key:"_changeMonth",value:function(e){var t=new Date(this.state.currentMonthTimestamp);t.setMonth(t.getMonth()+e),this.setState({currentMonthTimestamp:t.getTime()})}},{key:"_onPrevMonthButtonClick",value:function(){this._changeMonth(-1)}},{key:"_onNextMonthButtonClick",value:function(){this._changeMonth(1)}},{key:"_onDayClick",value:function(e){var t=new Date(this.props.timestamp),n=new Date(this.state.currentMonthTimestamp);t.setMonth(n.getMonth()),t.setFullYear(n.getFullYear()),t.setDate(e),this.props.onChange(t.getTime())}},{key:"_getTitle",value:function(){var e=new Date(this.state.currentMonthTimestamp);return v.a.createElement("div",{className:T().e("title")},v.a.createElement(b.Button,{className:T().e("prev-button"),size:"s",view:"clear",onClick:this._onPrevMonthButtonClick,icon:_.a}),v.a.createElement("div",{className:T().e("selected-month")},k()[e.getMonth()]+" "+e.getFullYear()),v.a.createElement(b.Button,{className:T().e("next-button"),size:"s",view:"clear",onClick:this._onNextMonthButtonClick,icon:O.a}))}},{key:"_getEmptyWeek",value:function(){return new Array(7).fill("")}},{key:"_calcWeeks",value:function(){var e,t=new Date(this.state.currentMonthTimestamp),n=[],r=this._getEmptyWeek(),i=new Date(this.state.currentMonthTimestamp);for(i.setDate(1);i.getMonth()===t.getMonth();i.setDate(i.getDate()+1))r[e=(i.getDay()+6)%7]=i.getDate(),6===e&&(n.push(r),r=this._getEmptyWeek());return 6!==e&&n.push(r),n}},{key:"_getWeekDaysRows",value:function(){return P().map((function(e,t){return{tag:"th",mods:{weekday:!0,weekend:t>4},data:e}}))}},{key:"_getDaysRows",value:function(){var e=this._calcWeeks(),t=new Date(this.state.currentMonthTimestamp),n=new Date(this.props.timestamp),r=n.getDate(),i=n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear();return e.map((function(e){return e.map((function(e,t){return{data:e,mods:{weekend:t>4,selected:i&&e===r}}}))}))}},{key:"_getCalendar",value:function(){var e=this,t=[this._getWeekDaysRows()].concat(this._getDaysRows()).map((function(t,n){var r=t.map((function(t,n){var r,i=t.tag||"td";return r="number"==typeof t.data?v.a.createElement("div",{className:T().e("cell-inner"),onClick:e._onDayClick.bind(e,t.data)},t.data):t.data,v.a.createElement(i,{key:n,className:T().e("cell").m(t.mods)},r)}));return v.a.createElement("tr",{key:n},r)}));return v.a.createElement("table",{className:T().e("layout")},v.a.createElement("tbody",null,t))}},{key:"render",value:function(){return v.a.createElement("div",{className:T()},this._getTitle(),this._getCalendar())}}]),n})(m.Component);j.defaultProps={timestamp:Date.now()};var R=j;function I(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var A=(function(e){l()(n,e);var t=I(n);function n(){return i()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getContentSVG",value:function(){return v.a.createElement("path",{d:"M8 3v3h3V3H8m4 0v3h3V3h-3M0 7v3h3V7H0m8 0v3h3V7H8m4 0v3h3V7h-3M0 11v3h3v-3H0m8 0v3h3v-3H8M4 3v3h3V3H4m0 4v3h3V7H4m0 4v3h3v-3H4",fill:"currentColor"})}}]),n})(n(12).default),D=(n(2115),n(262)),M=n.n(D);function N(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var L=function(){return C()()("calendar-dropdown")},F=(function(e){l()(n,e);var t=N(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={isPopupVisible:!1},r._onPopupClose=r._onPopupClose.bind(u()(r)),r._onTextInputClick=r._onTextInputClick.bind(u()(r)),r._onCalendarChange=r._onCalendarChange.bind(u()(r)),r._textinput=v.a.createRef(),r}return a()(n,[{key:"_onTextInputClick",value:function(){this.setState({isPopupVisible:!this.state.isPopupVisible})}},{key:"_onPopupClose",value:function(){this.setState({isPopupVisible:!1})}},{key:"_onCalendarChange",value:function(){var e;this.setState({isPopupVisible:!1}),this.props.onChange&&(e=this.props).onChange.apply(e,arguments)}},{key:"render",value:function(){return v.a.createElement("span",{className:L().mix(this.props.cls)},v.a.createElement(g.Textinput,{view:"default",size:"m",className:L().e("textinput"),type:"text",onClick:this._onTextInputClick,readOnly:!0,disabled:this.props.disabled,value:M.a.timestampToDate(this.props.timestamp/1e3,this.props.dateFormat),iconRight:v.a.createElement(A,{cls:L().e("icon")}),controlRef:this._textinput}),v.a.createElement(y.Popup,{view:"default",target:"anchor",anchor:this._textinput,onClose:this._onPopupClose,visible:this.state.isPopupVisible},v.a.createElement(R,{timestamp:this.props.timestamp,onChange:this._onCalendarChange})))}}]),n})(m.Component);t.default=F}),(function(e,t,n){"use strict";n.r(t);var r=n(33),i=n.n(r),o=n(10),a=n.n(o),s=n(4),u=n.n(s),c=n(5),l=n.n(c),d=n(8),f=n.n(d),p=n(6),h=n.n(p),m=n(7),v=n.n(m),g=n(2),y=n.n(g),b=(n(2076),n(16)),_=n(0),O=n.n(_),E=n(26),w=n(491),S=n(12);function C(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var x=(function(e){h()(n,e);var t=C(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContentSVG",value:function(){return O.a.createElement("path",{d:"M0 14h14v-2H0v2zm0-5h11V7H0v2zm0-5h8V2H0v2z",fill:"currentColor"})}}]),n})(S.default),T=Object(S.iconProvider)(x);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var k=(function(e){h()(n,e);var t=P(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getContentSVG",value:function(){return O.a.createElement("path",{d:"M0 2h14v2H0V2zm0 5h11v2H0V7zm0 5h8v2H0v-2z",fill:"currentColor"})}}]),n})(S.default),j=Object(S.iconProvider)(k),R=n(15),I=n(130),A=n(9),D=n.n(A),M=n(11),N=n.n(M);function L(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=y()(e);if(t){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var F={name:"Названию",size:"Размеру",type:"Типу",mtime:"Дате изменения"},B=(function(e){h()(n,e);var t=L(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={opened:!1},r._onSelectChange=r._onSelectChange.bind(f()(r)),r._setOpened=r._setOpened.bind(f()(r)),r._renderTrigger=r._renderTrigger.bind(f()(r)),r}return l()(n,[{key:"_onChange",value:function(e,t){this.setState({isPopupVisible:!1}),this.props.changeResourcesSort(Object.assign({},this.props.value,a()({},e,t)))}},{key:"_setOpened",value:function(e){this.setState({opened:e})}},{key:"_onSelectChange",value:function(e){var t=this.props.value,n=t.sort,r=t.order,i=e.target.value.filter((function(e){return![n,r].includes(e)}))[0],o=Object.keys(F).includes(i)?"sort":"order";this._onChange(o,i),this._setOpened(!1)}},{key:"_renderTrigger",value:function(e){var t=this.props.value,n=t.sort,r=t.order,o=F[n].toLowerCase(),a="По "+yr.externals.entityify(o);return O.a.createElement(E.Button,i()({},D.a.omit(e,["width"]),{view:"raised","aria-label":"Сортировать по "+yr.externals.entityify(o),checked:!1,iconLeft:"1"===r?T:j}),a)}},{key:"render",value:function(){var e=this.props.value,t=e.sort,n=e.order;return F[t]?O.a.createElement(w.Select,{view:"default",size:"m",className:N()()("listing-sort"),value:[t,n],onChange:this._onSelectChange,setOpened:this._setOpened,opened:this.state.opened,renderTrigger:this._renderTrigger,options:[{title:"",items:Object.keys(F).map((function(e){return{value:e,content:F[e]}}))},{title:"",items:[{value:"1",content:"Возрастанию"},{value:"0",content:"Убыванию"}]}]}):null}}]),n})(_.Component);B.defaultProps={value:{sort:"name",order:"1"}};var U={changeResourcesSort:R.changeResourcesSort};t.default=Object(b.connect)((function(e){return{value:Object(I.getSort)(e)}}),U)(B)}),(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=(n(2276),n(0)),v=n.n(m),g=n(33),y=n.n(g),b=(n(2277),n(113)),_=n(11),O=n.n(_),E=n(9),w=n.n(E),S=function(){return O()()("create-resource-button")},C=function(e){var t,n=w.a.omit(e,["type","text","cls"]);return t=["dir_plus","dir_family","album"].includes(e.type)?{type:e.type}:{ext:e.type},v.a.createElement("button",y()({},n,{className:S().mix(e.cls),"aria-label":e.text}),v.a.createElement(b.default,y()({cls:S().e("icon"),size:"m"},t)),v.a.createElement("span",{className:S().e("text")},e.text))},x=n(26),T=n(85);function P(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var k=(function(e){l()(n,e);var t=P(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onPopupHide=r._onPopupHide.bind(u()(r)),r._anchor=v.a.createRef(),r}return a()(n,[{key:"_onPopupHide",value:function(){this.props.onPopupHide()}},{key:"render",value:function(){return v.a.createElement("span",{className:this.props.className,ref:this._anchor},v.a.createElement(x.Button,y()({},this.props.anchorProps,{onClick:this.props.onAnchorClick})),v.a.createElement(T.Popup,y()({},this.props.popupProps,{target:"anchor",zIndex:this.props.zIndexGroupLevel,anchor:this._anchor,visible:this.props.isPopupVisible,onClose:this._onPopupHide}),this.props.children))}}]),n})(m.PureComponent);k.defaultProps={isPopupVisible:!1};var j=k,R=n(1116),I=n(14);function A(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var D=function(){return O()()("create-resource-popup-with-anchor")},M=(function(e){l()(n,e);var t=A(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={isPopupVisible:!1},r._onAnchorClick=r._onAnchorClick.bind(u()(r)),r._closePopup=r._closePopup.bind(u()(r)),r}return a()(n,[{key:"_countMetrika",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];I.default.count.apply(I.default,t.concat(["listing"]))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isOfficeAllowed,r=t.isFamilyCreationAllowed,i=[v.a.createElement(C,{key:"create-folder",onClick:function(){e._closePopup(),e.props.onFolderCreate(),e._countMetrika("interface elements","create new","folder")},text:"Папку",type:"dir_plus",cls:D().e("create-item")}),r?v.a.createElement(C,{key:"create-family-folder",onClick:function(){e._closePopup(),e.props.onFolderCreate(!0),I.default.count("interface elements","create new","family folder","left column",{role:e.props.familyRoleMetrikaKey,feature:e.props.hasFamilyFeature})},text:"Семейную папку",type:"dir_family",cls:D().e("create-item")}):null,n?v.a.createElement(C,{key:"create-word",onClick:function(){e._closePopup(),e.props.onEditorOpen("docx"),e._countMetrika("interface elements","create new","docx")},text:"Текстовый документ",type:"doc",cls:D().e("create-item")}):null],o=[n?v.a.createElement(C,{key:"create-excel",onClick:function(){e._closePopup(),e.props.onEditorOpen("xlsx"),e._countMetrika("interface elements","create new","xlsx")},text:"Таблицу",type:"xls",cls:D().e("create-item")}):null,n?v.a.createElement(C,{key:"create-powerpoint",onClick:function(){e._closePopup(),e.props.onEditorOpen("pptx"),e._countMetrika("interface elements","create new","pptx")},text:"Презентацию",type:"ppt",cls:D().e("create-item")}):null,v.a.createElement(C,{key:"create-album",onClick:function(){e._closePopup(),e.props.onCreateAlbum(),e._countMetrika("interface elements","create new","album")},text:"Альбом",type:"album",cls:D().e("create-item")})];return v.a.createElement(j,{onAnchorClick:this._onAnchorClick,onPopupHide:this._closePopup,isPopupVisible:this.state.isPopupVisible,className:D(),popupProps:{view:"default",direction:["bottom-start"],mainOffset:-40-(this.props.isFirefox?1:0),className:D().e("popup").mix(this.props.popupCls)},anchorProps:{width:"max",size:"m",view:this.props.view||"raised",iconLeft:this.props.iconLeft||R.a,children:["Создать"],onClick:this._onAnchorClick},zIndexGroupLevel:2e3},v.a.createElement("h3",{className:D().e("title")},"Создать"),v.a.createElement("div",{className:D().e("create-items")},v.a.createElement(v.a.Fragment,null,i,n&&r?null:o)),n&&r?v.a.createElement("div",{className:D().e("create-items")},o):null)}},{key:"_closePopup",value:function(){this.setState({isPopupVisible:!1})}},{key:"_onAnchorClick",value:function(){var e=!this.state.isPopupVisible;e&&I.default.count("interface elements","create new","button_click"),this.setState({isPopupVisible:e})}}]),n})(m.Component);t.default=M}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e){var t=Object(r.useRef)(e);t.current=e;var n=Object(r.useCallback)((function(e){var n=t.current,r=n.onFocus,i=n.onFocusChange;e.target===e.currentTarget&&(null===r||void 0===r||r(e),null===i||void 0===i||i(!0))}),[]),i=Object(r.useCallback)((function(e){var n=t.current,r=n.onBlur,i=n.onFocusChange;e.target===e.currentTarget&&(null===r||void 0===r||r(e),null===i||void 0===i||i(!1))}),[]),o={};return e.disabled||((e.onFocus||e.onFocusChange)&&(o.onFocus=n),(e.onBlur||e.onFocusChange)&&(o.onBlur=i)),{focusProps:o}}function o(e){var t=Object(r.useRef)(e),n=Object(r.useRef)({within:!1});t.current=e;var i=Object(r.useCallback)((function(e){var r=t.current,i=r.onFocusWithin,o=r.onFocusWithinChange,a=n.current;a.within||(a.within=!0,null===i||void 0===i||i(e),null===o||void 0===o||o(!0))}),[]),o=Object(r.useCallback)((function(e){var r=t.current,i=r.onBlurWithin,o=r.onFocusWithinChange,a=n.current;a.within&&!e.currentTarget.contains(e.relatedTarget)&&(a.within=!1,null===i||void 0===i||i(e),null===o||void 0===o||o(!1))}),[]),a={};return!e.disabled&&(e.onFocusWithin||e.onBlurWithin||e.onFocusWithinChange)&&(a.onFocus=i,a.onBlur=o),{focusWithinProps:a}}n.d(t,"useFocus",(function(){return i})),n.d(t,"useFocusWithin",(function(){return o}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=[],o=null,a=null;function s(){return i[i.length-1]}function u(e,t,n){var r=s();!r||!r.onClose||n&&n!==r.closeStrategy||"click"===t&&(function(e,t){return e.some((function(e){return e.current instanceof HTMLElement&&e.current.contains(t)}))})(r.refs,e.target)||r.onClose({nativeEvent:e,source:t})}function c(e){var t=e.key;"Escape"!==t&&"Esc"!==t||u(e,"esc")}function l(e){o=e.target,a=s(),u(e,"click","pressdown")}function d(e){var t=o;o=null;var n=a;a=null,e.button>0||n===s()&&t===e.target&&u(e,"click","pressup")}var f=Object.freeze({count:function(){return i.length},addOverlay:function(e){0===i.length&&(document.addEventListener("keyup",c),document.addEventListener("pointerdown",l,!0),document.addEventListener("click",d,!0)),i.push(e)},removeOverlay:function(e){i.splice(i.indexOf(e),1),0===i.length&&(document.removeEventListener("keyup",c),document.removeEventListener("pointerdown",l,!0),document.removeEventListener("click",d,!0))},getTopOverlayOptions:s});function p(e){var t=e.visible,n=e.onClose,i=e.essentialRefs,o=e.unsafe_strategy,a=void 0===o?"pressdown":o,s=Object(r.useRef)({onClose:n,refs:i,closeStrategy:a});s.current.onClose=n,s.current.refs=i,Object(r.useEffect)((function(){if(t){var e=s.current;return f.addOverlay(e),function(){f.removeOverlay(e)}}}),[t])}n.d(t,"useOverlay",(function(){return p}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n.n(i),a=n(28),s=n(109),u=(n(1720),Object(a.cn)("Image")),c=function(e){var t=e.src,n=e.src2x,a=e.srcSet,c=e.sizes,l=e.fallbackSrc,d=e.className,f=e.imageClassName,p=e.stub,h=e.alt,m=e.ariaLabel,v=e.onClick,g=e.loading,y=void 0===g?"lazy":g,b=e.width,_=e.height,O=e.borderRadius,E=e.innerRef,w=Object(r.__read)(Object(i.useState)(!1),2),S=w[0],C=w[1],x=Object(r.__read)(Object(i.useState)(!1),2),T=x[0],P=x[1],k=Object(r.__read)(Object(i.useState)(!1),2),j=k[0],R=k[1],I=Object(r.__read)(Object(i.useState)(!1),2),A=I[0],D=I[1],M=Object(i.useRef)(null),N=Object(i.useMemo)((function(){return Object(s.a)(M,E)}),[M,E]),L=t||"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",F=a||(n?n+" 2x":void 0),B=Object(i.useCallback)((function(){if(!M.current)return!1;var e=M.current,t=e.naturalWidth,n=e.naturalHeight;return t>0&&n>0}),[M]);Object(i.useEffect)((function(){var e=setTimeout((function(){S||B()||R(!0)}),50);return function(){return clearTimeout(e)}}),[S,B,R]),Object(i.useEffect)((function(){!S&&M.current&&M.current.complete&&C(!0)}),[S]);var U=Object(i.useCallback)((function(){C(!0)}),[]),z=Object(i.useCallback)((function(){P(!0)}),[]),V=u("Container",[d]),H=u({loaded:S,loading:j,animated:j&&S},[p?void 0:d,f]),W=Object(i.useCallback)((function(){D(!0)}),[]),$={};void 0!==b&&($.width=b),void 0!==_&&($.height=_),void 0!==O&&($.borderRadius=O);var G=o.a.createElement("img",{style:$,alt:h,"aria-hidden":m?"false":"true","aria-label":m,className:H,onAnimationEnd:W,onClick:v,onError:z,onLoad:U,ref:N,src:T&&l?l:L,srcSet:F,sizes:c,loading:y});return p?o.a.createElement("div",{className:V,style:$},j&&!A&&p,G):G};c.displayName=u(),n.d(t,"Image",(function(){return c}))}),,(function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(8),u=n.n(s),c=n(6),l=n.n(c),d=n(7),f=n.n(d),p=n(2),h=n.n(p),m=(n(2316),n(1057),n(0)),v=n.n(m),g=n(16),y=n(26),b=n(256),_=n(500),O=n(74),E=n(20),w=n(35),S=n(23),C=n.n(S),x=n(40),T=n(34),P={INVALID_NAME:function(){return"Название папки не может содержать символ «/»"},NAME_TOO_LONG:function(){return"Название папки не может быть длиннее 255 символов"},FOLDER_EXISTS:function(){return"Выберите другое имя — это уже занято другой папкой или файлом"},OTHER:function(e){return"Не удалось создать папку «"+yr.externals.entityify(e)+"»"}},k=n(80),j=n(84),R=n(56),I=n(14),A=n(11),D=n.n(A);function M(e){var t=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}})();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}n.d(t,"CreateFolderForm",(function(){return L}));var N=function(){return D()()("create-folder-form")},L=(function(e){l()(n,e);var t=M(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._defaultState={folderName:"Новая папка"},r.state=r._defaultState,r._onSubmit=r._onSubmit.bind(u()(r)),r._onChange=r._onChange.bind(u()(r)),r._onTooltipClose=r._onTooltipClose.bind(u()(r)),r._inputRef=v.a.createRef(),r}return a()(n,[{key:"componentDidMount",value:function(){this._doInputFocused(),this.props.createRef&&this.props.createRef(this)}},{key:"componentDidUpdate",value:function(e){e.folderId===this.props.folderId&&e.visible===this.props.visible||this._hideError(),this.props.visible&&!e.visible&&this._doInputFocused()}},{key:"componentWillUnmount",value:function(){this.props.createRef&&this.props.createRef(null)}},{key:"_doInputFocused",value:function(){var e=this;requestAnimationFrame((function(){e._inputRef.current&&(e._inputRef.current.select(),e._inputRef.current.focus())}))}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=this.props.diskWebSelectFolderListingExp?this.props.folderId:ns.Model.get("stateTree").get(".selected");this.props.isSagaOperation?this.props.submitConfirmation({name:this.state.folderName,parentId:t}):this.props.createFolder(t,this.state.folderName),I.default.count("interface elements","select folder dialog","create-folder",this.props.diskWebSelectFolderListingExp?"listing":"tree","submit",t.split("/").length-2)}},{key:"_hideError",value:function(){this.props.createFolderError&&this.props.updateDialog(this.props.dialogName,{createFolderError:null})}},{key:"_onChange",value:function(e){this.setState({folderName:e.target.value}),this._hideError()}},{key:"_onTooltipClose",value:function(){this._hideError()}},{key:"reset",value:function(){this.setState(this._defaultState)}},{key:"render",value:function(){var e=this.props,t=e.creatingFolder,n=e.createFolderError,r=e.disableButton,i=this.state.folderName,o=r||!i;return v.a.createElement("form",{className:N(),onSubmit:this._onSubmit},v.a.createElement(_.Tooltip,{hasTail:!0,view:"default",state:"alert",size:"s",className:N().e("error-popup").toString(),anchor:this._inputRef,direction:["top","bottom"],visible:!!n,onClose:this._onTooltipClose},v.a.createElement("div",{className:N().e("error-popup-text")},n)),v.a.createElement("div",{className:N().e("input-wrapper")},v.a.createElement(b.Textinput,{type:"text",view:"default",size:"s",value:i,name:"newFolderName",controlRef:this._inputRef,onChange:this._onChange}),v.a.createElement(O.Spin,{view:"default",className:N().e("spin"),progress:t,size:"xxs"})),v.a.createElement(y.Button,{view:"raised",size:"s",progress:t,disabled:o,className:N().e("submit"),type:"submit"},"Создать"))}}]),n})(m.Component),F={updateDialog:E.updateDialog,createFolder:function(e,t){return function(n,r){var i=w.default.validateName(t);if(t&&!i){n(Object(E.updateDialog)("selectFolder",{creatingFolder:!0}));var o=C.a.join(e,t);Object(x.a)("do-resource-create-folder",{id:o},{retriesLeft:0,retryOffline:!1}).then((function(){r().dialogs.selectFolder.data.onSubmit({folderId:o,name:t})})).catch((function(e){var r=P.OTHER;e&&e.id&&(r=(function(e){return"HTTP_412"===e||"HTTP_405"===e?T.STATUS_CREATE_FOLDER.EXISTS:T.STATUS_CREATE_FOLDER.UNKNOWN})(e.id)===T.STATUS_CREATE_FOLDER.EXISTS?P.FOLDER_EXISTS:P.OTHER),n(Object(E.updateDialog)("selectFolder",{creatingFolder:!1,createFolderError:r(t)}))}))}else{var a=i===w.NAME_VALIDATION_ERRORS.NAME_EXCEEDS_MAX_LENGTH?"NAME_TOO_LONG":"INVALID_NAME";n(Object(E.updateDialog)("selectFolder",{createFolderError:P[a]()}))}}},submitConfirmation:R.submitConfirmation};t.default=Object(g.connect)((function(e,t){var n=t.dialogName,r=e.dialogs,i=e.environment.session.experiment.disk_web_select_folder_listing_exp,o=r[n],a=o.data,s=a.folderId,u=a.creatingFolder,c=a.createFolderError;return{visible:o.state===E.STATE.OPENED,diskWebSelectFolderListingExp:i,folderId:s,creatingFolder:u,createFolderError:c,isSagaOperation:Object(k.isSagaOperation)(e,j.OperationType.CREATE_FOLDER)}}),F)(L)}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(408),a=n(1001),s=n(250),u=function(e){var t=e.locale,n=e.children,r=Object(o.a)();return i.a.createElement(s.b,null,i.a.createElement(a.a,{locale:t||r.locale},n))};n.d(t,"Provider",(function(){return u}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(208),a=n(277),s=n(94),u=n(207),c=n(413),l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const d=e=>{var{onMouseLeave:t,onMouseEnter:n}=e,r=l(e,["onMouseLeave","onMouseEnter"]);const{inputProps:d,popupProps:f,ctx:p}=Object(u.a)(Object.assign({clearSuggestOnBlur:!0},r));return i.a.createElement(c.a.Provider,{value:p},i.a.createElement("label",{className:s.a.Multisuggest,onMouseEnter:n,onMouseLeave:t,htmlFor:d.id},i.a.createElement(o.a,Object.assign({},d)),i.a.createElement(a.a,Object.assign({},f))))};n(391);var f=n(278),p=n(206),h=n(276);n.d(t,"Multisuggest",(function(){return d})),n.d(t,"useMultisuggestState",(function(){return u.a})),n.d(t,"SuggestInput",(function(){return o.a})),n.d(t,"Suggestion",(function(){return f.a})),n.d(t,"SuggestionsList",(function(){return p.a})),n.d(t,"SuggestPopup",(function(){return a.a})),n.d(t,"PickedItem",(function(){return h.a})),n.d(t,"PickedList",(function(){return h.b}))}),(function(e,t,n){"use strict";n.r(t);var r=n(88),i=n(530),o=n(531),a=n(532),s=n(533),u=n(534),c=n(535);n.d(t,"cnRadiobox",(function(){return r.b})),n.d(t,"Radiobox",(function(){return r.a})),n.d(t,"withSizeM",(function(){return i.a})),n.d(t,"withSizeS",(function(){return o.a})),n.d(t,"withThemeNormal",(function(){return a.a})),n.d(t,"withThemePseudo",(function(){return s.a})),n.d(t,"withViewDefault",(function(){return u.a})),n.d(t,"withViewOutline",(function(){return c.a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e,t){return Object(r.useMemo)((function(){return e||t?function(n){e&&o(e,n),t&&o(t,n)}:null}),[e,t])}function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}n.d(t,"useForkRef",(function(){return i}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e,t){Object(r.useImperativeHandle)(t,(function(){return e.current}))}n.d(t,"useForwardedRef",(function(){return i}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0);function o(e){var t=Object(r.__read)(Object(i.useState)(!1),2),n=t[0],o=t[1],a=Object(i.useRef)({});return a.current={disabled:e.disabled},{isHovered:n,hoverProps:Object(i.useMemo)((function(){var e={onPointerEnter:function(){a.current.disabled||o(!0)},onPointerLeave:function(){o(!1)}};return e}),[])}}n.d(t,"useHover",(function(){return o}))}),(function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e){var t=e.bind,n=e.onAction,i=e.disabled,o=Object(r.useRef)({onAction:n});o.current.onAction=n,Object(r.useEffect)((function(){var e=function(e){t===e.code&&o.current.onAction(e)};return i||document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[i,t])}n.d(t,"useKeyBinding",(function(){return i}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(915),o=n(929),a=n(933),s=n(411);function u(e,t){var n,u=e.as,c=void 0===u?"button":u,l=e.disabled,d=e.href,f=e.target,p=e.rel,h=e.type,m=void 0===h?"button":h,v=(e.tabIndex,e.onPress,e.onPressEnd,e.onPressStart,e.onPressUp,e.preventFocusOnPress,Object(r.__rest)(e,["as","disabled","href","target","rel","type","tabIndex","onPress","onPressEnd","onPressStart","onPressUp","preventFocusOnPress"]));"button"===c?(n={type:m,disabled:l},Object(s.a)()&&(n.autoComplete="off")):n={role:"button",tabIndex:l?void 0:0,href:"a"===c&&l?void 0:d,target:"a"===c?f:void 0,type:"input"===c?m:void 0,disabled:"input"===c?l:void 0,"aria-disabled":l&&"input"!==c?l:void 0,rel:"a"===c?p:void 0};var g=Object(i.a)(e,t).focusableProps,y=Object(o.a)(e),b=y.isPressed,_=y.pressProps;return{buttonProps:Object(a.a)(v,n,g,_),ElementType:c,isPressed:b}}n.d(t,"useButton",(function(){return u}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n(1004);function a(e,t){var n=e.indeterminate,a=void 0!==n&&n,s=Object(r.__rest)(e,["indeterminate"]),u=Object(o.a)(s,t);return Object(i.useEffect)((function(){t.current&&(t.current.indeterminate=a)})),Object(r.__assign)(Object(r.__assign)({},u),{inputProps:Object(r.__assign)(Object(r.__assign)({},u.inputProps),{"aria-checked":a?"mixed":u.inputProps.checked})})}n.d(t,"useCheckbox",(function(){return a}))}),(function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(1004);function o(e,t){var n=Object(i.a)(e,t);return Object(r.__assign)(Object(r.__assign)({},n),{inputProps:Object(r.__assign)(Object(r.__assign)({},n.inputProps),{role:"switch"})})}n.d(t,"useSwitch",(function(){return o}))}),(function(e,t,n){"use strict";n.r(t);var r=n(495);function i(e){var t=Object(r.a)(),n=Object(r.a)(e.id);return{labelProps:{id:t,htmlFor:"label"===e.behavior?n:void 0},fieldProps:{"aria-labelledby":t,id:n}}}n.d(t,"useLabel",(function(){return i}))}),(function(e,t,n){"use strict";n.r(t);var r=n(124),i=n(551),o=n(552),a=n(553),s=n(554);n.d(t,"cnTooltip",(function(){return r.b})),n.d(t,"Tooltip",(function(){return r.a})),n.d(t,"withSizeL",(function(){return i.a})),n.d(t,"withSizeM",(function(){return o.a})),n.d(t,"withSizeS",(function(){return a.a})),n.d(t,"withViewDefault",(function(){return s.a}))}),(function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(1),i=null;function o(e){if(function(){if(null===i){i=!1;try{document.createElement("div").focus({get preventScroll(){return i=!0,!0}})}catch(e){}}return i}())e.focus({preventScroll:!0});else{var t=(function(e){for(var t=[],n=document.scrollingElement||document.documentElement,r=e.parentNode;r instanceof HTMLElement&&r!==n;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;return n instanceof HTMLElement&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),t})(e);e.focus(),(function(e){var t,n;try{for(var i=Object(r.__values)(e),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.element,u=a.scrollTop,c=a.scrollLeft;s.scrollTop=u,s.scrollLeft=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}})(t)}}function a(e,t){if(e)try{t?o(e):e.focus()}catch(e){}}}),,,,,,,,,,,,,,,,,,,,,,,,(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(53),i=n(43);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(71),i=n(53),o=n(43);function a(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),a=Object(r.a)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(a),n)}}),(function(e,t,n){"use strict";function r(e,t,n){return void 0===t&&(t=-1/0),void 0===n&&(n=1/0),Math.min(Math.max(e,t),n)}function i(e,t,n){return e>=t&&e<=n}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))}),(function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(53),i=n(43);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e).getDay();return 0===t||6===t}}),(function(e,t,n){"use strict";var r,i=n(0),o=n.n(i),a=n(1),s=n(2425),u=n(604),c=n(261),l=n(591);!(function(e){e[e.Backward=0]="Backward",e[e.Forward=1]="Forward"})(r||(r={}));var d=(function(){function e(e){this.walker=new u.a(e,function(t){return e!==t&&e.contains(t)&&Object(l.a)(t)})}return e.prototype.findElement=function(e,t){for(var n=e===r.Forward;this.walker.current;n?this.walker.next():this.walker.previous())if(t(this.walker.current))return this.walker.current;return null},e.prototype.findElementWithTabIndex=function(e,t){return this.findElement(t,(function(t){return Object(c.a)(t)===e}))},e.prototype.findFirstElementWithGreaterTabIndex=function(e){return this.findElement(e,(function(e){return Object(c.a)(e)>=0}))},e.prototype.findElementWithGreaterTabIndex=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=null;this.walker.current;this.walker.next()){var r=Object(c.a)(this.walker.current);if(r>e&&(!n||r<t)&&(n=this.walker.current,t=r),t===e+1)break}return this.walker.current=n,n},e.prototype.findElementWithLowerTabIndex=function(e){for(var t=0,n=null;this.walker.current;this.walker.previous()){var r=Object(c.a)(this.walker.current);if(r<e&&r>t&&(n=this.walker.current,t=r),t===e-1)break}return this.walker.current=n,n},e.prototype.findNextFocusable=function(e){var t=this.walker.current,n=t?Object(c.a)(t):0;if(t){if(!e)return this.walker.next();if(n>=0){this.walker.next();var i=this.findElementWithTabIndex(n,r.Forward);if(i)return i}else{var o=this.findFirstElementWithGreaterTabIndex(r.Forward);if(o)return o}if(0===n)return null}if(this.walker.first(),!e)return this.walker.current;var a=this.findElementWithGreaterTabIndex(n);return a||(this.walker.first(),this.findElementWithTabIndex(0,r.Forward))},e.prototype.findPreviousFocusable=function(e){var t=this.walker.current;if(t?this.walker.previous():this.walker.last(),!e)return this.walker.current;var n,i=t?Object(c.a)(t):0;if(i<0){if(n=this.findFirstElementWithGreaterTabIndex(r.Backward))return n}else if(n=this.findElementWithTabIndex(i,r.Backward))return n;return this.walker.last(),this.findElementWithLowerTabIndex(i>0?i:Number.MAX_SAFE_INTEGER)},Object.defineProperty(e.prototype,"scope",{get:function(){return this.walker.root},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.walker.current},enumerable:!1,configurable:!0}),e.prototype.next=function(e){void 0===e&&(e={});var t=e.tabbable,n=e.from,r=e.wrap;void 0!==n&&(this.walker.current=n);var i=this.findNextFocusable(t);return!i&&r?this.findNextFocusable(t):i},e.prototype.previous=function(e){void 0===e&&(e={});var t=e.tabbable,n=e.from,r=e.wrap;void 0!==n&&(this.walker.current=n);var i=this.findPreviousFocusable(t);return!i&&r?this.findPreviousFocusable(t):i},e.prototype.first=function(e){return this.next({from:null,tabbable:e})},e.prototype.last=function(e){return this.previous({from:null,tabbable:e})},e})();n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var f=Object(i.createContext)(null),p=function(e){var t=e.scopeRef,n=e.autoFocus,r=e.children,u=Object(i.useMemo)((function(){return (function(e){var t=null;function n(n){return e.current&&(null===t||void 0===t?void 0:t.scope)!==e.current&&(t=new d(e.current)),t?n(t):null}return{focusFirst:function(e){void 0===e&&(e={});var t=e.preventScroll,r=e.tabbable,i=n((function(e){return e.first(r)}));return Object(s.a)(i,t),i},focusLast:function(e){void 0===e&&(e={});var t=e.preventScroll,r=e.tabbable,i=n((function(e){return e.last(r)}));return Object(s.a)(i,t),i},focusNext:function(e){void 0===e&&(e={});var t=e.preventScroll,r=Object(a.__rest)(e,["preventScroll"]),i=n((function(e){return e.next(r)}));return Object(s.a)(i,t),i},focusPrevious:function(e){void 0===e&&(e={});var t=e.preventScroll,r=Object(a.__rest)(e,["preventScroll"]),i=n((function(e){return e.previous(r)}));return Object(s.a)(i,t),i}}})(t)}),[t]);return Object(i.useEffect)((function(){n&&u.focusFirst()}),[]),o.a.createElement(f.Provider,{value:u},r)};function h(){var e=Object(i.useContext)(f);if(!e)throw new Error("Could not find focus manager context value. Please ensure the component is wrapped in a <FocusManagerScope />");return e}})]);